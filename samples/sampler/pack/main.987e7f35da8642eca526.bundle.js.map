{"version":3,"sources":["webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Skinnable/util.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Skinnable/useSkins.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Skinnable/Skinnable.js","webpack:////Users/yb.sung/Documents/_Work/agate/Skinnable/Skinnable.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Breadcrumb.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Arrangers.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Breadcrumbs.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/BreadcrumbDecorator.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/BreadcrumbPanels.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Panel.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/index.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Resizable/Resizable.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/Pause/Pause.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/src/pointer.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Touchable/Drag.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Touchable/Flick.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Touchable/Hold.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Touchable/config.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Touchable/state.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Touchable/ClickAllow.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Touchable/Touchable.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useControlledState/useControlledState.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Toggleable/Toggle.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Toggleable/useToggle.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Toggleable/Toggleable.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/dispatcher/listeners.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/dispatcher/dispatcher.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ComponentOverride/ComponentOverride.js","webpack:///./node_modules/nested-object-assign/lib sync ^\\.\\/.*$","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/src/wrapIlibCallback.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/I18nDecorator/getI18nClasses.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/I18nDecorator/windowFocus.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/I18nDecorator/I18n.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/I18nDecorator/useI18n.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/I18nDecorator/useI18nContext.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/I18nDecorator/I18nDecorator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/ScrollAnimator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/useScroll.js","webpack:////Users/yb.sung/Documents/_Work/agate/Icon/IconList.js","webpack:////Users/yb.sung/Documents/_Work/agate/Icon/Icon.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/LabeledIcon/LabeledIcon.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/ScrollbarTrack.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/Scrollbar.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Layout/Cell.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Layout/Layout.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ViewManager/Arranger.js","webpack:////Users/yb.sung/Documents/_Work/agate/internal/Picker/Picker.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ViewManager/TransitionGroup.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ViewManager/View.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ViewManager/ViewManager.js","webpack:////Users/yb.sung/Documents/_Work/agate/BodyText/BodyText.js","webpack:////Users/yb.sung/Documents/_Work/agate/Slider/Slider.js","webpack:////Users/yb.sung/Documents/_Work/agate/Header/Header.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Transition/Transition.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/FloatingLayer/FloatingLayerDecorator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/FloatingLayer/Scrim.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/FloatingLayer/FloatingLayer.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/FloatingLayer/index.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Button/Button.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/BodyText/BodyText.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/platform/platform.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/resolution/resolution.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/resolution/ResolutionDecorator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/resolution/index.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/src/dates.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/src/packedbuffer.js","webpack:////Users/yb.sung/Documents/_Work/agate/Scroller/useEvent.js","webpack:////Users/yb.sung/Documents/_Work/agate/Scroller/useThemeScroller.js","webpack:////Users/yb.sung/Documents/_Work/agate/Scroller/useSpotlight.js","webpack:////Users/yb.sung/Documents/_Work/agate/Scroller/Scroller.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Marquee/MarqueeController.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Marquee/MarqueeDecorator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Marquee/index.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ImageItem/ImageItem.js","webpack:////Users/yb.sung/Documents/_Work/agate/ImageItem/ImageItem.js","webpack:////Users/yb.sung/Documents/_Work/agate/Dropdown/Dropdown.js","webpack:///./stories/default sync nonrecursive .js$","webpack:///./stories/default/BodyText.js","webpack:///./stories/default/Button.js","webpack:///./stories/default/Checkbox.js","webpack:///./stories/default/CheckboxItem.js","webpack:///./stories/default/ColorPicker.js","webpack:///./stories/default/ContextualPopupDecorator.js","webpack:///./stories/default/DateTimePicker.js","webpack:///./stories/default/Drawer.js","webpack:///./stories/default/Dropdown.js","webpack:///./stories/default/Header.js","webpack:///./stories/default/Heading.js","webpack:///./stories/default/Icon.js","webpack:///./stories/default/ImageItem.js","webpack:///./stories/default/ImageItemKitchenSink.js","webpack:///./stories/default/IncrementSlider.js","webpack:////Users/yb.sung/Documents/_Work/agate/Button/Button.js","webpack:///./stories/default/Input.js","webpack:///./stories/default/Item.js","webpack:///./stories/default/ItemKitchenSink.js","webpack:///./stories/default/LabeledIcon.js","webpack:///./stories/default/LabeledIconButton.js","webpack:///./stories/default/Panel.js","webpack:///./stories/default/Panels.js","webpack:///./stories/default/Picker.js","webpack:///./stories/default/Popup.js","webpack:///./stories/default/PopupMenu.js","webpack:///./stories/default/ProgressBar.js","webpack:///./stories/default/RadioItem.js","webpack:///./stories/default/RangePicker.js","webpack:///./stories/default/Scroller.js","webpack:///./stories/default/Slider.js","webpack:///./stories/default/SliderButton.js","webpack:///./stories/default/Spinner.js","webpack:///./stories/default/SwitchItem.js","webpack:///./stories/default/TabbedPanels.js","webpack:///./stories/default/Thumbnail.js","webpack:///./stories/default/ThumbnailItem.js","webpack:///./stories/default/ToggleButton.js","webpack:///./stories/default/TooltipDecorator.js","webpack:///./stories/default/VirtualList.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/ApplicationCloseButton.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Controls.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Viewport.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Panels.js","webpack:////Users/yb.sung/Documents/_Work/agate/Item/Item.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/internal/deprecate/deprecate.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/internal/prop-types/prop-types.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/locale/locale.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Slider/utils.js","webpack:////Users/yb.sung/Documents/_Work/agate/Slider/utils.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/useEvent.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/useScrollbar.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/useSpotlight.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/useScroll.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/useThemeScrollContentHandle.js","webpack:////Users/yb.sung/Documents/_Work/agate/ToggleButton/ToggleButton.js","webpack:////Users/yb.sung/Documents/_Work/agate/ThumbnailItem/ThumbnailItem.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/ScrollButton.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/ScrollButtons.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/ScrollbarTrack.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/Scrollbar.js","webpack:////Users/yb.sung/Documents/_Work/agate/ContextualPopupDecorator/ContextualPopup.module.less?6dc4","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/SharedStateDecorator.js","webpack:////Users/yb.sung/Documents/_Work/agate/LabeledIconButton/LabeledIconButton.js","webpack:////Users/yb.sung/Documents/_Work/agate/Input/InputDecoratorIcon.js","webpack:////Users/yb.sung/Documents/_Work/agate/Input/pointer.js","webpack:////Users/yb.sung/Documents/_Work/agate/Input/InputSpotlightDecorator.js","webpack:////Users/yb.sung/Documents/_Work/agate/Input/Input.js","webpack:////Users/yb.sung/Documents/_Work/agate/Input/util.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/VirtualList/UiVirtualListBase.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/VirtualList/VirtualListBasic.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/VirtualList/VirtualList.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/useScroll.module.less?7187","webpack:////Users/yb.sung/Documents/_Work/agate/internal/Picker/Picker.module.less?a18f","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/VirtualList/VirtualList.module.less?671f","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/keymap/keymap.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/keymap/index.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/src/case.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Icon/Icon.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/Scrollbar.module.less?6940","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ProgressBar/ProgressBar.js","webpack:////Users/yb.sung/Documents/_Work/agate/Popup/PopupState.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Repeater/Repeater.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/internal/selection/selection.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Group/GroupItem.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Group/Group.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/src/resBundle.js","webpack:////Users/yb.sung/Documents/_Work/agate/LabeledIcon/LabeledIcon.js","webpack:////Users/yb.sung/Documents/_Work/agate/Checkbox/Checkbox.js","webpack:////Users/yb.sung/Documents/_Work/agate/CheckboxItem/CheckboxItem.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Item/Item.js","webpack:////Users/yb.sung/Documents/_Work/agate/RadioItem/RadioItem.js","webpack:////Users/yb.sung/Documents/_Work/agate/TooltipDecorator/Tooltip.module.less?7803","webpack:///./src/ThemeEnvironment/ThemeEnvironment.module.less?f24b","webpack:////Users/yb.sung/Documents/_Work/agate/TimePicker/TimePicker.module.less?7568","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/VirtualList/UiVirtualList.module.less?9da6","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Marquee/MarqueeBase.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/internal/validators/validators.js","webpack:////Users/yb.sung/Documents/_Work/agate/RangePicker/RangePicker.js","webpack:////Users/yb.sung/Documents/_Work/agate/Picker/Picker.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Spinner/Spinner.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/FloatingLayer/Scrim.module.less?a1f8","webpack:////Users/yb.sung/Documents/_Work/agate/DatePicker/DatePicker.module.less?3fde","webpack:////Users/yb.sung/Documents/_Work/agate/Drawer/Drawer.js","webpack:////Users/yb.sung/Documents/_Work/agate/IncrementSlider/IncrementSlider.module.less?5fc2","webpack:////Users/yb.sung/Documents/_Work/agate/ProgressBar/ProgressBar.js","webpack:////Users/yb.sung/Documents/_Work/agate/SliderButton/SliderButton.js","webpack:////Users/yb.sung/Documents/_Work/agate/Spinner/Spinner.js","webpack:////Users/yb.sung/Documents/_Work/agate/ColorPicker/SwatchButton.js","webpack:////Users/yb.sung/Documents/_Work/agate/ColorPicker/ColorPicker.js","webpack:////Users/yb.sung/Documents/_Work/agate/IncrementSlider/IncrementSliderButton.js","webpack:////Users/yb.sung/Documents/_Work/agate/IncrementSlider/IncrementSlider.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/util/Job.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/util/util.js","webpack:////Users/yb.sung/Documents/_Work/agate/TabGroup/TabGroup.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/TabbedPanels.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/src/utils.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/useHandlers/useHandlers.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/useClass/useClass.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/useHandlers/Handlers.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Layout/Layout.module.less?b312","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/snapshot/snapshot.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/Accelerator/Accelerator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Measurable/Measurable.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/utilEvent.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/IdProvider.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/CancelDecorator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Marquee/Marquee.module.less?e750","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Slider/Slider.module.less?a412","webpack:////Users/yb.sung/Documents/_Work/agate/Slider/SliderBehaviorDecorator.js","webpack:////Users/yb.sung/Documents/_Work/agate/internal/DateComponentPicker/DateComponentPicker.module.less?70c7","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Image/Image.js","webpack:////Users/yb.sung/Documents/_Work/agate/Image/Image.js","webpack:////Users/yb.sung/Documents/_Work/agate/Input/Input.module.less?e6ef","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Scroller/ScrollerBasic.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Scroller/UiScrollerBase.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Scroller/Scroller.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Slider/Knob.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Slider/PositionDecorator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Slider/Slider.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/internal/IdProvider/Provider.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/internal/IdProvider/useId.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/internal/IdProvider/IdProvider.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Cancelable/cancelHandler.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Cancelable/modalHandler.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Cancelable/Cancelable.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ToggleIcon/ToggleIcon.js","webpack:////Users/yb.sung/Documents/_Work/agate/internal/ToggleIcon/ToggleIcon.js","webpack:////Users/yb.sung/Documents/_Work/agate/Popup/Popup.js","webpack:////Users/yb.sung/Documents/_Work/agate/SliderButton/SliderButton.module.less?ce15","webpack:////Users/yb.sung/Documents/_Work/agate/internal/DateTime/DateTime.js","webpack:////Users/yb.sung/Documents/_Work/agate/internal/DateTime/DateTimeDecorator.js","webpack:////Users/yb.sung/Documents/_Work/agate/internal/DateTime/index.js","webpack:////Users/yb.sung/Documents/_Work/agate/internal/DateComponentPicker/DateComponentPicker.js","webpack:////Users/yb.sung/Documents/_Work/agate/internal/DateComponentPicker/DateComponentRangePicker.js","webpack:////Users/yb.sung/Documents/_Work/agate/DatePicker/DatePickerBase.js","webpack:////Users/yb.sung/Documents/_Work/agate/DatePicker/DatePicker.js","webpack:////Users/yb.sung/Documents/_Work/agate/TimePicker/TimePickerBase.js","webpack:////Users/yb.sung/Documents/_Work/agate/TimePicker/TimePicker.js","webpack:////Users/yb.sung/Documents/_Work/agate/DateTimePicker/DateTimePicker.js","webpack:////Users/yb.sung/Documents/_Work/agate/Switch/Switch.js","webpack:////Users/yb.sung/Documents/_Work/agate/SwitchItem/SwitchItem.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/hoc/hoc.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/internal/Pure/Pure.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/Spottable/Spottable.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/handle/handle.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/src/Loader.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/src/glue.js","webpack:////Users/yb.sung/Documents/_Work/agate/ThemeDecorator/ThemeDecorator.module.less?1ec2","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Panel.module.less?6586","webpack:////Users/yb.sung/Documents/_Work/agate/ToggleButton/ToggleButton.module.less?8011","webpack:////Users/yb.sung/Documents/_Work/agate/TabGroup/TabGroup.module.less?7cb1","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/ScrollbarTrack.module.less?291c","webpack:////Users/yb.sung/Documents/_Work/agate/Item/Item.module.less?5510","webpack:////Users/yb.sung/Documents/_Work/agate/DateTimePicker/DateTimePicker.module.less?87ce","webpack:///./stories/default/Heading.module.less?4fff","webpack:////Users/yb.sung/Documents/_Work/agate/Popup/Popup.module.less?1d41","webpack:////Users/yb.sung/Documents/_Work/agate/PopupMenu/PopupMenu.js","webpack:////Users/yb.sung/Documents/_Work/agate/Spinner/Spinner.module.less?5039","webpack:////Users/yb.sung/Documents/_Work/agate/VirtualList/useEvent.js","webpack:////Users/yb.sung/Documents/_Work/agate/VirtualList/usePreventScroll.js","webpack:////Users/yb.sung/Documents/_Work/agate/VirtualList/useSpotlight.js","webpack:////Users/yb.sung/Documents/_Work/agate/VirtualList/useThemeVirtualList.js","webpack:////Users/yb.sung/Documents/_Work/agate/VirtualList/VirtualList.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Heading/Heading.js","webpack:////Users/yb.sung/Documents/_Work/agate/Heading/Heading.js","webpack:////Users/yb.sung/Documents/_Work/agate/internal/$L/$L.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Slottable/useSlots.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Slottable/Slottable.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/src/spotlight.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Changeable/Changeable.js","webpack:///./node_modules/ilib/lib sync ^$","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/src/zoneinfo.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Heading/Heading.module.less?90c3","webpack:////Users/yb.sung/Documents/_Work/agate/Heading/Heading.module.less?62cf","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/utilDOM.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Icon/Icon.module.less?1a1d","webpack:////Users/yb.sung/Documents/_Work/agate/Icon/Icon.module.less?abdd","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Button/Button.module.less?3e42","webpack:////Users/yb.sung/Documents/_Work/agate/Button/Button.module.less?85be","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/LabeledIcon/LabeledIcon.module.less?108b","webpack:////Users/yb.sung/Documents/_Work/agate/LabeledIcon/LabeledIcon.module.less?f742","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/TabbedPanels.module.less?316e","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/Scrollbar.module.less?4850","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Scroller/Scroller.module.less?e9c0","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Scroller/UiScroller.module.less?fb3c","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/BodyText/BodyText.module.less?39f0","webpack:////Users/yb.sung/Documents/_Work/agate/BodyText/BodyText.module.less?3ea6","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/kind/computed.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/kind/util.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/kind/styles.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/kind/kind.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ToggleIcon/ToggleIcon.module.less?b665","webpack:////Users/yb.sung/Documents/_Work/agate/Checkbox/Checkbox.module.less?d1a9","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Item/Item.module.less?c6d3","webpack:////Users/yb.sung/Documents/_Work/agate/CheckboxItem/CheckboxItem.module.less?b035","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Transition/Transition.module.less?c38e","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ProgressBar/ProgressBar.module.less?779e","webpack:////Users/yb.sung/Documents/_Work/agate/Slider/Slider.module.less?845f","webpack:////Users/yb.sung/Documents/_Work/agate/ColorPicker/SwatchButton.module.less?172c","webpack:////Users/yb.sung/Documents/_Work/agate/ColorPicker/ColorPicker.module.less?2bb0","webpack:////Users/yb.sung/Documents/_Work/agate/ContextualPopupDecorator/ContextualPopupDecorator.module.less?68ab","webpack:////Users/yb.sung/Documents/_Work/agate/internal/DateTime/DateTime.module.less?8764","webpack:////Users/yb.sung/Documents/_Work/agate/Drawer/Drawer.module.less?cce8","webpack:///./stories/default/Drawer.module.less?1415","webpack:////Users/yb.sung/Documents/_Work/agate/RadioItem/RadioItem.module.less?aa0e","webpack:////Users/yb.sung/Documents/_Work/agate/Dropdown/Dropdown.module.less?fec5","webpack:////Users/yb.sung/Documents/_Work/agate/Header/Header.module.less?a67e","webpack:///./images/icon-enact-docs.png","webpack:///./images/icon-enact-factory.svg","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ForwardRef/ForwardRef.js","webpack:///./images/icon-enact-logo.svg","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Image/Image.module.less?50dc","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ImageItem/ImageItem.module.less?bdaf","webpack:////Users/yb.sung/Documents/_Work/agate/Image/Image.module.less?f956","webpack:////Users/yb.sung/Documents/_Work/agate/ImageItem/ImageItem.module.less?f23f","webpack:////Users/yb.sung/Documents/_Work/agate/IncrementSlider/IncrementSliderButton.module.less?d0b5","webpack:////Users/yb.sung/Documents/_Work/agate/LabeledIconButton/LabeledIconButton.module.less?b354","webpack:////Users/yb.sung/Documents/_Work/agate/PopupMenu/PopupMenu.module.less?4d23","webpack:///./stories/default/PopupMenu.module.less?1865","webpack:////Users/yb.sung/Documents/_Work/agate/ProgressBar/ProgressBar.module.less?c5f1","webpack:///./stories/default/icons.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Spinner/Spinner.module.less?1e82","webpack:////Users/yb.sung/Documents/_Work/agate/Switch/Switch.module.less?aa78","webpack:////Users/yb.sung/Documents/_Work/agate/SwitchItem/SwitchItem.module.less?f49b","webpack:////Users/yb.sung/Documents/_Work/agate/ThumbnailItem/ThumbnailItem.module.less?81de","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/util/util.js","webpack:////Users/yb.sung/Documents/_Work/agate/TooltipDecorator/TooltipLabel.js","webpack:////Users/yb.sung/Documents/_Work/agate/TooltipDecorator/Tooltip.js","webpack:////Users/yb.sung/Documents/_Work/agate/TooltipDecorator/util.js","webpack:////Users/yb.sung/Documents/_Work/agate/TooltipDecorator/TooltipDecorator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/SpotlightRootDecorator/SpotlightRootDecorator.js","webpack:////Users/yb.sung/Documents/_Work/agate/ThemeDecorator/ThemeDecorator.js","webpack:///./src/ThemeEnvironment/ThemeEnvironment.js","webpack:///./src/configure.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/internal/ApiDecorator/ApiDecorator.js","webpack:////Users/yb.sung/Documents/_Work/agate/ContextualPopupDecorator/ContextualPopup.js","webpack:////Users/yb.sung/Documents/_Work/agate/ContextualPopupDecorator/ContextualPopupDecorator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/src/navigate.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/src/target.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/src/container.js","webpack:///./.storybook/config.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/SpotlightContainerDecorator/SpotlightContainer.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/SpotlightContainerDecorator/useSpotlightContainer.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/SpotlightContainerDecorator/SpotlightContainerDecorator.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Panels.module.less?b66c"],"names":["objectify","arg","split","Array","reduce","obj","a","SkinContext","React","createContext","useSkins","config","defaultSkin","defaultVariants","skin","skins","skinVariants","variants","parentSkin","parentVariants","useContext","effectiveSkin","determineSkin","authorSkin","effectiveVariants","useMemo","determineVariants","allowedVariants","authorVariants","mergedObj","Object","keys","forEach","key","b","preferDefined","includes","className","getClassName","classnames","value","provideSkins","useCallback","children","Provider","Skinnable","hoc","variantsProp","prop","Wrapped","rest","hook","allClassNames","propTypes","PropTypes","string","oneOfType","array","object","carbon","cobalt","copper","electro","gallium","silicon","titanium","UiSkinnable","SpottableDiv","Spottable","BreadcrumbBase","kind","name","index","number","isRequired","onClick","func","onSelect","styles","css","handlers","handle","forward","adaptEvent","ev","type","render","aria-label","$L","data-index","breadcrumbContent","animationOptions","easing","offsetForBreadcrumbs","node","isFirst","dataset","unit","scale","PanelsArranger","enter","arrange","transform","leave","stay","positionBreadcrumb","crumbIndex","from","to","reverse","keyframes","BreadcrumbArranger","Breadcrumbs","id","max","breadcrumbs","i","Math","Breadcrumb","Icon","BreadcrumbDecorator","panelArranger","cfgClassName","calcMax","coerceFunction","Decorator","arrayOf","childProps","generateId","noAnimation","bool","onSelectBreadcrumb","defaultProps","handleBreadcrumbWillTransition","current","Spotlight","getCurrent","document","querySelector","contains","blur","computed","x","isArray","start","Children","toArray","slice","map","child","props","isValidElement","cloneElement","createElement","updatedChildProps","assign","ariaOwns","push","unshift","join","count","invariant","ViewManager","arranger","duration","end","onWillTransition","CancelDecorator","cancel","IdProvider","BreadcrumbPanels","compose","Slottable","slots","Measurable","refProp","measurementProp","BreadcrumbPanelsDecorator","PanelsBase","displayName","panelId","PanelBase","autoFocus","header","hideChildren","componentCss","publicClassNames","onScroll","currentTarget","scrollTop","scrollLeft","spotOnRender","spotlightId","enterTo","defaultElement","set","focus","bodyClassName","styler","body","noHeader","visible","headerId","label","role","aria-labelledby","ref","Panel","SpotlightContainerDecorator","continue5WayHold","spotlightDefaultClass","preserveId","Panels","ResizeContext","filter","resize","Component","handleResize","call","bind","this","componentDidMount","context","resizeRegistry","componentWillUnmount","unregister","invalidateBounds","notify","action","contextType","paused","pause","resume","isPaused","Pause","constructor","toString","_pointerMode","setPointerMode","pointerMode","getPointerMode","_pointerX","_pointerY","hasPointerMoved","y","getLastPointerPosition","hidePointerJob","Job","callback","notifyPointerMove","target","priorPointerMode","updatePointerPosition","notifyKeyDown","keyCode","palmSystem","window","PalmSystem","is","cursor","visibility","Tracking","Drag","dragConfig","isDragging","setContainerBounds","global","isGlobal","boxSizing","bounds","minX","minY","maxX","innerWidth","maxY","innerHeight","getBoundingClientRect","computedStyle","getComputedStyle","left","parseInt","paddingLeft","top","paddingTop","right","paddingRight","bottom","paddingBottom","updatePosition","clientX","clientY","clamp","begin","noResume","onDrag","onDragEnd","onDragStart","coords","tracking","startX","startY","move","updateProps","moveTolerance","dx","dy","sqrt","defaultDragConfig","dragConfigPropType","shape","Flick","maxDuration","maxMoves","minVelocity","onFlick","cancelJob","startAfter","moves","length","flickConfig","t","performance","now","shift","stop","last","m","dt","vx","vy","abs","v","vertical","direction","velocityX","velocityY","velocity","isTracking","defaultFlickConfig","flickConfigPropType","maxVelocity","Hold","isHolding","holdConfig","isWithinTolerance","defaultConfig","onHold","onHoldEnd","onHoldPulse","events","sort","time","pulsing","next","holdStart","startJob","cancelOnMove","shouldEnd","suspend","clearInterval","holdJob","handlePulse","holdTime","n","frequency","setInterval","defaultHoldConfig","holdConfigPropType","allowedDragKeys","allowedFlickKeys","allowedHoldKeys","clone","o","mergeGestureConfig","update","allowed","cfg","indexOf","mergeConfig","merged","drag","flick","hold","configure","States","setActive","state","active","activate","deactivate","_lastTouchEnd","timeStamp","ClickAllow","lastTouchEndTime","lastMouseUpTime","setLastTouchEnd","setLastMouseUp","shouldAllowMouseEvent","platform","ios","shouldAllowMouseDown","shouldAllowTap","getEventCoordinates","targetTouches","makeTouchableEvent","pageX","pageY","changedTouches","isEnabled","forProp","handleDown","forwardWithPrevent","named","handleUp","finally","handleEnter","handleLeave","oneOf","returnsTrue","handleMouseDown","handleMouseEnter","handleMouseMove","handleMouseLeave","handleMouseUp","handleClick","handleTouchStart","handleTouchMove","handleTouchEnd","complement","handleGlobalUp","handleGlobalMove","handleBlur","Touchable","activeProp","super","prevDisabled","disabled","targetHadFocus","clickAllow","bindAs","touch","on","componentDidUpdate","prevProps","clearTarget","off","setTarget","setState","startTouch","preventDefault","targetBounds","endTouch","startGesture","activeElement","moveGesture","enterGesture","leaveGesture","blurGesture","endGesture","hasFocus","hasTouchLeftTarget","hasLeft","containsCurrentTarget","addHandlers","onMouseDown","onMouseLeave","onMouseMove","onMouseEnter","onMouseUp","onBlur","onTouchStart","onTouchMove","onTouchEnd","onDown","onTap","onUp","nop","createHandler","onChange","currentValue","controlled","calcValue","defaultValue","propValue","stateValue","undefined","useControlledState","isControlled","useRef","useState","memoOnChange","not","makeEvent","Toggle","handleActivate","onToggle","handleDeactivate","handleToggle","setContext","Boolean","useToggle","defaultSelected","selected","toggle","useClass","ToggleableHOC","eventProps","toggleProp","defaultPropKey","cap","forwardWithEventProps","eventName","pick","forwardActivate","forwardDeactivate","forwardToggle","forwardToggleProp","toggleHandlers","onActivate","onDeactivate","Toggleable","updated","propSelected","useHandlers","instance","targets","getListeners","targetIndex","listeners","getDefaultTarget","invoker","curry","fn","e","console","error","message","dispatcher","inv","addListener","addEventListener","splice","removeEventListener","ComponentOverride","component","webpackContext","req","webpackContextResolve","__webpack_require__","Error","code","webpackContextKeys","resolve","module","exports","invoke","options","onLoad","result","wrapIlibCallback","sync","Promise","base","all","fns","complete","done","getI18nClasses","LocaleInfo","li","getClassesForLocale","locale","getLocale","latinLanguageOverrides","nonLatinLanguageOverrides","isNonLatinLocale","isNonLatin","isRtlLocale","isRtl","classes","scriptName","getScript","getLanguage","getRegion","focused","queue","Set","flush","onWindowReady","I18n","resources","handleLocaleChange","handler","updateLocale","add","newLocale","loadResources","_locale","_ready","_onLoadResources","loadResourceJob","normalizeResources","onLoadResources","res","resource","load","unload","spec","rtl","bundle","createResBundle","loaded","setResBundle","then","rtlResult","classNameResult","bundleResult","userResources","promise","useI18n","ilibLocale","ilib","i18n","useEffect","I18nContext","useI18nContext","I18nDecorator","i18nClassName","I18nContextDecorator","localeProp","rtlProp","updateLocaleProp","loadedProp","i18nContext","timingFunctions","source","curTime","clampVelocity","ScrollAnimator","rAFId","timingFunction","simulate","sourceX","sourceY","stepX","stepY","deltaX","deltaY","targetX","targetY","animate","rAFCallbackFuntion","rAF","requestAnimationFrame","startTimeStamp","perfNow","isAnimating","cAF","cancelAnimationFrame","constants","animationDuration","epsilon","isPageDown","isPageUp","overscrollTypeNone","overscrollTypeHold","overscrollTypeOnce","overscrollTypeDone","overscrollVelocityFactor","paginationPageMultiplier","scrollStopWaiting","scrollWheelPageMultiplierForMaxPixel","TouchableDiv","ForwardRef","componentRef","useScrollBase","clientSize","voiceDisabled","voiceFocused","voiceGroupLabel","assignProperties","dataSize","horizontalScrollbar","horizontalScrollbarHandle","itemRenderer","itemSize","itemSizes","noScrollByDrag","noScrollByWheel","overhang","overscrollEffectOn","pageScroll","scrollContainerRef","scrollContentHandle","scrollContentRef","scrollMode","setScrollContainerHandle","spacing","spotlightContainerDisabled","verticalScrollbar","verticalScrollbarHandle","wrap","scrollClasses","classNames","scroll","addEventListeners","applyOverscrollEffect","cbScrollTo","clearOverscrollEffect","handleResizeWindow","onKeyDown","onScrollStart","onScrollStop","onWheel","removeEventListeners","scrollStopOnScroll","scrollTo","forceUpdate","useReducer","isHorizontalScrollbarVisible","setIsHorizontalScrollbarVisible","isVerticalScrollbarVisible","setIsVerticalScrollbarVisible","mutableRef","overscrollEnabled","animationInfo","pixelPerLine","scrollWheelMultiplierForDeltaPixel","deferScrollTo","isScrollAnimationTargetAccumulated","lastInputType","overscrollStatus","horizontal","before","ratio","after","clientWidth","clientHeight","scrollWidth","scrollHeight","maxTop","maxLeft","wheelDirection","isTouching","scrolling","scrollToInfo","animator","accumulatedTargetX","accumulatedTargetY","flickTarget","dragStartX","dragStartY","scrollStopJob","prevState","useLayoutEffect","calculateDistanceByWheel","canScrollHorizontally","canScrollVertically","checkAndApplyOverscrollEffect","getScrollBounds","val","scrollToAccumulatedTarget","setOverscrollStatus","showScrollbarTrack","startHidingScrollbarTrack","containerRef","ResizeObserver","resizeObserver","syncClientSize","observe","disconnect","parent","forwardScrollEvent","getReachedEdgeInfo","utilEvent","passive","style","scrollBehavior","enqueueForceUpdate","calculateMetrics","propsHandleResizeWindow","setTimeout","position","scrollToPosition","getRtlX","deltaMode","delta","maxPixel","ri","stopPropagation","canScrollH","canScrollV","eventDeltaMode","eventDelta","wheelDeltaY","dir","sign","wheel","overscrollEffectRequired","needToHideScrollbarTrack","getContainerRef","utilDOM","containsDangerously","scrollStartOnScroll","safari","setScrollLeft","setScrollTop","didScroll","scrollByPage","pageDistance","pageKey","overscrollEffect","getEdgeFromPosition","maxPosition","orientation","edge","overscrollEffectType","status","getOverscrollStatus","isVertical","curPos","maxPos","clearAllOverscrollEffects","applyOverscrollEffectOnDrag","targetPosition","oppositeEdge","calculateOverscrollRatio","baseSize","overDistance","min","checkAndApplyOverscrollEffectOnDrag","checkAndApplyOverscrollEffectOnScroll","checkAndApplyOverscrollEffectOnStart","reachedEdgeInfo","moreInfo","getMoreInfo","updateScrollbarTrack","doScrollStop","updatedAnimationInfo","setScrollPositionTarget","scrollAnimation","toBeContinued","curTargetX","curTargetY","setScrollPosition","stopForTranslate","stopForNative","opt","getPositionForScrollTo","itemPos","align","getItemPosition","stickTo","offset","nodeType","getNodePosition","setScrollToPositionTarget","isNaN","scrollbarRef","updateScrollbarTrackSize","curHorizontalScrollbarVisible","curVerticalScrollbarVisible","updatedBounds","Registry","create","run","hasDataSizeChanged","clampScrollPosition","updateScrollbars","scrollInnerContainer","scrollContentWrapper","scrollContentWrapperNative","voiceProps","scrollFill","handleScroll","getRtlPositionX","scrollContainerContainsDangerously","corner","register","assignPropertiesOf","properties","property","useScroll","itemRefs","collectionOfProperties","scrollbarHandle","iconList","circlelarge","squarelarge","triangleup","plus","minus","arrowup","arrowdown","arrowleftturn","arrowrightturn","arrowharpoonright","ellipsis","check","arrowstraightup","arrowuturn","arrowlargedown","arrowlargeup","arrowlargeleft","arrowlargeright","closex","search","bluetooth2","bluetoothoff","bright1","bright2","bluetooth","usb","volume0","volume1","volume2","wifi","happyface","notification","pairing","user","calendar","edit","gallery","internet","music","video","circle","previous","pairingdisplay","box","play","previoustrack","nexttrack","repeat","shuffle","setting","popupstop","accept","decline","carspeaker","speaker","earphone","detail","install","send","netbook","pad","mobile","backapp","uninstall","rain","raindrops","raincloud","snow","cloud","ice","fog","sun","profileA1","profileA2","profileA3","profileA4","profileB1","profileB2","profileB3","profileB4","profileC1","profileC2","profileC3","profileC4","ac","auto","airmode","airdown","airright","airup","heatseatleft","heatseatright","aircirculation","fan","defrosterfront","defrosterback","airflow","home","temperature","compass","phone","fanoff","datetime","display","seatbelt","apps","climate","dashboard","expand","radio","rearscreen","weather","fullscreen","menu","history","browser","lock","search2","bookmark","star","starhollow","starhalf","refresh","pausebold","playbold","controls","diagnostics","mapbox","displaycontrol","controlleft","controlright","mainpage","playlist","trailer","plusbold","minusbold","iconListSilicon","arrowleft","arrowturnleft","arrowturnright","backspace","triangle","trianglehollow","rewind","rewindprevious","stopsquare","fastforwardnext","fastforward","callaccept","calldecline","calldialing","callmissed","callreceiving","devicesetting","headset","keypad","mic","micmute","car1","car2","carupdate","cardiagnostics","carcharging","carvalet","garagemode","cone","chargingstation","gps","replay","backward10","forward10","remote","light","thumbs","games","unlock","trash","coffee","payment","mail","screenshare","photo","userchange","seatcool","fanhigh","fanlow","zoomin","zoomout","headset2","headsetbluetooth","data","data5g","datalte","calling","contact","bluetoothmusic","bluetoothsignalnone","bluetoothsignal1","bluetoothsignal2","bluetoothsignal3","bluetoothsignal4","battery0","battery1","battery2","battery3","battery4","batteryalert","batterycharging","IconBase","size","spriteCount","append","UiIcon","inline","Pure","IconDecorator","LabeledIconBase","flip","icon","EnactPropTypes","renderableOverride","iconComponent","labelPosition","iconClassName","LayoutBase","CellBase","shrink","iconCell","LabeledIconDecorator","LabeledIcon","ScrollbarTrack","forwardRef","scrollbarTrack","setCSSVariable","element","variable","ReactDOM","findDOMNode","setProperty","useScrollbar","minThumbSize","scrollbarContainerRef","scrollbarTrackRef","hideScrollbarTrackJob","hideScrollbarTrack","classList","remove","removeClass","scrollbarTrackShown","addClass","primaryDimension","trackSize","scrollViewSize","scrollContentSize","scrollbarThumbSizeRatioBase","scrollbarThumbProgressRatio","scrollbarThumbSizeRatio","restProps","scrollbarProps","scrollbar","scrollbarTrackProps","Scrollbar","memo","toFlexAlign","any","renderable","grow","cellSize","alignSelf","flexBasis","Cell","CellDecorator","nowrap","wrapReverse","alignParts","alignItems","justifyContent","LayoutDecorator","Layout","Column","Row","slideInOut","total","p","fill","SlideArranger","amount","SlideRightArranger","SlideBottomArranger","PickerRoot","PickerButtonItem","handleChange","step","increment","decrement","PickerBase","decrementAriaLabel","incrementAriaLabel","handleDecrement","handleFlick","forEventProp","handleIncrement","activeClassName","currentValueText","valueText","values","valueId","decrementValue","incrementValue","isLast","aria-controls","aria-disabled","itemDecrement","aria-valuetext","itemIncrement","PickerDecorator","generateProp","Changeable","Picker","indexOfChild","useWith","findIndex","propEq","identity","mapChildren","c","mergeChildren","unionWith","eqBy","forwardOnAppear","forwardOnEnter","forwardOnLeave","forwardOnStay","forwardOnTransition","forwardOnWillTransition","TransitionGroup","performAppear","currentlyTransitioningKeys","groupRefs","componentWillAppear","_handleDoneAppearing","componentDidAppear","view","completeTransition","noForwarding","currentChildMapping","find","performLeave","performEnter","componentWillEnter","_handleDoneEntering","componentDidEnter","performStay","componentWillStay","_handleDoneStaying","componentDidStay","componentWillLeave","_handleDoneLeaving","componentDidLeave","storeRefs","firstRender","hasMounted","keysToEnter","keysToLeave","keysToStay","activeChildren","reconcileUnmountedChildren","reconcileChildren","prevChildMapping","nextChildMapping","nextChildKeys","prevActiveChildMapping","nextActiveChildMapping","prevChildKeys","droppedKeys","hasNext","isRendered","childrenToRender","isLeaving","currentIndex","childFactory","leaving","appearing","onAppear","onEnter","onLeave","onStay","onTransition","clearEntering","entering","View","enteringJob","prepareTransition","previousIndex","reverseTransition","animation","playState","changeDirection","onfinish","finish","shouldComponentUpdate","nextProps","enteringDelay","enteringProp","startRafAfter","only","ViewManagerBase","handleTransition","handleWillTransition","prevIndex","makeTransitionEvent","childCount","views","ViewManagerDecorator","MarqueeBodyText","MarqueeDecorator","UiBodyText","BodyTextBase","centered","noWrap","marqueeOn","alignment","BodyText","BodyTextDecorator","SliderBase","activateOnFocus","knobStep","onKeyUp","progressAnchor","anyPass","forKey","progressBarComponent","Slider","SliderBehaviorDecorator","SliderDecorator","HeaderBase","title","hideLine","subtitle","titleAbove","ariaLabel","standard","subtitleComponent","titleAboveComponent","titleContainer","endSlot","Header","defaultSlot","forwardTransitionEnd","forwardOnShow","forwardOnHide","TransitionBase","childRef","clipHeight","clipWidth","innerStyle","width","overflow","height","transitionDuration","inner","TRANSITION_STATE","Transition","measuringJob","renderState","initialHeight","measureInner","handleTransitionEnd","childNode","initialWidth","prevVisible","idle","nextState","onHide","onShow","textSize","onTransitionEnd","forAction","FloatingLayerContext","FloatingLayerDecorator","floatLayerId","wrappedClassName","getFloatingLayer","floatingLayer","getElementById","handleNotify","setFloatingLayer","registry","notifyMount","handleCloseAll","transparentClassName","scrim","transparent","translucentClassName","translucent","scrimStack","removeTranslucentScrim","pop","show","Scrim","hide","pushTranslucentScrim","forwardWithType","forwardDismiss","forwardClose","forwardOpen","FloatingLayerBase","handleClose","nativeEvent","stopImmediatePropagation","nodeRendered","controller","scrimType","open","renderNode","removeChild","isNewLayer","floatLayerClassName","zIndex","appendChild","noAutoDismiss","onClose","onDismiss","onOpen","createPortal","handleCancel","FloatingLayer","Cancelable","modal","onCancel","ButtonBase","decoration","componentOverride","iconFlip","minWidth","pressed","hasIcon","bg","client","ButtonDecorator","Button","platforms","regex","forceVersion","extra","silk","luneos","legacy","_platform","detect","gesture","unknown","userAgent","navigator","plat","msMaxTouchPoints","maxTouchPoints","msManipulationViewsEnabled","touchscreen","PointerEvent","matchMedia","matches","exec","Number","platformName","parseUserAgent","uniq","defineProperty","enumerable","get","baseScreen","riRatio","screenType","screenTypeObject","workspaceBounds","screenTypes","pxPerRem","aspectRatioName","unitToPixelFactors","getScreenTypeObject","elem","defineScreenTypes","types","init","getScreenType","rez","bestMatch","swap","calculateFontSize","scrObj","orientationHandling","getResolutionClasses","toLowerCase","getRiRatio","getUnitToPixelFactors","getAspectRatio","getAspectRatioName","px","pixels","toUnit","substr","scaleToRem","selectSrc","src","newSrc","fhd","uhd","hd","args","measurementNode","updateWorkspaceBounds","rem","updateBaseFontSize","documentElement","fontSize","ResolutionDecorator","dynamic","didClassesChange","resolutionClasses","rootNode","prevClassNames","require","PackedBuffer","buffer","prototype","getLongs","num","longnum","getLong","longs","getBytes","bytenum","getByte","bytes","getUnsignedBytes","getString","arr","str","String","fromCharCode","skip","useEventKey","addGlobalKeyDownEventListener","capture","removeGlobalKeyDownEventListener","useSpottable","instances","handleLeaveContainer","scrollBounds","scrollPos","isVerticalDirection","pos","scrollAndFocusScrollbarButton","configureSpotlight","onLeaveContainer","onLeaveContainerFail","useSpotlightConfig","setContainerDisabled","getSpotlightContainerForNode","spotlightContainer","expandableContainer","parentNode","calculateScrollTop","item","threshold","calcItemAtStart","ib","sb","st","d","calcItemInView","sh","isItemBeforeView","roundToStart","isItemAfterView","roundToEnd","calcItemAtEnd","container","scrollerBounds","scrollTopDelta","containerBounds","calculateScrollLeft","scrollPosition","scrollContentNode","itemLeft","itemWidth","getFocusedItemBounds","rtlDirection","containerLeft","scrollLastPosition","currentScrollLeft","newItemLeft","nextScrollLeft","onUpdate","calculatePositionOnFocus","containerNode","isHorizontal","containerRect","getRect","itemRect","focusOnNode","useThemeScroller","scrollContainerHandle","setThemeScrollContentHandle","Scroller","ScrollContentWrapper","resizeContextProps","scrollContainerProps","scrollInnerContainerProps","scrollContentWrapperProps","scrollContentProps","verticalScrollbarProps","horizontalScrollbarProps","themeScrollContentProps","focusableScrollbar","preventBubblingOnKeyDown","scrollDownAriaLabel","scrollLeftAriaLabel","scrollRightAriaLabel","scrollUpAriaLabel","restrict","STATE","MarqueeControllerContext","MarqueeController","marqueeOnFocus","forwardBlur","forwardFocus","doCancel","handleRegister","needsStart","allInactive","isFocused","dispatch","handleUnregister","wasRunning","anyRunning","handleStart","markAll","isHovered","handleComplete","markReady","handleFocus","childContext","controlledComponent","onFocus","MarqueeBase","invalidateProps","marqueeDirection","TimerState","configClassName","MarqueeComponent","forwardEnter","forwardLeave","determineTextDirection","forceDirection","textContent","promoteJob","contentFits","promoted","demoteJob","animating","delay","marqueeDelay","marqueeDisabled","clearTimeout","demote","tryStartingAnimation","timerState","startAnimation","promote","restartAnimation","resetAnimation","marqueeResetDelay","cancelAnimation","invalidateMetrics","handleMarqueeComplete","handleUnhover","handlePointerHide","cacheNode","distance","validateTextDirection","marqueeOnRenderDelay","shallowEqual","marqueeSpacing","marqueeSpeed","forceRestartMarquee","propList","prev","shouldStartMarquee","timer","moveChildren","childNodes","measureWidths","marquee","wrapper","getSpacing","calculateDistance","shouldAnimate","calculateTextOverflow","test","parseFloat","renderMarquee","marqueeOnHover","marqueeOnRender","marqueeCentered","remeasure","clientRef","onMarqueeComplete","speed","willAnimate","renderWrapped","Consumer","Marquee","ImageOverride","imageComponent","ImageItemBase","placeholder","Image","image","caption","MarqueeImageItem","UiImageItem","captionPosition","captionOverlay","marqueeProps","ImageBase","ImageItem","ImageItemDecorator","ContainerDiv","DropdownBase","buttonClassName","transitionContainerClassname","transitionContainer","openTransitionContainer","upTransitionContainer","dropdownButtonClassname","dropdownButton","upDropdownButton","dropdownListClassname","dropdownList","dropdownListWithScroller","isSelectedValid","transitionDirection","hasChildren","opened","DropDownButton","wrapperProps","groupProps","childComponent","RadioItem","itemProps","dropDownListItem","selectedProp","Item","slot","spotlightDisabled","spotlightRestrict","scroller","group","Dropdown","change","DropdownDecorator","Config","mergeComponentMetadata","storiesOf","boolean","select","text","UiButton","casing","colors","icons","joinedPosition","animateOnRender","animationDelay","backgroundOpacity","badge","badgeColor","highlighted","Checkbox","info","CheckboxItem","ColorPicker","ColorPickerBase","presets","StoryOptions","groupId","ContextualButton","ContextualPopupDecorator","renderPopup","textAlign","marginTop","popupComponent","showCloseButton","DateTimePicker","removeProps","Drawer","DrawerBase","HeadingConfig","Heading","HeadingBase","headingValues","sizes","spacings","drawerColors","opacityRange","range","noDrawerAnimation","drawerBackgroundColor","drawerBackgroundOpacity","drawerStyle","hex","opacity","background","convert","rgb","galliumNote","color","showLine","href","itemCount","items","Fragment","childrenSelection","knobProps","spacingIndicator","spacingNote","SkinnedIcon","iconNames","emptify","docs","factory","logo","showline","IncrementSlider","IncrementSliderBase","decrementIcon","decrementIcons","incrementIcon","incrementIcons","noFill","UiButtonBase","UiButtonDecorator","InputBase","Input","dismissOnEnter","iconAfter","iconBefore","invalid","invalidMessage","UiItemBase","UiItem","ItemBase","slotBeforeIcon","slotAfterIcon","slotAfter","subText","slotBefore","UiLabeledIconBase","UiLabeledIcon","LabeledIconButton","HeaderConfig","noScroller","noPanel","FirstPanel","SecondPanel","BasicPanels","setIndex","noCloseButton","onApplicationClose","onBack","noPanels","padding","PopupBase","closeButton","PopupMenu","Story","menuOpen","setMenuOpen","closeButtonLabel","cannotClose","ProgressBar","UiProgressBar","ProgressBarBase","progress","RangePicker","ScrollerConfig","UiScrollerBasic","SliderButton","SliderButtonBase","3","5","Spinner","UiSpinnerBase","UiSpinner","SpinnerBase","outline","backgroundColor","borderBottomWidth","fontWeight","fontStyle","blockClickOn","SwitchItem","offText","onText","TabbedPanelsBase","panelIndex","tabPosition","tabs","ThumbnailItem","ToggleButton","UIButtonBase","UIButton","ToggleButtonBase","toggleOffLabel","toggleOnLabel","underline","TooltipButton","TooltipDecorator","tooltipDestinationProp","tooltipText","wrapOption","false","true","updateDataSize","itemNumberDigits","headingZeros","VirtualListConfig","UiVirtualListBasic","VirtualList","itemStyle","borderBottom","ApplicationCloseButton","ControlsBase","closeButtonAriaLabel","close","Controls","ViewportBase","addTransitioningClass","transitioning","removeTransitioningClass","getArranger","VerticalArranger","HorizontalArranger","getEnteringProp","delete","mappedChildren","viewport","SharedState","Viewport","SharedStateDecorator","getControlsId","controlsMeasurements","controlsRef","cover","noSharedState","controlsId","owns","viewportId","PanelsDecorator","ItemContent","content","hasLabel","labelAbove","labelAfter","labelBefore","labelBelow","contentElement","UiItemDecorator","ItemDecorator","deprecate","thing","componentName","location","propFullName","isRenderable","deprecated","warn","includesLocale","localeList","ScriptInfo","script","getScriptDirection","_load","manifest","ilibData","cache","resBundleData","setLocale","initCaseMappers","calcProportion","emitChange","newValue","s","calcStep","proportion","isActive","either","atMinimum","atMaximum","forwardOnlyType","forwardSpotlightEvents","lastPointer","useEventFocus","spottable","themeScrollContentHandle","alertScrollbarTrack","calculateAndScrollTo","positionFn","spotItem","lastPos","lastScrollPositionOnFocus","contentRect","scrollHorizontally","scrollVertically","animateOnFocus","startScrollOnFocus","shouldPreventScrollByFocus","isWheeling","indexToFocus","setLastFocusedNode","scrollers","Map","pointerTracker","pageKeyHandler","elementFromPoint","scrollByPageOnPointerMode","useEventMonitor","lastPointerProp","pageKeyHandlerObj","useEventVoice","onScrollbarButtonClick","isVoiceControl","voiceControlDirection","isReachedEdge","ltrBound","rtlBound","bound","handleVoice","verticalDirection","horizontalDirection","webOSVoiceReportActionResult","voiceUi","exception","isPreviousScrollButton","isVerticalScrollBar","addVoiceEventListener","webos","setAttribute","removeVoiceEventListener","removeAttribute","stopVoice","scrollContainerNode","viewportBounds","spotItemBounds","nodes","getSpottableDescendants","first","nodeBounds","updateFocusAfterVoiceControl","isScrollButtonFocused","isOneOfScrollButtonsFocused","canScrollingVertically","focusOnScrollButton","focusOnButton","cbAlertScrollbarTrack","onNextScroll","onPrevScroll","navigableFilter","scrollbarCss","scrollButton","reverseDirections","down","up","dataIndexAttribute","getIntersectingElement","intersects","isIntersecting","getTargetInViewByDirectionFromPosition","getTargetByDirectionFromPosition","getActiveContainer","useThemeScroll","contextSharedState","nodeToFocus","pointToFocus","restoreScrollPosition","useSpotlightRestore","handleWheel","focusedItem","handleWheelNative","useEventWheel","handleKeyDown","isContent","isUp","directionFactor","scrollPossible","contentNode","clientRect","yAdjust","pauseSpotlight","getDirection","handleDragEnd","handleDragStart","isFlicked","useEventMouse","instnaces","useEventTouch","focusOnItem","focusByIndex","elemFromPoint","closest","spottableClass","handleScrollerUpdate","downButtonAriaLabel","upButtonAriaLabel","rightButtonAriaLabel","leftButtonAriaLabel","useThemeScrollContentHandle","scrollProps","focusableScrollButtons","nextButtonAriaLabel","onKeyDownButton","previousButtonAriaLabel","aria-pressed","ThumbnailItemBase","thumbnail","ScrollButtonBase","ScrollButton","prepareButton","isPrev","preparePrevButton","prepareNextButton","consumeEvent","useScrollButtons","prevButtonDisabled","setPrevButtonDisabled","nextButtonDisabled","setNextButtonDisabled","nextButtonRef","createRef","prevButtonRef","onKeyDownNext","onKeyDownPrev","onClickPrev","onClickNext","preventBubbling","isNextButton","isPrevButton","nextButton","click","prevButton","currentButton","oppositeButton","isDown","isLeftMovement","isRightMovement","fromNextToPrev","fromPrevToNext","focusOnOppositeScrollButton","buttonNode","directionToContent","isLeavingDown","isLeavingUp","isLeavingLeft","isLeavingRight","getTargetByDirectionFromElement","nextIcon","prevIcon","updateButtons","currentPos","shouldDisablePrevButton","shouldDisableNextButton","updateNextButton","ScrollbarBase","scrollbarButtonsProps","useScrollbarBase","useThemeScrollbar","uiUpdate","data-spotlight-overflow","idProp","updateOnMount","sharedState","initSharedState","loadFromContext","isUpdateable","LabeledIconButtonBase","UiLabeledIconDecorator","LabeledIconButtonDecorator","InputDecoratorIconBase","InputDecoratorIcon","onlyUpdateForKeys","capturedDown","shouldCapture","isCapturing","setCapturing","capturing","handlePointerDown","handlePointerUp","handleTap","releasePointer","isBubbling","SELECTABLE_TYPES","isSelectionAtLocation","selectionStart","InputSpotlightDecorator","noLockPointer","emulateMouse","forwardMouseDown","forwardKeyUp","updateFocus","focusDecorator","decorator","focusInput","relatedTarget","setDownTarget","downTarget","_","onSpotlightDisappear","isLeft","isRight","shouldSpotlightMove","stopImmediate","inputProps","extractInputProps","input","tabIndex","gridListItemSizeShape","minHeight","VirtualListBaseFactory","VirtualListCore","firstVisibleIndex","lastVisibleIndex","primary","secondary","isPrimaryDirectionVertical","isItemSized","shouldUpdateBounds","dimensionToExtent","maxFirstIndex","curDataSize","cc","scrollPositionTarget","itemPositions","indexToScrollIntoView","updateScrollPosition","getItemBottomPosition","itemPosition","gridSize","getItemTopPositionFromPreviousItemBottomPosition","getGridPosition","primaryPosition","gridPositionToItemPosition","secondaryPosition","getXY","getClientSize","getStatesAndUpdateBounds","firstIndex","updateStatesAndBounds","numOfItems","ceil","wasFirstIndexMax","dataSizeDiff","newFirstIndex","calculateScrollBounds","updateMoreInfo","calculateFirstIndex","setContainerSize","contentRef","getItemNode","itemContainerRef","applyStyleToNewNode","getComponentProps","itemElement","componentProps","listItem","composeStyle","applyStyleToHideNode","getScrollHeight","getVirtualScrollDimension","getScrollWidth","prevChildProps","prevFirstIndex","updateFrom","updateTo","shouldInvalidate","diff","emitUpdateItems","adjustItemPositionWithItemSize","itemBounds","equals","newState","xMax","yMax","extent","floor","firstIndexInExtent","calculateAndCacheItemPosition","lastIndex","heightInfo","minItemSize","widthInfo","thresholdBase","Infinity","maxOfMin","numOfUpperLine","firstIndexFromPosition","expectedFirstIndex","syncThreshold","newThresholdMin","newThresholdMax","overhangBefore","firstRenderedIndex","diffToFirstIndex","firstExtent","applyItemPositionToDOMElement","updateThresholdWithItemPosition","updateScrollBoundsWithItemPositions","scrollBoundsDimension","acc","cur","endPosition","positionItems","hideTo","j","getContainerClasses","containerClass","virtualList","getContentClasses","itemsRenderer","containerClasses","contentClasses","onUpdateItems","data-webos-voice-focused","data-webos-voice-group-label","VirtualListBase","itemSizesShape","minSize","VirtualListBasic","scrollToPositionTarget","optionalOffset","itemNode","itemContainerRefs","getAffordance","placeholderRenderer","scrollModeNative","native","data-webos-voice-disabled","VirtualGridList","forEachObj","oneOrArray","addOne","removeOne","addAll","pageUp","pageDown","toLowerCaseMapper","toUpperCaseMapper","CaseMapper","toUpperCase","inString","mergeStyle","backgroundImage","dingbat","iconProps","iconProp","fromCodePoint","isUri","aria-hidden","progressToProportion","calcBarStyle","anchor","startProp","endProp","backgroundProgress","fillOverHalf","loadOverHalf","bar","OpenState","forwardHide","PopupState","handleFloatingLayerOpen","popupOpen","handlePopupHide","floatLayerOpen","activator","prevOpen","RepeaterBase","childProp","indexProp","Repeater","RepeaterDecorator","isSelected","mode","GroupItemBase","handleSelect","$$GroupItem","selectedEventProp","selectItem","childSelect","GroupBase","pickGroupItemProps","GroupItem","Group","resBundle","opts","lengthen","ResBundle","getIStringFromBundle","rb","isObject","IString","CheckboxBase","CheckboxItemBase","data-webos-voice-intent","CheckboxItemDecorator","RadioItemBase","RadioItemDecorator","applyOffset","IntersectionObserver","root","entries","observer","boundingClientRect","rootLeft","rootRight","rootBounds","aria","clientClassName","clientStyle","rtlDirectionMultiplier","textOverflow","duplicate","validateRangeOnce","valueName","minName","maxName","validateSteppedOnce","stepName","RangePickerBase","running","scrimClassName","spinnerContainerClassName","spinnerContainer","SpinnerDecorator","footer","drawerTransitionContainer","DrawerDecorator","SliderKnob","tooltipComponent","SliderProgress","knobComponent","SliderButtonDecorator","SpinnerCore","spinnerNodes","aria-live","SwatchButtonBase","colorSwatchStyle","colorSwatch","SwatchButton","SwatchButtonDecorator","convertToHSL","charAt","hsl","extended","onHueChanged","onLightnessChanged","onSaturationChanged","onToggleExtended","sliderValues","palette","swatch","sliders","ColorPickerExtended","buildValue","h","l","clickedOutsidePalette","handleToggleExtended","handleSlider","sliderValue","defaultExtended","ColorPickerDecorator","IncrementSliderButtonBase","IncrementSliderButton","OnlyUpdate","onDecrementSpotlightDisappear","onIncrementSpotlightDisappear","onSpotlightDirection","onSpotlightDown","onSpotlightLeft","onSpotlightRight","onSpotlightUp","onDecrement","onIncrement","slider","isIncrement","incrementButton","isDecrement","decrementButton","decrementDisabled","incrementDisabled","ariaHidden","ariaProps","extractAriaProps","prefix","emitSpotlightEvents","IncrementSliderDecorator","timeout","cancelIdleCallback","throttle","throttleUntil","idleUntil","requestIdleCallback","startRaf","timestamp","apply","unless","isType","Function","always","coerceArray","tag","ReactIs","mergeClassNameMaps","baseMap","additiveMap","allowedClassNames","memoize","mapAndFilterChildren","TabBase","tabLabel","labeledIcon","Tab","TabGroupBase","afterTabs","beforeTabs","selectedIndex","tab","tabEnds","tabGroup","TabGroup","viewProps","column","tabOrientation","panels","TabbedPanels","elementMatchesSelector","selector","matchedNodes","querySelectorAll","Element","matchesSelector","mozMatchesSelector","webkitMatchesSelector","msMatchesSelector","oMatchesSelector","matchSelector","parseSelector","ex","testIntersection","elementRect","L","R","T","B","r","aroundV","aroundH","cr","rect","center","getPointRect","getRects","candidates","getContainerRect","containerId","getContainerNode","getViewportRect","Handlers","Ctor","_handlers","windowCallbacks","isWindowReady","Accelerator","processKey","event","reset","Date","canceled","elapsedTime","seconds","toSkip","accelerating","skipped","isAccelerating","configHoc","MeasurableHoc","measurement","setMeasurement","refToMeasure","entry","MutationObserver","mutationObserver","mutationsList","mutation","attributeName","attributes","childList","subtree","useMeasurable","measurementProps","param","GlobalId","idPrefix","onUnmount","ids","useHintOnActive","useHintText","toggleActive","handleSpotlightEvents","dragging","prevValue","getValueText","ariaValueText","verticalHint","horizontalHint","alt","onError","sizing","bgImage","imageSrc","imgSrc","img","draggable","ResponsiveImageDecorator","ImageDecorator","ScrollerBasic","nodeLeft","nodeTop","nodeHeight","nodeWidth","containerTop","mergedStyle","overflowX","overflowY","ScrollerBase","Knob","PositionDecorator","handleDrag","emitChangeForPosition","offsetX","offsetY","updateBounds","updateOffset","knob","centerX","centerY","percent","generate","useIdProvider","provider","useId","cancelHandlers","forCancel","ok","modals","dispatchToModals","handled","onCancelIsString","onCancelIsFunction","dispatchCancelToConfig","stopped","cancelEvent","handleKeyUp","isFirstRender","removeModal","renderUnwrapped","renderModal","ToggleIconBase","iconClasses","IconComponent","ToggleIcon","ToggleIconDecorator","TransitionContainer","buttons","withCloseButton","withTitle","transitionType","wideLayout","popupTransitionContainer","Popup","PopupDecorator","DateTimeBase","pickers","toTime","date","getTime","DateTimeDecorator","customProps","defaultOrder","memoizedI18nConfig","updateValue","day","month","year","maxDays","cal","getMonLength","DateFactory","getTimeExtended","changed","getJSDate","handlePickerChange","toIDate","initialValue","pickerValue","unixtime","timezone","order","i18nConfig","instanceOf","DateTime","DateComponentPickerBase","DateComponentPicker","DateComponentRangePickerBase","DateComponentRangePicker","DatePickerBase","maxMonths","dayAriaLabel","maxYear","minYear","monthAriaLabel","onChangeDate","onChangeMonth","onChangeYear","yearAriaLabel","picker","getLabelFormatter","DateFmt","useNative","dateTimeConfig","getYears","getMonths","getDays","formatter","getNumMonths","toLocalYear","getTemplate","replace","match","julianday","getJulianDay","DatePicker","hours24","hours12","HourPicker","hasMeridiem","hours","TimePickerBase","hour","meridiem","minute","hourAriaLabel","meridiemAriaLabel","meridiems","minuteAriaLabel","onChangeHour","onChangeMeridiem","onChangeMinute","meridiemPickerWidth","hourPicker","minutePicker","meridiemPicker","toMinutes","colon","substring","calcMeridiemRange","meridiemLabels","meridiemEnabled","minutes","getHours","getMinutes","indexOfMeridiem","meridiemRanges","currentTime","currentHour","template","getMeridiemsRange","getClock","TimePicker","DateTimePickerBase","dateTimePicker","SwitchBase","animated","Switch","SwitchItemBase","aria-checked","switchIcon","SwitchItemDecorator","mergeFn","userValue","hawk","defaults","maybeWrapped","mergeDeepWithKey","propComparators","hasChanged","comparators","propKeys","nextKeys","hasOwn","hasOwnProperty","comp","isSpottable","lastSelectTarget","selectCancelled","shouldEmulateMouse","which","selectionKeys","keyboardAccessible","nodeName","isKeyboardAccessible","forwardAndResetLastSelectTarget","notPrevented","defaultPrevented","allow","isActionable","shouldPreventBlur","focusedWhenDisabled","isMuted","containers","getContainersForNode","makeHandler","hasPropsAndContext","decorateHandleFunction","_outer","prepareHandleArgs","caller","cleanup","handleWithFinally","cond","callOnEvent","methodName","prevented","wrappedEvent","forKeyCode","log","method","adapter","forwardCustom","getImpl","url","XMLHttpRequest","xhr","beforeSend","err","resp","statusCode","response","json","JSON","parse","getSync","reject","iLibBase","ILIB_BASE_PATH","iLibResources","ILIB_RESOURCES_PATH","cacheID","ILIB_CACHE_ID","EnyoLoader","Loader","_createZoneFile","path","zone","ZoneInfoFile","getIlibZoneInfo","_pathjoin","_root","subpath","_loadFilesAsync","params","rootPath","cacheItem","loadManifests","isAvailable","localeBase","defaultInfo","_loadFilesCache","paths","_validateCache","localStorage","stored","getItem","stringify","removeItem","_storeFilesCache","setItem","_cacheValidated","cachePrefix","loadFiles","ret","locdata","found","loadManifestsSync","results","_handleManifest","dirpath","filepath","files","_loadManifest","cachedManifest","setLoaderCallback","UILocale","PopupMenuBase","PopupMenuDecorator","isEnter","getNumberValue","findSpottableItem","indexFrom","indexTo","getNextIndex","row","isDownKey","isUpKey","isNextRow","isNextAdjacent","isBackward","isWrapped","nextIndex","handle5WayKeyUp","handleDirectionKeyDown","handlePageUpDownKeyDown","spotlightAcceleratorProcessKey","isNotItem","candidate","candidateIndex","directions","isScrollbarVisible","usePreventScroll","preventScroll","preservedIndex","lastSpotlightDirection","restoreLastFocused","restoreFocus","isPlaceholderFocused","vlPlaceholder","isScrolledByJump","foundLastFocused","handlePlaceholderFocus","handleRestoreLastFocus","setPreservedIndex","SpotlightAccelerator","SpotlightPlaceholder","isScrolledBy5way","isWrappedBy5way","lastFocusedIndex","lastFocusedPersist","lastFocusedRestore","el","obliqueMultiplier","eventType","onAcceleratedKeyDown","nextTargetIndex","handleGlobalKeyDown","nextRow","startBoundary","endBoundary","returnVal","offsetToClientEnd","focusedIndex","getAttribute","gridPosition","useThemeVirtualList","itemRest","data-vl-placeholder","Tag","UiHeading","HeadingDecorator","getResBundle","basePath","ILIB_AGATE_PATH","toIString","distributeChild","hasSlot","newProps","propNames","distribute","slotNames","remaining","useSlots","slotProps","k","distributed","dist","concat","_initialized","_duringFocusChange","_5WayKeyHold","_spotOnWindowFocus","_pointerMoveDuringKeyPress","evt","shouldPreventNavigation","getAllContainerIds","setPlatformPointerMode","focusElement","containerIds","fromPointer","setContainerLastFocusedElement","currentFocusedElement","focusOptions","isWithinOverflowContainer","silentFocus","focusChanged","setLastContainer","lastContainerId","getLastContainer","lastFocusedElement","getContainerLastFocusedElement","isContainer","getContainerConfig","lastContainerNode","getNearestTargetFromPosition","rootContainerId","spotNext","currentContainerIds","currentContainerId","nextContainerIds","isContainer5WayHoldable","notifyLeaveContainer","setContainerPreviousTarget","notifyEnterContainer","notifyLeaveContainerFail","handleWebOSMouseEvent","handleKeyboardStateChangeEvent","spotNextFromPoint","getNavigableTarget","setLastContainerFromTarget","onMouseOver","initialize","containerDefaults","configureDefaults","configureContainer","terminate","clear","removeAllContainers","setDefaultContainer","addContainer","unmount","unmountContainer","removeContainer","setActiveContainer","disableSelector","selectorDisabled","enableSelector","wasContainerId","getTargetByContainer","getTargetBySelector","getContainerId","nextContainerId","isNavigable","mayActivateContainer","isFocusable","PureComponent","oldValue","rendered","webpackEmptyContext","that","overrideMimeType","onload","byteArray","Uint8Array","charCodeAt","_parseInfo","onerror","packed","tzh_ttisgmtcnt","tzh_ttisstdcnt","tzh_leapcnt","tzh_timecnt","tzh_typecnt","tzh_charcnt","transitionTimes","ruleIndex","zoneInfo","isdst","abbreviationIndex","allAbbreviations","abbreviation","savings","tti","standardTime","daylightTime","defaultTime","bsearch","high","low","mid","usesDST","thisYear","nextYear","getRawOffset","getDSTSavings","getDSTStartDate","getFullYear","startDate","getDSTEndDate","endDate","getAbbreviation","abbr","getDSTAbbreviation","minutesToStr","unixtimeToJD","millis","f","datasetDangerously","getBoundingClientRectDangerously","getRectDangerously","removeAttributeDangerously","scrollLeftDangerously","scrollTopDangerously","setAttributeDangerously","optProps","renderComputed","addInternalProp","writable","configCss","renderStyles","cn","joinedClassName","NoContext","cfgComputed","functional","cfgStyles","renderKind","ctx","defaultPropKeys","handlerKeys","_props","withRef","listIcons","mediaIcons","arrowIcons","starIcons","iconsSilicon","rtlPattern","isRtlText","TooltipLabel","multi","TooltipBase","arrowAnchor","labelOffset","relative","tooltipRef","cappedPosition","absolute","tooltipAnchor","tooltipArrow","Tooltip","getLabelOffset","tooltipNode","tooltipDirection","tooltipPosition","tooltipWidth","isOverWide","isOverCenterLeft","isOverCenterRight","pixelOffset","percentageOffset","offsetBoundaryPercentage","getLabelUnavailableSpace","currentTooltip","screenEdgeKeepout","showTooltipJob","showing","setTooltipLayoutJob","setTooltipLayout","startTooltipLayoutJob","tooltipUpdateDelay","showTooltip","tooltipDelay","hideTooltip","handleMouseOver","handleMouseOut","getTooltipRef","clientNode","calcOverflow","edgeKeepout","windowWidth","windowHeight","clientHorizontalCenter","tooltipSafeWidth","tooltipCenterdSafeWidth","isTooltipWide","isOverTop","isOverBottom","isOverLeft","isOverRight","adjustDirection","adjustAnchor","getPosition","renderTooltip","tooltipRelative","tooltipProps","renderedTooltip","onMouseOut","SpotlightRootDecorator","noAutoFocus","customSkin","float","overlay","spotlight","CustomizableSkinStyle","accent","highlight","cssRules","accentObj","highlightObj","styleRules","rule","ThemeDecorator","bgClassName","App","pointerHide","pointerShow","SkinFrame","reloadPage","protocol","host","pathname","description","Wrapper","panel","storyBody","FullscreenBase","Theme","locales","getPropFromURL","propName","fallbackValue","encodeURI","locationParams","startIndex","keyIndex","valueIndex","decodeURIComponent","memory","StorybookDecorator","story","sample","defaultColors","skinFromURL","currentSkin","newSkin","accentFromURL","highlightFromURL","localeFromURL","currentLocale","allSkins","skinKnobs","parameters","trim","stories","mod","configureActions","addDecorator","withKnobs","Environment","loadStories","ApiDecorator","api","setProvider","configurable","setApiProvider","ContextualPopupArrow","arrow","viewBox","arrowFill","ContextualPopupRoot","ContextualPopupBase","arrowPosition","containerPosition","onCloseButtonClick","arrowDirection","fixedSize","reserveClose","contextualPopup","ContextualPopupContainer","ContextualPopup","noSkin","openProp","getContainerAdjustedPosition","adjustedDirection","positionContextualPopup","getArrowPosition","getContainerPosition","getClientNode","handleOpen","updateLeaveFor","spotPopupContent","hasSpottables","spotlessSpotlightModal","shouldSpotPopup","handleDirectionalKey","handleContainerKeyDown","spotActivator","spottableDescendants","popupSpotlightId","ARROW_OFFSET","ARROW_WIDTH","KEEPOUT","MARGIN","getSnapshotBeforeUpdate","snapshot","containerWidth","getContainerNodeWidth","shouldSpotActivator","leaveFor","centerContainerPosition","adjustRTL","containerHeight","tmpLeft","voiceExclusive","PopupComponent","popupClassName","popupProps","popupPropsRef","contextualPopupDecorator","data-webos-voice-exclusive","calcGroupId","calcNextGridPosition","partition","rects","targetRect","straightOverlapThreshold","getGroupId","groups","navigate","partitionRect","distanceFunction","generateDistancefunction","nearPlumbLineIsBetter","nearHorizonIsBetter","nearTargetBottomIsBetter","nearTargetLeftIsBetter","nearTargetRightIsBetter","nearTargetTopIsBetter","topIsBetter","bottomIsBetter","leftIsBetter","rightIsBetter","straightMultiplier","straightOnly","destRect","calcNextExtendedGridPosition","internalGroups","priorities","targetEdge","difference","minDistance","multiplier","destGroup","prioritize","destPriority","destDistance","destDifference","calcDistance","pow","verifySelector","getContainersToSearch","addRange","getDefaultContainer","getContainerFocusTarget","isRestrictedContainer","filterRects","elementRects","boundingRect","topUpdate","bottomUpdate","leftUpdate","rightUpdate","getContainerContainingRect","overlapping","getOverflowContainerRect","nextConfig","extSelector","getNavigableContainersForNode","reduceRight","elementContainerIds","getTargetInContainerByDirectionFromElement","elements","getDeepSpottableDescendants","getContainerPreviousTarget","spotlightOverflow","overlappingContainerId","partitionContainer","lastNavigated","getLeaveForTarget","pointerRect","getTargetInContainerByDirectionFromPosition","positionRect","getNearestTargetInContainerFromPosition","getNearestTargetsInContainerFromPosition","getOffsetDistanceToTargetFromPosition","getDistanceToTargetFromPosition","containerConfigs","_ids","_defaultContainerId","_lastContainerId","GlobalConfig","lastFocusedKey","onEnterContainer","rememberSource","tabIndexIgnoreList","isContainerNode","mapContainers","nodeOrId","has","getContainerSelector","and","isContainerEnabled","spottableSelector","subContainerSelector","getSubContainerSelector","includeSelector","excludeSelector","include","exclude","getOwnedNodes","excludedContainers","selfOnlyIndex","verify","offsetWidth","offsetHeight","isActiveContainer","getContainerNavigableElements","preferredEnterTo","getContainerDefaultElement","defaultElementSelector","spottables","restoreLastFocusedElement","destination","persistLastFocusedElement","containsContainer","outerContainerId","innerContainerId","outer","currentContainers","currentOuterContainerId","currentContainerConfig","targetContainers","targetInnerContainer","intersection","some","previousContainerIds","addParameters","theme","brandTitle","brandUrl","brandImage","isFullscreen","panelPosition","showNav","showPanel","withInfo","isNewPointerPosition","SpotlightContainer","containerConfig","onBlurCapture","onFocusCapture","silentBlur","onPointerEnter","onPointerLeave","parentContainer","activeContainer","canPreserveId","attr","setProps","muted","releaseContainer","useSpotlightContainer","callContext","containerHandlers","spotlightMuted","SpotlightContainerDecoratorAdapter"],"mappings":"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","file":"main.987e7f35da8642eca526.bundle.js","sourcesContent":["import classnames from 'classnames';\n\nconst objectify = (arg) => {\n\t// undefined, null, empty string case\n\t// bail early\n\tif (!arg) return {};\n\n\tif (typeof arg === 'string') {\n\t\t// String case, convert to array for processing\n\t\targ = arg.split(' ');\n\t}\n\n\tif (arg instanceof Array) {\n\t\t// Convert array values into object properties\n\t\treturn arg.reduce((obj, a) => {\n\t\t\tobj[a] = true;\n\t\t\treturn obj;\n\t\t}, {});\n\t} else if (typeof arg === 'object') {\n\t\t// Can just return objects as-is\n\t\treturn arg;\n\t} else {\n\t\t// Invalid, return an empty object\n\t\treturn {};\n\t}\n};\n\nconst preferDefined = (a, b) => ((a != null) ? a : b);\n\n/**\n * Determines the effective skin\n *\n * @param {String} defaultSkin The local default for this instance of useSkins\n * @param {String} authorSkin  The author-provided skin value\n * @param {String} parentSkin  The inherited skin value from an upstream useSkins\n * @private\n */\nfunction determineSkin (defaultSkin, authorSkin, parentSkin) {\n\treturn authorSkin || defaultSkin || parentSkin;\n}\n\n/**\n * Determines the effective skin variant\n *\n * @param {String|String[]} defaultVariants The local default variants for this instance\n * @param {String|String[]} allowedVariants The allowed variants for this instance\n * @param {String|String[]} authorVariants  The author-provided variants\n * @param {String|String[]} parentVariants  The inherited variants from an upstream useSkins\n * @private\n */\nfunction determineVariants (defaultVariants, allowedVariants, authorVariants, parentVariants) {\n\tif (!allowedVariants || !(allowedVariants instanceof Array)) {\n\t\t// There are no allowed variants, so just return an empty object, indicating that there are no viable determined variants.\n\t\treturn {};\n\t}\n\n\tdefaultVariants = objectify(defaultVariants);\n\tauthorVariants = objectify(authorVariants);\n\tparentVariants = objectify(parentVariants);\n\n\t// Merge all of the variants objects, preferring values in objects from left to right.\n\tconst mergedObj = [defaultVariants, parentVariants, authorVariants].reduce(\n\t\t(obj, a) => {\n\t\t\tif (a) {\n\t\t\t\tObject.keys(a).forEach(key => {\n\t\t\t\t\tobj[key] = preferDefined(a[key], obj[key]);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn obj;\n\t\t},\n\t\t{}\n\t);\n\n\t// Clean up the merged object\n\tfor (const key in mergedObj) {\n\t\t// Delete keys that are null or undefined and delete keys that aren't allowed\n\t\tif (mergedObj[key] == null || !allowedVariants.includes(key)) {\n\t\t\tdelete mergedObj[key];\n\t\t}\n\t}\n\n\treturn mergedObj;\n}\n\nfunction getClassName (skins, effectiveSkin, variants) {\n\tconst skin = skins && skins[effectiveSkin];\n\n\t// only apply the skin class if it's set and different from the \"current\" skin as\n\t// defined by the value in context\n\treturn classnames(skin, variants);\n}\n\n\nexport {\n\tdetermineSkin,\n\tdetermineVariants,\n\tgetClassName,\n\tobjectify,\n\tpreferDefined\n};\n","import React, {useMemo} from 'react';\n\nimport {determineSkin, determineVariants, getClassName} from './util';\n\n/**\n * Allows a component to respond to skin changes via the Context API\n *\n * Example:\n * ```\n * <App skin=\"dark\">\n * \t<Section>\n * \t\t<Button>Gray Button</Button>\n * \t<Section>\n * \t<Popup skin=\"light\">\n * \t\t<Button>White Button</Button>\n * \t</Popup>\n * </App>\n * ```\n *\n * @class SkinContext\n * @memberof ui/Skinnable\n * @private\n */\nconst SkinContext = React.createContext(null);\n\n/**\n * Configuration for `useSkins`\n *\n * @typedef {Object} useSkinsConfig\n * @memberof ui/Skinnable\n * @property {String}   defaultSkin       Default skin name when none has been specified or inherited.\n * @property {String[]} [defaultVariants] Default variants when none have been specified or inherited.\n * @property {String}   [skin]            Specific skin to apply to this instance which will take precedence over the default or the inherited value.\n * @property {String[]} skins             List of allowed skins\n * @property {String[]} [skinVariants]    Specific variants to apply to this instance which will take precedence over the default or the inherited value.\n * @property {String[]} [variants]        List of allowed variants\n * @private\n */\n\n/**\n * Object returned by `useSkins`\n *\n * @typedef {Object} useSkinsInterface\n * @memberof ui/Skinnable\n * @property {String}   className    CSS classes for the effective skin and variants.\n * @property {String}   skin         Effective skin based on the allowed skins, the configured.\n *                                   `skin`, the default skin, and the inherited `skin` from up the\n *                                   component tree.\n * @property {String[]} variants     Effective skins variant based on the allowed variants, the\n *                                   configured variants, the default variants, and the inherited\n *                                   variants from up the component tree.\n * @property {Function} provideSkins Wraps a component tree with a skin provider to allow that tree\n *                                   to inherit the effective skin configured at this level.\n * @private\n */\n\n/**\n * Determines the effective skin and skin variants for a component and provides a method to provide\n * those values to other contained components in this subtree.\n *\n * ```\n * function ComponentDecorator (props) {\n *   const skins = useSkins({\n *     defaultSkin: 'neutral',\n *     defaultVariants: [],\n *     skins: ['neutral', 'bold'],\n *     variants: ['highContrast'],\n *     skin: props.skin,\n *     skinVariants: props.skinVariants\n *   });\n *\n *   return skins.provideSkins(\n *     <Component className={classnames(props.className, skins.className)} />\n *   );\n * }\n * ```\n *\n * @param {useSkinsConfig} config Configuration options\n * @returns {useSkinsInterface}\n * @private\n */\nfunction useSkins (config) {\n\tconst {defaultSkin, defaultVariants, skin, skins, skinVariants, variants} = config;\n\n\tconst {parentSkin, parentVariants} = React.useContext(SkinContext) || {};\n\n\tconst effectiveSkin = determineSkin(defaultSkin, skin, parentSkin);\n\tconst effectiveVariants = useMemo(() => determineVariants(defaultVariants, variants, skinVariants, parentVariants), [defaultVariants, variants, skinVariants, parentVariants]);\n\tconst className = getClassName(skins, effectiveSkin, effectiveVariants);\n\tconst value = useMemo(() => ({parentSkin: effectiveSkin, parentVariants: effectiveVariants}), [effectiveSkin, effectiveVariants]);\n\n\tconst provideSkins = React.useCallback((children) => {\n\t\treturn (\n\t\t\t<SkinContext.Provider value={value}>\n\t\t\t\t{children}\n\t\t\t</SkinContext.Provider>\n\t\t);\n\t}, [value]);\n\n\treturn {\n\t\tclassName,\n\t\tskin: effectiveSkin,\n\t\tvariants: effectiveVariants,\n\t\tprovideSkins\n\t};\n}\n\nexport default useSkins;\nexport {\n\tuseSkins\n};\n","/**\n * A higher-order component for customizing the visual appearance throughout an application.\n *\n * This is the base-level implementation of this component. It will typically never be accessed\n * directly, and only be instantiated with a configuration once inside a visual library.\n * Interface libraries will supply a set of supported skins which will\n * be accessible to their components.\n *\n * @module ui/Skinnable\n * @exports Skinnable\n * @public\n */\n\nimport classnames from 'classnames';\nimport hoc from '@enact/core/hoc';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport useSkins from './useSkins';\nimport {objectify} from './util';\n\n/**\n * Default config for `Skinnable`.\n *\n * @memberof ui/Skinnable.Skinnable\n * @hocconfig\n * @public\n */\nconst defaultConfig = {\n\t/**\n\t * The prop in which to pass the skinVariants value to the wrapped component. The recommended\n\t * value is \"skinVariants\".\n\t *\n\t * If left unset, the skinVariant will not be passed to the wrapped component.\n\t *\n\t * @type {String}\n\t * @memberof ui/Skinnable.Skinnable.defaultConfig\n\t */\n\tvariantsProp: null,\n\n\t/**\n\t * The prop in which to pass the effective skin to the wrapped component.\n\t *\n\t * If left unset, the current skin will not be passed to the wrapped component.\n\t *\n\t * @type {String}\n\t * @memberof ui/Skinnable.Skinnable.defaultConfig\n\t */\n\tprop: null,\n\n\t/**\n\t * A hash mapping the available skin names to their CSS class name.\n\t *\n\t * The keys are accepted as the only valid values for the `skin` prop on the wrapped component.\n\t *\n\t * @type {Object}\n\t * @memberof ui/Skinnable.Skinnable.defaultConfig\n\t */\n\tskins: null,\n\n\t/**\n\t * Assign a default skin from the `skins` list.\n\t *\n\t * This will be used if the instantiator of the wrapped component provides no value to the\n\t * `skin` prop.\n\t *\n\t * @type {String}\n\t * @memberof ui/Skinnable.Skinnable.defaultConfig\n\t */\n\tdefaultSkin: null,\n\n\t/**\n\t * Initial collection of applied variants\n\t *\n\t * This will be used if the instantiator of the wrapped component provides no value to the\n\t * `skinVariants` prop.\n\t *\n\t * @type {String|String[]}\n\t * @memberof ui/Skinnable.Skinnable.defaultConfig\n\t */\n\tdefaultVariants: null,\n\n\t/**\n\t * A complete list of all supported variants.\n\t *\n\t * These will translate to CSS class names so should not conflict with any skin names.\n\t * CamelCase is recommended for the values.\n\t *\n\t * @type {String[]}\n\t * @memberof ui/Skinnable.Skinnable.defaultConfig\n\t */\n\tallowedVariants: null\n};\n\n/**\n * A higher-order component that assigns skinning classes for the purposes of styling children components.\n *\n * Use the config options to specify the skins your theme has. Set this up in your theme's decorator\n * component to establish your supported skins.\n *\n * Note: This HoC passes `className` to the wrapped component. It must be passed to the main DOM\n * node. Additionally, it can be configured to pass the skin and skin variant as props.\n *\n * Example:\n * ```\n * const MyApp = ({skinName, ...rest) => (<div {...props}>{skinName}</div>);\n * ...\n * App = Skinnable({\n * \tprop: 'skinName',\n * \tskins: {\n * \t\tdark: 'moonstone',\n * \t\tlight: 'moonstone-light'\n * \t},\n * \tdefaultTheme: 'dark'\n * \tdefaultVariants: ['highContrast'],\n * \tallowedVariants: ['highContrast', 'largeText', 'grayscale']\n * }, MyApp);\n * ```\n *\n * @class Skinnable\n * @memberof ui/Skinnable\n * @hoc\n * @public\n */\nconst Skinnable = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {prop, skins, defaultSkin, allowedVariants: variants, variantsProp} = config;\n\tconst defaultVariants = objectify(config.defaultVariants);\n\n\t// eslint-disable-next-line no-shadow\n\tfunction Skinnable ({className, skin, skinVariants, ...rest}) {\n\t\tconst hook = useSkins({\n\t\t\tdefaultSkin,\n\t\t\tdefaultVariants,\n\t\t\tskin,\n\t\t\tskins,\n\t\t\tskinVariants,\n\t\t\tvariants\n\t\t});\n\n\t\tconst allClassNames = classnames(hook.className, className);\n\t\tif (allClassNames) {\n\t\t\trest.className = allClassNames;\n\t\t}\n\n\t\tif (prop) {\n\t\t\trest[prop] = hook.skin;\n\t\t}\n\n\t\tif (variantsProp) {\n\t\t\trest[variantsProp] = hook.variants;\n\t\t}\n\n\t\treturn hook.provideSkins(\n\t\t\t<Wrapped {...rest} />\n\t\t);\n\t}\n\n\tSkinnable.propTypes = /** @lends ui/Skinnable.Skinnable.prototype */ {\n\t\t/**\n\t\t * The name of the skin a component should use to render itself. Available skins are\n\t\t * defined in the \"defaultConfig\" for this HOC.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tskin: PropTypes.string,\n\n\t\t/**\n\t\t * The variant(s) on a skin that a component should use when rendering. These will\n\t\t * typically alter the appearance of a skin's existing definition in a way that does not\n\t\t * override that skin's general styling.\n\t\t *\n\t\t * Multiple data types are supported by this prop, which afford different conveniences\n\t\t * and abilities. String and Array are effectively the same, supporting just additions\n\t\t * to the variants being applied to a component, and are much more convenient. Objects\n\t\t * may also be used, and have the ability to disable variants being passed by their\n\t\t * ancestors. Objects take the format of a basic hash, with variants as key names and\n\t\t * true/false Booleans as values, depicting their state. If a variant is excluded from\n\t\t * any version of data type used to set this prop, that variant will ignored, falling\n\t\t * back to the defaultVariant or parent variant, in that order.\n\t\t *\n\t\t * skinVariants examples:\n\t\t * ```\n\t\t *  // String\n\t\t *  skinVariants=\"highContrast\"\n\t\t *\n\t\t *  // Array\n\t\t *  skinVariants={['highContrast']}\n\t\t *\n\t\t *  // Object\n\t\t *  skinVariants={{\n\t\t *  \thighContrast: true,\n\t\t *  \tgrayscale: false\n\t\t *  }}\n\t\t * ```\n\t\t *\n\t\t * @type {String|String[]|Object}\n\t\t * @public\n\t\t */\n\t\tskinVariants: PropTypes.oneOfType([\n\t\t\tPropTypes.string,\n\t\t\tPropTypes.array,\n\t\t\tPropTypes.object\n\t\t])\n\t};\n\n\treturn Skinnable;\n});\n\nexport default Skinnable;\nexport {\n\tSkinnable,\n\tuseSkins\n};\n","/**\n * Exports the {@link agate/Skinnable.Skinnable} Higher-order Component (HOC).\n *\n * @module agate/Skinnable\n * @exports Skinnable\n * @public\n */\n\nimport hoc from '@enact/core/hoc';\nimport UiSkinnable from '@enact/ui/Skinnable';\n\nconst defaultConfig = {\n\tskins: {\n\t\tcarbon: 'carbon',\n\t\tcobalt: 'cobalt',\n\t\tcopper: 'copper',\n\t\telectro: 'electro',\n\t\tgallium: 'gallium',\n\t\tsilicon: 'silicon',\n\t\ttitanium: 'titanium'\n\t},\n\tallowedVariants: ['night', 'highContrast'],\n\tdefaultVariants: null\n};\n\n/**\n * This Higher-order Component is based on [ui/Skinnable]{@link ui/Skinnable.Skinnable} and comes\n * pre-configured for Agate's supported skins: 'carbon', 'cobalt', 'copper', 'electro', 'gallium',\n * 'silicon', and 'titanium'. It is used to apply the relevant skinning classes to each component\n * and has been used to pre-select specific skins for some components.\n *\n * @class Skinnable\n * @memberof agate/Skinnable\n * @hoc\n * @public\n */\nconst Skinnable = hoc(defaultConfig, UiSkinnable);\n\n/**\n * Select a skin by name by specifying this property. This may be changed at runtime. All components\n * already use their defaults, but a skin may be changed via this prop or by using\n * {@link agate/Skinnable} directly and a config object.\n *\n * Example:\n * ```\n * <Button skin=\"gallium\" />\n * ```\n *\n * @name skin\n * @type {String}\n * @memberof agate/Skinnable.Skinnable\n * @instance\n * @public\n */\n\nexport default Skinnable;\nexport {\n\tSkinnable\n};\n","import {handle, forward, adaptEvent} from '@enact/core/handle';\nimport kind from '@enact/core/kind';\nimport Spottable from '@enact/spotlight/Spottable';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport $L from '../internal/$L';\n\nimport css from './Panels.module.less';\n\n// Since we expose `onSelect` to handle breadcrumb selection, we need that handler to be set on a\n// component that proxies mouse events for key events so we create a spottable div that will\n// get the right classes as well as handle events correctly.\nconst SpottableDiv = Spottable('div');\n\n/**\n * The width of a breadcrumb which may be used to allocate space for it in a panels layout.\n *\n * @type {Number}\n * @default 105;\n * @private\n * @memberof agate/Panels\n */\nexport const breadcrumbWidth = 105;\n\n/**\n * Vertical, transparent bar used to navigate to a prior Panel.\n *\n * [`BreadcrumbPanels`]{@link agate/Panels.BreadcrumbPanels} has one breadcrumb.\n *\n * @class Breadcrumb\n * @memberof agate/Panels\n * @ui\n * @public\n */\nconst BreadcrumbBase = kind({\n\tname: 'Breadcrumb',\n\n\tpropTypes: /** @lends agate/Panels.Breadcrumb.prototype */ {\n\t\t/**\n\t\t * Index of the associated panel.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t */\n\t\tindex: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * Called when the breadcrumb is clicked.\n\t\t *\n\t\t * @private\n\t\t * @type {Function}\n\t\t */\n\t\tonClick: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the breadcrumb is clicked.\n\t\t *\n\t\t * The index of the clicked breadcrumb is passed in the event data.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonSelect: PropTypes.func\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'breadcrumb'\n\t},\n\n\thandlers: {\n\t\tonSelect: handle(\n\t\t\tforward('onClick'),\n\t\t\tadaptEvent((ev, {index}) => ({type: 'onSelect', index}), forward('onSelect'))\n\t\t)\n\t},\n\n\trender: ({children, index, onSelect, ...rest}) => (\n\t\t<SpottableDiv\n\t\t\t{...rest}\n\t\t\taria-label={$L('GO TO PREVIOUS')}\n\t\t\tdata-index={index}\n\t\t\tonClick={onSelect}\n\t\t>\n\t\t\t<div className={css.breadcrumbContent}>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</SpottableDiv>\n\t)\n});\n\nexport default BreadcrumbBase;\nexport {\n\tBreadcrumbBase as Breadcrumb,\n\tBreadcrumbBase\n};\n","import {scale, unit} from '@enact/ui/resolution';\nimport {arrange} from '@enact/ui/ViewManager/Arranger';\n\nimport {breadcrumbWidth} from './Breadcrumb';\n\nconst quadInOut = 'cubic-bezier(0.455, 0.030, 0.515, 0.955)';\nconst animationOptions = {easing: quadInOut};\n\n// Actvity Arranger\n\n/*\n * Appends a transform that accounts for a single breadcrumb\n *\n * @param  {Node} node      DOM Node\n *\n * @returns {undefined}\n * @private\n */\nconst offsetForBreadcrumbs = (node) => {\n\tconst isFirst = node && node.dataset && node.dataset.index === '0';\n\n\treturn `translateX(${isFirst ? 0 : unit(scale(breadcrumbWidth), 'rem')})`;\n};\n\n/**\n * Arranger that slides panels in from the right and out to the left allowing space for the single\n * breadcrumb when `to` index is greater than zero.\n *\n * @type {Arranger}\n * @private\n */\nconst PanelsArranger = {\n\tenter: (config) => {\n\t\tconst {node} = config;\n\n\t\treturn arrange(config, [\n\t\t\t{transform: `${offsetForBreadcrumbs(node)} translateX(100%)`},\n\t\t\t{transform: offsetForBreadcrumbs(node)}\n\t\t], animationOptions);\n\t},\n\tleave: (config) => {\n\t\tconst {node} = config;\n\n\t\treturn arrange(config, [\n\t\t\t{transform: offsetForBreadcrumbs(node)},\n\t\t\t{transform: 'translateX(-100%)'}\n\t\t], animationOptions);\n\t},\n\tstay: (config) => {\n\t\tconst {node} = config;\n\n\t\treturn arrange(config, [\n\t\t\t{transform: offsetForBreadcrumbs(node)},\n\t\t\t{transform: offsetForBreadcrumbs(node)}\n\t\t], animationOptions);\n\t}\n};\n\n/**\n * Positions a breadcrumb based on its `data-index` and the current index, `to`\n *\n * @param  {Object} config  Arrangement configuration object\n * @returns {undefined}\n * @method\n * @private\n */\nconst positionBreadcrumb = (node, index) => {\n\tconst crumbIndex = node.dataset.index;\n\tconst x = (index - crumbIndex);\n\tconst percentX = x * -100;\n\n\treturn `translateX(${percentX}%)`;\n};\n\nconst enter = (config) => {\n\tconst {node, from, to, reverse} = config;\n\tconst keyframes = reverse ? [\n\t\t{transform: positionBreadcrumb(node, to)},\n\t\t{transform: positionBreadcrumb(node, from)}\n\t] : [\n\t\t{transform: positionBreadcrumb(node, from)},\n\t\t{transform: positionBreadcrumb(node, to)}\n\t];\n\n\treturn arrange(config, keyframes, animationOptions);\n};\n\n/**\n * Arranger for panel breadcrumbs\n *\n * @type {Arranger}\n * @private\n */\nconst BreadcrumbArranger = {\n\tenter: enter,\n\tstay: enter,\n\tleave: enter\n};\n\nexport {\n\tBreadcrumbArranger,\n\tPanelsArranger\n};\n","import React from 'react';\n\nimport Icon from '../Icon';\n\nimport Breadcrumb from './Breadcrumb';\n\n/**\n * Generates an array of at most `max` breadcrumbs\n *\n * @param {Number} index      Index of active breadcrumb\n * @param {Number} max        Maximum number of breadcrumbs to dispaly\n * @param {Function} onSelect Handler for selecting a breadcrumb\n * @returns {React.element[]} Array of breadcrumbs\n * @private\n */\nconst Breadcrumbs = (id, index, max, onSelect) => {\n\tconst breadcrumbs = new Array(index < max ? index : max);\n\tconst start = Math.max(index - max, 0);\n\n\tfor (let i = start; i < index; i++) {\n\t\tbreadcrumbs[index - i - 1] = (\n\t\t\t<Breadcrumb\n\t\t\t\tonSelect={onSelect}\n\t\t\t\tid={`${id}_bc_${i}`}\n\t\t\t\tindex={i}\n\t\t\t\tkey={i}\n\t\t\t>\n\t\t\t\t<Icon>arrowlargeleft</Icon>\n\t\t\t</Breadcrumb>\n\t\t);\n\t}\n\n\treturn breadcrumbs;\n};\n\nexport default Breadcrumbs;\nexport {\n\tBreadcrumbs\n};\n","import hoc from '@enact/core/hoc';\nimport kind from '@enact/core/kind';\nimport {coerceFunction} from '@enact/core/util';\nimport Spotlight from '@enact/spotlight';\nimport ViewManager from '@enact/ui/ViewManager';\nimport invariant from 'invariant';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Skinnable from '../Skinnable';\n\nimport IdProvider from './IdProvider';\nimport {BreadcrumbArranger} from './Arrangers';\nimport Breadcrumb from './Breadcrumb';\nimport Breadcrumbs from './Breadcrumbs';\nimport CancelDecorator from './CancelDecorator';\n\nimport css from './Panels.module.less';\n\n// TODO: Figure out how to document private sub-module members\n\n/**\n * Default config for {@link agate/Panels.BreadcrumbDecorator}\n * @hocconfig\n * @memberof agate/Panels.BreadcrumbDecorator\n */\nconst defaultConfig = {\n\t/**\n\t * Classes to be added to the root node\n\t *\n\t * @type {String}\n\t * @default null\n\t * @memberof agate/Panels.BreadcrumbDecorator.defaultConfig\n\t */\n\tclassName: null,\n\n\t/**\n\t * Maximum number of breadcrumbs to display. If a function, it will be called on render to\n\t * calculate the number of breadcrumbs\n\t *\n\t * @type {Number|Function}\n\t * @default 0\n\t * @memberof agate/Panels.BreadcrumbDecorator.defaultConfig\n\t */\n\tmax: 0,\n\n\t/**\n\t * Arranger for Panels\n\t *\n\t * @type {Object}\n\t * @default null\n\t * @memberof agate/Panels.BreadcrumbDecorator.defaultConfig\n\t */\n\tpanelArranger: null\n};\n\n\n/**\n * A higher-order component that adds breadcrumbs to a Panels component\n *\n * @class BreadcrumbDecorator\n * @type {Function}\n * @hoc\n * @private\n * @memberof agate/Panels\n */\nconst BreadcrumbDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {max, panelArranger, className: cfgClassName} = config;\n\tconst calcMax = coerceFunction(max);\n\n\tconst Decorator = kind({\n\t\tname: 'BreadcrumbDecorator',\n\n\t\tpropTypes: /** @lends agate/Panels.BreadcrumbDecorator.prototype */ {\n\t\t\t/**\n\t\t\t * Array of breadcrumbs or a function that generates an array of breadcrumbs\n\t\t\t *\n\t\t\t * @type {Function|Node[]}\n\t\t\t * @default Breadcrumbs\n\t\t\t */\n\t\t\tbreadcrumbs: PropTypes.oneOfType([\n\t\t\t\tPropTypes.func,\t\t\t\t\t\t// generator\n\t\t\t\tPropTypes.arrayOf(PropTypes.node)\t// static array of breadcrumbs\n\t\t\t]),\n\n\t\t\t/**\n\t\t\t * An object containing properties to be passed to each child. `aria-owns` will be added\n\t\t\t * or updated to this object to add the breadcrumbs to the accessibility tree of each\n\t\t\t * panel.\n\t\t\t *\n\t\t\t * @type {Object}\n\t\t\t * @public\n\t\t\t */\n\t\t\tchildProps: PropTypes.object,\n\n\t\t\t/**\n\t\t\t * Panels to be rendered\n\t\t\t *\n\t\t\t * @type {Node}\n\t\t\t */\n\t\t\tchildren: PropTypes.node,\n\n\t\t\t/**\n\t\t\t * Function that generates unique identifiers for Panel instances\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @required\n\t\t\t * @private\n\t\t\t */\n\t\t\tgenerateId: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Unique identifier for the Panels instance\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\tid: PropTypes.string,\n\n\t\t\t/**\n\t\t\t * Index of the active panel\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 0\n\t\t\t */\n\t\t\tindex: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * Disable breadcrumb transitions.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t */\n\t\t\tnoAnimation: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Called when a breadcrumb is clicked. The payload includes the `index` of the selected\n\t\t\t * breadcrumb\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t */\n\t\t\tonSelectBreadcrumb: PropTypes.func\n\t\t},\n\n\t\tdefaultProps: {\n\t\t\tbreadcrumbs: Breadcrumbs,\n\t\t\tindex: 0,\n\t\t\tnoAnimation: false\n\t\t},\n\n\t\tstyles: {\n\t\t\tcss,\n\t\t\tclassName: cfgClassName\n\t\t},\n\n\t\thandlers: {\n\t\t\thandleBreadcrumbWillTransition: (ev, {id}) => {\n\t\t\t\tconst current = Spotlight.getCurrent();\n\t\t\t\tif (!current) return;\n\n\t\t\t\tconst breadcrumbs = document.querySelector(`#${id} .${css.breadcrumbs}`);\n\t\t\t\tif (breadcrumbs && breadcrumbs.contains(current)) {\n\t\t\t\t\tcurrent.blur();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tcomputed: {\n\t\t\t// Invokes the breadcrumb generator, if provided\n\t\t\tbreadcrumbs: ({breadcrumbs, id, index, onSelectBreadcrumb}) => {\n\t\t\t\tconst x = calcMax(index);\n\t\t\t\tif (Array.isArray(breadcrumbs)) {\n\t\t\t\t\t// limit the number of breadcrumbs based on the index and config.max\n\t\t\t\t\tconst start = Math.max(index - x, 0);\n\t\t\t\t\tconst children = React.Children.toArray(breadcrumbs).slice(start, start + x);\n\n\t\t\t\t\t// map over the children to either clone it with the appropriate props or to\n\t\t\t\t\t// create a Breadcrumb if passed an array of renderable primitives\n\t\t\t\t\treturn React.Children.map(children, (child, i) => {\n\t\t\t\t\t\tconst props = {\n\t\t\t\t\t\t\tid: `${id}_bc_${i}`,\n\t\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\t\tonSelect: onSelectBreadcrumb\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (React.isValidElement(child)) {\n\t\t\t\t\t\t\treturn React.cloneElement(child, props);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn React.createElement(Breadcrumb, props, child);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturn breadcrumbs(id, index, x, onSelectBreadcrumb);\n\t\t\t\t}\n\t\t\t},\n\t\t\tchildProps: ({childProps, id, index}) => {\n\t\t\t\tif (!id || index === 0) {\n\t\t\t\t\treturn childProps;\n\t\t\t\t}\n\n\t\t\t\tconst start = Math.max(index - calcMax(index), 0);\n\t\t\t\tconst updatedChildProps = Object.assign({}, childProps);\n\t\t\t\tconst ariaOwns = [];\n\t\t\t\tfor (let i = start; i < index; i++) {\n\t\t\t\t\tariaOwns.push(`${id}_bc_${i}`);\n\t\t\t\t}\n\n\t\t\t\tif (updatedChildProps['aria-owns']) {\n\t\t\t\t\tariaOwns.unshift(updatedChildProps['aria-owns']);\n\t\t\t\t}\n\n\t\t\t\tupdatedChildProps['aria-owns'] = ariaOwns.join(' ');\n\n\t\t\t\treturn updatedChildProps;\n\t\t\t}\n\t\t},\n\n\t\trender: ({breadcrumbs, childProps, children, className, generateId, handleBreadcrumbWillTransition, id, index, noAnimation, ...rest}) => {\n\t\t\tdelete rest.onSelectBreadcrumb;\n\n\t\t\tconst count = React.Children.count(children);\n\t\t\tinvariant(\n\t\t\t\tindex === 0 && count === 0 || index < count,\n\t\t\t\t`Panels index, ${index}, is invalid for number of children, ${count}`\n\t\t\t);\n\n\t\t\treturn (\n\t\t\t\t<div className={className} data-index={index} id={id}>\n\t\t\t\t\t<ViewManager\n\t\t\t\t\t\tarranger={BreadcrumbArranger}\n\t\t\t\t\t\tclassName={css.breadcrumbs}\n\t\t\t\t\t\tduration={300}\n\t\t\t\t\t\tend={calcMax()}\n\t\t\t\t\t\tindex={index - 1}\n\t\t\t\t\t\tnoAnimation={noAnimation}\n\t\t\t\t\t\tonWillTransition={handleBreadcrumbWillTransition}\n\t\t\t\t\t\tstart={0}\n\t\t\t\t\t>\n\t\t\t\t\t\t{breadcrumbs}\n\t\t\t\t\t</ViewManager>\n\t\t\t\t\t<Wrapped\n\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\tarranger={panelArranger}\n\t\t\t\t\t\tchildProps={childProps}\n\t\t\t\t\t\tgenerateId={generateId}\n\t\t\t\t\t\tid={`${id}_panels`}\n\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\tnoAnimation={noAnimation}\n\n\t\t\t\t\t>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</Wrapped>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t});\n\n\treturn CancelDecorator(\n\t\t{cancel: 'onSelectBreadcrumb'},\n\t\tIdProvider(\n\t\t\tSkinnable(\n\t\t\t\tDecorator\n\t\t\t)\n\t\t)\n\t);\n});\n\nexport default BreadcrumbDecorator;\nexport {\n\tBreadcrumbDecorator\n};\n","import Measurable from '@enact/ui/Measurable';\nimport Slottable from '@enact/ui/Slottable';\nimport compose from 'ramda/src/compose';\n\nimport Skinnable from '../Skinnable/Skinnable';\n\nimport {PanelsArranger} from './Arrangers';\nimport BreadcrumbDecorator from './BreadcrumbDecorator';\nimport {PanelsBase} from './Panels';\n\nconst BreadcrumbPanelsDecorator = compose(\n\tSlottable({slots: ['controls']}),\n\tMeasurable({refProp: 'controlsRef', measurementProp: 'controlsMeasurements'}),\n\tSkinnable,\n\tBreadcrumbDecorator({\n\t\tclassName: 'panels breadcrumbPanels enact-fit',\n\t\tmax: 1,\n\t\tpanelArranger: PanelsArranger\n\t})\n);\n\n/**\n * An instance of Panels in which the Panel uses the entire viewable screen with a single breadcrumb\n * for the previous panel when viewing any panel beyond the first.\n *\n * **Note** BreadcrumbPanels requires that the `data-index` property that all panels variations add to\n * its children be applied to the root DOM node of each child in order to manage layout correctly.\n * It is recommended that you spread any extra props on the root node but you may also handle this\n * property explicitly if necessary.\n *\n * @class BreadcrumbPanels\n * @memberof agate/Panels\n * @ui\n * @public\n */\nconst BreadcrumbPanels = BreadcrumbPanelsDecorator(PanelsBase);\nBreadcrumbPanels.displayName = 'BreadcrumbPanels';\n\nexport default BreadcrumbPanels;\nexport {\n\tBreadcrumbPanels\n};\n","import {forward, handle} from '@enact/core/handle';\nimport kind from '@enact/core/kind';\nimport Slottable from '@enact/ui/Slottable';\nimport Spotlight from '@enact/spotlight';\nimport SpotlightContainerDecorator, {spotlightDefaultClass} from '@enact/spotlight/SpotlightContainerDecorator';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './Panel.module.less';\n\nlet panelId = 0;\n\n/**\n * A Panel is the standard view container used inside a [Panels]{@link agate/Panels.Panels} view\n * manager instance. [Panels]{@link agate/Panels.Panels} will typically contain several\n * instances of these and transition between them.\n *\n * @class Panel\n * @memberof agate/Panels\n * @ui\n * @public\n */\nconst PanelBase = kind({\n\n\tname: 'Panel',\n\n\tpropTypes: /** @lends agate/Panels.Panel.prototype */ {\n\t\t/**\n\t\t * By default, the panel will be labeled by its [Header]{@link agate/Header.Header}.\n\t\t * When `aria-label` is set, it will be used instead to provide an accessibility label for\n\t\t * the panel.\n\t\t *\n\t\t * @memberof agate/Panels.Panel.prototype\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\t'aria-label': PropTypes.string,\n\n\t\t/**\n\t\t * Sets the strategy used to automatically focus an element within the panel upon render.\n\t\t *\n\t\t * * \"none\" - Automatic focus is disabled\n\t\t * * \"last-focused\" - The element last focused in the panel with be restored\n\t\t * * \"default-element\" - The first spottable component within the body will be focused\n\t\t * * Custom Selector - A custom CSS selector may also be provided which will be used to find\n\t\t *   the target within the Panel\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'last-focused'\n\t\t * @public\n\t\t */\n\t\tautoFocus: PropTypes.string,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `panel` - The root class name\n\t\t * * `body` - Applied to the <section> element that displays the `children` of the `Panel`\n\t\t * * `header` - Applied to the header element\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Header for the panel.\n\t\t *\n\t\t * This is usually passed by the [Slottable]{@link ui/Slottable.Slottable} API by using a\n\t\t * [Header]{@link agate/Header.Header} component as a child of the Panel.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\theader: PropTypes.node,\n\n\t\t/**\n\t\t * Hides the body components.\n\t\t *\n\t\t * When a Panel is used within [`Panels`]{@link agate/Panels.Panels},\n\t\t * [`BreadcrumbPanels`]{@link agate/Panels.BreadcrumbPanels}, or\n\t\t * [`TabbedPanels`]{@link agate/Panels.TabbedPanels},\n\t\t * this property will be set automatically to `true` on render and `false` after animating\n\t\t * into view.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\thideChildren: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tautoFocus: 'last-focused',\n\t\thideChildren: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'panel',\n\t\tpublicClassNames: true\n\t},\n\n\thandlers: {\n\t\tonScroll: handle(\n\t\t\tforward('onScroll'),\n\t\t\t({currentTarget}) => {\n\t\t\t\tcurrentTarget.scrollTop = 0;\n\t\t\t\tcurrentTarget.scrollLeft = 0;\n\t\t\t}\n\t\t),\n\t\tspotOnRender: (node, {autoFocus}) => {\n\t\t\tif (node && !Spotlight.getCurrent()) {\n\t\t\t\tconst {spotlightId} = node.dataset;\n\t\t\t\tconst config = {\n\t\t\t\t\tenterTo: 'last-focused'\n\t\t\t\t};\n\n\t\t\t\tif (autoFocus !== 'last-focused') {\n\t\t\t\t\tconfig.enterTo = 'default-element';\n\n\t\t\t\t\tif (autoFocus !== 'default-element') {\n\t\t\t\t\t\tconfig.defaultElement = autoFocus;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tSpotlight.set(spotlightId, config);\n\t\t\t\tSpotlight.focus(spotlightId);\n\t\t\t}\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tspotOnRender: ({autoFocus, hideChildren, spotOnRender}) => {\n\t\t\t// In order to spot the body components, we defer spotting until !hideChildren. If the\n\t\t\t// Panel opts out of hideChildren support by explicitly setting it to false, it'll spot\n\t\t\t// on first render.\n\t\t\tif (hideChildren || autoFocus === 'none') {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn spotOnRender;\n\t\t},\n\t\tchildren: ({children, hideChildren}) => hideChildren ? null : children,\n\t\tbodyClassName: ({header, hideChildren, styler}) => styler.join({\n\t\t\tbody: true,\n\t\t\tnoHeader: !header,\n\t\t\tvisible: !hideChildren\n\t\t}),\n\t\t// nulling headerId prevents the aria-labelledby relationship which is necessary to allow\n\t\t// aria-label to take precedence\n\t\t// (see https://www.w3.org/TR/wai-aria/states_and_properties#aria-labelledby)\n\t\theaderId: ({'aria-label': label}) => label ? null : `panel_${++panelId}_header`\n\t},\n\n\trender: ({bodyClassName, css, children, header, headerId, spotOnRender, ...rest}) => {\n\t\tdelete rest.autoFocus;\n\t\tdelete rest.hideChildren;\n\n\t\treturn (\n\t\t\t<article role=\"region\" {...rest} aria-labelledby={headerId} ref={spotOnRender}>\n\t\t\t\t{header ? <div className={css.header} id={headerId}>{header}</div> : null}\n\t\t\t\t<section className={bodyClassName}>{children}</section>\n\t\t\t</article>\n\t\t);\n\t}\n});\n\nconst Panel = SpotlightContainerDecorator(\n\t{\n\t\t// prefer any spottable within the panel body for first render\n\t\tcontinue5WayHold: true,\n\t\tdefaultElement: [`.${spotlightDefaultClass}`, `.${componentCss.body} *`],\n\t\tenterTo: 'last-focused',\n\t\tpreserveId: true\n\t},\n\tSlottable(\n\t\t{slots: ['header']},\n\t\tSkinnable(\n\t\t\tPanelBase\n\t\t)\n\t)\n);\n\nexport default Panel;\nexport {\n\tPanel,\n\tPanelBase\n};\n","/**\n * Panels provides a way to manage different screens of an app.\n *\n * @module agate/Panels\n * @exports BreadcrumbPanels\n * @exports Breadcrumb\n * @exports Panel\n * @exports Panels\n * @exports PanelsBase\n * @exports TabbedPanels\n */\n\nimport Breadcrumb from './Breadcrumb';\nimport BreadcrumbPanels from './BreadcrumbPanels';\nimport Panel from './Panel';\nimport {Panels, PanelsBase} from './Panels';\nimport TabbedPanels from './TabbedPanels';\n\nexport default Panels;\nexport {\n\tBreadcrumbPanels,\n\tBreadcrumb,\n\tPanel,\n\tPanels,\n\tPanelsBase,\n\tTabbedPanels\n};\n","/**\n * A higher-order component that handles component resize event.\n *\n * @module ui/Resizable\n * @exports Resizable\n */\n\nimport {call, forward, handle} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport invariant from 'invariant';\nimport React from 'react';\n\n/**\n * Used internally for things to notify children that they need to resize because of a parent\n * update.\n *\n * @type Object\n * @private\n */\nconst ResizeContext = React.createContext();\n\n/**\n * Default config for `Resizable`.\n *\n * @memberof ui/Resizable.Resizable\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * A handler to process the `resize` event.\n\t *\n\t * It should return a truthy value if the event should trigger a resize.\n\t *\n\t * @type {Function}\n\t * @default null\n\t * @see {@link core/handle}\n\t * @memberof ui/Resizable.Resizable.defaultConfig\n\t */\n\tfilter: null,\n\n\t/**\n\t * The name of the event on the wrapped component to listen to for size changes.\n\t *\n\t * This event name will be passed to the wrapped component and will also be forwarded (if\n\t * needed) to the parent component.\n\t *\n\t * @type {String}\n\t * @required\n\t * @memberof ui/Resizable.Resizable.defaultConfig\n\t */\n\tresize: null\n};\n\n/**\n * A higher-order component that notifies a container that the wrapped component has been resized.\n *\n * It may be useful in cases where a component may need to update itself as a result of its children\n * changing in size, such as a [Scroller]{@link ui/Scroller}.\n *\n * Containers must provide an `invalidateBounds` method via React's context in order for `Resizable`\n * instances to notify it of resize.\n *\n * The wrapped component must respond to the configured\n * [resize]{@link ui/Resizable.Resizable.defaultConfig.resize} event.\n *\n * @class Resizable\n * @memberof ui/Resizable\n * @hoc\n * @public\n */\nconst Resizable = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {filter, resize} = config;\n\n\tinvariant(resize, `resize is required by Resizable but was omitted when applied to ${Wrapped.displayName}`);\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'Resizable';\n\n\t\tstatic contextType = ResizeContext;\n\n\t\tcomponentDidMount () {\n\t\t\tif (this.context && typeof this.context === 'function') {\n\t\t\t\t// Registry requires a callback but (for now at least) Resizable doesn't respond to\n\t\t\t\t// upstream events so we're initializing a no-op function to \"handle\" callbacks\n\t\t\t\tthis.resizeRegistry = this.context(() => {});\n\t\t\t}\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tif (this.resizeRegistry) {\n\t\t\t\tthis.resizeRegistry.unregister();\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t * Notifies a container that a resize is necessary\n\t\t *\n\t\t * @returns {undefined}\n\t\t * @private\n\t\t */\n\t\tinvalidateBounds () {\n\t\t\tif (this.resizeRegistry) {\n\t\t\t\tthis.resizeRegistry.notify({action: 'invalidateBounds'});\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t * Handles the event that indicates a resize is necessary\n\t\t *\n\t\t * @param   {Object}    ev  Event payload\n\t\t *\n\t\t * @returns {undefined}\n\t\t * @private\n\t\t */\n\t\thandleResize = handle(\n\t\t\tforward(resize),\n\t\t\t// optionally filter the event before notifying the container\n\t\t\tfilter,\n\t\t\tcall('invalidateBounds')\n\t\t).bind(this);\n\n\t\trender () {\n\t\t\tconst props = Object.assign({}, this.props);\n\t\t\tprops[resize] = this.handleResize;\n\n\t\t\treturn <Wrapped {...props} />;\n\t\t}\n\t};\n});\n\nexport default Resizable;\nexport {\n\tResizable,\n\tResizeContext\n};\n","/**\n * Provides a class which allows consumers to safely pause and resume spotlight without resuming\n * another consumer's pause.\n *\n * When multiple components attempt to pause and resume spotlight at overlapping times using\n * [Spotlight.pause()]{@link spotlight.Spotlight.pause} and\n * [Spotlight.resume()]{@link spotlight.Spotlight.resume}, one component might resume spotlight when\n * another expected it to still be paused.\n *\n * `Pause` helps to address this by setting a \"soft lock\" on the pause which informs other instances\n * that the spotlight pause state is being controlled. When pause is locked, it can only be resumed\n * by the instance that locked it. Subsequent calls to `pause` and `resume` on another instance of\n * `Pause` have no effect.\n *\n * *Note:* The top-level [Spotlight.pause()]{@link spotlight.Spotlight.pause} and\n * [Spotlight.resume()]{@link spotlight.Spotlight.resume} do not respect the pause locks and act as\n * a user-space escape hatch.\n *\n * ```\n * import Pause from '@enact/spotlight/Pause';\n *\n * const paused1 = new Pause('paused 1');\n * const paused2 = new Pause('paused 2');\n *\n * // pauses spotlight\n * paused1.pause();\n *\n * // has no effect because pause1 is in control\n * paused2.pause();\n *\n * // has no effect because pause1 is in control\n * paused2.resume();\n *\n * // resumes spotlight\n * paused1.resume();\n *\n * ```\n *\n * @module spotlight/Pause\n * @exports Pause\n * @exports isPaused\n * @exports pause\n * @exports resume\n */\n\nlet paused = false;\n\n// Private, exported methods used by Spotlight to set and query the pause state from its public API\n\nfunction pause () {\n\tpaused = true;\n}\n\nfunction resume () {\n\tpaused = false;\n}\n\nfunction isPaused () {\n\treturn paused !== false;\n}\n\n/**\n * Acts as a semaphore for Spotlight pause state ensuring that only the last Pause instance can\n * resume Spotlight.\n *\n * *Note* {@link spotlight/Spotlight.resume} will always resume spotlight regardless of what last\n * paused spotlight and can be used as an escape hatch to force resumption.\n *\n * @class Pause\n * @memberof spotlight/Pause\n * @public\n */\nclass Pause {\n\n\t/**\n\t * Accepts a name for the instance\n\t *\n\t * The `name` is not used but may be useful for debugging which instance has currently paused\n\t * Spotlight.\n\t *\n\t * @param {String} name The name of the pause instance\n\t * @memberof spotlight/Pause.Pause.prototype\n\t * @constructor\n\t * @public\n\t */\n\tconstructor (name) {\n\t\tthis.name = name;\n\t}\n\n\ttoString () {\n\t\treturn `Pause<${this.name}>`;\n\t}\n\n\t/**\n\t * Returns `true` when Spotlight is paused by this instance\n\t *\n\t * @returns {Boolean}\n\t * @memberof spotlight/Pause.Pause.prototype\n\t * @public\n\t */\n\tisPaused () {\n\t\treturn paused === this;\n\t}\n\n\t/**\n\t * Pauses spotlight if not currently paused\n\t *\n\t * @returns {undefined}\n\t * @memberof spotlight/Pause.Pause.prototype\n\t * @public\n\t */\n\tpause () {\n\t\tif (!isPaused()) {\n\t\t\tpaused = this;\n\t\t}\n\t}\n\n\t/**\n\t * Resumes spotlight if this instance was the last to pause spotlight\n\t *\n\t * @returns {Boolean} `true` if spotlight was resumed\n\t * @memberof spotlight/Pause.Pause.prototype\n\t * @public\n\t */\n\tresume () {\n\t\tif (this.isPaused()) {\n\t\t\tresume();\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n}\n\nexport default Pause;\nexport {\n\tPause,\n\tisPaused,\n\tpause,\n\tresume\n};\n","/**\n * Exports methods and members for working with pointer events in spotlight\n *\n * @module spotlight/pointer\n * @private\n */\n\nimport {is} from '@enact/core/keymap';\nimport {Job} from '@enact/core/util';\n\n/*\n * Whether Spotlight is in pointer mode (as opposed to 5-way mode).\n *\n * @type {Boolean}\n * @default true\n * @private\n */\nlet _pointerMode = true;\n\n/**\n * Sets the current pointer mode\n *\n * @param   {Boolean} pointerMode `true` to enable pointer mode; `false` to disable pointer mode\n * @memberof spotlight/pointer\n * @private\n */\nconst setPointerMode = (pointerMode) => {\n\t_pointerMode = pointerMode;\n};\n\n/**\n * Gets the current pointer mode\n *\n * @returns {Boolean} The current state of pointer mode\n * @memberof spotlight/pointer\n * @private\n */\nconst getPointerMode = () => {\n\treturn _pointerMode;\n};\n\n// Cached pointer position\nlet _pointerX = null;\nlet _pointerY = null;\n\n/**\n * Returns whether or not the current pointer position matches the provided coordinates\n *\n * @param   {Number} x Pointer position relative to the left side of the viewport\n * @param   {Number} y Pointer position relative to the top side of the viewport\n *\n * @returns {Boolean}   `true` if the position was changed\n * @memberof spotlight/pointer\n * @private\n */\nconst hasPointerMoved = (x, y) => (\n\tx !== _pointerX || y !== _pointerY\n);\n\n/**\n * Updates the cached pointer position, updating the current pointer mode when the position has\n * changed.\n *\n * @param   {Number} x Pointer position relative to the left side of the viewport\n * @param   {Number} y Pointer position relative to the top side of the viewport\n *\n * @returns {Boolean}   `true` if the position was updated\n * @memberof spotlight/pointer\n * @private\n */\nconst updatePointerPosition = (x, y) => {\n\t// Chrome emits mousemove on scroll, but client coordinates do not change.\n\tif (hasPointerMoved(x, y)) {\n\t\tsetPointerMode(true);\n\t\t_pointerX = x;\n\t\t_pointerY = y;\n\n\t\treturn true;\n\t}\n\n\treturn false;\n};\n\n/**\n * Returns the last known position of the pointer\n *\n * @returns {Object} Contains `x` and `y` coordinates for the pointer\n * @memberof spotlight/pointer\n * @private\n */\nconst getLastPointerPosition = () => {\n\treturn {\n\t\tx: _pointerX,\n\t\ty: _pointerY\n\t};\n};\n\n// 30ms (_pointerHiddenToKeyTimeout) is semi-arbitrary, to account for the time it takes for the\n// following directional key event to fire, and to prevent momentary spotting of the last\n// focused item - needs to be a value large enough to account for the potentially-trailing\n// event, but not too large that another unrelated event can be fired inside the window\nconst hidePointerJob = new Job(function (callback) {\n\tsetPointerMode(false);\n\tif (callback) {\n\t\tcallback();\n\t}\n}, 30);\n\n\n/**\n * Notifies spotlight of a change in the pointer position\n *\n * @param   {Node}     target   Node under the pointer\n * @param   {Number}   x        Horizontal position relative to the left side of the viewport\n * @param   {Number}   y        Vertical position relative to the top side of the viewport\n *\n * @returns {Boolean}           `true` if the change in position results in a change in focus\n * @memberof spotlight/pointer\n * @private\n */\nconst notifyPointerMove = (current, target, x, y) => {\n\tconst priorPointerMode = getPointerMode();\n\n\tif (updatePointerPosition(x, y)) {\n\t\t// if we're entering pointer mode and the target element isn't within the currently\n\t\t// focused element, there may be a new navigable target\n\t\treturn !priorPointerMode || !current || !current.contains(target);\n\t}\n\n\t// the pointer hasn't actually moved (surprise!)\n\treturn false;\n};\n\n/**\n * Notifies the pointer module of key events. If the pointer should be hidden, a timer is set and\n * `callback` is invoked after the timer has expired and pointer mode has been disabled. For any\n * other type of key event, pointer mode is disabled and `false` is returned.\n *\n * @param   {Number}    keyCode     Key event key code\n * @param   {Function}  [callback]  Optional callback to invoke upon hiding the pointer.\n *\n * @returns {Boolean}               `true` for pointer hide or show key events\n * @memberof spotlight/pointer\n * @private\n */\nconst notifyKeyDown = (keyCode, callback) => {\n\tconst palmSystem = window.PalmSystem;\n\n\t// for hide/show pointer events, handle them and return true\n\tif (is('pointerHide', keyCode)) {\n\t\thidePointerJob.start(callback);\n\t\treturn true;\n\t} else if (is('pointerShow', keyCode)) {\n\t\tsetPointerMode(true);\n\t\treturn true;\n\t} else if (\n\t\t!is('nonModal', keyCode) &&\n\t\t!is('cancel', keyCode) &&\n\t\t!(is('enter', keyCode) && palmSystem && palmSystem.cursor && palmSystem.cursor.visibility)\n\t) {\n\t\tsetPointerMode(false);\n\t}\n\n\treturn false;\n};\n\nexport {\n\tgetLastPointerPosition,\n\tgetPointerMode,\n\thasPointerMoved,\n\tnotifyKeyDown,\n\tnotifyPointerMove,\n\tsetPointerMode,\n\tupdatePointerPosition\n};\n","import clamp from 'ramda/src/clamp';\nimport PropTypes from 'prop-types';\n\nconst Tracking = {\n\tUntracked: 0,\n\tActive: 1,\n\tPaused: 2\n};\n\nclass Drag {\n\tdragConfig = null;\n\n\tisDragging = () => this.dragConfig != null;\n\n\tsetContainerBounds = (node) => {\n\t\tconst {global: isGlobal, boxSizing} = this.dragConfig;\n\t\tlet bounds = null;\n\n\t\tif (!node) return;\n\n\t\tif (isGlobal) {\n\t\t\tbounds = {\n\t\t\t\tminX: 0,\n\t\t\t\tminY: 0,\n\t\t\t\tmaxX: window.innerWidth,\n\t\t\t\tmaxY: window.innerHeight\n\t\t\t};\n\t\t} else {\n\t\t\tbounds = node.getBoundingClientRect();\n\n\t\t\t// adjust for padding when using content-box\n\t\t\tif (boxSizing === 'content-box') {\n\t\t\t\tconst computedStyle = window.getComputedStyle(node);\n\t\t\t\tbounds = {\n\t\t\t\t\tminX: bounds.left + parseInt(computedStyle.paddingLeft),\n\t\t\t\t\tminY: bounds.top + parseInt(computedStyle.paddingTop),\n\t\t\t\t\tmaxX: bounds.right - parseInt(computedStyle.paddingRight),\n\t\t\t\t\tmaxY: bounds.bottom - parseInt(computedStyle.paddingBottom)\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tthis.bounds = bounds;\n\t};\n\n\tupdatePosition = (clientX, clientY) => {\n\t\tconst {maxX, maxY, minX, minY} = this.bounds;\n\n\t\tconst x = clamp(minX, maxX, clientX) - minX;\n\t\tconst y = clamp(minY, maxY, clientY) - minY;\n\n\t\tif (x !== this.x || y !== this.y) {\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\tbegin = (config, {noResume, onDrag, onDragEnd, onDragStart}, coords, node) => {\n\t\tif (!onDrag && !onDragStart && !onDragEnd) return;\n\n\t\tconst {x, y} = coords;\n\n\t\tthis.tracking = Tracking.Untracked;\n\t\tthis.startX = x;\n\t\tthis.startY = y;\n\n\t\tthis.dragConfig = {\n\t\t\t...config,\n\t\t\tnode,\n\t\t\tonDragStart,\n\t\t\tonDragEnd,\n\t\t\tonDrag,\n\t\t\tresume: !noResume\n\t\t};\n\n\t\tthis.setContainerBounds(node);\n\t\tthis.move(coords);\n\t};\n\n\t// This method will get the `onDrag`, `onDragEnd`, `onDragStart` props in the existing `dragConfig`.\n\tupdateProps = ({onDrag, onDragEnd, onDragStart}) => {\n\t\t// Check `isDragging` gesture is not in progress. Check if gesture exists before updating the references to the `dragConfig`\n\t\tif (!this.isDragging()) return;\n\n\t\t// This will update the `dragConfig` with the new value\n\t\tthis.dragConfig.onDragStart = onDragStart;\n\t\tthis.dragConfig.onDrag = onDrag;\n\t\tthis.dragConfig.onDragEnd = onDragEnd;\n\t};\n\n\tmove = (coords) => {\n\t\tif (!this.isDragging()) return;\n\n\t\tconst {moveTolerance, onDrag, onDragStart} = this.dragConfig;\n\n\t\tif (this.tracking === Tracking.Untracked) {\n\t\t\tconst dx = coords.x - this.startX;\n\t\t\tconst dy = coords.y - this.startY;\n\n\t\t\tif (Math.sqrt(dx * dx + dy * dy) >= moveTolerance) {\n\t\t\t\tthis.tracking = Tracking.Active;\n\n\t\t\t\tif (onDragStart) {\n\t\t\t\t\tonDragStart({\n\t\t\t\t\t\ttype: 'onDragStart',\n\t\t\t\t\t\t...coords\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (onDrag && this.tracking === Tracking.Active && this.updatePosition(coords)) {\n\t\t\tonDrag({\n\t\t\t\ttype: 'onDrag',\n\t\t\t\t...coords\n\t\t\t});\n\t\t}\n\t};\n\n\tblur = () => {\n\t\tif (!this.isDragging()) return;\n\n\t\tif (!this.dragConfig.global) {\n\t\t\tthis.end();\n\t\t}\n\t};\n\n\tend = () => {\n\t\tif (!this.isDragging()) return;\n\n\t\tconst {onDragEnd} = this.dragConfig;\n\t\tif (onDragEnd && this.tracking !== Tracking.Untracked) {\n\t\t\tonDragEnd({type: 'onDragEnd'});\n\t\t}\n\n\t\tthis.tracking = Tracking.Untracked;\n\t\tthis.dragConfig = null;\n\t};\n\n\tenter = () => {\n\t\tif (!this.isDragging()) return;\n\n\t\tif (this.dragConfig.resume && this.tracking === Tracking.Paused) {\n\t\t\tthis.tracking = Tracking.Active;\n\t\t}\n\t};\n\n\tleave = () => {\n\t\tif (!this.isDragging()) return;\n\n\t\tif (!this.dragConfig.global && this.tracking === Tracking.Active) {\n\t\t\tthis.tracking = Tracking.Paused;\n\t\t}\n\t};\n\n}\n\nconst defaultDragConfig = {\n\tboxSizing: 'border-box',\n\tglobal: false,\n\tmoveTolerance: 16\n};\n\nconst dragConfigPropType = PropTypes.shape({\n\tboxSizing: PropTypes.string,\n\tglobal: PropTypes.bool,\n\tmoveTolerance: PropTypes.number\n});\n\nexport default Drag;\nexport {\n\tdefaultDragConfig,\n\tDrag,\n\tdragConfigPropType\n};\n","import {Job} from '@enact/core/util';\nimport PropTypes from 'prop-types';\n\nclass Flick {\n\tconstructor () {\n\t\tthis.tracking = false;\n\t\tthis.moves = [];\n\t}\n\n\tisTracking () {\n\t\treturn this.tracking;\n\t}\n\n\tbegin = ({maxDuration, maxMoves, minVelocity}, {onFlick}, coords) => {\n\t\tthis.minVelocity = minVelocity;\n\t\tthis.maxMoves = maxMoves;\n\n\t\tif (maxDuration !== null) {\n\t\t\tthis.cancelJob.startAfter(maxDuration);\n\t\t}\n\t\tthis.tracking = !!onFlick;\n\t\tthis.moves.length = 0;\n\t\tthis.onFlick = onFlick;\n\n\t\tthis.move(coords);\n\t};\n\n\t// This method will get the `onFlick` props in the existing `flickConfig` values.\n\tupdateProps = ({onFlick}) => {\n\t\t// Check `tracking` gesture is not in progress. Check if gesture exists before updating the references to the `flickConfig`\n\t\tif (!this.tracking) return;\n\n\t\t// This will update the `flickConfig` with the new value\n\t\tthis.flickConfig.onFlick = onFlick;\n\t};\n\n\tmove = ({x, y}) => {\n\t\tif (!this.tracking) return;\n\n\t\tthis.moves.push({\n\t\t\tx,\n\t\t\ty,\n\t\t\tt: window.performance.now()\n\t\t});\n\n\t\t// track specified # of points\n\t\tif (this.moves.length > this.maxMoves) {\n\t\t\tthis.moves.shift();\n\t\t}\n\t};\n\n\tblur = () => {\n\t\tthis.end();\n\t};\n\n\tcancel = () => {\n\t\tthis.tracking = false;\n\t};\n\n\tcancelJob = new Job(this.cancel);\n\n\tend = () => {\n\t\tif (!this.tracking) return;\n\n\t\tthis.cancelJob.stop();\n\n\t\tconst moves = this.moves;\n\t\tif (moves.length > 1) {\n\t\t\t// note: important to use up time to reduce flick\n\t\t\t// velocity based on time between move and up.\n\t\t\tconst last = moves[moves.length - 1];\n\t\t\tconst t = window.performance.now();\n\n\t\t\tlet x = 0, y = 0;\n\n\t\t\t// take the greatest of flick between each tracked move and last move\n\t\t\tfor (let i = moves.length - 2, m; (m = moves[i]); i--) {\n\t\t\t\t// this flick (this move - last move) / (this time - last time)\n\t\t\t\tconst dt = t - m.t;\n\t\t\t\tconst vx = (last.x - m.x) / dt;\n\t\t\t\tconst vy = (last.y - m.y) / dt;\n\n\t\t\t\t// if either axis is a greater flick than previously recorded use this one\n\t\t\t\tif (Math.abs(vx) > Math.abs(x) || Math.abs(vy) > Math.abs(y)) {\n\t\t\t\t\tx = vx;\n\t\t\t\t\ty = vy;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst v = Math.sqrt(x * x + y * y);\n\t\t\tif (v > this.minVelocity) {\n\t\t\t\tconst vertical = Math.abs(y) > Math.abs(x);\n\t\t\t\t// generate the flick using the start event so it has those coordinates\n\t\t\t\t// this.sendFlick(ti.startEvent, x, y, v);\n\t\t\t\tthis.onFlick({\n\t\t\t\t\ttype: 'onFlick',\n\t\t\t\t\tdirection: vertical ? 'vertical' : 'horizontal',\n\t\t\t\t\tvelocityX: x,\n\t\t\t\t\tvelocityY: y,\n\t\t\t\t\tvelocity: v\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tthis.tracking = false;\n\t};\n}\n\nconst defaultFlickConfig = {\n\tmaxDuration: 250,\n\tmaxMoves: 5,\n\tminVelocity: 0.1\n};\n\nconst flickConfigPropType = PropTypes.shape({\n\tmaxDuration: PropTypes.number,\n\tmaxMoves: PropTypes.number,\n\tmaxVelocity: PropTypes.number\n});\n\nexport default Flick;\nexport {\n\tdefaultFlickConfig,\n\tFlick,\n\tflickConfigPropType\n};\n","import PropTypes from 'prop-types';\n\nclass Hold {\n\tconstructor () {\n\t\tthis.holdJob = null;\n\t\tthis.holdStart = null;\n\t\tthis.pulsing = false;\n\t\tthis.next = null;\n\t}\n\n\tisHolding = () => this.holdConfig != null;\n\n\tisWithinTolerance = ({x, y}) => {\n\t\tconst {moveTolerance} = this.holdConfig;\n\t\tconst dx = this.startX - x;\n\t\tconst dy = this.startY - y;\n\n\t\treturn Math.sqrt(dx * dx + dy * dy) < moveTolerance;\n\t};\n\n\tbegin = (defaultConfig, {holdConfig, noResume, onHold, onHoldEnd, onHoldPulse}, {x, y}) => {\n\t\tif (!onHold && !onHoldPulse) return;\n\n\t\tthis.startX = x;\n\t\tthis.startY = y;\n\n\t\tthis.holdConfig = {\n\t\t\t...defaultConfig,\n\t\t\t...holdConfig,\n\t\t\tonHold,\n\t\t\tonHoldEnd,\n\t\t\tonHoldPulse,\n\t\t\tresume: !noResume\n\t\t};\n\n\t\t// copy the events array since it is mutated for each hold\n\t\tthis.holdConfig.events = this.holdConfig.events.slice();\n\t\tthis.holdConfig.events.sort((a, b) => {\n\t\t\tif (a.time < b.time) return -1;\n\t\t\tif (a.time > b.time) return 1;\n\t\t\treturn 0;\n\t\t});\n\n\t\tthis.pulsing = false;\n\t\tthis.next = this.holdConfig.events.shift();\n\t\tif (this.next) {\n\t\t\tthis.holdStart = window.performance.now();\n\t\t\tthis.startJob();\n\t\t}\n\t};\n\n\t// This method will get the `onHold`, `onHoldEnd`, `onHoldPulse` props and update in the existing `holdConfig`.\n\tupdateProps = ({onHold, onHoldEnd, onHoldPulse}) => {\n\t\t// check `isHolding` gesture is not in progress. Check if gesture exists before updating the references to the `holdConfig`\n\t\tif (!this.isHolding()) return;\n\n\t\t// Update the original values with new values of the gestures\n\t\tthis.holdConfig.onHoldPulse = onHoldPulse;\n\t\tthis.holdConfig.onHold = onHold;\n\t\tthis.holdConfig.onHoldEnd = onHoldEnd;\n\t};\n\n\tmove = (coords) => {\n\t\tif (!this.isHolding()) return;\n\n\t\tconst {cancelOnMove, resume} = this.holdConfig;\n\n\t\tif (cancelOnMove) {\n\t\t\tconst shouldEnd = !this.isWithinTolerance(coords);\n\n\t\t\tif (shouldEnd) {\n\t\t\t\tif (resume) {\n\t\t\t\t\tthis.suspend();\n\t\t\t\t} else {\n\t\t\t\t\tthis.end();\n\t\t\t\t}\n\t\t\t} else if (resume && !shouldEnd) {\n\t\t\t\tthis.resume();\n\t\t\t}\n\t\t}\n\t};\n\n\tblur = () => {\n\t\tif (!this.isHolding()) return;\n\n\t\tif (!this.holdConfig.global) {\n\t\t\tthis.end();\n\t\t}\n\t};\n\n\tend = () => {\n\t\tif (!this.isHolding()) return;\n\n\t\tconst {onHoldEnd} = this.holdConfig;\n\t\tif (this.pulsing && onHoldEnd) {\n\t\t\tconst time = window.performance.now() - this.holdStart;\n\t\t\tonHoldEnd({\n\t\t\t\ttype: 'onHoldEnd',\n\t\t\t\ttime\n\t\t\t});\n\t\t}\n\n\t\tthis.suspend();\n\t\tthis.pulsing = false;\n\t\tthis.holdConfig = null;\n\t};\n\n\tenter = () => {\n\t\tif (!this.isHolding()) return;\n\n\t\tconst {cancelOnMove, resume} = this.holdConfig;\n\n\t\tif (resume && !cancelOnMove) {\n\t\t\tthis.resume();\n\t\t}\n\t};\n\n\tleave = () => {\n\t\tif (!this.isHolding()) return;\n\n\t\tconst {global: isGlobal, resume} = this.holdConfig;\n\n\t\tif (isGlobal) return;\n\n\t\tif (resume) {\n\t\t\tthis.suspend();\n\t\t} else {\n\t\t\tthis.end();\n\t\t}\n\t};\n\n\tsuspend = () => {\n\t\tclearInterval(this.holdJob);\n\t\tthis.holdJob = null;\n\t};\n\n\tresume = () => {\n\t\tif (this.holdJob !== null) return;\n\n\t\tthis.handlePulse();\n\t\tthis.startJob();\n\t};\n\n\tstartJob () {\n\t\tconst {frequency} = this.holdConfig;\n\n\t\tif (!this.holdJob) {\n\t\t\tthis.holdJob = setInterval(this.handlePulse, frequency);\n\t\t}\n\t}\n\n\thandlePulse = () => {\n\t\tconst holdTime = window.performance.now() - this.holdStart;\n\n\t\tlet n = this.next;\n\t\twhile (n && n.time <= holdTime) {\n\t\t\tconst {events, onHold} = this.holdConfig;\n\t\t\tthis.pulsing = true;\n\t\t\tif (onHold) {\n\t\t\t\tonHold({\n\t\t\t\t\ttype: 'onHold',\n\t\t\t\t\t...n\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// if the hold is canceled from the onHold handler, we should bail early and prevent\n\t\t\t// additional hold/pulse events\n\t\t\tif (!this.isHolding()) {\n\t\t\t\tthis.pulsing = false;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tn = this.next = events && events.shift();\n\t\t}\n\n\t\tif (this.pulsing) {\n\t\t\tconst {onHoldPulse} = this.holdConfig;\n\n\t\t\tif (onHoldPulse) {\n\t\t\t\tonHoldPulse({\n\t\t\t\t\ttype: 'onHoldPulse',\n\t\t\t\t\ttime: holdTime\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n}\n\nconst defaultHoldConfig = {\n\tcancelOnMove: false,\n\tevents: [\n\t\t{name: 'hold', time: 200}\n\t],\n\tfrequency: 200,\n\tglobal: false,\n\tmoveTolerance: 16\n};\n\nconst holdConfigPropType = PropTypes.shape({\n\tcancelOnMove: PropTypes.bool,\n\tevents: PropTypes.arrayOf(\n\t\tPropTypes.shape({\n\t\t\tname: PropTypes.string,\n\t\t\ttime: PropTypes.number\n\t\t})\n\t),\n\tfrequency: PropTypes.number,\n\tglobal: PropTypes.bool,\n\tmoveTolerance: PropTypes.number\n});\n\nexport default Hold;\nexport {\n\tdefaultHoldConfig,\n\tHold,\n\tholdConfigPropType\n};\n","import {defaultDragConfig} from './Drag.js';\nimport {defaultFlickConfig} from './Flick.js';\nimport {defaultHoldConfig} from './Hold.js';\n\nconst allowedDragKeys = Object.keys(defaultDragConfig);\nconst allowedFlickKeys = Object.keys(defaultFlickConfig);\nconst allowedHoldKeys = Object.keys(defaultHoldConfig);\n\n/**\n * The Global Gesture Configuration Object\n *\n * @private\n * @memberof ui/Touchable\n */\nlet config = {};\n\n// map-friendly clone method\nconst clone = o => Object.assign({}, o);\n\n// Merges two configuation objects while retaining only the allowed keys\nconst mergeGestureConfig = (current, update, allowed) => {\n\tconst cfg = {...current, ...update};\n\n\tObject.keys(cfg).forEach(key => {\n\t\tif (allowed.indexOf(key) === -1) {\n\t\t\tdelete cfg[key];\n\t\t}\n\t});\n\n\treturn cfg;\n};\n\n// Merges the current global config with the provided `cfg` and returns the result\nconst mergeConfig = (cfg) => {\n\tconst merged = {\n\t\tdrag: mergeGestureConfig(config.drag, cfg.drag, allowedDragKeys),\n\t\tflick: mergeGestureConfig(config.flick, cfg.flick, allowedFlickKeys),\n\t\thold: mergeGestureConfig(config.hold, cfg.hold, allowedHoldKeys)\n\t};\n\n\tmerged.hold.events = merged.hold.events.map(clone);\n\n\treturn merged;\n};\n\n/**\n * Configures the global gesture configuration for the application.\n *\n * Example:\n * ```\n * // Updates the `maxMoves`, `moveTolerance`, and `frequency` configurations while retaining the\n * // current value of all other configurations\n * configure({\n *     flick: {\n *         maxMoves: 10\n *     },\n *     hold: {\n *         moveTolerance: 32,\n *         frequency: 400\n *     }\n * });\n * ```\n *\n * Each type of gesture has its own set of configuration properties grouped within a separate object\n * keyed by the name of the gesture. Partial configurations may be passed and will be merged with\n * the current configuration.\n *\n * `drag`\n *\n *   * `boxSizing` - The part of the component's box model is used as the bounds of the constraint.\n *     Only applies when `global` is `false`.\n *     * `'border-box'` - the default, includes the padding and border but excludes the margin.\n *     * `'content-box'` - excludes the padding, border, and margin.\n *   * `global` - When `true`, drag gestures will continue when leaving the bounds of the component\n *      or blurring the component.\n *   * `moveTolerance` - The number of pixels from the start position of the drag that the pointer\n *     may move before cancelling the drag. Defaults to `16`.\n *\n * `flick`\n *\n *   * `maxDuration` - The amount of time, in milliseconds, to complete a flick gesture before it\n *     is cancelled. Defaults to 250.\n *   * `maxMoves` - The number of moves tracked to determine if a flick occurred. Defaults to `5`.\n *   * `minVelocity` - The minimum threshold, measured as the change in pixels over the change in\n *     time per move, that must be exceeded to generate a `onFlick` event.\n *\n * `hold`\n *\n *   * `cancelOnMove` - When `true`, the hold is cancelled when moving beyond the `moveTolerance`.\n *     Defaults to `false`\n *   * `global` - When `true`, hold gestures will continue when leaving the bounds of the component\n *      or blurring the component.\n *   * `moveTolerance` - The number of pixels from the start position of the hold that the pointer\n *     may move before cancelling the hold. Ignored when `cancelOnMove` is `false`. Defaults to\n *     `16`.\n *   * `frequency` - The time, in milliseconds, to poll for hold events. Defaults to `200`.\n *   * `events` - An array of `onHold` events which each contain a `name` and `time`. The `time`\n *     controls the amount of time that must pass before this `onHold` event is fired and should\n *     be a multiple of `frequency`.\n *\n * @function\n * @param   {Object}     cfg  A partial or complete configuration object\n *\n * @returns {undefined}\n * @public\n * @memberof ui/Touchable\n */\nconst configure = (cfg) => {\n\tconfig = mergeConfig(cfg);\n};\n\nconst getConfig = () => config;\n\nconst resetDefaultConfig = () => configure({\n\tdrag: defaultDragConfig,\n\thold: defaultHoldConfig,\n\tflick: defaultFlickConfig\n});\n\nresetDefaultConfig();\n\nexport default configure;\nexport {\n\tconfigure,\n\tgetConfig,\n\tmergeConfig,\n\tresetDefaultConfig\n};\n","const States = {\n\tInactive: 0,\n\tPaused: 1,\n\tActive: 2\n};\n\nconst setActive = (state) => ({active}) => active !== state ? {active: state} : null;\n\n// State management functions\nconst activate = setActive(States.Active);\nconst deactivate = setActive(States.Inactive);\nconst pause = ({active}) => active === States.Active ? {active: States.Paused} : null;\n\nexport {\n\tactivate,\n\tdeactivate,\n\tpause,\n\tStates\n};\n","import {platform} from '@enact/core/platform';\n\n// It's possible that emitting `onTap` will cause a DOM change before the mousedown fires resulting\n// in multiple tap/click events for the same user action. To avoid this, we store the last touchend\n// target and timestamp to compare against the next mouse down. If the timestamp is different (e.g\n// we're on a hybrid device that emitted a touch event but the next was a mouse event) or the target\n// is the same (or no previous target was set if no touch events have been emitted), we allow the\n// mousedown *across Touchable instances*.\nlet _lastTouchEnd = {\n\ttarget: null,\n\ttimeStamp: 0\n};\n\nconst shouldAllowMouseDown = (ev) => {\n\treturn ev.timeStamp !== _lastTouchEnd.timeStamp || (\n\t\tev.target === _lastTouchEnd.target ||\n\t\t_lastTouchEnd.target === null\n\t);\n};\n\nclass ClickAllow {\n\tconstructor () {\n\t\tthis.lastTouchEndTime = 0;\n\t\tthis.lastMouseUpTime = 0;\n\t}\n\n\tsetLastTouchEnd (ev) {\n\t\tif (ev && ev.type === 'touchend') {\n\t\t\tthis.lastTouchEndTime = ev.timeStamp;\n\t\t\t_lastTouchEnd.timeStamp = ev.timeStamp;\n\t\t\t_lastTouchEnd.target = ev.target;\n\t\t}\n\t}\n\n\tsetLastMouseUp (ev) {\n\t\tif (ev && ev.type === 'mouseup') {\n\t\t\tthis.lastMouseUpTime = ev.timeStamp;\n\t\t}\n\t}\n\n\tshouldAllowMouseEvent (ev) {\n\t\tconst {timeStamp} = ev;\n\n\t\t// iOS Safari sends both touch and mouse events (with differing timestamps)\n\t\treturn !platform.ios && this.lastTouchEndTime !== timeStamp && shouldAllowMouseDown(ev);\n\t}\n\n\tshouldAllowTap (ev) {\n\t\tconst {type, timeStamp} = ev;\n\n\t\t// Allow the custom tap event for a “click” when it’s actually a click and it’s not from the\n\t\t// last mouseup event which would have fired the click for us\n\t\treturn type === 'click' && this.lastMouseUpTime !== timeStamp;\n\t}\n}\n\nexport default ClickAllow;\nexport {\n\tClickAllow\n};\n","/**\n * Application support for gestures.\n *\n * @module ui/Touchable\n * @exports Touchable\n * @exports configure\n */\n\nimport {adaptEvent, call, forward, forwardWithPrevent, forProp, handle, oneOf, preventDefault, returnsTrue} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport {on, off} from '@enact/core/dispatcher';\nimport complement from 'ramda/src/complement';\nimport platform from '@enact/core/platform';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {configure, mergeConfig} from './config';\nimport {activate, deactivate, pause, States} from './state';\nimport ClickAllow from './ClickAllow';\n\nimport {Drag, dragConfigPropType} from './Drag';\nimport {Flick, flickConfigPropType} from './Flick';\nimport {Hold, holdConfigPropType} from './Hold';\n\nconst getEventCoordinates = (ev) => {\n\tlet {clientX: x, clientY: y, type} = ev;\n\tif (type.indexOf('touch') === 0) {\n\t\tx = ev.targetTouches[0].clientX;\n\t\ty = ev.targetTouches[0].clientY;\n\t}\n\n\treturn {x, y};\n};\n\n// Establish a standard payload for onDown/onUp/onTap events and pass it along to a handler\nconst makeTouchableEvent = (type) => (ev) => {\n\tconst {target, currentTarget} = ev;\n\tlet {clientX, clientY, pageX, pageY} = ev;\n\n\tif (ev.changedTouches) {\n\t\tclientX = ev.changedTouches[0].clientX;\n\t\tclientY = ev.changedTouches[0].clientY;\n\t\tpageX = ev.changedTouches[0].pageX;\n\t\tpageY = ev.changedTouches[0].pageY;\n\t}\n\n\treturn {\n\t\ttype,\n\t\ttarget,\n\t\tcurrentTarget,\n\t\tclientX,\n\t\tclientY,\n\t\tpageX,\n\t\tpageY\n\t};\n};\n\nconst isEnabled = forProp('disabled', false);\n\nconst handleDown = handle(\n\tisEnabled,\n\tadaptEvent(makeTouchableEvent('onDown'), forwardWithPrevent('onDown')),\n\tcall('activate'),\n\tcall('startGesture')\n).named('handleDown');\n\nconst handleUp = handle(\n\tisEnabled,\n\tcall('endGesture'),\n\tcall('isTracking'),\n\tadaptEvent(makeTouchableEvent('onUp'), forwardWithPrevent('onUp')),\n\tadaptEvent(makeTouchableEvent('onTap'), forward('onTap'))\n).finally(call('deactivate')).named('handleUp');\n\nconst handleEnter = handle(\n\tisEnabled,\n\tforProp('noResume', false),\n\tcall('enterGesture'),\n\tcall('isPaused'),\n\tcall('activate')\n).named('handleEnter');\n\nconst handleLeave = handle(\n\tisEnabled,\n\tcall('leaveGesture'),\n\toneOf(\n\t\t[forProp('noResume', false), call('pause')],\n\t\t[returnsTrue, call('deactivate')]\n\t)\n).named('handleLeave');\n\n// Mouse event handlers\n\nconst handleMouseDown = handle(\n\tforward('onMouseDown'),\n\tcall('shouldAllowMouseEvent'),\n\thandleDown\n);\n\nconst handleMouseEnter = handle(\n\tforward('onMouseEnter'),\n\thandleEnter\n);\n\nconst handleMouseMove = handle(\n\tforward('onMouseMove'),\n\tcall('moveGesture')\n);\n\nconst handleMouseLeave = handle(\n\tforward('onMouseLeave'),\n\thandleLeave\n);\n\nconst handleMouseUp = handle(\n\treturnsTrue(call('setLastMouseUp')),\n\tforward('onMouseUp'),\n\thandleUp\n);\n\nconst handleClick = handle(\n\tisEnabled,\n\t// wrapping another handler to always forward onClick but, if onTap should occur, it should\n\t// occur first to keep in sync with the up handler which emits onTap first\n\thandle(\n\t\tcall('shouldAllowTap'),\n\t\tcall('activate'),\n\t\thandleUp\n\t).finally(forward('onClick'))\n);\n\n// Touch event handlers\n\nconst handleTouchStart = handle(\n\tforward('onTouchStart'),\n\treturnsTrue(call('startTouch')),\n\thandleDown\n);\n\nconst handleTouchMove = handle(\n\tforward('onTouchMove'),\n\tcall('isTracking'),\n\t// we don't receive enter/leave events during a touch so we have to simulate them by\n\t// detecting when the touch leaves the boundary. oneOf returns the value of whichever\n\t// branch it follows so we append moveHold to either to handle moves that aren't\n\t// entering or leaving\n\tadaptEvent(makeTouchableEvent('onMove'), forward('onMove')),\n\toneOf(\n\t\t[call('hasTouchLeftTarget'), handleLeave],\n\t\t[returnsTrue, handleEnter]\n\t).finally(call('moveGesture'))\n);\n\nconst handleTouchEnd = handle(\n\tforward('onTouchEnd'),\n\t// block the next mousedown to prevent duplicate touchable events\n\treturnsTrue(call('setLastTouchEnd')),\n\tcall('isTracking'),\n\tcomplement(call('hasTouchLeftTarget')),\n\treturnsTrue(call('endTouch')),\n\thandleUp\n);\n\n// Global touchend/mouseup event handler to deactivate the component\nconst handleGlobalUp = handle(\n\tcall('isTracking'),\n\tcall('deactivate')\n).finally(call('endGesture'));\n\nconst handleGlobalMove = handle(\n\tcall('isTracking'),\n\tcall('containsCurrentTarget'),\n\tcall('moveGesture')\n);\n\nconst handleBlur = handle(\n\tforward('onBlur'),\n\tcall('hasFocus'),\n\tcall('blurGesture')\n);\n\n/**\n * Default config for `Touchable`.\n *\n * @memberof ui/Touchable.Touchable\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Configures the prop name to pass the active state to the wrapped component\n\t *\n\t * @type {String}\n\t * @default null\n\t * @memberof ui/Touchable.Touchable.defaultConfig\n\t */\n\tactiveProp: null\n};\n\n/**\n * A higher-order component that provides a consistent set of pointer events -- `onDown`, `onUp`,\n * and `onTap` -- across mouse and touch interfaces along with support for common gestures including\n * `onFlick`, `onDrag`, `onHold`, and `onHoldPulse`.\n *\n * Note: This HoC passes a number of props to the wrapped component that should be passed to the\n * main DOM node or consumed by the wrapped component.\n *\n * @class Touchable\n * @memberof ui/Touchable\n * @hoc\n * @public\n */\nconst Touchable = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {\n\t\tactiveProp\n\t} = config;\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'Touchable';\n\n\t\tstatic propTypes = /** @lends ui/Touchable.Touchable.prototype */ {\n\t\t\t/**\n\t\t\t * Disables the component.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tdisabled: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Instance-specific overrides of the drag configuration.\n\t\t\t *\n\t\t\t * @see {@link ui/Touchable.configure}\n\t\t\t * @type {Object}\n\t\t\t * @public\n\t\t\t */\n\t\t\tdragConfig: dragConfigPropType,\n\n\t\t\t/**\n\t\t\t * Instance-specific overrides of the flick configuration.\n\t\t\t *\n\t\t\t * @see {@link ui/Touchable.configure}\n\t\t\t * @type {Object}\n\t\t\t * @public\n\t\t\t */\n\t\t\tflickConfig: flickConfigPropType,\n\n\t\t\t/**\n\t\t\t * Instance-specific overrides of the hold configuration.\n\t\t\t *\n\t\t\t * @see {@link ui/Touchable.configure}\n\t\t\t * @type {Object}\n\t\t\t * @public\n\t\t\t */\n\t\t\tholdConfig: holdConfigPropType,\n\n\t\t\t/**\n\t\t\t * Prevents resuming the touch events and gestures when re-entering the component.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tnoResume: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Event handler for 'down' pointer events.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonDown: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for a drag gesture.\n\t\t\t *\n \t\t\t * Event payload includes:\n\t\t\t *\n\t\t\t * * `type` - Type of event, `'onDrag'`\n\t\t\t * * `x` - Horizontal position of the drag, relative to the viewport\n\t\t\t * * `y` - Vertical position of the drag, relative to the viewport\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonDrag: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for the end of a drag gesture.\n\t\t\t *\n \t\t\t * Event payload includes:\n\t\t\t *\n\t\t\t * * `type` - Type of event, `'onDragEnd'`\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonDragEnd: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for the start of a drag gesture.\n\t\t\t *\n \t\t\t * Event payload includes:\n\t\t\t *\n\t\t\t * * `type` - Type of event, `'onDragStart'`\n\t\t\t * * `x` - Horizontal position of the drag, relative to the viewport\n\t\t\t * * `y` - Vertical position of the drag, relative to the viewport\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonDragStart: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for a flick gesture.\n\t\t\t *\n\t\t\t * Event payload includes:\n\t\t\t *\n\t\t\t * * `type` - Type of event, `'onFlick'`\n\t\t\t * * `direction` - Primary direction of the flick, either `'horizontal'` or `'vertical'`\n\t\t\t * * `velocity` - Velocity of flick\n\t\t\t * * `velocityX` - Velocity of flick along te horizontal axis\n\t\t\t * * `velocityY` - Velocity of flick along te vertical axis\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonFlick: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for hold events.\n\t\t\t *\n\t\t\t * Event payload includes:\n\t\t\t *\n\t\t\t * * `type` - Type of event, `'onHold'`\n\t\t\t * * `name` - The name of the hold as configured in the events list\n\t\t\t * * `time` - Time, in milliseconds, configured for this hold which may vary slightly\n\t\t\t *            from time since the hold began\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonHold: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for the end of hold events.\n\t\t\t *\n\t\t\t * Event payload includes:\n\t\t\t *\n\t\t\t * * `type` - Type of event, `'onHoldEnd'`\n\t\t\t * * `time` - Time, in milliseconds, since the hold began\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonHoldEnd: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for hold pulse events\n\t\t\t *\n\t\t\t * Event payload includes:\n\t\t\t *\n\t\t\t * * `type` - Type of event, `'onHoldPulse'`\n\t\t\t * * `time` - Time, in milliseconds, since the hold began\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonHoldPulse: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for 'tap' pointer events\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonTap: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for 'up' pointer events\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonUp: PropTypes.func\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\tdisabled: false,\n\t\t\tnoResume: false\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.state = {\n\t\t\t\tactive: States.Inactive,\n\t\t\t\tprevDisabled: props.disabled\n\t\t\t};\n\n\t\t\tthis.config = mergeConfig({\n\t\t\t\tdrag: props.dragConfig,\n\t\t\t\tflick: props.flickConfig,\n\t\t\t\thold: props.holdConfig\n\t\t\t});\n\n\t\t\tthis.target = null;\n\t\t\tthis.targetHadFocus = false;\n\t\t\tthis.handle = handle.bind(this);\n\t\t\tthis.drag = new Drag();\n\t\t\tthis.flick = new Flick();\n\t\t\tthis.hold = new Hold();\n\n\t\t\tthis.clickAllow = new ClickAllow();\n\n\t\t\thandleClick.bindAs(this, 'handleClick');\n\t\t\thandleBlur.bindAs(this, 'handleBlur');\n\t\t\thandleMouseDown.bindAs(this, 'handleMouseDown');\n\t\t\thandleMouseEnter.bindAs(this, 'handleMouseEnter');\n\t\t\thandleMouseMove.bindAs(this, 'handleMouseMove');\n\t\t\thandleMouseLeave.bindAs(this, 'handleMouseLeave');\n\t\t\thandleMouseUp.bindAs(this, 'handleMouseUp');\n\t\t\thandleTouchStart.bindAs(this, 'handleTouchStart');\n\t\t\thandleTouchMove.bindAs(this, 'handleTouchMove');\n\t\t\thandleTouchEnd.bindAs(this, 'handleTouchEnd');\n\t\t\thandleGlobalUp.bindAs(this, 'handleGlobalUp');\n\t\t\thandleGlobalMove.bindAs(this, 'handleGlobalMove');\n\t\t}\n\n\t\tstatic getDerivedStateFromProps (props, state) {\n\t\t\tconst {disabled} = props;\n\t\t\tconst {prevDisabled} = state;\n\n\t\t\tif (prevDisabled !== disabled) {\n\t\t\t\treturn {\n\t\t\t\t\t...(activeProp && !prevDisabled && disabled && deactivate(state)),\n\t\t\t\t\tprevDisabled: disabled\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\t// ensure we clean up our internal state\n\t\t\tif (platform.touch) {\n\t\t\t\ton('touchend', this.handleGlobalUp, document);\n\t\t\t}\n\t\t\ton('mouseup', this.handleGlobalUp, document);\n\t\t\ton('mousemove', this.handleGlobalMove, document);\n\t\t}\n\n\t\tcomponentDidUpdate (prevProps) {\n\t\t\tif (!prevProps.disabled && this.props.disabled) {\n\t\t\t\tthis.clearTarget();\n\t\t\t\tthis.hold.end();\n\t\t\t}\n\n\t\t\tthis.config = mergeConfig({\n\t\t\t\tdrag: this.props.dragConfig,\n\t\t\t\tflick: this.props.flickConfig,\n\t\t\t\thold: this.props.holdConfig\n\t\t\t});\n\n\t\t\t// Update the props onHold, onHoldEnd, onHoldPulse on any gesture (hold, flick, drag).\n\t\t\tthis.hold.updateProps(this.props);\n\t\t\tthis.flick.updateProps(this.props);\n\t\t\tthis.drag.updateProps(this.props);\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tthis.clearTarget();\n\t\t\tthis.hold.end();\n\n\t\t\tif (platform.touch) {\n\t\t\t\toff('touchend', this.handleGlobalUp, document);\n\t\t\t}\n\t\t\toff('mouseup', this.handleGlobalUp, document);\n\t\t\toff('mousemove', this.handleGlobalMove, document);\n\t\t}\n\n\t\t// State Management\n\n\t\tsetTarget (target) {\n\t\t\tthis.target = target;\n\t\t}\n\n\t\tclearTarget () {\n\t\t\tthis.target = null;\n\t\t}\n\n\t\tactivate (ev) {\n\t\t\tthis.setTarget(ev.currentTarget);\n\t\t\tif (activeProp) {\n\t\t\t\tthis.setState(activate);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\tdeactivate () {\n\t\t\tthis.clearTarget();\n\t\t\tif (activeProp) {\n\t\t\t\tthis.setState(deactivate);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\tpause () {\n\t\t\tif (activeProp) {\n\t\t\t\tthis.setState(pause);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\t// Gesture Support\n\n\t\tstartTouch ({currentTarget}) {\n\t\t\ton('contextmenu', preventDefault);\n\t\t\tthis.targetBounds = currentTarget.getBoundingClientRect();\n\t\t}\n\n\t\tendTouch () {\n\t\t\toff('contextmenu', preventDefault);\n\t\t\tthis.targetBounds = null;\n\t\t}\n\n\t\tstartGesture (ev, props) {\n\t\t\tconst coords = getEventCoordinates(ev);\n\t\t\tlet {hold, flick, drag} = this.config;\n\n\t\t\tthis.hold.begin(hold, props, coords);\n\t\t\tthis.flick.begin(flick, props, coords);\n\t\t\tthis.drag.begin(drag, props, coords, this.target);\n\n\t\t\tthis.targetHadFocus = this.target === document.activeElement;\n\n\t\t\treturn true;\n\t\t}\n\n\t\tmoveGesture (ev) {\n\t\t\tconst coords = getEventCoordinates(ev);\n\n\t\t\tthis.hold.move(coords);\n\t\t\tthis.flick.move(coords);\n\t\t\tthis.drag.move(coords);\n\n\t\t\treturn true;\n\t\t}\n\n\t\tenterGesture () {\n\t\t\tthis.drag.enter();\n\t\t\tthis.hold.enter();\n\n\t\t\treturn true;\n\t\t}\n\n\t\tleaveGesture () {\n\t\t\tthis.drag.leave();\n\t\t\tthis.hold.leave();\n\n\t\t\treturn true;\n\t\t}\n\n\t\tblurGesture () {\n\t\t\tthis.targetHadFocus = false;\n\n\t\t\tthis.hold.blur();\n\t\t\tthis.flick.blur();\n\t\t\tthis.drag.blur();\n\n\t\t\treturn true;\n\t\t}\n\n\t\tendGesture () {\n\t\t\tthis.targetHadFocus = false;\n\n\t\t\tthis.hold.end();\n\t\t\tthis.flick.end();\n\t\t\tthis.drag.end();\n\n\t\t\treturn true;\n\t\t}\n\n\t\t// Event handler utilities\n\n\t\tisTracking () {\n\t\t\t// verify we had a target and the up target is still within the current node\n\t\t\treturn this.target;\n\t\t}\n\n\t\tisPaused () {\n\t\t\treturn this.state.active === States.Paused;\n\t\t}\n\n\t\thasFocus () {\n\t\t\treturn this.targetHadFocus;\n\t\t}\n\n\t\thasTouchLeftTarget (ev) {\n\t\t\treturn Array.from(ev.changedTouches).reduce((hasLeft, {pageX, pageY}) => {\n\t\t\t\tconst {left, right, top, bottom} = this.targetBounds;\n\t\t\t\treturn hasLeft && left > pageX || right < pageX || top > pageY || bottom < pageY;\n\t\t\t}, true);\n\t\t}\n\n\t\tcontainsCurrentTarget ({target}) {\n\t\t\treturn !this.target.contains(target);\n\t\t}\n\n\t\tshouldAllowMouseEvent (ev) {\n\t\t\treturn this.clickAllow.shouldAllowMouseEvent(ev);\n\t\t}\n\n\t\tshouldAllowTap (ev) {\n\t\t\treturn this.clickAllow.shouldAllowTap(ev);\n\t\t}\n\n\t\tsetLastMouseUp (ev) {\n\t\t\tthis.clickAllow.setLastMouseUp(ev);\n\t\t}\n\n\t\tsetLastTouchEnd (ev) {\n\t\t\tthis.clickAllow.setLastTouchEnd(ev);\n\t\t}\n\n\t\taddHandlers (props) {\n\t\t\tprops.onClick = this.handleClick;\n\t\t\tprops.onMouseDown = this.handleMouseDown;\n\t\t\tprops.onMouseLeave = this.handleMouseLeave;\n\t\t\tprops.onMouseMove = this.handleMouseMove;\n\t\t\tprops.onMouseEnter = this.handleMouseEnter;\n\t\t\tprops.onMouseUp = this.handleMouseUp;\n\t\t\tprops.onBlur = this.handleBlur;\n\n\t\t\tif (platform.touch) {\n\t\t\t\tprops.onTouchStart = this.handleTouchStart;\n\t\t\t\tprops.onTouchMove = this.handleTouchMove;\n\t\t\t\tprops.onTouchEnd = this.handleTouchEnd;\n\t\t\t}\n\t\t}\n\n\t\trender () {\n\t\t\tconst props = Object.assign({}, this.props);\n\n\t\t\tthis.addHandlers(props);\n\n\t\t\tdelete props.dragConfig;\n\t\t\tdelete props.flickConfig;\n\t\t\tdelete props.holdConfig;\n\t\t\tdelete props.noResume;\n\t\t\tdelete props.onDown;\n\t\t\tdelete props.onFlick;\n\t\t\tdelete props.onHold;\n\t\t\tdelete props.onHoldEnd;\n\t\t\tdelete props.onHoldPulse;\n\t\t\tdelete props.onTap;\n\t\t\tdelete props.onUp;\n\n\t\t\tif (activeProp) {\n\t\t\t\tprops[activeProp] = this.state.active !== States.Inactive;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Wrapped {...props} />\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default Touchable;\nexport {\n\tconfigure,\n\tTouchable\n};\n","import React from 'react';\n\nfunction nop () {}\n\n// Generate a handler that hides the controlled value from users, supports functional callbacks,\n// and is memoized by the onChange provided by useState\nfunction createHandler () {\n\treturn (onChange, currentValue, controlled) => {\n\t\tif (controlled) {\n\t\t\treturn nop;\n\t\t}\n\n\t\treturn (value) => {\n\t\t\tif (value !== currentValue) {\n\t\t\t\tonChange(value);\n\t\t\t}\n\t\t};\n\t};\n}\n\n// always return the prop value when controlled and the state value when not\nfunction calcValue (defaultValue, propValue, stateValue, controlled) {\n\tif (!controlled) {\n\t\treturn stateValue;\n\t}\n\n\t// eslint-disable-next-line no-undefined\n\treturn propValue !== undefined ? propValue : defaultValue;\n}\n\nfunction useControlledState (defaultValue, propValue, controlled) {\n\tconst isControlled = React.useRef(controlled);\n\n\t// Store both the value and the \"controlled\" flag in a state hook\n\tconst [value, onChange] = React.useState(defaultValue);\n\n\tconst memoOnChange = React.useMemo(\n\t\tcreateHandler, [onChange, value, isControlled.current]\n\t);\n\n\treturn [\n\t\tcalcValue(defaultValue, propValue, value, isControlled.current),\n\t\tmemoOnChange(onChange, value, isControlled.current)\n\t];\n}\n\nexport default useControlledState;\nexport {\n\tuseControlledState\n};\n","import {adaptEvent, forProp, forward, handle, not, returnsTrue} from '@enact/core/handle';\n\nconst isEnabled = not(forProp('disabled', true));\nconst makeEvent = (config, value) => ({\n\t[config.prop || 'selected']: value\n});\n\nclass Toggle {\n\tconstructor (config) {\n\t\t// remapping to props for better compatibility with core/handle and binding\n\t\tthis.props = config;\n\t\tthis.context = {};\n\t}\n\n\tsetContext (props, value, onToggle) {\n\t\tthis.props = {...this.props, ...props};\n\t\tthis.context.value = value;\n\t\tthis.context.onToggle = onToggle;\n\t}\n\n\tget value () {\n\t\treturn Boolean(this.context.value);\n\t}\n\n\thandleActivate = handle(\n\t\tisEnabled,\n\t\tadaptEvent((ev, props) => makeEvent(props, true), forward('onToggle')),\n\t\treturnsTrue((ev, props, context) => context.onToggle(true))\n\t).bindAs(this, 'handleActivate');\n\n\thandleDeactivate = handle(\n\t\tisEnabled,\n\t\tadaptEvent((ev, props) => makeEvent(props, false), forward('onToggle')),\n\t\treturnsTrue((ev, props, context) => context.onToggle(false))\n\t).bindAs(this, 'handleDeactivate');\n\n\thandleToggle = handle(\n\t\tisEnabled,\n\t\tadaptEvent((ev, props, {value}) => makeEvent(props, !value), forward('onToggle')),\n\t\treturnsTrue((ev, props, {onToggle, value}) => onToggle(!value))\n\t).bindAs(this, 'handleToggle');\n}\n\nexport default Toggle;\nexport {\n\tToggle\n};\n","import useClass from '@enact/core/useClass';\n\nimport useControlledState from '../useControlledState';\n\nimport Toggle from './Toggle';\n\n/**\n * Configuration for `useToggle`\n *\n * @typedef {Object} useToggleConfig\n * @memberof ui/Toggleable\n * @property {Boolean}  [defaultSelected = false] Initial state of the toggle\n * @property {Boolean}  [disabled = false]        Disables updating the state\n * @property {Boolean}  [prop = \"selected\"]       The key used to pass the current value back\n *                                                through the `onToggle` callback.\n * @property {Boolean}  [selected = false]        Current state of the toggle\n * @property {Function} [onToggle]                Called when the state is changed\n * @private\n */\n\n/**\n * Object returned by `useToggle`\n *\n * @typedef {Object} useToggleInterface\n * @memberof ui/Toggleable\n * @property {Boolean}  selected   Current state of the toggle\n * @property {Function} activate   Sets the current state to `true`\n * @property {Function} deactivate Sets the current state to `false`\n * @property {Function} toggle     Toggles the current state to the opposite value\n * @private\n */\n\n/**\n * Manages a boolean state value.\n *\n * The value may either be toggled via the `onToggle` or explicitly set via `onActivate` and\n * `onDeactivate`. The initial value can be set using the `defaultSelected` option.\n *\n * @param {useToggleConfig} config Configuration options\n * @returns {useToggleInterface}\n * @private\n */\nfunction useToggle ({defaultSelected, selected, ...config} = {}) {\n\tconst toggle = useClass(Toggle, config);\n\tconst state = useControlledState(\n\t\tdefaultSelected,\n\t\tselected,\n\t\ttypeof selected !== 'undefined'\n\t);\n\n\tconst props = {disabled: config.disabled, onToggle: config.onToggle};\n\ttoggle.setContext(props, ...state);\n\n\treturn {\n\t\tactivate: toggle.handleActivate,\n\t\tdeactivate: toggle.handleDeactivate,\n\t\ttoggle: toggle.handleToggle,\n\t\tselected: toggle.value\n\t};\n}\n\nexport default useToggle;\nexport {\n\tuseToggle\n};\n","/**\n * A higher-order component at handles toggle state.\n *\n * @module ui/Toggleable\n * @exports Toggleable\n */\n\nimport handle, {adaptEvent, forward} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport useHandlers from '@enact/core/useHandlers';\nimport {cap} from '@enact/core/util';\nimport PropTypes from 'prop-types';\nimport pick from 'ramda/src/pick';\nimport React from 'react';\nimport warning from 'warning';\n\nimport {useToggle} from './useToggle';\n\n/**\n * Default config for `Toggleable`.\n *\n * @memberof ui/Toggleable.Toggleable\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Configures the event name that activates the component.\n\t *\n\t * **Note**: When using `activate`/`deactivate`, the event payload will only forward the original\n\t * event and not include toggled `prop` value. Use `toggle` to receive toggled value from the\n\t * event payload.\n\t *\n\t * Example:\n\t * ```\n\t * const ToggleItem = Toggleable({activate: 'onFocus', deactivate: 'onBlur'}, Item);\n\t *\n\t * handleEvent = (ev) => {\n\t * \t// do something with `ev.selected` here\n\t * }\n\t *\n\t * <ToggleItem onToggle={handleEvent}>This is a toggle item</Item>\n\t *\n\t * @type {String}\n\t * @memberof ui/Toggleable.Toggleable.defaultConfig\n\t */\n\tactivate: null,\n\n\t/**\n\t * Configures the event name that deactivates the component.\n\t *\n\t * **Note**: When using `activate`/`deactivate`, the event payload will only forward the original\n\t * event and not include toggled `prop` value. Use `toggle` to receive toggled value from the\n\t * event payload.\n\t *\n\t * Example:\n\t * ```\n\t * const ToggleItem = Toggleable({activate: 'onFocus', deactivate: 'onBlur'}, Item);\n\t *\n\t * handleEvent = (ev) => {\n\t * \t// do something with `ev.selected` here\n\t * }\n\t *\n\t * <ToggleItem onToggle={handleEvent}>This is a toggle item</Item>\n\t * ```\n\t * @type {String}\n\t * @memberof ui/Toggleable.Toggleable.defaultConfig\n\t */\n\tdeactivate: null,\n\n\t/**\n\t * Configures additional props to attach to the event that is sent when toggled.\n\t *\n\t * @type {String[]}\n\t * @default []\n\t * @memberof ui/Toggleable.Toggleable.defaultConfig\n\t */\n\teventProps: [],\n\n\t/**\n\t * Configures the property that is passed to the wrapped component when toggled.\n\t *\n\t * @type {String}\n\t * @default 'selected'\n\t * @memberof ui/Toggleable.Toggleable.defaultConfig\n\t */\n\tprop: 'selected',\n\n\t/**\n\t * Configures the event name that toggles the component.\n\t *\n\t * The payload includes a toggled Boolean value of `prop`.\n\t *\n\t * **Note**: The payload will override the original event. If a native event is set, then the native\n\t * event payload will be lost.\n\t *\n\t * @type {String}\n\t * @default 'onToggle'\n\t * @memberof ui/Toggleable.Toggleable.defaultConfig\n\t */\n\ttoggle: 'onToggle',\n\n\t/**\n\t * Allows you to remap the incoming `toggle` callback to an event name of your choosing.\n\t *\n\t * For example, run `onToggle` when the wrapped component has an `onClick` property and you've specified\n\t * `onClick` here.\n\t *\n\t * @type {String}\n\t * @default null\n\t * @memberof ui/Toggleable.Toggleable.defaultConfig\n\t */\n\ttoggleProp: null\n};\n\n/**\n * A higher-order component that applies a 'toggleable' behavior to its wrapped component.\n *\n * Its default event and property can be configured when applied to a component.\n *\n * Note: This HoC passes a number of props to the wrapped component that should be passed to the\n * main DOM node or consumed by the wrapped component.\n *\n * Example:\n * ```\n * const Item = ({selected, ...rest}) => (<div {...rest}>{selected}</div>);\n * ...\n * const ToggleItem = Toggleable({toggleProp: 'onClick'}, Item);\n * ```\n *\n * @class Toggleable\n * @memberof ui/Toggleable\n * @hoc\n * @public\n */\nconst ToggleableHOC = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {activate, deactivate, eventProps, prop, toggle, toggleProp} = config;\n\tconst defaultPropKey = 'default' + cap(prop);\n\n\tconst forwardWithEventProps = eventName => adaptEvent(\n\t\t(ev, props) => ({...pick(eventProps, props), ...ev}),\n\t\tforward(eventName)\n\t);\n\tconst forwardActivate = forwardWithEventProps(activate);\n\tconst forwardDeactivate = forwardWithEventProps(deactivate);\n\tconst forwardToggle = forwardWithEventProps(toggle);\n\tconst forwardToggleProp = forwardWithEventProps(toggleProp);\n\n\tconst toggleHandlers = {\n\t\tonToggle: handle(\n\t\t\t(ev, props, context) => (context.toggle()),\n\t\t\tforwardToggleProp\n\t\t),\n\t\tonActivate: handle(\n\t\t\t(ev, props, context) => (context.activate()),\n\t\t\tforwardActivate\n\t\t),\n\t\tonDeactivate: handle(\n\t\t\t(ev, props, context) => (context.deactivate()),\n\t\t\tforwardDeactivate\n\t\t)\n\t};\n\n\tfunction Toggleable (props) {\n\t\tconst updated = {...props};\n\t\tconst propSelected = props[prop];\n\n\t\tconst hook = useToggle({\n\t\t\tdefaultSelected: props[defaultPropKey],\n\t\t\tdisabled: props.disabled,\n\t\t\tonToggle: (ev) => forwardToggle(ev, props),\n\t\t\tprop,\n\n\t\t\t// FIXME: Current behavior for Toggleable treats `null` as undefined so we coerce it\n\t\t\t// here to maintain that behavior while using useControlledState.\n\t\t\t// eslint-disable-next-line no-undefined\n\t\t\tselected: propSelected == null ? undefined : propSelected\n\t\t});\n\t\tconst handlers = useHandlers(toggleHandlers, props, hook);\n\n\t\twarning(\n\t\t\t!(prop in props && defaultPropKey in props),\n\t\t\t`Do not specify both '${prop}' and '${defaultPropKey}' for Toggleable instances.\n\t\t\t'${defaultPropKey}' will be ignored unless '${prop}' is 'null' or 'undefined'.`\n\t\t);\n\n\t\t// FIXME: Current behavior is to use `false` when switching from a truthy value to\n\t\t// either null or undefined. The ternary below enforces that but we don't want to\n\t\t// continue this exception in the future and should sunset it with this HOC.\n\t\tconst {current: instance} = React.useRef({selected: null});\n\t\tconst selected = (instance.selected && propSelected == null) ? false : hook.selected;\n\t\tinstance.selected = propSelected;\n\n\t\tif (prop) {\n\t\t\tupdated[prop] = selected;\n\t\t}\n\n\t\tif (toggleProp || toggle) {\n\t\t\tupdated[toggleProp || toggle] = handlers.onToggle;\n\t\t}\n\n\t\tif (activate) {\n\t\t\tupdated[activate] = handlers.onActivate;\n\t\t}\n\n\t\tif (deactivate) {\n\t\t\tupdated[deactivate] = handlers.onDeactivate;\n\t\t}\n\n\t\tdelete updated[defaultPropKey];\n\n\t\treturn (\n\t\t\t<Wrapped {...updated} />\n\t\t);\n\t}\n\n\tToggleable.propTypes = {\n\t\t/**\n\t\t * Default toggled state applied at construction when the toggled prop is `undefined` or\n\t\t * `null`.\n\t\t *\n\t\t * @name defaultSelected\n\t\t * @memberof ui/Toggleable.Toggleable.prototype\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\t[defaultPropKey]: PropTypes.bool,\n\n\t\t/**\n\t\t * Whether or not the component is in a disabled state.\n\t\t *\n\t\t * @memberof ui/Toggleable.Toggleable.prototype\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Current toggled state.\n\t\t *\n\t\t * When set at construction, the component is considered 'controlled' and will only\n\t\t * update its internal value when updated by new props. If undefined, the component\n\t\t * is 'uncontrolled' and `Toggleable` will manage the toggled state using callbacks\n\t\t * defined by its configuration.\n\t\t *\n\t\t * @name selected\n\t\t * @memberof ui/Toggleable.Toggleable.prototype\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\t[prop]: PropTypes.bool,\n\n\t\t/**\n\t\t * Event callback to notify that state should be toggled.\n\t\t *\n\t\t * @name onToggle\n\t\t * @memberof ui/Toggleable.Toggleable.prototype\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\t[toggle]: PropTypes.func\n\t};\n\n\tToggleable.defaultProps = {\n\t\tdisabled: false\n\t};\n\n\treturn Toggleable;\n});\n\nexport default ToggleableHOC;\nexport {\n\tToggleableHOC as Toggleable,\n\tuseToggle\n};\n","// Simple Map polyfill mapping targets to a hash of names->handler[]\nconst targets = [];\nconst events = [];\n\nconst getListeners = function (target, name) {\n\tlet targetIndex = targets.indexOf(target);\n\tif (targetIndex === -1) {\n\t\ttargetIndex = targets.push(target) - 1;\n\t}\n\tconst listeners = events[targetIndex] = events[targetIndex] || {};\n\treturn (listeners[name] = listeners[name] || []);\n};\n\nconst addListener = function (target, name, fn) {\n\tconst listeners = getListeners(target, name);\n\n\tif (listeners.indexOf(fn) === -1) {\n\t\tlisteners.push(fn);\n\t\treturn true;\n\t}\n\treturn false;\n};\n\nexport default getListeners;\nexport {getListeners, addListener};\n","/**\n * Provides methods to add and remove global event listeners.\n *\n * @module core/dispatcher\n * @exports off\n * @exports on\n * @exports once\n */\n\nimport curry from 'ramda/src/curry';\n\nimport {getListeners, addListener} from './listeners';\n\n/*\n * Checks if the default target of `document` exists before returning it, otherwise returns `false`.\n *\n * @function\n *\n * @returns {Node|Boolean}\n * @memberof core/dispatcher\n * @private\n */\nconst getDefaultTarget = () => typeof document !== 'undefined' && document;\n\n/*\n * Wraps event callbacks with a try-catch block to prevent unrelated code from blocking.\n *\n * @function\n * @param\t{Event}\t\tev\tEvent payload\n * @param\t{Function}\tfn\tEvent callback\n *\n * @returns\t{undefined}\n * @memberof core/dispatcher\n * @private\n */\nconst invoker = curry(function (ev, fn) {\n\ttry {\n\t\tfn(ev);\n\t} catch (e) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error(`A ${e.name} occurred during event handling with the message '${e.message}'`);\n\t}\n});\n\n/*\n * Dispatches an event to the registered handlers.\n *\n * @function\n * @param\t{Event}\t\tev\tEvent payload\n *\n * @returns {undefined}\n * @memberof core/dispatcher\n * @private\n */\nconst dispatcher = function (ev) {\n\tconst name = ev.type;\n\tconst listeners = getListeners(ev.currentTarget, name);\n\n\tif (listeners) {\n\t\tconst inv = invoker(ev);\n\t\tlisteners.forEach(inv);\n\t}\n};\n\n/**\n * Adds a new global event listener. Duplicate event handlers will be discarded.\n *\n * @function\n * @param\t{String}\tname\t\t\t\tEvent name\n * @param\t{Function}\tfn\t\t\t\t\tEvent handler\n * @param\t{Node}\t\t[target='document']\tEvent listener target\n *\n * @returns {undefined}\n * @memberof core/dispatcher\n * @public\n */\nconst on = function (name, fn, target = getDefaultTarget()) {\n\tif (target) {\n\t\tconst added = addListener(target, name, fn);\n\n\t\tif (added && getListeners(target, name).length === 1) {\n\t\t\ttarget.addEventListener(name, dispatcher);\n\t\t}\n\t}\n};\n\n/**\n * Removes a global event listener.\n *\n * @function\n * @param\t{String}\tname\t\t\t\tEvent name\n * @param\t{Function}\tfn\t\t\t\t\tEvent handler\n * @param\t{Node}\t\t[target=`document`]\tEvent listener target\n *\n * @returns {undefined}\n * @memberof core/dispatcher\n * @public\n */\nconst off = function (name, fn, target = getDefaultTarget()) {\n\tif (target) {\n\t\tconst listeners = getListeners(target, name);\n\t\tconst index = listeners.indexOf(fn);\n\n\t\tif (index >= 0) {\n\t\t\tlisteners.splice(index, 1);\n\t\t\tif (listeners.length === 0) {\n\t\t\t\ttarget.removeEventListener(name, dispatcher);\n\t\t\t}\n\t\t}\n\t}\n};\n\n/**\n * Adds a new global event listener that removes itself after handling one event.\n *\n * @function\n * @param\t{String}\tname\t\tEvent name\n * @param\t{Function}\tfn\t\t\tEvent handler\n * @param\t{Node}\t\t[target]\tEvent listener target\n *\n * @returns {Function}\t\t\t\tThe single-use handler. To remove the handler manually, call\n *\t\t\t\t\t\t\t\t\tthe `off()` function with this as the 2nd parameter.\n * @memberof core/dispatcher\n * @public\n */\nconst once = function (name, fn, target) {\n\tconst onceFn = function (ev) {\n\t\tfn(ev);\n\t\toff(name, onceFn, target);\n\t};\n\n\ton(name, onceFn, target);\n\n\treturn onceFn;\n};\n\nexport {\n\toff,\n\ton,\n\tonce\n};\n","/**\n * A utility component that either clones or creates a component instance based on the\n * incoming `component` prop value.\n *\n * This allows you to supply JSX as the component used in your prop\n * allowing you to add your own properties. They'll get mixed onto the component when it's used in\n * the parent component.\n *\n * @module ui/ComponentOverride\n * @exports ComponentOverride\n */\n\nimport React from 'react';\n\n/**\n * Utility to either create or clone a component instance with the given set of props.\n *\n * `ComponentOverride` can be used to support props that either accept a type, (e.g. `Button`) or an\n * element (e.g. `<Button customProp=\"value\" />`) and return a new element which includes the\n * remaining props specified.\n *\n * Example:\n * ```\n * const LabeledIconButton = ({iconComponent, label, ...rest}) => {\n *   return (\n *     <div {...rest}>\n *       <ComponentOverride\n *         component={iconComponent}\n *         icon=\"house\"\n *       />\n *       <span>{label}</span>\n *     </div>\n *   );\n * };\n *\n * // Usage\n *\n * // Only the props defined by LabeledIconButton will be passed to CustomIcon\n * <LabeledIconButton\n *   label=\"Home\"\n *   iconComponent={CustomIcon}\n * />\n *\n * // The color prop along with props defined by LabeledIconButton will be passed to CustomIcon\n * <LabeledIconButton\n *   label=\"Home\"\n *   iconComponent={\n *     <CustomIcon color=\"green\" />\n *   }\n * />\n * ```\n *\n * @class\n * @memberof ui/ComponentOverride\n * @ui\n * @public\n */\nconst ComponentOverride = ({component: Component, ...props}) => {\n\treturn Component && (\n\t\t(typeof Component === 'function' || typeof Component === 'string') && (\n\t\t\t<Component {...props} />\n\t\t) || React.isValidElement(Component) && (\n\t\t\tReact.cloneElement(Component, props)\n\t\t)\n\t) || null;\n};\n\nexport default ComponentOverride;\nexport {\n\tComponentOverride\n};\n","var map = {\n\t\"./nestedObjectAssign\": 658,\n\t\"./nestedObjectAssign.js\": 658\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1266;","\nconst invoke = (fn, options, callback) => {\n\tconst {onLoad} = options;\n\n\tfn({\n\t\t...options,\n\t\tonLoad: (result) => {\n\t\t\tcallback(result);\n\t\t\tif (onLoad) onLoad(result);\n\t\t}\n\t});\n};\n\nconst wrapIlibCallback = (fn, options = {}) => {\n\tconst {sync = false} = options;\n\n\tif (!fn) {\n\t\treturn sync ? null : Promise.resolve(null);\n\t}\n\n\tif (sync) {\n\t\tlet value = null;\n\t\tinvoke(fn, options, (v) => (value = v));\n\n\t\treturn value;\n\t}\n\n\treturn new Promise(resolve => invoke(fn, options, resolve));\n};\n\nexport default wrapIlibCallback;\nexport {\n\twrapIlibCallback\n};\n","import LocaleInfo from 'ilib/lib/LocaleInfo';\n\nimport {isNonLatinLocale, isRtlLocale} from '../locale';\n\nconst base = 'enact-locale-';\n\n// Callback-friendly version of Promise.all()\nfunction all (fns, callback) {\n\tconst result = [];\n\tlet complete = 0;\n\n\tconst done = (index) => (value) => {\n\t\tresult[index] = value;\n\t\tcomplete++;\n\n\t\tif (complete === fns.length) {\n\t\t\tcallback(result);\n\t\t}\n\t};\n\n\tfns.forEach((fn, index) => fn(done(index)));\n}\n\nfunction getClassesForLocale (li, options) {\n\tconst locale = li.getLocale();\n\n\tconst {latinLanguageOverrides, nonLatinLanguageOverrides, ...rest} = options;\n\n\tall([\n\t\t// allow enact to define other fonts for non-Latin languages, or for certain\n\t\t// Latin-based languages where the characters with some accents don't appear in the\n\t\t// regular fonts, creating a strange 'ransom note' look with a mix of fonts in the\n\t\t// same word. So, treat it like a non-Latin language in order to get all the characters\n\t\t// to display with the same font.\n\t\t(done) => isNonLatinLocale(locale, {\n\t\t\t...rest,\n\t\t\tlatinLanguageOverrides,\n\t\t\tnonLatinLanguageOverrides,\n\t\t\tonLoad: (isNonLatin) => done(isNonLatin ? base + 'non-latin' : '')\n\t\t}),\n\t\t// allow enact to apply right-to-left styles to the app and widgets if necessary\n\t\t(done) => isRtlLocale({\n\t\t\t...rest,\n\t\t\tonLoad: (isRtl) => done(isRtl ? base + 'right-to-left' : '')\n\t\t})\n\t], function (classes) {\n\t\tconst scriptName = li.getScript();\n\t\tif (scriptName !== 'Latn' && scriptName !== 'Cyrl' && scriptName !== 'Grek') {\n\t\t\t// GF-45884: allow enact to avoid setting italic fonts for those scripts that do not\n\t\t\t// commonly use italics\n\t\t\tclasses.push(base + 'non-italic');\n\t\t}\n\n\t\t// allow enact or the apps to give CSS classes that are specific to the language, country, or script\n\t\tif (locale.getLanguage()) {\n\t\t\tclasses.push(base + locale.getLanguage());\n\t\t\tif (locale.getScript()) {\n\t\t\t\tclasses.push(base + locale.getLanguage() + '-' + locale.getScript());\n\t\t\t\tif (locale.getRegion()) {\n\t\t\t\t\tclasses.push(base + locale.getLanguage() + '-' + locale.getScript() + '-' + locale.getRegion());\n\t\t\t\t}\n\t\t\t} else if (locale.getRegion()) {\n\t\t\t\tclasses.push(base + locale.getLanguage() + '-' + locale.getRegion());\n\t\t\t}\n\t\t}\n\t\tif (locale.getScript()) {\n\t\t\tclasses.push(base + locale.getScript());\n\t\t}\n\t\tif (locale.getRegion()) {\n\t\t\tclasses.push(base + locale.getRegion());\n\t\t}\n\n\t\toptions.onLoad(classes.filter(Boolean).join(' '));\n\t});\n}\n\n/*\n * A function that returns locale in class name.\n *\n * @memberof i18n/I18nDecorator\n * @param {options.sync} Perform a synchronous request for the classes\n * @param {options.onLoad} Called with a string of i18n classes\n * @param {options.latinLanguageOverrides} Array of locales to treat as latin\n * @param {options.nonLatinLanguageOverrides} Array of locales to treat as non-latin\n * @private\n */\nfunction getI18nClasses (options = {}) {\n\tconst {sync, onLoad} = options;\n\tif (!onLoad) return;\n\n\t// eslint-disable-next-line no-new,no-undefined\n\tnew LocaleInfo(undefined, {\n\t\tsync,\n\t\tonLoad: (li) => getClassesForLocale(li, {\n\t\t\t...options,\n\t\t\tonLoad\n\t\t})\n\t}); // for the current locale\n}\n\nexport default getI18nClasses;\n","import {on} from '@enact/core/dispatcher';\nimport {onWindowReady} from '@enact/core/snapshot';\n\nlet focused = false;\nconst queue = new Set();\n\nconst invoke = (fn) => {\n\ttry {\n\t\tfn();\n\t} catch (e) {\n\t\t// failing silently\n\t}\n};\n\nconst flush = () => queue.forEach(invoke);\n\nconst onWindowFocus = (handler) => {\n\tif (focused) {\n\t\thandler();\n\t} else {\n\t\tqueue.add(handler);\n\t}\n};\n\nonWindowReady(() => {\n\tfocused = true;\t// Treat window as initially focused once ready\n\tflush();\n\ton('focus', () => {\n\t\tfocused = true;\n\t\tflush();\n\t}, window);\n\n\ton('blur', () => {\n\t\tfocused = false;\n\t}, window);\n});\n\nexport {\n\tonWindowFocus\n};\n","import {on, off} from '@enact/core/dispatcher';\nimport {Job} from '@enact/core/util';\n\nimport {isRtlLocale, updateLocale} from '../locale';\nimport {createResBundle, setResBundle} from '../src/resBundle';\nimport wrapIlibCallback from '../src/wrapIlibCallback';\n\nimport getI18nClasses from './getI18nClasses';\nimport {onWindowFocus} from './windowFocus';\n\n/**\n * Manages i18n resource loading.\n *\n * @class I18n\n * @private\n */\nclass I18n {\n\tconstructor ({\n\t\tlatinLanguageOverrides,\n\t\tnonLatinLanguageOverrides,\n\t\tresources,\n\t\tsync = true\n\t}) {\n\t\tthis._locale = null;\n\t\tthis._ready = sync;\n\t\tthis._onLoadResources = () => {};\n\t\tthis.loadResourceJob = null;\n\n\t\tthis.latinLanguageOverrides = latinLanguageOverrides;\n\t\tthis.nonLatinLanguageOverrides = nonLatinLanguageOverrides;\n\t\tthis.resources = this.normalizeResources(resources);\n\t\tthis.sync = sync;\n\t}\n\n\t/**\n\t * Sets the current locale and load callback.\n\t *\n\t * Changing the locale will request new resource files for that locale.\n\t *\n\t * @type {String}\n\t * @public\n\t */\n\tsetContext (locale, onLoadResources) {\n\t\tthis.loadResourceJob = new Job(onLoadResources);\n\t\tthis._onLoadResources = onLoadResources;\n\n\t\tif (this._locale !== locale) {\n\t\t\tthis._locale = locale;\n\n\t\t\tthis.loadResources(locale);\n\t\t}\n\t}\n\n\t/**\n\t * Normalize the structure of the external resources to be an array of resource/onLoad pairs.\n\t *\n\t * @private\n\t */\n\tnormalizeResources (resources) {\n\t\treturn Array.isArray(resources) ? resources.map(res => {\n\t\t\tif (!res) return;\n\n\t\t\tconst fn = res.resource || res;\n\t\t\tconst onLoad = res.onLoad;\n\n\t\t\tif (typeof fn !== 'function') return;\n\n\t\t\treturn {resource: fn, onLoad};\n\t\t}).filter(Boolean) : [];\n\t}\n\n\t/**\n\t * Adds the `languagechange` event listener and initiates async resource retrieval.\n\t *\n\t * Should only be called after `window` is available and the DOM is ready.\n\t *\n\t * @public\n\t */\n\tload () {\n\t\tthis._ready = true;\n\n\t\tif (typeof window === 'object') {\n\t\t\ton('languagechange', this.handleLocaleChange, window);\n\t\t}\n\n\t\t// When async, we defer loading resources until DOM is ready\n\t\tif (!this.sync) {\n\t\t\tthis.loadResources(this._locale);\n\t\t}\n\t}\n\n\t/**\n\t * Cleans up resource retrieval and event listeners.\n\t *\n\t * @public\n\t */\n\tunload () {\n\t\tthis._ready = false;\n\n\t\tthis.loadResourceJob.stop();\n\t\tif (typeof window === 'object') {\n\t\t\toff('languagechange', this.handleLocaleChange, window);\n\t\t}\n\t}\n\n\t/**\n\t * Loads the resources for the given locale.\n\t *\n\t * @private\n\t */\n\tloadResources (spec) {\n\t\tif (!this._ready) return;\n\n\t\tconst locale = updateLocale(spec);\n\t\tconst options = {sync: this.sync, locale};\n\t\tconst rtl = wrapIlibCallback(isRtlLocale, options);\n\t\tconst className = wrapIlibCallback(getI18nClasses, {\n\t\t\t...options,\n\t\t\tlatinLanguageOverrides: this.latinLanguageOverrides,\n\t\t\tnonLatinLanguageOverrides: this.nonLatinLanguageOverrides\n\t\t});\n\t\tconst bundle = wrapIlibCallback(createResBundle, options);\n\n\t\tif (this.sync) {\n\t\t\tconst state = {\n\t\t\t\tclassName,\n\t\t\t\tloaded: true,\n\t\t\t\tlocale,\n\t\t\t\trtl\n\t\t\t};\n\n\t\t\tsetResBundle(bundle);\n\n\t\t\tthis.resources.forEach(({resource, onLoad}) => {\n\t\t\t\tconst result = resource(options);\n\t\t\t\tif (onLoad) onLoad(result);\n\t\t\t});\n\n\t\t\tthis._onLoadResources(state);\n\t\t} else {\n\t\t\tconst resources = Promise.all([\n\t\t\t\trtl,\n\t\t\t\tclassName,\n\t\t\t\t// move updating into a new method with call to setState\n\t\t\t\tbundle,\n\t\t\t\t...this.resources.map(res => wrapIlibCallback(res.resource, options))\n\t\t\t]).then(([rtlResult, classNameResult, bundleResult, ...userResources]) => {\n\t\t\t\tsetResBundle(bundleResult);\n\t\t\t\tthis.resources.forEach(({onLoad}, i) => onLoad && onLoad(userResources[i]));\n\n\t\t\t\treturn {\n\t\t\t\t\tclassName: classNameResult,\n\t\t\t\t\tloaded: true,\n\t\t\t\t\tlocale,\n\t\t\t\t\trtl: rtlResult\n\t\t\t\t};\n\t\t\t});\n\t\t\t// TODO: Resolve how to handle failed resource requests\n\t\t\t// .catch(...);\n\n\t\t\tthis.loadResourceJob.promise(resources);\n\t\t}\n\t}\n\n\t/**\n\t * Called when the `languagechange` event fires.\n\t */\n\thandleLocaleChange = () => {\n\t\tonWindowFocus(this.updateLocale);\n\t};\n\n\t/**\n\t * Updates the locale for the application.\n\t *\n\t * If `newLocale` is omitted, the locale will be reset to the device's default locale.\n\t *\n\t * @param   {String}    newLocale   Locale identifier string\n\t *\n\t * @returns {undefined}\n\t * @public\n\t */\n\tupdateLocale = (newLocale) => {\n\t\tthis.loadResources(newLocale);\n\t};\n}\n\nexport default I18n;\nexport {\n\tI18n\n};\n","import useClass from '@enact/core/useClass';\nimport React from 'react';\n\nimport ilib from '../src/index.js';\n\nimport I18n from './I18n';\n\n/**\n * Configuration for `useI18n`\n *\n * @typedef {Object} useI18nConfig\n * @memberof i18n/I18nDecorator\n * @property {String[]}   [latinLanguageOverrides]    Locales that should be treated as latin\n * @property {String[]}   [nonLatinLanguageOverrides] Locales that should be treated as non-latin\n * @property {Function}   [onLoadResources]           Called when resources have been loaded after a\n *                                                    locale change\n * @property {Function[]} [resources]                 Additional resource callbacks to be invoked\n *                                                    during a locale change\n * @property {Boolean}    [sync = false]              Load the resources synchronously\n * @private\n */\n\n/**\n * Object returned by `useI18n`\n *\n * @typedef {Object} useI18nInterface\n * @property {String}  className CSS classes that should be applied to the root node\n * @property {Boolean} loaded    Indicates if resources have been loaded\n * @property {String}  locale    Current locale\n * @property {Boolean} rtl       Indicates the current locale uses right-to-left text direction\n * @private\n */\n\n/**\n * Adds internationalization support\n *\n * @param {useI18nConfig} config Configuration options\n * @returns {useI18nInterface}\n * @private\n */\nfunction useI18n ({locale, ...config} = {}) {\n\tconst ilibLocale = ilib.getLocale();\n\tlocale = locale && locale !== ilibLocale ? locale : ilibLocale;\n\n\tconst [state, setState] = React.useState({\n\t\tlocale,\n\t\tloaded: Boolean(config.sync)\n\t});\n\n\tconst i18n = useClass(I18n, config);\n\ti18n.setContext(locale, setState);\n\n\t// Add/remove listeners on mount/unmount\n\tReact.useEffect(() => {\n\t\ti18n.load();\n\n\t\treturn () => i18n.unload();\n\t}, [i18n]);\n\n\treturn {\n\t\t...state,\n\t\tupdateLocale: i18n.updateLocale\n\t};\n}\n\nexport default useI18n;\nexport {\n\tuseI18n\n};\n","import React from 'react';\n\nconst I18nContext = React.createContext(null);\n\n/**\n * Object returned by `useI18nContext`\n *\n * @typedef {Object} useI18nContextInterface\n * @memberof i18n/I18nDecorator\n * @property {Boolean}  loaded       `true` when external resource files have been loaded\n * @property {Boolean}  rtl          `true` for locales with right-to-left reading order\n * @property {Function} updateLocale Updates the locale\n * @property {String}   locale       Current locale\n * @private\n */\n\n/**\n * Retrieves the current locale and a method to update the current locale\n *\n * @returns {useI18nContextInterface}\n * @private\n */\nfunction useI18nContext () {\n\t// This isn't adding much value but does allow a layer of abstraction so we don't have to export\n\t// the I18nContext object and can add private API if needed later.\n\treturn React.useContext(I18nContext);\n}\n\nexport default useI18nContext;\nexport {\n\tuseI18nContext,\n\tI18nContext\n};\n","/**\n * Adds Internationalization (I18N) support to an application using ilib.\n *\n * @module i18n/I18nDecorator\n * @exports I18nDecorator\n * @exports I18nContextDecorator\n */\n\nimport hoc from '@enact/core/hoc';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport '../src/glue';\n\nimport useI18n from './useI18n';\nimport {useI18nContext, I18nContext} from './useI18nContext';\n\nconst join = (a, b) => a && b ? a + ' ' + b : (a || b || '');\n\n/**\n * Default config for `I18nDecorator`.\n *\n * @memberof i18n/I18nDecorator.I18nDecorator\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Array of locales that should be treated as latin regardless of their script.\n\t *\n\t * @type {String[]}\n\t * @default\tnull\n\t * @public\n\t * @memberof i18n/I18nDecorator.I18nDecorator.defaultConfig\n\t */\n\tlatinLanguageOverrides: null,\n\n\t/**\n\t * Array of locales that should be treated as non-latin regardless of their script.\n\t *\n\t * @type {String[]}\n\t * @default null\n\t * @public\n\t * @memberof i18n/I18nDecorator.I18nDecorator.defaultConfig\n\t */\n\tnonLatinLanguageOverrides: null,\n\n\t/**\n\t * Array of resource loaders to be invoked after a locale change.\n\t *\n\t * Each loader must be a function which accepts an object and returns either the resource when\n\t * `options.sync` is `true` or a `Promise` for the resource when `options.sync` is `false`.\n\t *\n\t * ```\n\t * resources: [\n\t *   (options) => new Promise((resolve, reject) => {\n\t *     fetchResource({onLoad: resolve, onError: reject});\n\t *   })\n\t * ]\n\t * ```\n\t *\n\t * If you need to handle the resource in some way on load, you can pass an object with an\n\t * `onLoad` member that will be called once all resources have been loaded. This should be used\n\t * if loading a resource has side effects that should only be applied once all loading has\n\t * completed.\n\t *\n\t * ```\n\t * resources: [\n\t *   {resource: (options) => { ... fetch ... }, onLoad: (res) => { ... apply side effect ... }}\n\t * ]\n\t * ```\n\t *\n\t * @type {Array<Function|Object>}\n\t * @default null\n\t * @public\n\t * @memberof i18n/I18nDecorator.I18nDecorator.defaultConfig\n\t */\n\tresources: null,\n\n\t/**\n\t * Retrieve i18n resource files synchronously\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t * @memberof i18n/I18nDecorator.I18nDecorator.defaultConfig\n\t */\n\tsync: false\n};\n\n/**\n * A higher-order component that is used to wrap the root element in an app. It provides an `rtl`\n * member on the context of the wrapped component, allowing the children to check the current text\n * directionality as well as an `updateLocale` method that can be used to update the current locale.\n *\n * There are no configurable options on this HOC.\n *\n * Note: This HoC passes `className` to the wrapped component. It must be passed to the main DOM\n * node.\n *\n * @class I18nDecorator\n * @memberof i18n/I18nDecorator\n * @hoc\n * @public\n */\nconst I18nDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\t// eslint-disable-next-line no-shadow\n\tfunction I18nDecorator (props) {\n\t\tconst {locale, ...rest} = props;\n\t\tconst {className: i18nClassName, ...i18n} = useI18n({\n\t\t\tlocale,\n\t\t\t...config\n\t\t});\n\n\t\tconst className = join(i18nClassName, props.className);\n\n\t\treturn (\n\t\t\t<I18nContext.Provider value={i18n}>\n\t\t\t\t<Wrapped {...rest} className={className} />\n\t\t\t</I18nContext.Provider>\n\t\t);\n\t}\n\n\tI18nDecorator.propTypes = /** @lends i18n/I18nDecorator.I18nDecorator.prototype */ {\n\t\t/**\n\t\t * Classes to apply to the wrapped component.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tclassName: PropTypes.string,\n\n\t\t/**\n\t\t * The locale to use.\n\t\t *\n\t\t * A string with a {@link https://tools.ietf.org/html/rfc5646|BCP 47 language tag}. The\n\t\t * system locale will be used by default.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tlocale: PropTypes.string\n\t};\n\n\treturn I18nDecorator;\n});\n\nconst contextDefaultConfig = {\n\tlocaleProp: null,\n\trtlProp: null,\n\tupdateLocaleProp: null\n};\n\nconst I18nContextDecorator = hoc(contextDefaultConfig, (config, Wrapped) => {\n\tconst {loadedProp, localeProp, rtlProp, updateLocaleProp} = config;\n\n\t// eslint-disable-next-line no-shadow\n\treturn function I18nContextDecorator (props) {\n\t\tconst i18nContext = useI18nContext();\n\n\t\tif (i18nContext) {\n\t\t\tconst {loaded, locale, rtl, updateLocale} = i18nContext;\n\n\t\t\tprops = {...props};\n\t\t\tif (loadedProp) {\n\t\t\t\tprops[loadedProp] = loaded;\n\t\t\t}\n\n\t\t\tif (localeProp) {\n\t\t\t\tprops[localeProp] = locale;\n\t\t\t}\n\n\t\t\tif (rtlProp) {\n\t\t\t\tprops[rtlProp] = rtl;\n\t\t\t}\n\n\t\t\tif (updateLocaleProp) {\n\t\t\t\tprops[updateLocaleProp] = updateLocale;\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<Wrapped {...props} />\n\t\t);\n\t};\n});\n\nexport default I18nDecorator;\nexport {\n\tI18nContext,\n\tI18nContextDecorator,\n\tI18nDecorator,\n\tuseI18n,\n\tuseI18nContext\n};\n","import {perfNow} from '@enact/core/util';\nimport clamp from 'ramda/src/clamp';\n\nconst\n\t// Use eases library\n\ttimingFunctions = {\n\t\t'linear': function (source, target, duration, curTime) {\n\t\t\tcurTime /= duration;\n\t\t\treturn (target - source) * curTime + source;\n\t\t},\n\t\t'ease-in': function (source, target, duration, curTime) {\n\t\t\tcurTime /= duration;\n\t\t\treturn (target - source) * curTime * curTime * curTime * curTime + source;\n\t\t},\n\t\t'ease-out': function (source, target, duration, curTime) {\n\t\t\tcurTime /= duration;\n\t\t\tcurTime--;\n\t\t\treturn (target - source) * (curTime * curTime * curTime * curTime * curTime + 1) + source;\n\t\t},\n\t\t'ease-in-out': function (source, target, duration, curTime) {\n\t\t\tcurTime /= duration / 2;\n\t\t\tif (curTime < 1) {\n\t\t\t\treturn (target - source) / 2 * curTime * curTime * curTime * curTime + source;\n\t\t\t} else {\n\t\t\t\tcurTime -= 2;\n\t\t\t}\n\t\t\treturn (source - target) / 2 * (curTime * curTime * curTime * curTime - 2) + source;\n\t\t}\n\t},\n\n\t// for simulate()\n\tframeTime = 16.0,         // time for one frame\n\tmaxVelocity = 100,        // speed cap\n\tstopVelocity = 0.04,      // velocity to stop\n\tvelocityFriction = 0.95,  // velocity decreasing factor\n\tclampVelocity = clamp(-maxVelocity, maxVelocity);\n\n/**\n * The class to scroll a list or a scroller with animation.\n *\n * @class ScrollAnimator\n * @memberof ui/useScroll\n * @private\n */\nclass ScrollAnimator {\n\trAFId = null;\n\ttype = 'ease-out';\n\n\t/**\n\t * @param {String|null} type - Timing function type for list scroll animation.  Must be one of\n\t *\t`'linear'`, `'ease-in'`, `'ease-out'`, or `'ease-in-out'`, or null. If `null`, defaults to\n\t *\t`'ease-out'`.\n\t * @constructor\n\t * @memberof ui/useScroll.ScrollAnimator\n\t */\n\tconstructor (type) {\n\t\tthis.timingFunction = timingFunctions[type || this.type];\n\t}\n\n\tsimulate (sourceX, sourceY, velocityX, velocityY) {\n\t\tlet\n\t\t\tstepX = clampVelocity(velocityX * frameTime),\n\t\t\tstepY = clampVelocity(velocityY * frameTime),\n\t\t\tdeltaX = 0,\n\t\t\tdeltaY = 0,\n\t\t\tduration = 0;\n\n\t\tdo {\n\t\t\tstepX *= velocityFriction;\n\t\t\tstepY *= velocityFriction;\n\t\t\tdeltaX += stepX;\n\t\t\tdeltaY += stepY;\n\t\t\tduration += frameTime;\n\t\t} while ((stepX * stepX + stepY * stepY) > stopVelocity);\n\n\t\treturn {\n\t\t\ttargetX: sourceX + deltaX,\n\t\t\ttargetY: sourceY + deltaY,\n\t\t\tduration\n\t\t};\n\t}\n\n\tanimate (rAFCallbackFuntion) {\n\t\tconst\n\t\t\trAF = window.requestAnimationFrame,\n\t\t\tstartTimeStamp = perfNow(),\n\t\t\tfn = () => {\n\t\t\t\tconst\n\t\t\t\t\t// schedule next frame\n\t\t\t\t\trAFId = rAF(fn),\n\t\t\t\t\t// current timestamp\n\t\t\t\t\tcurTimeStamp = perfNow(),\n\t\t\t\t\t// current time if 0 at starting position\n\t\t\t\t\tcurTime = curTimeStamp - startTimeStamp;\n\n\t\t\t\tthis.rAFId = rAFId;\n\t\t\t\trAFCallbackFuntion(curTime);\n\t\t\t};\n\n\t\tthis.rAFId = rAF(fn);\n\t}\n\n\tisAnimating () {\n\t\treturn this.rAFId !== null;\n\t}\n\n\tstop () {\n\t\tconst cAF = window.cancelAnimationFrame;\n\n\t\tif (this.rAFId !== null ) {\n\t\t\tcAF(this.rAFId);\n\t\t\tthis.rAFId = null;\n\t\t}\n\t}\n}\n\nexport default ScrollAnimator;\nexport {\n\tScrollAnimator\n};\n","/* global ResizeObserver */\n/**\n * Unstyled scrollable hook and behaviors to be customized by a theme or application.\n *\n * @module ui/useScroll\n * @exports assignPropertiesOf\n * @exports constants\n * @exports useScroll\n * @exports useScrollBase\n * @private\n */\n\nimport classNames from 'classnames';\nimport {forward, forwardWithPrevent} from '@enact/core/handle';\nimport {is} from '@enact/core/keymap';\nimport {platform} from '@enact/core/platform'; // scrollMode 'native'\nimport Registry from '@enact/core/internal/Registry';\nimport {Job} from '@enact/core/util';\nimport clamp from 'ramda/src/clamp';\nimport React, {useCallback, useContext, useEffect, useLayoutEffect, useReducer, useRef, useState} from 'react';\nimport warning from 'warning';\n\nimport ForwardRef from '../ForwardRef';\nimport {ResizeContext} from '../Resizable';\nimport ri from '../resolution';\nimport Touchable from '../Touchable';\n\nimport ScrollAnimator from './ScrollAnimator';\nimport utilDOM from './utilDOM';\nimport utilEvent from './utilEvent';\n\nimport css from './useScroll.module.less';\n\nconst\n\tconstants = {\n\t\tanimationDuration: 1000,\n\t\tepsilon: 1,\n\t\tflickConfig: {maxDuration: null},\n\t\tisPageDown: is('pageDown'),\n\t\tisPageUp: is('pageUp'),\n\t\tnop: () => {},\n\t\toverscrollTypeNone: 0,\n\t\toverscrollTypeHold: 1,\n\t\toverscrollTypeOnce: 2,\n\t\toverscrollTypeDone: 9,\n\t\toverscrollVelocityFactor: 300, // scrollMode 'native'\n\t\tpaginationPageMultiplier: 0.66,\n\t\tscrollStopWaiting: 200,\n\t\tscrollWheelPageMultiplierForMaxPixel: 0.2 // The ratio of the maximum distance scrolled by wheel to the size of the viewport.\n\t},\n\t{\n\t\tanimationDuration,\n\t\tepsilon,\n\t\tflickConfig,\n\t\tisPageDown,\n\t\tisPageUp,\n\t\toverscrollTypeDone,\n\t\toverscrollTypeHold,\n\t\toverscrollTypeNone,\n\t\toverscrollTypeOnce,\n\t\toverscrollVelocityFactor,\n\t\tpaginationPageMultiplier,\n\t\tscrollStopWaiting,\n\t\tscrollWheelPageMultiplierForMaxPixel\n\t} = constants;\n\nconst TouchableDiv = ForwardRef({prop: 'componentRef'}, Touchable(\n\t({componentRef, ...rest}) => (<div {...rest} ref={componentRef} />)\n));\n\nconst useForceUpdate = () => (useReducer(x => x + 1, 0));\n\n/**\n * A custom hook that passes scrollable behavior information as its render prop.\n *\n * @class\n * @memberof ui/useScroll\n * @ui\n * @private\n */\nconst useScrollBase = (props) => {\n\tconst\n\t\t{\n\t\t\tchildProps,\n\t\t\tchildren,\n\t\t\tclassName,\n\t\t\tclientSize,\n\t\t\t'data-webos-voice-disabled': voiceDisabled,\n\t\t\t'data-webos-voice-focused': voiceFocused,\n\t\t\t'data-webos-voice-group-label': voiceGroupLabel,\n\t\t\tassignProperties,\n\t\t\tdataSize,\n\t\t\tdirection,\n\t\t\thorizontalScrollbar,\n\t\t\thorizontalScrollbarHandle,\n\t\t\titemRenderer,\n\t\t\titemSize,\n\t\t\titemSizes,\n\t\t\tnoScrollByDrag,\n\t\t\tnoScrollByWheel,\n\t\t\toverhang,\n\t\t\toverscrollEffectOn,\n\t\t\tpageScroll,\n\t\t\trole,\n\t\t\trtl,\n\t\t\tscrollContainerRef,\n\t\t\tscrollContentHandle,\n\t\t\tscrollContentRef,\n\t\t\tscrollMode,\n\t\t\tsetScrollContainerHandle,\n\t\t\tspacing,\n\t\t\tspotlightContainerDisabled,\n\t\t\tverticalScrollbar,\n\t\t\tverticalScrollbarHandle,\n\t\t\twrap,\n\t\t\t...rest\n\t\t} = props,\n\t\tscrollClasses = classNames(css.scroll, className);\n\n\t// The following props are the one having the same naming function in this scope.\n\t// So it is better to use props[propName]\n\t// instead of extracting it from the `props` and renaming it\n\tdelete rest.addEventListeners;\n\tdelete rest.applyOverscrollEffect;\n\tdelete rest.cbScrollTo;\n\tdelete rest.clearOverscrollEffect;\n\tdelete rest.handleResizeWindow;\n\tdelete rest.onFlick;\n\tdelete rest.onKeyDown;\n\tdelete rest.onMouseDown;\n\tdelete rest.onScroll;\n\tdelete rest.onScrollStart;\n\tdelete rest.onScrollStop;\n\tdelete rest.onWheel;\n\tdelete rest.removeEventListeners;\n\tdelete rest.scrollStopOnScroll; // scrollMode 'native'\n\tdelete rest.scrollTo;\n\tdelete rest.start; // scrollMode 'native'\n\tdelete rest.stop; // scrollMode 'translate'\n\n\t// Mutable value and Hooks\n\n\tconst [, forceUpdate] = useForceUpdate();\n\n\tconst context = useContext(ResizeContext);\n\n\tconst [isHorizontalScrollbarVisible, setIsHorizontalScrollbarVisible] = useState(horizontalScrollbar === 'visible');\n\tconst [isVerticalScrollbarVisible, setIsVerticalScrollbarVisible] = useState(verticalScrollbar === 'visible');\n\n\tconst mutableRef = useRef({\n\t\toverscrollEnabled: !!(props.applyOverscrollEffect),\n\n\t\t// Enable the early bail out of repeated scrolling to the same position\n\t\tanimationInfo: null,\n\n\t\tresizeRegistry: null,\n\n\t\t// constants\n\t\tpixelPerLine: 39,\n\t\tscrollWheelMultiplierForDeltaPixel: 1.5, // The ratio of wheel 'delta' units to pixels scrolled.\n\n\t\t// status\n\t\tdeferScrollTo: true,\n\t\tisScrollAnimationTargetAccumulated: false,\n\n\t\t// overscroll\n\t\tlastInputType: null,\n\t\toverscrollStatus: {\n\t\t\thorizontal: {\n\t\t\t\tbefore: {type: overscrollTypeNone, ratio: 0},\n\t\t\t\tafter: {type: overscrollTypeNone, ratio: 0}\n\t\t\t},\n\t\t\tvertical: {\n\t\t\t\tbefore: {type: overscrollTypeNone, ratio: 0},\n\t\t\t\tafter: {type: overscrollTypeNone, ratio: 0}\n\t\t\t}\n\t\t},\n\n\t\t// bounds info\n\t\tbounds: {\n\t\t\tclientWidth: 0,\n\t\t\tclientHeight: 0,\n\t\t\tscrollWidth: 0,\n\t\t\tscrollHeight: 0,\n\t\t\tmaxTop: 0,\n\t\t\tmaxLeft: 0\n\t\t},\n\n\t\t// wheel/drag/flick info\n\t\twheelDirection: 0,\n\t\tisDragging: false,\n\t\tisTouching: false, // scrollMode 'native'\n\n\t\t// scroll info\n\t\tscrolling: false,\n\t\tscrollLeft: 0,\n\t\tscrollTop: 0,\n\t\tscrollToInfo: null,\n\n\t\t// scroll animator\n\t\tanimator: null,\n\n\t\t// non-declared-variable.\n\t\taccumulatedTargetX: null,\n\t\taccumulatedTargetY: null,\n\t\tflickTarget: null,\n\t\tdragStartX: null,\n\t\tdragStartY: null,\n\t\tscrollStopJob: null,\n\n\t\tprevState: {isHorizontalScrollbarVisible, isVerticalScrollbarVisible}\n\t});\n\n\tif (mutableRef.current.animator == null) {\n\t\tmutableRef.current.animator = new ScrollAnimator();\n\t}\n\n\tuseLayoutEffect(() => {\n\t\tif (setScrollContainerHandle) {\n\t\t\tsetScrollContainerHandle({\n\t\t\t\tanimator: mutableRef.current.animator,\n\t\t\t\tapplyOverscrollEffect,\n\t\t\t\tbounds: mutableRef.current.bounds,\n\t\t\t\tcalculateDistanceByWheel,\n\t\t\t\tcanScrollHorizontally,\n\t\t\t\tcanScrollVertically,\n\t\t\t\tcheckAndApplyOverscrollEffect,\n\t\t\t\tgetScrollBounds,\n\t\t\t\tget isDragging () {\n\t\t\t\t\treturn mutableRef.current.isDragging;\n\t\t\t\t},\n\t\t\t\tset isDragging (val) {\n\t\t\t\t\tmutableRef.current.isDragging = val;\n\t\t\t\t},\n\t\t\t\tget isScrollAnimationTargetAccumulated () {\n\t\t\t\t\treturn mutableRef.current.isScrollAnimationTargetAccumulated;\n\t\t\t\t},\n\t\t\t\tset isScrollAnimationTargetAccumulated (val) {\n\t\t\t\t\tmutableRef.current.isScrollAnimationTargetAccumulated = val;\n\t\t\t\t},\n\t\t\t\tget lastInputType () {\n\t\t\t\t\treturn mutableRef.current.lastInputType;\n\t\t\t\t},\n\t\t\t\tset lastInputType (val) {\n\t\t\t\t\tmutableRef.current.lastInputType = val;\n\t\t\t\t},\n\t\t\t\tget rtl () {\n\t\t\t\t\treturn rtl;\n\t\t\t\t},\n\t\t\t\tget scrollBounds () {\n\t\t\t\t\treturn getScrollBounds();\n\t\t\t\t},\n\t\t\t\tget scrollHeight () {\n\t\t\t\t\treturn mutableRef.current.bounds.scrollHeight;\n\t\t\t\t},\n\t\t\t\tget scrolling () {\n\t\t\t\t\treturn mutableRef.current.scrolling;\n\t\t\t\t},\n\t\t\t\tget scrollLeft () {\n\t\t\t\t\treturn mutableRef.current.scrollLeft;\n\t\t\t\t},\n\t\t\t\tscrollTo,\n\t\t\t\tscrollToAccumulatedTarget,\n\t\t\t\tget scrollToInfo () {\n\t\t\t\t\treturn mutableRef.current.scrollToInfo;\n\t\t\t\t},\n\t\t\t\tget scrollTop () {\n\t\t\t\t\treturn mutableRef.current.scrollTop;\n\t\t\t\t},\n\t\t\t\tsetOverscrollStatus,\n\t\t\t\tshowScrollbarTrack,\n\t\t\t\tstart,\n\t\t\t\tstartHidingScrollbarTrack,\n\t\t\t\tstop,\n\t\t\t\tget wheelDirection () {\n\t\t\t\t\treturn mutableRef.current.wheelDirection;\n\t\t\t\t},\n\t\t\t\tset wheelDirection (val) {\n\t\t\t\t\tmutableRef.current.wheelDirection = val;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\tuseLayoutEffect(() => {\n\t\tif (props.cbScrollTo) {\n\t\t\tprops.cbScrollTo(scrollTo);\n\t\t}\n\t}, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n\tuseLayoutEffect(() => {\n\t\tconst containerRef = scrollContainerRef.current;\n\t\tif (!containerRef) {\n\t\t\treturn;\n\t\t}\n\t\tif (typeof ResizeObserver === 'function') {\n\t\t\tlet resizeObserver = new ResizeObserver(() => {\n\t\t\t\tif (scrollContentHandle.current && scrollContentHandle.current.syncClientSize) {\n\t\t\t\t\tscrollContentHandle.current.syncClientSize();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tresizeObserver.observe(containerRef);\n\n\t\t\treturn () => {\n\t\t\t\tif (resizeObserver) {\n\t\t\t\t\tresizeObserver.disconnect();\n\t\t\t\t\tresizeObserver = null;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n\tuseEffect(() => {\n\t\tmutableRef.current.resizeRegistry.parent = context;\n\n\t\t// componentWillUnmount\n\t\treturn () => {\n\t\t\tconst {animator, resizeRegistry, scrolling, scrollStopJob} = mutableRef.current; // eslint-disable-line react-hooks/exhaustive-deps\n\n\t\t\tresizeRegistry.parent = null;\n\n\t\t\t// Before call cancelAnimationFrame, you must send scrollStop Event.\n\t\t\tif (scrolling) {\n\t\t\t\tforwardScrollEvent('onScrollStop', getReachedEdgeInfo());\n\t\t\t}\n\n\t\t\tscrollStopJob.stop();\n\n\t\t\t// scrollMode 'translate' [\n\t\t\tif (animator.isAnimating()) {\n\t\t\t\tanimator.stop();\n\t\t\t}\n\t\t\t// scrollMode 'translate' ]\n\t\t};\n\n\t}, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n\tuseEffect(() => {\n\t\taddEventListeners();\n\t\treturn () => {\n\t\t\tremoveEventListeners();\n\t\t};\n\t});\n\n\t// scrollMode 'translate' [[\n\t// TODO: consider replacing forceUpdate() by storing bounds in state rather than a non-\n\t// state member.\n\tconst enqueueForceUpdate = useCallback(() => {\n\t\tscrollContentHandle.current.calculateMetrics(scrollContentHandle.current.props);\n\t\tforceUpdate();\n\t}, [forceUpdate, scrollContentHandle]);\n\n\tfunction handleResizeWindow () {\n\t\tconst propsHandleResizeWindow = props.handleResizeWindow;\n\n\t\t// `handleSize` in `ui/resolution.ResolutionDecorator` should be executed first.\n\t\tsetTimeout(() => {\n\t\t\tif (propsHandleResizeWindow) {\n\t\t\t\tpropsHandleResizeWindow();\n\t\t\t}\n\t\t\tif (scrollMode === 'translate') {\n\t\t\t\tscrollTo({position: {x: 0, y: 0}, animate: false});\n\t\t\t} else {\n\t\t\t\tscrollContentRef.current.style.scrollBehavior = null;\n\t\t\t\tscrollContentHandle.current.scrollToPosition(0, 0);\n\t\t\t\tscrollContentRef.current.style.scrollBehavior = 'smooth';\n\t\t\t}\n\n\t\t\tenqueueForceUpdate();\n\t\t});\n\t}\n\n\tconst handleResize = useCallback((ev) => {\n\t\tif (ev.action === 'invalidateBounds') {\n\t\t\tenqueueForceUpdate();\n\t\t}\n\t}, [enqueueForceUpdate]);\n\t// scrollMode 'translate' ]]\n\n\tif (mutableRef.current.resizeRegistry == null) {\n\t\tmutableRef.current.resizeRegistry = Registry.create(handleResize);\n\t}\n\n\tuseEffect(() => {\n\t\tconst ref = mutableRef.current;\n\n\t\tif (scrollMode === 'translate') {\n\t\t\tref.scrollStopJob = new Job(doScrollStop, scrollStopWaiting);\n\t\t} else {\n\t\t\tref.scrollStopJob = new Job(scrollStopOnScroll, scrollStopWaiting);\n\t\t}\n\n\t\treturn () => {\n\t\t\tif (ref.scrolling) {\n\t\t\t\tref.scrollStopJob.run();\n\t\t\t}\n\t\t\tref.scrollStopJob.stop();\n\t\t};\n\t}, [direction, isHorizontalScrollbarVisible, isVerticalScrollbarVisible, rtl, scrollMode, spotlightContainerDisabled]); // eslint-disable-line react-hooks/exhaustive-deps\n\n\tuseEffect(() => {\n\t\tconst\n\t\t\t{hasDataSizeChanged} = scrollContentHandle.current,\n\t\t\t{prevState, resizeRegistry, scrollToInfo} = mutableRef.current;\n\n\t\t// Need to sync calculated client size if it is different from the real size\n\t\tif (scrollContentHandle.current.syncClientSize) {\n\t\t\t// If we actually synced, we need to reset scroll position.\n\t\t\tif (scrollContentHandle.current.syncClientSize()) {\n\t\t\t\tsetScrollLeft(0);\n\t\t\t\tsetScrollTop(0);\n\t\t\t}\n\t\t}\n\n\t\tclampScrollPosition(); // scrollMode 'translate'\n\n\t\tif (\n\t\t\thasDataSizeChanged === false &&\n\t\t\t(isHorizontalScrollbarVisible && !prevState.isHorizontalScrollbarVisible || isVerticalScrollbarVisible && !prevState.isVerticalScrollbarVisible)\n\t\t) {\n\t\t\tmutableRef.current.deferScrollTo = false;\n\t\t\tupdateScrollbarTrackSize();\n\t\t} else {\n\t\t\tupdateScrollbars();\n\t\t}\n\n\t\tif (scrollToInfo !== null) {\n\t\t\tif (!mutableRef.current.deferScrollTo) {\n\t\t\t\tscrollTo(scrollToInfo);\n\t\t\t}\n\t\t}\n\n\t\t// publish container resize changes\n\t\tconst horizontal = isHorizontalScrollbarVisible !== prevState.isHorizontalScrollbarVisible;\n\t\tconst vertical = isVerticalScrollbarVisible !== prevState.isVerticalScrollbarVisible;\n\t\tif (horizontal || vertical) {\n\t\t\tresizeRegistry.notify({});\n\t\t}\n\t});\n\n\t// scrollMode 'translate' [[\n\tfunction clampScrollPosition () {\n\t\tconst bounds = getScrollBounds();\n\n\t\tif (mutableRef.current.scrollTop > bounds.maxTop) {\n\t\t\tmutableRef.current.scrollTop = bounds.maxTop;\n\t\t}\n\n\t\tif (mutableRef.current.scrollLeft > bounds.maxLeft) {\n\t\t\tmutableRef.current.scrollLeft = bounds.maxLeft;\n\t\t}\n\t}\n\t// scrollMode 'translate' ]]\n\n\t// drag/flick event handlers\n\n\tfunction getRtlX (x) {\n\t\treturn (rtl ? -x : x);\n\t}\n\n\tfunction onMouseDown (ev) {\n\t\tif (forwardWithPrevent('onMouseDown', ev, props)) {\n\t\t\tstop();\n\t\t}\n\t}\n\n\t// scrollMode 'native' [[\n\tfunction onTouchStart () {\n\t\tmutableRef.current.isTouching = true;\n\t}\n\t// scrollMode 'native' ]]\n\n\tfunction onDragStart (ev) {\n\t\tif (scrollMode === 'translate' ) {\n\t\t\tif (ev.type === 'dragstart') return;\n\n\t\t\tforward('onDragStart', ev, props);\n\t\t\tstop();\n\t\t\tmutableRef.current.isDragging = true;\n\t\t\tmutableRef.current.dragStartX = mutableRef.current.scrollLeft + getRtlX(ev.x);\n\t\t\tmutableRef.current.dragStartY = mutableRef.current.scrollTop + ev.y;\n\t\t} else {\n\t\t\tif (!mutableRef.current.isTouching) {\n\t\t\t\tstop();\n\t\t\t\tmutableRef.current.isDragging = true;\n\t\t\t}\n\n\t\t\t// these values are used also for touch inputs\n\t\t\tmutableRef.current.dragStartX = mutableRef.current.scrollLeft + getRtlX(ev.x);\n\t\t\tmutableRef.current.dragStartY = mutableRef.current.scrollTop + ev.y;\n\t\t}\n\t}\n\n\tfunction onDrag (ev) {\n\t\tif (scrollMode === 'translate') {\n\t\t\tif (ev.type === 'drag') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tmutableRef.current.lastInputType = 'drag';\n\n\t\t\tforward('onDrag', ev, props);\n\t\t\tstart({\n\t\t\t\ttargetX: (direction === 'vertical') ? 0 : mutableRef.current.dragStartX - getRtlX(ev.x), // 'horizontal' or 'both'\n\t\t\t\ttargetY: (direction === 'horizontal') ? 0 : mutableRef.current.dragStartY - ev.y, // 'vertical' or 'both'\n\t\t\t\tanimate: false,\n\t\t\t\toverscrollEffect: overscrollEffectOn && overscrollEffectOn.drag\n\t\t\t});\n\t\t} else {\n\t\t\tconst\n\t\t\t\ttargetX = (direction === 'vertical') ? 0 : mutableRef.current.dragStartX - getRtlX(ev.x), // 'horizontal' or 'both'\n\t\t\t\ttargetY = (direction === 'horizontal') ? 0 : mutableRef.current.dragStartY - ev.y; // 'vertical' or 'both'\n\n\t\t\tmutableRef.current.lastInputType = 'drag';\n\n\t\t\tif (!mutableRef.current.isTouching) {\n\t\t\t\tstart({targetX, targetY, animate: false, overscrollEffect: overscrollEffectOn && overscrollEffectOn.drag});\n\t\t\t} else if (mutableRef.current.overscrollEnabled && overscrollEffectOn && overscrollEffectOn.drag) {\n\t\t\t\tcheckAndApplyOverscrollEffectOnDrag(targetX, targetY, overscrollTypeHold);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction onDragEnd (ev) {\n\t\tif (scrollMode === 'translate') {\n\t\t\tif (ev.type === 'dragend') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tmutableRef.current.isDragging = false;\n\n\t\t\tforward('onDragEnd', ev, props);\n\t\t\tif (mutableRef.current.flickTarget) {\n\t\t\t\tconst {targetX, targetY, duration} = mutableRef.current.flickTarget;\n\n\t\t\t\tmutableRef.current.lastInputType = 'drag';\n\n\t\t\t\tmutableRef.current.isScrollAnimationTargetAccumulated = false;\n\t\t\t\tstart({targetX, targetY, duration, overscrollEffect: overscrollEffectOn && overscrollEffectOn.drag});\n\t\t\t} else {\n\t\t\t\tstop();\n\t\t\t}\n\n\t\t\tif (mutableRef.current.overscrollEnabled) { // not check overscrollEffectOn && overscrollEffectOn.drag for safety\n\t\t\t\tclearAllOverscrollEffects();\n\t\t\t}\n\n\t\t\tmutableRef.current.flickTarget = null;\n\t\t} else {\n\t\t\tmutableRef.current.isDragging = false;\n\n\t\t\tmutableRef.current.lastInputType = 'drag';\n\n\t\t\tif (mutableRef.current.flickTarget) {\n\t\t\t\tconst {targetX, targetY} = mutableRef.current.flickTarget;\n\n\t\t\t\tif (!mutableRef.current.isTouching) {\n\t\t\t\t\tmutableRef.current.isScrollAnimationTargetAccumulated = false;\n\t\t\t\t\tstart({targetX, targetY, overscrollEffect: overscrollEffectOn && overscrollEffectOn.drag});\n\t\t\t\t} else if (mutableRef.current.overscrollEnabled && overscrollEffectOn && overscrollEffectOn.drag) {\n\t\t\t\t\tcheckAndApplyOverscrollEffectOnDrag(targetX, targetY, overscrollTypeOnce);\n\t\t\t\t}\n\t\t\t} else if (!mutableRef.current.isTouching) {\n\t\t\t\tstop();\n\t\t\t}\n\n\t\t\tif (mutableRef.current.overscrollEnabled) { // not check overscrollEffectOn && overscrollEffectOn.drag for safety\n\t\t\t\tclearAllOverscrollEffects();\n\t\t\t}\n\n\t\t\tmutableRef.current.isTouching = false;\n\t\t\tmutableRef.current.flickTarget = null;\n\t\t}\n\t}\n\n\tfunction onFlick (ev) {\n\t\tif (scrollMode === 'translate') {\n\t\t\tmutableRef.current.flickTarget = mutableRef.current.animator.simulate(\n\t\t\t\tmutableRef.current.scrollLeft,\n\t\t\t\tmutableRef.current.scrollTop,\n\t\t\t\t(direction !== 'vertical') ? getRtlX(-ev.velocityX) : 0,\n\t\t\t\t(direction !== 'horizontal') ? -ev.velocityY : 0\n\t\t\t);\n\t\t} else if (scrollMode === 'native') {\n\t\t\tif (!mutableRef.current.isTouching) {\n\t\t\t\tmutableRef.current.flickTarget = mutableRef.current.animator.simulate(\n\t\t\t\t\tmutableRef.current.scrollLeft,\n\t\t\t\t\tmutableRef.current.scrollTop,\n\t\t\t\t\t(direction !== 'vertical') ? getRtlX(-ev.velocityX) : 0,\n\t\t\t\t\t(direction !== 'horizontal') ? -ev.velocityY : 0\n\t\t\t\t);\n\t\t\t} else if (mutableRef.current.overscrollEnabled && overscrollEffectOn && overscrollEffectOn.drag) {\n\t\t\t\tmutableRef.current.flickTarget = {\n\t\t\t\t\ttargetX: mutableRef.current.scrollLeft + getRtlX(-ev.velocityX) * overscrollVelocityFactor, // 'horizontal' or 'both'\n\t\t\t\t\ttargetY: mutableRef.current.scrollTop + -ev.velocityY * overscrollVelocityFactor // 'vertical' or 'both'\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif (props.onFlick) {\n\t\t\tforward('onFlick', ev, props);\n\t\t}\n\t}\n\n\tfunction calculateDistanceByWheel (deltaMode, delta, maxPixel) {\n\t\tif (deltaMode === 0) {\n\t\t\tdelta = clamp(-maxPixel, maxPixel, ri.scale(delta * mutableRef.current.scrollWheelMultiplierForDeltaPixel));\n\t\t} else if (deltaMode === 1) { // line; firefox\n\t\t\tdelta = clamp(-maxPixel, maxPixel, ri.scale(delta * mutableRef.current.pixelPerLine * mutableRef.current.scrollWheelMultiplierForDeltaPixel));\n\t\t} else if (deltaMode === 2) { // page\n\t\t\tdelta = delta < 0 ? -maxPixel : maxPixel;\n\t\t}\n\n\t\treturn delta;\n\t}\n\n\t/*\n\t* wheel event handler;\n\t* - for horizontal scroll, supports wheel action on any children nodes since web engine cannot support this\n\t* - for vertical scroll, supports wheel action on scrollbars only\n\t*/\n\tfunction onWheel (ev) {\n\t\tif (mutableRef.current.isDragging) {\n\t\t\tev.preventDefault();\n\t\t\tev.stopPropagation();\n\t\t} else {\n\t\t\tconst\n\t\t\t\tbounds = getScrollBounds(),\n\t\t\t\tcanScrollH = canScrollHorizontally(bounds),\n\t\t\t\tcanScrollV = canScrollVertically(bounds),\n\t\t\t\teventDeltaMode = ev.deltaMode,\n\t\t\t\teventDelta = (-ev.wheelDeltaY || ev.deltaY);\n\t\t\tlet delta = 0;\n\n\t\t\tmutableRef.current.lastInputType = 'wheel';\n\n\t\t\tif (noScrollByWheel) {\n\t\t\t\tif (scrollMode === 'native' && canScrollV) {\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (scrollMode === 'translate') {\n\t\t\t\tif (canScrollV) {\n\t\t\t\t\tdelta = calculateDistanceByWheel(eventDeltaMode, eventDelta, bounds.clientHeight * scrollWheelPageMultiplierForMaxPixel);\n\t\t\t\t} else if (canScrollH) {\n\t\t\t\t\tdelta = calculateDistanceByWheel(eventDeltaMode, eventDelta, bounds.clientWidth * scrollWheelPageMultiplierForMaxPixel);\n\t\t\t\t}\n\n\t\t\t\tconst dir = Math.sign(delta);\n\n\t\t\t\tif (dir !== mutableRef.current.wheelDirection) {\n\t\t\t\t\tmutableRef.current.isScrollAnimationTargetAccumulated = false;\n\t\t\t\t\tmutableRef.current.wheelDirection = dir;\n\t\t\t\t}\n\n\t\t\t\tforward('onWheel', {delta, horizontalScrollbarHandle, verticalScrollbarHandle}, props);\n\n\t\t\t\tif (delta !== 0) {\n\t\t\t\t\tscrollToAccumulatedTarget(delta, canScrollV, overscrollEffectOn && overscrollEffectOn.wheel);\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t}\n\t\t\t} else { // scrollMode 'native'\n\t\t\t\tconst overscrollEffectRequired = mutableRef.current.overscrollEnabled && overscrollEffectOn && overscrollEffectOn.wheel;\n\t\t\t\tlet needToHideScrollbarTrack = false;\n\n\t\t\t\tif (props.onWheel) {\n\t\t\t\t\tforward('onWheel', ev, props);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tshowScrollbarTrack(bounds);\n\n\t\t\t\t// FIXME This routine is a temporary support for horizontal wheel scroll.\n\t\t\t\t// FIXME If web engine supports horizontal wheel, this routine should be refined or removed.\n\t\t\t\tif (canScrollV) { // This routine handles wheel events on scrollbars for vertical scroll.\n\t\t\t\t\tif (eventDelta < 0 && mutableRef.current.scrollTop > 0 || eventDelta > 0 && mutableRef.current.scrollTop < bounds.maxTop) {\n\t\t\t\t\t\t// Not to check if ev.target is a descendant of a wrapped component which may have a lot of nodes in it.\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\thorizontalScrollbarHandle.current && horizontalScrollbarHandle.current.getContainerRef && utilDOM.containsDangerously(horizontalScrollbarHandle.current.getContainerRef(), ev.target) ||\n\t\t\t\t\t\t\tverticalScrollbarHandle.current && verticalScrollbarHandle.current.getContainerRef && utilDOM.containsDangerously(verticalScrollbarHandle.current.getContainerRef(), ev.target)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tdelta = calculateDistanceByWheel(eventDeltaMode, eventDelta, bounds.clientHeight * scrollWheelPageMultiplierForMaxPixel);\n\t\t\t\t\t\t\tneedToHideScrollbarTrack = !delta;\n\n\t\t\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t\t} else if (overscrollEffectRequired) {\n\t\t\t\t\t\t\tcheckAndApplyOverscrollEffect('vertical', eventDelta > 0 ? 'after' : 'before', overscrollTypeOnce);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (overscrollEffectRequired && (eventDelta < 0 && mutableRef.current.scrollTop <= 0 || eventDelta > 0 && mutableRef.current.scrollTop >= bounds.maxTop)) {\n\t\t\t\t\t\t\tapplyOverscrollEffect('vertical', eventDelta > 0 ? 'after' : 'before', overscrollTypeOnce, 1);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tneedToHideScrollbarTrack = true;\n\t\t\t\t\t}\n\t\t\t\t} else if (canScrollH) { // this routine handles wheel events on any children for horizontal scroll.\n\t\t\t\t\tif (eventDelta < 0 && mutableRef.current.scrollLeft > 0 || eventDelta > 0 && mutableRef.current.scrollLeft < bounds.maxLeft) {\n\t\t\t\t\t\tdelta = calculateDistanceByWheel(eventDeltaMode, eventDelta, bounds.clientWidth * scrollWheelPageMultiplierForMaxPixel);\n\t\t\t\t\t\tneedToHideScrollbarTrack = !delta;\n\n\t\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (overscrollEffectRequired && (eventDelta < 0 && mutableRef.current.scrollLeft <= 0 || eventDelta > 0 && mutableRef.current.scrollLeft >= bounds.maxLeft)) {\n\t\t\t\t\t\t\tapplyOverscrollEffect('horizontal', eventDelta > 0 ? 'after' : 'before', overscrollTypeOnce, 1);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tneedToHideScrollbarTrack = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (delta !== 0) {\n\t\t\t\t\tconst dir = Math.sign(delta);\n\n\t\t\t\t\t// Not to accumulate scroll position if wheel direction is different from hold direction\n\t\t\t\t\tif (dir !== mutableRef.current.wheelDirection) {\n\t\t\t\t\t\tmutableRef.current.isScrollAnimationTargetAccumulated = false;\n\t\t\t\t\t\tmutableRef.current.wheelDirection = dir;\n\t\t\t\t\t}\n\n\t\t\t\t\tscrollToAccumulatedTarget(delta, canScrollV, overscrollEffectOn && overscrollEffectOn.wheel);\n\t\t\t\t}\n\n\t\t\t\tif (needToHideScrollbarTrack) {\n\t\t\t\t\tstartHidingScrollbarTrack();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// scrollMode 'translate' [[\n\tfunction scrollByPage (keyCode) {\n\t\tconst\n\t\t\tbounds = getScrollBounds(),\n\t\t\tcanScrollV = canScrollVertically(bounds),\n\t\t\tpageDistance = (isPageUp(keyCode) ? -1 : 1) * (canScrollV ? bounds.clientHeight : bounds.clientWidth) * paginationPageMultiplier;\n\n\t\tmutableRef.current.lastInputType = 'pageKey';\n\n\t\tscrollToAccumulatedTarget(pageDistance, canScrollV, overscrollEffectOn && overscrollEffectOn.pageKey);\n\t}\n\t// scrollMode 'translate' ]]\n\n\t// scrollMode 'native' [[\n\tfunction onScroll (ev) {\n\t\tlet {scrollLeft, scrollTop} = ev.target;\n\n\t\tconst\n\t\t\tbounds = getScrollBounds(),\n\t\t\tcanScrollH = canScrollHorizontally(bounds);\n\n\t\tif (!mutableRef.current.scrolling) {\n\t\t\tscrollStartOnScroll();\n\t\t}\n\n\t\tif (rtl && canScrollH) {\n\t\t\tscrollLeft = (platform.ios || platform.safari) ? -scrollLeft : bounds.maxLeft - scrollLeft;\n\t\t}\n\n\t\tif (scrollLeft !== mutableRef.current.scrollLeft) {\n\t\t\tsetScrollLeft(scrollLeft);\n\t\t}\n\t\tif (scrollTop !== mutableRef.current.scrollTop) {\n\t\t\tsetScrollTop(scrollTop);\n\t\t}\n\n\t\tif (scrollContentHandle.current.didScroll) {\n\t\t\tscrollContentHandle.current.didScroll(mutableRef.current.scrollLeft, mutableRef.current.scrollTop);\n\t\t}\n\n\t\tforwardScrollEvent('onScroll');\n\t\tmutableRef.current.scrollStopJob.start();\n\t}\n\t// scrollMode 'native' ]]\n\n\tfunction onKeyDown (ev) {\n\t\tif (scrollMode === 'translate') {\n\t\t\tif (props.onKeyDown) {\n\t\t\t\tforward('onKeyDown', ev, props);\n\t\t\t} else if ((isPageUp(ev.keyCode) || isPageDown(ev.keyCode))) {\n\t\t\t\tscrollByPage(ev.keyCode);\n\t\t\t}\n\t\t} else {\n\t\t\tforward('onKeyDown', ev, props);\n\t\t}\n\t}\n\n\tfunction scrollToAccumulatedTarget (delta, vertical, overscrollEffect) {\n\t\tif (!mutableRef.current.isScrollAnimationTargetAccumulated) {\n\t\t\tmutableRef.current.accumulatedTargetX = mutableRef.current.scrollLeft;\n\t\t\tmutableRef.current.accumulatedTargetY = mutableRef.current.scrollTop;\n\t\t\tmutableRef.current.isScrollAnimationTargetAccumulated = true;\n\t\t}\n\n\t\tif (vertical) {\n\t\t\tmutableRef.current.accumulatedTargetY += delta;\n\t\t} else {\n\t\t\tmutableRef.current.accumulatedTargetX += delta;\n\t\t}\n\n\t\tstart({targetX: mutableRef.current.accumulatedTargetX, targetY: mutableRef.current.accumulatedTargetY, overscrollEffect});\n\t}\n\n\t// overscroll effect\n\n\tfunction getEdgeFromPosition (position, maxPosition) {\n\t\tif (position <= 0) {\n\t\t\treturn 'before';\n\t\t/* If a scroll size or a client size is not integer,\n\t\t\tbrowser's max scroll position could be smaller than maxPos by 1 pixel.*/\n\t\t} else if (scrollMode === 'translate' && position >= maxPosition || scrollMode === 'native' && position >= maxPosition - 1) {\n\t\t\treturn 'after';\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tfunction setOverscrollStatus (orientation, edge, overscrollEffectType, ratio) {\n\t\tconst status = mutableRef.current.overscrollStatus[orientation][edge];\n\t\tstatus.type = overscrollEffectType;\n\t\tstatus.ratio = ratio;\n\t}\n\n\tfunction getOverscrollStatus (orientation, edge) {\n\t\treturn (mutableRef.current.overscrollStatus[orientation][edge]);\n\t}\n\n\tfunction calculateOverscrollRatio (orientation, position) {\n\t\tconst\n\t\t\tbounds = getScrollBounds(),\n\t\t\tisVertical = (orientation === 'vertical'),\n\t\t\tbaseSize = isVertical ? bounds.clientHeight : bounds.clientWidth,\n\t\t\tmaxPos = bounds[isVertical ? 'maxTop' : 'maxLeft'];\n\t\tlet overDistance = 0;\n\n\t\tif (position < 0) {\n\t\t\toverDistance = -position;\n\t\t} else if (position > maxPos) {\n\t\t\toverDistance = position - maxPos;\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn Math.min(1, 2 * overDistance / baseSize);\n\t}\n\n\tfunction applyOverscrollEffect (orientation, edge, overscrollEffectType, ratio) {\n\t\tprops.applyOverscrollEffect(orientation, edge, overscrollEffectType, ratio);\n\t\tsetOverscrollStatus(orientation, edge, overscrollEffectType === overscrollTypeOnce ? overscrollTypeDone : overscrollEffectType, ratio);\n\t}\n\n\tfunction checkAndApplyOverscrollEffect (orientation, edge, overscrollEffectType, ratio = 1) {\n\t\tconst\n\t\t\tisVertical = (orientation === 'vertical'),\n\t\t\tcurPos = isVertical ? mutableRef.current.scrollTop : mutableRef.current.scrollLeft,\n\t\t\tmaxPos = getScrollBounds()[isVertical ? 'maxTop' : 'maxLeft'];\n\n\t\tif (\n\t\t\tscrollMode === 'translate' && (edge === 'before' && curPos <= 0) || (edge === 'after' && curPos >= maxPos) ||\n\t\t\tscrollMode === 'native' && (edge === 'before' && curPos <= 0) || (edge === 'after' && curPos >= maxPos - 1)\n\t\t) { // Already on the edge\n\t\t\tapplyOverscrollEffect(orientation, edge, overscrollEffectType, ratio);\n\t\t} else {\n\t\t\tsetOverscrollStatus(orientation, edge, overscrollEffectType, ratio);\n\t\t}\n\t}\n\n\tfunction clearOverscrollEffect (orientation, edge) {\n\t\tif (getOverscrollStatus(orientation, edge).type !== overscrollTypeNone) {\n\t\t\tif (props.clearOverscrollEffect) {\n\t\t\t\tprops.clearOverscrollEffect(orientation, edge);\n\t\t\t} else {\n\t\t\t\tapplyOverscrollEffect(orientation, edge, overscrollTypeNone, 0);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction clearAllOverscrollEffects () {\n\t\t['horizontal', 'vertical'].forEach((orientation) => {\n\t\t\t['before', 'after'].forEach((edge) => {\n\t\t\t\tclearOverscrollEffect(orientation, edge);\n\t\t\t});\n\t\t});\n\t}\n\n\tfunction applyOverscrollEffectOnDrag (orientation, edge, targetPosition, overscrollEffectType) {\n\t\tif (edge) {\n\t\t\tconst\n\t\t\t\toppositeEdge = edge === 'before' ? 'after' : 'before',\n\t\t\t\tratio = calculateOverscrollRatio(orientation, targetPosition);\n\n\t\t\tapplyOverscrollEffect(orientation, edge, overscrollEffectType, ratio);\n\t\t\tclearOverscrollEffect(orientation, oppositeEdge);\n\t\t} else {\n\t\t\tclearOverscrollEffect(orientation, 'before');\n\t\t\tclearOverscrollEffect(orientation, 'after');\n\t\t}\n\t}\n\n\t// scrollMode 'native' [[\n\tfunction checkAndApplyOverscrollEffectOnDrag (targetX, targetY, overscrollEffectType) {\n\t\tconst bounds = getScrollBounds();\n\n\t\tif (canScrollHorizontally(bounds)) {\n\t\t\tapplyOverscrollEffectOnDrag('horizontal', getEdgeFromPosition(targetX, bounds.maxLeft), targetX, overscrollEffectType);\n\t\t}\n\n\t\tif (canScrollVertically(bounds)) {\n\t\t\tapplyOverscrollEffectOnDrag('vertical', getEdgeFromPosition(targetY, bounds.maxTop), targetY, overscrollEffectType);\n\t\t}\n\t}\n\t// scrollMode 'native' ]]\n\n\tfunction checkAndApplyOverscrollEffectOnScroll (orientation) {\n\t\t['before', 'after'].forEach((edge) => {\n\t\t\tconst {ratio, type: overscrollEffectType} = getOverscrollStatus(orientation, edge);\n\n\t\t\tif (overscrollEffectType === overscrollTypeOnce) {\n\t\t\t\tcheckAndApplyOverscrollEffect(orientation, edge, overscrollEffectType, ratio);\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction checkAndApplyOverscrollEffectOnStart (orientation, edge, targetPosition) {\n\t\tif (mutableRef.current.isDragging) {\n\t\t\tapplyOverscrollEffectOnDrag(orientation, edge, targetPosition, overscrollTypeHold);\n\t\t} else if (edge) {\n\t\t\tcheckAndApplyOverscrollEffect(orientation, edge, overscrollTypeOnce);\n\t\t}\n\t}\n\n\t// call scroll callbacks\n\n\tfunction forwardScrollEvent (overscrollEffectType, reachedEdgeInfo) {\n\t\tforward(overscrollEffectType, {scrollLeft: mutableRef.current.scrollLeft, scrollTop: mutableRef.current.scrollTop, moreInfo: getMoreInfo(), reachedEdgeInfo}, props);\n\t}\n\n\t// scrollMode 'native' [[\n\t// call scroll callbacks and update scrollbars for native scroll\n\n\tfunction scrollStartOnScroll () {\n\t\tmutableRef.current.scrolling = true;\n\t\tshowScrollbarTrack(getScrollBounds());\n\t\tforwardScrollEvent('onScrollStart');\n\t}\n\n\tfunction scrollStopOnScroll () {\n\t\tif (props.scrollStopOnScroll) {\n\t\t\tprops.scrollStopOnScroll();\n\t\t}\n\t\tif (mutableRef.current.overscrollEnabled && !mutableRef.current.isDragging) { // not check overscrollEffectOn && overscrollEffectOn for safety\n\t\t\tclearAllOverscrollEffects();\n\t\t}\n\t\tmutableRef.current.lastInputType = null;\n\t\tmutableRef.current.isScrollAnimationTargetAccumulated = false;\n\t\tmutableRef.current.scrolling = false;\n\t\tforwardScrollEvent('onScrollStop', getReachedEdgeInfo());\n\t\tstartHidingScrollbarTrack();\n\t}\n\t// scrollMode 'native' ]]\n\n\t// update scroll position\n\n\tfunction setScrollLeft (value) {\n\t\tconst bounds = getScrollBounds();\n\n\t\tmutableRef.current.scrollLeft = clamp(0, bounds.maxLeft, value);\n\n\t\tif (mutableRef.current.overscrollEnabled && overscrollEffectOn && overscrollEffectOn[mutableRef.current.lastInputType]) {\n\t\t\tcheckAndApplyOverscrollEffectOnScroll('horizontal');\n\t\t}\n\n\t\tif (isHorizontalScrollbarVisible) {\n\t\t\tupdateScrollbarTrack(horizontalScrollbarHandle, bounds);\n\t\t}\n\t}\n\n\tfunction setScrollTop (value) {\n\t\tconst bounds = getScrollBounds();\n\n\t\tmutableRef.current.scrollTop = clamp(0, bounds.maxTop, value);\n\n\t\tif (mutableRef.current.overscrollEnabled && overscrollEffectOn && overscrollEffectOn[mutableRef.current.lastInputType]) {\n\t\t\tcheckAndApplyOverscrollEffectOnScroll('vertical');\n\t\t}\n\n\t\tif (isVerticalScrollbarVisible) {\n\t\t\tupdateScrollbarTrack(verticalScrollbarHandle, bounds);\n\t\t}\n\t}\n\n\tfunction getReachedEdgeInfo () {\n\t\tconst\n\t\t\tbounds = getScrollBounds(),\n\t\t\treachedEdgeInfo = {bottom: false, left: false, right: false, top: false};\n\n\t\tif (canScrollHorizontally(bounds)) {\n\t\t\tconst edge = getEdgeFromPosition(mutableRef.current.scrollLeft, bounds.maxLeft);\n\n\t\t\tif (edge) { // if edge is null, no need to check which edge is reached.\n\t\t\t\tif ((edge === 'before' && !rtl) || (edge === 'after' && rtl)) {\n\t\t\t\t\treachedEdgeInfo.left = true;\n\t\t\t\t} else {\n\t\t\t\t\treachedEdgeInfo.right = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (canScrollVertically(bounds)) {\n\t\t\tconst edge = getEdgeFromPosition(mutableRef.current.scrollTop, bounds.maxTop);\n\n\t\t\tif (edge === 'before') {\n\t\t\t\treachedEdgeInfo.top = true;\n\t\t\t} else if (edge === 'after') {\n\t\t\t\treachedEdgeInfo.bottom = true;\n\t\t\t}\n\t\t}\n\n\t\treturn reachedEdgeInfo;\n\t}\n\n\t// scroll start/stop\n\n\t// scrollMode 'translate' [[\n\tfunction doScrollStop () {\n\t\tmutableRef.current.scrolling = false;\n\t\tforwardScrollEvent('onScrollStop', getReachedEdgeInfo());\n\t}\n\t// scrollMode 'translate' ]]\n\n\tfunction start ({targetX, targetY, animate = true, duration = animationDuration, overscrollEffect = false}) {\n\t\tconst\n\t\t\t{scrollLeft, scrollTop} = mutableRef.current,\n\t\t\tbounds = getScrollBounds(),\n\t\t\t{maxLeft, maxTop} = bounds;\n\n\t\tconst updatedAnimationInfo = scrollMode === 'translate' ?\n\t\t\t{\n\t\t\t\tsourceX: scrollLeft,\n\t\t\t\tsourceY: scrollTop,\n\t\t\t\ttargetX,\n\t\t\t\ttargetY,\n\t\t\t\tduration\n\t\t\t} :\n\t\t\t{\n\t\t\t\ttargetX,\n\t\t\t\ttargetY\n\t\t\t};\n\n\t\t// bail early when scrolling to the same position\n\t\tif (\n\t\t\t(scrollMode === 'translate' && mutableRef.current.animator.isAnimating() || scrollMode === 'native' && mutableRef.current.scrolling) &&\n\t\t\tmutableRef.current.animationInfo &&\n\t\t\tmutableRef.current.animationInfo.targetX === targetX &&\n\t\t\tmutableRef.current.animationInfo.targetY === targetY\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tmutableRef.current.animationInfo = updatedAnimationInfo;\n\n\t\tif (scrollMode === 'translate') {\n\t\t\tmutableRef.current.animator.stop();\n\n\t\t\tif (!mutableRef.current.scrolling) {\n\t\t\t\tmutableRef.current.scrolling = true;\n\t\t\t\tforwardScrollEvent('onScrollStart');\n\t\t\t}\n\n\t\t\tmutableRef.current.scrollStopJob.stop();\n\t\t}\n\n\t\tif (Math.abs(maxLeft - targetX) < epsilon) {\n\t\t\ttargetX = maxLeft;\n\t\t}\n\n\t\tif (Math.abs(maxTop - targetY) < epsilon) {\n\t\t\ttargetY = maxTop;\n\t\t}\n\n\t\tif (mutableRef.current.overscrollEnabled && overscrollEffect) {\n\t\t\tif (scrollLeft !== targetX && canScrollHorizontally(bounds)) {\n\t\t\t\tcheckAndApplyOverscrollEffectOnStart('horizontal', getEdgeFromPosition(targetX, maxLeft), targetX);\n\t\t\t}\n\t\t\tif (scrollTop !== targetY && canScrollVertically(bounds)) {\n\t\t\t\tcheckAndApplyOverscrollEffectOnStart('vertical', getEdgeFromPosition(targetY, maxTop), targetY);\n\t\t\t}\n\t\t}\n\n\t\tif (scrollMode === 'translate') {\n\t\t\tshowScrollbarTrack(bounds);\n\t\t\tif (scrollContentHandle.current && scrollContentHandle.current.setScrollPositionTarget) {\n\t\t\t\tscrollContentHandle.current.setScrollPositionTarget(targetX, targetY);\n\t\t\t}\n\n\t\t\tif (animate) {\n\t\t\t\tmutableRef.current.animator.animate(scrollAnimation(mutableRef.current.animationInfo));\n\t\t\t} else {\n\t\t\t\tscroll(targetX, targetY);\n\t\t\t\tstop();\n\t\t\t}\n\t\t} else { // scrollMode 'native'\n\t\t\tif (animate) {\n\t\t\t\tscrollContentHandle.current.scrollToPosition(targetX, targetY);\n\t\t\t} else {\n\t\t\t\tscrollContentRef.current.style.scrollBehavior = null;\n\t\t\t\tscrollContentHandle.current.scrollToPosition(targetX, targetY);\n\t\t\t\tscrollContentRef.current.style.scrollBehavior = 'smooth';\n\t\t\t}\n\n\t\t\tif (props.start) {\n\t\t\t\tprops.start(animate);\n\t\t\t}\n\t\t}\n\t}\n\n\t// scrollMode 'translate' [[\n\tfunction scrollAnimation (animationInfo) {\n\t\treturn (curTime) => {\n\t\t\tconst\n\t\t\t\t{sourceX, sourceY, targetX, targetY, duration} = animationInfo,\n\t\t\t\tbounds = getScrollBounds();\n\n\t\t\tif (curTime < duration) {\n\t\t\t\tlet\n\t\t\t\t\ttoBeContinued = false,\n\t\t\t\t\tcurTargetX = sourceX,\n\t\t\t\t\tcurTargetY = sourceY;\n\n\t\t\t\tif (canScrollHorizontally(bounds)) {\n\t\t\t\t\tcurTargetX = mutableRef.current.animator.timingFunction(sourceX, targetX, duration, curTime);\n\n\t\t\t\t\tif (Math.abs(curTargetX - targetX) < epsilon) {\n\t\t\t\t\t\tcurTargetX = targetX;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttoBeContinued = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (canScrollVertically(bounds)) {\n\t\t\t\t\tcurTargetY = mutableRef.current.animator.timingFunction(sourceY, targetY, duration, curTime);\n\n\t\t\t\t\tif (Math.abs(curTargetY - targetY) < epsilon) {\n\t\t\t\t\t\tcurTargetY = targetY;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttoBeContinued = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tscroll(curTargetX, curTargetY);\n\n\t\t\t\tif (!toBeContinued) {\n\t\t\t\t\tstop();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tscroll(targetX, targetY);\n\t\t\t\tstop();\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction scroll (left, top) {\n\t\tif (left !== mutableRef.current.scrollLeft) {\n\t\t\tsetScrollLeft(left);\n\t\t}\n\n\t\tif (top !== mutableRef.current.scrollTop) {\n\t\t\tsetScrollTop(top);\n\t\t}\n\n\t\tscrollContentHandle.current.setScrollPosition(mutableRef.current.scrollLeft, mutableRef.current.scrollTop, rtl);\n\t\tforwardScrollEvent('onScroll');\n\t}\n\t// scrollMode 'translate' ]]\n\n\tfunction stopForTranslate () {\n\t\tmutableRef.current.animator.stop();\n\t\tmutableRef.current.lastInputType = null;\n\t\tmutableRef.current.isScrollAnimationTargetAccumulated = false;\n\t\tstartHidingScrollbarTrack();\n\n\t\tif (mutableRef.current.overscrollEnabled && !mutableRef.current.isDragging) { // not check overscrollEffectOn && overscrollEffectOn for safety\n\t\t\tclearAllOverscrollEffects();\n\t\t}\n\n\t\tif (props.stop) {\n\t\t\tprops.stop();\n\t\t}\n\n\t\tif (mutableRef.current.scrolling) {\n\t\t\tmutableRef.current.scrollStopJob.start();\n\t\t}\n\t}\n\n\tfunction stopForNative () {\n\t\tscrollContentRef.current.style.scrollBehavior = null;\n\t\tscrollContentHandle.current.scrollToPosition(mutableRef.current.scrollLeft + (rtl ? -0.1 : 0.1), mutableRef.current.scrollTop + 0.1);\n\t\tscrollContentRef.current.style.scrollBehavior = 'smooth';\n\t}\n\n\tfunction stop () {\n\t\tif (scrollMode === 'translate') {\n\t\t\tstopForTranslate();\n\t\t} else {\n\t\t\tstopForNative();\n\t\t}\n\t}\n\n\t// scrollTo API\n\n\tfunction getPositionForScrollTo (opt) {\n\t\tconst\n\t\t\tbounds = getScrollBounds(),\n\t\t\tcanScrollH = canScrollHorizontally(bounds),\n\t\t\tcanScrollV = canScrollVertically(bounds);\n\t\tlet\n\t\t\titemPos,\n\t\t\tleft = null,\n\t\t\ttop = null;\n\n\t\tif (opt instanceof Object) {\n\t\t\tif (opt.position instanceof Object) {\n\t\t\t\tif (canScrollH) {\n\t\t\t\t\t// We need '!=' to check if opt.position.x is null or undefined\n\t\t\t\t\tleft = opt.position.x != null ? opt.position.x : mutableRef.current.scrollLeft;\n\t\t\t\t} else {\n\t\t\t\t\tleft = 0;\n\t\t\t\t}\n\n\t\t\t\tif (canScrollV) {\n\t\t\t\t\t// We need '!=' to check if opt.position.y is null or undefined\n\t\t\t\t\ttop = opt.position.y != null ? opt.position.y : mutableRef.current.scrollTop;\n\t\t\t\t} else {\n\t\t\t\t\ttop = 0;\n\t\t\t\t}\n\t\t\t} else if (typeof opt.align === 'string') {\n\t\t\t\tif (canScrollH) {\n\t\t\t\t\tif (opt.align.includes('left')) {\n\t\t\t\t\t\tleft = 0;\n\t\t\t\t\t} else if (opt.align.includes('right')) {\n\t\t\t\t\t\tleft = bounds.maxLeft;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (canScrollV) {\n\t\t\t\t\tif (opt.align.includes('top')) {\n\t\t\t\t\t\ttop = 0;\n\t\t\t\t\t} else if (opt.align.includes('bottom')) {\n\t\t\t\t\t\ttop = bounds.maxTop;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (typeof opt.index === 'number' && typeof scrollContentHandle.current.getItemPosition === 'function') {\n\t\t\t\t\titemPos = scrollContentHandle.current.getItemPosition(opt.index, opt.stickTo, opt.offset);\n\t\t\t\t} else if (opt.node instanceof Object) {\n\t\t\t\t\tif (opt.node.nodeType === 1 && typeof scrollContentHandle.current.getNodePosition === 'function') {\n\t\t\t\t\t\titemPos = scrollContentHandle.current.getNodePosition(opt.node);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (itemPos) {\n\t\t\t\t\tif (canScrollH) {\n\t\t\t\t\t\tleft = itemPos.left;\n\t\t\t\t\t}\n\t\t\t\t\tif (canScrollV) {\n\t\t\t\t\t\ttop = itemPos.top;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn {left, top};\n\t}\n\n\tfunction scrollTo (opt) {\n\t\tif (!mutableRef.current.deferScrollTo) {\n\t\t\tconst {left, top} = getPositionForScrollTo(opt);\n\t\t\tconst targetX = (left !== null) ? left : mutableRef.current.scrollLeft;\n\t\t\tconst targetY = (top !== null) ? top : mutableRef.current.scrollTop;\n\n\t\t\tif (props.scrollTo) {\n\t\t\t\tprops.scrollTo(opt);\n\t\t\t}\n\n\t\t\tmutableRef.current.scrollToInfo = null;\n\n\t\t\tif (scrollMode === 'native' && scrollContentHandle.current && scrollContentHandle.current.setScrollToPositionTarget) {\n\t\t\t\tscrollContentHandle.current.setScrollToPositionTarget(targetX, targetY);\n\t\t\t}\n\n\t\t\tstart({\n\t\t\t\ttargetX,\n\t\t\t\ttargetY,\n\t\t\t\tanimate: opt.animate\n\t\t\t});\n\t\t} else {\n\t\t\tmutableRef.current.scrollToInfo = opt;\n\t\t}\n\t}\n\n\tfunction canScrollHorizontally (bounds) {\n\t\treturn (direction === 'horizontal' || direction === 'both') && (bounds.scrollWidth > bounds.clientWidth) && !isNaN(bounds.scrollWidth);\n\t}\n\n\tfunction canScrollVertically (bounds) {\n\t\treturn (direction === 'vertical' || direction === 'both') && (bounds.scrollHeight > bounds.clientHeight) && !isNaN(bounds.scrollHeight);\n\t}\n\n\t// scroll bar\n\n\tfunction showScrollbarTrack (bounds) {\n\t\tif (isHorizontalScrollbarVisible && canScrollHorizontally(bounds) && horizontalScrollbarHandle.current) {\n\t\t\thorizontalScrollbarHandle.current.showScrollbarTrack();\n\t\t}\n\n\t\tif (isVerticalScrollbarVisible && canScrollVertically(bounds) && verticalScrollbarHandle.current) {\n\t\t\tverticalScrollbarHandle.current.showScrollbarTrack();\n\t\t}\n\t}\n\n\tfunction updateScrollbarTrack (scrollbarRef, bounds) {\n\t\tscrollbarRef.current.update({\n\t\t\t...bounds,\n\t\t\tscrollLeft: mutableRef.current.scrollLeft,\n\t\t\tscrollTop: mutableRef.current.scrollTop\n\t\t});\n\t}\n\n\tfunction startHidingScrollbarTrack () {\n\t\tif (isHorizontalScrollbarVisible && horizontalScrollbarHandle.current) {\n\t\t\thorizontalScrollbarHandle.current.startHidingScrollbarTrack();\n\t\t}\n\n\t\tif (isVerticalScrollbarVisible && verticalScrollbarHandle.current) {\n\t\t\tverticalScrollbarHandle.current.startHidingScrollbarTrack();\n\t\t}\n\t}\n\n\tfunction updateScrollbars () {\n\t\tconst\n\t\t\tbounds = getScrollBounds(),\n\t\t\tcanScrollH = canScrollHorizontally(bounds),\n\t\t\tcanScrollV = canScrollVertically(bounds),\n\t\t\tcurHorizontalScrollbarVisible = (horizontalScrollbar === 'auto') ? canScrollH : horizontalScrollbar === 'visible',\n\t\t\tcurVerticalScrollbarVisible = (verticalScrollbar === 'auto') ? canScrollV : verticalScrollbar === 'visible';\n\n\t\t// determine if we should hide or show any scrollbars\n\t\tconst\n\t\t\tisVisibilityChanged = (\n\t\t\t\tisHorizontalScrollbarVisible !== curHorizontalScrollbarVisible ||\n\t\t\t\tisVerticalScrollbarVisible !== curVerticalScrollbarVisible\n\t\t\t);\n\n\t\tif (isVisibilityChanged) {\n\t\t\t// one or both scrollbars have changed visibility\n\t\t\tsetIsHorizontalScrollbarVisible(curHorizontalScrollbarVisible);\n\t\t\tsetIsVerticalScrollbarVisible(curVerticalScrollbarVisible);\n\t\t} else {\n\t\t\tmutableRef.current.deferScrollTo = false;\n\t\t\tupdateScrollbarTrackSize();\n\t\t}\n\t}\n\n\tfunction updateScrollbarTrackSize () {\n\t\tconst\n\t\t\tbounds = getScrollBounds(),\n\t\t\tcanScrollH = canScrollHorizontally(bounds),\n\t\t\tcanScrollV = canScrollVertically(bounds),\n\t\t\tcurHorizontalScrollbarVisible = (horizontalScrollbar === 'auto') ? canScrollH : horizontalScrollbar === 'visible',\n\t\t\tcurVerticalScrollbarVisible = (verticalScrollbar === 'auto') ? canScrollV : verticalScrollbar === 'visible';\n\n\t\tif (curHorizontalScrollbarVisible || curVerticalScrollbarVisible) {\n\t\t\t// no visibility change but need to notify whichever scrollbars are visible of the\n\t\t\t// updated bounds and scroll position\n\t\t\tconst updatedBounds = {\n\t\t\t\t...bounds,\n\t\t\t\tscrollLeft: mutableRef.current.scrollLeft,\n\t\t\t\tscrollTop: mutableRef.current.scrollTop\n\t\t\t};\n\n\t\t\tif (curHorizontalScrollbarVisible && horizontalScrollbarHandle.current) {\n\t\t\t\thorizontalScrollbarHandle.current.update(updatedBounds);\n\t\t\t}\n\n\t\t\tif (curVerticalScrollbarVisible && verticalScrollbarHandle.current) {\n\t\t\t\tverticalScrollbarHandle.current.update(updatedBounds);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t// ref\n\n\tfunction getScrollBounds () {\n\t\tif (scrollContentHandle.current && typeof scrollContentHandle.current.getScrollBounds === 'function') {\n\t\t\treturn scrollContentHandle.current.getScrollBounds();\n\t\t}\n\t}\n\n\tfunction getMoreInfo () {\n\t\tif (scrollContentHandle.current && typeof scrollContentHandle.current.getMoreInfo === 'function') {\n\t\t\treturn scrollContentHandle.current.getMoreInfo();\n\t\t}\n\t}\n\n\t// FIXME setting event handlers directly to work on the V8 snapshot.\n\tfunction addEventListeners () {\n\t\tutilEvent('wheel').addEventListener(scrollContainerRef, onWheel);\n\t\tutilEvent('keydown').addEventListener(scrollContainerRef, onKeyDown);\n\t\tutilEvent('mousedown').addEventListener(scrollContainerRef, onMouseDown);\n\n\t\t// scrollMode 'native' [[\n\t\tif (scrollMode === 'native' && scrollContentRef.current) {\n\t\t\tutilEvent('scroll').addEventListener(scrollContentRef, onScroll, {passive: true});\n\t\t\tscrollContentRef.current.style.scrollBehavior = 'smooth';\n\t\t}\n\t\t// scrollMode 'native' ]]\n\n\t\tif (props.addEventListeners) {\n\t\t\tprops.addEventListeners(scrollContentRef);\n\t\t}\n\n\t\tif (window) {\n\t\t\tutilEvent('resize').addEventListener(window, handleResizeWindow);\n\t\t}\n\t}\n\n\t// FIXME setting event handlers directly to work on the V8 snapshot.\n\tfunction removeEventListeners () {\n\t\tutilEvent('wheel').removeEventListener(scrollContainerRef, onWheel);\n\t\tutilEvent('keydown').removeEventListener(scrollContainerRef, onKeyDown);\n\t\tutilEvent('mousedown').removeEventListener(scrollContainerRef, onMouseDown);\n\n\t\t// scrollMode 'native' [[\n\t\tutilEvent('scroll').removeEventListener(scrollContentRef, onScroll, {passive: true});\n\t\t// scrollMode 'native' ]]\n\n\t\tif (props.removeEventListeners) {\n\t\t\tprops.removeEventListeners(scrollContentRef);\n\t\t}\n\n\t\tutilEvent('resize').removeEventListener(window, handleResizeWindow);\n\t}\n\n\t// render\n\n\t// scrollMode 'translate' [[\n\tfunction handleScroll () {\n\t\t// Prevent scroll by focus.\n\t\t// VirtualList and VirtualGridList DO NOT receive `onscroll` event.\n\t\t// Only Scroller could get `onscroll` event.\n\t\tif (!mutableRef.current.animator.isAnimating() && scrollContentHandle.current && scrollContentRef.current && scrollContentHandle.current.getRtlPositionX) {\n\t\t\t// For Scroller\n\t\t\tscrollContentRef.current.scrollTop = mutableRef.current.scrollTop;\n\t\t\tscrollContentRef.current.scrollLeft = scrollContentHandle.current.getRtlPositionX(mutableRef.current.scrollLeft);\n\t\t}\n\t}\n\t// scrollMode 'translate' ]]\n\n\tfunction scrollContainerContainsDangerously (target) {\n\t\treturn utilDOM.containsDangerously(scrollContainerRef, target);\n\t}\n\n\tassignProperties('scrollContainerProps', {\n\t\t...rest,\n\t\tclassName: [scrollClasses]\n\t});\n\n\tassignProperties('scrollInnerContainerProps', {\n\t\tclassName: [css.scrollInnerContainer]\n\t});\n\n\tassignProperties('scrollContentWrapperProps', {\n\t\tclassName: scrollMode === 'translate' ? [css.scrollContentWrapper] : [css.scrollContentWrapper, css.scrollContentWrapperNative], // scrollMode 'native'\n\t\t...(!noScrollByDrag && {\n\t\t\tflickConfig,\n\t\t\tonDrag: onDrag,\n\t\t\tonDragEnd: onDragEnd,\n\t\t\tonDragStart: onDragStart,\n\t\t\tonFlick: onFlick,\n\t\t\tonTouchStart: scrollMode === 'native' ? onTouchStart : null // scrollMode 'native'\n\t\t})\n\t});\n\n\tconst voiceProps = {\n\t\t'data-webos-voice-disabled': voiceDisabled,\n\t\t'data-webos-voice-focused': voiceFocused,\n\t\t'data-webos-voice-group-label': voiceGroupLabel\n\t};\n\n\tconst scrollContentProps = props.itemRenderer ? // If the child component is a VirtualList\n\t\t{\n\t\t\tchildProps,\n\t\t\tclientSize,\n\t\t\tdataSize,\n\t\t\titemRenderer,\n\t\t\titemSize,\n\t\t\titemSizes,\n\t\t\toverhang,\n\t\t\tpageScroll,\n\t\t\tspacing,\n\t\t\twrap\n\t\t} :\n\t\t{children};\n\n\tassignProperties('scrollContentProps', {\n\t\t...scrollContentProps,\n\t\t...voiceProps,\n\t\tcbScrollTo: scrollTo,\n\t\tclassName: [css.scrollFill],\n\t\tdirection,\n\t\tget isHorizontalScrollbarVisible () {\n\t\t\treturn isHorizontalScrollbarVisible;\n\t\t},\n\t\tget isVerticalScrollbarVisible () {\n\t\t\treturn isVerticalScrollbarVisible;\n\t\t},\n\t\tonScroll: scrollMode === 'translate' ? handleScroll : null,\n\t\trole,\n\t\trtl,\n\t\tscrollContainerContainsDangerously,\n\t\tscrollMode\n\t});\n\n\tassignProperties('verticalScrollbarProps', {\n\t\tclientSize,\n\t\tdisabled: !isVerticalScrollbarVisible,\n\t\trtl,\n\t\tvertical: true\n\t});\n\n\tassignProperties('horizontalScrollbarProps', {\n\t\tclientSize,\n\t\tcorner: isVerticalScrollbarVisible,\n\t\tdisabled: !isHorizontalScrollbarVisible,\n\t\trtl,\n\t\tvertical: false\n\t});\n\n\tassignProperties('resizeContextProps', {\n\t\tvalue: mutableRef.current.resizeRegistry.register\n\t});\n\n\tmutableRef.current.deferScrollTo = true;\n\n\tmutableRef.current.prevState = {\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible\n\t};\n\n\treturn {\n\t\tscrollContentWrapper: noScrollByDrag ? 'div' : TouchableDiv,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible\n\t};\n};\n\nconst assignPropertiesOf = (instance) => (name, properties) => {\n\tif (!instance[name]) {\n\t\tinstance[name] = {};\n\t}\n\n\tif (typeof properties === 'object') {\n\t\tfor (const property in properties) {\n\t\t\tif (property === 'className') {\n\t\t\t\twarning(\n\t\t\t\t\tArray.isArray(properties.className),\n\t\t\t\t\t'Unsupported other types for `className` prop except Array'\n\t\t\t\t);\n\n\t\t\t\tinstance[name].className = classNames(instance[name].className, properties.className);\n\t\t\t} else {\n\t\t\t\twarning(\n\t\t\t\t\t!instance[name][property],\n\t\t\t\t\t'Unsupported to push value in the same ' + property + ' prop.'\n\t\t\t\t);\n\n\t\t\t\t// Override the previous value.\n\t\t\t\tinstance[name][property] = properties[property];\n\t\t\t}\n\t\t}\n\t}\n};\n\nconst useScroll = (props) => {\n\t// Mutable value\n\n\tconst scrollContainerRef = useRef({});\n\tconst scrollContentHandle = useRef({});\n\tconst scrollContentRef = useRef({});\n\tconst itemRefs = useRef([]);\n\tconst horizontalScrollbarHandle = useRef({});\n\tconst verticalScrollbarHandle = useRef({});\n\n\t// Hooks\n\n\tconst\n\t\tcollectionOfProperties = {},\n\t\tassignProperties = assignPropertiesOf(collectionOfProperties);\n\n\tconst {\n\t\tscrollContentWrapper,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible\n\t} = useScrollBase({\n\t\t...props,\n\t\tassignProperties,\n\t\thorizontalScrollbarHandle,\n\t\tscrollContainerRef,\n\t\tscrollContentHandle,\n\t\tscrollContentRef,\n\t\tverticalScrollbarHandle\n\t});\n\n\tassignProperties('scrollContainerProps', {ref: scrollContainerRef});\n\tassignProperties('scrollContentProps', {\n\t\t...(props.itemRenderer ? {itemRefs} : {}),\n\t\tscrollContentRef\n\t});\n\tassignProperties('verticalScrollbarProps', {scrollbarHandle: verticalScrollbarHandle});\n\tassignProperties('horizontalScrollbarProps', {scrollbarHandle: horizontalScrollbarHandle});\n\n\t// Return\n\n\treturn {\n\t\t...collectionOfProperties,\n\t\tscrollContentWrapper,\n\t\tscrollContentHandle,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible\n\t};\n};\n\nexport default useScroll;\nexport {\n\tassignPropertiesOf,\n\tconstants,\n\tuseScroll,\n\tuseScrollBase\n};\n","// Full List (Hash) of Agate Supported Icons\n//\n\n// Agate Common Icons\nconst iconList = {\n\tcirclelarge       : 0x0025EF, // shape: LARGE CIRCLE\n\tsquarelarge       : 0x002B1B, // shape: BLACK SQUARE LARGE\n\ttriangleup        : 0x0025B2, // shape: BLACK UP-POINTING TRIANGLE\n\tplus              : 0x00002B, // plus\n\tminus             : 0x00002D, // hyphen\n\tarrowup           : 0x002191, // arrowup\n\tarrowdown         : 0x002193, // arrowdown\n\tarrowleftturn     : 0x0021B6, // arrowleftturn\n\tarrowrightturn    : 0x0021B7, // arrowrightturn\n\tarrowharpoonright : 0x0021C0, // arrowharpoonright\n\tellipsis          : 0x0022EF, // ellipsis\n\tcheck             : 0x002713, // checkmark\n\tarrowstraightup   : 0x0EFFEB, // arrowstraightup\n\tarrowuturn        : 0x0EFFEC, // arrowuturn\n\tarrowlargedown    : 0x0EFFED, // caret_down_large\n\tarrowlargeup      : 0x0EFFEE, // caret_up_large\n\tarrowlargeleft    : 0x0EFFEF, // caret_left_large\n\tarrowlargeright   : 0x0EFFF0, // caret_right_large\n\tclosex            : 0x0EFFF5, // close\n\tsearch            : 0x0EFFF6, // search\n\tbluetooth2        : 0x0F000A, // bluetooth2\n\tbluetoothoff      : 0x0F000B, // bluetoothoff\n\tbright1           : 0x0F000C, // bright01\n\tbright2           : 0x0F000D, // bright02\n\tbluetooth         : 0x0F000E, // bluetooth\n\tusb               : 0x0F000F, // usb\n\tvolume0           : 0x0F0010, // volume00\n\tvolume1           : 0x0F0011, // volume01\n\tvolume2           : 0x0F0012, // volume02\n\twifi              : 0x0F0013, // wifi\n\thappyface         : 0x0F0014, // happyface\n\tnotification      : 0x0F0015, // notification\n\tpairing           : 0x0F0016, // pairing\n\tuser              : 0x0F0017, // user\n\tcalendar          : 0x0F0018, // calendar\n\tedit              : 0x0F0019, // edit\n\tgallery           : 0x0F001A, // gallery\n\tinternet          : 0x0F001B, // internet\n\tmap               : 0x0F001C, // map\n\tmusic             : 0x0F001D, // music\n\tvideo             : 0x0F001E, // video\n\tcircle            : 0x0F001F, // circle\n\tprevious          : 0x0F0020, // previous\n\tpairingdisplay    : 0x0F0021, // pairingdisplay\n\tbox               : 0x0F0022, // box\n\tplay              : 0x0F0023, // playicon\n\tprevioustrack     : 0x0F0024, // previoustrack\n\tpause             : 0x0F0025, // pause\n\tnexttrack         : 0x0F0026, // nexttrack\n\trepeat            : 0x0F0027, // repeat\n\tshuffle           : 0x0F0028, // shuffle\n\terror             : 0x0F002A, // error\n\tsetting           : 0x0F002B, // setting\n\tpopupstop         : 0x0F0035, // popupstop\n\taccept            : 0x0F0036, // accept\n\tdecline           : 0x0F0037, // decline\n\tstop              : 0x0F0038, // stop\n\tcancel            : 0x0F0039, // cancel\n\tcarspeaker        : 0x0F003A, // carspeaker\n\tspeaker           : 0x0F003B, // speaker\n\tearphone          : 0x0F003C, // earphone\n\tdetail            : 0x0F003D, // detail\n\tinstall           : 0x0F003E, // install\n\tsend              : 0x0F003F, // send\n\tnetbook           : 0x0F0040, // netbook\n\tpad               : 0x0F0041, // pad\n\tmobile            : 0x0F0042, // mobile\n\tupdate            : 0x0F0043, // update\n\tbackapp           : 0x0F0044, // backapp\n\tuninstall         : 0x0F0045, // uninstall\n\train              : 0x0F0060, // rain\n\traindrops         : 0x0F0061, // raindrops\n\traincloud         : 0x0F0062, // raincloud\n\tsnow              : 0x0F0063, // snow\n\tcloud             : 0x0F0064, // cloud\n\tice               : 0x0F0065, // ice\n\tfog               : 0x0F0066, // fog\n\tsun               : 0x0F0067, // sun\n\tprofileA1         : 0x0F008A, // profileA1\n\tprofileA2         : 0x0F008B, // profileA2\n\tprofileA3         : 0x0F008C, // profileA3\n\tprofileA4         : 0x0F008D, // profileA4\n\tprofileB1         : 0x0F008E, // profileB1\n\tprofileB2         : 0x0F008F, // profileB2\n\tprofileB3         : 0x0F0090, // profileB3\n\tprofileB4         : 0x0F0091, // profileB4\n\tprofileC1         : 0x0F0092, // profileC1\n\tprofileC2         : 0x0F0093, // profileC2\n\tprofileC3         : 0x0F0094, // profileC3\n\tprofileC4         : 0x0F0095, // profileC4\n\tac                : 0x0F00B2, // ac\n\tauto              : 0x0F00B3, // auto\n\tairmode           : 0x0F00B4, // air_mode\n\tairdown           : 0x0F00B5, // air_down\n\tairright          : 0x0F00B6, // air_right\n\tairup             : 0x0F00B7, // air_up\n\theatseatleft      : 0x0F00B8, // seat_heat_left\n\theatseatright     : 0x0F00B9, // seat_heat_right\n\taircirculation    : 0x0F00BA, // air_circulation\n\tfan               : 0x0F00BB, // fan\n\tdefrosterfront    : 0x0F00BC, // defroster_front\n\tdefrosterback     : 0x0F00BD, // defroster_back\n\tairflow           : 0x0F00BE, // airflow\n\thome              : 0x0F00BF, // home\n\ttemperature       : 0x0F00C0, // temperature_icon\n\tcompass           : 0x0F00C1, // compass\n\tphone             : 0x0F00C2, // phone\n\tfanoff            : 0x0F00C9, // fan_off\n\tdatetime          : 0x0F00CB, // date_time\n\tdisplay           : 0x0F00CC, // display\n\tseatbelt          : 0x0F00CD, // seat_belt\n\tapps              : 0x0F00CF, // apps\n\tclimate           : 0x0F00D0, // climate\n\tdashboard         : 0x0F00D1, // dashboard\n\texpand            : 0x0F00D3, // expand\n\tradio             : 0x0F00D4, // radio\n\trearscreen        : 0x0F00D5, // rear_screen\n\tweather           : 0x0F00D6, // weather\n\tfullscreen        : 0x0F00E1, // fullscreen\n\tmenu              : 0x0F00E2, // menu\n\thistory           : 0x0F00E3, // history\n\tbrowser           : 0x0F00E4, // browser\n\tlock              : 0x0F00E5, // lock\n\tsearch2           : 0x0F00E6, // search2\n\tbookmark          : 0x0F00E7, // bookmark\n\tstar              : 0x0F00E8, // star_full\n\tstarhollow        : 0x0F00E9, // star_empty\n\tstarhalf          : 0x0F00EA, // star_half\n\trefresh           : 0x0F00EB, // refresh\n\ttime              : 0x0F00E3, // time\n\tpausebold         : 0x0F002D, // pause2\n\tplaybold          : 0x0F002E, // play2\n\tcontrols          : 0x0F00EC, // controls\n\tdiagnostics       : 0x0F00ED, // diagnostics\n\tmapbox            : 0x0F00EE, // mapbox\n\tdisplaycontrol    : 0x0F00EF, // displaycontrol\n\tcontrolleft       : 0x0F00F0, // controlleft\n\tcontrolright      : 0x0F00F1, // controlright\n\tmainpage          : 0x0F00F2, // mainpage\n\tplaylist          : 0x0F00F3, // playlist\n\tresume            : 0x0F00F4, // resume\n\ttrailer           : 0x0F00F5, // trailer\n\tplusbold          : 0x0F00F6, // plus2\n\tminusbold         : 0x0F00F7  // minus2\n};\n\n// Silicon-specific Icons\n// The common icons are layered into the @font-face definition in the font definition file.\nconst iconListSilicon = {\n\t...iconList,\n\tarrowleft         : 0x002190, // arrowleft\n\tarrowturnleft     : 0x0021B0, // arrowturnleft\n\tarrowturnright    : 0x0021B1, // arrowturnright\n\tbackspace         : 0x002408, // backspace\n\ttriangle          : 0x0025B2, // triangle\n\ttrianglehollow    : 0x0025B3, // trianglehollow\n\trewind            : 0x0F0030, // rewind\n\trewindprevious    : 0x0F0031, // rewindprevious\n\tstopsquare        : 0x0F0032, // stopsquare\n\tfastforwardnext   : 0x0F0033, // fastforwardnext\n\tfastforward       : 0x0F0034, // fastforward\n\tcallaccept        : 0x0F00FE, // callaccept\n\tcalldecline       : 0x0F00FF, // calldecline\n\tcalldialing       : 0x0F0100, // calldialing\n\tcallmissed        : 0x0F0101, // callmissed\n\tcallreceiving     : 0x0F0102, // callreceiving\n\tdevicesetting     : 0x0F0103, // devicesetting\n\theadset           : 0x0F0104, // headset\n\tkeypad            : 0x0F0105, // keypad\n\tmic               : 0x0F0106, // mic\n\tmicmute           : 0x0F0107, // micmute\n\tcar1              : 0x0F0108, // car1\n\tcar2              : 0x0F0109, // car2\n\tcarupdate         : 0x0F010A, // carupdate\n\tcardiagnostics    : 0x0F010B, // cardiagnostics\n\tcarcharging       : 0x0F010C, // carcharging\n\tcarvalet          : 0x0F010D, // carvalet\n\tgaragemode        : 0x0F010E, // garagemode\n\tcone              : 0x0F010F, // cone\n\tchargingstation   : 0x0F0110, // chargingstation\n\tgps               : 0x0F0111, // gps\n\treplay            : 0x0F0112, // replay\n\tbackward10        : 0x0F0113, // backward10\n\tforward10         : 0x0F0114, // forward10\n\tremote            : 0x0F0116, // remote\n\tlight             : 0x0F0118, // light\n\tthumbs            : 0x0F0119, // thumbs\n\tgames             : 0x0F011A, // games\n\tunlock            : 0x0F011D, // unlock\n\ttrash             : 0x0F011E, // trash\n\tcoffee            : 0x0F011F, // coffee\n\tmessage           : 0x0F0122, // message\n\tpayment           : 0x0F0123, // payment\n\tmail              : 0x0F0124, // mail\n\tscreenshare       : 0x0F0125, // screenshare\n\tphoto             : 0x0F0126, // photo\n\tadd               : 0x0F012A, // add\n\tuserchange        : 0x0F012C, // userchange\n\tseatcool          : 0x0F012D, // seatcool\n\tfanhigh           : 0x0F012E, // fanhigh\n\tfanlow            : 0x0F012F, // fanlow\n\tzoomin            : 0x0F0130, // zoomin\n\tzoomout           : 0x0F0131, // zoomout\n\theadset2          : 0x0F0150, // headset2\n\theadsetbluetooth  : 0x0F0151, // headsetbluetooth\n\tdata              : 0x0F0152, // data\n\tdata5g            : 0x0F0153, // data5g\n\tdatalte           : 0x0F0154, // datalte\n\tcalling           : 0x0F0155, // calling\n\tcontact           : 0x0F0156, // contact\n\tbluetoothmusic    : 0x0F0157, // bluetoothmusic\n\tbluetoothsignalnone: 0x0F0158, // bluetoothsignalnone\n\tbluetoothsignal1  : 0x0F0159, // bluetoothsignal1\n\tbluetoothsignal2  : 0x0F015A, // bluetoothsignal2\n\tbluetoothsignal3  : 0x0F015B, // bluetoothsignal3\n\tbluetoothsignal4  : 0x0F015C, // bluetoothsignal4\n\tbattery0          : 0x0F015D, // battery0\n\tbattery1          : 0x0F015E, // battery1\n\tbattery2          : 0x0F015F, // battery2\n\tbattery3          : 0x0F0160, // battery3\n\tbattery4          : 0x0F0161, // battery4\n\tbatteryalert      : 0x0F0162, // batteryalert\n\tbatterycharging   : 0x0F0163  // batterycharging\n};\n\n// Deprecated icon list from `Moonstone-Agate.ttf` for reference\n\n// export default {\n// \tplus              : 0x00002B, // plus\n// \tminus             : 0x00002D, // hyphen\n// \tarrowhookleft     : 0x0021A9, // LeftArrowHook\n// \tarrowhookright    : 0x0021AA, // RightArrowHook\n// \tellipsis          : 0x0022EF, // ellipsis\n// \tcheck             : 0x002713, // checkmark\n// \tcircle            : 0x0EFFDB, // record\n// \tstop              : 0x0EFFDC, // stop\n// \tplay              : 0x0EFFDD, // play\n// \tpause             : 0x0EFFDE, // pause\n// \tforward           : 0x0EFFDF, // forward\n// \tbackward          : 0x0EFFE0, // rewind\n// \tskipforward       : 0x0EFFE1, // skip_forward\n// \tskipbackward      : 0x0EFFE2, // skip_backwards\n// \tpauseforward      : 0x0EFFE3, // indicator_forward\n// \tpausebackward     : 0x0EFFE4, // indicator_backward\n// \tpausejumpforward  : 0x0EFFE5, // indicator_skip_forward\n// \tpausejumpbackward : 0x0EFFE6, // indicator_skip_backward\n// \tjumpforward       : 0x0EFFE7, // indicator_end\n// \tjumpbackward      : 0x0EFFE8, // indicator_begin\n// \tdenselist         : 0x0EFFE9, // list_big\n// \tbulletlist        : 0x0EFFEA, // list_bullets\n// \tlist              : 0x0EFFEB, // list_simple\n// \tdrawer            : 0x0EFFEC, // list_actions\n// \tarrowlargedown    : 0x0EFFED, // caret_down_large\n// \tarrowlargeup      : 0x0EFFEE, // caret_up_large\n// \tarrowlargeleft    : 0x0EFFEF, // caret_left_large\n// \tarrowlargeright   : 0x0EFFF0, // caret_right_large\n// \tarrowsmallup      : 0x0EFFF1, // caret_up_small\n// \tarrowsmalldown    : 0x0EFFF2, // caret_down_small\n// \tarrowsmallleft    : 0x0EFFF3, // caret_left_small\n// \tarrowsmallright   : 0x0EFFF4, // caret_right_small\n// \tclosex            : 0x0EFFF5, // close_x\n// \tsearch            : 0x0EFFF6, // magnify\n// \trollforward       : 0x0EFFF7, // redo\n// \trollbackward      : 0x0EFFF8, // undo\n// \texitfullscreen    : 0x0EFFF9, // minimize\n// \tfullscreen        : 0x0EFFFA, // maximize\n// \tarrowshrinkleft   : 0x0EFFFB, // shrink_panel_left\n// \tarrowshrinkright  : 0x0EFFFC, // shrink_panel_right\n// \tarrowextend       : 0x0F0021, // arrow_left\n// \tarrowshrink       : 0x0F0022, // arrow_right\n// \tflag              : 0x0F0023, // flag\n// \tfunnel            : 0x0F0024, // filter\n// \ttrash             : 0x0F0025, // trash\n// \tstar              : 0x0F0028, // star_full\n// \thollowstar        : 0x0F0029, // star_empty\n// \thalfstar          : 0x0F002A, // star_half\n// \tgear              : 0x0F002B, // gear\n// \tplug              : 0x0F002C, // input\n// \tlock              : 0x0F002D, // lock\n// \tforward15         : 0x0F0041, // forward15\n// \tback15            : 0x0F0042, // back15\n// \tcontinousplay     : 0x0F0043, // continous_play\n// \tplaylist          : 0x0F0044, // playlist\n// \tresumeplay        : 0x0F0045, // resume_play\n// \timage             : 0x0F0046, // image\n// \taudio             : 0x0F0061, // audio\n// \tmusic             : 0x0F0062, // music\n// \tlanguages         : 0x0F0081, // languages\n// \tcc                : 0x0F0082, // cc\n// \tccon              : 0x0F0083, // cc_on\n// \tccoff             : 0x0F0084, // cc_off\n// \tsub               : 0x0F0085, // sub\n// \trecordings        : 0x0F00A1, // recordings\n// \tlivezoom          : 0x0F00A2, // live_zoom\n// \tliveplayback      : 0x0F00A3, // live_playback\n// \tliveplaybackoff   : 0x0F00A4, // live_playback_off\n// \trepeat            : 0x0F00A5, // repeat\n// \trepeatoff         : 0x0F00A6, // repeat_off\n// \tseries            : 0x0F00A7, // series\n// \trepeatdownload    : 0x0F00A8, // repeat_download\n// \tview360           : 0x0F00A9, // view_360\n// \tview360off        : 0x0F00AA, // view_360_off\n// \tinfo              : 0x0F00AB, // info\n// \tairdown           : 0x0F00B5, // air_down\n// \tairright          : 0x0F00B6, // air_right\n// \tairup             : 0x0F00B7, // air_up\n// \theatseatleft      : 0x0F00B8, // seat_heat_left\n// \theatseatright     : 0x0F00B9, // seat_heat_right\n// \taircirculation    : 0x0F00BA, // air_circulation\n// \tfan               : 0x0F00BB, // fan\n// \tdefrosterfront    : 0x0F00BC, // defroster_front\n// \tdefrosterback     : 0x0F00BD, // defroster_back\n// \tuser              : 0x0F00BE, // users\n// \thome              : 0x0F00BF, // home\n// \ttemperature       : 0x0F00C0, // temperature_icon\n// \tcompass           : 0x0F00C1, // compass\n// \tphone             : 0x0F00C2, // phone\n// \tfanoff            : 0x0F00C9, // fan_off\n// \tbluetooth         : 0x0F00CA, // bluetooth\n// \tdatetime          : 0x0F00CB, // date_time\n// \tdisplay           : 0x0F00CC, // display\n// \tseatbelt          : 0x0F00CD, // seat_belt\n// \twifi              : 0x0F00CE, // wifi\n// \tapps              : 0x0F00CF, // apps\n// \tclimate           : 0x0F00D0, // climate\n// \tdashboard         : 0x0F00D1, // dashboard\n// \tedit              : 0x0F00D2, // edit\n// \texpand            : 0x0F00D3, // expand\n// \tradio             : 0x0F00D4, // radio\n// \trearscreen        : 0x0F00D5, // rear_screen\n// \tweather           : 0x0F00D6  // weather\n// };\n\nexport default iconList;\nexport {\n\ticonList,\n\ticonListSilicon\n};\n","/**\n * Provides Agate styled icon components and behaviors.\n *\n * @example\n * <Icon>flag</Icon>\n *\n * @module agate/Icon\n * @exports Icon\n * @exports IconBase\n * @exports IconDecorator\n * @exports icons\n */\n\nimport kind from '@enact/core/kind';\nimport UiIcon from '@enact/ui/Icon';\nimport Pure from '@enact/ui/internal/Pure';\nimport compose from 'ramda/src/compose';\nimport PropTypes from 'prop-types';\n\nimport Skinnable from '../Skinnable';\n\nimport iconList, {iconListSilicon} from './IconList.js';\n\nimport componentCss from './Icon.module.less';\n\n/**\n * Renders an Agate-styled icon without any behavior.\n *\n * @class IconBase\n * @memberof agate/Icon\n * @extends ui/Icon.Icon\n * @ui\n * @public\n */\nconst IconBase = kind({\n\tname: 'Icon',\n\n\tpropTypes: /** @lends agate/Icon.Icon.prototype */ {\n\t\t/**\n\t\t * The icon content.\n\t\t *\n\t\t * May be specified as either:\n\t\t *\n\t\t * * A string that represents an icon from the [iconList]{@link ui/Icon.Icon.iconList},\n\t\t * * An HTML entity string, Unicode reference or hex value (in the form '0x...'),\n\t\t * * A URL specifying path to an icon image, or\n\t\t * * An object representing a resolution independent resource (See {@link ui/resolution}).\n\t\t *\n\t\t * @type {String|Object}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `icon` - The root class name\n\t\t * * `dingbat` - Applied to dingbat icon\n\t\t * * `focus` - Applied when icon is focused\n\t\t * * `huge` - Applied to a `size='huge'` icon\n\t\t * * `small` - Applied to a `size='small'` icon\n\t\t * * `smallest` - Applied to a `size='smallest'` icon\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The size of the icon.\n\t\t *\n\t\t * @type {('smallest'|'small'|'large'|'huge')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['smallest', 'small', 'large', 'huge']),\n\n\t\t/**\n\t\t * The current skin.\n\t\t *\n\t\t * @type {String}\n\t\t * @private\n\t\t */\n\t\tskin: PropTypes.string,\n\n\t\t/**\n\t\t * The amount of sprite \"cells\" in the src image.\n\t\t *\n\t\t * This property only affects image-based icons, not icon glyphs.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t * @public\n\t\t */\n\t\tspriteCount: PropTypes.number\n\t},\n\n\tdefaultProps: {\n\t\tsize: 'large',\n\t\tspriteCount: 1\n\t},\n\n\tstyles: {\n\t\tcss: componentCss\n\t},\n\n\tcomputed: {\n\t\tclassName: ({size, styler}) => styler.append(\n\t\t\tsize\n\t\t),\n\t\tstyle: ({spriteCount, style}) => ({\n\t\t\t...style,\n\t\t\t'--agate-icon-sprite-count': spriteCount\n\t\t})\n\t},\n\n\trender: ({css, skin, ...rest}) => {\n\t\tdelete rest.spriteCount;\n\n\t\treturn UiIcon.inline({\n\t\t\t...rest,\n\t\t\tcss: css,\n\t\t\ticonList: (skin === 'silicon' ? iconListSilicon : iconList)\n\t\t});\n\t}\n});\n\n// Let's find a way to import this list directly, and bonus feature, render our icons in the docs\n// next to their names.\n/**\n * An object whose keys can be used as the child of an [Icon]{@link agate/Icon.Icon} component.\n *\n * List of Icons:\n * ```\n * circlelarge\n * squarelarge\n * triangleup\n * plus\n * minus\n * arrowup\n * arrowdown\n * arrowleftturn\n * arrowrightturn\n * arrowharpoonright\n * ellipsis\n * check\n * arrowstraightup\n * arrowuturn\n * arrowlargedown\n * arrowlargeup\n * arrowlargeleft\n * arrowlargeright\n * closex\n * search\n * bluetooth2\n * bluetoothoff\n * bright1\n * bright2\n * bluetooth\n * usb\n * volume0\n * volume1\n * volume2\n * wifi\n * happyface\n * notification\n * pairing\n * user\n * calendar\n * edit\n * gallery\n * internet\n * map\n * music\n * video\n * circle\n * previous\n * pairingdisplay\n * box\n * play\n * previoustrack\n * pause\n * nexttrack\n * repeat\n * shuffle\n * error\n * setting\n * popupstop\n * accept\n * decline\n * stop\n * cancel\n * carspeaker\n * speaker\n * earphone\n * detail\n * install\n * send\n * netbook\n * pad\n * mobile\n * update\n * backapp\n * uninstall\n * rain\n * raindrops\n * raincloud\n * snow\n * cloud\n * ice\n * fog\n * sun\n * profileA1\n * profileA2\n * profileA3\n * profileA4\n * profileB1\n * profileB2\n * profileB3\n * profileB4\n * profileC1\n * profileC2\n * profileC3\n * profileC4\n * ac\n * auto\n * airmode\n * airdown\n * airright\n * airup\n * heatseatleft\n * heatseatright\n * aircirculation\n * fan\n * defrosterfront\n * defrosterback\n * airflow\n * home\n * temperature\n * compass\n * phone\n * fanoff\n * datetime\n * display\n * seatbelt\n * apps\n * climate\n * dashboard\n * expand\n * radio\n * rearscreen\n * weather\n * fullscreen\n * menu\n * history\n * browser\n * lock\n * search2\n * bookmark\n * star\n * hollowstar\n * halfstar\n * refresh\n * time\n * pausebold\n * playbold\n * controls\n * diagnostics\n * mapbox\n * displaycontrol\n * controlleft\n * controlright\n * mainpage\n * playlist\n * resume\n * trailer\n * plusbold\n * minusbold\n * ```\n *\n * @name iconList\n * @memberof agate/Icon\n * @constant\n * @type {Object}\n * @public\n */\n\n/**\n * Agate-specific behaviors to apply to [IconBase]{@link agate/Icon.IconBase}.\n *\n * @hoc\n * @memberof agate/Icon\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst IconDecorator = compose(\n\tPure,\n\tSkinnable({prop: 'skin'})\n);\n\n/**\n * An Agate-styled icon.\n *\n * @class Icon\n * @memberof agate/Icon\n * @extends agate/Icon.IconBase\n * @mixes agate/Icon.IconDecorator\n * @ui\n * @public\n */\nconst Icon = IconDecorator(IconBase);\n\nexport default Icon;\nexport {\n\tIcon,\n\tIconBase,\n\tIconDecorator,\n\ticonList as icons,\n\ticonListSilicon as iconsSilicon\n};\n","/**\n * Provides unstyled LabeledIcon components to be customized by a theme or application.\n *\n * @module ui/LabeledIcon\n * @exports LabeledIcon\n * @exports LabeledIconBase\n * @exports LabeledIconDecorator\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport ComponentOverride from '../ComponentOverride';\nimport {CellBase, LayoutBase} from '../Layout';\nimport Slottable from '../Slottable';\n\nimport componentCss from './LabeledIcon.module.less';\n\n/**\n * An icon component with a label.\n *\n * @class LabeledIconBase\n * @memberof ui/LabeledIcon\n * @ui\n * @public\n */\nconst LabeledIconBase = kind({\n\tname: 'ui:LabeledIcon',\n\n\tpropTypes: /** @lends ui/LabeledIcon.LabeledIconBase.prototype */ {\n\t\t/**\n\t\t * The label.\n\t\t *\n\t\t * This accepts strings, DOM, and Components, if you need more elaborate features. It may be\n\t\t * positioned using `labelPosition`.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `labeledIcon` - The root component class\n\t\t * * `icon` - The icon component class\n\t\t * * `iconCell` - Applied to the `iconComponent` directly, like `.icon`. If `icon` in a\n\t\t *                React component, this class is applied to the container of the icon,\n\t\t *                rather than the icon itself.\n\t\t * * `label` - The label component class\n\t\t * * `inline` - Applied when the inline prop is set\n\t\t * * `above` - Applied when the labelPosition prop is set to above\n\t\t * * `after` - Applied when the labelPosition prop is set to after\n\t\t * * `before` - Applied when the labelPosition prop is set to before\n\t\t * * `below` - Applied when the labelPosition prop is set to below\n\t\t * * `left` - Applied when the labelPosition prop is set to left\n\t\t * * `right` - Applied when the labelPosition prop is set to right\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Disables the component and becomes non-interactive.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Flip the icon horizontally, vertically or both.\n\t\t *\n\t\t * @type {('both'|'horizontal'|'vertical')}\n\t\t * @public\n\t\t */\n\t\tflip: PropTypes.string,\n\n\t\t/**\n\t\t * The icon.\n\t\t *\n\t\t * This will be passed as `children` to the `iconComponent`, unless you supply a React\n\t\t * element (like JSX) to this prop, directly or via the `<icon>` slot.\n\t\t *\n\t\t * @type {String|Element|Component}\n\t\t * @public\n\t\t */\n\t\ticon: EnactPropTypes.renderableOverride,\n\n\t\t/**\n\t\t * The component used to render the `icon`.\n\t\t *\n\t\t * This will receive the `icon` prop as `children` and should handle it appropriately. This\n\t\t * prop is ignored in the case of a component being passed into the `icon` prop. It will\n\t\t * also receive the `flip` and `size` props as set on the component.\n\t\t *\n\t\t * @type {Component}\n\t\t */\n\t\ticonComponent: EnactPropTypes.component,\n\n\t\t/**\n\t\t * Enables this component to be used in an \"inline\" context.\n\t\t *\n\t\t * This is useful for when you have several of these components in a row and are not using a\n\t\t * [Layout]{@link ui/Layout} or flex-box configuration.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tinline: PropTypes.bool,\n\n\t\t/**\n\t\t * The position of the label in relation to the icon element.\n\t\t *\n\t\t * Allowed values include:\n\t\t * * 'below' (default),\n\t\t * * 'above',\n\t\t * * 'left',\n\t\t * * 'right',\n\t\t * * 'before', and\n\t\t * * 'after'.\n\t\t *\n\t\t * The 'before' and 'after' values automatically swap sides when in an RTL locale context.\n\t\t *\n\t\t * @type {('above'|'after'|'before'|'below'|'left'|'right')}\n\t\t * @default 'below'\n\t\t * @public\n\t\t */\n\t\tlabelPosition: PropTypes.oneOf(['above', 'after', 'before', 'below', 'left', 'right']),\n\n\t\t/**\n\t\t * The size of the icon.\n\t\t *\n\t\t * Applies the CSS class which can be customized by\n\t\t * [theming]{@link /docs/developer-guide/theming/}.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tlabelPosition: 'below',\n\t\tinline: false,\n\t\tsize: 'large'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'labeledIcon',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({inline, labelPosition, styler}) => styler.append(labelPosition, {inline}),\n\t\torientation: ({labelPosition}) => {\n\t\t\tconst vertical = labelPosition === 'above' || labelPosition === 'below';\n\t\t\treturn vertical ? 'vertical' : 'horizontal';\n\t\t}\n\t},\n\n\trender: ({css, children, disabled, flip, icon, iconComponent: Icon, orientation, size, ...rest}) => {\n\t\tdelete rest.inline;\n\n\t\tlet iconClassName = css.icon;\n\n\t\t// Rearrange the props to support custom JSX components\n\t\t// `icon` is normally passed to `iconComponent` as children, but if `icon` is instead a\n\t\t// rendered JSX component, it should become a child of `Cell.icon` and iconComponent should\n\t\t// use Cell's default value. We must also reposition the `icon` class\n\t\tif (React.isValidElement(icon)) {\n\t\t\ticon = ComponentOverride({\n\t\t\t\tcomponent: icon,\n\t\t\t\tclassName: iconClassName,\n\t\t\t\tdisabled,\n\t\t\t\tsize\n\t\t\t});\n\t\t\t// Removing size and iconComponent from CellBase\n\t\t\t// eslint-disable-next-line no-undefined\n\t\t\tsize = Icon = undefined;\n\t\t\ticonClassName = null;\n\t\t}\n\n\t\tdelete rest.inline;\n\t\tdelete rest.labelPosition;\n\n\t\treturn LayoutBase.inline({\n\t\t\t...rest,\n\t\t\talign: 'center center',\n\t\t\tdisabled,\n\t\t\torientation,\n\t\t\tchildren: [\n\t\t\t\tCellBase.inline({\n\t\t\t\t\tkey: 'icon',\n\t\t\t\t\tshrink: true,\n\t\t\t\t\tsize: '100%',\n\t\t\t\t\tclassName: css.iconCell,\n\t\t\t\t\tchildren: Icon ?\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\tclassName={iconClassName}\n\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\tflip={flip}\n\t\t\t\t\t\t\tsize={size}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{icon}\n\t\t\t\t\t\t</Icon> : icon\n\t\t\t\t}),\n\t\t\t\tCellBase.inline({\n\t\t\t\t\tkey: 'label',\n\t\t\t\t\tshrink: true,\n\t\t\t\t\tcomponent: 'label',\n\t\t\t\t\tclassName: css.label,\n\t\t\t\t\tdisabled,\n\t\t\t\t\tchildren\n\t\t\t\t})\n\t\t\t]\n\t\t});\n\t}\n});\n\n/**\n * A higher-order component that adds [slot]{@link ui/Slottable.Slottable} support to [LabeledIconBase]{@link ui/LabeledIcon.LabeledIconBase}\n *\n * @hoc\n * @memberof ui/LabeledIcon\n * @mixes ui/Slottable.Slottable\n * @public\n */\nconst LabeledIconDecorator = compose(\n\tSlottable({slots: ['icon']})\n);\n\n/**\n * An icon component with a label without any behaviors applied to it.\n *\n * Usage:\n * ```\n * <LabeledIcon icon=\"star\" labelPosition=\"after\">\n *   Favorite\n * </LabeledIcon>\n * ```\n *\n * @class LabeledIcon\n * @memberof ui/LabeledIcon\n * @extends ui/LabeledIcon.LabeledIconBase\n * @mixes ui/LabeledIcon.LabeledIconDecorator\n * @ui\n * @public\n */\nconst LabeledIcon = LabeledIconDecorator(LabeledIconBase);\n\nexport default LabeledIcon;\nexport {\n\tLabeledIcon,\n\tLabeledIconBase,\n\tLabeledIconDecorator\n};\n","import classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, {forwardRef} from 'react';\n\nimport css from './ScrollbarTrack.module.less';\n\n/**\n * An unstyled scroll track without any behavior.\n *\n * @function ScrollbarTrack\n * @memberof ui/useScroll\n * @ui\n * @private\n */\nconst ScrollbarTrack = forwardRef((props, ref) => {\n\tconst\n\t\t{vertical, ...rest} = props,\n\t\tclassName = classNames(css.scrollbarTrack, vertical ? css.vertical : null);\n\n\treturn <div {...rest} className={className} ref={ref} />;\n});\n\nScrollbarTrack.displayName = 'ui:ScrollbarTrack';\n\nScrollbarTrack.propTypes = /** @lends ui/useScroll.ScrollbarTrack.prototype */ {\n\t/**\n\t * If `true`, the scrollbar will be oriented vertically.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @public\n\t */\n\tvertical: PropTypes.bool\n};\n\nScrollbarTrack.defaultProps = {\n\tvertical: true\n};\n\nexport default ScrollbarTrack;\nexport {\n\tScrollbarTrack,\n\tScrollbarTrack as ScrollbarTrackBase\n};\n","import classNames from 'classnames';\nimport {Job} from '@enact/core/util';\nimport PropTypes from 'prop-types';\nimport React, {memo, useEffect, useRef} from 'react';\nimport ReactDOM from 'react-dom';\n\nimport ri from '../resolution';\n\nimport ScrollbarTrack from './ScrollbarTrack';\n\nimport componentCss from './Scrollbar.module.less';\n\nconst scrollbarTrackHidingDelay = 900; // 900ms + 100ms(fade out duration) = 1000ms.\n\nconst addClass = (element, className) => {\n\tconst node = ReactDOM.findDOMNode(element); // eslint-disable-line react/no-find-dom-node\n\tif (node) {\n\t\tnode.classList.add(className);\n\t}\n};\n\nconst removeClass = (element, className) => {\n\tconst node = ReactDOM.findDOMNode(element); // eslint-disable-line react/no-find-dom-node\n\tif (node) {\n\t\tnode.classList.remove(className);\n\t}\n};\n\n/*\n * Set CSS Variable value.\n *\n * @method\n * @param {Node} element - Node.\n * @param {String} variable - CSS Variable property.\n * @param {String} value - CSS Variable value.\n */\nconst setCSSVariable = (element, variable, value) => {\n\tReactDOM.findDOMNode(element).style.setProperty(variable, value); // eslint-disable-line react/no-find-dom-node\n};\n\n/**\n * A custom hook that passes scrollbar behavior information as its render prop.\n *\n * @class\n * @memberof ui/useScroll\n * @ui\n * @private\n */\nconst useScrollbar = (props) => {\n\tconst {className, clientSize, corner, css, minThumbSize, scrollbarHandle, vertical, ...rest} = props;\n\t// Refs\n\tconst scrollbarContainerRef = useRef();\n\tconst scrollbarTrackRef = useRef();\n\tconst hideScrollbarTrackJob = useRef(null);\n\n\thideScrollbarTrackJob.current = hideScrollbarTrackJob.current || new Job(hideScrollbarTrack, scrollbarTrackHidingDelay);\n\n\tfunction hideScrollbarTrack () {\n\t\tremoveClass(scrollbarTrackRef.current, css.scrollbarTrackShown);\n\t}\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\thideScrollbarTrackJob.current.stop();\n\t\t};\n\t}, []);\n\n\tfunction getContainerRef () {\n\t\treturn scrollbarContainerRef;\n\t}\n\n\tfunction showScrollbarTrack () {\n\t\thideScrollbarTrackJob.current.stop();\n\t\taddClass(scrollbarTrackRef.current, css.scrollbarTrackShown);\n\t}\n\n\tfunction startHidingScrollbarTrack () {\n\t\thideScrollbarTrackJob.current.start();\n\t}\n\n\tfunction update (bounds) {\n\t\tconst\n\t\t\tprimaryDimension = vertical ? 'clientHeight' : 'clientWidth',\n\t\t\ttrackSize = clientSize ? clientSize[primaryDimension] : scrollbarContainerRef.current[primaryDimension],\n\t\t\tscrollViewSize = vertical ? bounds.clientHeight : bounds.clientWidth,\n\t\t\tscrollContentSize = vertical ? bounds.scrollHeight : bounds.scrollWidth,\n\t\t\tscrollOrigin = vertical ? bounds.scrollTop : bounds.scrollLeft,\n\t\t\tscrollbarThumbSizeRatioBase = (scrollViewSize / scrollContentSize),\n\t\t\tscrollbarThumbProgressRatio = (scrollOrigin / (scrollContentSize - scrollViewSize)),\n\t\t\tscrollbarThumbSizeRatio = Math.max(ri.scale(minThumbSize) / trackSize, Math.min(1, scrollbarThumbSizeRatioBase));\n\n\t\tsetCSSVariable(scrollbarTrackRef.current, '--scrollbar-thumb-size-ratio', scrollbarThumbSizeRatio);\n\t\tsetCSSVariable(scrollbarTrackRef.current, '--scrollbar-thumb-progress-ratio', scrollbarThumbProgressRatio);\n\t}\n\n\tscrollbarHandle.current = {\n\t\tgetContainerRef,\n\t\tshowScrollbarTrack,\n\t\tstartHidingScrollbarTrack,\n\t\tupdate\n\t};\n\n\treturn {\n\t\trestProps: rest,\n\t\tscrollbarProps: {\n\t\t\tclassName: classNames(\n\t\t\t\tclassName,\n\t\t\t\tcorner ? css.corner : null,\n\t\t\t\tcss.scrollbar,\n\t\t\t\tvertical ? css.vertical : css.horizontal\n\t\t\t),\n\t\t\tref: scrollbarContainerRef\n\t\t},\n\t\tscrollbarTrackProps: {\n\t\t\tref: scrollbarTrackRef,\n\t\t\tvertical\n\t\t}\n\t};\n};\n\n/**\n * An unstyled scroll bar.\n *\n * @class Scrollbar\n * @memberof ui/useScroll\n * @ui\n * @private\n */\nconst Scrollbar = memo((props) => {\n\tconst {\n\t\trestProps,\n\t\tscrollbarProps,\n\t\tscrollbarTrackProps\n\t} = useScrollbar(props);\n\n\treturn (\n\t\t<div {...restProps} {...scrollbarProps}>\n\t\t\t<ScrollbarTrack {...scrollbarTrackProps} />\n\t\t</div>\n\t);\n});\n\nScrollbar.displayName = 'ui:Scrollbar';\n\nScrollbar.propTypes = /** @lends ui/useScroll.Scrollbar.prototype */ {\n\t/**\n\t * Client size of the container; valid values are an object that has `clientWidth` and `clientHeight`.\n\t *\n\t * @type {Object}\n\t * @property {Number}    clientHeight    The client height of the list.\n\t * @property {Number}    clientWidth    The client width of the list.\n\t * @public\n\t */\n\tclientSize: PropTypes.shape({\n\t\tclientHeight: PropTypes.number.isRequired,\n\t\tclientWidth: PropTypes.number.isRequired\n\t}),\n\n\t/**\n\t * Adds a corner between the vertical and horizontal scrollbars.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tcorner: PropTypes.bool,\n\n\t/**\n\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t * corresponding internal elements and states of this component.\n\t *\n\t * The following classes are supported:\n\t *\n\t * * `scrollbar` - The scrollbar component class\n\t *\n\t * @type {Object}\n\t * @public\n\t */\n\tcss: PropTypes.object,\n\n\t/**\n\t * The minimum size of the thumb.\n\t *\n\t * This value will be scaled.\n\t *\n\t * @type {number}\n\t * @public\n\t */\n\tminThumbSize: PropTypes.number,\n\n\t/**\n\t * If `true`, the scrollbar will be oriented vertically.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @public\n\t */\n\tvertical: PropTypes.bool\n};\n\nScrollbar.defaultProps = {\n\tcorner: false,\n\tcss: componentCss,\n\tminThumbSize: 18,\n\tvertical: true\n};\n\nexport default Scrollbar;\nexport {\n\tScrollbar,\n\tScrollbar as ScrollbarBase,\n\tScrollbarTrack,\n\tuseScrollbar\n};\n","import EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ForwardRef from '../ForwardRef';\nimport ri from '../resolution';\n\nimport css from './Layout.module.less';\n\nconst toFlexAlign = (align) => (\n\talign === 'end' && 'flex-end' ||\n\talign === 'start' && 'flex-start' ||\n\talign\n);\n\n/**\n * A stateless component that provides a space for your content in a\n * [Layout]{@link ui/Layout.Layout}, without [CellDecorator](ui/Layout.CellDecorator) applied.\n *\n * @class CellBase\n * @memberof ui/Layout\n * @ui\n * @public\n */\nconst CellBase = kind({\n\tname: 'Cell',\n\n\tpropTypes: /** @lends ui/Layout.CellBase.prototype */ {\n\t\t/**\n\t\t * The alignment of `Cell`.\n\t\t *\n\t\t * Aligns this `Cell` vertically in the case of a horizontal layout or\n\t\t * horizontally in the case of a vertical layout. `\"start\"`, `\"center\"` and\n\t\t * `\"end\"` are the most commonly used, although all values of `align-self` are supported.\n\t\t * `\"start\"` refers to the top in a horizontal layout, and left in a vertical LTR layout\n\t\t * `\"end\"` refers to the bottom in a horizontal layout, and right in a vertical LTR layout\n\t\t * `\"start\"` and `\"end\"` reverse places when in a vertical layout in a RTL locale.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\talign: PropTypes.string,\n\n\t\t/**\n\t\t * Any valid [Node]{@link /docs/developer-guide/glossary/#node} that should be positioned in this `Cell`.\n\t\t *\n\t\t * @type {Any}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.any,\n\n\t\t/**\n\t\t * The type of component to use to render as the `Cell`. May be a DOM node name (e.g 'div',\n\t\t * 'span', etc.) or a custom component.\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @default 'div'\n\t\t * @public\n\t\t */\n\t\tcomponent:  EnactPropTypes.renderable,\n\n\t\t/**\n\t\t * Called with a reference to [component]{@link ui/Cell.Cell#component}\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @private\n\t\t */\n\t\tcomponentRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Sizes `Cell` to its contents.\n\t\t *\n\t\t * A `shrink`able cell will contract to its minimum size, according to the dimensions of its\n\t\t * contents. This is used when you want the size of this Cell's content to influence the\n\t\t * dimensions of this cell. `shrink` will not allow the contents of the Layout to be pushed\n\t\t * beyond its boundaries (overflowing). See the [size]{@link ui/Layout.Cell#size} property\n\t\t * for more details.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tshrink: PropTypes.bool,\n\n\t\t/**\n\t\t * Sets the desired size of the Cell using any valid CSS measurement value.\n\t\t *\n\t\t * When used in conjunction with [shrink]{@link ui/Layout.Cell#shrink}, the size will be\n\t\t * the maximum size, shrinking as necessary, to fit the content.\n\t\t *\n\t\t * E.g.\n\t\t * * `size=\"400px\"` -> cell will be 400px, regardless of the dimensions of your content\n\t\t * * `size=\"400px\" shrink` -> cell will be 400px if your content is greater than 400px,\n\t\t *   and will match your contents size if it's smaller\n\t\t *\n\t\t * This accepts any valid CSS measurement value string. If a numeric value is used, it will\n\t\t * be treated as a pixel value and converted to a\n\t\t * [relative unit]{@link ui/resolution.unit} based on the rules of\n\t\t * [resolution independence]{@link ui/resolution}.\n\t\t *\n\t\t * @type {String|Number}\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t},\n\n\tdefaultProps: {\n\t\tcomponent: 'div',\n\t\tshrink: false\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'cell'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({shrink, size, styler}) => styler.append({shrink, grow: (!shrink && !size)}),\n\t\tstyle: ({align, shrink, size, style}) => {\n\t\t\tif (typeof size === 'number') size = ri.unit(ri.scale(size), 'rem');\n\n\t\t\tlet cellSize = size;\n\t\t\tif (!size) {\n\t\t\t\tif (shrink) {\n\t\t\t\t\tcellSize = '100%';\n\t\t\t\t} else {\n\t\t\t\t\tcellSize = 'none';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...style,\n\t\t\t\talignSelf: toFlexAlign(align),\n\t\t\t\tflexBasis: (shrink ? null : size),\n\t\t\t\t// Setting 100% below in the presence of `shrink`` and absense of `size` prevents overflow\n\t\t\t\t'--cell-size': cellSize\n\t\t\t};\n\t\t}\n\t},\n\n\trender: ({component: Component, componentRef, ...rest}) => {\n\t\tdelete rest.align;\n\t\tdelete rest.shrink;\n\t\tdelete rest.size;\n\n\t\treturn <Component ref={componentRef} {...rest} />;\n\t}\n});\n\n/**\n * Applies Cell behaviors.\n *\n * @hoc\n * @memberof ui/Layout\n * @mixes ui/ForwardRef.ForwardRef\n * @public\n */\nconst CellDecorator = ForwardRef({prop: 'componentRef'});\n\n/**\n * A stateless component that provides a space for your content in a\n * [Layout]{@link ui/Layout.Layout}.\n *\n * @class Cell\n * @memberof ui/Layout\n * @extends ui/Layout.CellBase\n * @mixes ui/Layout.CellDecorator\n * @ui\n * @public\n */\nconst Cell = CellDecorator(CellBase);\n\nexport default Cell;\nexport {\n\tCell,\n\tCellBase,\n\tCellDecorator,\n\ttoFlexAlign\n};\n","/**\n * A convenient tool for laying-out content using `Layout`, `Cell`, `Row`, and `Column`.\n *\n * Layout is a powerful and versatile tool used for arranging content on the screen. On a conceptual\n * level, it mixes the best parts of HTML tables wtih the best parts of HTML framesets, both of\n * which were largely abandoned for their drawbacks, ignoring their strengths. A `Layout` is simply\n * a container for `Cell`, the only \"legal\" child. Conversely, `Cell` may only be used in a\n * `Layout`. Cells in a Layout can either be positioned next to each other (horizontally) or\n * above/below each other (vertically) in what we refer to as a [Row]{@link ui/Layout.Row} or\n * [Column]{@link ui/Layout.Column}, respectively.\n *\n * The `Row` and `Column` layout presets describe the direction of layout for their children. This\n * can sometimes cause confusion. A `Row` of children naturally forms a _layout_ whose children can\n * have the _appearance_ of columns. To keep things clear, think about the layout rather than the\n * what the children themselves represent.\n *\n * `Layout` is an implementation of flex-box, but with built-in rails, properties, and features to\n * help avoid common problems with flex-box; things like content overflowing, sizing quirks, and\n * positioning problems regarding content of unknown or undefined dimension.\n *\n * The following scenarios are some common cases where `Layout` can truly help out. A quality of\n * `Cell` you'll see below is that when a `Cell` has no defined size, it automatically sizes to fill\n * any remaining space in the `Layout`. If there are multiple auto-sizing `Cell` components, they\n * share the space, subdividing it equally among themselves. It's great to leverage this and only\n * apply sizes to `Cell`s which must have defined sizes. `shrink` is one of the ways you can impose\n * size guidelines on a `Cell`. It automatically fits the size of the Cell to the size of its\n * content.\n *\n * A row of cells where the last one should always attach to the right side, regardless of the size\n * of the main \"content\" cell:\n * ```\n * ┌───────┬─┐\n * │Main   │R│\n * └───────┴─┘\n * ```\n *\n * ```\n * <Row>\n * \t<Cell>Main Content</Cell>\n * \t<Cell shrink>Right Side</Cell>\n * </Row>\n * ```\n *\n * A \"two-column\" layout with equal sized cells using `Row`:\n * ```\n * ┌────┬────┐\n * │L   │R   │\n * └────┴────┘\n * ```\n *\n * ```\n * <Row style={{height: '100%'}}>\n * \t<Cell>Left Column</Cell>\n * \t<Cell>Right Column</Cell>\n * </Row>\n * ```\n * *Remember:* The cells of the `Row` are the columns in our layout. It's likely that in a complex\n * layout `Column` would be used inside the left and right cells to arrange the components, as in\n * the example below.\n *\n * A full-height sidebar with a header and body to the right:\n * ```\n * ┌──┬──────┐\n * │S │HEADER│\n * │  ├──────┤\n * │  │Body  │\n * │  │      │\n * └──┴──────┘\n * ```\n *\n * ```\n * <Row style={{height: '100%'}}>\n * \t<Cell size=\"20%\">Sidebar</Cell>\n * \t<Cell>\n * \t\t<Column>\n * \t\t\t<Cell size={90} component=\"header\">\n * \t\t\t\t<h1>HEADER</h1>\n * \t\t\t</Cell>\n * \t\t\t<Cell>\n * \t\t\t\t<p>Body area</p>\n * \t\t\t</Cell>\n * \t\t</Column>\n * \t</Cell>\n * </Row>\n * ```\n * *Note:* Here, we've set the height of `Row` so it fills the height of the screen, allowing the\n * Sidebar Cell and content Cell to stretch from the top to the bottom. We've also leveraged the\n * `component` prop on the header cell, which tells `Cell` to render itself as a \"header\" HTML tag\n * rather than its usual \"div\" tag.\n *\n * The example below produces a layout like the following:\n * ```\n * ┌─┬─────┬─┐\n * │o│Item │o│\n * └─┴─────┴─┘\n * ```\n *\n * You'll notice the use of some special classes in the example: `\"debug layout\"`. Adding these on\n * any element in your DOM hierarchy will enable borders in Layout and Cell to help visualize what\n * is happening in the layout. They automatically change color the deeper in the stack they go.\n *\n * @example\n * <Layout className=\"debug layout\">\n * \t<Cell shrink>\n * \t\t<button>First</button>\n * \t</Cell>\n * \t<Cell>\n * \t\t<div>A div with some long text in it</div>\n * \t</Cell>\n * \t<Cell shrink>\n * \t\t<button>Last</button>\n * \t</Cell>\n * </Layout>\n *\n * @module ui/Layout\n * @exports Cell\n * @exports CellBase\n * @exports CellDecorator\n * @exports Column\n * @exports Layout\n * @exports LayoutBase\n * @exports LayoutDecorator\n * @exports Row\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ForwardRef from '../ForwardRef';\n\nimport {Cell, CellBase, CellDecorator, toFlexAlign} from './Cell';\n\nimport css from './Layout.module.less';\n\n/**\n * A container for `Cell`s.\n *\n * A stateless component that acts as a containing area for [Cells]{@link ui/Layout.Cell} to be\n * positioned in a row or a column (horizontally or vertically, respectively. It supports an\n * [orientation]{@link ui/Layout.Layout#orientation} property for laying-out its contents\n * (`Cells`) in an organized, readable way.\n *\n * Example:\n * ```\n * import Input from '@enact/moonstone/Input';\n * import css from './LayoutExample.less';\n * ...\n * <fieldset>\n * \t<Layout align=\"center\">\n * \t\t<Cell component=\"label\" size=\"40%\" className={css.label} shrink>First Name</Cell>\n * \t\t<Cell component={Input} placeholder=\"First\" className={css.input} />\n * \t</Layout>\n * \t<Layout align=\"center\">\n * \t\t<Cell component=\"label\" size=\"40%\" className={css.label} shrink>Last Name</Cell>\n * \t\t<Cell component={Input} placeholder=\"Last\" className={css.input} />\n * \t</Layout>\n * </fieldset>\n * ```\n *\n * @class LayoutBase\n * @ui\n * @memberof ui/Layout\n * @public\n */\nconst LayoutBase = kind({\n\tname: 'LayoutBase',\n\n\tpropTypes: /** @lends ui/Layout.LayoutBase.prototype */ {\n\t\t/**\n\t\t * The alignment of children.\n\t\t *\n\t\t * Aligns the children [Cells]{@link ui/Layout.Cell} vertically in the case of a horizontal\n\t\t * layout or horizontally in the case of a vertical layout. `\"start\"`, `\"center\"` and\n\t\t * `\"end\"` are the most commonly used, although all values of `align-items` are supported.\n\t\t * `\"start\"` refers to the top in a horizontal layout, and left in a vertical LTR layout\n\t\t * `\"end\"` refers to the bottom in a horizontal layout, and right in a vertical LTR layout\n\t\t * `\"start\"` and `\"end\"` reverse places when in a vertical layout in a RTL locale.\n\t\t * This includes support for `align-parts` which is shorthand for combining `align-items`\n\t\t * and `justify-content` into a single property, separated by a space, in that order.\n\t\t * This allows you to specify both the horizontal and vertical alignment in one property,\n\t\t * separated by a space.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\talign: PropTypes.string,\n\n\t\t/**\n\t\t * Only [Cell]{@link ui/Layout.Cell} components are supported as children.\n\t\t *\n\t\t * @type {Cell|Cell[]}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.any,\n\n\t\t/**\n\t\t * The type of component to use to render as the `Layout`. May be a DOM node name (e.g 'div',\n\t\t * 'span', etc.) or a custom component.\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @default 'div'\n\t\t * @public\n\t\t */\n\t\tcomponent:  EnactPropTypes.renderable,\n\n\t\t/**\n\t\t * Called with a reference to [component]{@link ui/Layout.Layout#component}\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @private\n\t\t */\n\t\tcomponentRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Allows this `Layout` to have following siblings drawn on the same line as itself\n\t\t * instead of carving out the entire horizontal space for itself.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tinline: PropTypes.bool,\n\n\t\t/**\n\t\t * The orientation of the `Layout`, i.e. how the children [Cells]{@link ui/Layout.Cell} are\n\t\t * positioned on the screen. Must be either `'horizontal'` or `'vertical'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'horizontal'\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t/**\n\t\t * Sets the Layout's `flex-wrap` values.\n\t\t *\n\t\t * Determines how a Layout handles its cells if there are more than fit in the available\n\t\t * space. This works like a normal `Boolean` prop, but also accepts strings for customization\n\t\t * beyond the basic on/off support. In addition to `true` and `false`, the following strings\n\t\t * are supported: 'wrap', 'nowrap', 'reverse'. 'reverse' performs standard line wrapping but\n\t\t * additional lines are placed above/before the preceding line instead of below/after.\n\t\t *\n\t\t * @type {Boolean|String}\n\t\t * @public\n\t\t */\n\t\twrap: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf(['reverse', 'nowrap', 'wrap'])])\n\t},\n\n\tdefaultProps: {\n\t\tcomponent: 'div',\n\t\tinline: false,\n\t\torientation: 'horizontal',\n\t\twrap: false\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'layout'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({inline, orientation, wrap, styler}) => {\n\t\t\treturn styler.append(\n\t\t\t\torientation,\n\t\t\t\t{\n\t\t\t\t\tinline,\n\t\t\t\t\tnowrap: wrap === false || wrap === 'nowrap',\n\t\t\t\t\twrap: wrap === true || wrap === 'wrap',\n\t\t\t\t\twrapReverse: wrap === 'wrapReverse'\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\tstyle: ({align, style}) => {\n\t\t\tif (!align) return style;\n\n\t\t\t// This is effectively a polyfill for the upcoming `place-items` prop which is shorthand\n\t\t\t// for align-items and justify-items together\n\t\t\tconst alignParts = align.split(' ');\n\n\t\t\treturn {\n\t\t\t\t...style,\n\t\t\t\talignItems: toFlexAlign(alignParts[0]),\n\t\t\t\tjustifyContent: toFlexAlign(alignParts[1])\n\t\t\t};\n\t\t}\n\t},\n\n\trender: ({component: Component, componentRef, ...rest}) => {\n\t\tdelete rest.align;\n\t\tdelete rest.inline;\n\t\tdelete rest.orientation;\n\t\tdelete rest.wrap;\n\n\t\treturn <Component ref={componentRef} {...rest} />;\n\t}\n});\n\n/**\n * Applies Layout behaviors.\n *\n * @hoc\n * @memberof ui/Layout\n * @mixes ui/ForwardRef.ForwardRef\n * @public\n */\nconst LayoutDecorator = ForwardRef({prop: 'componentRef'});\n\n/**\n * A container for `Cell`s.\n *\n * A stateless component that acts as a containing area for [Cells]{@link ui/Layout.Cell} to be\n * positioned in a row or a column (horizontally or vertically, respectively. It supports an\n * [orientation]{@link ui/Layout.Layout#orientation} property for laying-out its contents\n * (`Cells`) in an organized, readable way.\n *\n * Example:\n * ```\n * import Input from '@enact/moonstone/Input';\n * import css from './LayoutExample.less';\n * ...\n * <fieldset>\n * \t<Layout align=\"center\">\n * \t\t<Cell component=\"label\" size=\"40%\" className={css.label} shrink>First Name</Cell>\n * \t\t<Cell component={Input} placeholder=\"First\" className={css.input} />\n * \t</Layout>\n * \t<Layout align=\"center\">\n * \t\t<Cell component=\"label\" size=\"40%\" className={css.label} shrink>Last Name</Cell>\n * \t\t<Cell component={Input} placeholder=\"Last\" className={css.input} />\n * \t</Layout>\n * </fieldset>\n * ```\n *\n * @class Layout\n * @memberof ui/Layout\n * @extends ui/Layout.LayoutBase\n * @mixes ui/ForwardRef.ForwardRef\n * @ui\n * @public\n */\nconst Layout = LayoutDecorator(LayoutBase);\n\n/**\n * Shorthand for `<Layout orientation=\"vertical\">`, which positions its\n * [Cells]{@link ui/Layout.Cell} vertically.\n * ```\n * ┌────┐\n * ├────┤\n * ├────┤\n * ├────┤\n * └────┘\n * ```\n *\n * @class Column\n * @memberof ui/Layout\n * @extends ui/Layout.Layout\n * @mixes ui/ForwardRef.ForwardRef\n * @ui\n * @public\n */\nconst Column = LayoutDecorator((props) => (\n\tLayoutBase.inline({\n\t\t...props,\n\t\torientation: 'vertical'\n\t})\n));\nColumn.displayName = 'Column';\n\n/**\n * Shorthand for `<Layout orientation=\"horizontal\">`, which positions its\n * [Cells]{@link ui/Layout.Cell} horizontally.\n * ```\n * ┌─┬─┬─┬─┐\n * │ │ │ │ │\n * └─┴─┴─┴─┘\n * ```\n *\n * @class Row\n * @memberof ui/Layout\n * @extends ui/Layout.Layout\n * @mixes ui/ForwardRef.ForwardRef\n * @ui\n * @public\n */\nconst Row = LayoutDecorator((props) => (\n\tLayoutBase.inline({\n\t\t...props,\n\n\t\torientation: 'horizontal'\n\t})\n));\nRow.displayName = 'Row';\n\nexport default Layout;\nexport {\n\tCell,\n\tCellBase,\n\tCellDecorator,\n\tColumn,\n\tLayout,\n\tLayoutBase,\n\tLayoutDecorator,\n\tRow\n};\n","/*\n * Exports a number of pre-defined arrangers for use with {@link ui/ViewManager}.\n * note: not jsdoc on purpose\n */\n\nimport PropTypes from 'prop-types';\n\nconst slideInOut = (direction, total, orientation) => {\n\tconst p = direction === 'out' ? total : -total;\n\n\treturn\torientation === 'top'    && 'translateY(' + -p + '%)' ||\n\t\t\torientation === 'bottom' && 'translateY(' + p + '%)'  ||\n\t\t\torientation === 'left'   && 'translateX(' + -p + '%)' ||\n\t\t\torientation === 'right'  && 'translateX(' + p + '%)';\n};\n\nexport const arrange = ({duration, node, reverse}, keyframes, options) => {\n\treturn node.animate(keyframes, {\n\t\tduration,\n\t\tdirection: reverse ? 'reverse' : 'normal',\n\t\tfill: 'forwards',\n\t\t...options\n\t});\n};\n\n/**\n * A function that generates an animation for a given transition configuration\n *\n * @callback ArrangerCallback\n * @param {Object} config                                      - Animation configuration object.\n * @param {Number} config.duration                             - Duration of the animation in ms.\n * @param {('forwards'|'backwards'|'both'|'none')} config.fill - Animation effect should be\n *                                                               reflected by previous state or\n *                                                               retained after animation.\n * @param {Number} config.from                                 - Index from which the ViewManager is\n *                                                               transitioning.\n * @param {Node} config.node                                   - DOM node to be animated.\n * @param {Boolean} config.reverse                             - `true` when the animation should be\n *                                                               reversed.\n * @param {Boolean} config.rtl                                 - `true` when the ViewManager was\n *                                                                configured with `rtl` for locales\n *                                                                that use right-to-left reading\n *                                                                order.\n * @param {Number} config.to                                   - Index to which the ViewManager is\n *                                                               transitioning.\n * @returns {Animation} An `Animation`-compatible object\n * @public\n * @memberof ui/ViewManager\n */\n\n/**\n * An object with callback functions to arrange views within {@link ui/ViewManager.ViewManager}.\n *\n * @typedef {Object} Arranger\n * @property {ArrangerCallback} enter  - Returns an array of keyframes describing the animation when\n *                                       a view is entering the viewport.\n * @property {ArrangerCallback} leave  - Returns an array of keyframes describing the animation when\n *                                       a view is leaving the viewport.\n * @property {ArrangerCallback} [stay] - Returns an array of keyframes describing the animation when\n *                                       a view is remaining in the viewport.\n * @public\n * @memberof ui/ViewManager\n */\n\n/**\n * A basic arranger factory that must be configured with `direction` and optionally an `amount`.\n *\n * @function\n * @memberof ui/ViewManager\n * @param {Object}                          config              - Configuration object.\n * @param {Object}                          [config.amount=100] - Amount, as a whole number, to\n *                                                                \"slide\" where 100 is the entire\n *                                                                size of the node along the axis of\n *                                                                the `direction`.\n * @param {('bottom'|'left'|'right'|'top')} config.direction    - Direction from which the view will\n *                                                                transition.\n * @returns {Arranger}            An arranger\n * @public\n */\nexport const SlideArranger = ({amount = 100, direction}) => ({\n\tenter: (config) => arrange(config, [\n\t\t{transform: slideInOut('in', amount, direction)},\n\t\t{transform: slideInOut('in', 0, direction)}\n\t]),\n\tleave: (config) => arrange(config, [\n\t\t{transform: slideInOut('out', 0, direction)},\n\t\t{transform: slideInOut('out', amount, direction)}\n\t]),\n\tstay: (config) => arrange(config, [\n\t\t{transform: slideInOut('in', 0, direction)},\n\t\t{transform: slideInOut('in', 0, direction)}\n\t])\n});\n\n/**\n * An arranger that enters from the left and leaves to the right.\n *\n * @type {Arranger}\n * @memberof ui/ViewManager\n * @public\n */\nexport const SlideRightArranger = SlideArranger({direction: 'right'});\n\n/**\n * An arranger that enters from the right and leaves to the left..\n *\n * @type {Arranger}\n * @memberof ui/ViewManager\n * @public\n */\nexport const SlideLeftArranger = SlideArranger({direction: 'left'});\n\n/**\n * An arranger that enters from the bottom and leaves to the top..\n *\n * @type {Arranger}\n * @memberof ui/ViewManager\n * @public\n */\nexport const SlideTopArranger = SlideArranger({direction: 'top'});\n\n/**\n * An arranger that enters from the top and leaves to the bottom..\n *\n * @type {Arranger}\n * @memberof ui/ViewManager\n * @public\n */\nexport const SlideBottomArranger = SlideArranger({direction: 'bottom'});\n\n/**\n * propType validation for Arranger transitions\n * @memberof ui/ViewManager\n * @private\n */\nexport const shape = PropTypes.shape({\n\tenter: PropTypes.func,\n\tleave: PropTypes.func\n});\n","/**\n * A internal Picker component.\n *\n * @module agate/internal/Picker\n * @exports Picker\n * @exports PickerDecorator\n */\n\nimport {adaptEvent, forEventProp, forward, handle, oneOf} from '@enact/core/handle';\nimport kind from '@enact/core/kind';\nimport Spottable from '@enact/spotlight/Spottable';\nimport Changeable from '@enact/ui/Changeable';\nimport IdProvider from '@enact/ui/internal/IdProvider';\nimport Touchable from '@enact/ui/Touchable';\nimport PropTypes from 'prop-types';\nimport clamp from 'ramda/src/clamp';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport $L from '../$L';\nimport Skinnable from '../../Skinnable';\n\nimport css from './Picker.module.less';\n\nconst PickerRoot = Touchable('div');\nconst PickerButtonItem = Spottable('div');\n\nconst handleChange = direction => handle(\n\tadaptEvent(\n\t\t(ev, {min, max, step, value}) => ({\n\t\t\tvalue: clamp(min, max, value + (direction * step))\n\t\t}),\n\t\tforward('onChange')\n\t)\n);\n\nconst increment = handleChange(1);\nconst decrement = handleChange(-1);\n\n/**\n * The base component for {@link agate/internal/Picker.Picker}.\n *\n * @class Picker\n * @memberof agate/internal/Picker\n * @ui\n * @private\n */\nconst PickerBase = kind({\n\tname: 'Picker',\n\n\tpropTypes: /** @lends agate/internal/Picker.Picker.prototype */ {\n\t\t/**\n\t\t * The maximum value selectable by the picker (inclusive).\n\t\t *\n\t\t * The range between `min` and `max` should be evenly divisible by\n\t\t * [step]{@link agate/internal/Picker.Picker.step}.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tmax: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The minimum value selectable by the picker (inclusive).\n\t\t *\n\t\t * The range between `min` and `max` should be evenly divisible by\n\t\t * [step]{@link agate/internal/Picker.Picker.step}.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tmin: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * Overrides the `aria-valuetext` for the picker. By default, `aria-valuetext` is set\n\t\t * to the current value. This should only be used when the parent controls the value of\n\t\t * the picker directly through the props.\n\t\t *\n\t\t * @type {String|Number}\n\t\t * @memberof agate/internal/Picker.Picker.prototype\n\t\t * @public\n\t\t */\n\t\t'aria-valuetext': PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n\t\t/**\n\t\t * Children from which to pick\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Class name for component.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tclassName: PropTypes.string,\n\n\t\t/**\n\t\t * Sets the hint string read when focusing the decrement button.\n\t\t *\n\t\t * @default 'previous item'\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tdecrementAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * Disables the picker.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * The picker id reference for setting aria-controls.\n\t\t *\n\t\t * @type {String}\n\t\t * @private\n\t\t */\n\t\tid: PropTypes.string,\n\n\t\t/**\n\t\t * Sets the hint string read when focusing the increment button.\n\t\t *\n\t\t * @default 'next item'\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tincrementAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * A function to run when the control should increment or decrement.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChange: PropTypes.func,\n\n\t\t/**\n\t\t * Orientation of the picker.\n\t\t *\n\t\t * Controls whether the buttons are arranged horizontally or vertically around the value.\n\t\t *\n\t\t * * Values: `'horizontal'`, `'vertical'`\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'vertical'\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t/**\n\t\t * Allow the picker to only increment or decrement by a given value.\n\t\t *\n\t\t * A step of `2` would cause a picker to increment from 10 to 12 to 14, etc. It must evenly\n\t\t * divide into the range designated by `min` and `max`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t * @public\n\t\t */\n\t\tstep: PropTypes.number,\n\n\t\t/**\n\t\t * Index of the selected child.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.number\n\t},\n\n\tdefaultProps: {\n\t\torientation: 'vertical',\n\t\tstep: 1,\n\t\tvalue: 0\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'picker',\n\t\tpublicClassNames: true\n\t},\n\n\thandlers: {\n\t\thandleDecrement: decrement,\n\t\thandleFlick: handle(\n\t\t\tforEventProp('direction', 'vertical'),\n\t\t\t// ignore \"slow\" flicks by filtering out velocity below a threshold\n\t\t\toneOf(\n\t\t\t\t[({velocityY}) => velocityY < 0, increment],\n\t\t\t\t[({velocityY}) => velocityY > 0, decrement]\n\t\t\t)\n\t\t),\n\t\thandleIncrement: increment\n\t},\n\n\tcomputed: {\n\t\tactiveClassName: ({styler}) => styler.join('active', 'item'),\n\t\tclassName: ({orientation, styler}) => styler.append(orientation),\n\t\tcurrentValueText: ({'aria-valuetext': valueText, children: values, value}) => {\n\t\t\tif (Array.isArray(values)) {\n\t\t\t\treturn `${typeof valueText !== 'undefined' ? valueText : values[value]}`;\n\t\t\t} else {\n\t\t\t\treturn `${typeof valueText !== 'undefined' ? valueText : value}`;\n\t\t\t}\n\t\t},\n\t\tdecrementAriaLabel: ({'aria-valuetext': valueText, children: values, decrementAriaLabel = $L('previous item'), value}) => {\n\t\t\tif (Array.isArray(values)) {\n\t\t\t\treturn `${valueText != null ? valueText : values[value]} ${decrementAriaLabel}`;\n\t\t\t} else {\n\t\t\t\treturn `${valueText != null ? valueText : value} ${decrementAriaLabel}`;\n\t\t\t}\n\n\t\t},\n\t\tincrementAriaLabel: ({'aria-valuetext': valueText, children: values, incrementAriaLabel = $L('next item'), value}) => {\n\t\t\tif (Array.isArray(values)) {\n\t\t\t\treturn `${valueText != null ? valueText : values[value]} ${incrementAriaLabel}`;\n\t\t\t} else {\n\t\t\t\treturn `${valueText != null ? valueText : value} ${incrementAriaLabel}`;\n\t\t\t}\n\t\t},\n\t\tvalueId: ({id}) => `${id}_value`\n\t},\n\n\trender: (props) => {\n\t\tconst {\n\t\t\tactiveClassName,\n\t\t\tchildren: values,\n\t\t\tcurrentValueText,\n\t\t\tdecrementAriaLabel,\n\t\t\thandleDecrement,\n\t\t\thandleFlick,\n\t\t\thandleIncrement,\n\t\t\tincrementAriaLabel,\n\t\t\tmin,\n\t\t\tmax,\n\t\t\tstep,\n\t\t\tvalue,\n\t\t\tvalueId,\n\t\t\t...rest\n\t\t} = props;\n\t\tconst currentValue = Array.isArray(values) ? values[value] : value;\n\t\tconst decrementValue = clamp(min, max, Array.isArray(values) ? values[value - step] : value - step);\n\t\tconst incrementValue = clamp(min, max, Array.isArray(values) ? values[value + step] : value + step);\n\t\tconst isFirst = value <= min;\n\t\tconst isLast = value >= max;\n\n\t\treturn (\n\t\t\t<PickerRoot {...rest} onFlick={handleFlick}>\n\t\t\t\t<PickerButtonItem\n\t\t\t\t\taria-controls={valueId}\n\t\t\t\t\taria-disabled={isFirst}\n\t\t\t\t\taria-label={decrementAriaLabel}\n\t\t\t\t\tclassName={css.itemDecrement}\n\t\t\t\t\tdisabled={isFirst}\n\t\t\t\t\tonClick={handleDecrement}\n\t\t\t\t>\n\t\t\t\t\t<div className={css.label}>\n\t\t\t\t\t\t{isFirst ? '' : decrementValue}\n\t\t\t\t\t</div>\n\t\t\t\t</PickerButtonItem>\n\t\t\t\t<div\n\t\t\t\t\taria-valuetext={currentValueText}\n\t\t\t\t\tclassName={activeClassName}\n\t\t\t\t\tid={valueId}\n\t\t\t\t\trole=\"spinbutton\"\n\t\t\t\t>\n\t\t\t\t\t<div className={css.label}>\n\t\t\t\t\t\t{currentValue}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<PickerButtonItem\n\t\t\t\t\taria-controls={valueId}\n\t\t\t\t\taria-disabled={isLast}\n\t\t\t\t\taria-label={incrementAriaLabel}\n\t\t\t\t\tclassName={css.itemIncrement}\n\t\t\t\t\tdisabled={isLast}\n\t\t\t\t\tonClick={handleIncrement}\n\t\t\t\t>\n\t\t\t\t\t<div className={css.label}>\n\t\t\t\t\t\t{isLast ? '' : incrementValue}\n\t\t\t\t\t</div>\n\t\t\t\t</PickerButtonItem>\n\t\t\t</PickerRoot>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [PickerBase]{@link agate/Picker.PickerBase}.\n *\n * @hoc\n * @memberof agate/internal/Picker\n * @mixes ui/Changeable.Changeable\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst PickerDecorator = compose(\n\tIdProvider({generateProp: null}),\n\tChangeable,\n\tSkinnable\n);\n\nconst Picker = PickerDecorator(PickerBase);\n\nexport default Picker;\nexport {\n\tPicker,\n\tPickerBase,\n\tPickerDecorator\n};\n","/*\n * Exports the {@link ui/ViewManager.TransitionGroup} component.\n */\n\n// Using string refs from the source code of ReactTransitionGroup\n/* eslint-disable react/no-string-refs */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport {forward} from '@enact/core/handle';\nimport PropTypes from 'prop-types';\nimport eqBy from 'ramda/src/eqBy';\nimport findIndex from 'ramda/src/findIndex';\nimport identity from 'ramda/src/identity';\nimport prop from 'ramda/src/prop';\nimport propEq from 'ramda/src/propEq';\nimport remove from 'ramda/src/remove';\nimport unionWith from 'ramda/src/unionWith';\nimport useWith from 'ramda/src/useWith';\nimport React from 'react';\n\n/**\n * Returns the index of a child in an array found by `key` matching\n *\n * @param {Object} child React element to find\n * @param {Object[]} children Array of React elements\n * @returns {Number} Index of child\n * @method\n * @private\n */\n// eslint-disable-next-line react-hooks/rules-of-hooks\nconst indexOfChild = useWith(findIndex, [propEq('key'), identity]);\n\n/**\n * Returns an array of non-null children\n *\n * @param  {Object[]} children Array of React children\n *\n * @returns {Object[]}          Array of children\n * @private\n */\nconst mapChildren = function (children) {\n\tconst result = children && React.Children.toArray(children);\n\treturn result ? result.filter(c => !!c) : [];\n};\n\n/**\n * Merges two arrays of children without any duplicates (by `key`)\n *\n * @param {Object[]} a Set of children\n * @param {Object[]} b Set of children\n * @returns {Object[]} Merged set of children\n * @method\n * @private\n */\nconst mergeChildren = unionWith(eqBy(prop('key')));\n\n// Cached event forwarders\nconst forwardOnAppear = forward('onAppear');\nconst forwardOnEnter = forward('onEnter');\nconst forwardOnLeave = forward('onLeave');\nconst forwardOnStay = forward('onStay');\nconst forwardOnTransition = forward('onTransition');\nconst forwardOnWillTransition = forward('onWillTransition');\n\n/**\n * Manages the transition of added and removed child components. Children that are added are\n * transitioned in and those removed are transition out via optional callbacks on the child.\n *\n * Ported from [ReactTransitionGroup]\n * (https://facebook.github.io/react/docs/animation.html#low-level-api-reacttransitiongroup).\n * Currently somewhat specialized for the purposes of ViewManager.\n *\n * @class TransitionGroup\n * @memberof ui/ViewManager\n * @private\n */\n\nclass TransitionGroup extends React.Component {\n\tstatic propTypes = /** @lends ui/ViewManager.TransitionGroup.prototype */ {\n\t\tchildren: PropTypes.node.isRequired,\n\n\t\t/**\n\t\t * Adapts children to be compatible with TransitionGroup\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tchildFactory: PropTypes.func,\n\n\t\t/**\n\t\t * Type of component wrapping the children.\n\t\t *\n\t\t * May be a DOM node or a custom React component.\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @default 'div'\n\t\t */\n\t\tcomponent: EnactPropTypes.renderable,\n\n\t\t/**\n\t\t * Called with a reference to [component]{@link ui/ViewManager.TransitionGroup#component}\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @private\n\t\t */\n\t\tcomponentRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Current Index the ViewManager is on\n\t\t *\n\t\t * @type {Number}\n\t\t */\n\t\tcurrentIndex: PropTypes.number,\n\n\t\t/**\n\t\t * Called when each view is rendered during initial construction.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonAppear: PropTypes.func,\n\n\t\t/**\n\t\t * Called when each view completes its transition into the viewport.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonEnter: PropTypes.func,\n\n\t\t/**\n\t\t * Called when each view completes its transition out of the viewport.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonLeave: PropTypes.func,\n\n\t\t/**\n\t\t * Called when each view completes its transition within the viewport.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonStay: PropTypes.func,\n\n\t\t/**\n\t\t * Called once when all views have completed their transition.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonTransition: PropTypes.func,\n\n\t\t/**\n\t\t * Called once before views begin their transition.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonWillTransition: PropTypes.func,\n\n\t\t/**\n\t\t * Maximum number of rendered children.\n\t\t *\n\t\t * Used to limit how many visible transitions are active at any time.\n\t\t * A value of 1 would prevent any exit transitions whereas a value of 2,\n\t\t * the default, would ensure that only 1 view is transitioning on and 1 view is\n\t\t * transitioning off at a time.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 2\n\t\t */\n\t\tsize: PropTypes.number\n\t};\n\n\tstatic defaultProps = {\n\t\tchildFactory: identity,\n\t\tcomponent: 'div',\n\t\tsize: 2\n\t};\n\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tfirstRender: true,\n\t\t\tchildren: []\n\t\t};\n\n\t\tthis.hasMounted = false;\n\t\tthis.currentlyTransitioningKeys = {};\n\t\tthis.keysToEnter = [];\n\t\tthis.keysToLeave = [];\n\t\tthis.keysToStay = [];\n\t\tthis.groupRefs = {};\n\t}\n\n\tstatic getDerivedStateFromProps (props, state) {\n\t\tconst children = mapChildren(props.children).slice(0, props.size);\n\n\t\tif (state.firstRender) {\n\t\t\treturn {\n\t\t\t\tactiveChildren: children,\n\t\t\t\tchildren,\n\t\t\t\tfirstRender: false\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tactiveChildren: children,\n\t\t\tchildren: mergeChildren(children, state.children).slice(0, props.size)\n\t\t};\n\t}\n\n\tcomponentDidMount () {\n\t\tthis.hasMounted = true;\n\n\t\t// this isn't used by ViewManager or View at the moment but leaving it around for future\n\t\t// flexibility\n\t\tthis.state.children.forEach(child => this.performAppear(child.key));\n\t}\n\n\tcomponentDidUpdate (prevProps, prevState) {\n\t\tthis.reconcileUnmountedChildren(prevState.children, this.state.children);\n\t\tthis.reconcileChildren(prevState.activeChildren, this.state.activeChildren);\n\t}\n\n\treconcileUnmountedChildren (prevChildMapping, nextChildMapping) {\n\t\tconst nextChildKeys = nextChildMapping.map(c => c.key);\n\t\tconst prevChildKeys = prevChildMapping.map(c => c.key);\n\n\t\t// `state.children` represents the mounted children. if a view change happens during a\n\t\t// transition causing the View to be unmounted before it fires its callback, the\n\t\t// currentlyTransitioningKeys map will be out of sync. To manage that, we check for keys\n\t\t// that have fallen out of the `children` array and manually clean them up from the map.\n\t\tprevChildKeys\n\t\t\t.filter(key => !nextChildKeys.includes(key))\n\t\t\t.forEach(key => this.completeTransition({key}));\n\t}\n\n\treconcileChildren (prevActiveChildMapping, nextActiveChildMapping) {\n\t\tconst {size} = this.props;\n\n\t\tconst nextChildKeys = nextActiveChildMapping.map(c => c.key);\n\t\tconst prevChildKeys = prevActiveChildMapping.map(c => c.key);\n\t\tconst droppedKeys = prevChildKeys.filter(key => !nextChildKeys.includes(key));\n\n\t\t// if children haven't changed, there's nothing to reconcile\n\t\tif (prevActiveChildMapping.length === nextActiveChildMapping.length && droppedKeys.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\t// remove any \"dropped\" children from the list of transitioning children\n\t\tdroppedKeys.forEach(key => this.completeTransition({key}));\n\n\t\t// mark any new child as entering\n\t\tnextChildKeys.forEach((key, index) => {\n\t\t\tconst hasPrev = prevChildKeys.includes(key);\n\n\t\t\tif (!hasPrev || this.currentlyTransitioningKeys[key]) {\n\t\t\t\t// flag a view to enter if it's new (!hasPrev), or if it's not new (hasPrev) but is\n\t\t\t\t// re-entering (is currently transitioning)\n\t\t\t\tthis.keysToEnter.push(key);\n\t\t\t} else if (index < size - 1) {\n\t\t\t\t// keep views that are less than size minus the \"transition out\" buffer\n\t\t\t\tthis.keysToStay.push(key);\n\t\t\t} else {\n\t\t\t\t// everything else is leaving\n\t\t\t\tthis.keysToLeave.push(key);\n\t\t\t}\n\t\t});\n\n\t\t// mark any previous child not remaining as leaving\n\t\tprevChildKeys.forEach(key => {\n\t\t\tconst hasNext = nextChildKeys.includes(key);\n\t\t\tconst isRendered = Boolean(this.groupRefs[key]);\n\t\t\t// flag a view to leave if it isn't in the new set (!hasNext) and it exists (isRendered)\n\t\t\tif (!hasNext && isRendered) {\n\t\t\t\tthis.keysToLeave.push(key);\n\t\t\t}\n\t\t});\n\n\t\tif (this.keysToEnter.length || this.keysToLeave.length) {\n\t\t\tforwardOnWillTransition(null, this.props);\n\t\t}\n\n\t\t// once the component has been updated, start the enter transition for new children,\n\t\tconst keysToEnter = this.keysToEnter;\n\t\tthis.keysToEnter = [];\n\t\tkeysToEnter.forEach(this.performEnter);\n\n\t\t// ... the stay transition for any children remaining,\n\t\tconst keysToStay = this.keysToStay;\n\t\tthis.keysToStay = [];\n\t\tkeysToStay.forEach(this.performStay);\n\n\t\t// ... and the leave transition for departing children\n\t\tconst keysToLeave = this.keysToLeave;\n\t\tthis.keysToLeave = [];\n\t\tkeysToLeave.forEach(this.performLeave);\n\t}\n\n\tcompleteTransition ({key, noForwarding = false}) {\n\t\tif (key in this.currentlyTransitioningKeys) {\n\t\t\tdelete this.currentlyTransitioningKeys[key];\n\n\t\t\tif (!noForwarding && Object.keys(this.currentlyTransitioningKeys).length === 0) {\n\t\t\t\tforwardOnTransition(null, this.props);\n\t\t\t}\n\t\t}\n\t}\n\n\tperformAppear = (key) => {\n\t\tthis.currentlyTransitioningKeys[key] = true;\n\n\t\tconst component = this.groupRefs[key];\n\n\t\tif (component.componentWillAppear) {\n\t\t\tcomponent.componentWillAppear(\n\t\t\t\tthis._handleDoneAppearing.bind(this, key)\n\t\t\t);\n\t\t} else {\n\t\t\tthis._handleDoneAppearing(key);\n\t\t}\n\t};\n\n\t_handleDoneAppearing = (key) => {\n\t\tconst component = this.groupRefs[key];\n\t\tif (component.componentDidAppear) {\n\t\t\tcomponent.componentDidAppear();\n\t\t}\n\n\t\tforwardOnAppear({\n\t\t\tview: component\n\t\t}, this.props);\n\n\t\tthis.completeTransition({key, noForwarding: true});\n\n\t\tlet currentChildMapping = mapChildren(this.props.children);\n\n\t\tif (!currentChildMapping || !currentChildMapping.find(child => child.key === key)) {\n\t\t\t// This was removed before it had fully appeared. Remove it.\n\t\t\tthis.performLeave(key);\n\t\t}\n\t};\n\n\tperformEnter = (key) => {\n\t\tthis.currentlyTransitioningKeys[key] = true;\n\n\t\tconst component = this.groupRefs[key];\n\n\t\tif (component.componentWillEnter) {\n\t\t\tcomponent.componentWillEnter(\n\t\t\t\tthis._handleDoneEntering.bind(this, key)\n\t\t\t);\n\t\t} else {\n\t\t\tthis._handleDoneEntering(key);\n\t\t}\n\t};\n\n\t_handleDoneEntering = (key) => {\n\t\tconst component = this.groupRefs[key];\n\t\tif (component.componentDidEnter) {\n\t\t\tcomponent.componentDidEnter();\n\t\t}\n\n\t\tforwardOnEnter({\n\t\t\tview: component\n\t\t}, this.props);\n\n\t\tthis.completeTransition({key});\n\t};\n\n\tperformStay = (key) => {\n\t\tconst component = this.groupRefs[key];\n\n\t\tif (component.componentWillStay) {\n\t\t\tcomponent.componentWillStay(\n\t\t\t\tthis._handleDoneStaying.bind(this, key)\n\t\t\t);\n\t\t} else {\n\t\t\tthis._handleDoneStaying(key);\n\t\t}\n\t};\n\n\t_handleDoneStaying = (key) => {\n\t\tconst component = this.groupRefs[key];\n\t\tif (component.componentDidStay) {\n\t\t\tcomponent.componentDidStay();\n\t\t}\n\n\t\tforwardOnStay({\n\t\t\tview: component\n\t\t}, this.props);\n\t};\n\n\tperformLeave = (key) => {\n\t\tthis.currentlyTransitioningKeys[key] = true;\n\n\t\tconst component = this.groupRefs[key];\n\t\tif (component.componentWillLeave) {\n\t\t\tcomponent.componentWillLeave(this._handleDoneLeaving.bind(this, key));\n\t\t} else {\n\t\t\t// Note that this is somewhat dangerous b/c it calls setState()\n\t\t\t// again, effectively mutating the component before all the work\n\t\t\t// is done.\n\t\t\tthis._handleDoneLeaving(key);\n\t\t}\n\t};\n\n\t_handleDoneLeaving = (key) => {\n\t\tconst component = this.groupRefs[key];\n\n\t\tif (component.componentDidLeave) {\n\t\t\tcomponent.componentDidLeave();\n\t\t}\n\n\t\tforwardOnLeave({\n\t\t\tview: component\n\t\t}, this.props);\n\n\t\tthis.completeTransition({key});\n\n\t\tthis.setState(function (state) {\n\t\t\tconst index = indexOfChild(key, state.children);\n\t\t\treturn {children: remove(index, 1, state.children)};\n\t\t});\n\t};\n\n\tstoreRefs = key => node => {\n\t\tthis.groupRefs[key] = node;\n\t};\n\n\trender () {\n\t\t// support wrapping arbitrary children with a component that supports the necessary\n\t\t// lifecycle methods to animate transitions\n\t\tconst childrenToRender = this.state.children.map(child => {\n\t\t\tconst isLeaving = child.props['data-index'] !== this.props.currentIndex && typeof child.props['data-index'] !== 'undefined';\n\n\t\t\treturn React.cloneElement(\n\t\t\t\tthis.props.childFactory(child),\n\t\t\t\t{key: child.key, ref: this.storeRefs(child.key), leaving: isLeaving, appearing: !this.hasMounted}\n\t\t\t);\n\t\t});\n\n\t\t// Do not forward TransitionGroup props to primitive DOM nodes\n\t\tconst props = Object.assign({}, this.props);\n\t\tprops.ref = this.props.componentRef;\n\t\tdelete props.childFactory;\n\t\tdelete props.component;\n\t\tdelete props.componentRef;\n\t\tdelete props.currentIndex;\n\t\tdelete props.onAppear;\n\t\tdelete props.onAppear;\n\t\tdelete props.onEnter;\n\t\tdelete props.onLeave;\n\t\tdelete props.onStay;\n\t\tdelete props.onTransition;\n\t\tdelete props.onWillTransition;\n\t\tdelete props.size;\n\n\t\treturn React.createElement(\n\t\t\tthis.props.component,\n\t\t\tprops,\n\t\t\tchildrenToRender\n\t\t);\n\t}\n}\n\nexport default TransitionGroup;\nexport {TransitionGroup};\n","/*\n * Exports the {@link ui/ViewManager.View} component.\n */\n\nimport {Job} from '@enact/core/util';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\n\nimport {shape} from './Arranger';\n\n// If the View was \"appearing\", then entering will always be false and this will not result in a\n// re-render. If the view should enter, state.enter will be true and this will toggle it to false\n// causing a re-render.\nconst clearEntering = ({entering}) => {\n\treturn entering ? {entering: false} : null;\n};\n\n/**\n * A `View` wraps a set of children for {@link ui/ViewManager.ViewManager}.\n * It is not intended to be used directly\n *\n * @class View\n * @memberof ui/ViewManager\n * @private\n */\nclass View extends React.Component {\n\n\tstatic propTypes = /** @lends ui/ViewManager.View.prototype */ {\n\t\tchildren: PropTypes.node.isRequired,\n\n\t\t/**\n\t\t * Time in milliseconds to complete a transition\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tduration: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * Set to `true` when the View should 'appear' without transitioning into the viewport\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tappearing: PropTypes.bool,\n\n\t\t/**\n\t\t * Arranger to control the animation\n\t\t *\n\t\t * @type {Arranger}\n\t\t * @public\n\t\t */\n\t\tarranger: shape,\n\n\t\t/**\n\t\t * An object containing properties to be passed to each child.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tchildProps: PropTypes.object,\n\n\t\t/**\n\t\t * Time, in milliseconds, to wait after a view has entered to inform it by passing the\n\t\t * `enteringProp` as `false`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tenteringDelay: PropTypes.number,\n\n\t\t/**\n\t\t * Name of the property to pass to the wrapped view to indicate when it is entering the\n\t\t * viewport. When `true`, the view has been created but has not transitioned into place.\n\t\t * When `false`, the view has finished its transition.\n\t\t *\n\t\t * The notification can be delayed by setting `enteringDelay`. If not set, the view will not\n\t\t * be notified of the change in transition.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tenteringProp: PropTypes.string,\n\n\t\t/**\n\t\t * Index of the currently 'active' view.\n\t\t *\n\t\t * @type {Number}\n\t\t */\n\t\tindex: PropTypes.number,\n\n\t\t/**\n\t\t * When `true`, indicates if a view is currently leaving.\n\t\t *\n\t\t * @type {Boolean}\n\t\t */\n\t\tleaving: PropTypes.bool,\n\n\t\t/**\n\t\t * When `true`, indicates if the transition should be animated\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default true\n\t\t * @public\n\t\t */\n\t\tnoAnimation: PropTypes.bool,\n\n\t\t/**\n\t\t * Index of the previously 'active' view.\n\t\t *\n\t\t * @type {Number}\n\t\t */\n\t\tpreviousIndex: PropTypes.number,\n\n\t\t/**\n\t\t * When `true`, indicates if the transition should be reversed. The effect depends on how the provided\n\t\t * `arranger` handles reversal.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t */\n\t\treverseTransition: PropTypes.bool,\n\n\t\t/**\n\t\t * When `true`, indicates the current locale uses right-to-left reading order.\n\t\t *\n\t\t * The effect depends on how the provided `arranger` handles this option.\n\t\t *\n\t\t * @type {Boolean}\n\t\t */\n\t\trtl: PropTypes.bool\n\t};\n\n\tstatic defaultProps = {\n\t\tappearing: false,\n\t\tenteringDelay: 0,\n\t\tindex: 0,\n\t\treverseTransition: false\n\t};\n\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.animation = null;\n\t\tthis.state = {\n\t\t\tentering: !props.appearing\n\t\t};\n\t}\n\n\tshouldComponentUpdate (nextProps) {\n\t\tif (nextProps.leaving) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tcomponentDidUpdate (prevProps) {\n\t\tthis.changeDirection = this.animation ? this.props.reverseTransition !== prevProps.reverseTransition : false;\n\t}\n\n\tcomponentWillUnmount () {\n\t\tthis.enteringJob.stop();\n\t\tthis.node = null;\n\t\tif (this.animation) {\n\t\t\tthis.animation.cancel();\n\t\t}\n\t}\n\n\tenteringJob = new Job(() => {\n\t\tthis.setState(clearEntering);\n\t});\n\n\tcomponentWillAppear (callback) {\n\t\tconst {arranger} = this.props;\n\t\tif (arranger && arranger.stay) {\n\t\t\tthis.prepareTransition(arranger.stay, callback, true);\n\t\t} else {\n\t\t\tcallback();\n\t\t}\n\t}\n\n\tcomponentDidAppear () {\n\t\tthis.setState(clearEntering);\n\t}\n\n\t// This is called at the same time as componentDidMount() for components added to an existing\n\t// TransitionGroup. It will block other animations from occurring until callback is called. It\n\t// will not be called on the initial render of a TransitionGroup.\n\tcomponentWillEnter (callback) {\n\t\tconst {arranger, reverseTransition} = this.props;\n\t\tif (arranger) {\n\t\t\tthis.prepareTransition(reverseTransition ? arranger.leave : arranger.enter, callback);\n\t\t} else {\n\t\t\tcallback();\n\t\t}\n\t}\n\n\tcomponentDidEnter () {\n\t\tconst {enteringDelay, enteringProp} = this.props;\n\n\t\tif (enteringProp) {\n\t\t\t// FIXME: `startRafAfter` is a temporary solution using rAF. We need a better way to handle\n\t\t\t// transition cycle and component life cycle to be in sync. See ENYO-4835.\n\t\t\tthis.enteringJob.startRafAfter(enteringDelay);\n\t\t}\n\t}\n\n\tcomponentWillStay (callback) {\n\t\tconst {arranger} = this.props;\n\t\tif (arranger && arranger.stay) {\n\t\t\tthis.prepareTransition(arranger.stay, callback);\n\t\t} else {\n\t\t\tcallback();\n\t\t}\n\t}\n\n\t// This is called when the child has been removed from the ReactTransitionGroup. Though the\n\t// child has been removed, ReactTransitionGroup will keep it in the DOM until callback is\n\t// called.\n\tcomponentWillLeave (callback) {\n\t\tconst {arranger, reverseTransition} = this.props;\n\t\tthis.enteringJob.stop();\n\t\tif (arranger) {\n\t\t\tthis.prepareTransition(reverseTransition ? arranger.enter : arranger.leave, callback);\n\t\t} else {\n\t\t\tcallback();\n\t\t}\n\t}\n\n\t/**\n\t * Initiates a new transition\n\t *\n\t * @param\t{Function}\tarranger\t\tArranger function to call (enter, leave)\n\t * @param\t{Function}\tcallback\t\tCompletion callback\n\t * @param\t{Boolean}\t[noAnimation]\t`true` to disable animation for this transition\n\t * @returns {undefined}\n\t * @private\n\t */\n\tprepareTransition = (arranger, callback, noAnimation) => {\n\t\tconst {duration, index, previousIndex = index, reverseTransition, rtl} = this.props;\n\n\t\t// Need to ensure that we have a valid node reference before we animation. Sometimes, React\n\t\t// will replace the node after mount causing a reference cached there to be invalid.\n\t\t// eslint-disable-next-line react/no-find-dom-node\n\t\tthis.node = ReactDOM.findDOMNode(this);\n\n\t\tif (this.animation && this.animation.playState !== 'finished' && this.changeDirection) {\n\t\t\tthis.animation.reverse();\n\t\t} else {\n\t\t\tthis.animation = arranger({\n\t\t\t\tfrom: previousIndex,\n\t\t\t\tnode: this.node,\n\t\t\t\treverse: reverseTransition,\n\t\t\t\trtl,\n\t\t\t\tto: index,\n\t\t\t\tfill: 'forwards',\n\t\t\t\tduration\n\t\t\t});\n\t\t}\n\n\t\t// Must set a new handler here to ensure the right callback is invoked\n\t\tthis.animation.onfinish = () => {\n\t\t\tthis.animation = null;\n\t\t\t// Possible for the animation callback to still be fired after the node has been\n\t\t\t// umounted if it finished before the unmount can cancel it so we check for that.\n\t\t\tif (this.node) {\n\t\t\t\tcallback();\n\t\t\t}\n\t\t};\n\n\t\t// disable animation when the instance or props flag is true\n\t\tif (noAnimation || this.props.noAnimation) {\n\t\t\tthis.animation.finish();\n\t\t}\n\t};\n\n\trender () {\n\t\tconst {enteringProp, children, childProps} = this.props;\n\n\t\tif (enteringProp || childProps) {\n\t\t\tconst props = Object.assign({}, childProps);\n\t\t\tif (enteringProp) {\n\t\t\t\tprops[enteringProp] = this.state.entering;\n\t\t\t}\n\n\t\t\treturn React.cloneElement(children, props);\n\t\t} else {\n\t\t\treturn React.Children.only(children);\n\t\t}\n\t}\n}\n\n// Not a true render method but instead a wrapper for TransitionGroup to wrap arbitrary children\n// with a TransitionGroup-compatible child that supports animation\n//\n// eslint-disable-next-line enact/display-name\nconst wrapWithView = (config) => (child) => {\n\treturn <View {...config}>{child}</View>;\n};\n\nexport default View;\nexport {View, wrapWithView};\n","/**\n * A component that manages the transitions of views.\n *\n * @module ui/ViewManager\n * @exports shape\n * @exports SlideArranger\n * @exports SlideBottomArranger\n * @exports SlideLeftArranger\n * @exports SlideRightArranger\n * @exports SlideTopArranger\n * @exports ViewManager\n * @exports ViewManagerBase\n * @exports ViewManagerDecorator\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport handle, {adaptEvent, call, forward} from '@enact/core/handle';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ForwardRef from '../ForwardRef';\n\nimport {shape} from './Arranger';\nimport TransitionGroup from './TransitionGroup';\nimport {wrapWithView} from './View';\n\n/**\n * The base `ViewManager` component, without\n * [ViewManagerDecorator]{@link ui/ViewManager.ViewManagerDecorator} applied.\n *\n * @class ViewManagerBase\n * @memberof ui/ViewManager\n * @ui\n * @public\n */\nconst ViewManagerBase = class extends React.Component {\n\tstatic displayName = 'ViewManager';\n\n\tstatic propTypes = /** @lends ui/ViewManager.ViewManagerBase.prototype */ {\n\t\t/**\n\t\t * Arranger to control the animation\n\t\t *\n\t\t * @type {Arranger}\n\t\t */\n\t\tarranger: shape,\n\n\t\t/**\n\t\t * An object containing properties to be passed to each child.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tchildProps: PropTypes.object,\n\n\t\t/**\n\t\t * Views to be managed.\n\t\t *\n\t\t * May be any renderable component including custom React components or primitive DOM nodes.\n\t\t *\n\t\t * @type {Node}\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Type of component wrapping the children. May be a DOM node or a custom React component.\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @default 'div'\n\t\t */\n\t\tcomponent: EnactPropTypes.renderable,\n\n\t\t/**\n\t\t * Called with a reference to [component]{@link ui/ViewManager.ViewManager#component}\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @private\n\t\t */\n\t\tcomponentRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Time in milliseconds to complete a transition\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 300\n\t\t */\n\t\tduration: PropTypes.number,\n\n\t\t/**\n\t\t * Index of last visible view.\n\t\t *\n\t\t * Defaults to the current value of `index`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default value of index\n\t\t */\n\t\tend: PropTypes.number,\n\n\t\t/**\n\t\t * Time, in milliseconds, to wait after a view has entered to inform it by pass the\n\t\t * `enteringProp` as false.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t */\n\t\tenteringDelay: PropTypes.number,\n\n\t\t/**\n\t\t * Name of the property to pass to the wrapped view to indicate when it is entering the\n\t\t * viewport.\n\t\t *\n\t\t * When `true`, the view has been created but has not transitioned into place.\n\t\t * When `false`, the view has finished its transition.\n\t\t *\n\t\t * The notification can be delayed by setting `enteringDelay`. If not set, the view will not\n\t\t * be notified of the change in transition.\n\t\t *\n\t\t * @type {String}\n\t\t */\n\t\tenteringProp: PropTypes.string,\n\n\t\t/**\n\t\t * Index of active view\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t */\n\t\tindex: PropTypes.number,\n\n\t\t/**\n\t\t * Indicates if the transition should be animated\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t */\n\t\tnoAnimation: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when each view is rendered during initial construction.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonAppear: PropTypes.func,\n\n\t\t/**\n\t\t * Called when each view completes its transition into the viewport.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonEnter: PropTypes.func,\n\n\t\t/**\n\t\t * Called when each view completes its transition out of the viewport.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonLeave: PropTypes.func,\n\n\t\t/**\n\t\t * Called when each view completes its transition within the viewport.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonStay: PropTypes.func,\n\n\t\t/**\n\t\t * Called once when all views have completed their transition.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonTransition: PropTypes.func,\n\n\t\t/**\n\t\t * Called once before views begin their transition.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonWillTransition: PropTypes.func,\n\n\t\t/**\n\t\t * Explicitly sets the transition direction.\n\t\t *\n\t\t * If omitted, the direction is determined automaticallly based on the change of index or a\n\t\t * string comparison of the first child's key.\n\t\t *\n\t\t * @type {Boolean}\n\t\t */\n\t\treverseTransition: PropTypes.bool,\n\n\t\t/**\n\t\t * Indicates the current locale uses right-to-left reading order.\n\t\t *\n\t\t * `rtl` is passed to the `arranger` in order to alter the animation (e.g. reversing the\n\t\t * horizontal direction).\n\t\t *\n\t\t * @type {Boolean}\n\t\t */\n\t\trtl: PropTypes.bool,\n\n\t\t/**\n\t\t * Index of first visible view. Defaults to the current value of `index`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default value of index\n\t\t */\n\t\tstart: PropTypes.number\n\t};\n\n\tstatic defaultProps = {\n\t\tcomponent: 'div',\n\t\tduration: 300,\n\t\tindex: 0\n\t};\n\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tprevIndex: null,\n\t\t\treverseTransition: null\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps (props, state) {\n\t\tif (props.reverseTransition != null) {\n\t\t\treturn {\n\t\t\t\treverseTransition: !!props.reverseTransition\n\t\t\t};\n\t\t} else if (props.index !== state.index) {\n\t\t\treturn {\n\t\t\t\tindex: props.index,\n\t\t\t\tprevIndex: state.index,\n\t\t\t\treverseTransition: state.index > props.index\n\t\t\t};\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tmakeTransitionEvent () {\n\t\treturn {index: this.props.index, previousIndex: this.state.prevIndex};\n\t}\n\n\thandleTransition = handle(\n\t\tadaptEvent(\n\t\t\tcall('makeTransitionEvent'),\n\t\t\tforward('onTransition')\n\t\t)\n\t).bindAs(this, 'handleTransition');\n\n\thandleWillTransition = handle(\n\t\tadaptEvent(\n\t\t\tcall('makeTransitionEvent'),\n\t\t\tforward('onWillTransition')\n\t\t)\n\t).bindAs(this, 'handleWillTransition');\n\n\trender () {\n\t\tconst {arranger, childProps, children, duration, index, noAnimation, enteringDelay, enteringProp, rtl, ...rest} = this.props;\n\t\tlet {end = index, start = index} = this.props;\n\t\tconst {prevIndex: previousIndex, reverseTransition} = this.state;\n\t\tconst childrenList = React.Children.toArray(children);\n\n\t\tif (index > end) end = index;\n\t\tif (index < start) start = index;\n\n\t\tconst childCount = end - start + 1;\n\t\tconst size = (noAnimation || !arranger) ? childCount : childCount + 1;\n\n\t\tconst views = childrenList.slice(start, start + childCount);\n\t\tconst childFactory = wrapWithView({\n\t\t\tarranger,\n\t\t\tduration,\n\t\t\tindex,\n\t\t\tnoAnimation,\n\t\t\tpreviousIndex,\n\t\t\treverseTransition,\n\t\t\tenteringDelay,\n\t\t\tenteringProp,\n\t\t\tchildProps,\n\t\t\trtl: Boolean(rtl)\n\t\t});\n\n\t\tdelete rest.end;\n\t\tdelete rest.reverseTransition;\n\t\tdelete rest.start;\n\n\t\treturn (\n\t\t\t<TransitionGroup\n\t\t\t\t{...rest}\n\t\t\t\tchildFactory={childFactory}\n\t\t\t\tcurrentIndex={index}\n\t\t\t\tonTransition={this.handleTransition}\n\t\t\t\tonWillTransition={this.handleWillTransition}\n\t\t\t\tsize={size}\n\t\t\t>\n\t\t\t\t{views}\n\t\t\t</TransitionGroup>\n\t\t);\n\t}\n};\n\n/**\n * Applies ViewManager behaviors.\n *\n * @hoc\n * @memberof ui/ViewManager\n * @mixes ui/ForwardRef.ForwardRef\n * @public\n */\nconst ViewManagerDecorator = ForwardRef({prop: 'componentRef'});\n\n/**\n * A `ViewManager` controls the visibility of a configurable number of views, allowing for them to be\n * transitioned on and off the viewport.\n *\n * @class ViewManager\n * @memberof ui/ViewManager\n * @extends ui/ViewManager.ViewManagerBase\n * @mixes ui/ViewManager.ViewManagerDecorator\n * @ui\n * @public\n */\nconst ViewManager = ViewManagerDecorator(ViewManagerBase);\n\nexport default ViewManager;\nexport {\n\tViewManager,\n\tViewManagerBase,\n\tViewManagerDecorator\n};\nexport * from './Arranger';\n","/**\n * Agate styled text block components and behaviors.\n *\n * @example\n * <BodyText centered>Hello Enact!</BodyText>\n *\n * @module agate/BodyText\n * @exports BodyText\n * @exports BodyTextBase\n * @exports BodyTextDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport UiBodyText from '@enact/ui/BodyText';\nimport Pure from '@enact/ui/internal/Pure';\n\nimport {MarqueeDecorator} from '@enact/ui/Marquee';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './BodyText.module.less';\n\n// Create a Marquee using BodyText as the base\nconst MarqueeBodyText = MarqueeDecorator(UiBodyText);\n\n/**\n * A simple text block component.\n *\n * This component is most often not used directly but may be composed within another component as it\n * is within [BodyText]{@link agate/BodyText.BodyText}.\n *\n * @class BodyTextBase\n * @memberof agate/BodyText\n * @extends ui/BodyText.BodyText\n * @ui\n * @public\n */\nconst BodyTextBase = kind({\n\tname: 'BodyText',\n\n\tpropTypes: /** @lends agate/BodyText.BodyTextBase.prototype */ {\n\t\t/**\n\t\t * Centers the contents.\n\t\t *\n\t\t * Applies the `centered` CSS class which can be customized by\n\t\t * [theming]{@link /docs/developer-guide/theming/}.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tcentered: PropTypes.bool,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `bodyText` - The root class name\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Toggles multi-line (`false`) vs single-line (`true`) behavior. `noWrap` mode\n\t\t * automatically enables {@link ui/Marquee} so long text isn't permanently occluded.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tnoWrap: PropTypes.bool,\n\n\t\t/**\n\t\t * Sets the text size to one of the preset sizes.\n\t\t * Available sizes: 'large' (default) and 'small'.\n\t\t *\n\t\t * @type {('small'|'large')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['small', 'large'])\n\t},\n\n\tdefaultProps: {\n\t\tcentered: false,\n\t\tnoWrap: false,\n\t\tsize: 'large'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tpublicClassNames: 'bodyText'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({noWrap, size, styler}) => styler.append(size, {noWrap})\n\t},\n\n\trender: ({centered, css, noWrap, ...rest}) => {\n\t\tdelete rest.size;\n\n\t\tif (noWrap) {\n\t\t\treturn (\n\t\t\t\t<MarqueeBodyText\n\t\t\t\t\tcomponent=\"div\" // Assign a new component to BodyText, since DIV is not allowed inside a P tag (the default for BodyText)\n\t\t\t\t\tmarqueeOn=\"render\"\n\t\t\t\t\t{...rest}\n\t\t\t\t\talignment={centered ? 'center' : null} // Centering Marquee\n\t\t\t\t\tcentered={centered} // Centering UiBodyText\n\t\t\t\t\tcss={css}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<UiBodyText\n\t\t\t\t{...rest}\n\t\t\t\tcentered={centered}\n\t\t\t\tcss={css}\n\t\t\t/>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [BodyText]{@link agate/BodyText.BodyTextBase}.\n *\n * @hoc\n * @memberof agate/BodyText\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst BodyTextDecorator = compose(\n\tPure,\n\tSkinnable\n);\n\n/**\n * A simple text block component, ready to use in Agate applications.\n *\n * `BodyText` may be used to display a block of text and is sized and spaced appropriately for a\n * Agate application.\n *\n * Usage:\n * ```\n * <BodyText>\n *  I have a Ham radio. There are many like it, but this one is mine.\n * </BodyText>\n * ```\n *\n * @class BodyText\n * @memberof agate/BodyText\n * @extends agate/BodyText.BodyTextBase\n * @mixes agate/BodyText.BodyTextDecorator\n * @ui\n * @public\n */\nconst BodyText = BodyTextDecorator(BodyTextBase);\n\nexport default BodyText;\nexport {\n\tBodyText,\n\tBodyTextBase,\n\tBodyTextDecorator\n};\n","/**\n * Provides Agate-themed slider components and behaviors.\n *\n * @example\n * <Slider\n *   defaultValue={-30}\n *   max={100}\n *   min={-100}\n *   step={10}\n * />\n *\n * @module agate/Slider\n * @exports Slider\n * @exports SliderBase\n * @exports SliderDecorator\n */\n\n// TODO: Add 'activated' styling for slider (If 5-way is needed)\n\nimport {forKey, forProp, forward, forwardWithPrevent, handle} from '@enact/core/handle';\nimport kind from '@enact/core/kind';\nimport Spottable from '@enact/spotlight/Spottable';\nimport Changeable from '@enact/ui/Changeable';\nimport ProgressBar from '@enact/ui/ProgressBar';\nimport Pure from '@enact/ui/internal/Pure';\nimport Slottable from '@enact/ui/Slottable';\nimport UiSlider from '@enact/ui/Slider';\nimport PropTypes from 'prop-types';\nimport anyPass from 'ramda/src/anyPass';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport Skinnable from '../Skinnable';\n\nimport SliderBehaviorDecorator from './SliderBehaviorDecorator';\nimport {\n\thandleDecrement,\n\thandleIncrement\n} from './utils';\n\nimport componentCss from './Slider.module.less';\n\n/**\n * Range-selection input component.\n *\n * @class SliderBase\n * @extends ui/Slider.SliderBase\n * @memberof agate/Slider\n * @ui\n * @public\n */\nconst SliderBase = kind({\n\tname: 'Slider',\n\n\tpropTypes: /** @lends agate/Slider.SliderBase.prototype */ {\n\t\t/**\n\t\t * Activates the component when focused so that it may be manipulated via the directional\n\t\t * input keys.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tactivateOnFocus: PropTypes.bool,\n\n\t\t/**\n\t\t * Sets the knob to selected state and allows it to move via 5-way controls.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tactive: PropTypes.bool,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `slider` - The root component class\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Indicates that the slider has gained focus.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tfocused: PropTypes.bool,\n\n\t\t/**\n\t\t * The amount to increment or decrement the position of the knob via 5-way controls.\n\t\t *\n\t\t * If not specified, `step` is used for the default value.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tknobStep: PropTypes.number,\n\n\t\t/**\n\t\t * The maximum value of the slider.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 100\n\t\t * @public\n\t\t */\n\t\tmax: PropTypes.number,\n\n\t\t/**\n\t\t * The minimum value of the slider.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tmin: PropTypes.number,\n\n\t\t/**\n\t\t * Called when the knob is activated or deactivated by selecting it via 5-way\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonActivate: PropTypes.func,\n\n\t\t/**\n\t\t * Called when a key is pressed down while the slider is focused.\n\t\t *\n\t\t * When a directional key is pressed down and the knob is active (either by first\n\t\t * pressing enter or when `activateOnFocus` is enabled), the Slider will increment or\n\t\t * decrement the current value and emit an `onChange` event. This default behavior can be\n\t\t * prevented by calling `preventDefault()` on the event passed to this callback.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonKeyDown: PropTypes.func,\n\n\t\t/**\n\t\t * Called when a key is released while the slider is focused.\n\t\t *\n\t\t * When the enter key is released and `activateOnFocus` is not enabled, the slider will be\n\t\t * activated to enable incrementing or decrementing the value via directional keys. This\n\t\t * default behavior can be prevented by calling `preventDefault()` on the event passed to\n\t\t * this callback.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonKeyUp: PropTypes.func,\n\n\t\t/**\n\t\t * Sets the point, as a proportion between 0 and 1, from which the slider is filled.\n\t\t *\n\t\t * Applies to both the slider's `value` and `backgroundProgress`. In both cases,\n\t\t * setting the value of `progressAnchor` will cause the slider to fill from that point\n\t\t * down, when `value` or `backgroundProgress` is proportionally less than the anchor, or up,\n\t\t * when `value` or `backgroundProgress` is proportionally greater than the anchor, rather\n\t\t * than always from the start of the slider.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tprogressAnchor: PropTypes.number,\n\n\t\t/**\n\t\t * The amount to increment or decrement the value.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t * @public\n\t\t */\n\t\tstep: PropTypes.number,\n\n\t\t/**\n\t\t * The value of the slider.\n\t\t *\n\t\t * Defaults to the value of `min`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.number\n\t},\n\n\tdefaultProps: {\n\t\tactivateOnFocus: false,\n\t\tactive: false,\n\t\tdisabled: false,\n\t\tmax: 100,\n\t\tmin: 0,\n\t\tprogressAnchor: 0,\n\t\tstep: 1\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'slider',\n\t\tpublicClassNames: true\n\t},\n\n\thandlers: {\n\t\tonBlur: handle(\n\t\t\tforward('onBlur'),\n\t\t\tforProp('active', true),\n\t\t\tforward('onActivate')\n\t\t),\n\t\tonKeyDown: handle(\n\t\t\tforwardWithPrevent('onKeyDown'),\n\t\t\tanyPass([\n\t\t\t\thandleIncrement,\n\t\t\t\thandleDecrement\n\t\t\t])\n\t\t),\n\t\tonKeyUp: handle(\n\t\t\tforwardWithPrevent('onKeyUp'),\n\t\t\tforProp('activateOnFocus', false),\n\t\t\tforKey('enter'),\n\t\t\tforward('onActivate')\n\t\t)\n\t},\n\n\tcomputed: {\n\t\tclassName: ({activateOnFocus, active, styler}) => styler.append({\n\t\t\tactivateOnFocus,\n\t\t\tactive\n\t\t})\n\t},\n\n\trender: ({css, ...rest}) => {\n\t\tdelete rest.activateOnFocus;\n\t\tdelete rest.active;\n\t\tdelete rest.focused;\n\t\tdelete rest.knobStep;\n\t\tdelete rest.onActivate;\n\n\t\treturn (\n\t\t\t<UiSlider\n\t\t\t\t{...rest}\n\t\t\t\tcss={css}\n\t\t\t\tprogressBarComponent={\n\t\t\t\t\t<ProgressBar css={css} />\n\t\t\t\t}\n\t\t\t/>\n\t\t);\n\t}\n});\n\n/**\n * Agate-specific slider behaviors to apply to [SliderBase]{@link agate/Slider.SliderBase}.\n *\n * @hoc\n * @memberof agate/Slider\n * @mixes ui/Changeable.Changeable\n * @mixes spotlight/Spottable.Spottable\n * @mixes agate/Skinnable.Skinnable\n * @mixes ui/Slottable.Slottable\n * @mixes ui/Slider.SliderDecorator\n * @public\n */\nconst SliderDecorator = compose(\n\tPure,\n\tChangeable,\n\tSliderBehaviorDecorator,\n\tSpottable,\n\tSlottable({slots: ['knob']}),\n\tSkinnable\n);\n\n/**\n * Slider input with Agate styling, [`Spottable`]{@link spotlight/Spottable.Spottable},\n * [Touchable]{@link ui/Touchable} and [`SliderDecorator`]{@link agate/Slider.SliderDecorator}\n * applied.\n *\n * By default, `Slider` maintains the state of its `value` property. Supply the `defaultValue`\n * property to control its initial value. If you wish to directly control updates to the\n * component, supply a value to `value` at creation time and update it in response to `onChange`\n * events.\n *\n * @class Slider\n * @memberof agate/Slider\n * @mixes agate/Slider.SliderDecorator\n * @ui\n * @public\n */\n\n/**\n * Overrides the `aria-valuetext` for the slider.\n *\n * By default, `aria-valuetext` is set to the current value. This should only be used when\n * the parent controls the value of the slider directly through the props.\n *\n * @name aria-valuetext\n * @memberof agate/Slider.Slider.prototype\n * @type {String|Number}\n * @public\n */\n\nconst Slider = SliderDecorator(SliderBase);\n\nexport default Slider;\nexport {\n\tSlider,\n\tSliderBase,\n\tSliderDecorator\n};\n","/**\n * Agate styled Header.\n *\n * @example\n * <Header title=\"Profile\" titleAbove=\"Settings\" noLine>\n * \t<Button>Close</Button>\n * </Header>\n *\n * @module agate/Header\n * @exports Header\n */\n\nimport kind from '@enact/core/kind';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {Column, Row, Layout} from '@enact/ui/Layout';\nimport Slottable from '@enact/ui/Slottable';\n\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './Header.module.less';\n\n/**\n * A header component for a Panel with a `title`, `titleAbove`, `subtitle`\n *\n * @class Header\n * @memberof agate/Header\n * @ui\n * @public\n */\nconst HeaderBase = kind({\n\tname: 'Header',\n\n\tpropTypes: /** @lends agate/Header.Header.prototype */ {\n\t\t/**\n\t\t * Title of the header.\n\t\t *\n\t\t * This is a [`slot`]{@link ui/Slottable.Slottable}, so it can be used as a tag-name inside\n\t\t * this component.\n\t\t *\n\t\t * Example:\n\t\t * ```\n\t\t *  <Header>\n\t\t *  \t<titleAbove>Introducing...</titleAbove>\n\t\t *  \t<title>Example Header Title</title>\n\t\t *  \t<subtitle>The Adventure Continues</subtitle>\n\t\t *  </Header>\n\t\t * ```\n\t\t *\n\t\t * @required\n\t\t * @type {String}\n\t\t */\n\t\ttitle: PropTypes.string.isRequired,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `header` - The root class name\n\t\t * * `titleContainer` - The background title container\n\t\t * * `subtitle` - Applied to `subtitle`\n\t\t * * `title` - Applied to `title`\n\t\t * * `titleAbove` - Applied to `titleAbove`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Hides the horizontal-rule (line) under the component\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\thideLine: PropTypes.bool,\n\n\t\t/**\n\t\t * Text displayed below the title.\n\t\t *\n\t\t * This is a [`slot`]{@link ui/Slottable.Slottable}, so it can be used as a tag-name inside\n\t\t * this component.\n\t\t *\n\t\t * @type {String}\n\t\t */\n\t\tsubtitle: PropTypes.string,\n\n\t\t/**\n\t\t * Text displayed above the title.\n\t\t *\n\t\t * This is a [`slot`]{@link ui/Slottable.Slottable}, so it can be used as a tag-name inside\n\t\t * this component.\n\t\t *\n\t\t * @type {String}\n\t\t */\n\t\ttitleAbove: PropTypes.string\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'header',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tariaLabel: ({title, subtitle}) => {\n\t\t\treturn (subtitle != null && subtitle !== '') ?\n\t\t\t\ttitle + ' ' + subtitle :\n\t\t\t\ttitle;\n\t\t},\n\t\tclassName: ({hideLine, styler}) => styler.append({hideLine, standard: true}),\n\t\tsubtitleComponent: ({css, subtitle}) => {\n\t\t\treturn (subtitle != null && subtitle !== '') ? <h2 className={css.subtitle}>{subtitle}</h2> : null;\n\t\t},\n\t\ttitleAboveComponent: ({css, titleAbove}) => {\n\t\t\treturn (titleAbove != null && titleAbove !== '') ? <h2 className={css.titleAbove}>{titleAbove}</h2> : null;\n\t\t}\n\t},\n\n\trender: ({children, css, title, titleAboveComponent, subtitleComponent, ...rest}) => {\n\t\tdelete rest.hideLine;\n\t\tdelete rest.subtitle;\n\t\tdelete rest.titleAbove;\n\n\t\treturn (\n\t\t\t<Row component=\"header\" aria-label={title} {...rest}>\n\t\t\t\t<Column className={css.titleContainer}>\n\t\t\t\t\t{titleAboveComponent}\n\t\t\t\t\t<h1 className={css.title}>{title}</h1>\n\t\t\t\t\t{subtitleComponent}\n\t\t\t\t</Column>\n\t\t\t\t{children ? <Layout className={css.endSlot}>{children}</Layout> : null}\n\t\t\t</Row>\n\t\t);\n\t}\n});\n\n// Note that we only export this (even as HeaderBase). HeaderBase is not useful on its own.\nconst Header = Slottable({slots: ['subtitle', 'title', 'titleAbove']}, Skinnable(HeaderBase));\n\n// Set up Header so when it's used in a slottable layout (like Panel), it is automatically\n// recognized as this specific slot.\nHeader.defaultSlot = 'header';\n\nexport default Header;\nexport {Header, HeaderBase};\n","/**\n * A component that can transition its children components onto the screen.\n *\n * Transitions whether that's from off the edge of the screen or hidden inside or behind an\n * already-on-screen component. You can switch types of transitions using the `type` property,\n * change the direction they come in from using the `direction` property, or even adjust the\n * transition timing function using `timingFunction`.\n *\n * @example\n * <Transition visible={true} type=\"slide\">\n * \t<div>Set `visible` above to `false` to hide this element.</div>\n * </Transition>\n *\n * @module ui/Transition\n * @exports Transition\n * @exports TransitionBase\n */\n\nimport {forward} from '@enact/core/handle';\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport {Job} from '@enact/core/util';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {ResizeContext} from '../Resizable';\n\nimport componentCss from './Transition.module.less';\n\nconst forwardTransitionEnd = forward('onTransitionEnd');\nconst forwardOnShow = forward('onShow');\nconst forwardOnHide = forward('onHide');\n\n/**\n * The stateless structure of the component.\n *\n * In case you want to provide all of the state yourself.\n * In general, you'll probably want to use the `Transition` instead of `TransitionBase`.\n *\n * @class TransitionBase\n * @ui\n * @memberof ui/Transition\n * @public\n */\nconst TransitionBase = kind({\n\tname: 'TransitionBase',\n\n\tpropTypes: /** @lends ui/Transition.TransitionBase.prototype */ {\n\t\t/**\n\t\t * Provide a function to get the reference to the child node (the one with the content) at\n\t\t * render time.\n\t\t *\n\t\t *Useful if you need to measure or interact with the node directly.\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @default null\n\t\t * @public\n\t\t */\n\t\tchildRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * The node to be transitioned.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * The height of the transition when `type` is set to `'clip'`, used when direction is\n\t\t * 'left' or 'right'.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default null\n\t\t * @public\n\t\t */\n\t\tclipHeight: PropTypes.number,\n\n\t\t/**\n\t\t * The width of the transition when `type` is set to `'clip'`, used when direction is 'left'\n\t\t * or 'right'.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default null\n\t\t * @public\n\t\t */\n\t\tclipWidth: PropTypes.number,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `transition`     - The root component class\n\t\t * * `inner`          - The element inside the transition. This is the container for the transitioning content.\n\t\t * * `shown`          - Applied when content is present (visible), related to the `visible` prop/state\n\t\t * * `hidden`         - Applied when content is not present (hiding), related to the `visible` prop/state\n\t\t * * `slide`          - Applied when the `slide` `type` is set\n\t\t * * `fade`           - Applied when the `fade` `type` is set\n\t\t * * `clip`           - Applied when the `clip` `type` is set\n\t\t * * `up`             - Applied when the `direction` `up` is set\n\t\t * * `right`          - Applied when the `direction` `right` is set\n\t\t * * `down`           - Applied when the `direction` `down` is set\n\t\t * * `left`           - Applied when the `direction` `left` is set\n\t\t * * `short`          - Applied when the `duration` `short` is set\n\t\t * * `medium`         - Applied when the `duration` `medium` is set\n\t\t * * `long`           - Applied when the `duration` `long` is set\n\t\t * * `ease`           - Applied when the `timingFunction` `ease` is set\n\t\t * * `ease-in`        - Applied when the `timingFunction` `ease-in` is set\n\t\t * * `ease-out`       - Applied when the `timingFunction` `ease-out` is set\n\t\t * * `ease-in-out`    - Applied when the `timingFunction` `ease-in-out` is set\n\t\t * * `ease-in-quart`  - Applied when the `timingFunction` `ease-in-quart` is set\n\t\t * * `ease-out-quart` - Applied when the `timingFunction` `ease-out-quart` is set\n\t\t * * `linear`         - Applied when the `timingFunction` `linear` is set\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Sets the direction of transition. Where the component will move *to*; the destination.\n\t\t * Supported directions are: `'up'`, `'right'`, `'down'`, `'left'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'up'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['up', 'right', 'down', 'left']),\n\n\t\t/**\n\t\t * Controls how long the transition should take.\n\t\t * Supported preset durations are: `'short'` (250ms), `'medium'` (500ms), and `'long'` (1s).\n\t\t * `'medium'` (500ms) is default when no others are specified.\n\t\t * Any valid CSS duration value is also accepted, e.g. \"200ms\" or \"3s\". Pure numeric values\n\t\t * are also supported and treated as milliseconds.\n\t\t *\n\t\t * @type {String|Number}\n\t\t * @default 'medium'\n\t\t * @public\n\t\t */\n\t\tduration: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n\t\t/**\n\t\t * Disables transition animation.\n\t\t *\n\t\t * When `false`, visibility changes animate.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tnoAnimation: PropTypes.bool,\n\n\t\t/**\n\t\t * The transition timing function.\n\t\t *\n\t\t * * Supported function names are: `ease`, `ease-in`, `ease-out`, `ease-in-out`, `ease-in-quart`,\n\t\t * `ease-out-quart`, and `linear`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'ease-in-out'\n\t\t * @public\n\t\t */\n\t\ttimingFunction: PropTypes.oneOf([\n\t\t\t'ease',\n\t\t\t'ease-in',\n\t\t\t'ease-out',\n\t\t\t'ease-in-out',\n\t\t\t'ease-in-quart',\n\t\t\t'ease-out-quart',\n\t\t\t'linear'\n\t\t]),\n\n\t\t/**\n\t\t * The type of transition to affect the content.\n\t\t *\n\t\t * * Supported types are: `'slide'`, `'clip'`, and `'fade'`.\n\t\t *\n\t\t * Details on types:\n\t\t *  * `'slide'` - Typically used for bringing something which is off the edge of the screen,\n\t\t *  \tand not visible, onto the screen. Think of a popup, toast, notification, dialog, or\n\t\t *  \tan overlaying menu. This requires no re-rendering or repainting of the screen during\n\t\t *  \tthe transition, making it very performant. However, this does not affect layout at\n\t\t *  \tall, which makes it less useful for transitioning from a place already on the\n\t\t *  \tscreen.\n\t\t *  * `'clip'` - This is useful for showing a component that transitions-in from a location\n\t\t *  \tthat is already on the screen. Examples would be an expanding header or an\n\t\t *  \taccordion. This type does affects layout, its current size will push other sibling\n\t\t *  \telements to make room for itself. Because of this, repainting the layout does happen\n\t\t *  \tduring transition.\n\t\t *  * `'fade'` - Fade the components onto the screen, from 0 opacity (completely invisible)\n\t\t *  \tto 1 (full visibility). Pretty basic, but useful for fading on/off a tooltip, a\n\t\t *  \tmenu, a panel, or even view contents. This does not affect layout at all.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'slide'\n\t\t * @public\n\t\t */\n\t\ttype: PropTypes.oneOf(['slide', 'clip', 'fade']),\n\n\t\t/**\n\t\t * Sets the visibility of the component, which determines whether it's on screen or off.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default true\n\t\t * @public\n\t\t */\n\t\tvisible: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tnoAnimation: false,\n\t\tdirection: 'up',\n\t\tduration: 'medium',\n\t\ttimingFunction: 'ease-in-out',\n\t\ttype: 'slide',\n\t\tvisible: true\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'transition',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({css, direction, duration, noAnimation, timingFunction, type, visible, styler}) => styler.append(\n\t\t\tvisible ? 'shown' : 'hidden',\n\t\t\tdirection && css[direction],\n\t\t\t!noAnimation && duration && css[duration],\n\t\t\t!noAnimation && timingFunction && css[timingFunction],\n\t\t\tcss[type]\n\t\t),\n\t\tinnerStyle: ({clipWidth, direction, type}) => {\n\t\t\tif (type === 'clip' && (direction === 'left' || direction === 'right')) {\n\t\t\t\treturn {\n\t\t\t\t\twidth: clipWidth\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\tstyle: ({css, clipHeight, direction, duration, type, visible, style}) => {\n\t\t\tif (type === 'clip') {\n\t\t\t\tstyle = {\n\t\t\t\t\t...style,\n\t\t\t\t\toverflow: 'hidden'\n\t\t\t\t};\n\n\t\t\t\tif (visible && (direction === 'up' || direction === 'down')) {\n\t\t\t\t\tstyle.height = clipHeight;\n\t\t\t\t}\n\t\t\t\t// If duration isn't a known named string, assume it is a CSS duration value\n\t\t\t\tif (duration && !css[duration]) {\n\t\t\t\t\t// If it's a number, assume it's miliseconds, if not, assume it's already a CSS duration string (like \"200ms\" or \"2s\")\n\t\t\t\t\tstyle.transitionDuration = (typeof duration === 'number' ? duration + 'ms' : duration);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn style;\n\t\t}\n\t},\n\n\trender: ({css, childRef, children, innerStyle, ...rest}) => {\n\t\tdelete rest.clipHeight;\n\t\tdelete rest.clipWidth;\n\t\tdelete rest.direction;\n\t\tdelete rest.duration;\n\t\tdelete rest.noAnimation;\n\t\tdelete rest.timingFunction;\n\t\tdelete rest.type;\n\t\tdelete rest.visible;\n\n\t\treturn (\n\t\t\t<div {...rest}>\n\t\t\t\t<div className={css.inner} style={innerStyle} ref={childRef}>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nconst TRANSITION_STATE = {\n\tINIT: 0,\t\t// closed and unmeasured\n\tMEASURE: 1,\t\t// open but need to measure\n\tREADY: 2\t\t// measured and ready\n};\n\n/**\n * A stateful component that allows for applying transitions to its child items via configurable\n * properties and events.\n *\n * @class Transition\n * @ui\n * @memberof ui/Transition\n * @public\n */\nclass Transition extends React.Component {\n\n\tstatic contextType = ResizeContext;\n\n\tstatic propTypes = /** @lends ui/Transition.Transition.prototype */ {\n\t\t/**\n\t\t * The node to be transitioned.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * The direction of transition (i.e. where the component will move *to*; the destination).\n\t\t *\n\t\t * * Supported directions are: `'up'`, `'right'`, `'down'`, `'left'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'up'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['up', 'right', 'down', 'left']),\n\n\t\t/**\n\t\t * Controls how long the transition should take.\n\t\t *\n\t\t * * Supported preset durations are: `'short'` (250ms), `'medium'` (500ms), and `'long'` (1s).\n\t\t * `'medium'` (500ms) is default when no others are specified.\n\t\t *\n\t\t * Any valid CSS duration value is also accepted, e.g. \"200ms\" or \"3s\". Pure numeric values\n\t\t * are also supported and treated as miliseconds.\n\t\t *\n\t\t * @type {String|Number}\n\t\t * @default 'medium'\n\t\t * @public\n\t\t */\n\t\tduration: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n\t\t/**\n\t\t * Disables transition animation.\n\t\t *\n\t\t * When `false`, visibility changes animate.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tnoAnimation: PropTypes.bool,\n\n\t\t/**\n\t\t * Called after transition for hiding is finished.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonHide: PropTypes.func,\n\n\t\t/**\n\t\t * Called after transition for showing is finished.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonShow: PropTypes.func,\n\n\t\t/**\n\t\t * The transition timing function.\n\t\t * Supported function names are: `ease`, `ease-in`, `ease-out`, `ease-in-out`, `ease-in-quart`,\n\t\t * `ease-out-quart`, and `linear`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'ease-in-out'\n\t\t * @public\n\t\t */\n\t\ttimingFunction: PropTypes.oneOf([\n\t\t\t'ease',\n\t\t\t'ease-in',\n\t\t\t'ease-out',\n\t\t\t'ease-in-out',\n\t\t\t'ease-in-quart',\n\t\t\t'ease-out-quart',\n\t\t\t'linear'\n\t\t]),\n\n\t\t/**\n\t\t * The type of transition to affect the content.\n\t\t *\n\t\t * * Supported types are: `'slide'`, `'clip'`, and `'fade'`.\n\t\t *\n\t\t * Details on types:\n\t\t *  * `'slide'` - Typically used for bringing something which is off the edge of the screen,\n\t\t *  \tand not visible, onto the screen. Think of a popup, toast, notification, dialog, or\n\t\t *  \tan overlaying menu. This requires no re-rendering or repainting of the screen during\n\t\t *  \tthe transition, making it very performant. However, this does not affect layout at\n\t\t *  \tall, which makes it less useful for transitioning from a place already on the\n\t\t *  \tscreen.\n\t\t *  * `'clip'` - This is useful for showing a component that transitions-in from a location\n\t\t *  \tthat is already on the screen. Examples would be an expanding header or an\n\t\t *  \taccordion. This type does affects layout, its current size will push other sibling\n\t\t *  \telements to make room for itself. Because of this, repainting the layout does happen\n\t\t *  \tduring transition.\n\t\t *  * `'fade'` - Fade the components onto the screen, from 0 opacity (completely invisible)\n\t\t *  \tto 1 (full visibility). Pretty basic, but useful for fading on/off a tooltip, a\n\t\t *  \tmenu, a panel, or even view contents. This does not affect layout at all.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'slide'\n\t\t * @public\n\t\t */\n\t\ttype: PropTypes.oneOf(['slide', 'clip', 'fade']),\n\n\t\t/**\n\t\t * The visibility of the component, which determines whether it's on the screen or off.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default true\n\t\t * @public\n\t\t */\n\t\tvisible: PropTypes.bool\n\t};\n\n\tstatic defaultProps = {\n\t\tdirection: 'up',\n\t\tduration: 'medium',\n\t\tnoAnimation: false,\n\t\ttimingFunction: 'ease-in-out',\n\t\ttype: 'slide',\n\t\tvisible: true\n\t};\n\n\tconstructor (props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tinitialHeight: null,\n\t\t\tinitialWidth: null,\n\t\t\tprevVisible: props.visible,\n\t\t\trenderState: props.visible ? TRANSITION_STATE.READY : TRANSITION_STATE.INIT\n\t\t};\n\t\tthis.resizeRegistry = null;\n\t}\n\n\tstatic getDerivedStateFromProps (props, state) {\n\t\tif (!state.prevVisible && props.visible) {\n\t\t\treturn {\n\t\t\t\tinitialHeight: null,\n\t\t\t\tinitialWidth: null,\n\t\t\t\tprevVisible: props.visible,\n\t\t\t\trenderState: TRANSITION_STATE.MEASURE\n\t\t\t};\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tcomponentDidMount () {\n\t\tif (!this.props.visible) {\n\t\t\tthis.measuringJob.idle();\n\t\t} else {\n\t\t\tthis.measureInner();\n\t\t}\n\n\t\tif (this.context && typeof this.context === 'function') {\n\t\t\tthis.resizeRegistry = this.context(this.handleResize);\n\t\t}\n\t}\n\n\tshouldComponentUpdate (nextProps, nextState) {\n\t\t// Don't update if only updating the height and we're not visible\n\t\treturn (this.state.initialHeight === nextState.initialHeight) || this.props.visible || nextProps.visible;\n\t}\n\n\tcomponentDidUpdate (prevProps, prevState) {\n\t\tconst {noAnimation, visible} = this.props;\n\t\tconst {initialHeight, renderState} = this.state;\n\n\t\tif (this.state.renderState === TRANSITION_STATE.MEASURE) {\n\t\t\tthis.measuringJob.stop();\n\t\t}\n\n\t\t// Checking that something changed that wasn't the visibility\n\t\t// or the initialHeight state or checking if component should be visible but doesn't have a height\n\t\tif ((visible === prevProps.visible &&\n\t\t\tinitialHeight === prevState.initialHeight &&\n\t\t\trenderState !== TRANSITION_STATE.INIT) ||\n\t\t\t(initialHeight == null && visible)) {\n\t\t\tthis.measureInner();\n\t\t}\n\n\t\tif (noAnimation) {\n\t\t\tif (!prevProps.visible && visible) {\n\t\t\t\tforwardOnShow({}, this.props);\n\t\t\t} else if (prevProps.visible && !visible) {\n\t\t\t\tforwardOnHide({}, this.props);\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillUnmount () {\n\t\tthis.measuringJob.stop();\n\t\tif (this.resizeRegistry) {\n\t\t\tthis.resizeRegistry.unregister();\n\t\t}\n\t}\n\n\tmeasuringJob = new Job(() => {\n\t\tthis.setState({\n\t\t\trenderState: TRANSITION_STATE.MEASURE\n\t\t});\n\t});\n\n\thandleResize = () => {\n\t\t// @TODO oddly, using the setState callback is required here to ensure that the bounds\n\t\t// are remeasured in a separate tick\n\t\tthis.setState({\n\t\t\tinitialHeight: null\n\t\t}, this.measureInner);\n\t};\n\n\thandleTransitionEnd = (ev) => {\n\t\tforwardTransitionEnd(ev, this.props);\n\n\t\tif (ev.target === this.childNode) {\n\t\t\tif (!this.props.visible) {\n\t\t\t\tforwardOnHide(ev, this.props);\n\t\t\t} else if (this.props.visible) {\n\t\t\t\tforwardOnShow(ev, this.props);\n\t\t\t}\n\t\t}\n\t};\n\n\tmeasureInner = () => {\n\t\tif (this.childNode) {\n\t\t\tconst initialHeight = this.childNode.scrollHeight;\n\t\t\tconst initialWidth = this.childNode.scrollWidth;\n\t\t\tif (initialHeight !== this.state.initialHeight || initialWidth !== this.state.initialWidth) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tinitialHeight,\n\t\t\t\t\tinitialWidth,\n\t\t\t\t\trenderState: TRANSITION_STATE.READY\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tchildRef = (node) => {\n\t\tthis.childNode = node;\n\t};\n\n\trender () {\n\t\tlet {visible, ...props} = this.props;\n\t\tdelete props.onHide;\n\t\tdelete props.onShow;\n\t\tdelete props.textSize;\n\n\t\tswitch (this.state.renderState) {\n\t\t\t// If we are deferring children, don't render any\n\t\t\tcase TRANSITION_STATE.INIT: return null;\n\n\t\t\t// If we're transitioning to visible but don't have a measurement yet, create the\n\t\t\t// transition container with its children so we can measure. Measuring will cause a\n\t\t\t// state change to trigger the animation.\n\t\t\tcase TRANSITION_STATE.MEASURE: return (\n\t\t\t\t<TransitionBase {...props} childRef={this.childRef} visible={false} />\n\t\t\t);\n\n\t\t\tcase TRANSITION_STATE.READY: return (\n\t\t\t\t<TransitionBase\n\t\t\t\t\t{...props}\n\t\t\t\t\tchildRef={this.childRef}\n\t\t\t\t\tvisible={visible}\n\t\t\t\t\tclipHeight={this.state.initialHeight}\n\t\t\t\t\tclipWidth={this.state.initialWidth}\n\t\t\t\t\tonTransitionEnd={this.handleTransitionEnd}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t}\n}\n\nexport default Transition;\nexport {Transition, TransitionBase};\n","/*\n * A higher-order component that adds a FloatingLayer adjacent to wrapped component.\n */\n\nimport {call, forEventProp, oneOf} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport Registry from '@enact/core/internal/Registry';\nimport React from 'react';\n\nconst forAction = forEventProp('action');\n\nconst FloatingLayerContext = React.createContext();\n\n/**\n * Default config for {@link ui/FloatingLayer.FloatingLayerDecorator}.\n *\n * @memberof ui/FloatingLayer.FloatingLayerDecorator\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Element Id of the floatLayer\n\t *\n\t * @type {String}\n\t * @default 'floatLayer'\n\t * @public\n\t * @memberof ui/FloatingLayer.FloatingLayerDecorator.defaultConfig\n\t */\n\tfloatLayerId: 'floatLayer',\n\n\t/**\n\t * Class name to be applied to wrapped component.\n\n\t * It can be used when you want to only apply\n\t * certain styles to the wrapped component and not to the float layer.\n\t *\n\t * @type {String}\n\t * @default ''\n\t * @public\n\t * @memberof ui/FloatingLayer.FloatingLayerDecorator.defaultConfig\n\t */\n\twrappedClassName: ''\n};\n\n/**\n * A higher-order component that adds a FloatingLayer adjacent to the wrapped component.\n *\n * Any classes passed to the FloatingLayerDecorator will be applied to a wrapper surrounding the\n * wrapped component and the floating layer. If specified in the config, `wrappedClassName` will be\n * passed as `className` to the wrapped component.\n *\n * @class FloatingLayerDecorator\n * @memberof ui/FloatingLayer\n * @hoc\n * @public\n */\nconst FloatingLayerDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {floatLayerId, wrappedClassName} = config;\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'FloatingLayerDecorator';\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tthis.registry = Registry.create(this.handleNotify);\n\t\t\tthis.floatingLayer = null;\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\tthis.notifyMount();\n\t\t}\n\n\t\tgetFloatingLayer = () => {\n\t\t\t// FIXME: if a component that resides in the floating layer is rendered at the same time\n\t\t\t// as the floating layer, this.floatingLayer may not have been initialized yet since\n\t\t\t// componentDidMount runs inside-out. As a fallback, we search by id but this could\n\t\t\t// introduce issues (e.g. for duplicate layer ids).\n\t\t\treturn (\n\t\t\t\tthis.floatingLayer ||\n\t\t\t\t(typeof document !== 'undefined' && document.getElementById(floatLayerId)) ||\n\t\t\t\tnull\n\t\t\t);\n\t\t};\n\n\t\thandleNotify = oneOf(\n\t\t\t[forAction('register'), call('notifyMount')],\n\t\t\t[forAction('closeAll'), call('handleCloseAll')]\n\t\t).bind(this);\n\n\t\thandleCloseAll () {\n\t\t\tthis.registry.notify({action: 'close'});\n\t\t}\n\n\t\tnotifyMount () {\n\t\t\tthis.registry.notify({\n\t\t\t\taction: 'mount',\n\t\t\t\tfloatingLayer: this.getFloatingLayer()\n\t\t\t});\n\t\t}\n\n\t\tsetFloatingLayer = (node) => {\n\t\t\tthis.floatingLayer = node;\n\t\t};\n\n\t\trender () {\n\t\t\tconst {className, ...rest} = this.props;\n\t\t\treturn (\n\t\t\t\t<FloatingLayerContext.Provider value={this.registry.register}>\n\t\t\t\t\t<div className={className}>\n\t\t\t\t\t\t<Wrapped key=\"floatWrapped\" {...rest} className={wrappedClassName} />\n\t\t\t\t\t\t<div id={floatLayerId} key=\"floatLayer\" ref={this.setFloatingLayer} />\n\t\t\t\t\t</div>\n\t\t\t\t</FloatingLayerContext.Provider>\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default FloatingLayerDecorator;\nexport {\n\tFloatingLayerContext,\n\tFloatingLayerDecorator\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport css from './Scrim.module.less';\n\nconst transparentClassName = css.scrim + ' enact-fit ' + css.transparent;\nconst translucentClassName = css.scrim + ' enact-fit ' + css.translucent;\n\n// Stores references to any Scrim instances whose type is translucent to ensure that only the top-\n// most Scrim is visible to avoid stacking scrims.\nconst scrimStack = [];\n\n/**\n * Pushes a translucent scrim to the top of the stack and hiding the previously top\n *\n * @param {ui/FloatingLayer.Scrim} scrim A scrim instance to add\n * @returns {undefined}\n * @private\n */\nfunction pushTranslucentScrim (scrim) {\n\tconst last = scrimStack.length - 1;\n\tif (last >= 0) {\n\t\t// if there are other translucent scrims, hide the topmost one assuming the others have been\n\t\t// hidden correctly by previous calls\n\t\tscrimStack[last].hide();\n\t}\n\n\tscrimStack.push(scrim);\n}\n\n/**\n * Removes a translucent scrim from the stack. If the scrim was the top-most, removing it will show\n * the next scrim. If not, it will just be removed\n *\n * @param {ui/FloatingLayer.Scrim} scrim A scrim instance to remove\n * @returns {undefined}\n * @private\n */\nfunction removeTranslucentScrim (scrim) {\n\tconst index = scrimStack.indexOf(scrim);\n\tconst last = scrimStack.length - 1;\n\tif (index === last) {\n\t\t// if scrim is the top of the stack (most likely case), show the one below it then pop it\n\t\tscrimStack.pop();\n\t\tif (scrimStack.length) {\n\t\t\tscrimStack[scrimStack.length - 1].show();\n\t\t}\n\t} else {\n\t\t// if it's in the middle of the stack, just remove it\n\t\tscrimStack.splice(index, 1);\n\t}\n}\n\n/**\n * {@link ui/FloatingLayer.Scrim} provides an overlay that will prevent taps from propagating\n * to the controls that it covers.\n *\n * @class Scrim\n * @memberof ui/FloatingLayer\n * @ui\n * @private\n */\nclass Scrim extends React.Component {\n\tstatic propTypes = /** @lends ui/FloatingLayer.Scrim.prototype */ {\n\t\t/**\n\t\t * Types of scrim. It can be either `'transparent'` or `'translucent'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default `translucent`\n\t\t * @public\n\t\t */\n\t\ttype: PropTypes.oneOf(['transparent', 'translucent'])\n\t};\n\n\tstatic defaultProps = {\n\t\ttype: 'translucent'\n\t};\n\n\tconstructor (props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tvisible: true\n\t\t};\n\n\t\tif (props.type === 'translucent') {\n\t\t\tpushTranslucentScrim(this);\n\t\t}\n\t}\n\n\tstatic getDerivedStateFromProps (props) {\n\t\tif (props.type !== 'translucent') {\n\t\t\treturn {\n\t\t\t\tvisible: true\n\t\t\t};\n\t\t}\n\t\treturn null;\n\t}\n\n\tcomponentDidUpdate (prevProps) {\n\t\tif (prevProps.type === 'translucent' && this.props.type !== 'translucent') {\n\t\t\tremoveTranslucentScrim(this);\n\t\t}\n\t}\n\n\tcomponentWillUnmount () {\n\t\tif (this.props.type === 'translucent') {\n\t\t\tremoveTranslucentScrim(this);\n\t\t}\n\t}\n\n\tshow = () => this.setState({visible: true});\n\n\thide = () => this.setState({visible: false});\n\n\trender () {\n\t\tif (this.state.visible) {\n\t\t\tconst {type, ...rest} = this.props;\n\t\t\tconst className = type === 'transparent' ? transparentClassName : translucentClassName;\n\n\t\t\treturn (\n\t\t\t\t<div {...rest} className={className} />\n\t\t\t);\n\t\t}\n\n\t\treturn null;\n\t}\n}\n\nexport default Scrim;\nexport {Scrim};\n","import {on, off} from '@enact/core/dispatcher';\nimport {adaptEvent, forward, forProp, handle, oneOf, stop, forEventProp, call} from '@enact/core/handle';\nimport invariant from 'invariant';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport Cancelable from '../Cancelable';\n\nimport {FloatingLayerContext} from './FloatingLayerDecorator';\nimport Scrim from './Scrim';\n\nconst forwardWithType = type => adaptEvent(\n\t() => ({type}),\n\tforward(type)\n);\n\nconst forwardDismiss = forwardWithType('onDismiss');\nconst forwardClose = forwardWithType('onClose');\nconst forwardOpen = forwardWithType('onOpen');\n\n/**\n * A component that creates an entry point to the new render tree.\n *\n * This is used for modal components such as popups.\n *\n * @class FloatingLayerBase\n * @memberof ui/FloatingLayer\n * @ui\n * @public\n */\nclass FloatingLayerBase extends React.Component {\n\tstatic displayName = 'FloatingLayer';\n\n\tstatic propTypes = /** @lends ui/FloatingLayer.FloatingLayerBase.prototype */ {\n\t\t/**\n\t\t * CSS classes for FloatingLayer.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'enact-fit enact-clip enact-untouchable'\n\t\t * @public\n\t\t */\n\t\tfloatLayerClassName: PropTypes.string,\n\n\t\t/**\n\t\t * Element id for floating layer.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'floatLayer'\n\t\t * @public\n\t\t */\n\t\tfloatLayerId: PropTypes.string,\n\n\t\t/**\n\t\t * Prevents FloatingLayer from hiding when the user presses `ESC` key.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tnoAutoDismiss: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when floating layer is closed.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonClose: PropTypes.func,\n\n\t\t/**\n\t\t * Called when a closing action is invoked.\n\t\t *\n\t\t * These actions may include pressing cancel/back (e.g. `ESC`) key or programmatically closing\n\t\t * by `FloatingLayerDecorator`. When cancel key is pressed, the function will only invoke if\n\t\t * `noAutoDismiss` is set to `false`.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonDismiss: PropTypes.func,\n\n\t\t/**\n\t\t * Called when floating layer is opened. It will only be invoked for the first render.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonOpen: PropTypes.func,\n\n\t\t/**\n\t\t * Renders the floating layer and its components.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\topen: PropTypes.bool,\n\n\t\t/**\n\t\t * The scrim type that overlays FloatingLayer.\n\t\t *\n\t\t * It can be either `'transparent'`, `'translucent'`, or `'none'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'translucent'\n\t\t * @public\n\t\t */\n\t\tscrimType: PropTypes.oneOf(['transparent', 'translucent', 'none'])\n\t};\n\n\tstatic contextType = FloatingLayerContext;\n\n\tstatic defaultProps = {\n\t\tfloatLayerClassName: 'enact-fit enact-clip enact-untouchable',\n\t\tfloatLayerId: 'floatLayer',\n\t\tnoAutoDismiss: false,\n\t\topen: false,\n\t\tscrimType: 'translucent'\n\t};\n\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.node = null;\n\t\tthis.state = {\n\t\t\tnodeRendered: false\n\t\t};\n\t}\n\n\tcomponentDidMount () {\n\t\t// Must register first in order to obtain the floating layer node reference before tryinging\n\t\t// to render into it\n\t\tif (this.context && typeof this.context === 'function') {\n\t\t\tthis.controller = this.context(this.handleNotify.bind(this));\n\t\t}\n\n\t\tif (this.props.scrimType === 'none' && this.props.open) {\n\t\t\ton('click', this.handleClick);\n\t\t}\n\t}\n\n\tcomponentDidUpdate (prevProps, prevState) {\n\t\tconst {open, scrimType} = this.props;\n\n\t\tif (prevProps.open && !open) {\n\t\t\t// when open changes to false, forward close\n\t\t\tforwardClose(null, this.props);\n\t\t} else if (!prevProps.open && open && !this.state.nodeRendered) {\n\t\t\t// when open changes to true and node hasn't rendered, render it\n\t\t\tthis.renderNode();\n\t\t} else if (this.state.nodeRendered &&\n\t\t\t(!prevState.nodeRendered || (prevState.nodeRendered && open && !prevProps.open))\n\t\t) {\n\t\t\t// when node has been rendered and either it was just rendered in this update cycle or\n\t\t\t// the open prop changed in this cycle, forward open\n\t\t\tforwardOpen(null, this.props);\n\t\t}\n\n\t\tif (scrimType === 'none') {\n\t\t\tif (!prevProps.open && open) {\n\t\t\t\ton('click', this.handleClick);\n\t\t\t} else if (prevProps.open && !open) {\n\t\t\t\toff('click', this.handleClick);\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillUnmount () {\n\t\tif (this.node && this.floatingLayer) {\n\t\t\tthis.floatingLayer.removeChild(this.node);\n\t\t\tthis.node = null;\n\t\t\tthis.floatingLayer = null;\n\t\t}\n\n\t\toff('click', this.handleClick);\n\n\t\tif (this.controller) {\n\t\t\tthis.controller.unregister();\n\t\t}\n\t}\n\n\thandleNotify = oneOf(\n\t\t[forEventProp('action', 'close'), call('handleClose')],\n\t\t[forEventProp('action', 'mount'), call('setFloatingLayer')]\n\t).bind(this);\n\n\tsetFloatingLayer ({floatingLayer}) {\n\t\tconst isNewLayer = !this.floatingLayer && floatingLayer;\n\t\tthis.floatingLayer = floatingLayer;\n\n\t\t// the first time we have a valid floating layer container and this instance is set to open,\n\t\t// we need to render the layer.\n\t\tif (isNewLayer && this.props.open && !this.state.nodeRendered) {\n\t\t\tthis.renderNode();\n\t\t}\n\t}\n\n\thandleClose = handle(\n\t\tforProp('open', true),\n\t\tforwardDismiss\n\t).bind(this);\n\n\thandleClick = handle(\n\t\tforProp('noAutoDismiss', false),\n\t\tforProp('open', true),\n\t\tforward('onDismiss')\n\t).bind(this);\n\n\thandleScroll = (ev) => {\n\t\tconst {currentTarget} = ev;\n\t\tcurrentTarget.scrollTop = 0;\n\t\tcurrentTarget.scrollLeft = 0;\n\t};\n\n\tstopPropagation = (ev) => {\n\t\tev.nativeEvent.stopImmediatePropagation();\n\n\t\tif (this.props.children.props.onClick) {\n\t\t\tthis.props.children.props.onClick();\n\t\t}\n\t};\n\n\trenderNode () {\n\t\tconst {floatLayerClassName} = this.props;\n\n\t\tif (this.node) return;\n\n\t\tinvariant(\n\t\t\tthis.floatingLayer,\n\t\t\t'FloatingLayer cannot be used outside the subtree of a FloatingLayerDecorator'\n\t\t);\n\n\t\tthis.node = document.createElement('div');\n\t\tthis.node.className = floatLayerClassName;\n\t\tthis.node.style.zIndex = 100;\n\n\t\tthis.floatingLayer.appendChild(this.node);\n\t\ton('scroll', this.handleScroll, this.node);\n\n\t\t// render children when this.node is inserted in the DOM tree.\n\t\tthis.setState({nodeRendered: true});\n\t}\n\n\trender () {\n\t\tconst {children, open, scrimType, ...rest} = this.props;\n\n\t\tdelete rest.floatLayerClassName;\n\t\tdelete rest.floatLayerId;\n\t\tdelete rest.noAutoDismiss;\n\t\tdelete rest.onClose;\n\t\tdelete rest.onDismiss;\n\t\tdelete rest.onOpen;\n\n\t\tif (open && this.state.nodeRendered) {\n\t\t\treturn ReactDOM.createPortal(\n\t\t\t\t<div {...rest}>\n\t\t\t\t\t{scrimType !== 'none' ? <Scrim type={scrimType} onClick={this.handleClick} /> : null}\n\t\t\t\t\t{React.cloneElement(children, {onClick: this.stopPropagation})}\n\t\t\t\t</div>,\n\t\t\t\tthis.node\n\t\t\t);\n\t\t}\n\n\t\treturn null;\n\t}\n}\n\nconst handleCancel = handle(\n\t// can't use forProp safely since either could be undefined ~= false\n\t(ev, {open, noAutoDismiss, onDismiss}) => open && !noAutoDismiss && onDismiss,\n\tforwardDismiss,\n\tstop\n);\n\n/**\n * FloatingLayer that mixes {@link ui/Cancelable.Cancelable} to handle FloatingLayer dismissal.\n *\n * This is used for modal components such as popups.\n *\n * @class FloatingLayer\n * @memberof ui/FloatingLayer\n * @ui\n * @extends ui/FloatingLayer.FloatingLayerBase\n * @mixes ui/Cancelable.Cancelable\n * @public\n */\nconst FloatingLayer = Cancelable({modal: true, onCancel: handleCancel}, FloatingLayerBase);\n\nexport default FloatingLayer;\nexport {FloatingLayer, FloatingLayerBase};\n","/**\n * FloatingLayer provides a way to render a component into a node outside of its parent component.\n *\n * This is used for modal components such as popups.\n *\n * @module ui/FloatingLayer\n * @exports FloatingLayer\n * @exports FloatingLayerBase\n * @exports FloatingLayerDecorator\n */\n\nimport {FloatingLayer, FloatingLayerBase} from './FloatingLayer';\nimport {FloatingLayerDecorator} from './FloatingLayerDecorator';\nimport {useFloatingLayer} from './useFloatingLayer';\n\nexport default FloatingLayer;\nexport {\n\tFloatingLayer,\n\tFloatingLayerBase,\n\tFloatingLayerDecorator,\n\tuseFloatingLayer\n};\n","/**\n * Unstyled button components and behaviors to be customized by a theme or application.\n *\n * @module ui/Button\n * @exports Button\n * @exports ButtonBase\n * @exports ButtonDecorator\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ComponentOverride from '../ComponentOverride';\nimport Touchable from '../Touchable';\n\nimport componentCss from './Button.module.less';\n\n/**\n * A basic button component structure without any behaviors applied to it.\n *\n * @class ButtonBase\n * @memberof ui/Button\n * @ui\n * @public\n */\nconst ButtonBase = kind({\n\tname: 'ui:Button',\n\n\tpropTypes: /** @lends ui/Button.ButtonBase.prototype */ {\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `button` - The root component class\n\t\t * * `bg` - The background node of the button\n\t\t * * `client` - The content node of the button\n\t\t * * `hasIcon` - Applied when there is an `icon` present\n\t\t * * `icon` - The icon node, when `icon` is set\n\t\t * * `large` - Applied when `size` prop is `'large'`\n\t\t * * `minWidth` - Applied when `minWidth` prop is `true`\n\t\t * * `pressed` - Applied when `pressed` prop is `true`\n\t\t * * `selected` - Applied when `selected` prop is `true`\n\t\t * * `small` - Applied when `size` prop is `'small'`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Additional DOM nodes which may be necessary for decorating the Button.\n\t\t *\n\t\t * @type {Node}\n\t\t * @private\n\t\t */\n\t\tdecoration: PropTypes.node,\n\n\t\t/**\n\t\t * Applies the `disabled` class.\n\t\t *\n\t\t * When `true`, the button is shown as disabled.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * The icon displayed within the Button.\n\t\t *\n\t\t * The icon will be displayed before the natural reading order of the text, regardless\n\t\t * of locale. Any string that is valid for its {@link ui/Button.Button.iconComponent} is\n\t\t * valid here. If `icon` is specified as a string and `iconButton` is undefined, the icon is\n\t\t * not rendered.\n\t\t *\n\t\t * This also supports a custom icon, in the form of a DOM node or a Component,\n\t\t * with the caveat that if you supply a custom icon, you are responsible for sizing and\n\t\t * locale positioning of the custom component.\n\t\t *\n\t\t * Setting this to `true` means the `iconComponent` will be rendered but with empty content.\n\t\t * This may be useful if you've customized the `iconComponent` to render the icon content\n\t\t * externally.\n\t\t *\n\t\t * @type {Node|Boolean}\n\t\t * @public\n\t\t */\n\t\ticon: PropTypes.oneOfType([PropTypes.node, PropTypes.bool]),\n\n\t\t/**\n\t\t * The component used to render the [icon]{@link ui/Button.ButtonBase.icon}.\n\t\t *\n\t\t * This component will receive the `icon` class to customize its styling.\n\t\t * If [icon]{@link ui/Button.ButtonBase.icon} is not assigned or is false, this component\n\t\t * will not be rendered.\n\t\t *\n\t\t * If this is a component rather than an HTML element string, this component will also\n\t\t * receive the `size` and `iconFlip` (as `flip`) properties and should be configured to\n\t\t * handle it.\n\t\t *\n\t\t * @type {Component|Node}\n\t\t * @public\n\t\t */\n\t\ticonComponent: EnactPropTypes.componentOverride,\n\n\t\t/**\n\t\t * Flips the icon.\n\t\t *\n\t\t * @see {@link ui/Icon.Icon#flip}\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\ticonFlip: PropTypes.string,\n\n\t\t/**\n\t\t * Enforces a minimum width for the component.\n\t\t *\n\t\t * Applies the `minWidth` CSS class which can be customized by\n\t\t * [theming]{@link /docs/developer-guide/theming/}.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default true\n\t\t * @public\n\t\t */\n\t\tminWidth: PropTypes.bool,\n\n\t\t/**\n\t\t * Indicates the component is depressed.\n\t\t *\n\t\t * Applies the `pressed` CSS class which can be customized by\n\t\t * [theming]{@link /docs/developer-guide/theming/}.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tpressed: PropTypes.bool,\n\n\t\t/**\n\t\t * Indicates the component is selected.\n\t\t *\n\t\t * Applies the `selected` CSS class which can be customized by\n\t\t * [theming]{@link /docs/developer-guide/theming/}.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool,\n\n\t\t/**\n\t\t * The size of the button.\n\t\t *\n\t\t * Applies the CSS class which can be customized by\n\t\t * [theming]{@link /docs/developer-guide/theming/}.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tdisabled: false,\n\t\tminWidth: true,\n\t\tpressed: false,\n\t\tselected: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'button',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({icon, minWidth, pressed, selected, size, styler}) => styler.append({\n\t\t\thasIcon: (!!icon),\n\t\t\tminWidth,\n\t\t\tpressed,\n\t\t\tselected\n\t\t}, size),\n\t\ticon: ({css, icon, iconComponent, iconFlip, size}) => {\n\t\t\tif (icon == null || icon === false) return;\n\n\t\t\t// Establish the base collection of props for the most basic `iconComponent` type, an\n\t\t\t// HTML element string.\n\t\t\tconst props = {\n\t\t\t\tclassName: css.icon,\n\t\t\t\tcomponent: iconComponent\n\t\t\t};\n\n\t\t\t// Add in additional props that any Component supplied to `iconComponent` should be\n\t\t\t// configured to handle.\n\t\t\tif (typeof iconComponent !== 'string') {\n\t\t\t\tprops.size = size;\n\t\t\t\t// the following inadvertently triggers a linting rule\n\t\t\t\t// eslint-disable-next-line enact/prop-types\n\t\t\t\tprops.flip = iconFlip;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<ComponentOverride {...props}>\n\t\t\t\t\t{icon}\n\t\t\t\t</ComponentOverride>\n\t\t\t);\n\t\t}\n\t},\n\n\trender: ({children, css, decoration, disabled, icon, ...rest}) => {\n\t\tdelete rest.iconComponent;\n\t\tdelete rest.iconFlip;\n\t\tdelete rest.minWidth;\n\t\tdelete rest.pressed;\n\t\tdelete rest.selected;\n\t\tdelete rest.size;\n\n\t\treturn (\n\t\t\t<div role=\"button\" {...rest} aria-disabled={disabled} disabled={disabled}>\n\t\t\t\t{decoration ? (\n\t\t\t\t\t<div className={css.decoration}>{decoration}</div>\n\t\t\t\t) : null}\n\t\t\t\t<div className={css.bg} />\n\t\t\t\t<div className={css.client}>{icon}{children}</div>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n/**\n * A higher-order component that adds touch support to a [ButtonBase]{@link ui/Button.ButtonBase}.\n *\n * @hoc\n * @memberof ui/Button\n * @mixes ui/Touchable.Touchable\n * @public\n */\nconst ButtonDecorator = Touchable({activeProp: 'pressed'});\n\n/**\n * A minimally-styled button component with touch support.\n *\n * @class Button\n * @extends ui/Button.ButtonBase\n * @memberof ui/Button\n * @mixes ui/Button.ButtonDecorator\n * @ui\n * @public\n */\nconst Button = ButtonDecorator(ButtonBase);\n\nexport default Button;\nexport {\n\tButton,\n\tButtonBase,\n\tButtonDecorator\n};\n","/**\n * Text block component to be customized by a theme or application.\n *\n * @module ui/BodyText\n * @exports BodyText\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ForwardRef from '../ForwardRef';\n\nimport componentCss from './BodyText.module.less';\n\n/**\n * A simple, unstyled text block component, without\n * [BodyTextDecorator](ui/BodyText.BodyTextDecorator) applied.\n *\n * @class BodyTextBase\n * @memberof ui/BodyText\n * @ui\n * @public\n */\nconst BodyTextBase = kind({\n\tname: 'ui:BodyText',\n\n\tpropTypes: /** @lends ui/BodyText.BodyTextBase.prototype */ {\n\t\t/**\n\t\t * Centers the contents.\n\t\t *\n\t\t * Applies the `centered` CSS class which can be customized by\n\t\t * [theming]{@link /docs/developer-guide/theming/}.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tcentered: PropTypes.bool,\n\n\t\t/**\n\t\t * The type of component to use to render the item. May be a DOM node name (e.g 'div',\n\t\t * 'p', etc.) or a custom component.\n\t\t *\n\t\t * @type {Component}\n\t\t * @default 'p'\n\t\t * @public\n\t\t */\n\t\tcomponent: EnactPropTypes.renderable,\n\n\t\t/**\n\t\t * Called with a reference to [component]{@link ui/BodyText.BodyText#component}\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @private\n\t\t */\n\t\tcomponentRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `bodyText` - The root class name\n\t\t * * `centered` - Applied when `centered` prop is `true`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object\n\t},\n\n\tdefaultProps: {\n\t\tcentered: false,\n\t\tcomponent: 'p'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'bodyText',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({centered, styler}) => styler.append({centered})\n\t},\n\n\trender: ({component: Component, componentRef, ...rest}) => {\n\t\tdelete rest.centered;\n\n\t\treturn (\n\t\t\t<Component\n\t\t\t\tref={componentRef}\n\t\t\t\t{...rest}\n\t\t\t/>\n\t\t);\n\t}\n});\n\n/**\n * Applies BodyText behaviors.\n *\n * @hoc\n * @memberof ui/BodyText\n * @mixes ui/ForwardRef.ForwardRef\n * @public\n */\nconst BodyTextDecorator = ForwardRef({prop: 'componentRef'});\n\n/**\n * A simple, unstyled text block component.\n *\n * @class BodyText\n * @memberof ui/BodyText\n * @ui\n * @public\n */\nconst BodyText = BodyTextDecorator(BodyTextBase);\n\nexport default BodyText;\nexport {\n\tBodyText,\n\tBodyTextBase,\n\tBodyTextDecorator\n};\n","/**\n * Utilities for detecting basic platform capabilities.\n *\n * @module core/platform\n * @exports detect\n * @exports platform\n * @public\n */\n\nimport uniq from 'ramda/src/uniq';\n\nconst hasGesture = () => {\n\treturn Boolean(\n\t\t('ongesturestart' in window) ||\n\t\t('onmsgesturestart' in window && (\n\t\t\twindow.navigator.msMaxTouchPoints > 1 ||\n\t\t\twindow.navigator.maxTouchPoints > 1\n\t\t))\n\t);\n};\n\nconst hasTouch = () => {\n\treturn Boolean(\n\t\t('TouchEvent' in window) ||\n\t\t('ontouchstart' in window) ||\n\t\twindow.navigator.msMaxTouchPoints ||\n\t\t(window.navigator.msManipulationViewsEnabled && window.navigator.maxTouchPoints)\n\t);\n};\n\n// Adapted from https://patrickhlauke.github.io/touch/touchscreen-detection/\n// I've omitted the touch event fallback since that is covered by hasTouch and we're less concerned\n// with legacy browsers used in touchscreen environments.\nconst hasTouchScreen = () => {\n\treturn (\n\t\t// if Pointer Events are supported, just check maxTouchPoints\n\t\t(window.PointerEvent && ('maxTouchPoints' in window.navigator) && window.navigator.maxTouchPoints > 0) ||\n\t\t// check for any-pointer:coarse which mostly means touchscreen\n\t\t(window.matchMedia && window.matchMedia('(any-pointer:coarse)').matches)\n\t);\n};\n\nconst platforms = [\n\t// Windows Phone 7 - 10\n\t{platform: 'windowsPhone', regex: /Windows Phone (?:OS )?(\\d+)[.\\d]+/},\n\t// Android 4+ using Chrome\n\t{platform: 'androidChrome', regex: /Android .* Chrome\\/(\\d+)[.\\d]+/},\n\t// Android 2 - 4\n\t{platform: 'android', regex: /Android(?:\\s|\\/)(\\d+)/},\n\t// Kindle Fire\n\t// Force version to 2, (desktop mode does not list android version)\n\t{platform: 'android', regex: /Silk\\/1./, forceVersion: 2, extra: {silk: 1}},\n\t// Kindle Fire HD (Silk versions 2 or 3)\n\t// Force version to 4\n\t{platform: 'android', regex: /Silk\\/2./, forceVersion: 4, extra: {silk: 2}},\n\t{platform: 'android', regex: /Silk\\/3./, forceVersion: 4, extra: {silk: 3}},\n\t// IE 8 - 10\n\t{platform: 'ie', regex: /MSIE (\\d+)/},\n\t// IE 11\n\t{platform: 'ie', regex: /Trident\\/.*; rv:(\\d+)/},\n\t// Edge\n\t{platform: 'edge', regex: /Edge\\/(\\d+)/},\n\t// iOS 3 - 5\n\t// Apple likes to make this complicated\n\t{platform: 'ios', regex: /iP(?:hone|ad;(?: U;)? CPU) OS (\\d+)/},\n\t// LG webOS\n\t{platform: 'webos', regex: /Web0S;.*Safari\\/537.41/, forceVersion: 1},\n\t{platform: 'webos', regex: /Web0S;.*Safari\\/538.2/, forceVersion: 2},\n\t{platform: 'webos', regex: /Web0S;.*Chrome\\/38/, forceVersion: 3},\n\t{platform: 'webos', regex: /Web0S;.*Chrome\\/53/, forceVersion: 4},\n\t{platform: 'webos', regex: /Web0S;.*Chrome\\/68/, forceVersion: 5},\n\t// LG webOS of indeterminate version\n\t{platform: 'webos', regex: /Web0S;/, forceVersion: -1},\n\t// LuneOS\n\t{platform: 'webos', regex: /LuneOS/, forceVersion: -1, extra: {luneos: 1}},\n\t// Palm/HP/Open webOS\n\t{platform: 'webos', regex: /WebAppManager|Isis|webOS\\./, forceVersion: -1, extra: {legacy: 4}},\n\t{platform: 'webos', regex: /(?:web|hpw)OS\\/1/, forceVersion: -1, extra: {legacy: 1}},\n\t{platform: 'webos', regex: /(?:web|hpw)OS\\/2/, forceVersion: -1, extra: {legacy: 2}},\n\t{platform: 'webos', regex: /(?:web|hpw)OS\\/3/, forceVersion: -1, extra: {legacy: 3}},\n\t// desktop Safari\n\t{platform: 'safari', regex: /Version\\/(\\d+)[.\\d]+\\s+Safari/},\n\t// desktop Chrome\n\t{platform: 'chrome', regex: /Chrome\\/(\\d+)[.\\d]+/},\n\t// Firefox on Android\n\t{platform: 'androidFirefox', regex: /Android;.*Firefox\\/(\\d+)/},\n\t// FirefoxOS\n\t{platform: 'firefoxOS', regex: /Mobile;.*Firefox\\/(\\d+)/},\n\t// desktop Firefox\n\t{platform: 'firefox', regex: /Firefox\\/(\\d+)/},\n\t// Blackberry Playbook\n\t{platform: 'blackberry', regex: /PlayBook/i, forceVersion: 2},\n\t// Blackberry 10+\n\t{platform: 'blackberry', regex: /BB1\\d;.*Version\\/(\\d+\\.\\d+)/},\n\t// Tizen\n\t{platform: 'tizen', regex: /Tizen (\\d+)/}\n];\n\nconst ua = () => {\n\treturn window.navigator ? window.navigator.userAgent : '';\n};\n\nlet _platform;\n\nconst parseUserAgent = (userAgent) => {\n\tlet plat = {\n\t\tgesture: hasGesture(),\n\t\tnode: false,\n\t\ttouch: hasTouch(),\n\t\ttouchscreen: hasTouchScreen(),\n\t\tunknown: true\n\t};\n\n\tfor (let i = 0, p, m, v; (p = platforms[i]); i++) {\n\t\tm = p.regex.exec(userAgent);\n\n\t\tif (m) {\n\t\t\tplat.unknown = false;\n\n\t\t\tif ('forceVersion' in p) {\n\t\t\t\tv = p.forceVersion;\n\t\t\t} else {\n\t\t\t\tv = Number(m[1]);\n\t\t\t}\n\t\t\tplat[p.platform] = v;\n\t\t\tif (p.extra) {\n\t\t\t\tplat = {\n\t\t\t\t\t...plat,\n\t\t\t\t\t...p.extra\n\t\t\t\t};\n\t\t\t}\n\t\t\tplat.platformName = p.platform;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn plat;\n};\n\n/**\n * @typedef {Object} PlatformDescription\n * @property {Object} [extra] - Additional information about the detected platform\n * @property {Boolean} gesture - `true` if the platform has native double-finger events\n * @property {Boolean} node - `true` only if `window` is `undefined`\n * @property {String} [platformName] - The name of the platform, if detected\n * @property {Boolean} touch - `true` if the platform has native single-finger events\n * @property {Boolean} touchsreen - `true` if the platform has a touch screen\n * @property {Boolean} unknown - `true` for any unknown system\n *\n * @memberof core/platform\n * @public\n */\n\n/**\n * Returns the {@link core/platform.platform} object.\n *\n * @function detect\n * @returns {PlatformDescription}     The {@link core/platform.platform} object\n * @memberof core/platform\n * @public\n */\nconst detect = () => {\n\tif (_platform) {\n\t\t// if we've already determined the platform, we'll use that determination\n\t\treturn _platform;\n\t} else if (typeof window === 'undefined') {\n\t\treturn {\n\t\t\tgesture: false,\n\t\t\tnode: true,\n\t\t\ttouch: false,\n\t\t\tunknown: true\n\t\t};\n\t}\n\n\tconst userAgent = ua();\n\n\treturn (_platform = parseUserAgent(userAgent));\n};\n\n/**\n * Provides basic information about the running platform.\n *\n * @type {PlatformDescription}\n * @memberof core/platform\n * @public\n */\nconst platform = {};\n\n[\n\t'gesture',\n\t'node',\n\t'platformName',\n\t'touch',\n\t'touchscreen',\n\t'unknown',\n\t...uniq(platforms.map(p => p.platform))\n].forEach(name => {\n\tObject.defineProperty(platform, name, {\n\t\tenumerable: true,\n\t\tget: () => {\n\t\t\tconst p = detect();\n\t\t\treturn p[name];\n\t\t}\n\t});\n});\n\nexport default platform;\nexport {\n\tdetect,\n\tparseUserAgent,\n\tplatform\n};\n","let baseScreen,\n\torientation,\n\triRatio,\n\tscreenType,\n\tworkspaceBounds = {\n\t\twidth: (typeof window === 'object') ? window.innerWidth : 1920,\n\t\theight: (typeof window === 'object') ? window.innerHeight : 1080\n\t},\n\tscreenTypes = [{\n\t\tname: 'standard',\n\t\tpxPerRem: 16,\n\t\twidth: workspaceBounds.width,\n\t\theight: workspaceBounds.height,\n\t\taspectRatioName: 'standard',\n\t\tbase: true\n\t}],\t// Assign one sane type in case defineScreenTypes is never run.\n\tscreenTypeObject,\n\tconfig;\n\n/**\n * Object that stores all of the pixel conversion factors to each keyed unit.\n *\n * @type {Object}\n * @memberof ui/resolution\n * @public\n */\nconst unitToPixelFactors = {\n\t'rem': 12,\n\t'in': 96\n};\n\nconst configDefaults = {\n\torientationHandling: 'normal'\n};\n\n/**\n * Update the common measured boundary object.\n *\n * This object is used as \"what size screen are we looking at\". Providing no arguments has no\n * effect and updates nothing.\n *\n * @function\n * @memberOf ui/resolution\n * @param {Node}    measurementNode    A standard DOM node or the `window` node.\n *\n * @returns {undefined}\n * @private\n */\nconst updateWorkspaceBounds = (measurementNode) => {\n\tif (measurementNode && (measurementNode.clientHeight || measurementNode.clientWidth)) {\n\t\tworkspaceBounds = {height: measurementNode.clientHeight, width: measurementNode.clientWidth};\n\t} else if (measurementNode && (measurementNode.innerHeight || measurementNode.innerWidth)) {\n\t\t// A backup for if measurementNode is actually `window` and not a normal node\n\t\tworkspaceBounds = {height: measurementNode.innerHeight, width: measurementNode.innerWidth};\n\t}\n};\n\n/**\n * Fetch the screenType object\n *\n * @function\n * @memberof ui/resolution\n * @param  {String}    type    The key string for the screen type object. If falsy, the current\n *                             screenType is used\n *\n * @returns {Object}           screenTypeObject\n * @private\n */\nfunction getScreenTypeObject (type) {\n\ttype = type || screenType;\n\tif (screenTypeObject && screenTypeObject.name === type) {\n\t\treturn screenTypeObject;\n\t}\n\treturn screenTypes.filter(function (elem) {\n\t\treturn (type === elem.name);\n\t})[0];\n}\n\n/**\n * Sets up screen resolution scaling capabilities by defining an array of all the screens\n * being used.\n *\n * These should be listed in order from smallest to largest, according to\n * width.\n *\n * The `name`, `pxPerRem`, `width`, and `aspectRatioName` properties are required for\n * each screen type in the array. Setting `base: true` on a screen type marks it as the\n * default resolution, upon which everything else will be based.\n *\n * Executing this method also initializes the rest of the resolution-independence code.\n *\n * Example:\n * ```\n * import ri from 'enact/ui/resolution';\n *\n * ri.defineScreenTypes([\n * \t{name: 'vga',     pxPerRem: 8,  width: 640,  height: 480,  aspectRatioName: 'standard'},\n * \t{name: 'xga',     pxPerRem: 16, width: 1024, height: 768,  aspectRatioName: 'standard'},\n * \t{name: 'hd',      pxPerRem: 16, width: 1280, height: 720,  aspectRatioName: 'hdtv'},\n * \t{name: 'fhd',     pxPerRem: 24, width: 1920, height: 1080, aspectRatioName: 'hdtv', base: true},\n * \t{name: 'uw-uxga', pxPerRem: 24, width: 2560, height: 1080, aspectRatioName: 'cinema'},\n * \t{name: 'uhd',     pxPerRem: 48, width: 3840, height: 2160, aspectRatioName: 'hdtv'}\n * ]);\n * ```\n *\n * @function\n * @memberof ui/resolution\n * @param {Object[]}    types    An array of objects containing screen configuration data, as in the\n *                            preceding example.\n * @returns {undefined}\n * @public\n */\nfunction defineScreenTypes (types) {\n\tif (types) screenTypes = types;\n\tfor (let i = 0; i < screenTypes.length; i++) {\n\t\tif (screenTypes[i]['base']) baseScreen = screenTypes[i];\n\t}\n\tinit();\n}\n\n/**\n * Fetches the name of the screen type that best matches the current screen size.\n *\n * The best match is defined as the screen type that is the closest to the screen resolution without\n * going over. (\"The Price is Right\" style.)\n *\n * @function\n * @memberof ui/resolution\n * @param {Object}    rez    Optional measurement scheme. Must include `height` and `width` properties.\n * @returns {String}         Screen type (e.g., `'fhd'`, `'uhd'`, etc.)\n * @public\n */\nfunction getScreenType (rez) {\n\trez = rez || workspaceBounds;\n\n\tconst types = screenTypes;\n\tlet bestMatch = types[types.length - 1].name; // Blindly set the first screen type, in case no matches are found later.\n\n\torientation = 'landscape';\n\n\tif (rez.height > rez.width) {\n\t\torientation = 'portrait';\n\t\tconst swap = rez.width;\n\t\trez.width = rez.height;\n\t\trez.height = swap;\n\t}\n\n\t// Loop through resolutions, last->first, largest->smallest\n\tfor (let i = types.length - 1; i >= 0; i--) {\n\t\t// Does the current resolution fit inside this screenType definition? If so, save it as the current best match.\n\t\tif (rez.height <= types[i].height && rez.width <= types[i].width) {\n\t\t\tbestMatch = types[i].name;\n\t\t}\n\t}\n\t// Return the name of the closest fitting set of dimensions.\n\treturn bestMatch;\n}\n\n/**\n * Calculate the base rem font size.\n *\n * This is how the magic happens. This accepts an optional `screenType` name. If one isn't provided,\n * the currently detected screen type is used. This uses the config option `orientationHandling`,\n * which when set to \"scale\" and the screen is in portrait orientation, will dynamically calculate\n * what the base font size should be, if the width were proportionally scaled down to fit in the portrait space.\n *\n * To use, put the following in your application code:\n * ```\n * import ri from '@enact/ui/resolution';\n *\n * ri.config.orientationHandling = 'scale';\n * ri.init();\n * ```\n *\n * This has no effect if the screen is in landscape, or if `orientationHandling` is unset.\n *\n * @function\n * @memberof ui/resolution\n * @param {String}    type    Screen type to base size the calculation on. If no\n *                            screen type is provided, the current screen type will be used.\n * @returns {String}          The calculated pixel size (with unit suffix. Ex: \"24px\").\n * @public\n */\nfunction calculateFontSize (type) {\n\tconst scrObj = getScreenTypeObject(type);\n\tlet size;\n\n\tif (orientation === 'portrait' && config.orientationHandling === 'scale') {\n\t\tsize = scrObj.height / scrObj.width * scrObj.pxPerRem;\n\t} else {\n\t\tsize = scrObj.pxPerRem;\n\t}\n\treturn size + 'px';\n}\n\n/**\n * @function\n * @memberof ui/resolution\n * @param {String}    size     A valid CSS measurement to be applied as the base document font size.\n * @private\n * @returns {undefined}\n */\nfunction updateBaseFontSize (size) {\n\tif (typeof window === 'object') {\n\t\tdocument.documentElement.style.fontSize = size;\n\t}\n}\n\n/**\n * Returns the CSS classes for the given `type`.\n *\n * @function\n * @memberof ui/resolution\n * @param {String}    type    Screen type\n * @returns {String}          CSS class names\n * @public\n */\nfunction getResolutionClasses (type = screenType) {\n\tconst classes = [];\n\tif (orientation) {\n\t\tclasses.push('enact-orientation-' + orientation);\n\t}\n\tif (type) {\n\t\tclasses.push('enact-res-' + type.toLowerCase());\n\t\tconst scrObj = getScreenTypeObject(type);\n\t\tif (scrObj.aspectRatioName) {\n\t\t\tclasses.push('enact-aspect-ratio-' + scrObj.aspectRatioName.toLowerCase());\n\t\t}\n\t}\n\treturn classes.join(' ');\n}\n\n/**\n * Returns the ratio of pixels per rem for the given `type` to the pixels per rem for the base type.\n *\n * @function\n * @memberof ui/resolution\n * @param  {String}    type    Screen type\n *\n * @returns {Number}           ratio\n */\nfunction getRiRatio (type = screenType) {\n\tif (type && baseScreen) {\n\t\tconst ratio = getUnitToPixelFactors(type) / getUnitToPixelFactors(baseScreen.name);\n\t\tif (type === screenType) {\n\t\t\t// cache this if it's for our current screen type.\n\t\t\triRatio = ratio;\n\t\t}\n\t\treturn ratio;\n\t}\n\treturn 1;\n}\n\n/**\n * Returns the pixels per rem for the given `type`.\n *\n * @memberof ui/resolution\n * @param {String}    type    Screen type\n *\n * @returns {Number}          pixels per rem\n */\nfunction getUnitToPixelFactors (type = screenType) {\n\tif (type) {\n\t\treturn getScreenTypeObject(type).pxPerRem;\n\t}\n\treturn 1;\n}\n\n/**\n * Calculates the aspect ratio of the specified screen type.\n *\n * If no screen type is provided, the current screen type is used.\n *\n * @function\n * @memberof ui/resolution\n * @param {String}    type    Screen type whose aspect ratio will be calculated. If no screen\n *                            type is provided, the current screen type is used.\n * @returns {Number}          The calculated screen ratio (e.g., `1.333`, `1.777`, `2.333`, etc.)\n * @public\n */\nfunction getAspectRatio (type) {\n\tconst scrObj = getScreenTypeObject(type);\n\tif (scrObj.width && scrObj.height) {\n\t\treturn (scrObj.width / scrObj.height);\n\t}\n\treturn 1;\n}\n\n/**\n * Returns the name of the aspect ratio for a specified screen type, or for the default\n * screen type if none is provided.\n *\n * @function\n * @memberof ui/resolution\n * @param {String}    type    Screen type whose aspect ratio name will be returned. If no\n *                            screen type is provided, the current screen type will be used.\n * @returns {String}          The name of the screen type's aspect ratio\n * @public\n */\nfunction getAspectRatioName (type) {\n\tconst scrObj = getScreenTypeObject(type);\n\treturn scrObj.aspectRatioName || 'standard';\n}\n\n/**\n * Takes a provided pixel value and performs a scaling operation based on the current\n * screen type.\n *\n * @function\n * @memberof ui/resolution\n * @param {Number}    px    The quantity of standard-resolution pixels to scale to the\n *                          current screen resolution.\n * @returns {Number}        The scaled value based on the current screen scaling factor\n * @public\n */\nfunction scale (px) {\n\treturn (riRatio || getRiRatio()) * px;\n}\n\n/**\n * Convert to various unit formats.\n *\n * Useful for converting pixels to a resolution-independent\n * measurement method, like \"rem\". Other units are available if defined in the\n * {@link ui/resolution.unitToPixelFactors} object.\n *\n * Example:\n * ```\n * import ri from '@enact/ui/resolution';\n *\n * // Do calculations and get back the desired CSS unit.\n * var frameWidth = 250,\n *     frameWithMarginInches = ri.unit( 10 + frameWidth + 10, 'in' ), // '2.8125in' == frameWithMarginInches\n *     frameWithMarginRems = ri.unit( 10 + frameWidth + 10, 'rem' ); // '22.5rem' == frameWithMarginRems\n * ```\n *\n * @function\n * @memberof ui/resolution\n * @param {String|Number}     pixels    The pixels or math to convert to the unit (\"px\" suffix in String\n *                                       format is permitted. ex: `'20px'`)\n * @param {String}            toUnit    The name of the unit to convert to.\n *\n * @returns {String|undefined}          Resulting conversion in CSS safe format, in case of malformed input, `undefined`\n * @public\n */\nfunction unit (pixels, toUnit) {\n\tif (!toUnit || !unitToPixelFactors[toUnit]) return;\n\tif (typeof pixels === 'string' && pixels.substr(-2) === 'px') pixels = parseInt(pixels.substr(0, pixels.length - 2));\n\tif (typeof pixels !== 'number') return;\n\n\treturn (pixels / unitToPixelFactors[toUnit]) + '' + toUnit;\n}\n\n/**\n * Shorthand for when you know you need to scale some pixel value and have it converted to \"rem\" for\n * proper scaling.\n *\n * This runs {@link ui/resolution.scale} and {@link ui/resolution.unit} together.\n *\n * @function\n * @memberof ui/resolution\n * @param {Number}    pixels    The quantity of standard-resolution pixels to scale to rems\n *\n * @returns {String|undefined}  Resulting conversion or, in case of malformed input, `undefined`\n * @public\n */\nconst scaleToRem = (pixels) => unit(scale(pixels), 'rem');\n\n/**\n * The default configurable options for {@link ui/resolution.selectSrc}. Additional resolutions\n * may be added.\n *\n * @typedef {Object} selectSrcOptions\n * @memberof ui/resolution\n * @property {String}    [hd]    HD / 720p Resolution image asset source URI/URL\n * @property {String}    [fhd]   FHD / 1080p Resolution image asset source URI/URL\n * @property {String}    [uhd]   UHD / 4K Resolution image asset source URI/URL\n */\n\n/**\n * Selects the ideal image asset from a set of assets, based on various screen\n * resolutions: HD (720p), FHD (1080p), UHD (4k).\n *\n * When a `src` argument is provided, `selectSrc()` will choose the best image with\n * respect to the current screen resolution. `src` may be either the traditional\n * string, which will pass straight through, or a hash/object of screen types and\n * their asset sources (keys:screen and values:src). The image sources will be used\n * when the screen resolution is less than or equal to the provided screen types.\n *\n * Example:\n * ```\n * // Take advantage of the multi-res mode\n * import {Image} from '@enact/ui/Image';\n *\n * const src = {\n *     'hd': 'http://lorempixel.com/64/64/city/1/',\n *     'fhd': 'http://lorempixel.com/128/128/city/1/',\n *     'uhd': 'http://lorempixel.com/256/256/city/1/'\n * };\n * ...\n * <Image src={src} ... />\n * ...\n * ```\n *\n * @function\n * @memberof ui/resolution\n * @param {String|ui/resolution.selectSrcSrcOptions} src       A string containing a single image\n *                                                             source or a key/value hash/object\n *                                                             containing keys representing screen\n *                                                             types (`'hd'`, `'fhd'`, `'uhd'`,\n *                                                             etc.) and values containing the asset\n *                                                             source for that target screen\n *                                                             resolution.\n *\n * @returns {String}                                           The chosen source, given the string\n *                                                             or hash provided\n * @public\n */\nfunction selectSrc (src) {\n\tif (typeof src != 'string' && src) {\n\t\tlet newSrc = src.fhd || src.uhd || src.hd;\n\t\tconst types = screenTypes;\n\n\t\t// loop through resolutions\n\t\tfor (let i = types.length - 1; i >= 0; i--) {\n\t\t\tlet t = types[i].name;\n\t\t\tif (screenType === t && src[t]) newSrc = src[t];\n\t\t}\n\t\tsrc = newSrc;\n\t}\n\treturn src;\n}\n\n/**\n * This will need to be re-run any time the screen size changes, so all the values can be re-cached.\n *\n * @function\n * @memberof ui/resolution\n * @param {Object}    args    A hash of options. The key `measurementNode` is used to as the node,\n *                            typically the root element, to measure and use as the dimensions for\n *                            the `screenType`.\n *\n * @returns {undefined}\n * @public\n */\nfunction init (args = {}) {\n\tconst {measurementNode} = args;\n\tupdateWorkspaceBounds(measurementNode);\n\tscreenType = getScreenType();\n\tscreenTypeObject = getScreenTypeObject();\n\tunitToPixelFactors.rem = getUnitToPixelFactors();\n\triRatio = getRiRatio();\n\tupdateBaseFontSize(calculateFontSize());\n}\n\n/**\n * The current configuration\n *\n * @type {Object}\n * @memberof ui/resolution\n * @private\n */\nconfig = Object.assign({}, configDefaults);\n\nexport {\n\tcalculateFontSize,\n\tconfig,\n\tdefineScreenTypes,\n\tgetAspectRatio,\n\tgetAspectRatioName,\n\tgetResolutionClasses,\n\tgetScreenTypeObject,\n\tgetScreenType,\n\tinit,\n\tscale,\n\tscaleToRem,\n\tselectSrc,\n\tunit,\n\tunitToPixelFactors\n};\n","/*\n * Exports the {@link ui/resolution.ResolutionDecorator} higher-order component (HOC).\n *\n * not jsdoc module on purpose\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport hoc from '@enact/core/hoc';\n\nimport {init, defineScreenTypes, getResolutionClasses} from './resolution';\n\n/**\n * Default config for `ResolutionDecorator`.\n *\n * @memberof ui/resolution.ResolutionDecorator\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Attaches an event listener to the window to listen for resize events.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @public\n\t * @memberof ui/resolution.ResolutionDecorator.defaultConfig\n\t */\n\tdynamic: true,\n\n\t/**\n\t * An array of objects containing declarations for screen types to add to the list of known\n\t * screen types.\n\t *\n\t * @type {Object[]}\n\t * @default null\n\t * @public\n\t * @memberof ui/resolution.ResolutionDecorator.defaultConfig\n\t */\n\tscreenTypes: null\n};\n\n/**\n * A higher-order component that configures resolution support for its wrapped component tree.\n *\n * Configuration options:\n *\t* `dynamic: true` - when `true`, updates the resolution classes when the window resizes\n *\t* `screenTypes: null` - defines a set of screen types to support\n *\n * Example:\n * ```\n *\t// Will have the resolution classes and will be updated when the window resizes\n *\tconst AppWithResolution = ResolutionDecorator(App);\n *\t// Will have the resolution classes for the screen at the time of render only\n *\tconst AppWithStaticResolution = ResolutionDecorator({dynamic: false}, App);\n *\tconst AppWithScreenTypes = ResolutionDecorator({screenTypes: [\n *\t\t{name: 'hd', pxPerRem: 16, width: 1280, height: 720, aspectRatioName: 'hdtv', base: true}\n *\t]}, App);\n * ```\n * @class ResolutionDecorator\n * @memberof ui/resolution\n * @hoc\n * @public\n */\nconst ResolutionDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tif (config.screenTypes) {\n\t\tdefineScreenTypes(config.screenTypes);\n\t}\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'ResolutionDecorator';\n\n\t\tstatic propTypes = /** @lends ui/resolution.ResolutionDecorator.prototype */ {\n\t\t\tclassName: PropTypes.string\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tinit({measurementNode: (typeof window !== 'undefined' && window)});\n\t\t\tthis.state = {\n\t\t\t\tresolutionClasses: ''\n\t\t\t};\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\tif (config.dynamic) window.addEventListener('resize', this.handleResize);\n\t\t\t// eslint-disable-next-line react/no-find-dom-node\n\t\t\tthis.rootNode = ReactDOM.findDOMNode(this);\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tif (config.dynamic) window.removeEventListener('resize', this.handleResize);\n\t\t}\n\n\t\thandleResize = () => {\n\t\t\tconst classNames = this.didClassesChange();\n\n\t\t\tif (classNames) {\n\t\t\t\tthis.setState({resolutionClasses: classNames});\n\t\t\t}\n\t\t};\n\n\t\t/*\n\t\t * Compare our current version of the resolved resolution class names with a fresh\n\t\t * initialization of RI.\n\t\t *\n\t\t * @returns {String|undefined} A string of new class names or undefined when there is no change.\n\t\t * @private\n\t\t */\n\t\tdidClassesChange () {\n\t\t\tconst prevClassNames = getResolutionClasses();\n\t\t\tinit({measurementNode: this.rootNode});\n\t\t\tconst classNames = getResolutionClasses();\n\t\t\tif (prevClassNames !== classNames) {\n\t\t\t\treturn classNames;\n\t\t\t}\n\t\t}\n\n\t\trender () {\n\t\t\t// Check if the classes are different from our previous classes\n\t\t\tlet classes = getResolutionClasses();\n\n\t\t\tif (this.props.className) classes += (classes ? ' ' : '') + this.props.className;\n\t\t\treturn <Wrapped {...this.props} className={classes} />;\n\t\t}\n\t};\n});\n\nexport default ResolutionDecorator;\nexport {ResolutionDecorator};\n","/**\n * Exports a number of useful methods for resolution independence.\n *\n * The default export is an object containing the resolution independence methods.\n *\n * @module ui/resolution\n * @exports ResolutionDecorator\n */\n\nimport * as ri from './resolution';\nimport ResolutionDecorator from './ResolutionDecorator';\n\nexport default ri;\nexport * from './resolution';\nexport {ResolutionDecorator};\n","// ilib doesn't load the non-Gregorian calendars and dates initially. To ensure they are packaged\n// by Enact CLI, we've added explicit requires for each Date (which in turn requires the relevant\n// Calendar). This is only necessary for builds not using the library-mode build of i18n which\n// would have included everything\n\nrequire('ilib/lib/GregorianDate');   // not required (rimshot) but included for completeness\nrequire('ilib/lib/CopticDate');\nrequire('ilib/lib/EthiopicDate');\nrequire('ilib/lib/GregorianDate');\nrequire('ilib/lib/HanDate');\nrequire('ilib/lib/HebrewDate');\nrequire('ilib/lib/IslamicDate');\nrequire('ilib/lib/JulianDate');\nrequire('ilib/lib/PersianDate');\nrequire('ilib/lib/PersianAlgoDate');\nrequire('ilib/lib/ThaiSolarDate');\n","/*\n * packedbuffer.js - represent a packed buffer of bytes\n *\n * Copyright © 2014 LG Electronics, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * Represents a binary buffer of unsigned bytes that will be parsed in various ways. The buffer\n * can be decoded by reading various lengths of bytes and interpreting them as longs\n * or unsigned bytes, etc. The bytes are interpreted in big-endian (network) format.\n * @constructor\n * @param {string} buffer the binary buffer represented as a string\n */\nconst PackedBuffer = function (buffer) {\n\tthis.buffer = buffer;\n\tthis.index = 0;\n};\n\n/**\n * Return the specified number of signed long integers from the current location in\n * the buffer as an array of numbers and advance the current pointer in the buffer.\n * This method will only return as many longs as are available in the rest of the\n * buffer.\n *\n * @param {number} num The number of longs to return\n * @returns {Array.<number>} the array of signed long integers\n */\nPackedBuffer.prototype.getLongs = function (num) {\n\tlet result;\n\tif (this.buffer && this.index < this.buffer.length) {\n\t\tresult = [];\n\t\tfor (let i = 0; i < num && this.index + 3 < this.buffer.length; i++) {\n\t\t\tlet longnum = this.buffer[this.index] << 24 |\n\t\t\t\tthis.buffer[this.index + 1] << 16 |\n\t\t\t\tthis.buffer[this.index + 2] << 8 |\n\t\t\t\tthis.buffer[this.index + 3];\n\t\t\tresult.push(longnum);\n\t\t\tthis.index += 4;\n\t\t}\n\t}\n\treturn result;\n};\n\n/**\n * Return a signed long integer from the current location in\n * the buffer as an array of numbers and advance the current pointer in the buffer.\n * This method will only return a long if it is available in the buffer, otherwise\n * it will return undefined.\n *\n * @returns {number} the long at the current point in the buffer, or undefined if\n * there is not enough bytes left in the buffer to form a long\n */\nPackedBuffer.prototype.getLong = function () {\n\tconst longs = this.getLongs(1);\n\tif (longs && longs.length > 0) {\n\t\treturn longs[0];\n\t}\n};\n\n/**\n * Return the specified number of signed byte integers from the current location in\n * the buffer as an array of numbers and advance the current pointer in the buffer.\n * This method will only return as many bytes as are available in the rest of the\n * buffer.\n *\n * @param {number|undefined} num The number of bytes to return\n * @returns {Array.<number>} the array of signed byte integers\n */\nPackedBuffer.prototype.getBytes = function (num) {\n\tlet result;\n\tif (this.buffer && this.index < this.buffer.length) {\n\t\tresult = [];\n\t\tfor (let i = 0; i < num && this.index < this.buffer.length; i++) {\n\t\t\tlet bytenum = this.buffer[this.index++];\n\t\t\tif (bytenum & 0x80) {\n\t\t\t\tbytenum -= 0x100;\n\t\t\t}\n\t\t\tresult.push(bytenum);\n\t\t}\n\t}\n\treturn result;\n};\n\n/**\n * Return a signed byte integer from the current location in\n * the buffer as an array of numbers and advance the current pointer in the buffer.\n * This method will only return a byte if it is available in the buffer, otherwise\n * it will return undefined.\n *\n * @returns {number} the byte at the current point in the buffer, or undefined if\n * there is not enough bytes left in the buffer to form a byte\n */\nPackedBuffer.prototype.getByte = function () {\n\tconst bytes = this.getBytes(1);\n\tif (bytes && bytes.length > 0) {\n\t\treturn bytes[0];\n\t}\n};\n\n/**\n * Return the specified number of unsigned byte integers from the current location in\n * the buffer as an array of numbers and advance the current pointer in the buffer.\n * This method will only return as many bytes as are available in the rest of the\n * buffer.\n *\n * @param {number} num The number of bytes to return\n * @returns {Array.<number>} the array of unsigned byte integers\n */\nPackedBuffer.prototype.getUnsignedBytes = function (num) {\n\tlet result;\n\tif (this.buffer && this.index < this.buffer.length) {\n\t\tresult = [];\n\t\tfor (let i = 0; i < num && this.index < this.buffer.length; i++) {\n\t\t\tresult.push(this.buffer[this.index++]);\n\t\t}\n\t}\n\treturn result;\n};\n\n/**\n * Return a string made out of the given number of bytes and convert\n * from UTF-8 to UTF-16.\n *\n * @param {number} num The number of bytes to make a string out of\n * @returns {string} a string made out of the given bytes\n */\nPackedBuffer.prototype.getString = function (num) {\n\tconst arr = this.getUnsignedBytes(num);\n\tlet str = '';\n\tfor (let i = 0; i < arr.length; i++) {\n\t\tstr += String.fromCharCode(arr[i]);\n\t}\n\treturn str;\n};\n\n/**\n * Advance the current pointer in the buffer by the specified number of\n * bytes in the string.\n *\n * @param {number} num The number of bytes to skip\n * @returns {void}\n */\nPackedBuffer.prototype.skip = function (num) {\n\tthis.index += num;\n};\n\nmodule.exports = PackedBuffer;\n","import utilEvent from '@enact/ui/useScroll/utilEvent';\nimport {useRef} from 'react';\n\nconst useEventKey = () => {\n\t// Mutable value\n\n\tconst mutableRef = useRef({\n\t\tfn: null\n\t});\n\n\t// Functions\n\n\tfunction addGlobalKeyDownEventListener (fn) {\n\t\tmutableRef.current.fn = fn;\n\t\tutilEvent('keydown').addEventListener(document, mutableRef.current.fn, {capture: true});\n\t}\n\n\tfunction removeGlobalKeyDownEventListener () {\n\t\tutilEvent('keydown').removeEventListener(document, mutableRef.current.fn, {capture: true});\n\t\tmutableRef.current.fn = null;\n\t}\n\n\t// Return\n\n\treturn {\n\t\taddGlobalKeyDownEventListener,\n\t\tremoveGlobalKeyDownEventListener\n\t};\n};\n\nexport default useEventKey;\nexport {\n\tuseEventKey\n};\n","import Spotlight from '@enact/spotlight';\nimport {getRect} from '@enact/spotlight/src/utils';\nimport ri from '@enact/ui/resolution';\nimport utilDOM from '@enact/ui/useScroll/utilDOM';\nimport {useCallback, useEffect} from 'react';\n\nimport {useEventKey} from './useEvent';\nimport {useSpotlightConfig} from './useSpotlight';\n\nconst useSpottable = (props, instances) => {\n\tconst {scrollContainerRef, scrollContentHandle, scrollContentRef} = instances;\n\n\t// Hooks\n\n\tuseSpotlightConfig(props, instances);\n\n\tconst {addGlobalKeyDownEventListener, removeGlobalKeyDownEventListener} = useEventKey();\n\n\tconst setContainerDisabled = useCallback((bool) => {\n\t\tif (scrollContainerRef.current) {\n\t\t\tscrollContainerRef.current.dataset.spotlightContainerDisabled = bool;\n\n\t\t\tif (bool) {\n\t\t\t\taddGlobalKeyDownEventListener(() => {\n\t\t\t\t\tsetContainerDisabled(false);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tremoveGlobalKeyDownEventListener();\n\t\t\t}\n\t\t}\n\t}, [addGlobalKeyDownEventListener, removeGlobalKeyDownEventListener, scrollContainerRef]);\n\n\tuseEffect(() => {\n\t\treturn () => setContainerDisabled(false);\n\t}, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n\tuseEffect(() => {\n\t\tconst {onUpdate} = props;\n\n\t\tif (onUpdate) {\n\t\t\tonUpdate();\n\t\t}\n\t});\n\n\t// Functions\n\n\t/**\n\t * Returns the first spotlight container between `node` and the scroller\n\t *\n\t * @param {Node} node A DOM node\n\t *\n\t * @returns {Node|Null} Spotlight container for `node`\n\t * @private\n\t */\n\tfunction getSpotlightContainerForNode (node) {\n\t\tdo {\n\t\t\tif (node.dataset.spotlightId && node.dataset.spotlightContainer && !node.dataset.expandableContainer) {\n\t\t\t\treturn node;\n\t\t\t}\n\t\t} while ((node = node.parentNode) && node !== scrollContentRef.current);\n\t}\n\n\t/**\n\t * Calculates the \"focus bounds\" of a node. If the node is within a spotlight container, that\n\t * container is scrolled into view rather than just the element.\n\t *\n\t * @param {Node} node Focused node\n\t *\n\t * @returns {Object} Bounds as returned by `getBoundingClientRect`\n\t * @private\n\t */\n\tfunction getFocusedItemBounds (node) {\n\t\tnode = getSpotlightContainerForNode(node) || node;\n\t\treturn node.getBoundingClientRect();\n\t}\n\n\t/**\n\t * Calculates the new `scrollTop`.\n\t *\n\t * @param {Node} item Focused item node\n\t *\n\t * @returns {Number} Calculated `scrollTop`\n\t * @private\n\t */\n\tfunction calculateScrollTop (item) {\n\t\tconst threshold = ri.scale(48);\n\t\tconst roundToStart = (sb, st) => {\n\t\t\t// round to start\n\t\t\tif (st < threshold) return 0;\n\n\t\t\treturn st;\n\t\t};\n\t\tconst roundToEnd = (sb, st, sh) => {\n\t\t\t// round to end\n\t\t\tif (sh - (st + sb.height) < threshold) return sh - sb.height;\n\n\t\t\treturn st;\n\t\t};\n\t\t// adding threshold into these determinations ensures that items that are within that are\n\t\t// near the bounds of the scroller cause the edge to be scrolled into view even when the\n\t\t// item itself is in view (e.g. due to margins)\n\t\tconst isItemBeforeView = (ib, sb, d) => ib.top + d - threshold < sb.top;\n\t\tconst isItemAfterView = (ib, sb, d) => ib.top + d + ib.height + threshold > sb.top + sb.height;\n\t\tconst canItemFit = (ib, sb) => ib.height <= sb.height;\n\t\tconst calcItemAtStart = (ib, sb, st, d) => ib.top + st + d - sb.top;\n\t\tconst calcItemAtEnd = (ib, sb, st, d) => ib.top + ib.height + st + d - (sb.top + sb.height);\n\t\tconst calcItemInView = (ib, sb, st, sh, d) => {\n\t\t\tif (isItemBeforeView(ib, sb, d)) {\n\t\t\t\treturn roundToStart(sb, calcItemAtStart(ib, sb, st, d));\n\t\t\t} else if (isItemAfterView(ib, sb, d)) {\n\t\t\t\treturn roundToEnd(sb, calcItemAtEnd(ib, sb, st, d), sh);\n\t\t\t}\n\t\t\treturn st;\n\t\t};\n\n\t\tconst container = getSpotlightContainerForNode(item);\n\t\tconst scrollerBounds = scrollContentRef.current.getBoundingClientRect();\n\t\tlet {scrollHeight, scrollTop} = scrollContentRef.current;\n\t\tlet scrollTopDelta = 0;\n\n\t\tconst adjustScrollTop = (v) => {\n\t\t\tscrollTopDelta = scrollTop - v;\n\t\t\tscrollTop = v;\n\t\t};\n\n\t\tif (container) {\n\t\t\tconst containerBounds = container.getBoundingClientRect();\n\n\t\t\t// if the entire container fits in the scroller, scroll it into view\n\t\t\tif (canItemFit(containerBounds, scrollerBounds)) {\n\t\t\t\treturn calcItemInView(containerBounds, scrollerBounds, scrollTop, scrollHeight, scrollTopDelta);\n\t\t\t}\n\n\t\t\t// if the container doesn't fit, adjust the scroll top ...\n\t\t\tif (containerBounds.top > scrollerBounds.top) {\n\t\t\t\t// ... to the top of the container if the top is below the top of the scroller\n\t\t\t\tadjustScrollTop(calcItemAtStart(containerBounds, scrollerBounds, scrollTop, scrollTopDelta));\n\t\t\t}\n\t\t\t// removing support for \"snap to bottom\" for 2.2.8\n\t\t\t// } else if (containerBounds.top + containerBounds.height < scrollerBounds.top + scrollerBounds.height) {\n\t\t\t// \t// ... to the bottom of the container if the bottom is above the bottom of the\n\t\t\t// \t// scroller\n\t\t\t// \tadjustScrollTop(calcItemAtEnd(containerBounds, scrollerBounds, scrollTop, scrollTopDelta));\n\t\t\t// }\n\n\t\t\t// N.B. if the container covers the scrollable area (its top is above the top of the\n\t\t\t// scroller and its bottom is below the bottom of the scroller), we need not adjust the\n\t\t\t// scroller to ensure the container is wholly in view.\n\t\t}\n\n\t\tconst itemBounds = item.getBoundingClientRect();\n\n\t\treturn calcItemInView(itemBounds, scrollerBounds, scrollTop, scrollHeight, scrollTopDelta);\n\t}\n\n\t/**\n\t * Calculates the new `scrollLeft`.\n\t *\n\t * @param {Node} focusedItem node\n\t * @param {Number} scrollPosition last target position, passed when scroll animation is ongoing\n\t *\n\t * @returns {Number} Calculated `scrollLeft`\n\t * @private\n\t */\n\tfunction calculateScrollLeft (item, scrollPosition) {\n\t\tconst scrollContentNode = scrollContentRef.current;\n\t\tconst {\n\t\t\tleft: itemLeft,\n\t\t\twidth: itemWidth\n\t\t} = getFocusedItemBounds(item);\n\n\t\tconst\n\t\t\t{rtl} = props,\n\t\t\t{clientWidth} = scrollContentHandle.current.scrollBounds,\n\t\t\trtlDirection = rtl ? -1 : 1,\n\t\t\t{left: containerLeft} = scrollContentNode.getBoundingClientRect(),\n\t\t\tscrollLastPosition = scrollPosition ? scrollPosition : scrollContentHandle.current.scrollPos.left,\n\t\t\tcurrentScrollLeft = rtl ? (scrollContentHandle.current.scrollBounds.maxLeft - scrollLastPosition) : scrollLastPosition,\n\t\t\t// calculation based on client position\n\t\t\tnewItemLeft = scrollContentNode.scrollLeft + (itemLeft - containerLeft);\n\t\tlet nextScrollLeft = scrollContentHandle.current.scrollPos.left;\n\n\t\tif (newItemLeft + itemWidth > (clientWidth + currentScrollLeft) && itemWidth < clientWidth) {\n\t\t\t// If focus is moved to an element outside of view area (to the right), scroller will move\n\t\t\t// to the right just enough to show the current `focusedItem`. This does not apply to\n\t\t\t// `focusedItem` that has a width that is bigger than `scrollBounds.clientWidth`.\n\t\t\tnextScrollLeft += rtlDirection * ((newItemLeft + itemWidth) - (clientWidth + currentScrollLeft));\n\t\t} else if (newItemLeft < currentScrollLeft) {\n\t\t\t// If focus is outside of the view area to the left, move scroller to the left accordingly.\n\t\t\tnextScrollLeft += rtlDirection * (newItemLeft - currentScrollLeft);\n\t\t}\n\n\t\treturn nextScrollLeft;\n\t}\n\n\t/**\n\t * Calculates the new top and left position for scroller based on focusedItem.\n\t *\n\t * @param {Node} item node\n\t * @param {Number} scrollPosition last target position, passed scroll animation is ongoing\n\t *\n\t * @returns {Object} with keys {top, left} containing calculated top and left positions for scroll.\n\t * @private\n\t */\n\tfunction calculatePositionOnFocus ({item, scrollPosition}) {\n\t\tconst containerNode = scrollContentRef.current;\n\t\tconst horizontal = scrollContentHandle.current.isHorizontal();\n\t\tconst vertical = scrollContentHandle.current.isVertical();\n\n\t\tif (!vertical && !horizontal || !item || !utilDOM.containsDangerously(containerNode, item)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst containerRect = getRect(containerNode);\n\t\tconst itemRect = getRect(item);\n\n\t\tif (horizontal && !(itemRect.left >= containerRect.left && itemRect.right <= containerRect.right)) {\n\t\t\tscrollContentHandle.current.scrollPos.left = calculateScrollLeft(item, scrollPosition);\n\t\t}\n\n\t\tif (vertical && !(itemRect.top >= containerRect.top && itemRect.bottom <= containerRect.bottom)) {\n\t\t\tscrollContentHandle.current.scrollPos.top = calculateScrollTop(item);\n\t\t}\n\n\t\treturn scrollContentHandle.current.scrollPos;\n\t}\n\n\tfunction focusOnNode (node) {\n\t\tif (node) {\n\t\t\tSpotlight.focus(node);\n\t\t}\n\t}\n\n\t// Return\n\n\treturn {\n\t\tcalculatePositionOnFocus,\n\t\tfocusOnNode,\n\t\tsetContainerDisabled\n\t};\n};\n\nconst useThemeScroller = (props) => {\n\tconst {scrollContainerRef, scrollContentHandle, ...rest} = props;\n\tconst {scrollContentRef} = rest;\n\n\tdelete rest.onUpdate;\n\tdelete rest.scrollAndFocusScrollbarButton;\n\tdelete rest.scrollContainerContainsDangerously;\n\tdelete rest.scrollContainerHandle;\n\tdelete rest.setThemeScrollContentHandle;\n\tdelete rest.spotlightId;\n\n\t// Hooks\n\n\tconst {calculatePositionOnFocus, focusOnNode, setContainerDisabled} = useSpottable(props, {scrollContainerRef, scrollContentHandle, scrollContentRef});\n\n\tprops.setThemeScrollContentHandle({\n\t\tcalculatePositionOnFocus,\n\t\tfocusOnNode,\n\t\tsetContainerDisabled\n\t});\n\n\t// Render\n\n\treturn rest;\n};\n\nexport default useThemeScroller;\nexport {\n\tuseThemeScroller\n};\n","import Spotlight from '@enact/spotlight';\nimport {useEffect} from 'react';\n\nconst useSpotlightConfig = (props, instances) => {\n\tconst {scrollContentHandle} = instances;\n\n\t// Hooks\n\n\tuseEffect(() => {\n\t\tfunction handleLeaveContainer ({direction, target}) {\n\t\t\t// ensure we only scroll to boundary from the contents and not a scroll button which\n\t\t\t// lie outside of scrollContentRef but within the spotlight container\n\t\t\tif (props.scrollContainerContainsDangerously(target)) {\n\t\t\t\tconst\n\t\t\t\t\t{scrollBounds: {maxLeft, maxTop}, scrollPos: {left, top}} = scrollContentHandle.current,\n\t\t\t\t\tisVerticalDirection = (direction === 'up' || direction === 'down'),\n\t\t\t\t\tpos = isVerticalDirection ? top : left,\n\t\t\t\t\tmax = isVerticalDirection ? maxTop : maxLeft;\n\n\t\t\t\t// If max is equal to 0, it means scroller can not scroll to the direction.\n\t\t\t\tif (pos >= 0 && pos <= max && max !== 0) {\n\t\t\t\t\tprops.scrollAndFocusScrollbarButton(direction);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction configureSpotlight () {\n\t\t\tSpotlight.set(props.spotlightId, {\n\t\t\t\tonLeaveContainer: handleLeaveContainer,\n\t\t\t\tonLeaveContainerFail: handleLeaveContainer\n\t\t\t});\n\t\t}\n\n\t\tconfigureSpotlight();\n\t}, [props, scrollContentHandle]);\n};\n\nexport {\n\tuseSpotlightConfig\n};\n","/**\n * Provides Agate-themed scroller components and behaviors.\n *\n * @example\n * <Scroller>\n * \t<div style={{height: '300px'}}>\n * \t\t<p>San Francisco</p>\n * \t\t<p>Seoul</p>\n * \t\t<p>Bangalore</p>\n * \t\t<p>New York</p>\n * \t\t<p>London</p>\n * \t</div>\n * </Scroller>\n *\n * @module agate/Scroller\n * @exports Scroller\n */\n\nimport {I18nContextDecorator} from '@enact/i18n/I18nDecorator';\nimport SpotlightContainerDecorator from '@enact/spotlight/SpotlightContainerDecorator';\nimport {ResizeContext} from '@enact/ui/Resizable';\nimport {ScrollerBasic as UiScrollerBasic} from '@enact/ui/Scroller';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport useScroll from '../useScroll';\nimport Scrollbar from '../useScroll/Scrollbar';\nimport Skinnable from '../Skinnable';\n\nimport useThemeScroller from './useThemeScroller';\n\nconst nop = () => {};\n\n/**\n * An Agate-styled Scroller, useScroll applied.\n *\n * Usage:\n * ```\n * <Scroller>Scroll me.</Scroller>\n * ```\n *\n * @class Scroller\n * @memberof agate/Scroller\n * @extends ui/Scroller.ScrollerBasic\n * @ui\n * @public\n */\nlet Scroller = (props) => {\n\t// Hooks\n\n\tconst {\n\t\tscrollContentWrapper: ScrollContentWrapper,\n\t\tscrollContentHandle,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible,\n\n\t\tresizeContextProps,\n\t\tscrollContainerProps,\n\t\tscrollInnerContainerProps,\n\t\tscrollContentWrapperProps,\n\t\tscrollContentProps,\n\t\tverticalScrollbarProps,\n\t\thorizontalScrollbarProps\n\t} = useScroll(props);\n\n\tconst themeScrollContentProps = useThemeScroller(scrollContentProps);\n\n\t// Render\n\treturn (\n\t\t<ResizeContext.Provider {...resizeContextProps}>\n\t\t\t<div {...scrollContainerProps}>\n\t\t\t\t<div {...scrollInnerContainerProps}>\n\t\t\t\t\t<ScrollContentWrapper {...scrollContentWrapperProps}>\n\t\t\t\t\t\t<UiScrollerBasic {...themeScrollContentProps} ref={scrollContentHandle} />\n\t\t\t\t\t</ScrollContentWrapper>\n\t\t\t\t\t{isVerticalScrollbarVisible ? <Scrollbar {...verticalScrollbarProps} /> : null}\n\t\t\t\t</div>\n\t\t\t\t{isHorizontalScrollbarVisible ? <Scrollbar {...horizontalScrollbarProps} /> : null}\n\t\t\t</div>\n\t\t</ResizeContext.Provider>\n\t);\n};\n\nScroller.displayName = 'Scroller';\n\nScroller.propTypes = /** @lends agate/Scroller.Scroller.prototype */ {\n\t/**\n\t * A callback function that receives a reference to the `scrollTo` feature.\n\t *\n\t * Once received, the `scrollTo` method can be called as an imperative interface.\n\t *\n\t * - {position: {x, y}} - Pixel value for x and/or y position\n\t * - {align} - Where the scroll area should be aligned. Values are:\n\t *   `'left'`, `'right'`, `'top'`, `'bottom'`,\n\t *   `'topleft'`, `'topright'`, `'bottomleft'`, and `'bottomright'`.\n\t * - {node} - Node to scroll into view\n\t * - {animate} - When `true`, scroll occurs with animation. When `false`, no\n\t *   animation occurs.\n\t * - {focus} - When `true`, attempts to focus item after scroll. Only valid when scrolling\n\t *   by `node`.\n\t * > Note: Only specify one of: `position`, `align`, `node`\n\t *\n\t * Example:\n\t * ```\n\t *\t// If you set cbScrollTo prop like below;\n\t *\tcbScrollTo: (fn) => {this.scrollTo = fn;}\n\t *\t// You can simply call like below;\n\t *\tthis.scrollTo({align: 'top'}); // scroll to the top\n\t * ```\n\t *\n\t * @type {Function}\n\t * @public\n\t */\n\tcbScrollTo: PropTypes.func,\n\n\t/**\n\t * This is set to `true` by SpotlightContainerDecorator\n\t *\n\t * @type {Boolean}\n\t * @private\n\t */\n\t'data-spotlight-container': PropTypes.bool,\n\n\t/**\n\t * `false` if the content of the scroller could get focus\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\t'data-spotlight-container-disabled': PropTypes.bool,\n\n\t/**\n\t * This is passed onto the wrapped component to allow\n\t * it to customize the spotlight container for its use case.\n\t *\n\t * @type {String}\n\t * @private\n\t */\n\t'data-spotlight-id': PropTypes.string,\n\n\t/**\n\t * Direction of the scroller.\n\t *\n\t * Valid values are:\n\t * * `'both'`,\n\t * * `'horizontal'`, and\n\t * * `'vertical'`.\n\t *\n\t * @type {String}\n\t * @default 'both'\n\t * @public\n\t */\n\tdirection: PropTypes.oneOf(['both', 'horizontal', 'vertical']),\n\n\t/**\n\t * Allows 5-way navigation to the scrollbar controls. By default, 5-way will\n\t * not move focus to the scrollbar controls.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tfocusableScrollbar: PropTypes.bool,\n\n\t/**\n\t * Specifies how to show horizontal scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {String}\n\t * @default 'auto'\n\t * @public\n\t */\n\thorizontalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n\n\t/**\n\t * Unique identifier for the component.\n\t *\n\t * When defined and when the `Scroller` is within a [Panel]{@link agate/Panels.Panel}, the\n\t * `Scroller` will store its scroll position and restore that position when returning to the\n\t * `Panel`.\n\t *\n\t * @type {String}\n\t * @public\n\t */\n\tid: PropTypes.string,\n\n\t/**\n\t * Prevents scroll by wheeling on the scroller.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tnoScrollByWheel: PropTypes.bool,\n\n\t/**\n\t * Called when scrolling.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`.\n\t * It is not recommended to set this prop since it can cause performance degradation.\n\t * Use `onScrollStart` or `onScrollStop` instead.\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @public\n\t */\n\tonScroll: PropTypes.func,\n\n\t/**\n\t * Called when scroll starts.\n\t *\n\t * Passes `scrollLeft` and `scrollTop`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStart = ({scrollLeft, scrollTop}) => {\n\t *     // do something with scrollLeft and scrollTop\n\t * }\n\t *\n\t * render = () => (\n\t *     <Scroller\n\t *         ...\n\t *         onScrollStart={this.onScrollStart}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @public\n\t */\n\tonScrollStart: PropTypes.func,\n\n\t/**\n\t * Called when scroll stops.\n\t *\n\t * Passes `scrollLeft` and `scrollTop`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStop = ({scrollLeft, scrollTop}) => {\n\t *     // do something with scrollLeft and scrollTop\n\t * }\n\t *\n\t * render = () => (\n\t *     <Scroller\n\t *         ...\n\t *         onScrollStop={this.onScrollStop}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @public\n\t */\n\tonScrollStop: PropTypes.func,\n\n\t/**\n\t * Specifies preventing keydown events from bubbling up to applications.\n\t * Valid values are `'none'`, and `'programmatic'`.\n\t *\n\t * When it is `'none'`, every keydown event is bubbled.\n\t * When it is `'programmatic'`, an event bubbling is not allowed for a keydown input\n\t * which invokes programmatic spotlight moving.\n\t *\n\t * @type {String}\n\t * @default 'none'\n\t * @private\n\t */\n\tpreventBubblingOnKeyDown: PropTypes.oneOf(['none', 'programmatic']),\n\n\t/**\n\t * Sets the hint string read when focusing the next button in the vertical scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll down')\n\t * @public\n\t */\n\tscrollDownAriaLabel: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the previous button in the horizontal scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll left')\n\t * @public\n\t */\n\tscrollLeftAriaLabel: PropTypes.string,\n\n\t/**\n\t * Specifies how to scroll.\n\t *\n\t * Valid values are:\n\t * * `'translate'`,\n\t * * `'native'`.\n\t *\n\t * @type {('native'|'translate')}\n\t * @default 'translate'\n\t * @public\n\t */\n\tscrollMode: PropTypes.oneOf(['native', 'translate']),\n\n\t/**\n\t * Sets the hint string read when focusing the next button in the horizontal scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll right')\n\t * @public\n\t */\n\tscrollRightAriaLabel: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the previous button in the vertical scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll up')\n\t * @public\n\t */\n\tscrollUpAriaLabel: PropTypes.string,\n\n\t/**\n\t * Specifies how to show vertical scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {String}\n\t * @default 'auto'\n\t * @public\n\t */\n\tverticalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden'])\n};\n\nScroller = Skinnable(\n\tSpotlightContainerDecorator(\n\t\t{\n\t\t\toverflow: true,\n\t\t\tpreserveId: true,\n\t\t\trestrict: 'self-first'\n\t\t},\n\t\tI18nContextDecorator(\n\t\t\t{rtlProp: 'rtl'},\n\t\t\tScroller\n\t\t)\n\t)\n);\n\nScroller.defaultProps = {\n\t'data-spotlight-container-disabled': false,\n\tcbScrollTo: nop,\n\tdirection: 'both',\n\tfocusableScrollbar: false,\n\thorizontalScrollbar: 'auto',\n\tnoScrollByWheel: false,\n\tonScroll: nop,\n\tonScrollStart: nop,\n\tonScrollStop: nop,\n\tpreventBubblingOnKeyDown: 'none',\n\tscrollMode: 'translate',\n\tverticalScrollbar: 'auto'\n};\n\nexport default Scroller;\nexport {\n\tScroller\n};\n","import {forward} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport {Job} from '@enact/core/util';\nimport React from 'react';\n\nconst STATE = {\n\tinactive: 0,\t// Marquee is not necessary (render or focus not happened)\n\tactive: 1,\t\t// Marquee in progress, awaiting complete\n\tready: 2\t\t// Marquee completed or not needed, but state is active\n};\n\nconst MarqueeControllerContext = React.createContext(null);\n\n/**\n * Default configuration parameters for {@link ui/Marquee.MarqueeController}.\n *\n * @type {Object}\n * @memberof ui/Marquee.MarqueeController\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * When `true`, any `onFocus` events that bubble to the controller will start the contained\n\t * `Marquee` instances. This is useful when a component contains `Marquee` instances that need to be\n\t * started when sibling components are focused.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @memberof ui/Marquee.MarqueeController.defaultConfig\n\t */\n\tmarqueeOnFocus: false\n};\n\n/**\n * A higher-order component that synchronizes contained `Marquee`s.\n *\n * @memberof ui/Marquee\n * @hoc\n * @public\n */\nconst MarqueeController = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {marqueeOnFocus} = config;\n\tconst forwardBlur = forward('onBlur');\n\tconst forwardFocus = forward('onFocus');\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'MarqueeController';\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.controlled = [];\n\t\t\tthis.isFocused = false;\n\t\t\tthis.childContext = {\n\t\t\t\tcancel: this.handleCancel,\n\t\t\t\tcomplete: this.handleComplete,\n\t\t\t\tenter: this.handleEnter,\n\t\t\t\tleave: this.handleLeave,\n\t\t\t\tregister: this.handleRegister,\n\t\t\t\tstart: this.handleStart,\n\t\t\t\tunregister: this.handleUnregister\n\t\t\t};\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tthis.cancelJob.stop();\n\t\t}\n\n\t\tcancelJob = new Job(() => this.doCancel(), 30);\n\n\t\t/*\n\t\t * Registers `component` with a set of handlers for `start` and `stop`.\n\t\t *\n\t\t * @param\t{Object}\tcomponent\tA component, typically a React component instance, on\n\t\t *\t\t\t\t\t\t\t\t\twhich handlers will be dispatched.\n\t\t * @param\t{Object}\thandlers\tAn object containing `start` and `stop` functions\n\t\t *\n\t\t * @returns {undefined}\n\t\t */\n\t\thandleRegister = (component, handlers) => {\n\t\t\tconst needsStart = !this.allInactive() || this.isFocused;\n\n\t\t\tthis.controlled.push({\n\t\t\t\t...handlers,\n\t\t\t\tstate: STATE.inactive,\n\t\t\t\tcomponent\n\t\t\t});\n\n\t\t\tif (needsStart) {\n\t\t\t\tthis.dispatch('start');\n\t\t\t}\n\t\t};\n\n\t\t/*\n\t\t * Unregisters `component` for synchronization\n\t\t *\n\t\t * @param\t{Object}\tcomponent\tA previously registered component\n\t\t *\n\t\t * @returns\t{undefined}\n\t\t */\n\t\thandleUnregister = (component) => {\n\t\t\tlet wasRunning = false;\n\t\t\tfor (let i = 0; i < this.controlled.length; i++) {\n\t\t\t\tif (this.controlled[i].component === component) {\n\t\t\t\t\twasRunning = this.controlled[i].state === STATE.active;\n\t\t\t\t\tthis.controlled.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (wasRunning && !this.anyRunning()) {\n\t\t\t\tthis.dispatch('start');\n\t\t\t}\n\t\t};\n\n\t\t/*\n\t\t * Handler for the `start` context function\n\t\t *\n\t\t * @param\t{Object}\tcomponent\tA previously registered component\n\t\t *\n\t\t * @returns\t{undefined}\n\t\t */\n\t\thandleStart = (component) => {\n\t\t\tthis.cancelJob.stop();\n\t\t\tif (!this.anyRunning()) {\n\t\t\t\tthis.markAll(STATE.ready);\n\t\t\t\tthis.dispatch('start', component);\n\t\t\t}\n\t\t};\n\n\t\t/*\n\t\t * Handler for the `cancel` context function\n\t\t *\n\t\t * @param\t{Object}\tcomponent\tA previously registered component\n\t\t *\n\t\t * @returns\t{undefined}\n\t\t */\n\t\thandleCancel = () => {\n\t\t\tif (this.anyRunning()) {\n\t\t\t\tthis.cancelJob.start();\n\t\t\t}\n\t\t};\n\n\t\tdoCancel = () => {\n\t\t\tif (this.isHovered || this.isFocused) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.markAll(STATE.inactive);\n\t\t\tthis.dispatch('stop');\n\t\t};\n\n\t\t/*\n\t\t * Handler for the `complete` context function\n\t\t *\n\t\t * @param\t{Object}\tcomponent\tA previously registered component\n\t\t *\n\t\t * @returns\t{undefined}\n\t\t */\n\t\thandleComplete = (component) => {\n\t\t\tconst complete = this.markReady(component);\n\t\t\tif (complete) {\n\t\t\t\tthis.markAll(STATE.ready);\n\t\t\t\tthis.dispatch('start');\n\t\t\t}\n\t\t};\n\n\t\thandleEnter = () => {\n\t\t\tthis.isHovered = true;\n\t\t\tif (!this.anyRunning()) {\n\t\t\t\tthis.dispatch('start');\n\t\t\t}\n\t\t\tthis.cancelJob.stop();\n\t\t};\n\n\t\thandleLeave = () => {\n\t\t\tthis.isHovered = false;\n\t\t\tthis.cancelJob.start();\n\t\t};\n\n\t\t/*\n\t\t * Handler for the focus event\n\t\t */\n\t\thandleFocus = (ev) => {\n\t\t\tthis.isFocused = true;\n\t\t\tif (!this.anyRunning()) {\n\t\t\t\tthis.dispatch('start');\n\t\t\t}\n\t\t\tthis.cancelJob.stop();\n\t\t\tforwardFocus(ev, this.props);\n\t\t};\n\n\t\t/*\n\t\t * Handler for the blur event\n\t\t */\n\t\thandleBlur = (ev) => {\n\t\t\tthis.isFocused = false;\n\t\t\tif (this.anyRunning()) {\n\t\t\t\tthis.cancelJob.start();\n\t\t\t}\n\t\t\tforwardBlur(ev, this.props);\n\t\t};\n\n\t\t/*\n\t\t * Invokes the `action` handler for each synchronized component except the invoking\n\t\t * `component`.\n\t\t *\n\t\t * @param\t{String}\taction\t\t`'start'` or `'stop'`\n\t\t * @param\t{Object}\tcomponent\tA previously registered component\n\t\t *\n\t\t * @returns\t{undefined}\n\t\t */\n\t\tdispatch (action, component) {\n\t\t\tthis.controlled.forEach((controlled) => {\n\t\t\t\tconst {component: controlledComponent, [action]: handler} = controlled;\n\t\t\t\tif (component !== controlledComponent && typeof handler === 'function') {\n\t\t\t\t\tconst complete = handler.call(controlledComponent);\n\n\t\t\t\t\t// Returning `true` from a start request means that the marqueeing is\n\t\t\t\t\t// unnecessary and is therefore not awaiting a finish\n\t\t\t\t\tif (action === 'start' && complete) {\n\t\t\t\t\t\tcontrolled.state = STATE.ready;\n\t\t\t\t\t} else if (action === 'start') {\n\t\t\t\t\t\tcontrolled.state = STATE.active;\n\t\t\t\t\t}\n\t\t\t\t} else if ((action === 'start') && (component === controlledComponent)) {\n\t\t\t\t\tcontrolled.state = STATE.active;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t/*\n\t\t * Marks all components with the passed-in state\n\t\t *\n\t\t * @param\t{Enum}\tstate\tThe state to set\n\t\t *\n\t\t * @returns\t{undefined}\n\t\t */\n\t\tmarkAll (state) {\n\t\t\tthis.controlled.forEach(c => {\n\t\t\t\tc.state = state;\n\t\t\t});\n\t\t}\n\n\t\t/*\n\t\t * Marks `component` as ready for next marquee action\n\t\t *\n\t\t * @param\t{Object}\tcomponent\tA previously registered component\n\t\t *\n\t\t * @returns\t{Boolean}\t\t\t\t`true` if no components are STATE.active\n\t\t */\n\t\tmarkReady (component) {\n\t\t\tlet complete = true;\n\t\t\tthis.controlled.forEach(c => {\n\t\t\t\tif (c.component === component) {\n\t\t\t\t\tc.state = STATE.ready;\n\t\t\t\t}\n\n\t\t\t\tcomplete = complete && (c.state !== STATE.active);\n\t\t\t});\n\n\t\t\treturn complete;\n\t\t}\n\n\t\t/*\n\t\t * Checks that all components are inactive\n\t\t *\n\t\t * @returns {Boolean} `true` if any components should be running\n\t\t */\n\t\tallInactive () {\n\t\t\tconst activeOrReady = this.controlled.reduce((res, component) => {\n\t\t\t\treturn res || !(component.state === STATE.inactive);\n\t\t\t}, false);\n\t\t\treturn !activeOrReady;\n\t\t}\n\n\t\t/*\n\t\t * Checks for any components currently marqueeing\n\t\t *\n\t\t * @returns {Boolean} `true` if any component is marqueeing\n\t\t */\n\t\tanyRunning () {\n\t\t\treturn this.controlled.reduce((res, component) => {\n\t\t\t\treturn res || (component.state === STATE.active);\n\t\t\t}, false);\n\t\t}\n\n\t\trender () {\n\t\t\tlet props = this.props;\n\n\t\t\tif (marqueeOnFocus) {\n\t\t\t\tprops = {\n\t\t\t\t\t...this.props,\n\t\t\t\t\tonBlur: this.handleBlur,\n\t\t\t\t\tonFocus: this.handleFocus\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<MarqueeControllerContext.Provider value={this.childContext}>\n\t\t\t\t\t<Wrapped {...props} />\n\t\t\t\t</MarqueeControllerContext.Provider>\n\t\t\t);\n\t\t}\n\t};\n\n});\n\nexport default MarqueeController;\nexport {\n\tMarqueeController,\n\tMarqueeControllerContext\n};\n","import direction from 'direction';\nimport {on, off} from '@enact/core/dispatcher';\nimport {forward} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport {is} from '@enact/core/keymap';\nimport {Job} from '@enact/core/util';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport shallowEqual from 'recompose/shallowEqual';\nimport warning from 'warning';\n\nimport {scale} from '../resolution';\nimport {ResizeContext} from '../Resizable';\n\nimport MarqueeBase from './MarqueeBase';\nimport {MarqueeControllerContext} from './MarqueeController';\n\nimport css from './Marquee.module.less';\n\n/**\n * Default configuration parameters for {@link ui/Marquee.MarqueeDecorator}\n *\n * @type {Object}\n * @memberof ui/Marquee.MarqueeDecorator\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Property containing the callback to stop the animation when `marqueeOn` is `'focus'`\n\t *\n\t * @type {String}\n\t * @default 'onBlur'\n\t * @memberof ui/Marquee.MarqueeDecorator.defaultConfig\n\t */\n\tblur: 'onBlur',\n\n\t/**\n\t * Optional CSS class name to customize the marquee `component`\n\t *\n\t * @type {String}\n\t * @default null\n\t * @memberof ui/Marquee.MarqueeDecorator.defaultConfig\n\t */\n\tclassName: null,\n\n\t/**\n\t * The base marquee component wrapping the content.\n\t *\n\t * @type {Component}\n\t * @default ui/Marquee.Marquee\n\t * @memberof ui/Marquee.MarqueeDecorator.defaultConfig\n\t */\n\tcomponent: MarqueeBase,\n\n\t/**\n\t * Property containing the callback to start the animation when `marqueeOn` is `'hover'`\n\t *\n\t * @type {String}\n\t * @default 'onMouseEnter'\n\t * @memberof ui/Marquee.MarqueeDecorator.defaultConfig\n\t */\n\tenter: 'onMouseEnter',\n\n\t/**\n\t * Property containing the callback to start the animation when `marqueeOn` is `'focus'`\n\t *\n\t * @type {String}\n\t * @default 'onFocus'\n\t * @memberof ui/Marquee.MarqueeDecorator.defaultConfig\n\t */\n\tfocus: 'onFocus',\n\n\t/**\n\t* Invalidate the distance if any property (like 'inline') changes.\n\t* Expects an array of props which on change trigger invalidateMetrics.\n\t*\n\t* @type {String[]}\n\t* @default ['remeasure']\n\t* @memberof ui/Marquee.MarqueeDecorator.defaultConfig\n\t*/\n\tinvalidateProps: ['remeasure'],\n\n\t/**\n\t * Property containing the callback to stop the animation when `marqueeOn` is `'hover'`\n\t *\n\t * @type {String}\n\t * @default 'onMouseLeave'\n\t * @memberof ui/Marquee.MarqueeDecorator.defaultConfig\n\t */\n\tleave: 'onMouseLeave',\n\n\t/**\n\t * A function that determines the text directionality of a string.\n\t *\n\t * Returns:\n\t * * `'rtl'` if the text should marquee to the right\n\t * * `'ltr'` if the text should marquee to the left\n\t *\n\t * @type {Function}\n\t * @kind member\n\t * @memberof ui/Marquee.MarqueeDecorator.defaultConfig\n\t */\n\tmarqueeDirection: (str) => direction(str) === 'rtl' ? 'rtl' : 'ltr'\n};\n\n/*\n * Checks whether any of the invalidateProps has changed or not\n *\n * @param {String[]} propList An array of invalidateProps\n * @param {Object} prev Previous props\n * @param {Object} next Next props\n * @returns {Boolean} `true` if any of the props changed\n * @private\n */\nconst didPropChange = (propList, prev, next) => {\n\tconst hasPropsChanged = propList.map(i => prev[i] !== next[i]);\n\treturn hasPropsChanged.indexOf(true) !== -1;\n};\n\n/*\n * There's only one timer shared for Marquee so we need to keep track of what we may be using it\n * for. We may need to clean up certain things as we move among states.\n */\nconst TimerState = {\n\tCLEAR: 0,\t\t\t\t// No timers pending\n\tSTART_PENDING: 1,\t\t// A start request is pending\n\tRESET_PENDING: 2,\t\t// Marquee finished, waiting for reset delay\n\tSYNCSTART_PENDING: 3\t// Waiting to alert Controller that we want to start marqueeing\n};\n\n/**\n * A higher-order component that provides marquee functionalities.\n *\n * Note: This HoC passes additional properties to the wrapped component and wraps the `children`\n * prop with an additional component necessary for rendering the marquee.\n *\n * @class MarqueeDecorator\n * @memberof ui/Marquee\n * @hoc\n * @public\n */\nconst MarqueeDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {blur, className: configClassName, component: MarqueeComponent, enter, focus, invalidateProps, leave, marqueeDirection} = config;\n\n\t// Generate functions to forward events to containers\n\tconst forwardBlur = forward(blur);\n\tconst forwardFocus = forward(focus);\n\tconst forwardEnter = forward(enter);\n\tconst forwardLeave = forward(leave);\n\n\tconst determineTextDirection = (node, rtl, forceDirection) => {\n\t\t// Text directionality is a function of locale direction (rtl), content (node.textContent),\n\t\t// and props (forceDirection) in increasing order of significance.\n\t\tif (forceDirection) {\n\t\t\trtl = forceDirection === 'rtl';\n\t\t} else if (node) {\n\t\t\trtl = marqueeDirection(node.textContent) === 'rtl';\n\t\t}\n\n\t\treturn rtl;\n\t};\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'ui:MarqueeDecorator';\n\n\t\tstatic propTypes = /** @lends ui/Marquee.MarqueeDecorator.prototype */ {\n\t\t\t/**\n\t\t\t * Text alignment value of the marquee. Valid values are `'left'`, `'right'` and `'center'`.\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\talignment: PropTypes.oneOf(['left', 'right', 'center']),\n\n\t\t\t/**\n\t\t\t * Children to be marqueed\n\t\t\t *\n\t\t\t * @type {Node}\n\t\t\t * @public\n\t\t\t */\n\t\t\tchildren: PropTypes.node,\n\n\t\t\t/**\n\t\t\t * Passed through to the wrapped component.\n\t\t\t *\n\t\t\t * Does not affect Marquee behavior except that components that are `marqueeOn=\"focus\"`\n\t\t\t * will be treated as if they were `marqueeOn=\"hover\"`, to allow disabled (and thus,\n\t\t\t * unfocusable) components to marquee.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @public\n\t\t\t */\n\t\t\tdisabled: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Forces the `direction` of the marquee.\n\t\t\t *\n\t\t\t * Valid values are `'rtl'` and `'ltr'`. This includes non-text elements as well.\n\t\t\t * The default behavior, if this prop is unset, is to evaluate the text content for\n\t\t\t * directionality using {@link i18n/util.isRtlText}.\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\tforceDirection: PropTypes.oneOf(['rtl', 'ltr']),\n\n\t\t\t/**\n\t\t\t * The current locale as a\n\t\t\t * {@link https://tools.ietf.org/html/rfc5646|BCP 47 language tag}.\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\tlocale: PropTypes.string,\n\n\t\t\t/**\n\t\t\t * Number of milliseconds to wait before starting marquee when `marqueeOn` is `'hover'` or\n\t\t\t * `'focus'` or before restarting any marquee.\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 1000\n\t\t\t * @public\n\t\t\t */\n\t\t\tmarqueeDelay: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * Disables all marquee behavior and removes supporting markup.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t */\n\t\t\tmarqueeDisabled: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Determines what triggers the marquee to start its animation.\n\t\t\t *\n\t\t\t * @type {('focus'|'hover'|'render')}\n\t\t\t * @default 'focus'\n\t\t\t * @public\n\t\t\t */\n\t\t\tmarqueeOn: PropTypes.oneOf(['focus', 'hover', 'render']),\n\n\t\t\t/**\n\t\t\t * Number of milliseconds to wait before starting marquee the first time.\n\t\t\t *\n\t\t\t * Has no effect if `marqueeOn` is not `'render'`\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 1000\n\t\t\t * @public\n\t\t\t */\n\t\t\tmarqueeOnRenderDelay: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * Number of milliseconds to wait before resetting the marquee position after it\n\t\t\t * finishes.\n\t\t\t *\n\t\t\t * A minimum of 40 milliseconds is enforced.\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 1000\n\t\t\t * @public\n\t\t\t */\n\t\t\tmarqueeResetDelay: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * Amount of spacing between the instances of the content when animating.\n\t\t\t *\n\t\t\t * May either be a number indicating the number of pixels or a string indicating the\n\t\t\t * percentage relative to the width of the component.\n\t\t\t *\n\t\t\t * *Note:* When using a number, the value should be based on 1920x1080 display and\n\t\t\t * will be scaled automatically for the current resolution using {@link ui/resolution}.\n\t\t\t *\n\t\t\t * @type {String | Number}\n\t\t\t * @default '50%'\n\t\t\t * @public\n\t\t\t */\n\t\t\tmarqueeSpacing: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n\t\t\t/**\n\t\t\t * Rate of marquee measured in pixels/second.\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 60\n\t\t\t * @public\n\t\t\t */\n\t\t\tmarqueeSpeed: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * Used to signal for a remeasurement inside of marquee.\n\t\t\t *\n\t\t\t * The value must change for the remeasurement to take place. The value\n\t\t\t * type is `any` because it does not matter. It is only used to check for changes.\n\t\t\t *\n\t\t\t * @private\n\t\t\t */\n\t\t\tremeasure: PropTypes.any,\n\n\t\t\t/**\n\t\t\t * Indicates the text directionality of the current locale is right-to-left\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\trtl: PropTypes.bool\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\tmarqueeDelay: 1000,\n\t\t\tmarqueeOn: 'focus',\n\t\t\tmarqueeOnRenderDelay: 1000,\n\t\t\tmarqueeResetDelay: 1000,\n\t\t\tmarqueeSpacing: '50%',\n\t\t\tmarqueeSpeed: 60\n\t\t};\n\n\t\tstatic contextType = MarqueeControllerContext;\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tthis.state = {\n\t\t\t\tanimating: false,\n\t\t\t\toverflow: 'ellipsis',\n\t\t\t\tpromoted: false,\n\t\t\t\trtl: determineTextDirection(null, props.rtl, props.forceDirection)\n\t\t\t};\n\t\t\tthis.sync = false;\n\t\t\tthis.timerState = TimerState.CLEAR;\n\t\t\tthis.distance = null;\n\t\t\tthis.contentFits = false;\n\t\t\tthis.resizeRegistry = null;\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\tif (this.context && this.context.register) {\n\t\t\t\tthis.sync = true;\n\t\t\t\tthis.context.register(this, {\n\t\t\t\t\tstart: this.start,\n\t\t\t\t\tstop: this.stop\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.validateTextDirection();\n\t\t\tif (this.props.marqueeOn === 'render') {\n\t\t\t\tthis.startAnimation(this.props.marqueeOnRenderDelay);\n\t\t\t}\n\t\t\ton('keydown', this.handlePointerHide);\n\t\t}\n\n\t\tshouldComponentUpdate (nextProps, nextState) {\n\t\t\treturn (\n\t\t\t\t!shallowEqual(this.state, nextState) ||\n\t\t\t\t!shallowEqual(this.props, nextProps)\n\t\t\t);\n\t\t}\n\n\t\tcomponentDidUpdate (prevProps) {\n\t\t\tconst {children, disabled, forceDirection, locale, marqueeOn, marqueeDisabled, marqueeSpacing, marqueeSpeed, rtl} = this.props;\n\n\t\t\tlet forceRestartMarquee = false;\n\n\t\t\tif (\n\t\t\t\tprevProps.locale !== locale ||\n\t\t\t\tprevProps.rtl !== rtl ||\n\t\t\t\tprevProps.marqueeSpacing !== marqueeSpacing ||\n\t\t\t\t!shallowEqual(prevProps.children, children) ||\n\t\t\t\t(invalidateProps && didPropChange(invalidateProps, prevProps, this.props))\n\t\t\t) {\n\t\t\t\t// restart marqueeOn=\"render\" marquees or synced marquees that were animating\n\t\t\t\tforceRestartMarquee = marqueeOn === 'render' || (\n\t\t\t\t\tthis.sync && (this.state.animating || this.timerState > TimerState.CLEAR)\n\t\t\t\t);\n\n\t\t\t\tthis.invalidateMetrics();\n\t\t\t\tthis.cancelAnimation();\n\t\t\t} else if (\n\t\t\t\tprevProps.marqueeOn !== marqueeOn ||\n\t\t\t\tprevProps.marqueeDisabled !== marqueeDisabled ||\n\t\t\t\tprevProps.marqueeSpeed !== marqueeSpeed ||\n\t\t\t\tprevProps.forceDirection !== forceDirection\n\t\t\t) {\n\t\t\t\tthis.cancelAnimation();\n\t\t\t} else if (disabled && this.isHovered && marqueeOn === 'focus' && this.sync) {\n\t\t\t\tthis.context.enter(this);\n\t\t\t}\n\n\t\t\tthis.validateTextDirection();\n\t\t\tif (forceRestartMarquee || this.shouldStartMarquee()) {\n\t\t\t\tthis.tryStartingAnimation(this.props.marqueeOn === 'render' ? this.props.marqueeOnRenderDelay : this.props.marqueeDelay);\n\t\t\t}\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tthis.clearTimeout();\n\t\t\tthis.promoteJob.stop();\n\t\t\tthis.demoteJob.stop();\n\t\t\tif (this.sync) {\n\t\t\t\tthis.context.unregister(this);\n\t\t\t}\n\n\t\t\tif (this.resizeRegistry) {\n\t\t\t\tthis.resizeRegistry.unregister(this.handleResize);\n\t\t\t}\n\n\t\t\toff('keydown', this.handlePointerHide);\n\t\t}\n\n\t\tpromoteJob = new Job(() => {\n\t\t\tif (!this.contentFits) {\n\t\t\t\tthis.setState(state => state.promoted ? null : {promoted: true});\n\t\t\t}\n\t\t});\n\n\t\tdemoteJob = new Job(() => {\n\t\t\tthis.setState(state => (!state.animating && state.promoted) ? {promoted: false} : null);\n\t\t});\n\n\t\tdemote () {\n\t\t\tthis.promoteJob.stop();\n\t\t\tif (this.state.promoted) {\n\t\t\t\tthis.demoteJob.idle();\n\t\t\t}\n\t\t}\n\n\t\tpromote (delay = this.props.marqueeDelay) {\n\t\t\tthis.demoteJob.stop();\n\t\t\tthis.promoteJob.startAfter(Math.max(0, delay - 200));\n\t\t}\n\n\t\t/*\n\t\t * Clears the timer\n\t\t *\n\t\t * @returns {undefined}\n\t\t */\n\t\tclearTimeout () {\n\t\t\tif (window && this.timer) {\n\t\t\t\twindow.clearTimeout(this.timer);\n\t\t\t\tthis.timer = null;\n\t\t\t}\n\t\t\tthis.timerState = TimerState.CLEAR;\n\t\t}\n\n\t\t/*\n\t\t * Starts a new timer\n\t\t *\n\t\t * @param {Function} fn   Callback\n\t\t * @param {Number}   time Delay in milliseconds\n\t\t * @returns {undefined}\n\t\t */\n\t\tsetTimeout (fn, time = 0, state = TimerState.CLEAR) {\n\t\t\tthis.clearTimeout();\n\t\t\tif (window) {\n\t\t\t\tthis.timerState = state;\n\t\t\t\tthis.timer = window.setTimeout(() => {\n\t\t\t\t\tthis.timerState = TimerState.CLEAR;\n\t\t\t\t\tfn();\n\t\t\t\t}, time);\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t * Checks to see if the children changed during a condition that should cause us to re-check\n\t\t * the animation state\n\t\t *\n\t\t * @returns {Boolean} - `true` if a possible marquee condition exists\n\t\t */\n\t\tshouldStartMarquee () {\n\t\t\tconst {disabled, marqueeDisabled, marqueeOn} = this.props;\n\t\t\treturn !marqueeDisabled && (\n\t\t\t\tmarqueeOn === 'render' ||\n\t\t\t\t!this.sync && (\n\t\t\t\t\t(this.isFocused && marqueeOn === 'focus' && !disabled) ||\n\t\t\t\t\t(this.isHovered && (marqueeOn === 'hover' || marqueeOn === 'focus' && disabled))\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\t/*\n\t\t * Invalidates marquee metrics requiring them to be recalculated\n\t\t *\n\t\t * @returns {undefined}\n\t\t */\n\t\tinvalidateMetrics () {\n\t\t\tthis.spacing = 0;\n\t\t\t// Null distance is the special value to allow recalculation\n\t\t\tthis.distance = null;\n\t\t\t// Assume the marquee does not fit until calculations show otherwise\n\t\t\tthis.contentFits = false;\n\n\t\t\tthis.setState(state => {\n\t\t\t\tif (state.overflow === 'ellipsis' && state.promoted === false) return null;\n\n\t\t\t\treturn {\n\t\t\t\t\toverflow: 'ellipsis',\n\t\t\t\t\tpromoted: false\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\n\t\tmoveChildren (from, to) {\n\t\t\twhile (from.childNodes.length) {\n\t\t\t\tto.appendChild(from.childNodes.item(0));\n\t\t\t}\n\t\t}\n\n\t\tmeasureWidths () {\n\t\t\tif (this.node.querySelector(`.${css.marquee}`)) {\n\t\t\t\twarning(false, 'Marquee should not be nested inside another Marquee');\n\n\t\t\t\treturn {scrollWidth: this.node.scrollWidth, width: this.node.getBoundingClientRect().width};\n\t\t\t}\n\n\t\t\t// move all the children into the wrapper node ...\n\t\t\tconst wrapper = document.createElement('span');\n\t\t\tthis.moveChildren(this.node, wrapper);\n\t\t\tthis.node.appendChild(wrapper);\n\n\t\t\t// measure it to find the precise floating point width of the content ...\n\t\t\tconst {width: scrollWidth} = wrapper.getBoundingClientRect();\n\t\t\tconst {width} = this.node.getBoundingClientRect();\n\n\t\t\t// and move all the children back and remove the wrapper\n\t\t\tthis.node.removeChild(wrapper);\n\t\t\tthis.moveChildren(wrapper, this.node);\n\n\t\t\treturn {scrollWidth, width};\n\t\t}\n\n\t\t/*\n\t\t* Determines if the component should marquee and the distance to animate\n\t\t*\n\t\t* @returns {undefined}\n\t\t*/\n\t\tcalculateMetrics () {\n\t\t\tconst node = this.node;\n\n\t\t\t// TODO: absolute showing check (or assume that it won't be rendered if it isn't showing?)\n\t\t\tif (node && this.distance == null && !this.props.marqueeDisabled) {\n\t\t\t\tconst {width, scrollWidth} = this.measureWidths();\n\n\t\t\t\tthis.spacing = this.getSpacing(width);\n\t\t\t\tthis.distance = this.calculateDistance(width, scrollWidth, this.spacing);\n\t\t\t\tthis.contentFits = !this.shouldAnimate(this.distance);\n\n\t\t\t\tconst overflow = this.calculateTextOverflow(this.distance);\n\t\t\t\tthis.setState(state => {\n\t\t\t\t\treturn state.overflow === overflow ? null : {overflow};\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t * Calculates the distance the marquee must travel to reveal all of the content\n\t\t *\n\t\t * @param\t{Number}  width        Width of the node\n\t\t * @param\t{Number}  scrollWidth  Width of the node if it were unbounded\n\t\t * @param\t{Number}  spacing      Horizontal spacing\n\t\t * @returns\t{Number}               Distance to travel in pixels\n\t\t */\n\t\tcalculateDistance (width, scrollWidth, spacing) {\n\t\t\tconst overflow = scrollWidth - width;\n\n\t\t\tif (this.shouldAnimate(overflow)) {\n\t\t\t\treturn scrollWidth + spacing;\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t}\n\n\t\t/*\n\t\t * A custom overflow-determining method to reflect real-world truncation/ellipsis\n\t\t * calculation. This catches an edge case that the browser typically does not, where the\n\t\t * size of the text area is the same size as the container (zero distance difference), but\n\t\t * the browser still inserts an ellipsis due to a non-visible part of the last glyph's\n\t\t * render box overflowing the parent container size.\n\t\t * This scenario should not induce a marquee animation or ellipsis, so we directly set\n\t\t * Marquee to not use an ellipsis, and instead just clip the non-visible part of the glyph.\n\t\t *\n\t\t * @param\t{Number}\tdistance\tAmount of overflow in pixels\n\t\t * @returns\t{String}\t\t\t\ttext-overflow value\n\t\t */\n\t\tcalculateTextOverflow (distance) {\n\t\t\treturn distance === 0 ? 'clip' : 'ellipsis';\n\t\t}\n\n\t\tgetSpacing (width) {\n\t\t\tconst {marqueeSpacing} = this.props;\n\n\t\t\tif (typeof marqueeSpacing === 'string') {\n\t\t\t\tif (/^\\d+(\\.\\d+)?%$/.test(marqueeSpacing)) {\n\t\t\t\t\treturn width * Number.parseFloat(marqueeSpacing) / 100;\n\t\t\t\t}\n\n\t\t\t\t// warning for invalid string value;\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\treturn scale(marqueeSpacing);\n\t\t}\n\n\t\t/*\n\t\t * Calculates if the marquee should animate\n\t\t *\n\t\t * @param\t{Number}\tdistance\tAmount of overflow in pixels\n\t\t * @returns\t{Boolean}\t\t\t\t`true` if it should animated\n\t\t */\n\t\tshouldAnimate (distance) {\n\t\t\treturn distance > 0;\n\t\t}\n\n\t\t/*\n\t\t * Starts the animation without synchronizing\n\t\t *\n\t\t * @param\t{Number}\t[delay]\tMilliseconds to wait before animating\n\t\t * @returns\t{undefined}\n\t\t */\n\t\tstart = (delay = this.props.marqueeDelay) => {\n\t\t\tif (this.props.marqueeDisabled) {\n\t\t\t\t// if marquee isn't necessary, do not set `animating` but return `true` to mark it\n\t\t\t\t// complete if it's synchronized so it doesn't block other instances.\n\t\t\t\treturn true;\n\t\t\t} else if (!this.state.animating) {\n\t\t\t\t// Don't need to worry about this.timerState because if we're sync, we were just\n\t\t\t\t// told to start, so our state is correct already. If we're not sync, this will\n\t\t\t\t// restart us anyhow. If we were waiting to tell sync to start us, someone else in\n\t\t\t\t// our group already did it.\n\t\t\t\tthis.setTimeout(() => {\n\t\t\t\t\tthis.calculateMetrics();\n\t\t\t\t\tif (!this.contentFits) {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tpromoted: true,\n\t\t\t\t\t\t\tanimating: true\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (this.sync) {\n\t\t\t\t\t\tthis.context.complete(this);\n\t\t\t\t\t}\n\t\t\t\t}, delay, TimerState.START_PENDING);\n\t\t\t}\n\t\t};\n\n\t\t/*\n\t\t * Stops the animation\n\t\t *\n\t\t * @returns\t{undefined}\n\t\t */\n\t\tstop = () => {\n\t\t\tthis.clearTimeout();\n\n\t\t\tif (this.state.animating) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tanimating: false\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.demote();\n\t\t};\n\n\t\t/*\n\t\t * Starts marquee animation with synchronization, if not already animating and a timer is\n\t\t * not already active to start.\n\t\t *\n\t\t * @param {Number} [delay] Milliseconds to wait before animating\n\t\t * @returns {undefined}\n\t\t */\n\t\ttryStartingAnimation = (delay) => {\n\t\t\tif (this.state.animating || this.timerState !== TimerState.CLEAR) return;\n\n\t\t\tthis.startAnimation(delay);\n\t\t};\n\n\t\t/*\n\t\t * Starts marquee animation with synchronization\n\t\t *\n\t\t * @param {Number} [delay] Milliseconds to wait before animating\n\t\t * @returns {undefined}\n\t\t */\n\t\tstartAnimation = (delay) => {\n\t\t\tthis.promote(delay);\n\t\t\tif (this.sync) {\n\t\t\t\t// If we're running a timer for anything, we should let that finish, unless it's\n\t\t\t\t// another syncstart request.  We should probably check to see if the start request\n\t\t\t\t// is further in the future than we are so we can choose the nearer one. But, we're\n\t\t\t\t// assuming the condition is we're waiting on render delay and someone just hovered\n\t\t\t\t// us, so we can start with the (hopefully) faster hover delay.\n\t\t\t\tif (this.timerState !== TimerState.CLEAR &&\n\t\t\t\t\t\tthis.timerState !== TimerState.SYNCSTART_PENDING) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.setTimeout(() => {\n\t\t\t\t\tthis.context.start();\n\t\t\t\t}, delay, TimerState.SYNCSTART_PENDING);\n\t\t\t} else {\n\t\t\t\tthis.start(delay);\n\t\t\t}\n\t\t};\n\n\t\t/*\n\t\t * Resets the marquee and restarts it after `marqueeDelay` milliseconds.\n\t\t *\n\t\t * @returns {undefined}\n\t\t */\n\t\trestartAnimation = (delay) => {\n\t\t\tthis.setState({\n\t\t\t\tanimating: false\n\t\t\t});\n\t\t\t// synchronized Marquees defer to the controller to restart them\n\t\t\tif (this.sync) {\n\t\t\t\tthis.context.complete(this);\n\t\t\t} else if (!this.state.animating) {\n\t\t\t\tthis.startAnimation(delay);\n\t\t\t}\n\t\t};\n\n\t\t/*\n\t\t * Resets and restarts the marquee after `marqueeResetDelay` milliseconds\n\t\t *\n\t\t * @returns {undefined}\n\t\t */\n\t\tresetAnimation = () => {\n\t\t\tconst delay = Math.max(40, this.props.marqueeResetDelay + this.props.marqueeDelay);\n\t\t\t// If we're already timing a start action, don't reset.  Start actions will clear us if\n\t\t\t// sync.\n\t\t\tif (this.timerState === TimerState.CLEAR) {\n\t\t\t\t// If invoked immediately, the setState call in restartAnimation is batched and will\n\t\t\t\t// break any non-marquee-on-render instances because the subsequent startAnimation\n\t\t\t\t// isn't invoked. By setting a brief timeout, we decouple from the `onTransitionEnd`\n\t\t\t\t// event and setState is synchronous allowing the startAnimation to be called\n\t\t\t\t// immediately.\n\t\t\t\t//\n\t\t\t\t// This would be better moved into componentDidUpdate with more expansive state\n\t\t\t\t// values to indicate we need to reset an animation vs starting fresh.\n\t\t\t\tthis.setTimeout(() => {\n\t\t\t\t\tthis.restartAnimation(delay);\n\t\t\t\t}, 0, TimerState.RESET_PENDING);\n\t\t\t}\n\t\t};\n\n\t\t/*\n\t\t * Cancels the marquee\n\t\t *\n\t\t * @returns {undefined}\n\t\t */\n\t\tcancelAnimation = () => {\n\t\t\tif (this.sync) {\n\t\t\t\tthis.context.cancel(this);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.stop();\n\t\t};\n\n\t\thandleResize = () => {\n\t\t\tif (this.node && !this.props.marqueeDisabled) {\n\t\t\t\tthis.invalidateMetrics();\n\t\t\t\tif (this.state.animating) {\n\t\t\t\t\tthis.cancelAnimation();\n\t\t\t\t\tthis.resetAnimation();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\thandleMarqueeComplete = () => {\n\t\t\tthis.resetAnimation();\n\t\t};\n\n\t\thandleFocus = (ev) => {\n\t\t\tthis.isFocused = true;\n\t\t\tif (!this.sync) {\n\t\t\t\tif (!this.state.animating) {\n\t\t\t\t\tthis.startAnimation();\n\t\t\t\t}\n\t\t\t}\n\t\t\tforwardFocus(ev, this.props);\n\t\t};\n\n\t\thandleBlur = (ev) => {\n\t\t\tthis.promoteJob.stop();\n\t\t\tforwardBlur(ev, this.props);\n\t\t\tif (this.isFocused) {\n\t\t\t\tthis.isFocused = false;\n\t\t\t\tif (!this.sync && !(this.isHovered && this.props.marqueeOn === 'hover')) {\n\t\t\t\t\tthis.cancelAnimation();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\thandleEnter = (ev) => {\n\t\t\tthis.isHovered = true;\n\t\t\tif (this.props.marqueeOn === 'hover') {\n\t\t\t\tif (this.sync) {\n\t\t\t\t\tthis.context.enter(this);\n\t\t\t\t} else if (!this.state.animating) {\n\t\t\t\t\tthis.startAnimation();\n\t\t\t\t}\n\t\t\t}\n\t\t\tforwardEnter(ev, this.props);\n\t\t};\n\n\t\thandleLeave = (ev) => {\n\t\t\tthis.promoteJob.stop();\n\t\t\tthis.handleUnhover();\n\t\t\tforwardLeave(ev, this.props);\n\t\t};\n\n\t\thandlePointerHide = ({keyCode}) => {\n\t\t\tif (is('pointerHide', keyCode)) {\n\t\t\t\tthis.handleUnhover();\n\t\t\t}\n\t\t};\n\n\t\thandleUnhover () {\n\t\t\tthis.isHovered = false;\n\t\t\tif (this.props.marqueeOn === 'hover') {\n\t\t\t\tif (this.sync) {\n\t\t\t\t\tthis.context.leave(this);\n\t\t\t\t} else {\n\t\t\t\t\tthis.cancelAnimation();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcacheNode = (node) => {\n\t\t\tthis.node = node;\n\t\t};\n\n\t\tvalidateTextDirection () {\n\t\t\tthis.setState((state, props) => {\n\t\t\t\tconst rtl = determineTextDirection(this.node, props.rtl, props.forceDirection);\n\t\t\t\treturn state.rtl === rtl ? null : {rtl};\n\t\t\t});\n\t\t}\n\n\t\trenderMarquee () {\n\t\t\tconst {\n\t\t\t\talignment,\n\t\t\t\tchildren,\n\t\t\t\tdisabled,\n\t\t\t\tmarqueeOn,\n\t\t\t\tmarqueeSpeed,\n\t\t\t\t...rest\n\t\t\t} = this.props;\n\n\t\t\tconst marqueeOnFocus = marqueeOn === 'focus';\n\t\t\tconst marqueeOnHover = marqueeOn === 'hover';\n\t\t\tconst marqueeOnRender = marqueeOn === 'render';\n\n\t\t\tif (marqueeOnFocus) {\n\t\t\t\trest[focus] = this.handleFocus;\n\t\t\t}\n\n\t\t\t// TODO: cancel others on hover\n\t\t\tif (marqueeOnHover || marqueeOnFocus) {\n\t\t\t\trest[enter] = this.handleEnter;\n\t\t\t\trest[leave] = this.handleLeave;\n\t\t\t}\n\n\t\t\tif (marqueeOnRender) {\n\t\t\t\trest[enter] = this.handleEnter;\n\t\t\t}\n\n\t\t\tdelete rest.forceDirection;\n\t\t\tdelete rest.locale;\n\t\t\tdelete rest.marqueeCentered;\n\t\t\tdelete rest.marqueeDelay;\n\t\t\tdelete rest.marqueeDisabled;\n\t\t\tdelete rest.marqueeOnRenderDelay;\n\t\t\tdelete rest.marqueeSpacing;\n\t\t\tdelete rest.marqueeResetDelay;\n\t\t\tdelete rest.marqueeSpeed;\n\t\t\tdelete rest.remeasure;\n\t\t\tdelete rest.rtl;\n\n\t\t\treturn (\n\t\t\t\t<Wrapped {...rest} onBlur={this.handleBlur} disabled={disabled}>\n\t\t\t\t\t<MarqueeComponent\n\t\t\t\t\t\talignment={alignment}\n\t\t\t\t\t\tanimating={this.state.animating}\n\t\t\t\t\t\tclassName={configClassName}\n\t\t\t\t\t\tclientRef={this.cacheNode}\n\t\t\t\t\t\tdistance={this.distance}\n\t\t\t\t\t\tonMarqueeComplete={this.handleMarqueeComplete}\n\t\t\t\t\t\toverflow={this.state.overflow}\n\t\t\t\t\t\tspacing={this.spacing}\n\t\t\t\t\t\trtl={this.state.rtl}\n\t\t\t\t\t\tspeed={marqueeSpeed}\n\t\t\t\t\t\twillAnimate={this.state.promoted}\n\t\t\t\t\t>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</MarqueeComponent>\n\t\t\t\t</Wrapped>\n\t\t\t);\n\t\t}\n\n\t\trenderWrapped () {\n\t\t\tconst props = Object.assign({}, this.props);\n\n\t\t\tdelete props.alignment;\n\t\t\tdelete props.forceDirection;\n\t\t\tdelete props.locale;\n\t\t\tdelete props.marqueeCentered;\n\t\t\tdelete props.marqueeDelay;\n\t\t\tdelete props.marqueeDisabled;\n\t\t\tdelete props.marqueeOn;\n\t\t\tdelete props.marqueeOnRenderDelay;\n\t\t\tdelete props.marqueeSpacing;\n\t\t\tdelete props.marqueeResetDelay;\n\t\t\tdelete props.marqueeSpeed;\n\t\t\tdelete props.remeasure;\n\t\t\tdelete props.rtl;\n\n\t\t\treturn <Wrapped {...props} />;\n\t\t}\n\n\t\trender () {\n\t\t\treturn (\n\t\t\t\t<ResizeContext.Consumer>\n\t\t\t\t\t{(register) => {\n\t\t\t\t\t\tif (!this.resizeRegistry && register) {\n\t\t\t\t\t\t\tthis.resizeRegistry = register(this.handleResize);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (this.props.marqueeDisabled) {\n\t\t\t\t\t\t\treturn this.renderWrapped();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn this.renderMarquee();\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t</ResizeContext.Consumer>\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default MarqueeDecorator;\nexport {\n\tMarqueeDecorator\n};\n","/**\n * A component that will marquee its overflowing contents.\n *\n * @module ui/Marquee\n * @exports Marquee\n * @exports MarqueeBase\n * @exports MarqueeController\n * @exports MarqueeDecorator\n */\n\n// Marquee is unique in the framework in that its base component, Marquee, is used by its behavioral\n// HOC, MarqueeDecorator. In other cases, the behavioral HOC would receive the base component as\n// Wrapped but in this case is designed to receive a third-party component instead.\n//\n// This file avoids circular dependencies between Marquee.js (which would normally import its\n// decorator) and MarqueeDecorator (which needs to import Marquee.js).\n\nimport MarqueeBase from './MarqueeBase';\nimport {MarqueeController} from './MarqueeController';\nimport MarqueeDecorator from './MarqueeDecorator';\n\n/**\n * A minimally-styled marquee component.\n *\n * @class Marquee\n * @extends ui/Marquee.MarqueeBase\n * @memberof ui/Marquee\n * @mixes ui/Marquee.MarqueeDecorator\n * @ui\n * @public\n */\nconst Marquee = MarqueeDecorator({component: MarqueeBase}, 'div');\n\nexport default Marquee;\nexport {\n\tMarquee,\n\tMarqueeBase,\n\tMarqueeController,\n\tMarqueeDecorator\n};\n","/**\n * Unstyled image item components and behaviors to be customized by a theme or application.\n *\n * @module ui/ImageItem\n * @exports ImageItem\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ComponentOverride from '../ComponentOverride';\nimport Image from '../Image';\nimport {Cell, Column, Row} from '../Layout';\n\nimport componentCss from './ImageItem.module.less';\n\n// Adapts ComponentOverride to work within Cell since both use the component prop\nfunction ImageOverride ({imageComponent, ...rest}) {\n\treturn ComponentOverride({\n\t\tcomponent: imageComponent,\n\t\t...rest\n\t});\n}\n\n/**\n * A basic image item without any behavior.\n *\n * @class ImageItem\n * @memberof ui/ImageItem\n * @ui\n * @public\n */\nconst ImageItemBase = kind({\n\tname: 'ui:ImageItem',\n\n\tpropTypes: /** @lends ui/ImageItem.ImageItem.prototype */ {\n\t\t/**\n\t\t * The caption displayed with the image.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `imageItem` - The root component class\n\t\t * * `caption` - The caption component class\n\t\t * * `horizontal` - Applied when `orientation=\"horizontal\"\n\t\t * * `image` - The image component class\n\t\t * * `selected` - Applied when `selected` prop is `true`\n\t\t * * `vertical` - Applied when `orientation=\"vertical\"\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The component used to render the image component.\n\t\t *\n\t\t * @type {Component|Element}\n\t\t * @public\n\t\t */\n\t\timageComponent: EnactPropTypes.componentOverride,\n\n\t\t/**\n\t\t * The layout orientation of the component.\n\t\t *\n\t\t * @type {('horizontal'|'vertical')}\n\t\t * @default 'vertical'\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t/**\n\t\t * A placeholder image to be displayed before the image is loaded.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tplaceholder: PropTypes.string,\n\n\t\t/**\n\t\t * Applies a selected visual effect to the image.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool,\n\n\t\t/**\n\t\t * String value or Object of values used to determine which image will appear on a specific\n\t\t * screenSize.\n\t\t *\n\t\t * @type {String|Object}\n\t\t * @public\n\t\t */\n\t\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n\t},\n\n\tdefaultProps: {\n\t\timageComponent: Image,\n\t\torientation: 'vertical',\n\t\tselected: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'imageItem',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({orientation, selected, styler}) => styler.append({\n\t\t\tselected,\n\t\t\thorizontal: orientation === 'horizontal',\n\t\t\tvertical: orientation === 'vertical'\n\t\t})\n\t},\n\n\trender: ({children, css, imageComponent, orientation, placeholder, src, ...rest}) => {\n\t\tdelete rest.selected;\n\n\t\tconst isHorizontal = orientation === 'horizontal';\n\t\tconst Component = isHorizontal ? Row : Column;\n\n\t\treturn (\n\t\t\t<Component {...rest}>\n\t\t\t\t<Cell\n\t\t\t\t\tclassName={css.image}\n\t\t\t\t\tcomponent={ImageOverride}\n\t\t\t\t\timageComponent={imageComponent}\n\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\tshrink={isHorizontal}\n\t\t\t\t\tsrc={src}\n\t\t\t\t/>\n\t\t\t\t{children ? (\n\t\t\t\t\t<Cell\n\t\t\t\t\t\tclassName={css.caption}\n\t\t\t\t\t\tshrink={!isHorizontal}\n\t\t\t\t\t\t// eslint-disable-next-line no-undefined\n\t\t\t\t\t\talign={isHorizontal ? 'center' : undefined}\n\t\t\t\t\t>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</Cell>\n\t\t\t\t) : null}\n\t\t\t</Component>\n\t\t);\n\t}\n});\n\nexport default ImageItemBase;\nexport {\n\tImageItemBase as ImageItem,\n\tImageItemBase\n};\n","/**\n * Agate styled ImageItem.\n *\n * @module agate/ImageItem\n * @exports ImageItem\n * @exports ImageItemBase\n * @exports ImageItemDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport {ImageItem as UiImageItem} from '@enact/ui/ImageItem';\nimport {MarqueeDecorator, MarqueeController} from '@enact/ui/Marquee';\nimport Spottable from '@enact/spotlight/Spottable';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport ImageBase from '../Image';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './ImageItem.module.less';\n\nconst MarqueeImageItem = MarqueeDecorator(UiImageItem);\n\n/**\n * An Agate styled ImageItem.\n *\n * @class ImageItemBase\n * @memberof agate/ImageItem\n * @extends ui/ImageItem.ImageItem\n * @ui\n * @public\n */\nconst ImageItemBase = kind({\n\tname: 'ImageItem',\n\n\tpropTypes: /** @lends agate/ImageItem.ImageItemBase.prototype */ {\n\t\t/**\n\t\t * Sets the position for caption.\n\t\t * Available positions: 'below' (default) and 'overlay'.\n\t\t *\n\t\t * @type {('below'|'overlay')}\n\t\t * @default 'below'\n\t\t * @public\n\t\t */\n\t\tcaptionPosition: PropTypes.oneOf(['below', 'overlay']),\n\n\t\t/**\n\t\t * The caption displayed with the image.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `imageItem` - The root component class\n\t\t * * `caption` - The caption component class\n\t\t * * `horizontal` - Applied when `orientation=\"horizontal\"`\n\t\t * * `image` - The image component class\n\t\t * * `vertical` - Applied when `orientation=\"vertical\"`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The layout orientation of the component.\n\t\t *\n\t\t * @type {('horizontal'|'vertical')}\n\t\t * @default 'vertical'\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t/**\n\t\t * String value or Object of values used to determine which image will appear on a specific\n\t\t * screenSize.\n\t\t *\n\t\t * @type {String|Object}\n\t\t * @public\n\t\t */\n\t\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n\t},\n\n\tdefaultProps: {\n\t\torientation: 'vertical',\n\t\tcaptionPosition: 'below'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'imageItem'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({captionPosition, styler}) => styler.append({\n\t\t\tcaptionOverlay: captionPosition === 'overlay'\n\t\t})\n\t},\n\n\trender: ({captionPosition, children, css,  src, ...rest}) => {\n\t\tconst [Component, marqueeProps] = (children && (captionPosition === 'below')) ? [MarqueeImageItem, {\n\t\t\talignment: 'center'\n\t\t}] : [UiImageItem, null];\n\n\t\treturn (\n\t\t\t<Component\n\t\t\t\t{...rest}\n\t\t\t\t{...marqueeProps}\n\t\t\t\tcss={css}\n\t\t\t\timageComponent={ImageBase}\n\t\t\t\tsrc={src}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</Component>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [ImageItemBase]{@link agate/ImageItem.ImageItemBase}\n *\n * @hoc\n * @memberof agate/ImageItem\n * @mixes ui/Marquee.MarqueeController\n * @mixes agate/Skinnable.Skinnable\n * @mixes spotlight/Spottable.Spottable\n * @public\n */\nconst ImageItemDecorator = compose(\n\tMarqueeController({marqueeOnFocus: true}),\n\tSkinnable,\n\tSpottable\n);\n\n/**\n * An Agate styled ImageItem with built-in support for marqueed text, and Spotlight focus.\n *\n * @class ImageItem\n * @memberof agate/ImageItem\n * @extends agate/ImageItem.ImageItemBase\n * @mixes agate/ImageItem.ImageItemDecorator\n * @public\n */\nconst ImageItem = ImageItemDecorator(ImageItemBase);\n\nexport default ImageItem;\nexport {\n\tImageItem,\n\tImageItemBase,\n\tImageItemDecorator\n};\n","/**\n * Agate styled Dropdown.\n *\n * @example\n * <Dropdown\n * \t\tdefaultSelected={2}\n *\t\ttitle=\"Dropdown\"\n * >\n *   {['Option 1', 'Option 2', 'Option 3', 'Option 4']}\n * </Dropdown>\n *\n * @module agate/Dropdown\n * @exports Dropdown\n * @exports DropdownBase\n * @exports DropdownDecorator\n */\n\nimport {handle, forward, forProp} from '@enact/core/handle';\nimport kind from '@enact/core/kind';\nimport SpotlightContainerDecorator from '@enact/spotlight/SpotlightContainerDecorator';\nimport Changeable from '@enact/ui/Changeable';\nimport Group from '@enact/ui/Group';\nimport Toggleable from '@enact/ui/Toggleable';\nimport Transition from '@enact/ui/Transition';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport Button from '../Button';\nimport Icon from '../Icon';\nimport Item from '../Item';\nimport RadioItem from '../RadioItem';\nimport Scroller from '../Scroller';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './Dropdown.module.less';\n\nconst ContainerDiv = SpotlightContainerDecorator({enterTo: 'last-focused'}, 'div');\nconst isSelectedValid = ({children, selected}) => Array.isArray(children) && children[selected] != null;\n\n/**\n * A stateless Dropdown component.\n *\n * @class DropdownBase\n * @memberof agate/Dropdown\n * @ui\n * @public\n */\nconst DropdownBase = kind({\n\tname: 'Dropdown',\n\n\tpropTypes: /** @lends agate/Dropdown.DropdownBase.prototype */ {\n\t\t/**\n\t\t * The selections for Dropdown\n\t\t *\n\t\t * @type {String[]|Array.<{key: (Number|String), children: (String|Component)}>}\n\t\t */\n\t\tchildren: PropTypes.array,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * @type {Object}\n\t\t * @private\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The direction where the dropdown list appears.\n\t\t *\n\t\t * @type {('left'|'right'|'down'|'up')}\n\t\t * @default 'down'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['down', 'left', 'right', 'up']),\n\n\t\t/**\n\t\t * Disables Dropdown and becomes non-interactive.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when the Dropdown is closing.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonClose: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the Dropdown is opening.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonOpen: PropTypes.func,\n\n\t\t/**\n\t\t * Called when an item is selected.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonSelect: PropTypes.func,\n\n\t\t/**\n\t\t * Displays the items.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\topen: PropTypes.bool,\n\n\t\t/**\n\t\t * Index of the selected item.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.number,\n\n\t\t/**\n\t\t * The current skin for this component.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tskin: PropTypes.string,\n\n\t\t/**\n\t\t * The primary title text of Dropdown.\n\t\t *\n\t\t * The title will be replaced with the selected item, if set.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\ttitle: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tdirection: 'down',\n\t\topen: false\n\t},\n\n\thandlers: {\n\t\tonSelect: handle(\n\t\t\tforward('onSelect'),\n\t\t\tforward('onClose')\n\t\t),\n\t\tonOpen: handle(\n\t\t\tforProp('open', false),\n\t\t\tforward('onOpen')\n\t\t)\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'dropdown',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tbuttonClassName: ({open, styler}) => styler.append({open}),\n\t\ttransitionContainerClassname: ({css, open, direction, styler}) => styler.join(css.transitionContainer, {openTransitionContainer: open, upTransitionContainer: direction === 'up'} ),\n\t\tdropdownButtonClassname: ({css, direction, styler}) => styler.join(css.dropdownButton, {upDropdownButton: direction === 'up'} ),\n\t\tdropdownListClassname: ({children, css, styler}) => styler.join(css.dropdownList, {dropdownListWithScroller: children.length > 4}),\n\t\ttitle: ({children, selected, title}) => {\n\t\t\tif (isSelectedValid({children, selected})) {\n\t\t\t\tconst child = children[selected];\n\t\t\t\treturn typeof child === 'object' ? child.children : child;\n\t\t\t}\n\n\t\t\treturn title;\n\t\t},\n\t\ttransitionDirection: ({direction}) => {\n\t\t\tswitch (direction) {\n\t\t\t\tcase 'left':\n\t\t\t\t\treturn 'right';\n\t\t\t\tcase 'right':\n\t\t\t\t\treturn 'left';\n\t\t\t\tcase 'up':\n\t\t\t\t\treturn 'down';\n\t\t\t\tcase 'down':\n\t\t\t\tdefault:\n\t\t\t\t\treturn 'up';\n\t\t\t}\n\t\t},\n\t\thasChildren: ({children}) => {\n\t\t\treturn children.length > 0;\n\t\t}\n\t},\n\n\trender: ({buttonClassName, children, css, dropdownButtonClassname, dropdownListClassname, disabled, hasChildren, onClose, onOpen, onSelect, open, selected, skin, transitionContainerClassname, transitionDirection, title, ...rest}) => {\n\t\tconst opened = !disabled && open;\n\t\tconst [DropDownButton, wrapperProps, skinVariants, groupProps] = (skin === 'silicon') ? [\n\t\t\tButton,\n\t\t\t{className: dropdownButtonClassname},\n\t\t\t{'night': false},\n\t\t\t{childComponent: RadioItem, itemProps: {size: 'small', className: css.dropDownListItem, css}, selectedProp: 'selected'}\n\t\t] : [\n\t\t\tItem,\n\t\t\t{},\n\t\t\t{},\n\t\t\t{childComponent: Item, itemProps: {size: 'small'}}\n\t\t];\n\n\t\treturn (\n\t\t\t<div {...rest} >\n\t\t\t\t<div {...wrapperProps}>\n\t\t\t\t\t<DropDownButton\n\t\t\t\t\t\tclassName={buttonClassName}\n\t\t\t\t\t\tcss={css}\n\t\t\t\t\t\tdisabled={hasChildren ? disabled : true}\n\t\t\t\t\t\tonClick={opened ? onClose : onOpen}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon slot=\"slotAfter\" className={css.icon} size=\"small\">{open ? 'arrowlargeup' : 'arrowlargedown'}</Icon>\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</DropDownButton>\n\t\t\t\t\t<Transition\n\t\t\t\t\t\tclassName={transitionContainerClassname}\n\t\t\t\t\t\tvisible={opened}\n\t\t\t\t\t\tdirection={transitionDirection}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ContainerDiv className={dropdownListClassname} spotlightDisabled={!open} spotlightRestrict=\"self-only\">\n\t\t\t\t\t\t\t<Scroller skinVariants={skinVariants} className={css.scroller}>\n\t\t\t\t\t\t\t\t<Group\n\t\t\t\t\t\t\t\t\tclassName={css.group}\n\t\t\t\t\t\t\t\t\tonSelect={onSelect}\n\t\t\t\t\t\t\t\t\tselected={selected}\n\t\t\t\t\t\t\t\t\t{...groupProps}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{children || []}\n\t\t\t\t\t\t\t\t</Group>\n\t\t\t\t\t\t\t</Scroller>\n\t\t\t\t\t\t</ContainerDiv>\n\t\t\t\t\t</Transition>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [DropdownBase]{@link agate/Dropdown.DropdownBase}.\n *\n * @hoc\n * @memberof agate/Dropdown\n * @mixes agate/Dropdown.DropdownDecorator\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst DropdownDecorator = compose(\n\tToggleable({toggle: null, prop: 'open', activate: 'onOpen', deactivate: 'onClose'}),\n\tChangeable({change: 'onSelect', prop: 'selected'}),\n\tSkinnable({prop: 'skin'})\n);\n\n/**\n * An Agate Dropdown component.\n *\n * By default, `Dropdown` maintains the state of its `selected` property. Supply the\n * `defaultSelected` property to control its initial value. If you wish to directly control updates\n * to the component, supply a value to `selected` at creation time and update it in response to\n * `onSelect` events.\n *\n * @class Dropdown\n * @memberof agate/Dropdown\n * @extends agate/Dropdown.DropdownBase\n * @mixes agate/Dropdown.DropdownDecorator\n * @ui\n * @public\n */\nconst Dropdown = DropdownDecorator(DropdownBase);\n\nexport default Dropdown;\nexport {\n\tDropdown,\n\tDropdownBase,\n\tDropdownDecorator\n};\n","var map = {\n\t\"./BodyText.js\": 1964,\n\t\"./Button.js\": 1966,\n\t\"./Checkbox.js\": 1967,\n\t\"./CheckboxItem.js\": 1968,\n\t\"./ColorPicker.js\": 1969,\n\t\"./ContextualPopupDecorator.js\": 1983,\n\t\"./DateTimePicker.js\": 1984,\n\t\"./Drawer.js\": 1985,\n\t\"./Dropdown.js\": 1988,\n\t\"./Header.js\": 1989,\n\t\"./Heading.js\": 1990,\n\t\"./Icon.js\": 1991,\n\t\"./ImageItem.js\": 1992,\n\t\"./ImageItemKitchenSink.js\": 1993,\n\t\"./IncrementSlider.js\": 1994,\n\t\"./Input.js\": 2002,\n\t\"./Item.js\": 2003,\n\t\"./ItemKitchenSink.js\": 2004,\n\t\"./LabeledIcon.js\": 2005,\n\t\"./LabeledIconButton.js\": 2006,\n\t\"./Panel.js\": 2007,\n\t\"./Panels.js\": 2008,\n\t\"./Picker.js\": 2009,\n\t\"./Popup.js\": 2010,\n\t\"./PopupMenu.js\": 2011,\n\t\"./ProgressBar.js\": 2012,\n\t\"./RadioItem.js\": 2013,\n\t\"./RangePicker.js\": 2014,\n\t\"./Scroller.js\": 2015,\n\t\"./Slider.js\": 2016,\n\t\"./SliderButton.js\": 2017,\n\t\"./Spinner.js\": 2018,\n\t\"./SwitchItem.js\": 2019,\n\t\"./TabbedPanels.js\": 2020,\n\t\"./Thumbnail.js\": 2021,\n\t\"./ThumbnailItem.js\": 2022,\n\t\"./ToggleButton.js\": 2023,\n\t\"./TooltipDecorator.js\": 2024,\n\t\"./VirtualList.js\": 2025,\n\t\"./icons.js\": 83\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1963;","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport UiBodyText from '@enact/ui/BodyText';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport BodyText, {BodyTextBase} from '@enact/agate/BodyText';\n\nBodyText.displayName = 'BodyText';\nconst Config = mergeComponentMetadata('BodyText', UiBodyText, BodyText, BodyTextBase);\n\nconst prop = {\n\tsizes: ['', 'large', 'small']\n};\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'BodyText',\n\t\t() => (\n\t\t\t<BodyText\n\t\t\t\tcentered={boolean('centered', Config)}\n\t\t\t\tnoWrap={boolean('noWrap', Config)}\n\t\t\t\tsize={select('size', prop.sizes, Config)}\n\t\t\t>\n\t\t\t\t{text('children', BodyText, 'This is a body text')}\n\t\t\t</BodyText>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic Body Text'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, text, number} from '@enact/storybook-utils/addons/knobs';\nimport UiButton from '@enact/ui/Button';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Button, {ButtonBase} from '@enact/agate/Button';\n\nimport icons from './icons';\n\nButton.displayName = 'Button';\nconst Config = mergeComponentMetadata('Button', UiButton, ButtonBase, Button);\n\n// Set up some defaults for info and knobs\nconst prop = {\n\tcasing: ['preserve', 'sentence', 'word', 'upper'],\n\tcolors: ['', '#E6444B', '#FDC902', '#986AAD', '#4E75E1', '#30CC83', '#44C8D5', '#47439B', '#2D32A6', '#4E75E1'],\n\ticons: ['', ...icons],\n\tjoinedPosition: ['', 'left', 'center', 'right']\n};\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Button',\n\t\t() => (\n\t\t\t<Button\n\t\t\t\tanimateOnRender={boolean('animateOnRender', Config)}\n\t\t\t\tanimationDelay={number('animationDelay', Config)}\n\t\t\t\tbackgroundOpacity={select('backgroundOpacity', ['opaque', 'lightOpaque', 'transparent'], Config)}\n\t\t\t\tbadge={text('badge', Config)}\n\t\t\t\tbadgeColor={select('badgeColor', prop.colors, Config)}\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\thighlighted={boolean('highlighted', Config)}\n\t\t\t\ticon={select('icon', prop.icons, Config)}\n\t\t\t\tjoinedPosition={select('joinedPosition', prop.joinedPosition, Config)}\n\t\t\t\tonClick={action('onClick')}\n\t\t\t\tselected={boolean('selected', Config)}\n\t\t\t\tsize={select('size', ['smallest', 'small', 'large', 'huge'], Config)}\n\t\t\t\ttype={select('type', ['standard', 'grid'], Config)}\n\t\t\t>\n\t\t\t\t{text('children', Button, 'Click me')}\n\t\t\t</Button>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic Button'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Checkbox from '@enact/agate/Checkbox';\n\nCheckbox.displayName = 'Checkbox';\nconst Config = mergeComponentMetadata('Checkbox', Checkbox);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Checkbox',\n\t\t() => (\n\t\t\t<Checkbox\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\tlabel={text('label', Config, '')}\n\t\t\t\tlabelPosition={select('labelPosition', ['', 'above', 'after', 'before', 'below'], Config, '')}\n\t\t\t\tonToggle={action('onToggle')}\n\t\t\t/>\n\t\t),\n\t\t{\n\t\t\tinfo: {\n\t\t\t\ttext: 'Basic usage of Checkbox'\n\t\t\t}\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport CheckboxItem from '@enact/agate/CheckboxItem';\n\nCheckboxItem.displayName = 'CheckboxItem';\nconst Config = mergeComponentMetadata('CheckboxItem', CheckboxItem);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'CheckboxItem',\n\t\t() => (\n\t\t\t<CheckboxItem\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\tinline={boolean('inline', Config)}\n\t\t\t\tlabel={text('label', Config, '')}\n\t\t\t\tlabelPosition={select('labelPosition', ['', 'above', 'after', 'before', 'below'], Config, '')}\n\t\t\t\tonToggle={action('onToggle')}\n\t\t\t>\n\t\t\t\t{text('children', Config, 'Hello CheckboxItem')}\n\t\t\t</CheckboxItem>\n\t\t),\n\t\t{\n\t\t\tinfo: {\n\t\t\t\ttext: 'Basic usage of CheckboxItem'\n\t\t\t}\n\t\t}\n\t);\n","import {action} from '@enact/storybook-utils/addons/actions';\nimport {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {select} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport ColorPicker, {ColorPickerBase} from '@enact/agate/ColorPicker';\n\nColorPicker.displayName = 'ColorPicker';\nconst Config = mergeComponentMetadata('ColorPicker', ColorPicker, ColorPickerBase);\n\nconst prop = {\n\tdirection: ['up', 'right', 'down', 'left'],\n\tpresets: {\n\t\t'Default': ['green', 'yellow', 'orange', 'red', 'black', 'gray', 'white', '#cc5500', 'maroon', 'brown'],\n\t\t'Duck Tales': ['lavender', 'red', 'blue', 'green']\n\t}\n};\n\nconst StoryOptions = {\n\tgroupId: 'Story Options'\n};\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'ColorPicker',\n\t\t() => {\n\t\t\tconst direction = select('direction', prop.direction, Config, 'right'); // moved out of component to force order of knobs in the story\n\t\t\tconst colors = prop.presets[\n\t\t\t\tselect('color palette', Object.keys(prop.presets), StoryOptions, 'Default')\n\t\t\t];\n\t\t\treturn (\n\t\t\t\t<ColorPicker\n\t\t\t\t\tdirection={direction}\n\t\t\t\t\tonChange={action('onChange')}\n\t\t\t\t\tdefaultValue={colors[0]}\n\t\t\t\t>\n\t\t\t\t\t{colors}\n\t\t\t\t</ColorPicker>\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\ttext: 'The basic ColorPicker'\n\t\t}\n\t);\n","import {ContextualPopupDecorator} from '@enact/agate/ContextualPopupDecorator';\nimport BodyText from '@enact/agate/BodyText';\nimport Button from '@enact/agate/Button';\nimport ri from '@enact/ui/resolution';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\n\nconst ContextualButton = ContextualPopupDecorator(Button);\nContextualButton.displayName = 'ContextualButton';\n\nconst Config = mergeComponentMetadata('ContextualPopupDecorator', Button, ContextualButton);\n\n// NOTE: Something about the HOC is inhibiting accessing its defaultProps, so we're adding them here\n// manually. This can (should) be revisited later to find out why and a solution.\nConfig.defaultProps = {\n\tdirection: 'below center',\n\topen: false,\n\tspotlightRestrict: 'self-first'\n};\n\nconst renderPopup = () => (\n\t<div>{text('popup string', {groupId: 'Popup'}, 'Hello Contextual Popup')}</div>\n);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'ContextualPopupDecorator',\n\t\t() => (\n\t\t\t<div style={{textAlign: 'center', marginTop: ri.scaleToRem(99)}}>\n\t\t\t\t<ContextualButton\n\t\t\t\t\tdirection={select('direction', ['above', 'above center', 'above left', 'above right', 'below', 'below center', 'below left', 'below right', 'left middle', 'left top', 'left bottom', 'right middle', 'right top', 'right bottom'], Config)}\n\t\t\t\t\tnoAutoDismiss={boolean('noAutoDismiss', Config)}\n\t\t\t\t\tonClose={action('onClose')}\n\t\t\t\t\topen={boolean('open', Config)}\n\t\t\t\t\tpopupComponent={renderPopup}\n\t\t\t\t\tshowCloseButton={boolean('showCloseButton', Config)}\n\t\t\t\t\tspotlightRestrict={select('spotlightRestrict', ['none', 'self-first', 'self-only'], Config)}\n\t\t\t\t>\n\t\t\t\t\t{text('button string', Config, 'Hello Contextual Button')}\n\t\t\t\t</ContextualButton>\n\t\t\t\t<BodyText centered>Use KNOBS to interact with the ContextualPopup.</BodyText>\n\t\t\t</div>\n\t\t),\n\t\t{\n\t\t\tinfo: {\n\t\t\t\ttext: 'Basic usage of ContextualPopupDecorator'\n\t\t\t}\n\t\t}\n\t);\n","import {mergeComponentMetadata, removeProps} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport DateTimePicker from '@enact/agate/DateTimePicker';\n\nconst Config = mergeComponentMetadata('DateTimePicker', DateTimePicker);\nremoveProps(Config, 'year defaultOpen day maxDays maxMonths month onChangeDate onChangeMonth onChangeYear order');\n\nDateTimePicker.displayName = 'DateTimePicker';\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'DateTimePicker',\n\t\t() => (\n\t\t\t<DateTimePicker\n\t\t\t\tonChange={action('onChange')}\n\t\t\t/>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic DateTimePicker'\n\t\t}\n\t);\n","import {action} from '@enact/storybook-utils/addons/actions';\nimport BodyText from '@enact/ui/BodyText';\nimport {boolean, number, select, text} from '@enact/storybook-utils/addons/knobs';\nimport convert from 'color-convert';\nimport {mergeComponentMetadata} from '@enact/storybook-utils';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Drawer, {DrawerBase} from '@enact/agate/Drawer';\nimport Heading, {HeadingBase} from '@enact/agate/Heading';\n\nimport css from './Drawer.module.less';\n\nDrawer.displayName = 'Drawer';\nconst Config = mergeComponentMetadata('Drawer', Drawer, DrawerBase);\nconst HeadingConfig = mergeComponentMetadata('Heading', Heading, HeadingBase);\n\nconst StoryOptions = {\n\tgroupId: 'Story Options'\n};\n\nconst headingValues = {\n\tcolors: ['', '#E6444B', '#FDC902', '#986AAD', '#4E75E1', '#30CC83', '#44C8D5', '#47439B', '#2D32A6', '#4E75E1'],\n\tsizes: ['', 'title', 'subtitle', 'large', 'medium', 'small', 'tiny'],\n\tspacings: ['', 'auto', 'title', 'large', 'medium', 'small', 'none']\n};\n\nconst {colors: drawerColors} = headingValues;\n\nconst opacityRange = {\n\trange: true,\n\tmin: 0,\n\tmax: 1,\n\tstep: 0.1\n};\n\nconst convertToRGBa = (hex, opacity) => `rgba(${convert.hex.rgb(hex)},${opacity})`;\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Drawer',\n\t\t() => {\n\t\t\tconst noDrawerAnimation = boolean('noAnimation', Config); // moved out of component to force order of knobs in the story\n\t\t\tconst drawerBackgroundColor = select('Drawer background color', drawerColors, StoryOptions);\n\t\t\tconst drawerBackgroundOpacity = number('Drawer background opacity', StoryOptions, opacityRange, 0.85);\n\t\t\tconst drawerStyle = {};\n\n\t\t\tif (drawerBackgroundColor && drawerBackgroundOpacity) {\n\t\t\t\tdrawerStyle.background = convertToRGBa(drawerBackgroundColor, drawerBackgroundOpacity);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<BodyText>\n\t\t\t\t\tUse the <em>open</em> knob to show or hide the Drawer.<br />\n\t\t\t\t\t<br />\n\t\t\t\t\t<span className={css.galliumNote}>\n\t\t\t\t\t\tThe styling in the Gallium skin does not set a background color for the Drawer,\n\t\t\t\t\t\ttherefore it will inherit the value that &lt;body&gt; has.  In some cases it\n\t\t\t\t\t\tmay be difficult to see the contents clearly.<br />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tYou can override the background color for the Drawer in the Story Options or\n\t\t\t\t\t\tchoose a different skin (or night mode🌛) from the Global Knobs to see!\n\t\t\t\t\t</span>\n\t\t\t\t\t<Drawer\n\t\t\t\t\t\tnoAnimation={noDrawerAnimation}\n\t\t\t\t\t\tonHide={action('onHide')}\n\t\t\t\t\t\topen={boolean('open', Config)}\n\t\t\t\t\t\tstyle={drawerStyle}\n\t\t\t\t\t>\n\t\t\t\t\t\t<header>\n\t\t\t\t\t\t\t<Heading\n\t\t\t\t\t\t\t\tcolor={select('color', headingValues.colors, HeadingConfig, '')}\n\t\t\t\t\t\t\t\tshowLine={boolean('showLine', HeadingConfig)}\n\t\t\t\t\t\t\t\tsize={select('size', headingValues.sizes, HeadingConfig, '')}\n\t\t\t\t\t\t\t\tspacing={select('spacing', headingValues.spacings, HeadingConfig, '')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{text('header', Config, '[insert witty header text]')}\n\t\t\t\t\t\t\t</Heading>\n\t\t\t\t\t\t</header>\n\t\t\t\t\t\t<BodyText>\n\t\t\t\t\t\t\tThis Drawer is using a <a href=\"./?path=/story/agate--heading\">Heading</a> component\n\t\t\t\t\t\t\tin the <em>header</em> slot and plain text for the <em>footer</em> slot.<br />\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\tThe Heading props can be adjusted in Story Options.\n\t\t\t\t\t\t</BodyText>\n\t\t\t\t\t\t<footer>\n\t\t\t\t\t\t\t{text('footer', Config, '')}\n\t\t\t\t\t\t</footer>\n\t\t\t\t\t</Drawer>\n\t\t\t\t</BodyText>\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\ttext: 'The basic Drawer'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, number, text} from  '@enact/storybook-utils/addons/knobs';\nimport {action} from '@storybook/addon-actions';\nimport {storiesOf} from '@storybook/react';\nimport React from 'react';\n\nimport Dropdown, {DropdownBase} from '@enact/agate/Dropdown';\nimport ri from '@enact/ui/resolution';\n\nconst Config = mergeComponentMetadata('Dropdown', Dropdown, DropdownBase);\nDropdown.displayName = 'Dropdown';\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Dropdown',\n\t\t() => {\n\t\t\tconst itemCount = number('items', Config, {range: true, min: 0, max: 50}, 5);\n\t\t\tconst items = (new Array(itemCount)).fill().map((i, index) => `Option ${index + 1}`);\n\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\t\t\tonSelect={action('onSelect')}\n\t\t\t\t\t\ttitle={text('title', Config, 'Please select')}\n\t\t\t\t\t>\n\t\t\t\t\t\t{items}\n\t\t\t\t\t</Dropdown>\n\t\t\t\t</div>\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\ttext: 'The basic Dropdown'\n\t\t}\n\t);\n\nstoriesOf('Agate QA.Dropdown', module)\n\t.add(\n\t\t'with 4 directions',\n\t\t() => {\n\t\t\tconst itemCount = number('items', Config, {range: true, min: 0, max: 50}, 5);\n\t\t\tconst items = (new Array(itemCount)).fill().map((i, index) => `Option ${index + 1}`);\n\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tdirection=\"left\"\n\t\t\t\t\t\tonSelect={action('onSelect')}\n\t\t\t\t\t\tstyle={{position: 'absolute', top: 0, right: 0, width:'25%'}}\n\t\t\t\t\t\ttitle=\"Left dropdown\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{items}\n\t\t\t\t\t</Dropdown>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tdirection=\"right\"\n\t\t\t\t\t\tonSelect={action('onSelect')}\n\t\t\t\t\t\tstyle={{position: 'absolute', top: 0, left: 0, width:'25%'}}\n\t\t\t\t\t\ttitle=\"Right dropdown\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{items}\n\t\t\t\t\t</Dropdown>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tdirection=\"down\"\n\t\t\t\t\t\tonSelect={action('onSelect')}\n\t\t\t\t\t\tstyle={{position: 'absolute', top: 0, left: '50%', transform: 'translateX(-50%)', width:'25%'}}\n\t\t\t\t\t\ttitle=\"Down dropdown\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{items}\n\t\t\t\t\t</Dropdown>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tdirection=\"up\"\n\t\t\t\t\t\tonSelect={action('onSelect')}\n\t\t\t\t\t\tstyle={{position: 'absolute', top: ri.scaleToRem(440),  width:'25%'}}\n\t\t\t\t\t\ttitle=\"Up dropdown\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{items}\n\t\t\t\t\t</Dropdown>\n\t\t\t\t</>\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\ttext: 'The basic Dropdown'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Button from '@enact/agate/Button';\nimport {Header, HeaderBase} from '@enact/agate/Header';\n\nHeader.displayName = 'Header';\nconst Config = mergeComponentMetadata('Header', HeaderBase, Header);\n\n// Set up some defaults for children knob\nconst prop = {\n\tchildren: {\n\t\t'no buttons': null,\n\t\t'1 button': <Button icon=\"home\" />,\n\t\t'2 buttons': (\n\t\t\t<React.Fragment>\n\t\t\t\t<Button>A Button</Button>\n\t\t\t\t<Button icon=\"home\" />\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n};\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Header',\n\t\t() => {\n\t\t\tconst childrenSelection = select('children', ['no buttons', '1 button', '2 buttons'], Config);\n\t\t\tconst children = prop.children[childrenSelection];\n\n\t\t\tconst story = (\n\t\t\t\t<Header\n\t\t\t\t\thideLine={boolean('hideLine', Config)}\n\t\t\t\t\tsubtitle={text('subtitle', Config, 'Sub Title')}\n\t\t\t\t\ttitle={text('title', Config, 'Main Title')}\n\t\t\t\t\ttitleAbove={text('titleAbove', Config, '')}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</Header>\n\t\t\t);\n\t\t\treturn story;\n\t\t},\n\t\t{\n\t\t\ttext: 'A block to use as a screen\\'s title and description. Supports additional buttons, subtitle and title above.'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport BodyText from '@enact/ui/BodyText';\nimport Heading, {HeadingBase} from '@enact/agate/Heading';\n\nimport css from './Heading.module.less';\n\nHeading.displayName = 'Heading';\nconst Config = mergeComponentMetadata('Heading', Heading, HeadingBase);\n\nconst prop = {\n\tcolors: ['', '#E6444B', '#FDC902', '#986AAD', '#4E75E1', '#30CC83', '#44C8D5', '#47439B', '#2D32A6', '#4E75E1'],\n\tsizes: ['', 'title', 'subtitle', 'large', 'medium', 'small', 'tiny'],\n\tspacings: ['', 'auto', 'title', 'large', 'medium', 'small', 'none']\n};\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Heading',\n\t\t() => {\n\t\t\tconst knobProps = {\n\t\t\t\tcolor: select('color', prop.colors, Config),\n\t\t\t\tshowLine: boolean('showLine', Config),\n\t\t\t\tsize: select('size', prop.sizes, Config),\n\t\t\t\tspacing: select('spacing', prop.spacings, Config)\n\t\t\t};\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<Heading {...knobProps}>\n\t\t\t\t\t\t{text('children', Heading, 'Heading Text')}\n\t\t\t\t\t</Heading>\n\t\t\t\t\t<BodyText\n\t\t\t\t\t\tcentered\n\t\t\t\t\t\tclassName={css.spacingIndicator}\n\t\t\t\t\t>\n\t\t\t\t\t\tThis <a href=\"https://enactjs.com/docs/modules/ui/BodyText/\">BodyText</a> component is rendered immediately after the Heading component and is<br />\n\t\t\t\t\t\tmeant to provide a visual indicator of the effects of changing the <code>spacing</code> prop.\n\t\t\t\t\t\t<span className={css.spacingNote}>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<strong>Note</strong>: The <code>spacing</code> prop will have no effect when using the Gallium skin.\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\tChoose a different skin from the Global Knobs to see!\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{(knobProps.size === 'title' || typeof knobProps.color === 'undefined') ? null : (\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<strong>Note</strong>: The <code>color</code> prop only applies when the <code>size</code> prop is &quot;title&quot;.\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</BodyText>\n\t\t\t\t</>\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\ttext: 'The basic Heading'\n\t\t}\n\t);\n","import {emptify, mergeComponentMetadata} from '@enact/storybook-utils';\nimport {select, text, number} from '@enact/storybook-utils/addons/knobs';\nimport UiIcon from '@enact/ui/Icon';\nimport {iconList, iconListSilicon} from './icons';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Skinnable from '@enact/agate/Skinnable';\nimport Icon, {IconBase} from '@enact/agate/Icon';\nimport Heading from '@enact/agate/Heading';\n\n// import icons\nimport docs from '../../images/icon-enact-docs.png';\nimport factory from '../../images/icon-enact-factory.svg';\nimport logo from '../../images/icon-enact-logo.svg';\n\nIcon.displayName = 'Icon';\nconst Config = mergeComponentMetadata('Icon', UiIcon, IconBase, Icon);\n\nconst SkinnedIcon = Skinnable(\n\t{prop: 'skin'},\n\t({skin, ...rest}) => {\n\t\tlet iconNames;\n\t\tconst flip = select('flip', ['', 'both', 'horizontal', 'vertical'], Config, '');\n\t\tconst size = select('size', ['smallest', 'small', 'large', 'huge'], Config, 'large');\n\t\tconst spriteCount = number('spriteCount', Config, {min: 1}, 1);\n\n\t\tswitch (skin) {\n\t\t\tcase 'silicon':  {\n\t\t\t\ticonNames = iconListSilicon; break;\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\ticonNames = iconList;\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Icon\n\t\t\t\t\t{...rest}\n\t\t\t\t\tflip={flip}\n\t\t\t\t\tsize={size}\n\t\t\t\t\tspriteCount={spriteCount}\n\t\t\t\t>\n\t\t\t\t\t{emptify(select('src', ['', docs, factory, logo], Icon, '')) + emptify(select('icon', ['', ...iconNames], Icon, 'home')) + emptify(text('custom icon', Icon, ''))}\n\t\t\t\t</Icon>\n\t\t\t\t<br />\n\t\t\t\t<br />\n\t\t\t\t<Heading>All Icons</Heading>\n\t\t\t\t{iconNames.map((icon, index) => <Icon key={index} size={size} title={icon}>{icon}</Icon>)}\n\t\t\t</>\n\t\t);\n\t}\n);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Icon',\n\t\t() => (\n\t\t\t<SkinnedIcon />\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of Icon'\n\t\t}\n\t);\n","import ri from '@enact/ui/resolution';\nimport {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {text, select} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport ImageItem, {ImageItemBase} from '@enact/agate/ImageItem';\n\nImageItem.displayName = 'ImageItem';\n\nconst Config = mergeComponentMetadata('ImageItem', ImageItem, ImageItemBase);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'ImageItem',\n\t\t() => (\n\t\t\t<div style={{width: ri.scaleToRem(400), height: ri.scaleToRem(300)}}>\n\t\t\t\t<ImageItem\n\t\t\t\t\tsrc=\"http://placehold.it/300x400/9037ab/ffffff&text=Image0\"\n\t\t\t\t\torientation={select('orientation', ['horizontal', 'vertical'], Config)}\n\t\t\t\t\tcaptionPosition={select('captionPosition', ['below', 'overlay'], Config)}\n\t\t\t\t>\n\t\t\t\t\t{text('children', Config, 'caption')}\n\t\t\t\t</ImageItem>\n\t\t\t</div>\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of ImageItem'\n\t\t}\n\t);\n\nstoriesOf('Agate QA.Image', module)\n\t.add(\n\t\t'without children',\n\t\t() => (\n\t\t\t<div style={{width: ri.scaleToRem(400), height: ri.scaleToRem(300)}}>\n\t\t\t\t<ImageItem\n\t\t\t\t\tsrc=\"http://placehold.it/300x400/9037ab/ffffff&text=Image0\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t);\n","import ri from '@enact/ui/resolution';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Heading from '@enact/agate/Heading';\nimport ImageItem from '@enact/agate/ImageItem';\n\nImageItem.displayName = 'ImageItem';\n\nstoriesOf('Agate QA.ImageItem', module)\n\t.add(\n\t\t'Kitchen Sink',\n\t\t() => (\n\t\t\t<div style={{width: ri.scaleToRem(400), height: ri.scaleToRem(300)}}>\n\t\t\t\t<Heading showline>ImageItem</Heading>\n\t\t\t\t<ImageItem src=\"http://placehold.it/300x400/9037ab/ffffff&text=Image0\" />\n\t\t\t</div>\n\t\t)\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, number} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport IncrementSlider, {IncrementSliderBase} from '@enact/agate/IncrementSlider';\n\nimport {decrementIcons, incrementIcons} from './icons';\n\nIncrementSlider.displayName = 'IncrementSlider';\nconst Config = mergeComponentMetadata('IncrementSlider', IncrementSliderBase, IncrementSlider);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'IncrementSlider',\n\t\t() => (\n\t\t\t<IncrementSlider\n\t\t\t\tactive={boolean('active', Config)}\n\t\t\t\tdecrementIcon={select('decrementIcon', decrementIcons, Config)}\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\tfocused={boolean('focused', Config)}\n\t\t\t\tincrementIcon={select('incrementIcon', incrementIcons, Config)}\n\t\t\t\tknobStep={number('knobStep', Config)}\n\t\t\t\tmax={number('max', Config)}\n\t\t\t\tmin={number('min', Config)}\n\t\t\t\tnoFill={boolean('noFill', Config)}\n\t\t\t\tonActivate={action('onActivate')}\n\t\t\t\tonChange={action('onChange')}\n\t\t\t\tonDragEnd={action('onDragEnd')}\n\t\t\t\tonDragStart={action('onDragStart')}\n\t\t\t\torientation={select('orientation', ['horizontal', 'vertical'], Config)}\n\t\t\t\tprogressAnchor={number('progressAnchor', Config, {range: true, min: 0, max: 1, step: 0.1}, 0)}\n\t\t\t\tsize={select('size', ['small', 'large'], Config)}\n\t\t\t\tstep={number('step', Config)}\n\t\t\t/>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic IncrementSlider'\n\t\t}\n\t);\n","/**\n * Agate styled button components and behaviors.\n *\n * @example\n * <Button>Hello Enact!</Button>\n *\n * @module agate/Button\n * @exports Button\n * @exports ButtonBase\n * @exports ButtonDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport {cap} from '@enact/core/util';\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport Spottable from '@enact/spotlight/Spottable';\nimport {ButtonBase as UiButtonBase, ButtonDecorator as UiButtonDecorator} from '@enact/ui/Button';\nimport ComponentOverride from '@enact/ui/ComponentOverride';\nimport Pure from '@enact/ui/internal/Pure';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport compose from 'ramda/src/compose';\n\nimport {IconBase} from '../Icon';\n// import {MarqueeDecorator} from '../Marquee';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './Button.module.less';\n\n// Make a basic Icon in case we need it later. This cuts `Pure` out of icon for a small gain.\nconst Icon = Skinnable(IconBase);\n\n/**\n * A button component.\n *\n * This component is most often not used directly but may be composed within another component as it\n * is within [Button]{@link agate/Button.Button}.\n *\n * @class ButtonBase\n * @memberof agate/Button\n * @extends ui/Button.ButtonBase\n * @omit minWidth\n * @ui\n * @public\n */\nconst ButtonBase = kind({\n\tname: 'Button',\n\n\tpropTypes: /** @lends agate/Button.ButtonBase.prototype */ {\n\t\t/**\n\t\t * Animate when this component renders.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tanimateOnRender: PropTypes.bool,\n\n\t\t/**\n\t\t * The delay before the button is animated, in milliseconds.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tanimationDelay: PropTypes.number,\n\n\t\t/**\n\t\t * The background opacity of this button.\n\t\t *\n\t\t * Valid values are:\n\t\t * * `'opaque'`,\n\t\t * * `'lightOpaque'`, and\n\t\t * * `'transparent'`.\n\t\t *\n\t\t * @type {('opaque'|'lightOpaque'|'transparent')}\n\t\t * @public\n\t\t */\n\t\tbackgroundOpacity: PropTypes.oneOf(['opaque', 'lightOpaque', 'transparent']),\n\n\t\t/**\n\t\t * A small message overlaid onto the button.\n\t\t *\n\t\t * @type {Number|String}\n\t\t * @public\n\t\t */\n\t\tbadge: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n\t\t/**\n\t\t * A custom color for the badge element.\n\t\t *\n\t\t * This prop is only visible if the `badge` prop is also set.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tbadgeColor: PropTypes.string,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `button` - The root class name\n\t\t * * `bg` - The background node of the button\n\t\t * * `selected` - Applied to a `selected` button\n\t\t * * `small` - Applied to a button specifying a `size` of `'small'`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Additional DOM nodes which may be necessary for decorating the Button.\n\t\t *\n\t\t * @type {Node}\n\t\t * @private\n\t\t */\n\t\tdecoration: PropTypes.node,\n\n\t\t/**\n\t\t * Provides a way to call special interface attention to this button. It will be \"featured\"\n\t\t * in some way by the theme's visual rules.  This property only has an effect when\n\t\t * `backgroundOpacity` is \"opaque\".\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\thighlighted: PropTypes.bool,\n\n\t\t/**\n\t\t * The component used to render the icon.\n\t\t *\n\t\t * @type {Component}\n\t\t * @public\n\t\t */\n\t\ticonComponent: EnactPropTypes.component,\n\n\t\t/**\n\t\t * The position of this button in relation to other buttons.\n\t\t *\n\t\t * To create a collection of buttons that appear as one entity: buttons that butt up against\n\t\t * each other. Specify where the button is in the arrangement: 'left', 'center', or 'right'.\n\t\t * This prop is not recommended for use on a lonely button with no other buttons nearby.\n\t\t * Not specifying this optional prop leaves the button behaving normally.\n\t\t *\n\t\t * @type {('left'|'center'|'right')}\n\t\t * @public\n\t\t */\n\t\tjoinedPosition: PropTypes.oneOf(['left', 'center', 'right']),\n\n\t\t/**\n\t\t * Provides a way to call special interface attention to this button. It will be \"featured\"\n\t\t * in some way by the theme's visual rules.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool,\n\n\t\t/**\n\t\t * The size of the button.\n\t\t *\n\t\t * @type {('smallest'|'small'|'large'|'huge')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['smallest', 'small', 'large', 'huge']),\n\n\t\t/**\n\t\t * The amount of sprite \"cells\" in the src image of the `icon` being supplied. This prop has no effect without `icon`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tspriteCount: PropTypes.number,\n\n\t\t/**\n\t\t * The button type.\n\t\t *\n\t\t * Grid buttons are intended to be grouped with other related buttons.\n\t\t *\n\t\t * @type {('grid'|'standard')}\n\t\t * @default 'standard'\n\t\t * @public\n\t\t */\n\t\ttype: PropTypes.oneOf(['grid', 'standard'])\n\t},\n\n\tdefaultProps: {\n\t\tbackgroundOpacity: 'opaque',\n\t\ticonComponent: Icon,\n\t\tsize: 'large',\n\t\ttype: 'standard'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({animateOnRender, backgroundOpacity, highlighted, joinedPosition, selected, type, size, styler}) => styler.append(\n\t\t\tbackgroundOpacity,\n\t\t\tsize,\n\t\t\ttype,\n\t\t\t(joinedPosition && 'joined' + cap(joinedPosition)),  // If `joinedPosition` is present, prepend the word \"joined\" to the variable, so the classes are clearer.\n\t\t\t{\n\t\t\t\tanimateOnRender,\n\t\t\t\thighlighted,\n\t\t\t\tselected\n\t\t\t}\n\t\t),\n\t\tdecoration: ({badge, css, decoration}) => {\n\t\t\tif (!badge) return decoration;\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<div className={css.badge}>{badge}</div>\n\t\t\t\t\t{decoration}\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t},\n\t\ticonComponent: ({iconComponent, spriteCount}) => {\n\t\t\t// Don't burden basic HTML elements with the spriteCount prop (or other Icon-specific props)\n\t\t\tif (typeof iconComponent === 'string') return iconComponent;\n\n\t\t\treturn (\n\t\t\t\t<ComponentOverride\n\t\t\t\t\tcomponent={iconComponent}\n\t\t\t\t\tspriteCount={spriteCount}\n\t\t\t\t/>\n\t\t\t);\n\t\t},\n\t\tstyle: ({animationDelay, badgeColor, style}) => ({\n\t\t\t...style,\n\t\t\t'--agate-button-animation-delay': animationDelay,\n\t\t\t'--agate-button-badge-bg-color': badgeColor\n\t\t}),\n\t\tminWidth: ({children}) => (React.Children.count(children) === 0 || children === '')\n\t},\n\n\trender: ({css, ...rest}) => {\n\t\tdelete rest.animateOnRender;\n\t\tdelete rest.animationDelay;\n\t\tdelete rest.backgroundOpacity;\n\t\tdelete rest.badge;\n\t\tdelete rest.badgeColor;\n\t\tdelete rest.highlighted;\n\t\tdelete rest.joinedPosition;\n\t\tdelete rest.selected;\n\t\tdelete rest.spriteCount;\n\t\tdelete rest.type;\n\n\t\treturn UiButtonBase.inline({\n\t\t\t'data-webos-voice-intent': 'Select',\n\t\t\t...rest,\n\t\t\tcss\n\t\t});\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [Button]{@link agate/Button.ButtonBase} components.\n *\n * @hoc\n * @memberof agate/Button\n * @mixes ui/Button.ButtonDecorator\n * @mixes spotlight/Spottable.Spottable\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst ButtonDecorator = compose(\n\tPure,\n\t// MarqueeDecorator({className: componentCss.marquee}),\n\tUiButtonDecorator,\n\tSpottable,\n\tSkinnable\n);\n\n/**\n * A button component, ready to use in Agate applications.\n *\n * Usage:\n * ```\n * <Button\n * \tbackgroundOpacity=\"translucent\"\n * \tcolor=\"blue\"\n * >\n * \tPress me!\n * </Button>\n * ```\n *\n * @class Button\n * @memberof agate/Button\n * @extends agate/Button.ButtonBase\n * @mixes agate/Button.ButtonDecorator\n * @ui\n * @public\n */\nconst Button = ButtonDecorator(ButtonBase);\n\nexport default Button;\nexport {\n\tButton,\n\tButtonBase,\n\tButtonDecorator\n};\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport icons from './icons';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Input, {InputBase} from '@enact/agate/Input';\n\nconst iconNames = ['', ...icons];\n\nconst Config = mergeComponentMetadata('Input', InputBase, Input);\nInput.displayName = 'Input';\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Input',\n\t\t() => (\n\t\t\t<Input\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\tdismissOnEnter={boolean('dismissOnEnter', Config)}\n\t\t\t\ticonAfter={select('iconAfter', iconNames, Config)}\n\t\t\t\ticonBefore={select('iconBefore', iconNames, Config)}\n\t\t\t\tinvalid={boolean('invalid', Config)}\n\t\t\t\tinvalidMessage={text('invalidMessage', Config)}\n\t\t\t\tonBlur={action('onBlur')}\n\t\t\t\tonChange={action('onChange')}\n\t\t\t\tonFocus={action('onFocus')}\n\t\t\t\tplaceholder={text('placeholder', Config, 'Input text here')}\n\t\t\t\tsize={select('size', ['small', 'large'], Config)}\n\t\t\t\ttype={text('type', Config)}\n\t\t\t/>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic Input'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport UiItem, {ItemBase as UiItemBase} from '@enact/ui/Item';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Icon, {icons} from '@enact/agate/Icon';\nimport Item, {ItemBase} from '@enact/agate/Item';\n\nconst Config = mergeComponentMetadata('Item', UiItemBase, UiItem, ItemBase, Item);\nItem.displayName = 'Item';\n\nconst iconList = [null, ...Object.keys(icons)];\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Item',\n\t\t() => {\n\t\t\tconst slotBeforeIcon = select('slotBefore Icon', iconList, Config);\n\t\t\tconst slotAfterIcon = select('slotAfter Icon', iconList, Config);\n\t\t\treturn (\n\t\t\t\t<Item\n\t\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\t\tinline={boolean('inline', Config)}\n\t\t\t\t\tlabel={text('label', Config)}\n\t\t\t\t\tlabelPosition={select('labelPosition', ['above', 'after', 'before', 'below'], Config, 'below')}\n\t\t\t\t\tselected={boolean('selected', Config)}\n\t\t\t\t>\n\t\t\t\t\t{slotBeforeIcon ? <slotBefore>\n\t\t\t\t\t\t<Icon>{slotBeforeIcon}</Icon>\n\t\t\t\t\t</slotBefore> : null}\n\t\t\t\t\t{text('children', Config, 'Hello Item')}\n\t\t\t\t\t{slotAfterIcon ? <slotAfter>\n\t\t\t\t\t\t<Icon>{slotAfterIcon}</Icon>\n\t\t\t\t\t</slotAfter> : null}\n\t\t\t\t</Item>\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\ttext: 'Basic usage of Item'\n\t\t}\n\t);\n\nstoriesOf('Agate QA.Item', module)\n\t.add(\n\t\t'with icons and a text in slotAfter',\n\t\t() => {\n\t\t\tconst slotBeforeIcon = select('slotBefore Icon', iconList, Config);\n\t\t\tconst slotAfter = [\n\t\t\t\tselect('slotAfter Icon 1', iconList, Config),\n\t\t\t\tselect('slotAfter Icon 2', iconList, Config),\n\t\t\t\ttext('slotAfter Text', Config, 'Sub Text')\n\t\t\t].filter(subText => !!subText).map(subText => (iconList.indexOf(subText) > 0 ? <Icon key={subText}>{subText}</Icon> : subText));\n\n\t\t\treturn (\n\t\t\t\t<Item\n\t\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\t\tinline={boolean('inline', Config)}\n\t\t\t\t\tlabel={text('label', Config)}\n\t\t\t\t\tlabelPosition={select('labelPosition', ['above', 'after', 'before', 'below'], Config, 'below')}\n\t\t\t\t\tselected={boolean('selected', Config)}\n\t\t\t\t>\n\t\t\t\t\t{slotBeforeIcon ? <slotBefore>\n\t\t\t\t\t\t<Icon>{slotBeforeIcon}</Icon>\n\t\t\t\t\t</slotBefore> : null}\n\t\t\t\t\t{text('children', Config, 'Hello Item')}\n\t\t\t\t\t{slotAfter.length > 0 ? <slotAfter>\n\t\t\t\t\t\t{slotAfter}\n\t\t\t\t\t</slotAfter> : null}\n\t\t\t\t</Item>\n\t\t\t);\n\t\t}\n\t);\n","import React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Heading from '@enact/agate/Heading';\nimport Icon from '@enact/agate/Icon';\nimport Item from '@enact/agate/Item';\n\nItem.displayName = 'Item';\n\nstoriesOf('Agate QA.Item', module)\n\t.add(\n\t\t'Kitchen Sink',\n\t\t() => (\n\t\t\t<>\n\t\t\t\t<Heading showLine>Item variations</Heading>\n\t\t\t\t<Item>Default Item</Item>\n\t\t\t\t<Item label=\"label above\" labelPosition=\"above\">Item</Item>\n\t\t\t\t<Item label=\"label below\" labelPosition=\"below\">Item</Item>\n\t\t\t\t<Item label=\"label before\" labelPosition=\"before\">Item</Item>\n\t\t\t\t<Item label=\"label after\" labelPosition=\"after\">Item</Item>\n\t\t\t\t<Heading showLine>Item with labels and slot before</Heading>\n\t\t\t\t<Item label=\"label above\" labelPosition=\"above\" slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label below\" labelPosition=\"below\" slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label before\" labelPosition=\"before\" slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label after\" labelPosition=\"after\" slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Heading showLine>Item with labels and slot after</Heading>\n\t\t\t\t<Item label=\"label above\" labelPosition=\"above\" slotAfter={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label below\" labelPosition=\"below\" slotAfter={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label before\" labelPosition=\"before\" slotAfter={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label after\" labelPosition=\"after\" slotAfter={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Heading showLine>Item with labels, slot after, and slot before</Heading>\n\t\t\t\t<Item label=\"label above\" labelPosition=\"above\" slotAfter={<Icon>home</Icon>} slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label below\" labelPosition=\"below\" slotAfter={<Icon>home</Icon>} slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label before\" labelPosition=\"before\" slotAfter={<Icon>home</Icon>} slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label after\" labelPosition=\"after\" slotAfter={<Icon>home</Icon>} slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Heading showLine>All Items inlined</Heading>\n\t\t\t\t<Item inline>Default Item</Item>\n\t\t\t\t<Item inline label=\"label above\" labelPosition=\"above\">Item</Item>\n\t\t\t\t<Item inline label=\"label below\" labelPosition=\"below\">Item</Item>\n\t\t\t\t<Item inline label=\"label before\" labelPosition=\"before\">Item</Item>\n\t\t\t\t<Item inline label=\"label after\" labelPosition=\"after\">Item</Item>\n\t\t\t\t<Heading showLine>Item with labels and slot before</Heading>\n\t\t\t\t<Item inline label=\"label above\" labelPosition=\"above\" slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label below\" labelPosition=\"below\" slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label before\" labelPosition=\"before\" slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label after\" labelPosition=\"after\" slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Heading showLine>Item with labels and slot after</Heading>\n\t\t\t\t<Item inline label=\"label above\" labelPosition=\"above\" slotAfter={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label below\" labelPosition=\"below\" slotAfter={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label before\" labelPosition=\"before\" slotAfter={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label after\" labelPosition=\"after\" slotAfter={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Heading showLine>Item with labels, slot after, and slot before</Heading>\n\t\t\t\t<Item inline label=\"label above\" labelPosition=\"above\" slotAfter={<Icon>home</Icon>} slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label below\" labelPosition=\"below\" slotAfter={<Icon>home</Icon>} slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label before\" labelPosition=\"before\" slotAfter={<Icon>home</Icon>} slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label after\" labelPosition=\"after\" slotAfter={<Icon>home</Icon>} slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t</>\n\t\t),\n\t\t{\n\t\t\ttext: 'Item Kitchen Sink'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport UiIcon from '@enact/ui/Icon';\nimport {LabeledIconBase as UiLabeledIconBase, LabeledIcon as UiLabeledIcon} from '@enact/ui/LabeledIcon';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Icon, {IconBase} from '@enact/agate/Icon';\nimport LabeledIcon from '@enact/agate/LabeledIcon';\n\nimport iconNames from './icons';\n\nLabeledIcon.displayName = 'LabeledIcon';\n\nconst Config = mergeComponentMetadata('LabeledIcon', UiLabeledIconBase, UiLabeledIcon, UiIcon, IconBase, Icon, LabeledIcon);\nstoriesOf('Agate', module)\n\t.add(\n\t\t'LabeledIcon',\n\t\t() => (\n\t\t\t<LabeledIcon\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\tflip={select('flip', ['', 'both', 'horizontal', 'vertical'], Config, '')}\n\t\t\t\ticon={select('icon', ['', ...iconNames], Config, 'temperature')}\n\t\t\t\tinline={boolean('inline', Config)}\n\t\t\t\tlabelPosition={select('labelPosition', ['above', 'after', 'before', 'below', 'left', 'right'], Config)}\n\t\t\t\tsize={select('size', ['small', 'large'], Config)}\n\t\t\t>\n\t\t\t\t{text('children', Config, 'Hello LabeledIcon')}\n\t\t\t</LabeledIcon>\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of LabeledIcon'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, text, number} from '@enact/storybook-utils/addons/knobs';\nimport {LabeledIconBase as UiLabeledIconBase, LabeledIcon as UiLabeledIcon} from '@enact/ui/LabeledIcon';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport LabeledIconButton from '@enact/agate/LabeledIconButton';\n\nimport iconNames from './icons';\n\nconst Config = mergeComponentMetadata('LabeledIconButton', UiLabeledIconBase, UiLabeledIcon, LabeledIconButton);\nConfig.displayName = 'LabeledIconButton';\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'LabeledIconButton',\n\t\t() => (\n\t\t\t<LabeledIconButton\n\t\t\t\tbackgroundOpacity={select('backgroundOpacity', ['', 'opaque', 'lightOpaque', 'transparent'], Config, '')}\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\thighlighted={boolean('highlighted', Config)}\n\t\t\t\ticon={select('icon', ['', ...iconNames], Config, 'temperature')}\n\t\t\t\tinline={boolean('inline', Config)}\n\t\t\t\tlabelPosition={select('labelPosition', ['above', 'after', 'before', 'below', 'left', 'right'], Config)}\n\t\t\t\tselected={boolean('selected', Config)}\n\t\t\t\tsize={select('size', ['smallest', 'small', 'large', 'huge'], Config)}\n\t\t\t\tspriteCount={number('spriteCount', Config, {min: 1}, 1)}\n\t\t\t>\n\t\t\t\t{text('children', Config, 'Hello LabeledIconButton')}\n\t\t\t</LabeledIconButton>\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of LabeledIconButton'\n\t\t}\n\t);\n","import {text} from '@enact/storybook-utils/addons/knobs';\nimport {mergeComponentMetadata} from '@enact/storybook-utils';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Button from '@enact/agate/Button';\nimport Header from '@enact/agate/Header';\nimport {Panel} from '@enact/agate/Panels';\n\nPanel.displayName = 'Panel';\nconst HeaderConfig = mergeComponentMetadata('Header', Header);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Panel',\n\t\t() => (\n\t\t\t<Panel>\n\t\t\t\t<Header\n\t\t\t\t\tsubtitle={text('subtitle', HeaderConfig, 'Header Subtitle')}\n\t\t\t\t\ttitle={text('title', HeaderConfig, 'Header Title')}\n\t\t\t\t/>\n\t\t\t\t<Button>Click me</Button>\n\t\t\t</Panel>\n\t\t),\n\t\t{\n\t\t\tprops: {\n\t\t\t\tnoScroller: true,\n\t\t\t\tnoPanel: true\n\t\t\t},\n\t\t\ttext: 'The basic Panel'\n\t\t}\n\t);\n","/* eslint-disable react/jsx-no-bind */\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean} from '@enact/storybook-utils/addons/knobs';\nimport {mergeComponentMetadata} from '@enact/storybook-utils';\n\nimport Button from '@enact/agate/Button';\nimport Header from '@enact/agate/Header';\nimport {Panels, Panel} from '@enact/agate/Panels';\nimport kind from '@enact/core/kind';\nimport {clamp} from '@enact/core/util';\n\nPanels.displayName = 'Panels';\nconst Config = mergeComponentMetadata('Panels', Panels);\n\nconst FirstPanel = kind({\n\tname: 'FirstPanel',\n\n\tpropTypes: {\n\t\tonClick: PropTypes.func\n\t},\n\n\trender: ({onClick, ...rest}) => (\n\t\t<Panel {...rest}>\n\t\t\t<Header title=\"First Panel\" />\n\t\t\t<Button onClick={onClick}>Click me</Button>\n\t\t</Panel>\n\t)\n});\n\nconst SecondPanel = kind({\n\tname: 'SecondPanel',\n\n\trender: (props) => (\n\t\t<Panel {...props}>\n\t\t\t<Header title=\"Second Panel\" />\n\t\t\t<Button>Click me</Button>\n\t\t</Panel>\n\t)\n});\n\nconst BasicPanels = () => {\n\tconst [index, setIndex] = React.useState(0);\n\tconst goNext = () => setIndex(clamp(0, 2, index + 1));\n\tconst goPrevious = () => setIndex(clamp(0, 2, index - 1));\n\n\treturn (\n\t\t<Panels\n\t\t\tindex={index}\n\t\t\tnoAnimation={boolean('noAnimation', Config, false)}\n\t\t\tnoCloseButton={boolean('noCloseButton', Config, false)}\n\t\t\tonApplicationClose={action('onClose')}\n\t\t\tonBack={goPrevious}\n\t\t>\n\t\t\t<FirstPanel onClick={goNext} />\n\t\t\t<SecondPanel />\n\t\t</Panels>\n\t);\n};\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Panels',\n\t\t() => (<BasicPanels />),\n\t\t{\n\t\t\tprops: {\n\t\t\t\tnoScroller: true,\n\t\t\t\tnoPanels: true\n\t\t\t},\n\t\t\ttext: 'The basic Panels'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport {PickerBase} from '@enact/agate/internal/Picker';\nimport Picker from '@enact/agate/Picker';\n\nconst Config = mergeComponentMetadata('Picker', Picker, PickerBase);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Picker',\n\t\t() => (\n\t\t\t<div style={{padding: '0 20%'}}>\n\t\t\t\t<Picker\n\t\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\t\tonChange={action('onChange')}\n\t\t\t\t\torientation={select('orientation', ['vertical', 'horizontal'], Config)}\n\t\t\t\t>\n\t\t\t\t\t{['LO', '16\\xB0', '17\\xB0', '18\\xB0', '19\\xB0', 'HI']}\n\t\t\t\t</Picker>\n\t\t\t</div>\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of Picker'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Button from '@enact/agate/Button';\nimport {Popup, PopupBase} from '@enact/agate/Popup';\n\nconst Config = mergeComponentMetadata('Popup', PopupBase);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Popup',\n\t\t() => (\n\t\t\t<div>\n\t\t\t\t<Popup\n\t\t\t\t\tcentered={boolean('centered', Config)}\n\t\t\t\t\tcloseButton={boolean('closeButton', Config)}\n\t\t\t\t\tnoAnimation={boolean('noAnimation', Config)}\n\t\t\t\t\tnoAutoDismiss={boolean('noAutoDismiss', Config)}\n\t\t\t\t\tonClose={action('onClose')}\n\t\t\t\t\tonHide={action('onHide')}\n\t\t\t\t\topen={boolean('open', Config)}\n\t\t\t\t\tposition={select('position', ['center', 'top'], Config)}\n\t\t\t\t\tscrimType={select('scrimType', ['none', 'translucent', 'transparent'], Config, 'translucent')}\n\t\t\t\t\tspotlightRestrict={select('spotlightRestrict', ['self-first', 'self-only'], Config, 'self-only')}\n\t\t\t\t\ttitle={text('title', Config, 'Title')}\n\t\t\t\t>\n\t\t\t\t\t<div>{text('children', Config, 'Hello Popup')}</div>\n\t\t\t\t</Popup>\n\t\t\t\tUse KNOBS to interact with Popup.\n\t\t\t</div>\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of Popup'\n\t\t}\n\t);\n\nstoriesOf('Agate QA.Popup', module)\n\t.add(\n\t\t'with buttons',\n\t\t() => (\n\t\t\t<div>\n\t\t\t\t<Button>Button</Button>\n\t\t\t\t<Popup\n\t\t\t\t\tcentered={boolean('centered', Config)}\n\t\t\t\t\tcloseButton={boolean('closeButton', Config)}\n\t\t\t\t\tnoAnimation={boolean('noAnimation', Config)}\n\t\t\t\t\tnoAutoDismiss={boolean('noAutoDismiss', Config)}\n\t\t\t\t\tonClose={action('onClose')}\n\t\t\t\t\tonHide={action('onHide')}\n\t\t\t\t\topen={boolean('open', Config)}\n\t\t\t\t\tposition={select('position', ['center', 'top'], Config)}\n\t\t\t\t\tscrimType={select('scrimType', ['none', 'translucent', 'transparent'], Config, 'translucent')}\n\t\t\t\t\tspotlightRestrict={select('spotlightRestrict', ['self-first', 'self-only'], Config, 'self-only')}\n\t\t\t\t>\n\t\t\t\t\t<div>{text('children', Config, 'Hello Popup')}</div>\n\t\t\t\t\t<buttons>\n\t\t\t\t\t\t<Button>NO</Button>\n\t\t\t\t\t\t<Button>YES</Button>\n\t\t\t\t\t</buttons>\n\t\t\t\t</Popup>\n\t\t\t\tUse KNOBS to interact with Popup.\n\t\t\t</div>\n\t\t)\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport React, {useState} from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Button from '@enact/agate/Button';\nimport CheckboxItem from '@enact/agate/CheckboxItem';\nimport Input from '@enact/agate/Input';\nimport Picker from '@enact/agate/Picker';\nimport PopupMenu from '@enact/agate/PopupMenu';\n\nimport css from './PopupMenu.module.less';\n\nconst Config = mergeComponentMetadata('PopupMenu', PopupMenu);\n\nconst Story = ({children: {props, type: Component}, ...rest}) => {\n\tconst [menuOpen, setMenuOpen] = useState(false);\n\n\tfunction onClose () {\n\t\tsetMenuOpen(false);\n\t}\n\n\tfunction onOpen () {\n\t\tsetMenuOpen(true);\n\t}\n\n\treturn (\n\t\t<div {...rest}>\n\t\t\t{menuOpen ? null : (<Button onClick={onOpen}>Open Menu</Button>)}\n\t\t\t<Component\n\t\t\t\t{...props}\n\t\t\t\tonClose={onClose}\n\t\t\t\topen={menuOpen}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nstoriesOf('Agate', module).add(\n\t'PopupMenu',\n\t() => {\n\t\tconst closeButton = boolean('closeButton', Config);\n\t\tconst noAutoDismiss = boolean('noAutoDismiss', Config);\n\n\t\treturn (\n\t\t\t<Story>\n\t\t\t\t<PopupMenu\n\t\t\t\t\tcloseButton={closeButton}\n\t\t\t\t\tcloseButtonLabel={text('closeButtonLabel', Config)}\n\t\t\t\t\tnoAnimation={boolean('noAnimation', Config)}\n\t\t\t\t\tnoAutoDismiss={noAutoDismiss}\n\t\t\t\t\tonClose={action('onClose')}\n\t\t\t\t\tonHide={action('onHide')}\n\t\t\t\t\topen={boolean('open', Config)}\n\t\t\t\t\torientation={select('orientation', ['horizontal'], Config)}\n\t\t\t\t\tscrimType={select('scrimType', ['none', 'translucent', 'transparent'], Config, 'translucent')}\n\t\t\t\t\tspotlightRestrict={select('spotlightRestrict', ['self-first', 'self-only'], Config, 'self-only')}\n\t\t\t\t\ttitle={text('title', Config, 'Title')}\n\t\t\t\t>\n\t\t\t\t\t{!(noAutoDismiss && !closeButton) ? null : (\n\t\t\t\t\t\t<h2 className={css.cannotClose}>\n\t\t\t\t\t\t\tWarning! With <code>closeButton=false</code> and <code>noAutoDismiss=true</code> it will be impossible to close this menu.\n\t\t\t\t\t\t</h2>)}\n\t\t\t\t\t<Picker>\n\t\t\t\t\t\t{['Crunchy', 'Smooth']}\n\t\t\t\t\t</Picker>\n\t\t\t\t\t<Input placeholder=\"How many?\" type=\"number\" />\n\t\t\t\t\t<CheckboxItem>\n\t\t\t\t\t\tRush delivery\n\t\t\t\t\t</CheckboxItem>\n\t\t\t\t</PopupMenu>\n\t\t\t</Story>\n\t\t);\n\t},\n\t{\n\t\ttext: 'Basic usage of PopupMenu'\n\t}\n);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, number} from '@enact/storybook-utils/addons/knobs';\nimport UiProgressBar from '@enact/ui/ProgressBar';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport ProgressBar, {ProgressBarBase} from '@enact/agate/ProgressBar';\n\nProgressBar.displayName = 'ProgressBar';\nconst Config = mergeComponentMetadata('ProgressBar', UiProgressBar, ProgressBarBase, ProgressBar);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'ProgressBar',\n\t\t() => (\n\t\t\t<ProgressBar\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\torientation={select('orientation', ['horizontal', 'vertical'], Config)}\n\t\t\t\tprogress={number('progress', Config, {range: true, min: 0, max: 1, step: 0.01}, 0.4)}\n\t\t\t\tsize={select('size', ['small', 'large'], Config)}\n\t\t\t/>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic ProgressBar'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport RadioItem from '@enact/agate/RadioItem';\n\nimport iconNames from './icons';\n\nconst Config = mergeComponentMetadata('RadioItem', RadioItem);\nRadioItem.displayName = 'RadioItem';\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'RadioItem',\n\t\t() => (\n\t\t\t<div>\n\t\t\t\t<RadioItem\n\t\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\t\ticon={select('icon', ['', ...iconNames], Config)}\n\t\t\t\t>\n\t\t\t\t\t{text('children', Config, 'Sound')}\n\t\t\t\t</RadioItem>\n\t\t\t</div>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic RadioItem'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, number, select} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport {PickerBase} from '@enact/agate/internal/Picker';\nimport RangePicker from '@enact/agate/RangePicker';\n\nconst Config = mergeComponentMetadata('RangePicker', RangePicker, PickerBase);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'RangePicker',\n\t\t() => (\n\t\t\t<RangePicker\n\t\t\t\tdefaultValue={5}\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\tmax={number('max', Config, 20)}\n\t\t\t\tmin={number('min', Config, 0)}\n\t\t\t\tonChange={action('onChange')}\n\t\t\t\torientation={select('orientation', ['vertical', 'horizontal'], Config)}\n\t\t\t\tstep={number('step', Config)}\n\t\t\t/>\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of RangePicker'\n\t\t}\n\t);\n","import {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select} from '@enact/storybook-utils/addons/knobs';\nimport {mergeComponentMetadata} from '@enact/storybook-utils';\nimport React from 'react';\nimport ri from '@enact/ui/resolution';\nimport {ScrollerBasic as UiScrollerBasic} from '@enact/ui/Scroller';\nimport {storiesOf} from '@storybook/react';\n\nimport BodyText from '@enact/agate/BodyText';\nimport Scroller from '@enact/agate/Scroller';\n\nconst prop = {\n\tdirection: ['both', 'horizontal', 'vertical'],\n\tscrollbarOption: ['auto', 'hidden', 'visible'],\n\tscrollModeOption: ['native', 'translate']\n};\n\nconst ScrollerConfig = mergeComponentMetadata('Scroller', UiScrollerBasic, Scroller);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Scroller',\n\t\t() => (\n\t\t\t<Scroller\n\t\t\t\tdirection={select('direction', prop.direction, ScrollerConfig)}\n\t\t\t\tfocusableScrollbar={boolean('focusableScrollbar', ScrollerConfig)}\n\t\t\t\thorizontalScrollbar={select('horizontalScrollbar', prop.scrollbarOption, ScrollerConfig)}\n\t\t\t\tkey={select('scrollMode', prop.scrollModeOption, ScrollerConfig)}\n\t\t\t\tnoScrollByWheel={boolean('noScrollByWheel', ScrollerConfig)}\n\t\t\t\tonScrollStart={action('onScrollStart')}\n\t\t\t\tonScrollStop={action('onScrollStop')}\n\t\t\t\tscrollMode={select('scrollMode', prop.scrollModeOption, ScrollerConfig)}\n\t\t\t\tspotlightDisabled={boolean('spotlightDisabled', ScrollerConfig, false)}\n\t\t\t\tverticalScrollbar={select('verticalScrollbar', prop.scrollbarOption, ScrollerConfig)}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\theight: ri.scaleToRem(2004),\n\t\t\t\t\t\twidth: ri.scaleToRem(4002)\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<BodyText>\n\t\t\t\t\t\tLorem ipsum dolor sit amet, consectetur adipiscing elit.<br />\n\t\t\t\t\t\tAenean id blandit nunc. Donec lacinia nisi vitae mi dictum, eget pulvinar nunc tincidunt. Integer vehicula tempus rutrum. Sed efficitur neque in arcu dignissim cursus.\n\t\t\t\t\t</BodyText>\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tmarginTop: ri.scaleToRem(1602)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<BodyText>\n\t\t\t\t\t\t\tMauris blandit sollicitudin mattis. Fusce commodo arcu vitae risus consectetur sollicitudin. Aliquam eget posuere orci. Cras pellentesque lobortis sapien non lacinia.\n\t\t\t\t\t\t</BodyText>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Scroller>\n\t\t),\n\t\t{\n\t\t\tprops: {\n\t\t\t\tnoScroller: true\n\t\t\t},\n\t\t\ttext: 'Basic usage of Scroller'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, number} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Slider, {SliderBase} from '@enact/agate/Slider';\n\nSlider.displayName = 'Slider';\nconst Config = mergeComponentMetadata('Slider', SliderBase, Slider);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Slider',\n\t\t() => (\n\t\t\t<Slider\n\t\t\t\tactivateOnFocus={boolean('activateOnFocus', Config)}\n\t\t\t\tactive={boolean('active', Config)}\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\tfocused={boolean('focused', Config)}\n\t\t\t\tknobStep={number('knobStep', Config)}\n\t\t\t\tmax={number('max', Config)}\n\t\t\t\tmin={number('min', Config)}\n\t\t\t\tonActivate={action('onActivate')}\n\t\t\t\tonKeyDown={action('onKeyDown')}\n\t\t\t\tonKeyUp={action('onKeyUp')}\n\t\t\t\torientation={select('orientation', ['horizontal', 'vertical'], Config, 'horizontal')}\n\t\t\t\tprogressAnchor={number('progressAnchor', Config, {range: true, min: 0, max: 1, step: 0.1}, 0)}\n\t\t\t\tstep={number('step', Config)}\n\t\t\t/>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic Slider'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport SliderButton, {SliderButtonBase} from '@enact/agate/SliderButton';\nimport {icons} from '@enact/agate/Icon';\n\nSliderButton.displayName = 'SliderButton';\nconst Config = mergeComponentMetadata('SliderButton', SliderButtonBase, SliderButton);\n\n// Set up some defaults for info and knobs\nconst prop = {\n\ticons: ['', ...Object.keys(icons)],\n\t3: [\n\t\t'Light Speed',\n\t\t'Ridiculous Speed',\n\t\t'Ludicrous Speed'\n\t],\n\t5: [\n\t\t'Light Speed',\n\t\t'Ridiculous Speed',\n\t\t'Ludicrous Speed',\n\t\t'Bananas Speed',\n\t\t'OK Enough Speed'\n\t]\n};\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'SliderButton',\n\t\t() => (\n\t\t\t<SliderButton\n\t\t\t\tonChange={action('onChange')}\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t>\n\t\t\t\t{prop[select('options', [3, 5], Config, '3')]}\n\t\t\t</SliderButton>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic SliderButton'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select} from '@enact/storybook-utils/addons/knobs';\nimport UiSpinner, {SpinnerBase as UiSpinnerBase} from '@enact/ui/Spinner';\nimport ri from '@enact/ui/resolution';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Spinner, {SpinnerBase} from '@enact/agate/Spinner';\n\nSpinner.displayName = 'Spinner';\nconst Config = mergeComponentMetadata('Spinner', UiSpinnerBase, UiSpinner, SpinnerBase, Spinner);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Spinner',\n\t\t() => (\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\toutline: 'teal dashed 1px',\n\t\t\t\t\tposition: 'relative',\n\t\t\t\t\tpadding: ri.unit(90, 'rem'),\n\t\t\t\t\tbackgroundColor: 'rgba(0, 187, 187, 0.5)'\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: 0\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\toutline: 'teal dashed 1px',\n\t\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t\theight: ri.unit(180, 'rem')\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<label\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\toutline: 'teal dashed 1px',\n\t\t\t\t\t\t\tbackgroundColor: 'rgba(0, 128, 128, 0.5)',\n\t\t\t\t\t\t\tcolor: '#0bb',\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\ttransform: 'translateY(-100%)',\n\t\t\t\t\t\t\tborderBottomWidth: 0,\n\t\t\t\t\t\t\tpadding: '0.1em 1em',\n\t\t\t\t\t\t\tfontWeight: 100,\n\t\t\t\t\t\t\tfontStyle: 'italic',\n\t\t\t\t\t\t\tfontSize: ri.unit(15, 'rem')\n\t\t\t\t\t\t}}\n\t\t\t\t\t>Container</label>\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\twidth: '100%'\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Spinner\n\t\t\t\t\t\tblockClickOn={select('blockClickOn', [null, 'container', 'screen'], Config)}\n\t\t\t\t\t\tcentered={boolean('centered', Config)}\n\t\t\t\t\t\tcolor={select('color', ['dark', 'light'], Config, 'light')}\n\t\t\t\t\t\tpaused={boolean('paused', Config)}\n\t\t\t\t\t\tscrim={boolean('scrim', Config)}\n\t\t\t\t\t\tsize={select('size', ['huge', 'large', 'small', 'smallest'], Config)}\n\t\t\t\t\t\ttype={select('type', ['loading', 'searching'], Config, 'searching')}\n\t\t\t\t\t\ttransparent={boolean('transparent', Config)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of Spinner'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport SwitchItem from '@enact/agate/SwitchItem';\n\nimport iconNames from './icons';\n\nconst Config = mergeComponentMetadata('SwitchItem', SwitchItem);\nSwitchItem.displayName = 'SwitchItem';\n\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'SwitchItem',\n\t\t() => (\n\t\t\t<div>\n\t\t\t\t<SwitchItem\n\t\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\t\ticon={select('icon', ['', ...iconNames], Config, 'music')}\n\t\t\t\t\toffText={text('offText', Config)}\n\t\t\t\t\tonText={text('onText', Config)}\n\t\t\t\t>\n\t\t\t\t\t{text('children', Config, 'Sound')}\n\t\t\t\t</SwitchItem>\n\t\t\t</div>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic SwitchItem'\n\t\t}\n\t);\n","import {action} from '@enact/storybook-utils/addons/actions';\nimport {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, number, select} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Button from '@enact/agate/Button';\nimport Icon from '@enact/agate/Icon';\nimport Item from '@enact/agate/Item';\nimport LabeledIconButton from '@enact/agate/LabeledIconButton';\nimport {Panel, TabbedPanels} from '@enact/agate/Panels';\nimport {TabbedPanelsBase} from '@enact/agate/Panels/TabbedPanels';\n\nconst Config = mergeComponentMetadata('TabbedPanels', TabbedPanelsBase);\n// `paddingBottom: '56.25%'` is a trick to impose 16:9 aspect ratio on the component, since padding percentage is based on the width, not the height.\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'TabbedPanels',\n\t\t() => {\n\t\t\tconst [panelIndex, setIndex] = React.useState(Config.defaultProps.index || 0);\n\t\t\tconst onSelect = (e) => {\n\t\t\t\tsetIndex(e.index);\n\t\t\t\taction('onSelect')(e);\n\t\t\t};\n\t\t\tconst onBeforeTabs = () => {\n\t\t\t\tsetIndex(Math.max(panelIndex - 1, 0));\n\t\t\t};\n\t\t\tconst onAfterTabs = () => {\n\t\t\t\tsetIndex(Math.min(panelIndex + 1, 2));\n\t\t\t};\n\t\t\treturn (\n\t\t\t\t<div style={{paddingBottom: '56.25%'}}>\n\t\t\t\t\t<TabbedPanels\n\t\t\t\t\t\tduration={number('duration', Config, 500)}\n\t\t\t\t\t\tonClick={action('onClick')}\n\t\t\t\t\t\tindex={panelIndex}\n\t\t\t\t\t\tnoCloseButton={boolean('noCloseButton', Config)}\n\t\t\t\t\t\tonSelect={onSelect} // eslint-disable-line react/jsx-no-bind\n\t\t\t\t\t\torientation={select('orientation', ['vertical', 'horizontal'], Config, 'vertical')}\n\t\t\t\t\t\ttabPosition={select('tabPosition', ['before', 'after'], Config, 'before')}\n\t\t\t\t\t\ttabs={[\n\t\t\t\t\t\t\t{title: 'Button', icon: 'netbook'},\n\t\t\t\t\t\t\t{title: 'Item', icon: 'aircirculation'},\n\t\t\t\t\t\t\t{title: 'LabeledIconButton', icon: 'temperature'}\n\t\t\t\t\t\t]}\n\t\t\t\t\t>\n\t\t\t\t\t\t<beforeTabs>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ticon=\"arrowlargeleft\"\n\t\t\t\t\t\t\t\tonClick={onBeforeTabs} // eslint-disable-line react/jsx-no-bind\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\ttype=\"grid\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</beforeTabs>\n\t\t\t\t\t\t<afterTabs>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ticon=\"arrowlargeright\"\n\t\t\t\t\t\t\t\tonClick={onAfterTabs} // eslint-disable-line react/jsx-no-bind\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\ttype=\"grid\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</afterTabs>\n\t\t\t\t\t\t<Panel>\n\t\t\t\t\t\t\t<Button icon=\"netbook\">Click me!</Button>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t\t<Panel>\n\t\t\t\t\t\t\t<Item label=\"label\" labelPosition=\"before\" slotBefore={<Icon>aircirculation</Icon>}>Hello Item</Item>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t\t<Panel className=\"enact-fit\">\n\t\t\t\t\t\t\t<LabeledIconButton\n\t\t\t\t\t\t\t\tlabelPosition=\"after\"\n\t\t\t\t\t\t\t\ticon=\"temperature\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tHello LabeledIconButton\n\t\t\t\t\t\t\t</LabeledIconButton>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t\t<Panel>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\tA simple view with no associated tab\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t</TabbedPanels>\n\t\t\t\t</div>\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\ttext: 'The basic TabbedPanels'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {text} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport ThumbnailItem from '@enact/agate/ThumbnailItem';\n\nconst Config = mergeComponentMetadata('ThumbnailItem', ThumbnailItem);\nThumbnailItem.displayName = 'ThumbnailItem';\n\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'ThumbnailItem',\n\t\t() => (\n\t\t\t<div>\n\t\t\t\t<ThumbnailItem\n\t\t\t\t\tsrc={text('src', Config, 'https://dummyimage.com/64/e048e0/0011ff')}\n\t\t\t\t>\n\t\t\t\t\tAn image!\n\t\t\t\t</ThumbnailItem>\n\t\t\t</div>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic ThumbnailItem'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {text, select, boolean} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport ThumbnailItem from '@enact/agate/ThumbnailItem';\n\nThumbnailItem.displayName = 'ThumbnailItem';\n\nconst Config = mergeComponentMetadata('ThumbnailItem', ThumbnailItem);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'ThumbnailItem',\n\t\t() => (\n\t\t\t<ThumbnailItem\n\t\t\t\tsrc=\"https://dummyimage.com/64/e048e0/0011ff\"\n\t\t\t\tlabel={text('label', Config, 'Sub Content')}\n\t\t\t\ttype={select('type', ['normal', 'styled'], Config)}\n\t\t\t\tselected={boolean('selected', Config)}\n\t\t\t>\n\t\t\t\t{text('children', Config, 'Main Content')}\n\t\t\t</ThumbnailItem>\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of ThumbnailItem'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport UIButton, {ButtonBase as UIButtonBase} from '@enact/ui/Button';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Button, {ButtonBase} from '@enact/agate/Button';\nimport ToggleButton, {ToggleButtonBase} from '@enact/agate/ToggleButton';\n\nimport iconNames from './icons';\n\nToggleButton.displayName = 'ToggleButton';\nconst Config = mergeComponentMetadata('ToggleButton', UIButtonBase, UIButton, ButtonBase, Button, ToggleButtonBase, ToggleButton);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'ToggleButton',\n\t\t() => (\n\t\t\t<ToggleButton\n\t\t\t\tbackgroundOpacity={select('backgroundOpacity', ['opaque', 'lightOpaque', 'transparent'], Config)}\n\t\t\t\tdefaultSelected={boolean('defaultSelected', Config, true)}\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\ticon={select('icon', ['', ...iconNames], Config)}\n\t\t\t\tonClick={action('onClick')}\n\t\t\t\tonToggle={action('onToggle')}\n\t\t\t\tsize={select('size', ['smallest', 'small', 'large', 'huge'], Config)}\n\t\t\t\ttoggleOffLabel={text('toggleOffLabel', Config, 'Off')}\n\t\t\t\ttoggleOnLabel={text('toggleOnLabel', Config, 'On')}\n\t\t\t\ttype={select('type', ['grid', 'standard'], Config, 'standard')}\n\t\t\t\tunderline={boolean('underline', Config, true)}\n\t\t\t>\n\t\t\t\t{text('children', ToggleButton, 'Click me')}\n\t\t\t</ToggleButton>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic ToggleButton'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport {storiesOf} from '@storybook/react';\nimport Button, {ButtonBase} from '@enact/agate/Button';\nimport TooltipDecorator from '@enact/agate/TooltipDecorator';\nimport UiButton from '@enact/ui/Button';\nimport React from 'react';\n\nButton.displayName = 'TooltipDecorator';\nconst Config = mergeComponentMetadata('TooltipDecorator', UiButton, ButtonBase, Button);\nconst TooltipButton = TooltipDecorator({tooltipDestinationProp: 'decoration'}, Button);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'TooltipDecorator',\n\t\t() => (\n\t\t\t<TooltipButton\n\t\t\t\tbackgroundOpacity={select('backgroundOpacity', ['opaque', 'lightOpaque', 'transparent'], Config)}\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\tonClick={action('onClick')}\n\t\t\t\tselected={boolean('selected', Config)}\n\t\t\t\tsize={select('size', ['smallest', 'small', 'large', 'huge'], Config)}\n\t\t\t\ttooltipText={text('tooltip', Config, 'Tooltip')}\n\t\t\t>\n\t\t\t\t{text('children', Button, 'Click me')}\n\t\t\t</TooltipButton>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic TooltipDecorator'\n\t\t}\n\t);\n","import {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, number, select} from '@enact/storybook-utils/addons/knobs';\nimport {mergeComponentMetadata} from '@enact/storybook-utils';\nimport React from 'react';\nimport ri from '@enact/ui/resolution';\nimport {storiesOf} from '@storybook/react';\nimport {VirtualListBasic as UiVirtualListBasic} from '@enact/ui/VirtualList';\n\nimport Item from '@enact/agate/Item';\nimport VirtualList from '@enact/agate/VirtualList';\n\nconst\n\twrapOption = {\n\t\tfalse: false,\n\t\ttrue: true,\n\t\t'&quot;noAnimation&quot;': 'noAnimation'\n\t},\n\tprop = {\n\t\tscrollbarOption: ['auto', 'hidden', 'visible'],\n\t\tscrollModeOption: ['native', 'translate']\n\t},\n\titems = [],\n\tdefaultDataSize = 1000,\n\t// eslint-disable-next-line enact/prop-types, enact/display-name\n\trenderItem = (size) => ({index, ...rest}) => {\n\t\tconst itemStyle = {\n\t\t\tborderBottom: ri.unit(6, 'rem') + ' solid #202328',\n\t\t\tboxSizing: 'border-box',\n\t\t\theight: ri.unit(size, 'rem')\n\t\t};\n\n\t\treturn (\n\t\t\t<Item {...rest} style={itemStyle}>\n\t\t\t\t{items[index]}\n\t\t\t</Item>\n\t\t);\n\t};\n\nconst updateDataSize = (dataSize) => {\n\tconst\n\t\titemNumberDigits = dataSize > 0 ? ((dataSize - 1) + '').length : 0,\n\t\theadingZeros = Array(itemNumberDigits).join('0');\n\n\titems.length = 0;\n\n\tfor (let i = 0; i < dataSize; i++) {\n\t\titems.push('Item ' + (headingZeros + i).slice(-itemNumberDigits));\n\t}\n\n\treturn dataSize;\n};\n\nupdateDataSize(defaultDataSize);\n\nconst VirtualListConfig = mergeComponentMetadata('VirtualList', UiVirtualListBasic, VirtualList);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'VirtualList',\n\t\t() => {\n\t\t\treturn (\n\t\t\t\t<VirtualList\n\t\t\t\t\tdataSize={updateDataSize(number('dataSize', VirtualListConfig, defaultDataSize))}\n\t\t\t\t\tfocusableScrollbar={boolean('focusableScrollbar', VirtualListConfig)}\n\t\t\t\t\thorizontalScrollbar={select('horizontalScrollbar', prop.scrollbarOption, VirtualListConfig)}\n\t\t\t\t\titemRenderer={renderItem(ri.scale(number('itemSize', VirtualListConfig, 144)))}\n\t\t\t\t\titemSize={ri.scale(number('itemSize', VirtualListConfig, 144))}\n\t\t\t\t\tkey={select('scrollMode', prop.scrollModeOption, VirtualListConfig)}\n\t\t\t\t\tnoScrollByWheel={boolean('noScrollByWheel', VirtualListConfig)}\n\t\t\t\t\tonScrollStart={action('onScrollStart')}\n\t\t\t\t\tonScrollStop={action('onScrollStop')}\n\t\t\t\t\tscrollMode={select('scrollMode', prop.scrollModeOption, VirtualListConfig)}\n\t\t\t\t\tspacing={ri.scale(number('spacing', VirtualListConfig))}\n\t\t\t\t\tspotlightDisabled={boolean('spotlightDisabled', VirtualListConfig, false)}\n\t\t\t\t\tverticalScrollbar={select('verticalScrollbar', prop.scrollbarOption, VirtualListConfig)}\n\t\t\t\t\twrap={wrapOption[select('wrap', ['false', 'true', '\"noAnimation\"'], VirtualListConfig)]}\n\t\t\t\t/>\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\tprops: {\n\t\t\t\tnoScroller: true\n\t\t\t},\n\t\t\ttext: 'Basic usage of VirtualList'\n\t\t}\n\t);\n","import kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport $L from '../internal/$L';\nimport Button from '../Button';\n\n/**\n * An {@link agate/ApplicationCloseButton.ApplicationCloseButton} with `closex` icon. It is used in\n * {@link agate/Panels.Panels} positioned at the top right corner.\n * `onApplicationClose` callback function should be specified to close your app. The recommended\n * action to take with the event is `window.close()`, but you may also want to also do operations\n * like save user work or close database connections.\n *\n * @class ApplicationCloseButton\n * @memberof agate/Panels\n * @private\n */\nconst ApplicationCloseButton = kind({\n\tname: 'ApplicationCloseButton',\n\n\tpropTypes: /** @lends agate/Panels.ApplicationCloseButton.prototype */ {\n\t\t/**\n\t\t * Sets the hint string read when focusing the application close button.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'Exit app'\n\t\t * @memberof agate/Panels.ApplicationCloseButton.prototype\n\t\t * @public\n\t\t */\n\t\t'aria-label': PropTypes.string,\n\n\t\t/**\n\t\t * A function to run when app close button is clicked\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonApplicationClose: PropTypes.func\n\t},\n\n\tcomputed: {\n\t\t'aria-label': ({'aria-label': ariaLabel}) => ariaLabel == null ? $L('Exit app') : ariaLabel\n\t},\n\n\trender: ({onApplicationClose, ...rest}) => {\n\t\treturn (\n\t\t\t<Button\n\t\t\t\t{...rest}\n\t\t\t\tonTap={onApplicationClose}\n\t\t\t\tsize=\"small\"\n\t\t\t\ticon=\"closex\"\n\t\t\t/>\n\t\t);\n\t}\n});\n\nexport default ApplicationCloseButton;\nexport {\n\tApplicationCloseButton\n};\n","import kind from '@enact/core/kind';\nimport SpotlightContainerDecorator from '@enact/spotlight/SpotlightContainerDecorator';\nimport ForwardRef from '@enact/ui/ForwardRef';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ApplicationCloseButton from './ApplicationCloseButton';\n\nimport css from './Panels.module.less';\n\n/**\n * Group of controls shared across Panel instances\n *\n * @class ControlsBase\n * @memberof agate/Panels\n * @ui\n * @private\n */\nconst ControlsBase = kind({\n\tname: 'Controls',\n\n\tpropTypes: /** @lends agate/Panels.ControlsBase.prototype */ {\n\t\t/**\n\t\t * Additional controls displayed before the close button.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Sets the hint string read when focusing the application close button.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tcloseButtonAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * Called with a reference to the root DOM node of this component.\n\t\t *\n\t\t * @type {Function|Object}\n\t\t * @public\n\t\t */\n\t\tforwardRef: PropTypes.oneOfType([\n\t\t\tPropTypes.func,\n\t\t\tPropTypes.shape({current: PropTypes.any})\n\t\t]),\n\n\t\t/**\n\t\t * Indicates the close button will not be rendered on the top right corner.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tnoCloseButton: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when the app close button is clicked.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonApplicationClose: PropTypes.func\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'controls'\n\t},\n\n\trender: ({children, closeButtonAriaLabel, forwardRef, noCloseButton, onApplicationClose, ...rest}) => {\n\t\tif (!children && noCloseButton) return null;\n\n\t\treturn (\n\t\t\t<div {...rest} ref={forwardRef}>\n\t\t\t\t{children}\n\t\t\t\t{noCloseButton ? null : (\n\t\t\t\t\t<ApplicationCloseButton\n\t\t\t\t\t\taria-label={closeButtonAriaLabel}\n\t\t\t\t\t\tclassName={css.close}\n\t\t\t\t\t\tonApplicationClose={onApplicationClose}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n/**\n * Group of controls shared across Panel instances.\n *\n * ```\n * // remove the close button and use a star icon button\n * <Controls noCloseButton>\n *   <Button icon=\"star\" />\n * </Controls>\n * ```\n *\n * @class Controls\n * @mixes spotlight/SpotlightContainerDecorator\n * @memberof agate/Panels\n * @ui\n * @private\n */\nconst Controls = ForwardRef(SpotlightContainerDecorator(ControlsBase));\n\nexport default Controls;\nexport {\n\tControls,\n\tControlsBase\n};\n","import classnames from 'classnames';\nimport {forward, handle} from '@enact/core/handle';\nimport Spotlight from '@enact/spotlight';\nimport Pause from '@enact/spotlight/Pause';\nimport ViewManager, {shape, SlideBottomArranger as VerticalArranger, SlideRightArranger as HorizontalArranger} from '@enact/ui/ViewManager';\nimport invariant from 'invariant';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport SharedStateDecorator, {SharedState} from './SharedStateDecorator';\n\nimport css from './Panels.module.less';\n\n/**\n * The container for a set of Panels\n *\n * @class Viewport\n * @memberof agate/Panels\n * @private\n */\nconst ViewportBase = class extends React.Component {\n\tstatic displayName = 'Viewport';\n\n\tstatic contextType = SharedState;\n\n\tstatic propTypes = /** @lends agate/Panels.Viewport.prototype */ {\n\n\t\t/**\n\t\t * A function that generates a globally-unique identifier for a panel index\n\t\t *\n\t\t * @type {Function}\n\t\t * @required\n\t\t */\n\t\tgenerateId: PropTypes.func.isRequired,\n\n\t\t/**\n\t\t * Set of functions that control how the panels are transitioned into and out of the\n\t\t * viewport\n\t\t *\n\t\t * @type {Arranger}\n\t\t */\n\t\tarranger: shape,\n\n\t\t/**\n\t\t * Panels to be rendered\n\t\t *\n\t\t * @type {Panel}\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Duration of the animation (in ms) when transitioning between `Panel` components.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 500\n\t\t * @public\n\t\t */\n\t\tduration: PropTypes.number,\n\n\t\t/**\n\t\t * Index of the active panel\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t */\n\t\tindex: PropTypes.number,\n\n\t\t/**\n\t\t * Disable panel transitions\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t */\n\t\tnoAnimation: PropTypes.bool,\n\n\t\t/**\n\t\t * Direction of the animation when transitioning between `Panel` components.\n\t\t *\n\t\t * This is only applied when no arranger has been set. When using `'horizontal'`, a `SlideRightArranger` is used.\n\t\t * When using `'vertical'`, a `SlideBottomArranger` is used.\n\t\t *\n\t\t * Valid values are:\n\t\t * * `'horizontal'`, and\n\t\t * * `'vertical'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.string\n\t};\n\n\tstatic defaultProps = {\n\t\tduration: 500,\n\t\tindex: 0,\n\t\tnoAnimation: false\n\t};\n\n\tconstructor () {\n\t\tsuper();\n\n\t\tthis.paused = new Pause('Viewport');\n\t\tthis.state = {\n\t\t\tprevIndex: -1,\n\t\t\tdirection: 'forward'\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps (props, state) {\n\t\treturn {\n\t\t\tprevIndex: props.index,\n\t\t\tdirection: state.prevIndex > props.index ? 'backward' : 'forward'\n\t\t};\n\t}\n\n\tcomponentDidMount () {\n\t\t// eslint-disable-next-line react/no-find-dom-node\n\t\tthis.node = ReactDOM.findDOMNode(this);\n\t}\n\n\tcomponentDidUpdate (prevProps) {\n\t\tfor (let i = prevProps.index; this.context && i > this.props.index; i--) {\n\t\t\tthis.context.delete(i);\n\t\t}\n\t}\n\n\tcomponentWillUnmount () {\n\t\tthis.paused.resume();\n\t}\n\n\taddTransitioningClass = () => {\n\t\tif (this.node) {\n\t\t\tthis.node.classList.add(css.transitioning);\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tremoveTransitioningClass = () => {\n\t\tif (this.node) {\n\t\t\tthis.node.classList.remove(css.transitioning);\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tpause = () => this.paused.pause();\n\n\tresume = () => this.paused.resume();\n\n\thandle = handle.bind(this);\n\n\thandleTransition = this.handle(\n\t\tforward('onTransition'),\n\t\tthis.removeTransitioningClass,\n\t\tthis.resume\n\t);\n\n\thandleWillTransition = this.handle(\n\t\tforward('onWillTransition'),\n\t\tthis.addTransitioningClass,\n\t\tthis.pause\n\t);\n\n\tmapChildren = (children, generateId) => React.Children.map(children, (child, index) => {\n\t\tif (child) {\n\t\t\tconst {spotlightId = generateId(index, 'panel-container', Spotlight.remove)} = child.props;\n\t\t\tconst props = {\n\t\t\t\tspotlightId,\n\t\t\t\t'data-index': index\n\t\t\t};\n\n\t\t\tif (child.props.autoFocus == null && this.state.direction === 'forward') {\n\t\t\t\tprops.autoFocus = 'default-element';\n\t\t\t}\n\n\t\t\treturn React.cloneElement(child, props);\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t});\n\n\tgetArranger = () => {\n\t\tconst {arranger, orientation} = this.props;\n\n\t\tif (arranger) return arranger;\n\t\tif (orientation === 'vertical') return VerticalArranger;\n\t\telse return HorizontalArranger;\n\t};\n\n\tgetEnteringProp = (noAnimation) => noAnimation ? null : 'hideChildren';\n\n\trender () {\n\t\tconst {children, duration, generateId, index, noAnimation, ...rest} = this.props;\n\t\tconst arranger = this.getArranger();\n\t\tconst enteringProp = this.getEnteringProp(noAnimation);\n\t\tconst mappedChildren = this.mapChildren(children, generateId);\n\t\tconst className = classnames(css.viewport, rest.className);\n\n\t\tconst count = React.Children.count(mappedChildren);\n\t\tinvariant(\n\t\t\tindex === 0 && count === 0 || index < count,\n\t\t\t`Panels index, ${index}, is invalid for number of children, ${count}`\n\t\t);\n\n\t\tdelete rest.arranger;\n\t\tdelete rest.orientation;\n\n\t\treturn (\n\t\t\t<ViewManager\n\t\t\t\t{...rest}\n\t\t\t\tarranger={arranger}\n\t\t\t\tclassName={className}\n\t\t\t\tcomponent=\"main\"\n\t\t\t\tduration={duration}\n\t\t\t\tenteringDelay={100} // TODO: Can we remove this?\n\t\t\t\tenteringProp={enteringProp}\n\t\t\t\tindex={index}\n\t\t\t\tnoAnimation={noAnimation}\n\t\t\t\tonTransition={this.handleTransition}\n\t\t\t\tonWillTransition={this.handleWillTransition}\n\t\t\t>\n\t\t\t\t{mappedChildren}\n\t\t\t</ViewManager>\n\t\t);\n\t}\n};\n\nconst Viewport = SharedStateDecorator(ViewportBase);\n\nexport default Viewport;\nexport {\n\tViewport,\n\tViewportBase\n};\n","import kind from '@enact/core/kind';\nimport Measurable from '@enact/ui/Measurable';\nimport Slottable from '@enact/ui/Slottable';\nimport {shape} from '@enact/ui/ViewManager';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport Skinnable from '../Skinnable';\n\nimport CancelDecorator from './CancelDecorator';\nimport Controls from './Controls';\nimport IdProvider from './IdProvider';\nimport Viewport from './Viewport';\n\nimport componentCss from './Panels.module.less';\n\nconst getControlsId = (id) => id && `${id}-controls`;\n\n/**\n * Basic Panels component without breadcrumbs or default [arranger]{@link ui/ViewManager.Arranger}\n *\n * @class Panels\n * @memberof agate/Panels\n * @ui\n * @public\n */\nconst PanelsBase = kind({\n\tname: 'Panels',\n\n\tpropTypes: /** @lends agate/Panels.Panels.prototype */ {\n\t\t/**\n\t\t * Function that generates unique identifiers for Panel instances.\n\t\t *\n\t\t * @type {Function}\n\t\t * @required\n\t\t * @private\n\t\t */\n\t\tgenerateId: PropTypes.func.isRequired,\n\n\t\t/**\n\t\t * Set of functions that control how the panels are transitioned into and out of the\n\t\t * viewport.\n\t\t *\n\t\t * @see {@link ui/ViewManager.SlideRightArranger}\n\t\t * @type {ui/ViewManager.Arranger}\n\t\t * @public\n\t\t */\n\t\tarranger: shape,\n\n\t\t/**\n\t\t * An object whose keys will used as props for each child\n\t\t */\n\t\tchildProps: PropTypes.object,\n\n\t\t/**\n\t\t * Sets the hint string read when focusing the application close button.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'Exit app'\n\t\t * @public\n\t\t */\n\t\tcloseButtonAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * A slot to insert additional Panels-level buttons into the global-navigation area.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tcontrols: PropTypes.node,\n\n\t\t/**\n\t\t * The measurement bounds of the controls node\n\t\t *\n\t\t * @type {Object}\n\t\t * @private\n\t\t */\n\t\tcontrolsMeasurements: PropTypes.object,\n\n\t\t/**\n\t\t * The method which receives the reference node to the controls element, used to determine\n\t\t * the `controlsMeasurements`.\n\t\t *\n\t\t * @type {Function|Object}\n\t\t * @private\n\t\t */\n\t\tcontrolsRef: PropTypes.oneOfType([\n\t\t\tPropTypes.func,\n\t\t\tPropTypes.shape({current: PropTypes.any})\n\t\t]),\n\n\t\t/**\n\t\t * The portion of the screen that this `Panels` instance should cover.\n\t\t *\n\t\t * @type {('full'|'partial')}\n\t\t * @default 'full'\n\t\t * @public\n\t\t */\n\t\tcover: PropTypes.oneOf(['full', 'partial']),\n\n\t\t/**\n\t\t * Duration of the animation (in ms) when transitioning between `Panel` components.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 500\n\t\t * @public\n\t\t */\n\t\tduration: PropTypes.number,\n\n\t\t/**\n\t\t * Unique identifier for the Panels instance.\n\t\t *\n\t\t * When defined, `Panels` will manage the presentation state of `Panel` instances in order\n\t\t * to restore it when returning to the `Panel`. See\n\t\t * [noSharedState]{@link agate/Panels.Panels.noSharedState} for more details on shared\n\t\t * state.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tid: PropTypes.string,\n\n\t\t/**\n\t\t * Index of the active panel\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tindex: PropTypes.number,\n\n\t\t/**\n\t\t * Disables panel transitions.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tnoAnimation: PropTypes.bool,\n\n\t\t/**\n\t\t * Indicates the close button will not be rendered on the top right corner.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tnoCloseButton: PropTypes.bool,\n\n\t\t/**\n\t\t * Prevents maintaining shared state for framework components within this `Panels` instance.\n\t\t *\n\t\t * When `false`, each `Panel` will track the state of some framework components in order to\n\t\t * restore that state when the Panel is recreated. For example, the scroll position of a\n\t\t * `agate/Scroller` within a `Panel` will be saved and restored when returning to that\n\t\t * `Panel`.\n\t\t *\n\t\t * This only applied when navigating \"back\" (to a lower index) to `Panel`. When navigating\n\t\t * \"forwards\" (to a higher index), the `Panel` and its contained components will use their\n\t\t * default state.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tnoSharedState: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when the app close button is clicked.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonApplicationClose: PropTypes.func,\n\n\t\t/**\n\t\t * Called with cancel/back key events.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonBack: PropTypes.func,\n\n\t\t/**\n\t\t * Direction of the animation when transitioning between `Panel` components.\n\t\t *\n\t\t * This is only applied when no arranger has been set. When using `'horizontal'`, a `SlideRightArranger` is used.\n\t\t * When using `'vertical'`, a `SlideBottomArranger` is used.\n\t\t *\n\t\t * Valid values are:\n\t\t * * `'horizontal'`, and\n\t\t * * `'vertical'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical'])\n\t},\n\n\tdefaultProps: {\n\t\tcover: 'full',\n\t\tduration: 500,\n\t\tindex: 0,\n\t\tnoAnimation: false,\n\t\tnoCloseButton: false,\n\t\tnoSharedState: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'panels',\n\t\tpublicClassNames: 'panels enact-fit'\n\t},\n\n\tcomputed: {\n\t\tchildProps: ({childProps, controls, id, noCloseButton}) => {\n\t\t\tif ((noCloseButton && !controls) || !id) {\n\t\t\t\treturn childProps;\n\t\t\t}\n\n\t\t\tconst updatedChildProps = Object.assign({}, childProps);\n\t\t\tconst controlsId = getControlsId(id);\n\t\t\tconst owns = updatedChildProps['aria-owns'];\n\n\t\t\tif (owns) {\n\t\t\t\tupdatedChildProps['aria-owns'] = `${owns} ${controlsId}`;\n\t\t\t} else {\n\t\t\t\tupdatedChildProps['aria-owns'] = controlsId;\n\t\t\t}\n\n\t\t\treturn updatedChildProps;\n\t\t},\n\n\t\tclassName: ({controls, cover, noCloseButton, styler}) => styler.append(cover, {\n\t\t\t'agate-panels-hasControls': (!noCloseButton || !!controls) // If there is a close button or controls were specified\n\t\t}),\n\n\t\tstyle: ({controlsMeasurements, style = {}}) => (controlsMeasurements ? {\n\t\t\t...style,\n\t\t\t'--agate-panels-controls-width': controlsMeasurements.width + 'px'\n\t\t} : style),\n\n\t\tviewportId: ({id}) => id && `${id}-viewport`\n\t},\n\n\trender: ({\n\t\tarranger,\n\t\tchildProps,\n\t\tchildren,\n\t\tcloseButtonAriaLabel,\n\t\tcontrols,\n\t\tcontrolsRef,\n\t\tduration,\n\t\tgenerateId,\n\t\tid,\n\t\tindex,\n\t\tnoAnimation,\n\t\tnoCloseButton,\n\t\tnoSharedState,\n\t\tonApplicationClose,\n\t\torientation,\n\t\tviewportId,\n\t\t...rest\n\t}) => {\n\t\tdelete rest.controlsMeasurements;\n\t\tdelete rest.cover;\n\t\tdelete rest.onBack;\n\n\t\tconst controlsId = getControlsId(id);\n\n\t\treturn (\n\t\t\t<div {...rest} id={id}>\n\t\t\t\t<Controls\n\t\t\t\t\tcloseButtonAriaLabel={closeButtonAriaLabel}\n\t\t\t\t\tid={controlsId}\n\t\t\t\t\tspotlightId={controlsId}\n\t\t\t\t\tnoCloseButton={noCloseButton}\n\t\t\t\t\tonApplicationClose={onApplicationClose}\n\t\t\t\t\tref={controlsRef}\n\t\t\t\t>\n\t\t\t\t\t{controls}\n\t\t\t\t</Controls>\n\t\t\t\t<Viewport\n\t\t\t\t\tarranger={arranger}\n\t\t\t\t\tchildProps={childProps}\n\t\t\t\t\tduration={duration}\n\t\t\t\t\tgenerateId={generateId}\n\t\t\t\t\tid={viewportId}\n\t\t\t\t\tindex={index}\n\t\t\t\t\tnoAnimation={noAnimation}\n\t\t\t\t\tnoSharedState={noSharedState}\n\t\t\t\t\torientation={orientation}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</Viewport>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nconst PanelsDecorator = compose(\n\tSlottable({slots: ['controls']}),\n\tCancelDecorator({cancel: 'onBack'}),\n\tMeasurable({refProp: 'controlsRef', measurementProp: 'controlsMeasurements'}),\n\tIdProvider,\n\tSkinnable\n);\n\nconst Panels = PanelsDecorator(PanelsBase);\n\nexport default Panels;\nexport {\n\tPanels,\n\tPanelsBase\n};\n","/**\n * Provides Agate-themed item components and behaviors. Useful for content in lists.\n *\n * @example\n * <Item>Hello Enact!</Item>\n *\n * @module agate/Item\n * @exports Item\n * @exports ItemBase\n * @exports ItemDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport Spottable from '@enact/spotlight/Spottable';\nimport ForwardRef from '@enact/ui/ForwardRef';\nimport Slottable from '@enact/ui/Slottable';\nimport {ItemBase as UiItemBase, ItemDecorator as UiItemDecorator} from '@enact/ui/Item';\nimport {Cell, Layout, Row} from '@enact/ui/Layout';\nimport {Marquee, MarqueeController} from '@enact/ui/Marquee';\nimport Pure from '@enact/ui/internal/Pure';\nimport compose from 'ramda/src/compose';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport componentCss from './Item.module.less';\nimport Skinnable from '../Skinnable';\n\nconst ItemContent = kind({\n\tname: 'ItemContent',\n\tpropTypes: {\n\t\tcontent: PropTypes.any,\n\t\tcss: PropTypes.object,\n\t\tlabel: PropTypes.any,\n\t\tlabelPosition: PropTypes.any\n\t},\n\tdefaultProps: {\n\t\tlabelPosition: 'below'\n\t},\n\tstyles: {\n\t\tclassName: 'itemContent',\n\t\tcss: componentCss,\n\t\tpublicClassNames: ['label']\n\t},\n\tcomputed: {\n\t\tclassName: ({label, labelPosition, styler}) => styler.append({\n\t\t\thasLabel: Boolean(label),\n\t\t\tlabelAbove: labelPosition === 'above',\n\t\t\tlabelAfter: labelPosition === 'after',\n\t\t\tlabelBefore: labelPosition === 'before',\n\t\t\tlabelBelow: labelPosition === 'below'\n\t\t}),\n\t\torientation: ({labelPosition}) => {\n\t\t\treturn (labelPosition === 'above' || labelPosition === 'below') ? 'vertical' : 'horizontal';\n\t\t}\n\t},\n\trender: ({orientation, content, css, label, ...rest}) => {\n\t\tdelete rest.labelPosition;\n\n\t\t// Due to flex-box sizing (used in Layout/Cell), in a vertical orientation with no height\n\t\t// specified, all of the cells should be set to `shrink` so their height is summed to define\n\t\t// the height of the entire Layout. Without this, a cell will collapse, causing unwanted overlap.\n\t\tconst contentElement = (\n\t\t\t<Cell component={Marquee} className={css.content} shrink={(label != null && orientation === 'vertical')}>\n\t\t\t\t{content}\n\t\t\t</Cell>\n\t\t);\n\n\t\tif (label == null) return contentElement;\n\n\t\treturn (\n\t\t\t<Cell {...rest}>\n\t\t\t\t<Layout orientation={orientation}>\n\t\t\t\t\t{contentElement}\n\t\t\t\t\t<Cell component={Marquee} className={css.label} shrink>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</Cell>\n\t\t\t\t</Layout>\n\t\t\t</Cell>\n\t\t);\n\t}\n});\n\n/**\n * Renders an Agate-styled Item without any behavior.\n *\n * @class ItemBase\n * @memberof agate/Item\n * @ui\n * @public\n */\nconst ItemBase = kind({\n\tname: 'Item',\n\tpropTypes: /** @lends agate/Item.ItemBase.prototype */ {\n\t\tcomponentRef: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n\t\tcss: PropTypes.object,\n\t\tlabel: PropTypes.node,\n\t\tlabelPosition: PropTypes.oneOf(['above', 'after', 'before', 'below']),\n\t\tselected: PropTypes.bool,\n\t\tslotAfter: PropTypes.node,\n\t\tslotBefore: PropTypes.node\n\t},\n\tstyles: {\n\t\tcss: componentCss,\n\t\tpublicClassNames: ['item', 'label', 'slotAfter', 'slotBefore']\n\t},\n\tcomputed: {\n\t\tclassName: ({selected, styler}) => styler.append({selected})\n\t},\n\trender: ({children, componentRef, css, label, labelPosition, slotAfter, slotBefore, ...rest}) => {\n\t\treturn (\n\t\t\t<UiItemBase {...rest} css={css} align=\"center\" component={Row} ref={componentRef}>\n\t\t\t\t{slotBefore ? (\n\t\t\t\t\t<Cell className={css.slotBefore} shrink>\n\t\t\t\t\t\t{slotBefore}\n\t\t\t\t\t</Cell>\n\t\t\t\t) : null}\n\t\t\t\t<ItemContent\n\t\t\t\t\tcontent={children}\n\t\t\t\t\tcss={css}\n\t\t\t\t\tlabel={label}\n\t\t\t\t\tlabelPosition={labelPosition}\n\t\t\t\t/>\n\t\t\t\t{slotAfter ? (\n\t\t\t\t\t<Cell className={css.slotAfter} shrink>\n\t\t\t\t\t\t{slotAfter}\n\t\t\t\t\t</Cell>\n\t\t\t\t) : null}\n\t\t\t</UiItemBase>\n\t\t);\n\t}\n});\n\n/**\n * Agate specific behaviors to apply to [Item]{@link agate/Item.ItemBase}.\n *\n * @hoc\n * @memberof agate/Item\n * @mixes ui/Item.ItemDecorator\n * @mixes spotlight/Spottable.Spottable\n * @mixes ui/Marquee.MarqueeController\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst ItemDecorator = compose(\n\tForwardRef({prop: 'componentRef'}),\n\tSlottable({slots: ['label', 'slotAfter', 'slotBefore']}),\n\tPure,\n\tUiItemDecorator,\n\tSpottable,\n\tMarqueeController({marqueeOnFocus: true}),\n\tSkinnable\n);\n\n/**\n * An item component with Agate behaviors applied.\n *\n * @class Item\n * @memberof agate/Item\n * @extends agate/Item.ItemBase\n * @mixes agate/Item.ItemDecorator\n * @ui\n * @public\n */\nconst Item = ItemDecorator(ItemBase);\n\nexport default Item;\nexport {\n\tItem,\n\tItemBase,\n\tItemDecorator\n};\n","/**\n * Provides the `deprecate` method\n *\n * @module core/internal/deprecate\n * @private\n */\n\n// Utility method to format deprecate message\nconst formatMsg = ({message, name, until, replacedBy, since}) => {\n\tlet msg = 'DEPRECATED:';\n\n\tif (name) {\n\t\tmsg += ` ${name}`;\n\t}\n\tif (since) {\n\t\tmsg += ` since ${since}`;\n\t}\n\tif (until) {\n\t\tif (name || since) {\n\t\t\tmsg += '.';\n\t\t}\n\t\tmsg += ` Will be removed in ${until}`;\n\t}\n\tif (replacedBy) {\n\t\tif (name || since || until) {\n\t\t\tmsg += '.';\n\t\t}\n\t\tmsg += ` Replaced by ${replacedBy}`;\n\t}\n\tif (name || since || until || replacedBy) {\n\t\tmsg += '.';\n\t}\n\tif (message) {\n\t\tmsg += ` ${message}.`;\n\t}\n\treturn msg;\n};\n\n// Utility method for console warning\nconst warn = (msg) => {\n\tif (typeof console !== 'undefined') {\n\t\tconsole.warn(msg);\t// eslint-disable-line no-console\n\t}\n};\n\n/**\n * Marks a function, component or property (via `propTypes`) as deprecated. Deprecated items will\n * log a message on first invocation. Can also be used 'stand-alone' to issue a deprecation warning.\n * In stand-alone mode it currently will log every time.  In production mode, the deprecation\n * warning disappears.\n *\n * @function\n * @param {*} thing - The thing to be wrapped, or the deprecation config in stand-alone\n * @param {Object?} config - The deprecation config\n * @param {String?} config.name - An optional name for the deprecated item\n * @param {String?} config.message - An optional message to display\n * @param {String?} config.since - The version where deprecation started (optional)\n * @param {String?} config.until - The version where the functionality will be removed (optional)\n * @param {String?} config.replacedBy - An optional alternative\n * @param {Boolean?} config.alwaysWarn - If `true`, a warning will be issued for every access\n * @returns {*} Either a wrapped version of `thing` or an unwrapped version of `thing` in\n *\tproduction or stand-alone mode\n * @memberof core/internal/deprecate\n * @private\n */\nconst deprecate = function (thing, config) {\n\tif (__DEV__) {\n\t\tif (!config) {\t// If no config, config only invocation, just log message\n\t\t\tconst msg = formatMsg(thing);\n\t\t\twarn(msg);\n\t\t\treturn thing;\n\t\t} else {\n\t\t\tlet displayed, msg;\n\t\t\treturn (...args) => {\n\t\t\t\tif (!displayed || config.alwaysWarn) {\n\t\t\t\t\tif (!msg) {\n\t\t\t\t\t\tmsg = formatMsg(config);\n\t\t\t\t\t}\n\t\t\t\t\twarn(msg);\n\t\t\t\t\tdisplayed = true;\n\t\t\t\t}\n\t\t\t\treturn thing(...args);\n\t\t\t};\n\t\t}\n\t} else {\n\t\treturn thing;\n\t}\n};\n\nexport default deprecate;\nexport {deprecate};\n","import PropTypes from 'prop-types';\n\nimport {isRenderable} from '../../util';\n\nimport deprecate from '../deprecate';\n\nconst isRequired = (fn) => {\n\tfn.isRequired = function (props, key, componentName, location, propFullName, ...rest) {\n\t\tconst propValue = props[key];\n\t\tif (typeof propValue === 'undefined') {\n\t\t\treturn new Error(\n\t\t\t\t`'${propFullName}' is required for '${componentName}' but was undefined.`\n\t\t\t);\n\t\t}\n\n\t\treturn fn(propValue, key, componentName, location, propFullName, ...rest);\n\t};\n\n\treturn fn;\n};\n\nconst renderable = isRequired(function (props, key, componentName) {\n\tconst propValue = props[key];\n\tif (propValue && !isRenderable(propValue)) {\n\t\treturn new Error(\n\t\t\t`Invalid prop '${key}' supplied to '${componentName}'. ` +\n\t\t\t`Expected a renderable value but received '${typeof propValue}' instead.`\n\t\t);\n\t}\n});\n\nconst component = isRequired(function (props, key, componentName) {\n\tconst propValue = props[key];\n\tif (propValue && (typeof propValue === 'string' || !isRenderable(propValue))) {\n\t\treturn new Error(\n\t\t\t`Invalid prop '${key}' supplied to '${componentName}'. ` +\n\t\t\t`Expected a function but received '${typeof propValue}' instead.`\n\t\t);\n\t}\n});\n\nconst renderableOverride = PropTypes.oneOfType([\n\tPropTypes.element,\n\trenderable\n]);\n\nconst componentOverride = PropTypes.oneOfType([\n\tPropTypes.element,\n\tcomponent\n]);\n\nconst ref = PropTypes.oneOfType([PropTypes.shape({\n\tcurrent: PropTypes.any\n}), PropTypes.func]);\n\n/*\n * Wrap a prop type validator with a deprecation warning when the prop has a non-null value\n *\n * @param {Function} base Prop type validator\n * @param {Object} config deprecatioon configuration\n */\nconst deprecated = (base, config) => {\n\t// Wrap in a no-op so deprecate only warns once\n\tconst warn = deprecate(() => true, config);\n\treturn (props, key, ...rest) => {\n\t\t// Warn on a non-null value for the prop\n\t\tif (props[key] != null) warn();\n\n\t\t// Pass on to the prop type validator\n\t\treturn base(props, key, ...rest);\n\t};\n};\n\nconst EnactPropTypes = {\n\tcomponent,\n\tcomponentOverride,\n\tref,\n\tdeprecated,\n\trenderable,\n\trenderableOverride\n};\n\nexport default EnactPropTypes;\n","/**\n * Exports the {@link i18n/locale.isNonLatinLocale}, {@link i18n/locale.isRtlLocale} and\n * {@link i18n/locale.updateLocale} functions.\n *\n * @module i18n/locale\n * @private\n */\n\nimport ilib from 'ilib';\nimport LocaleInfo from 'ilib/lib/LocaleInfo';\nimport ScriptInfo from 'ilib/lib/ScriptInfo';\n\nimport {initCaseMappers} from '../src/case';\n\n// Returns `true` if a locale list is provided and it includes either the language (the first part\n// of the spec e.g. ko) or the entire spec (e.g. ko-KR)\nconst includesLocale = (localeList, locale) => Array.isArray(localeList) && (\n\tlocaleList.includes(locale.getLanguage()) ||\n\tlocaleList.includes(locale.toString())\n);\n\n/**\n * Tell whether or not the given locale is considered a non-Latin locale for webOS purposes. This\n * controls which fonts are used in various places to show the various languages. An undefined spec\n * parameter means to test the current locale.\n *\n * @memberof i18n/locale\n * @param {ilib.Locale|string|undefined} spec locale specifier or locale object of the locale to\n *\ttest, or undefined to test the current locale\n * @param {Object} [options] An object configuring the request. Must include an `onLoad` member to\n *                           receive the result.\n */\nfunction isNonLatinLocale (spec, options = {}) {\n\tconst {onLoad, latinLanguageOverrides, nonLatinLanguageOverrides, ...rest} = options;\n\n\tif (!onLoad) return;\n\n\t// eslint-disable-next-line no-new\n\tnew LocaleInfo(spec, {\n\t\t...rest,\n\t\tonLoad: (li) => {\n\t\t\tconst locale = li.getLocale();\n\n\t\t\tonLoad(\n\t\t\t\t// the language actually is non-latin and should not be treated as latin\n\t\t\t\t(li.getScript() !== 'Latn' && !includesLocale(latinLanguageOverrides, locale)) ||\n\t\t\t\t// the language is latin but should be treated as non-latin\n\t\t\t\tincludesLocale(nonLatinLanguageOverrides, locale)\n\t\t\t);\n\t\t}\n\t});\n}\n\n/**\n * Determines if current locale is a right-to-left locale.\n *\n * @memberof i18n/locale\n * @param {Object} [options] An object configuring the request. Must include an `onLoad` member to\n *                           receive the result.\n */\nfunction isRtlLocale (options = {}) {\n\tconst {onLoad, sync} = options;\n\n\tif (!onLoad) return;\n\n\t// eslint-disable-next-line no-new\n\tnew LocaleInfo(ilib.getLocale(), {\n\t\t...options,\n\t\tonLoad: (li) => {\n\t\t\tconst scriptName = li.getScript();\n\t\t\t// eslint-disable-next-line no-new\n\t\t\tnew ScriptInfo(scriptName, {\n\t\t\t\tsync,\n\t\t\t\tonLoad: (script) => {\n\t\t\t\t\tonLoad(script.getScriptDirection() === 'rtl');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n}\n\n/**\n * This Enact hook lets us know that the system locale has changed and gives\n * us a chance to update the iLib locale before Enact broadcasts its\n * `onlocalechange` signal.\n * Provide a locale string, like 'en-US' or 'ja-JP', to conveniently set\n * that locale immediately. Provide nothing, and reset the locale back to the\n * browser's default language.\n *\n * @memberof i18n/locale\n * @param {String} locale Locale identifier\n * @returns {undefined}\n */\nconst updateLocale = function (locale) {\n\t// blow away the cache to force it to reload the manifest files for the new app\n\t// eslint-disable-next-line no-undefined\n\tif (ilib._load) ilib._load.manifest = undefined;\n\t// remove the cache of the platform name to allow transition between snapshot and browser\n\tdelete ilib._platform;\n\t// load any external ilib/resbundle data\n\tilib.data = global.ilibData || ilib.data;\n\tilib.data.cache = ilib.data.cache || {};\n\tilib.data.cache['ResBundle-strings'] = global.resBundleData || {};\n\t// ilib handles falsy values and automatically uses local locale when encountered which\n\t// is expected and desired\n\tilib.setLocale(locale);\n\tconst newLocale = ilib.getLocale();\n\t// Recreate the case mappers to use the just-recently-set locale\n\tinitCaseMappers();\n\n\treturn newLocale;\n};\n\nexport {\n\tisNonLatinLocale,\n\tisRtlLocale,\n\tupdateLocale\n};\n","const calcProportion = (min, max, value) => {\n\tif (value <= min) {\n\t\treturn 0;\n\t} else if (value >= max) {\n\t\treturn 1;\n\t} else {\n\t\treturn (value - min) / (max - min);\n\t}\n};\n\nexport {\n\tcalcProportion\n};\n","import clamp from 'ramda/src/clamp';\nimport {adaptEvent, forKey, forProp, forward, handle, oneOf, stop} from '@enact/core/handle';\nimport {is} from '@enact/core/keymap';\nimport {calcProportion} from '@enact/ui/Slider/utils';\n\nconst calcStep = (knobStep, step) => {\n\tlet s;\n\n\tif (knobStep != null) {\n\t\ts = knobStep;\n\t} else if (step != null) {\n\t\ts = step;\n\t}\n\n\t// default to a step of 1 if neither are set or are set to 0\n\t// otherwise, increment/decrement would be no-ops\n\treturn s || 1;\n};\n\nconst isIncrement = ({keyCode}, {orientation}) => {\n\treturn orientation === 'vertical' ? is('up', keyCode) : is('right', keyCode);\n};\n\nconst isDecrement = ({keyCode}, {orientation}) => {\n\treturn orientation === 'vertical' ? is('down', keyCode) : is('left', keyCode);\n};\n\nconst isNotMax = (ev, {value, max}) => {\n\treturn value !== max;\n};\n\nconst isNotMin = (ev, {min, value = min}) => {\n\treturn value !== min;\n};\n\nconst emitChange = (direction) =>  adaptEvent(\n\t(ev, {knobStep, max, min, step, value = min}) => {\n\t\tconst newValue = clamp(min, max, value + (calcStep(knobStep, step) * direction));\n\n\t\treturn {\n\t\t\tvalue: newValue,\n\t\t\tproportion: calcProportion(min, max, newValue),\n\t\t\ttype: 'onChange'\n\t\t};\n\t},\n\tforward('onChange')\n);\n\nconst isActive = (ev, props) => {\n\treturn props.active || props.activateOnFocus;\n};\n\nconst handleIncrement = handle(\n\tisActive,\n\tisIncrement,\n\tstop,\n\tisNotMax,\n\temitChange(1)\n);\n\nconst handleDecrement = handle(\n\tisActive,\n\tisDecrement,\n\tstop,\n\tisNotMin,\n\temitChange(-1)\n);\n\nconst either = (a, b) => (...args) => a(...args) || b(...args);\nconst atMinimum = (ev, {min, value = min}) => value <= min;\nconst atMaximum = (ev, {max, min, value = min}) => value >= max;\nconst forwardOnlyType = (type) => adaptEvent(() => ({type}), forward(type));\n\nconst forwardSpotlightEvents = oneOf(\n\t[forKey('left'), handle(\n\t\teither(forProp('orientation', 'vertical'), atMinimum),\n\t\tforwardOnlyType('onSpotlightLeft')\n\t)],\n\t[forKey('right'), handle(\n\t\teither(forProp('orientation', 'vertical'), atMaximum),\n\t\tforwardOnlyType('onSpotlightRight')\n\t)],\n\t[forKey('down'), handle(\n\t\teither(forProp('orientation', 'horizontal'), atMinimum),\n\t\tforwardOnlyType('onSpotlightDown')\n\t)],\n\t[forKey('up'), handle(\n\t\teither(forProp('orientation', 'horizontal'), atMaximum),\n\t\tforwardOnlyType('onSpotlightUp')\n\t)]\n);\n\nexport {\n\tforwardSpotlightEvents,\n\temitChange,\n\thandleDecrement,\n\thandleIncrement\n};\n","import {forward} from '@enact/core/handle';\nimport platform from '@enact/core/platform';\nimport {onWindowReady} from '@enact/core/snapshot';\nimport {clamp} from '@enact/core/util';\nimport Spotlight, {getDirection} from '@enact/spotlight';\nimport {getRect} from '@enact/spotlight/src/utils';\nimport {constants} from '@enact/ui/useScroll';\nimport utilEvent from '@enact/ui/useScroll/utilEvent';\nimport utilDOM from '@enact/ui/useScroll/utilDOM';\nimport {useEffect, useRef} from 'react';\n\nconst {animationDuration, epsilon, isPageDown, isPageUp, paginationPageMultiplier, scrollWheelPageMultiplierForMaxPixel} = constants;\nlet lastPointer = {x: 0, y: 0};\n\nconst useEventFocus = (props, instances, context) => {\n\tconst {scrollMode} = props;\n\tconst {scrollContainerHandle, scrollContainerRef, scrollContentRef, spottable, themeScrollContentHandle} = instances;\n\tconst {alertScrollbarTrack} = context;\n\n\t// Functions\n\n\tconst startScrollOnFocus = (pos) => {\n\t\tif (pos) {\n\t\t\tconst\n\t\t\t\t{top, left} = pos,\n\t\t\t\tbounds = scrollContainerHandle.current.getScrollBounds();\n\n\t\t\tif (scrollMode === 'translate') {\n\t\t\t\tconst\n\t\t\t\t\tscrollHorizontally = bounds.maxLeft > 0 && left !== scrollContainerHandle.current.scrollLeft,\n\t\t\t\t\tscrollVertically = bounds.maxTop > 0 && top !== scrollContainerHandle.current.scrollTop;\n\n\t\t\t\tif (scrollHorizontally || scrollVertically) {\n\t\t\t\t\tscrollContainerHandle.current.start({\n\t\t\t\t\t\ttargetX: left,\n\t\t\t\t\t\ttargetY: top,\n\t\t\t\t\t\tanimate: (animationDuration > 0) && spottable.current.animateOnFocus\n\t\t\t\t\t});\n\t\t\t\t\tspottable.current.lastScrollPositionOnFocus = pos;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst\n\t\t\t\t\tscrollHorizontally = bounds.maxLeft > 0 && Math.abs(left - scrollContainerHandle.current.scrollLeft) > epsilon,\n\t\t\t\t\tscrollVertically = bounds.maxTop > 0 && Math.abs(top - scrollContainerHandle.current.scrollTop) > epsilon;\n\n\t\t\t\tif (scrollHorizontally || scrollVertically) {\n\t\t\t\t\tscrollContainerHandle.current.start({\n\t\t\t\t\t\ttargetX: left,\n\t\t\t\t\t\ttargetY: top,\n\t\t\t\t\t\tanimate: spottable.current.animateOnFocus\n\t\t\t\t\t});\n\t\t\t\t\tspottable.current.lastScrollPositionOnFocus = pos;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tfunction calculateAndScrollTo () {\n\t\tconst\n\t\t\tpositionFn = themeScrollContentHandle.current.calculatePositionOnFocus,\n\t\t\tscrollContentNode = scrollContentRef.current,\n\t\t\tspotItem = Spotlight.getCurrent();\n\n\t\tif (spotItem && positionFn && utilDOM.containsDangerously(scrollContentNode, spotItem)) {\n\t\t\tconst lastPos = spottable.current.lastScrollPositionOnFocus;\n\t\t\tlet pos;\n\n\t\t\t// If scroll animation is ongoing, we need to pass last target position to\n\t\t\t// determine correct scroll position.\n\t\t\tif (lastPos & (\n\t\t\t\tscrollMode === 'translate' && scrollContainerHandle.current.animator.isAnimating() ||\n\t\t\t\tscrollMode === 'native' && scrollContainerHandle.current.scrolling\n\t\t\t)) {\n\t\t\t\tconst\n\t\t\t\t\tcontentRect = getRect(scrollContentNode),\n\t\t\t\t\titemRect = getRect(spotItem);\n\t\t\t\tlet scrollPosition;\n\n\t\t\t\tif (props.direction === 'horizontal' || props.direction === 'both' && !(itemRect.left >= contentRect.left && itemRect.right <= contentRect.right)) {\n\t\t\t\t\tscrollPosition = lastPos.left;\n\t\t\t\t} else if (props.direction === 'vertical' || props.direction === 'both' && !(itemRect.top >= contentRect.top && itemRect.bottom <= contentRect.bottom)) {\n\t\t\t\t\tscrollPosition = lastPos.top;\n\t\t\t\t}\n\n\t\t\t\tpos = positionFn({item: spotItem, scrollPosition});\n\t\t\t} else {\n\t\t\t\tpos = positionFn({item: spotItem});\n\t\t\t}\n\n\t\t\tif (pos && (pos.left !== scrollContainerHandle.current.scrollLeft || pos.top !== scrollContainerHandle.current.scrollTop)) {\n\t\t\t\tstartScrollOnFocus(pos);\n\t\t\t}\n\n\t\t\t// update `scrollHeight`\n\t\t\tscrollContainerHandle.current.bounds.scrollHeight = scrollContainerHandle.current.getScrollBounds().scrollHeight;\n\t\t}\n\t}\n\n\tfunction handleFocus (ev) {\n\t\tconst shouldPreventScrollByFocus = themeScrollContentHandle.current.shouldPreventScrollByFocus ?\n\t\t\tthemeScrollContentHandle.current.shouldPreventScrollByFocus() :\n\t\t\tfalse;\n\n\t\tif (spottable.current.isWheeling) {\n\t\t\tscrollContainerHandle.current.stop();\n\t\t\tif (scrollMode === 'translate') {\n\t\t\t\tspottable.current.animateOnFocus = false;\n\t\t\t}\n\t\t}\n\n\t\tif (!Spotlight.getPointerMode()) {\n\t\t\talertScrollbarTrack();\n\t\t}\n\n\t\tif (!(shouldPreventScrollByFocus || Spotlight.getPointerMode() || scrollContainerHandle.current.isDragging || spottable.current.indexToFocus)) {\n\t\t\tconst\n\t\t\t\titem = ev.target,\n\t\t\t\tspotItem = Spotlight.getCurrent();\n\n\t\t\tif (item && item === spotItem) {\n\t\t\t\tcalculateAndScrollTo();\n\t\t\t}\n\t\t} else if (themeScrollContentHandle.current.setLastFocusedNode) {\n\t\t\tthemeScrollContentHandle.current.setLastFocusedNode(ev.target);\n\t\t}\n\t}\n\n\tfunction hasFocus () {\n\t\tconst current = Spotlight.getCurrent();\n\n\t\tif (current && scrollContainerRef.current) {\n\t\t\treturn utilDOM.containsDangerously(scrollContainerRef, current);\n\t\t}\n\t}\n\n\t// Return\n\n\treturn {\n\t\tcalculateAndScrollTo,\n\t\thandleFocus,\n\t\thasFocus\n\t};\n};\n\nconst useEventKey = (props, instances, context) => {\n\tconst {scrollMode} = props;\n\tconst {themeScrollContentHandle, spottable, scrollContentRef, scrollContainerHandle} = instances;\n\tconst {hasFocus, isContent} = context;\n\n\t// Functions\n\n\tfunction handleKeyDown (ev) {\n\t\tconst {keyCode, repeat, target} = ev;\n\n\t\tforward('onKeyDown', ev, props);\n\n\t\tif (isPageUp(keyCode) || isPageDown(keyCode)) {\n\t\t\tev.preventDefault();\n\t\t}\n\n\t\tspottable.current.animateOnFocus = true;\n\n\t\tif (!repeat && hasFocus()) {\n\t\t\tlet direction = null;\n\n\t\t\tif (isPageUp(keyCode) || isPageDown(keyCode)) {\n\t\t\t\tif (props.direction === 'vertical' || props.direction === 'both') {\n\t\t\t\t\tdirection = isPageUp(keyCode) ? 'up' : 'down';\n\n\t\t\t\t\tif (isContent(target)) {\n\t\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\t\tscrollByPage(direction);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (getDirection(keyCode) && (scrollMode === 'translate' || scrollMode === 'native' && !Spotlight.getPointerMode())) {\n\t\t\t\tscrollContainerHandle.current.lastInputType = 'arrowKey';\n\t\t\t\tdirection = getDirection(keyCode);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction scrollByPage (direction) {\n\t\tconst\n\t\t\t{scrollTop} = scrollContainerHandle.current,\n\t\t\tfocusedItem = Spotlight.getCurrent(),\n\t\t\tbounds = scrollContainerHandle.current.getScrollBounds(),\n\t\t\tisUp = direction === 'up',\n\t\t\tdirectionFactor = isUp ? -1 : 1,\n\t\t\tpageDistance = directionFactor * bounds.clientHeight * paginationPageMultiplier;\n\t\tlet scrollPossible = false;\n\n\t\tif (scrollMode === 'translate') {\n\t\t\tscrollPossible = isUp ? scrollTop > 0 : bounds.maxTop > scrollTop;\n\t\t} else {\n\t\t\tscrollPossible = isUp ? scrollTop > 0 : bounds.maxTop - scrollTop > epsilon;\n\t\t}\n\n\t\tscrollContainerHandle.current.lastInputType = 'pageKey';\n\n\t\tif (directionFactor !== scrollContainerHandle.current.wheelDirection) {\n\t\t\tscrollContainerHandle.current.isScrollAnimationTargetAccumulated = false;\n\t\t\tscrollContainerHandle.current.wheelDirection = directionFactor;\n\t\t}\n\n\t\tif (scrollPossible) {\n\t\t\tif (focusedItem) {\n\t\t\t\tconst contentNode = scrollContentRef.current;\n\n\t\t\t\t// Should do nothing when focusedItem is paging control button of Scrollbar\n\t\t\t\tif (utilDOM.containsDangerously(contentNode, focusedItem)) {\n\t\t\t\t\tconst\n\t\t\t\t\t\tcontentRect = contentNode.getBoundingClientRect(),\n\t\t\t\t\t\tclientRect = focusedItem.getBoundingClientRect(),\n\t\t\t\t\t\tyAdjust = isUp ? 1 : -1,\n\t\t\t\t\t\tx = clamp(contentRect.left, contentRect.right, (clientRect.right + clientRect.left) / 2);\n\t\t\t\t\tlet y = 0;\n\n\t\t\t\t\tif (scrollMode === 'translate') {\n\t\t\t\t\t\ty = bounds.maxTop <= scrollTop + pageDistance || 0 >= scrollTop + pageDistance ?\n\t\t\t\t\t\t\tcontentRect[isUp ? 'top' : 'bottom'] + yAdjust :\n\t\t\t\t\t\t\tclamp(contentRect.top, contentRect.bottom, (clientRect.bottom + clientRect.top) / 2);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ty = bounds.maxTop - epsilon < scrollTop + pageDistance || epsilon > scrollTop + pageDistance ?\n\t\t\t\t\t\t\tcontentNode.getBoundingClientRect()[isUp ? 'top' : 'bottom'] + yAdjust :\n\t\t\t\t\t\t\tclamp(contentRect.top, contentRect.bottom, (clientRect.bottom + clientRect.top) / 2);\n\t\t\t\t\t}\n\n\t\t\t\t\tfocusedItem.blur();\n\n\t\t\t\t\tif (!props['data-spotlight-container-disabled']) {\n\t\t\t\t\t\tthemeScrollContentHandle.current.setContainerDisabled(true);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (themeScrollContentHandle.current.pauseSpotlight) {\n\t\t\t\t\t\tthemeScrollContentHandle.current.pauseSpotlight(true);\n\t\t\t\t\t}\n\n\t\t\t\t\tspottable.current.pointToFocus = {direction, x, y};\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tspottable.current.pointToFocus = {direction, x: lastPointer.x, y: lastPointer.y};\n\t\t\t}\n\n\t\t\tscrollContainerHandle.current.scrollToAccumulatedTarget(pageDistance, true);\n\t\t}\n\t}\n\n\tfunction scrollByPageOnPointerMode (ev) {\n\t\tconst {keyCode, repeat} = ev;\n\n\t\tforward('onKeyDown', ev, props);\n\t\tev.preventDefault();\n\n\t\tspottable.current.animateOnFocus = true;\n\n\t\tif (!repeat && (props.direction === 'vertical' || props.direction === 'both')) {\n\t\t\tconst direction = isPageUp(keyCode) ? 'up' : 'down';\n\n\t\t\tscrollByPage(direction);\n\n\t\t\treturn true; // means consumed\n\t\t}\n\n\t\treturn false; // means to be propagated\n\t}\n\n\t// Return\n\n\treturn {\n\t\thandleKeyDown,\n\t\tlastPointer,\n\t\tscrollByPageOnPointerMode\n\t};\n};\n\n/*\n * Track the last position of the pointer to check if a list should scroll by\n * page up/down keys when the pointer is on a list without any focused node.\n * `keydown` event does not occur if there is no focus on the node and\n * its descendants, we add `keydown` handler to `document` also.\n */\nconst scrollers = new Map();\n\n// An app could have lists and/or scrollers more than one,\n// so we should test all of them when page up/down key is pressed.\nconst pointerTracker = (ev) => {\n\tlastPointer.x = ev.clientX;\n\tlastPointer.y = ev.clientY;\n};\n\nconst pageKeyHandler = (ev) => {\n\tconst {keyCode} = ev;\n\n\tif (Spotlight.getPointerMode() && !Spotlight.getCurrent() && (isPageUp(keyCode) || isPageDown(keyCode))) {\n\t\tconst\n\t\t\t{x, y} = lastPointer,\n\t\t\telem = document.elementFromPoint(x, y);\n\n\t\tif (elem) {\n\t\t\tfor (const [key, value] of scrollers) {\n\t\t\t\tif (utilDOM.containsDangerously(value, elem)) {\n\t\t\t\t\t/* To handle page keys in nested scrollable components,\n\t\t\t\t\t * break the loop only when `scrollByPageOnPointerMode` returns `true`.\n\t\t\t\t\t * This approach assumes that an inner scrollable component is\n\t\t\t\t\t * mounted earlier than an outer scrollable component.\n\t\t\t\t\t */\n\t\t\t\t\tif (key.scrollByPageOnPointerMode(ev)) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\nconst useEventMonitor = (props, instances, context) => {\n\tconst {scrollContainerRef} = instances;\n\tconst {lastPointer: lastPointerProp, scrollByPageOnPointerMode} = context;\n\n\t// Mutable value\n\n\tconst mutableRef = useRef({pageKeyHandlerObj: {scrollByPageOnPointerMode}});\n\n\tlastPointer = lastPointerProp;\n\n\t// Hooks\n\n\tuseEffect(() => {\n\t\tconst setMonitorEventTarget = (target) => {\n\t\t\tscrollers.set(mutableRef.current.pageKeyHandlerObj, target);\n\t\t};\n\n\t\tconst deleteMonitorEventTarget = () => {\n\t\t\tscrollers.delete(mutableRef.current.pageKeyHandlerObj);\n\t\t};\n\n\t\tsetMonitorEventTarget(scrollContainerRef.current);\n\n\t\treturn () => {\n\t\t\t// TODO: Replace `this` to something.\n\t\t\tdeleteMonitorEventTarget();\n\t\t};\n\t}, [scrollContainerRef]);\n};\n\nonWindowReady(() => {\n\tutilEvent('mousemove').addEventListener(document, pointerTracker);\n\tutilEvent('keydown').addEventListener(document, pageKeyHandler);\n});\n\nconst useEventMouse = (props, instances, context) => {\n\tconst {scrollMode} = props;\n\tconst {themeScrollContentHandle, scrollContainerHandle} = instances;\n\tconst {isScrollButtonFocused} = context;\n\n\t// Functions\n\n\tfunction handleDragEnd () {\n\t\tscrollContainerHandle.current.isDragging = false;\n\n\t\tif (!scrollContainerHandle.current.isFlicked) {\n\t\t\tthemeScrollContentHandle.current.setContainerDisabled(false);\n\t\t}\n\t}\n\n\tfunction handleDragStart () {\n\t\tscrollContainerHandle.current.isDragging = true;\n\t\tthemeScrollContentHandle.current.setContainerDisabled(true);\n\t}\n\n\tfunction handleFlick ({direction}) {\n\t\tconst\n\t\t\t{canScrollHorizontally, canScrollVertically} = scrollContainerHandle.current,\n\t\t\tbounds = scrollContainerHandle.current.getScrollBounds(),\n\t\t\tfocusedItem = Spotlight.getCurrent();\n\n\t\tscrollContainerHandle.current.isFlicked = true;\n\n\t\tif (focusedItem) {\n\t\t\tfocusedItem.blur();\n\t\t}\n\n\t\tif ((\n\t\t\tdirection === 'vertical' && canScrollVertically(bounds) ||\n\t\t\tdirection === 'horizontal' && canScrollHorizontally(bounds)\n\t\t) && !props['data-spotlight-container-disabled']) {\n\t\t\tthemeScrollContentHandle.current.setContainerDisabled(true);\n\t\t}\n\t}\n\n\tfunction handleMouseDown (ev) {\n\t\tif (isScrollButtonFocused()) {\n\t\t\tev.preventDefault();\n\t\t}\n\n\t\tif (props['data-spotlight-container-disabled']) {\n\t\t\tev.preventDefault();\n\t\t} else if (scrollMode === 'native') {\n\t\t\tthemeScrollContentHandle.current.setContainerDisabled(false);\n\t\t}\n\t}\n\n\t// Return\n\n\treturn {\n\t\thandleDragEnd,\n\t\thandleDragStart,\n\t\thandleFlick,\n\t\thandleMouseDown\n\t};\n};\n\nconst useEventTouch = (props, instnaces, context) => {\n\tconst {isScrollButtonFocused} = context;\n\n\t// Functions\n\n\tfunction handleTouchStart () {\n\t\tconst focusedItem = Spotlight.getCurrent();\n\n\t\tif (!Spotlight.isPaused() && focusedItem && !isScrollButtonFocused()) {\n\t\t\tfocusedItem.blur();\n\t\t}\n\t}\n\n\t// Return\n\n\treturn {\n\t\thandleTouchStart\n\t};\n};\n\nconst useEventVoice = (props, instances, context) => {\n\tconst {scrollContainerRef, scrollContainerHandle} = instances;\n\tconst {onScrollbarButtonClick} = context;\n\n\t// Mutable value\n\n\tconst mutableRef = useRef({\n\t\tisVoiceControl: false,\n\t\tvoiceControlDirection: 'vertical'\n\t});\n\n\t// Functions\n\n\tconst updateFocusAfterVoiceControl = () => {\n\t\tconst\n\t\t\tspotItem = Spotlight.getCurrent(),\n\t\t\tscrollContainerNode = scrollContainerRef.current;\n\n\t\tif (utilDOM.containsDangerously(scrollContainerNode, spotItem)) {\n\t\t\tconst\n\t\t\t\tviewportBounds = scrollContainerNode.getBoundingClientRect(),\n\t\t\t\tspotItemBounds = spotItem.getBoundingClientRect(),\n\t\t\t\tnodes = Spotlight.getSpottableDescendants(scrollContainerNode.dataset.spotlightId),\n\t\t\t\tfirst = mutableRef.current.voiceControlDirection === 'vertical' ? 'top' : 'left',\n\t\t\t\tlast = mutableRef.current.voiceControlDirection === 'vertical' ? 'bottom' : 'right';\n\n\t\t\tif (spotItemBounds[last] < viewportBounds[first] || spotItemBounds[first] > viewportBounds[last]) {\n\t\t\t\tfor (let i = 0; i < nodes.length; i++) {\n\t\t\t\t\tconst nodeBounds = nodes[i].getBoundingClientRect();\n\n\t\t\t\t\tif (nodeBounds[first] > viewportBounds[first] && nodeBounds[last] < viewportBounds[last]) {\n\t\t\t\t\t\tSpotlight.focus(nodes[i]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tfunction stopVoice () {\n\t\tif (mutableRef.current.isVoiceControl) {\n\t\t\tmutableRef.current.isVoiceControl = false;\n\t\t\tupdateFocusAfterVoiceControl();\n\t\t}\n\t}\n\n\tconst isReachedEdge = (scrollPos, ltrBound, rtlBound, isRtl = false) => {\n\t\tconst bound = isRtl ? rtlBound : ltrBound;\n\t\treturn (bound === 0 && scrollPos === 0) || (bound > 0 && scrollPos >= bound - 1);\n\t};\n\n\tconst handleVoice = (e) => {\n\t\tconst\n\t\t\tisHorizontal = (props.direction === 'horizontal'),\n\t\t\tisRtl = scrollContainerHandle.current.rtl,\n\t\t\t{scrollTop, scrollLeft} = scrollContainerHandle.current,\n\t\t\t{maxLeft, maxTop} = scrollContainerHandle.current.getScrollBounds(),\n\t\t\tverticalDirection = ['up', 'down', 'top', 'bottom'],\n\t\t\thorizontalDirection = isRtl ? ['right', 'left', 'rightmost', 'leftmost'] : ['left', 'right', 'leftmost', 'rightmost'],\n\t\t\tmovement = ['previous', 'next', 'first', 'last'];\n\t\tlet\n\t\t\tscroll = e && e.detail && e.detail.scroll,\n\t\t\tindex = movement.indexOf(scroll);\n\n\t\tif (index > -1) {\n\t\t\tscroll = isHorizontal ? horizontalDirection[index] : verticalDirection[index];\n\t\t}\n\n\t\tmutableRef.current.voiceControlDirection = verticalDirection.includes(scroll) && 'vertical' || horizontalDirection.includes(scroll) && 'horizontal' || null;\n\n\t\t// Case 1. Invalid direction\n\t\tif (mutableRef.current.voiceControlDirection === null) {\n\t\t\tmutableRef.current.isVoiceControl = false;\n\t\t// Case 2. Cannot scroll\n\t\t} else if (\n\t\t\t(['up', 'top'].includes(scroll) && isReachedEdge(scrollTop, 0)) ||\n\t\t\t(['down', 'bottom'].includes(scroll) && isReachedEdge(scrollTop, maxTop)) ||\n\t\t\t(['left', 'leftmost'].includes(scroll) && isReachedEdge(scrollLeft, 0, maxLeft, isRtl)) ||\n\t\t\t(['right', 'rightmost'].includes(scroll) && isReachedEdge(scrollLeft, maxLeft, 0, isRtl))\n\t\t) {\n\t\t\tif (window.webOSVoiceReportActionResult) {\n\t\t\t\twindow.webOSVoiceReportActionResult({voiceUi: {exception: 'alreadyCompleted'}});\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t// Case 3. Can scroll\n\t\t} else {\n\t\t\tmutableRef.current.isVoiceControl = true;\n\n\t\t\tif (['up', 'down', 'left', 'right'].includes(scroll)) {\n\t\t\t\tconst isPreviousScrollButton = (scroll === 'up') || (scroll === 'left' && !isRtl) || (scroll === 'right' && isRtl);\n\t\t\t\tonScrollbarButtonClick({isPreviousScrollButton, isVerticalScrollBar: verticalDirection.includes(scroll)});\n\t\t\t} else { // ['top', 'bottom', 'leftmost', 'rightmost'].includes(scroll)\n\t\t\t\tscrollContainerHandle.current.scrollTo({align: verticalDirection.includes(scroll) && scroll || (scroll === 'leftmost' && isRtl || scroll === 'rightmost' && !isRtl) && 'right' || 'left'});\n\t\t\t}\n\n\t\t\te.preventDefault();\n\t\t}\n\t};\n\n\tfunction addVoiceEventListener (scrollContentRef) {\n\t\tif (platform.webos) {\n\t\t\tutilEvent('webOSVoice').addEventListener(scrollContentRef, handleVoice);\n\t\t\tscrollContentRef.current.setAttribute('data-webos-voice-intent', 'Scroll');\n\t\t}\n\t}\n\n\tfunction removeVoiceEventListener (scrollContentRef) {\n\t\tif (platform.webos) {\n\t\t\tutilEvent('webOSVoice').removeEventListener(scrollContentRef, handleVoice);\n\t\t\tscrollContentRef.current.removeAttribute('data-webos-voice-intent');\n\t\t}\n\t}\n\n\t// Return\n\n\treturn {\n\t\taddVoiceEventListener,\n\t\tremoveVoiceEventListener,\n\t\tstopVoice\n\t};\n};\n\nconst useEventWheel = (props, instances, context) => {\n\tconst {scrollMode} = props;\n\tconst {themeScrollContentHandle, horizontalScrollbarHandle, scrollContainerHandle, verticalScrollbarHandle, spottable} = instances;\n\tconst {isScrollButtonFocused} = context;\n\n\t// Functions\n\n\tfunction handleWheel ({delta}) {\n\t\tconst focusedItem = Spotlight.getCurrent();\n\n\t\tif (focusedItem && !isScrollButtonFocused()) {\n\t\t\tfocusedItem.blur();\n\t\t}\n\n\t\tif (delta !== 0) {\n\t\t\tspottable.current.isWheeling = true;\n\t\t\tif (!props['data-spotlight-container-disabled']) {\n\t\t\t\tthemeScrollContentHandle.current.setContainerDisabled(true);\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * wheel event handler;\n\t * - for horizontal scroll, supports wheel action on any children nodes since web engine cannot support this\n\t * - for vertical scroll, supports wheel action on scrollbars only\n\t */\n\tfunction handleWheelNative (ev) {\n\t\tconst\n\t\t\tbounds = scrollContainerHandle.current.getScrollBounds(),\n\t\t\tcanScrollHorizontally = scrollContainerHandle.current.canScrollHorizontally(bounds),\n\t\t\tcanScrollVertically = scrollContainerHandle.current.canScrollVertically(bounds),\n\t\t\teventDeltaMode = ev.deltaMode,\n\t\t\teventDelta = (-ev.wheelDeltaY || ev.deltaY);\n\t\tlet\n\t\t\tdelta = 0,\n\t\t\tneedToHideScrollbarTrack = false;\n\n\t\tif (typeof window !== 'undefined') {\n\t\t\twindow.document.activeElement.blur();\n\t\t}\n\n\t\tscrollContainerHandle.current.showScrollbarTrack(bounds);\n\n\t\t// FIXME This routine is a temporary support for horizontal wheel scroll.\n\t\t// FIXME If web engine supports horizontal wheel, this routine should be refined or removed.\n\t\tif (canScrollVertically) { // This routine handles wheel events on scrollbars for vertical scroll.\n\t\t\tif (eventDelta < 0 && scrollContainerHandle.current.scrollTop > 0 || eventDelta > 0 && scrollContainerHandle.current.scrollTop < bounds.maxTop) {\n\t\t\t\tif (!spottable.current.isWheeling) {\n\t\t\t\t\tif (!props['data-spotlight-container-disabled']) {\n\t\t\t\t\t\tthemeScrollContentHandle.current.setContainerDisabled(true);\n\t\t\t\t\t}\n\t\t\t\t\tspottable.current.isWheeling = true;\n\t\t\t\t}\n\n\t\t\t\t// Not to check if ev.target is a descendant of a wrapped component which may have a lot of nodes in it.\n\t\t\t\tif ((horizontalScrollbarHandle.current && utilDOM.containsDangerously(horizontalScrollbarHandle.current.getContainerRef(), ev.target)) ||\n\t\t\t\t\t(verticalScrollbarHandle.current && utilDOM.containsDangerously(verticalScrollbarHandle.current.getContainerRef(), ev.target))) {\n\t\t\t\t\tdelta = scrollContainerHandle.current.calculateDistanceByWheel(eventDeltaMode, eventDelta, bounds.clientHeight * scrollWheelPageMultiplierForMaxPixel);\n\t\t\t\t\tneedToHideScrollbarTrack = !delta;\n\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t}\n\n\t\t\t\tev.stopPropagation();\n\t\t\t} else {\n\t\t\t\tneedToHideScrollbarTrack = true;\n\t\t\t}\n\t\t} else if (canScrollHorizontally) { // this routine handles wheel events on any children for horizontal scroll.\n\t\t\tif (eventDelta < 0 && scrollContainerHandle.current.scrollLeft > 0 || eventDelta > 0 && scrollContainerHandle.current.scrollLeft < bounds.maxLeft) {\n\t\t\t\tif (!spottable.current.isWheeling) {\n\t\t\t\t\tif (!props['data-spotlight-container-disabled']) {\n\t\t\t\t\t\tthemeScrollContentHandle.current.setContainerDisabled(true);\n\t\t\t\t\t}\n\n\t\t\t\t\tspottable.current.isWheeling = true;\n\t\t\t\t}\n\n\t\t\t\tdelta = scrollContainerHandle.current.calculateDistanceByWheel(eventDeltaMode, eventDelta, bounds.clientWidth * scrollWheelPageMultiplierForMaxPixel);\n\t\t\t\tneedToHideScrollbarTrack = !delta;\n\n\t\t\t\tev.preventDefault();\n\t\t\t\tev.stopPropagation();\n\t\t\t} else {\n\t\t\t\tneedToHideScrollbarTrack = true;\n\t\t\t}\n\t\t}\n\n\t\tif (delta !== 0) {\n\t\t\t/* prevent native scrolling feature for vertical direction */\n\t\t\tev.preventDefault();\n\n\t\t\tconst direction = Math.sign(delta);\n\n\t\t\t// Not to accumulate scroll position if wheel direction is different from hold direction\n\t\t\tif (direction !== scrollContainerHandle.current.wheelDirection) {\n\t\t\t\tscrollContainerHandle.current.isScrollAnimationTargetAccumulated = false;\n\t\t\t\tscrollContainerHandle.current.wheelDirection = direction;\n\t\t\t}\n\n\t\t\tscrollContainerHandle.current.scrollToAccumulatedTarget(delta, canScrollVertically);\n\t\t}\n\n\t\tif (needToHideScrollbarTrack) {\n\t\t\tscrollContainerHandle.current.startHidingScrollbarTrack();\n\t\t}\n\t}\n\n\t// Return\n\n\treturn {\n\t\thandleWheel: scrollMode === 'translate' ? handleWheel : handleWheelNative\n\t};\n};\n\nexport {\n\tuseEventFocus,\n\tuseEventKey,\n\tuseEventMonitor,\n\tuseEventMouse,\n\tuseEventTouch,\n\tuseEventVoice,\n\tuseEventWheel\n};\n","import {constants} from '@enact/ui/useScroll';\n\nconst {paginationPageMultiplier} = constants;\n\nconst useScrollbar = (props, instances) => {\n\tconst {horizontalScrollbarHandle, scrollContainerHandle, verticalScrollbarHandle} = instances;\n\n\tconst scrollbarProps = {\n\t\tcbAlertScrollbarTrack: alertScrollbarTrack,\n\t\tonNextScroll: onScrollbarButtonClick,\n\t\tonPrevScroll: onScrollbarButtonClick\n\t};\n\n\t// Functions\n\n\tfunction isScrollButtonFocused () {\n\t\treturn (\n\t\t\thorizontalScrollbarHandle.current && horizontalScrollbarHandle.current.isOneOfScrollButtonsFocused() ||\n\t\t\tverticalScrollbarHandle.current && verticalScrollbarHandle.current.isOneOfScrollButtonsFocused()\n\t\t);\n\t}\n\n\tfunction onScrollbarButtonClick ({isPreviousScrollButton, isVerticalScrollBar}) {\n\t\tconst\n\t\t\t{wheelDirection} = scrollContainerHandle.current,\n\t\t\tbounds = scrollContainerHandle.current.getScrollBounds(),\n\t\t\tdirection = isPreviousScrollButton ? -1 : 1,\n\t\t\tpageDistance = direction * (isVerticalScrollBar ? bounds.clientHeight : bounds.clientWidth) * paginationPageMultiplier;\n\n\t\tscrollContainerHandle.current.lastInputType = 'scrollbarButton';\n\n\t\tif (direction !== wheelDirection) {\n\t\t\tscrollContainerHandle.current.isScrollAnimationTargetAccumulated = false;\n\t\t\tscrollContainerHandle.current.wheelDirection = direction;\n\t\t}\n\n\t\tscrollContainerHandle.current.scrollToAccumulatedTarget(pageDistance, isVerticalScrollBar);\n\t}\n\n\tfunction focusOnScrollButton (scrollbarHandle, isPreviousScrollButton) {\n\t\tif (scrollbarHandle.current) {\n\t\t\tscrollbarHandle.current.focusOnButton(isPreviousScrollButton);\n\t\t}\n\t}\n\n\tfunction scrollAndFocusScrollbarButton (direction) {\n\t\tif (scrollContainerHandle.current) {\n\t\t\tconst\n\t\t\t\t{rtl} = scrollContainerHandle.current,\n\t\t\t\tisPreviousScrollButton = direction === 'up' || (rtl ? direction === 'right' : direction === 'left'),\n\t\t\t\tisHorizontalDirection = direction === 'left' || direction === 'right',\n\t\t\t\tisVerticalDirection = direction === 'up' || direction === 'down',\n\t\t\t\tcanScrollHorizontally = isHorizontalDirection && (props.direction === 'horizontal' || props.direction === 'both'),\n\t\t\t\tcanScrollingVertically = isVerticalDirection && (props.direction === 'vertical' || props.direction === 'both');\n\n\t\t\tif (canScrollHorizontally || canScrollingVertically) {\n\t\t\t\tonScrollbarButtonClick({\n\t\t\t\t\tisPreviousScrollButton,\n\t\t\t\t\tisVerticalScrollBar: canScrollingVertically\n\t\t\t\t});\n\n\t\t\t\tif (props.focusableScrollbar) {\n\t\t\t\t\tfocusOnScrollButton(\n\t\t\t\t\t\tcanScrollingVertically ? verticalScrollbarHandle : horizontalScrollbarHandle,\n\t\t\t\t\t\tisPreviousScrollButton\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction alertScrollbarTrack () {\n\t\tconst bounds = scrollContainerHandle.current.getScrollBounds();\n\n\t\tscrollContainerHandle.current.showScrollbarTrack(bounds);\n\t\tscrollContainerHandle.current.startHidingScrollbarTrack();\n\t}\n\n\t// Return\n\n\treturn {\n\t\talertScrollbarTrack,\n\t\tisScrollButtonFocused,\n\t\tonScrollbarButtonClick,\n\t\tscrollAndFocusScrollbarButton,\n\t\tscrollbarProps\n\t};\n};\n\nexport default useScrollbar;\nexport {\n\tuseScrollbar\n};\n","import Spotlight from '@enact/spotlight';\nimport utilDOM from '@enact/ui/useScroll/utilDOM';\nimport {useContext, useEffect, useLayoutEffect} from 'react';\n\nimport {SharedState} from '../Panels/SharedStateDecorator';\n\nimport scrollbarCss from './Scrollbar.module.less';\n\nconst navigableFilter = (elem) => {\n\tif (\n\t\t!Spotlight.getPointerMode() &&\n\t\t// ignore containers passed as their id\n\t\ttypeof elem !== 'string' &&\n\t\tutilDOM.containsDangerously(elem.classList, scrollbarCss.scrollButton)\n\t) {\n\t\treturn false;\n\t}\n};\n\nconst useSpotlightConfig = (props) => {\n\t// Hooks\n\n\tuseLayoutEffect(() => {\n\t\tfunction configureSpotlight () {\n\t\t\tSpotlight.set(props['data-spotlight-id'], {\n\t\t\t\tnavigableFilter: props.focusableScrollbar ? null : navigableFilter\n\t\t\t});\n\t\t}\n\n\t\tconfigureSpotlight();\n\t}, [props]);\n};\n\nconst useSpotlightRestore = (props, instances) => {\n\tconst {scrollContainerHandle} = instances;\n\tconst context = useContext(SharedState);\n\n\t// Hooks\n\n\tuseEffect(() => {\n\t\t// Only intended to be used within componentDidMount, this method will fetch the last stored\n\t\t// scroll position from SharedState and scroll (without animation) to that position\n\t\tfunction restoreScrollPosition () {\n\t\t\tconst {id} = props;\n\t\t\tif (id && context && context.get) {\n\t\t\t\tconst scrollPosition = context.get(`${id}.scrollPosition`);\n\n\t\t\t\tif (scrollPosition) {\n\t\t\t\t\tscrollContainerHandle.current.scrollTo({\n\t\t\t\t\t\tposition: scrollPosition,\n\t\t\t\t\t\tanimate: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\trestoreScrollPosition();\n\t}, []); // eslint-disable-line react-hooks/exhaustive-deps\n};\n\nexport {\n\tuseSpotlightConfig,\n\tuseSpotlightRestore\n};\n","/**\n * Agate-themed scrollable hook and behaviors.\n *\n * @module agate/useScroll\n * @exports dataIndexAttribute\n * @exports useScroll\n * @private\n */\n\nimport {forward} from '@enact/core/handle';\nimport platform from '@enact/core/platform';\nimport Spotlight from '@enact/spotlight';\nimport {spottableClass} from '@enact/spotlight/Spottable';\nimport {getTargetByDirectionFromPosition} from '@enact/spotlight/src/target';\nimport {getRect, intersects} from '@enact/spotlight/src/utils';\nimport {useScrollBase} from '@enact/ui/useScroll';\nimport {assignPropertiesOf} from '@enact/ui/useScroll';\nimport utilDOM from '@enact/ui/useScroll/utilDOM';\nimport utilEvent from '@enact/ui/useScroll/utilEvent';\nimport {useContext, useRef} from 'react';\n\nimport $L from '../internal/$L';\nimport {SharedState} from '../Panels/SharedStateDecorator';\n\nimport {useThemeScrollContentHandle} from './useThemeScrollContentHandle';\nimport {\n\tuseEventFocus, useEventKey, useEventMonitor, useEventMouse,\n\tuseEventTouch, useEventVoice, useEventWheel\n} from './useEvent';\nimport useScrollbar from './useScrollbar';\nimport {useSpotlightConfig, useSpotlightRestore} from './useSpotlight';\n\nconst\n\treverseDirections = {\n\t\tdown: 'up',\n\t\tup: 'down'\n\t};\n\n/**\n * The name of a custom attribute which indicates the index of an item in\n * [VirtualList]{@link agate/VirtualList.VirtualList} or\n * [VirtualGridList]{@link agate/VirtualList.VirtualGridList}.\n *\n * @constant dataIndexAttribute\n * @memberof agate/useScroll\n * @type {String}\n * @private\n */\nconst dataIndexAttribute = 'data-index';\n\nconst isIntersecting = (elem, container) => elem && intersects(getRect(container), getRect(elem));\nconst getIntersectingElement = (elem, container) => isIntersecting(elem, container) && elem;\nconst getTargetInViewByDirectionFromPosition = (direction, position, container) => {\n\tconst target = getTargetByDirectionFromPosition(direction, position, Spotlight.getActiveContainer());\n\treturn getIntersectingElement(target, container);\n};\n\nconst useThemeScroll = (props, instances) => {\n\tconst {scrollMode} = props;\n\tconst {themeScrollContentHandle, scrollContentRef, scrollContainerHandle, scrollContainerRef} = instances;\n\tconst contextSharedState = useContext(SharedState);\n\n\t// Mutable value\n\n\tconst mutableRef = useRef({\n\t\tanimateOnFocus: false,\n\t\tindexToFocus: null,\n\t\tisWheeling: false,\n\t\tlastScrollPositionOnFocus: null,\n\t\tnodeToFocus: null,\n\t\tpointToFocus: null\n\t});\n\n\t// Hooks\n\n\tconst {\n\t\talertScrollbarTrack,\n\t\tisScrollButtonFocused,\n\t\tonScrollbarButtonClick,\n\t\tscrollAndFocusScrollbarButton,\n\t\tscrollbarProps\n\t} = useScrollbar(props, instances);\n\n\tuseSpotlightConfig(props);\n\n\tuseSpotlightRestore(props, instances);\n\n\tconst {handleWheel} = useEventWheel(props, {...instances, spottable: mutableRef}, {isScrollButtonFocused});\n\n\tconst {calculateAndScrollTo, handleFocus, hasFocus} = useEventFocus(props, {...instances, spottable: mutableRef}, {alertScrollbarTrack});\n\n\tconst {handleKeyDown, lastPointer, scrollByPageOnPointerMode} = useEventKey(props, {...instances, spottable: mutableRef}, {hasFocus, isContent});\n\n\tuseEventMonitor({}, instances, {lastPointer, scrollByPageOnPointerMode});\n\n\tconst {handleDragEnd, handleDragStart, handleFlick, handleMouseDown} = useEventMouse({}, instances, {isScrollButtonFocused});\n\n\tconst {handleTouchStart} = useEventTouch({}, instances, {isScrollButtonFocused});\n\n\tconst {\n\t\taddVoiceEventListener,\n\t\tremoveVoiceEventListener,\n\t\tstopVoice\n\t} = useEventVoice(props, instances, {onScrollbarButtonClick});\n\n\t// Functions\n\n\tfunction isContent (element) {\n\t\treturn (element && utilDOM.containsDangerously(scrollContentRef, element));\n\t}\n\n\tfunction scrollTo (opt) {\n\t\tmutableRef.current.indexToFocus = (opt.focus && typeof opt.index === 'number') ? opt.index : null;\n\t\tmutableRef.current.nodeToFocus = (opt.focus && opt.node instanceof Object && opt.node.nodeType === 1) ? opt.node : null;\n\t}\n\n\tfunction start (animate) {\n\t\tif (scrollMode === 'native' && !animate) {\n\t\t\tfocusOnItem();\n\t\t}\n\t}\n\n\tfunction stop () {\n\t\tif (mutableRef.current.isDragging && !mutableRef.current.isFlicked) return;\n\n\t\tif (!props['data-spotlight-container-disabled'] || mutableRef.current.isFlicked || mutableRef.current.isWheeling) {\n\t\t\tthemeScrollContentHandle.current.setContainerDisabled(false);\n\t\t}\n\n\t\tif (themeScrollContentHandle.current.pauseSpotlight) {\n\t\t\tthemeScrollContentHandle.current.pauseSpotlight(false);\n\t\t}\n\n\t\tfocusOnItem();\n\t\tmutableRef.current.lastScrollPositionOnFocus = null;\n\t\tmutableRef.current.isFlicked = false;\n\t\tmutableRef.current.isWheeling = false;\n\t\tstopVoice();\n\t}\n\n\tfunction scrollStopOnScroll () {\n\t\tstop();\n\t}\n\n\tfunction focusOnItem () {\n\t\tif (mutableRef.current.indexToFocus !== null && typeof themeScrollContentHandle.current.focusByIndex === 'function') {\n\t\t\tthemeScrollContentHandle.current.focusByIndex(mutableRef.current.indexToFocus);\n\t\t\tmutableRef.current.indexToFocus = null;\n\t\t}\n\n\t\tif (mutableRef.current.nodeToFocus !== null && typeof themeScrollContentHandle.current.focusOnNode === 'function') {\n\t\t\tthemeScrollContentHandle.current.focusOnNode(mutableRef.current.nodeToFocus);\n\t\t\tmutableRef.current.nodeToFocus = null;\n\t\t}\n\n\t\tif (mutableRef.current.pointToFocus !== null) {\n\t\t\t// no need to focus on pointer mode\n\t\t\tif (!Spotlight.getPointerMode()) {\n\t\t\t\tconst\n\t\t\t\t\t{direction, x, y} = mutableRef.current.pointToFocus,\n\t\t\t\t\tposition = {x, y},\n\t\t\t\t\telemFromPoint = document.elementFromPoint(x, y),\n\t\t\t\t\ttarget =\n\t\t\t\t\t\telemFromPoint && elemFromPoint.closest && getIntersectingElement(elemFromPoint.closest(`.${spottableClass}`), scrollContainerRef.current) ||\n\t\t\t\t\t\tgetTargetInViewByDirectionFromPosition(direction, position, scrollContainerRef.current) ||\n\t\t\t\t\t\tgetTargetInViewByDirectionFromPosition(reverseDirections[direction], position, scrollContainerRef.current);\n\n\t\t\t\tif (target) {\n\t\t\t\t\tSpotlight.focus(target);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tmutableRef.current.pointToFocus = null;\n\t\t}\n\t}\n\n\tfunction handleScroll (ev) {\n\t\tconst\n\t\t\t{scrollLeft: x, scrollTop: y} = ev,\n\t\t\t{id} = props;\n\n\t\tforward('onScroll', ev, props);\n\n\t\tif (id && contextSharedState && contextSharedState.set) {\n\t\t\tcontextSharedState.set(ev, props);\n\t\t\tcontextSharedState.set(`${id}.scrollPosition`, {x, y});\n\t\t}\n\t}\n\n\t// Callback for scroller updates; calculate and, if needed, scroll to new position based on focused item.\n\tfunction handleScrollerUpdate () {\n\t\tif (scrollContainerHandle.current.scrollToInfo === null) {\n\t\t\tconst scrollHeight = scrollContainerHandle.current.getScrollBounds().scrollHeight;\n\n\t\t\tif (scrollHeight !== scrollContainerHandle.current.bounds.scrollHeight) {\n\t\t\t\tcalculateAndScrollTo();\n\t\t\t}\n\t\t}\n\n\t\t// oddly, Scroller manages scrollContainerHandle.current.bounds so if we don't update it here (it is also\n\t\t// updated in calculateAndScrollTo but we might not have made it to that point), it will be\n\t\t// out of date when we land back in this method next time.\n\t\tscrollContainerHandle.current.bounds.scrollHeight = scrollContainerHandle.current.getScrollBounds().scrollHeight;\n\t}\n\n\tfunction handleResizeWindow () {\n\t\tconst focusedItem = Spotlight.getCurrent();\n\n\t\tif (focusedItem) {\n\t\t\tfocusedItem.blur();\n\t\t}\n\t}\n\n\t// FIXME setting event handlers directly to work on the V8 snapshot.\n\tfunction addEventListeners (ref) { // `ref` is always `scrollContentRef`.\n\t\tutilEvent('focusin').addEventListener(ref, handleFocus);\n\n\t\tif (ref.current) {\n\t\t\taddVoiceEventListener(ref);\n\t\t}\n\t}\n\n\t// FIXME setting event handlers directly to work on the V8 snapshot.\n\tfunction removeEventListeners (ref) { // `ref` is always `scrollContentRef`.\n\t\tutilEvent('focusin').removeEventListener(ref, handleFocus);\n\n\t\tif (ref.current) {\n\t\t\tremoveVoiceEventListener(ref);\n\t\t}\n\t}\n\n\t// Return\n\n\treturn {\n\t\taddEventListeners,\n\t\thandleDragEnd,\n\t\thandleDragStart,\n\t\thandleFlick,\n\t\thandleKeyDown,\n\t\thandleMouseDown,\n\t\thandleResizeWindow,\n\t\thandleScroll,\n\t\thandleScrollerUpdate,\n\t\thandleTouchStart,\n\t\thandleWheel,\n\t\tremoveEventListeners,\n\t\tscrollAndFocusScrollbarButton,\n\t\tscrollbarProps,\n\t\tscrollStopOnScroll,\n\t\tscrollTo,\n\t\tstart,\n\t\tstop\n\t};\n};\n\n/**\n * A custom hook that passes Agate-themed scrollable behavior information as its render prop.\n *\n * @class\n * @memberof agate/useScroll\n * @ui\n * @private\n */\nconst useScroll = (props) => {\n\tconst\n\t\t{\n\t\t\t'data-spotlight-container': spotlightContainer,\n\t\t\t'data-spotlight-container-disabled': spotlightContainerDisabled,\n\t\t\t'data-spotlight-id': spotlightId,\n\t\t\tfocusableScrollbar,\n\t\t\tpreventBubblingOnKeyDown,\n\t\t\tscrollDownAriaLabel,\n\t\t\tscrollLeftAriaLabel,\n\t\t\tscrollMode,\n\t\t\tscrollRightAriaLabel,\n\t\t\tscrollUpAriaLabel,\n\t\t\t...rest\n\t\t} = props,\n\t\tdownButtonAriaLabel = scrollDownAriaLabel == null ? $L('scroll down') : scrollDownAriaLabel,\n\t\tupButtonAriaLabel = scrollUpAriaLabel == null ? $L('scroll up') : scrollUpAriaLabel,\n\t\trightButtonAriaLabel = scrollRightAriaLabel == null ? $L('scroll right') : scrollRightAriaLabel,\n\t\tleftButtonAriaLabel = scrollLeftAriaLabel == null ? $L('scroll left') : scrollLeftAriaLabel;\n\n\t// Mutable value\n\n\tconst scrollContainerRef = useRef();\n\tconst scrollContentHandle = useRef();\n\tconst scrollContentRef = useRef();\n\tconst itemRefs = useRef([]);\n\n\tconst horizontalScrollbarHandle = useRef();\n\tconst verticalScrollbarHandle = useRef();\n\n\t// Handles\n\n\tconst [themeScrollContentHandle, setThemeScrollContentHandle] = useThemeScrollContentHandle();\n\n\tconst scrollContainerHandle = useRef({\n\t\tanimator: null,\n\t\tbounds: null,\n\t\tcalculateDistanceByWheel: null,\n\t\tcanScrollHorizontally: null,\n\t\tcanScrollVertically: null,\n\t\tgetScrollBounds: null,\n\t\tisDragging: null,\n\t\tisFlicked: null,\n\t\tisScrollAnimationTargetAccumulated: null,\n\t\tlastInputType: null,\n\t\trtl: null,\n\t\tscrollBounds: null,\n\t\tscrollHeight: null,\n\t\tscrolling: null,\n\t\tscrollLeft: null,\n\t\tscrollPos: null,\n\t\tscrollTo: null,\n\t\tscrollToAccumulatedTarget: null,\n\t\tscrollToInfo: null,\n\t\tscrollTop: null,\n\t\tshowScrollbarTrack: null,\n\t\tstart: null,\n\t\tstartHidingScrollbarTrack: null,\n\t\tstop: null,\n\t\twheelDirection: null\n\t});\n\n\tconst setScrollContainerHandle = (handle) => {\n\t\tscrollContainerHandle.current = handle;\n\t};\n\n\t// Hooks\n\n\tconst instance = {\n\t\t// Ref\n\t\tscrollContainerRef,\n\t\tscrollContentRef,\n\n\t\t// Handle\n\t\tthemeScrollContentHandle,\n\t\tscrollContainerHandle,\n\t\tscrollContentHandle,\n\t\thorizontalScrollbarHandle,\n\t\tverticalScrollbarHandle\n\t};\n\n\tconst\n\t\tcollectionOfProperties = {},\n\t\tassignProperties = assignPropertiesOf(collectionOfProperties),\n\t\tscrollProps = {};\n\n\tconst {\n\t\taddEventListeners,\n\t\thandleDragEnd,\n\t\thandleDragStart,\n\t\thandleFlick,\n\t\thandleKeyDown,\n\t\thandleMouseDown,\n\t\thandleResizeWindow,\n\t\thandleScroll,\n\t\thandleScrollerUpdate,\n\t\thandleTouchStart,\n\t\thandleWheel,\n\t\tremoveEventListeners,\n\t\tscrollAndFocusScrollbarButton,\n\t\tscrollbarProps,\n\t\tscrollStopOnScroll, // scrollMode 'native'\n\t\tscrollTo,\n\t\tstart, // scrollMode 'native'\n\t\tstop // scrollMode 'translate'\n\t} = useThemeScroll(props, instance);\n\n\t// Render\n\n\tif (scrollMode === 'translate') {\n\t\tscrollProps.stop = stop;\n\t} else {\n\t\tscrollProps.scrollStopOnScroll = scrollStopOnScroll;\n\t\tscrollProps.start = start;\n\t}\n\n\tconst {\n\t\tscrollContentWrapper,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible\n\t} = useScrollBase({\n\t\t...rest,\n\t\t...scrollProps,\n\t\tassignProperties,\n\t\tnoScrollByDrag: !platform.touchscreen,\n\t\taddEventListeners,\n\t\thandleResizeWindow,\n\t\thorizontalScrollbarHandle,\n\t\tonDragEnd: handleDragEnd,\n\t\tonDragStart: handleDragStart,\n\t\tonFlick: handleFlick,\n\t\tonKeyDown: handleKeyDown,\n\t\tonMouseDown: handleMouseDown,\n\t\tonScroll: handleScroll,\n\t\tonWheel: handleWheel,\n\t\tremoveEventListeners,\n\t\tscrollTo,\n\t\tsetScrollContainerHandle,\n\t\tscrollMode,\n\t\tscrollContentHandle,\n\t\tscrollContentRef,\n\t\tscrollContainerRef,\n\t\tspotlightContainerDisabled,\n\t\tverticalScrollbarHandle\n\t});\n\n\tassignProperties('scrollContainerProps', {\n\t\t'data-spotlight-container': spotlightContainer,\n\t\t'data-spotlight-container-disabled': spotlightContainerDisabled,\n\t\t'data-spotlight-id': spotlightId,\n\t\tonTouchStart: handleTouchStart,\n\t\tref: scrollContainerRef\n\t});\n\n\tassignProperties('scrollContentProps', {\n\t\t...(props.itemRenderer ? {itemRefs} : {}),\n\t\tonUpdate: handleScrollerUpdate,\n\t\tscrollContainerRef,\n\t\tscrollAndFocusScrollbarButton,\n\t\tsetThemeScrollContentHandle,\n\t\tspotlightId,\n\t\tscrollContainerHandle,\n\t\tscrollContentHandle,\n\t\tscrollContentRef\n\t});\n\n\tassignProperties('verticalScrollbarProps', {\n\t\t...scrollbarProps,\n\t\tfocusableScrollButtons: focusableScrollbar,\n\t\tnextButtonAriaLabel: downButtonAriaLabel,\n\t\tonKeyDownButton: handleKeyDown,\n\t\tpreventBubblingOnKeyDown,\n\t\tpreviousButtonAriaLabel: upButtonAriaLabel,\n\t\tscrollbarHandle: verticalScrollbarHandle\n\t});\n\n\tassignProperties('horizontalScrollbarProps', {\n\t\t...scrollbarProps,\n\t\tfocusableScrollButtons: focusableScrollbar,\n\t\tnextButtonAriaLabel: rightButtonAriaLabel,\n\t\tonKeyDownButton: handleKeyDown,\n\t\tpreventBubblingOnKeyDown,\n\t\tpreviousButtonAriaLabel: leftButtonAriaLabel,\n\t\tscrollbarHandle: horizontalScrollbarHandle\n\t});\n\n\treturn {\n\t\t...collectionOfProperties,\n\t\tscrollContentWrapper,\n\t\tscrollContentHandle,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible\n\t};\n};\n\nexport default useScroll;\nexport {\n\tdataIndexAttribute,\n\tuseScroll\n};\n","import {useRef} from 'react';\n\nconst useThemeScrollContentHandle = () => {\n\t// Mutable value\n\n\tconst themeScrollContentHandle = useRef({\n\t\tcalculatePositionOnFocus: null,\n\t\tfocusByIndex: null,\n\t\tfocusOnNode: null,\n\t\tgetScrollBounds: null,\n\t\tpauseSpotlight: null,\n\t\tsetContainerDisabled: null,\n\t\tsetLastFocusedNode: null,\n\t\tshouldPreventScrollByFocus: null\n\t});\n\n\t// Functions\n\n\tconst setThemeScrollContentHandle = (handle) => {\n\t\tthemeScrollContentHandle.current = handle;\n\t};\n\n\t// Return\n\n\treturn [themeScrollContentHandle, setThemeScrollContentHandle];\n};\n\nexport {\n\tuseThemeScrollContentHandle\n};\n","/**\n * Agate styled ToggleButton components and behaviors.\n *\n * @example\n * <ToggleButton underline>Hello Enact!</ToggleButton>\n *\n * @module agate/ToggleButton\n * @exports ToggleButton\n * @exports ToggleButtonBase\n */\n\nimport kind from '@enact/core/kind';\nimport Pure from '@enact/ui/internal/Pure';\nimport Toggleable from '@enact/ui/Toggleable';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Button from '../Button';\nimport Skinnable from '../Skinnable';\n\nimport css from './ToggleButton.module.less';\n\n/**\n * A stateless [Button]{@link agate/Button.Button} that can be toggled by changing its\n * `selected` property.\n *\n * @class ToggleButtonBase\n * @memberof agate/ToggleButton\n * @extends agate/Button.Button\n * @ui\n * @public\n */\nconst ToggleButtonBase = kind({\n\tname: 'ToggleButton',\n\n\tpropTypes: /** @lends agate/ToggleButton.ToggleButtonBase.prototype */ {\n\t\t/**\n\t\t * The string to be displayed as the main content of the toggle button.\n\t\t *\n\t\t * If `toggleOffLabel` and/or `toggleOnLabel` are provided, they will be used for the\n\t\t * respective states.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Disables the button.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * The icon to display before the text.\n\t\t *\n\t\t * @type {String}\n\t\t * @see {@link agate/Icon.Icon}\n\t\t */\n\t\ticon: PropTypes.string,\n\n\t\t/**\n\t\t * Determines whether the button is currently in an \"on\" or \"off\" state.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool,\n\n\t\t/**\n\t\t * The size of the button.\n\t\t *\n\t\t * @type {('smallest'|'small'|'large'|'huge')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['smallest', 'small', 'large', 'huge']),\n\n\t\t/**\n\t\t * Button text displayed in the 'off' state.\n\t\t *\n\t\t * If not specified, `children` will be used for 'off' button text.\n\t\t *\n\t\t * @type {String}\n\t\t * @default ''\n\t\t * @public\n\t\t */\n\t\ttoggleOffLabel: PropTypes.string,\n\n\t\t/**\n\t\t * Button text displayed in the 'on' state.\n\t\t *\n\t\t * If not specified, `children` will be used for 'on' button text.\n\t\t *\n\t\t * @type {String}\n\t\t * @default ''\n\t\t * @public\n\t\t */\n\t\ttoggleOnLabel: PropTypes.string,\n\n\t\t/**\n\t\t * The button type.\n\t\t *\n\t\t * Grid buttons are intended to be grouped with other related buttons.\n\t\t *\n\t\t * @type {('grid'|'standard')}\n\t\t * @public\n\t\t */\n\t\ttype: PropTypes.oneOf(['grid', 'standard']),\n\n\t\t/**\n\t\t * Shows toggle indicator.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tunderline: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tdisabled: false,\n\t\tselected: false,\n\t\tsize: 'large',\n\t\ttoggleOffLabel: '',\n\t\ttoggleOnLabel: '',\n\t\tunderline: false\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'toggleButton',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({selected, styler, underline}) => styler.append({selected, underline}),\n\t\tchildren: ({children, selected, toggleOnLabel, toggleOffLabel}) => {\n\t\t\tlet c = children;\n\t\t\tif (selected && toggleOnLabel) {\n\t\t\t\tc = toggleOnLabel;\n\t\t\t} else if (!selected && toggleOffLabel) {\n\t\t\t\tc = toggleOffLabel;\n\t\t\t}\n\t\t\treturn c;\n\t\t}\n\t},\n\n\trender: (props) => {\n\t\tdelete props.underline;\n\t\tdelete props.toggleOffLabel;\n\t\tdelete props.toggleOnLabel;\n\n\t\treturn (\n\t\t\t<Button\n\t\t\t\t{...props}\n\t\t\t\taria-pressed={props.selected}\n\t\t\t\tcss={css}\n\t\t\t/>\n\t\t);\n\t}\n});\n\n/**\n * A toggleable button.\n *\n * By default, `ToggleButton` maintains the state of its `selected` property.\n * Supply the `defaultSelected` property to control its initial value. If you\n * wish to directly control updates to the component, supply a value to `selected` at creation time\n * and update it in response to `onToggle` events.\n *\n * @class ToggleButton\n * @memberof agate/ToggleButton\n * @extends agate/ToggleButton.ToggleButtonBase\n * @mixes ui/Toggleable.Toggleable\n * @mixes agate/Skinnable.Skinnable\n * @ui\n * @public\n */\nconst ToggleButton = Pure(\n\tToggleable(\n\t\t{prop: 'selected', toggleProp: 'onTap'},\n\t\tSkinnable(\n\t\t\tToggleButtonBase\n\t\t)\n\t)\n);\n\nexport default ToggleButton;\nexport {\n\tToggleButton,\n\tToggleButtonBase\n};\n","/* eslint-disable jsx-a11y/alt-text */\n/**\n * Provides an Agate-themed thumbnail item.\n *\n * @example\n * <ThumbnailItem src=\"https://dummyimage.com/64/e048e0/0011ff\">An image!</ThumbnailItem>\n *\n * @module agate/ThumbnailItem\n * @exports ThumbnailItem\n * @exports ThumbnailItemBase\n */\n\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Slottable from '@enact/ui/Slottable';\n\nimport Image from '../Image';\nimport Item from '../Item';\n\nimport componentCss from './ThumbnailItem.module.less';\n\n/**\n * A stateless, unfocusable item that can display a thumbnail.\n *\n * @class ThumbnailItemBase\n * @memberof agate/ThumbnailItem\n * @extends agate/Item.Item\n * @ui\n * @public\n */\nconst ThumbnailItemBase = kind({\n\tname: 'ThumbnailItem',\n\n\tpropTypes: /** @lends agate/ThumbnailItem.ThumbnailItemBase.prototype */ {\n\t\t/**\n\t\t * The main content displayed with the thumbnail.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.string,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `thumbnailItem` - The root component class\n\t\t * * `content` - The content component class\n\t\t * * `subContent` - The subContent component class\n\t\t * * `roundThumbnail` - Applied when `roundThumbnail=\"true\"`\n\t\t * * `thumbnail` - The thumbnail component class\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Applies `selected` className.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool,\n\n\t\t/**\n\t\t * Nodes to be inserted before `children`.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tslotBefore: PropTypes.node,\n\n\t\t/**\n\t\t * String value used to determine which thumbnail will appear on a specific screenSize.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tsrc: PropTypes.string,\n\n\t\t/**\n\t\t * The thumbnail type.\n\t\t *\n\t\t * @type {('normal'|'styled')}\n\t\t * @default 'normal'\n\t\t * @public\n\t\t */\n\t\ttype: PropTypes.oneOf(['normal', 'styled'])\n\t},\n\n\tdefaultProps: {\n\t\ttype: 'normal'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'thumbnailItem',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({type, selected, styler}) => styler.append(type, {selected})\n\t},\n\n\trender: ({css, children, src, slotBefore, ...rest}) => {\n\t\treturn (\n\t\t\t<Item {...rest} css={css}>\n\t\t\t\t<slotBefore>\n\t\t\t\t\t<Image\n\t\t\t\t\t\tclassName={css.thumbnail}\n\t\t\t\t\t\tsrc={src}\n\t\t\t\t\t/>\n\t\t\t\t\t{slotBefore}\n\t\t\t\t</slotBefore>\n\t\t\t\t<div className={css.content}>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t</Item>\n\t\t);\n\t}\n});\n\nconst ThumbnailItem = Slottable({slots: ['img', 'slotBefore']}, ThumbnailItemBase);\n\n/**\n * A stateless, unfocusable item that can display a thumbnail.\n *\n * @class ThumbnailItem\n * @memberof agate/ThumbnailItem\n * @extends agate/ThumbnailItem.ThumbnailItemBase\n * @ui\n * @public\n */\n\nexport default ThumbnailItem;\nexport {\n\tThumbnailItem,\n\tThumbnailItemBase\n};\n","import kind from '@enact/core/kind';\nimport ForwardRef from '@enact/ui/ForwardRef';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport Button from '../Button';\n\nimport css from './Scrollbar.module.less';\n\n/**\n * A [Button]{@link agate/Button.Button} used within\n * a [Scrollbar]{@link agate/useScroll.Scrollbar}.\n *\n * @class ScrollButton\n * @memberof agate/useScroll\n * @extends agate/Button.Button\n * @ui\n * @private\n */\nconst ScrollButtonBase = kind({\n\tname: 'ScrollButton',\n\n\tpropTypes: /** @lends agate/useScroll.ScrollButton.prototype */ {\n\t\t/**\n\t\t * Name of icon.\n\t\t *\n\t\t * @type {String}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\ticon: PropTypes.string.isRequired,\n\n\t\t/**\n\t\t * Sets the `aria-label`.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tactive: PropTypes.bool,\n\n\t\t/**\n\t\t * Sets the hint string read when focusing the scroll bar button.\n\t\t *\n\t\t * @type {String}\n\t\t * @memberof agate/useScroll.ScrollButton.prototype\n\t\t * @public\n\t\t */\n\t\t'aria-label': PropTypes.string,\n\n\t\t/**\n\t\t * Disables the button.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Returns a ref to the root node of the scroll button\n\t\t *\n\t\t * See: https://github.com/facebook/prop-types/issues/240\n\t\t *\n\t\t * @type {Function|Object}\n\t\t * @private\n\t\t */\n\t\tforwardRef: PropTypes.oneOfType([\n\t\t\tPropTypes.func,\n\t\t\tPropTypes.shape({current: PropTypes.any})\n\t\t])\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'scrollButton'\n\t},\n\n\thandlers: {\n\t\tforwardRef: (node, {forwardRef}) => {\n\t\t\t// Allowing findDOMNode in the absence of a means to retrieve a node ref through Button\n\t\t\t// eslint-disable-next-line react/no-find-dom-node\n\t\t\tconst current = ReactDOM.findDOMNode(node);\n\n\t\t\t// Safely handle old ref functions and new ref objects\n\t\t\tswitch (typeof forwardRef) {\n\t\t\t\tcase 'object':\n\t\t\t\t\tforwardRef.current = current;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'function':\n\t\t\t\t\tforwardRef(current);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t},\n\n\tcomputed: {\n\t\t'aria-label': ({active, 'aria-label': ariaLabel}) => (active ? null : ariaLabel)\n\t},\n\n\trender: ({forwardRef, ...rest}) => {\n\t\tdelete rest.active;\n\n\t\treturn (\n\t\t\t<Button\n\t\t\t\t{...rest}\n\t\t\t\tbackgroundOpacity=\"transparent\"\n\t\t\t\tref={forwardRef}\n\t\t\t\tsize=\"small\"\n\t\t\t/>\n\t\t);\n\t}\n});\n\nconst ScrollButton = ForwardRef(ScrollButtonBase);\n\nexport default ScrollButton;\nexport {\n\tScrollButton\n};\n","import {forward} from '@enact/core/handle';\nimport {getTargetByDirectionFromElement} from '@enact/spotlight/src/target';\nimport {is} from '@enact/core/keymap';\nimport Spotlight, {getDirection} from '@enact/spotlight';\nimport utilEvent from '@enact/ui/useScroll/utilEvent';\nimport React, {useState, useEffect} from 'react';\nimport ReactDOM from 'react-dom';\n\nconst\n\tnop = () => {},\n\tprepareButton = (isPrev) => (isVertical) => {\n\t\tlet direction;\n\n\t\tif (isVertical) {\n\t\t\tdirection = isPrev ? 'up' : 'down';\n\t\t} else {\n\t\t\tdirection = isPrev ? 'left' : 'right';\n\t\t}\n\n\t\treturn 'arrowlarge' + direction;\n\t},\n\tpreparePrevButton = prepareButton(true),\n\tprepareNextButton = prepareButton(false),\n\tisPageUp = is('pageUp'),\n\tisPageDown = is('pageDown'),\n\tconsumeEvent = (ev) => {\n\t\tev.preventDefault();\n\t\tev.stopPropagation();\n\t};\n\n/**\n * A custom hook that returns Agate-themed scroll buttons behavior. It is used in [Scrollbar]{@link agate/useScroll.Scrollbar}.\n *\n * @function useScrollButtons\n * @memberof agate/useScroll\n * @ui\n * @private\n */\nconst useScrollButtons = (props) => {\n\tconst [prevButtonDisabled, setPrevButtonDisabled] = useState(true);\n\tconst [nextButtonDisabled, setNextButtonDisabled] = useState(true);\n\n\tconst nextButtonRef = React.createRef();\n\tconst prevButtonRef = React.createRef();\n\n\tuseEffect(() => {\n\t\tutilEvent('keydown').addEventListener(nextButtonRef, onKeyDownNext);\n\t\tutilEvent('keydown').addEventListener(prevButtonRef, onKeyDownPrev);\n\n\t\treturn () => {\n\t\t\tutilEvent('keydown').removeEventListener(nextButtonRef, onKeyDownNext);\n\t\t\tutilEvent('keydown').removeEventListener(prevButtonRef, onKeyDownPrev);\n\t\t};\n\t}, []);\t// eslint-disable-line react-hooks/exhaustive-deps\n\n\tconst updateButtons = (bounds) => {\n\t\tconst\n\t\t\t{vertical} = props,\n\t\t\tcurrentPos = vertical ? bounds.scrollTop : bounds.scrollLeft,\n\t\t\tmaxPos = vertical ? bounds.maxTop : bounds.maxLeft,\n\t\t\tshouldDisablePrevButton = currentPos <= 0,\n\t\t\t/* If a scroll size or a client size is not integer,\n\t\t\t   browser's max scroll position could be smaller than maxPos by 1 pixel.*/\n\t\t\tshouldDisableNextButton = maxPos - currentPos <= 1,\n\t\t\tupdatePrevButton = (prevButtonDisabled !== shouldDisablePrevButton),\n\t\t\tupdateNextButton = (nextButtonDisabled !== shouldDisableNextButton);\n\n\t\tif (updatePrevButton) {\n\t\t\tsetPrevButtonDisabled(shouldDisablePrevButton);\n\t\t}\n\t\tif (updateNextButton) {\n\t\t\tsetNextButtonDisabled(shouldDisableNextButton);\n\t\t}\n\t};\n\n\tfunction isOneOfScrollButtonsFocused () {\n\t\tconst current = Spotlight.getCurrent();\n\t\treturn current === prevButtonRef.current || current === nextButtonRef.current;\n\t}\n\n\tfunction onClickPrev (ev) {\n\t\tconst {onPrevScroll = nop, vertical} = props;\n\t\tonPrevScroll({...ev, isPreviousScrollButton: true, isVerticalScrollBar: vertical});\n\t}\n\n\tfunction onClickNext (ev) {\n\t\tconst {onNextScroll = nop, vertical} = props;\n\t\tonNextScroll({...ev, isPreviousScrollButton: false, isVerticalScrollBar: vertical});\n\t}\n\n\tfunction focusOnButton (isPrev) {\n\t\tSpotlight.focus(isPrev ? prevButtonRef.current : nextButtonRef.current);\n\t}\n\n\tfunction focusOnOppositeScrollButton (ev, direction) {\n\t\tconst buttonNode = (ev.target === nextButtonRef.current) ? prevButtonRef.current : nextButtonRef.current;\n\n\t\tif (!Spotlight.focus(buttonNode)) {\n\t\t\tSpotlight.move(direction);\n\t\t}\n\t}\n\n\tfunction onKeyDownButton (ev, position) {\n\t\tconst\n\t\t\t{focusableScrollButtons, vertical, preventBubblingOnKeyDown} = props,\n\t\t\t{keyCode} = ev,\n\t\t\tdirection = getDirection(ev.keyCode),\n\t\t\tpreventBubbling = preventBubblingOnKeyDown === 'programmatic',\n\t\t\tisNextButton = position === 'next',\n\t\t\tisPrevButton = position === 'prev',\n\t\t\tnextButton = {\n\t\t\t\tdisabled: nextButtonDisabled,\n\t\t\t\tref: nextButtonRef.current,\n\t\t\t\tclick: onClickNext\n\t\t\t},\n\t\t\tprevButton = {\n\t\t\t\tdisabled: prevButtonDisabled,\n\t\t\t\tref: prevButtonRef.current,\n\t\t\t\tclick: onClickPrev\n\t\t\t},\n\t\t\tcurrentButton = isPrevButton ? prevButton : nextButton,\n\t\t\toppositeButton = isPrevButton ? nextButton : prevButton;\n\n\t\tif (isPageDown(keyCode) || isPageUp(keyCode)) {\n\t\t\tif (!vertical) {\n\t\t\t\t// should not call stopPropagation() here\n\t\t\t\tev.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (isPrevButton && isPageDown(keyCode) || isNextButton && isPageUp(keyCode)) {\n\t\t\t\tif (focusableScrollButtons && !Spotlight.getPointerMode()) {\n\t\t\t\t\tconsumeEvent(ev);\n\t\t\t\t\tSpotlight.setPointerMode(false);\n\t\t\t\t\tSpotlight.focus(ReactDOM.findDOMNode(oppositeButton.ref)); // eslint-disable-line react/no-find-dom-node\n\t\t\t\t} else if (!oppositeButton.disabled) {\n\t\t\t\t\tconsumeEvent(ev);\n\t\t\t\t\toppositeButton.click(ev);\n\t\t\t\t}\n\t\t\t} else if (!currentButton.disabled) {\n\t\t\t\tconsumeEvent(ev);\n\t\t\t\tcurrentButton.click(ev);\n\t\t\t}\n\t\t} else if (direction) {\n\t\t\tconst\n\t\t\t\t{rtl} = props,\n\t\t\t\tisDown = direction === 'down',\n\t\t\t\tisLeftMovement = direction === (rtl ? 'right' : 'left'),\n\t\t\t\tisRightMovement = direction === (rtl ? 'left' : 'right'),\n\t\t\t\tisUp = direction === 'up',\n\t\t\t\tfromNextToPrev = vertical ? isUp : isLeftMovement,\n\t\t\t\tfromPrevToNext = vertical ? isDown : isRightMovement;\n\n\t\t\tSpotlight.setPointerMode(false);\n\n\t\t\tif (isNextButton && fromNextToPrev || isPrevButton && fromPrevToNext) {\n\t\t\t\tif (focusableScrollButtons) {\n\t\t\t\t\tconsumeEvent(ev);\n\t\t\t\t\tfocusOnOppositeScrollButton(ev, direction);\n\t\t\t\t\tif (!preventBubbling) {\n\t\t\t\t\t\tforward('onKeyDownButton', ev, props);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst\n\t\t\t\t\t// If it is vertical Scroller, move focus to the left for ltr or to the right for rtl\n\t\t\t\t\t// If is is horizontal Scroller, move focus to the up\n\t\t\t\t\tdirectionToContent = !vertical && 'up' || rtl && 'right' || 'left',\n\t\t\t\t\tisLeavingDown = vertical && isNextButton && isDown,\n\t\t\t\t\tisLeavingUp = vertical && isPrevButton && isUp,\n\t\t\t\t\tisLeavingLeft = !vertical && isPrevButton && isLeftMovement,\n\t\t\t\t\tisLeavingRight = !vertical && isNextButton && isRightMovement,\n\t\t\t\t\tisDirectionToLeave =\n\t\t\t\t\t\t(vertical && isRightMovement || isLeavingUp || isLeavingDown) ||\n\t\t\t\t\t\t(!vertical && isDown || isLeavingLeft || isLeavingRight);\n\n\t\t\t\tif (isDirectionToLeave) {\n\t\t\t\t\tif (!focusableScrollButtons && !getTargetByDirectionFromElement(direction, ev.target)) {\n\t\t\t\t\t\tif (preventBubbling && isLeavingDown || isLeavingUp || isLeavingLeft || isLeavingRight) {\n\t\t\t\t\t\t\tconsumeEvent(ev);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// move focus into contents and allow bubbling\n\t\t\t\t\t\tSpotlight.move(directionToContent);\n\t\t\t\t\t}\n\t\t\t\t} else if (preventBubbling) {\n\t\t\t\t\t// move focus directly to stop bubbling\n\t\t\t\t\tconsumeEvent(ev);\n\t\t\t\t\tSpotlight.move(direction);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction onKeyDownPrev (ev) {\n\t\tonKeyDownButton(ev, 'prev');\n\t}\n\n\tfunction onKeyDownNext (ev) {\n\t\tonKeyDownButton(ev, 'next');\n\t}\n\n\treturn {\n\t\tfocusOnButton,\n\t\tisOneOfScrollButtonsFocused,\n\t\tnextButtonDisabled,\n\t\tnextButtonRef,\n\t\tnextIcon: prepareNextButton(props.vertical),\n\t\tonClickNext,\n\t\tonClickPrev,\n\t\tprevButtonDisabled,\n\t\tprevButtonRef,\n\t\tprevIcon: preparePrevButton(props.vertical),\n\t\tupdateButtons\n\t};\n};\n\nexport default useScrollButtons;\nexport {\n\tuseScrollButtons\n};\n","import {ScrollbarTrack as UiScrollbarTrack} from '@enact/ui/useScroll/Scrollbar';\nimport PropTypes from 'prop-types';\nimport React, {forwardRef, useEffect} from 'react';\n\nconst nop = () => {};\n\n/**\n * An Agate-styled scrollbar track with agate behavior\n *\n * @class ScrollbarTrack\n * @memberof agate/useScroll\n * @ui\n * @private\n */\nconst ScrollbarTrack = forwardRef(({cbAlertScrollbarTrack, ...rest}, ref) => {\n\tuseEffect (() => {\n\t\tcbAlertScrollbarTrack();\n\t}, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n\treturn <UiScrollbarTrack {...rest} ref={ref} />;\n});\n\nScrollbarTrack.displayName = 'ScrollbarTrack';\n\nScrollbarTrack.propTypes = /** @lends agate/useScroll.ScrollbarTrack.prototype */ {\n\t/**\n\t * Called when [ScrollbarTrack]{@link agate/useScroll.ScrollbarTrack} is updated.\n\t *\n\t * @type {Function}\n\t * @private\n\t */\n\tcbAlertScrollbarTrack: PropTypes.func\n};\n\nScrollbarTrack.defaultProps = {\n\tcbAlertScrollbarTrack: nop\n};\n\nexport default ScrollbarTrack;\nexport {\n\tScrollbarTrack,\n\tScrollbarTrack as ScrollbarTrackBase\n};\n","import {useScrollbar as useScrollbarBase} from '@enact/ui/useScroll/Scrollbar';\nimport PropTypes from 'prop-types';\nimport React, {memo, useEffect} from 'react';\n\nimport ScrollButton from './ScrollButton';\nimport useScrollButtons from './ScrollButtons';\nimport ScrollbarTrack from './ScrollbarTrack';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './Scrollbar.module.less';\n\nconst useThemeScrollbar = (props) => {\n\tconst {\n\t\trestProps,\n\t\tscrollbarProps,\n\t\tscrollbarTrackProps\n\t} = useScrollbarBase(props);\n\n\tconst {\n\t\tcbAlertScrollbarTrack,\n\t\tdisabled,\n\t\tfocusableScrollButtons,\n\t\tnextButtonAriaLabel,\n\t\tonKeyDownButton,\n\t\tonNextScroll,\n\t\tonPrevScroll,\n\t\tpreventBubblingOnKeyDown,\n\t\tpreviousButtonAriaLabel,\n\t\trtl,\n\t\t...rest\n\t} = restProps;\n\n\tconst {vertical} = scrollbarTrackProps;\n\n\treturn {\n\t\trestProps: rest,\n\t\tscrollbarProps,\n\t\tscrollbarButtonsProps: {\n\t\t\tdisabled,\n\t\t\tfocusableScrollButtons,\n\t\t\tnextButtonAriaLabel,\n\t\t\tonKeyDownButton,\n\t\t\tonNextScroll,\n\t\t\tonPrevScroll,\n\t\t\tpreventBubblingOnKeyDown,\n\t\t\tpreviousButtonAriaLabel,\n\t\t\trtl,\n\t\t\tvertical\n\t\t},\n\t\tscrollbarTrackProps: {\n\t\t\t...scrollbarTrackProps,\n\t\t\tcbAlertScrollbarTrack\n\t\t}\n\t};\n};\n\n/**\n * An Agate-styled scrollbar base component.\n *\n * @class ScrollbarBase\n * @memberof agate/useScroll\n * @ui\n * @private\n */\nconst ScrollbarBase = memo((props) => {\n\tconst {\n\t\trestProps,\n\t\tscrollbarProps,\n\t\tscrollbarButtonsProps,\n\t\tscrollbarTrackProps\n\t} = useThemeScrollbar(props);\n\n\tconst {\n\t\tfocusOnButton,\n\t\tisOneOfScrollButtonsFocused,\n\t\tnextButtonDisabled,\n\t\tnextButtonRef,\n\t\tnextIcon,\n\t\tonClickNext,\n\t\tonClickPrev,\n\t\tprevButtonDisabled,\n\t\tprevButtonRef,\n\t\tprevIcon,\n\t\tupdateButtons\n\t} = useScrollButtons(scrollbarButtonsProps);\n\n\tconst {disabled, nextButtonAriaLabel, previousButtonAriaLabel, rtl, vertical} = scrollbarButtonsProps;\n\n\tuseEffect(() => {\n\t\tconst {scrollbarHandle} = props;\n\t\tconst {update: uiUpdate} = scrollbarHandle.current;\n\n\t\tscrollbarHandle.current.update = (bounds) => {\n\t\t\tupdateButtons(bounds);\n\t\t\tuiUpdate(bounds);\n\t\t};\n\n\t\tscrollbarHandle.current.focusOnButton = focusOnButton;\n\t\tscrollbarHandle.current.isOneOfScrollButtonsFocused = isOneOfScrollButtonsFocused;\n\t});\n\n\treturn (\n\t\t<div {...restProps} {...scrollbarProps}>\n\t\t\t<ScrollButton\n\t\t\t\taria-label={rtl && !vertical ? nextButtonAriaLabel : previousButtonAriaLabel}\n\t\t\t\tdata-spotlight-overflow=\"ignore\"\n\t\t\t\tdisabled={disabled || prevButtonDisabled}\n\t\t\t\tonClick={onClickPrev}\n\t\t\t\tonHoldPulse={onClickPrev}\n\t\t\t\tref={prevButtonRef}\n\t\t\t\ticon={prevIcon}\n\t\t\t/>\n\t\t\t<ScrollbarTrack\n\t\t\t\t{...scrollbarTrackProps}\n\t\t\t/>\n\t\t\t<ScrollButton\n\t\t\t\taria-label={rtl && !vertical ? previousButtonAriaLabel : nextButtonAriaLabel}\n\t\t\t\tdata-spotlight-overflow=\"ignore\"\n\t\t\t\tdisabled={disabled || nextButtonDisabled}\n\t\t\t\tonClick={onClickNext}\n\t\t\t\tonHoldPulse={onClickNext}\n\t\t\t\tref={nextButtonRef}\n\t\t\t\ticon={nextIcon}\n\t\t\t/>\n\t\t</div>\n\t);\n});\n\nScrollbarBase.displayName = 'ScrollbarBase';\n\nScrollbarBase.propTypes = /** @lends agate/useScroll.Scrollbar.prototype */ {\n\t/**\n\t * If `true`, add the corner between vertical and horizontal scrollbars.\n\t *\n\t * @type {Booelan}\n\t * @default false\n\t * @public\n\t */\n\tcorner: PropTypes.bool,\n\n\t/**\n\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t * corresponding internal elements and states of this component.\n\t *\n\t * The following classes are supported:\n\t *\n\t * * `scrollbar` - The scrollbar component class\n\t *\n\t * @type {Object}\n\t * @public\n\t */\n\tcss: PropTypes.object,\n\n\t/**\n\t * Specifies to reflect scrollbar's disabled property to the paging controls.\n\t * When it is `true`, both prev/next buttons are going to be disabled.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tdisabled: PropTypes.bool,\n\n\t/**\n\t * When it is `true`, it allows 5 way navigation to the ScrollButtons.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\tfocusableScrollButtons: PropTypes.bool,\n\n\t/**\n\t * The minimum size of the thumb.\n\t * This value will be applied ri.scale.\n\t *\n\t * @type {number}\n\t * @public\n\t */\n\tminThumbSize: PropTypes.number,\n\n\t/**\n\t * Sets the hint string read when focusing the next button in the scroll bar.\n\t *\n\t * @type {String}\n\t * @public\n\t */\n\tnextButtonAriaLabel: PropTypes.string,\n\n\t/**\n\t * Called when the scrollbar's button is pressed and needs to be bubbled.\n\t *\n\t * @type {Function}\n\t * @private\n\t */\n\tonKeyDownButton: PropTypes.func,\n\n\t/**\n\t * Called when the scrollbar's down/right button is pressed.\n\t *\n\t * @type {Function}\n\t * @public\n\t */\n\tonNextScroll: PropTypes.func,\n\n\t/**\n\t * Called when the scrollbar's up/left button is pressed.\n\t *\n\t * @type {Function}\n\t * @public\n\t */\n\tonPrevScroll: PropTypes.func,\n\n\t/**\n\t * Specifies preventing keydown events from bubbling up to applications.\n\t * Valid values are `'none'`, and `'programmatic'`.\n\t *\n\t * When it is `'none'`, every keydown event is bubbled.\n\t * When it is `'programmatic'`, an event bubbling is not allowed for a keydown input\n\t * which invokes programmatic spotlight moving.\n\t *\n\t * @type {String}\n\t * @private\n\t */\n\tpreventBubblingOnKeyDown: PropTypes.oneOf(['none', 'programmatic']),\n\n\t/**\n\t * Sets the hint string read when focusing the previous button in the scroll bar.\n\t *\n\t * @type {String}\n\t * @public\n\t */\n\tpreviousButtonAriaLabel: PropTypes.string,\n\n\t/**\n\t * `true` if rtl, `false` if ltr.\n\t *\n\t * @type {Boolean}\n\t * @private\n\t */\n\trtl: PropTypes.bool,\n\n\t/**\n\t * The scrollbar will be oriented vertically.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @public\n\t */\n\tvertical: PropTypes.bool\n};\n\nScrollbarBase.defaultProps = {\n\tcss: componentCss,\n\tminThumbSize: 18,\n\tvertical: true\n};\n\n/**\n * An Agate-styled scroll bar.\n *\n * @class Scrollbar\n * @memberof agate/useScroll\n * @ui\n * @private\n */\nconst Scrollbar = Skinnable(ScrollbarBase);\n\nScrollbar.displayName = 'Scrollbar';\n\nexport default Scrollbar;\nexport {\n\tScrollbar,\n\tScrollbarBase\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contextualPopup\":\"ContextualPopup_contextualPopup__nPYMY\",\"container\":\"ContextualPopup_container__Y29Ih\",\"none\":\"ContextualPopup_none__1HCEQ\",\"fixedSize\":\"ContextualPopup_fixedSize__2CDmW\",\"closeButton\":\"ContextualPopup_closeButton__xocnQ\",\"bg\":\"ContextualPopup_bg___AwW8\",\"arrow\":\"ContextualPopup_arrow__24gRy\",\"above\":\"ContextualPopup_above__3XYBq\",\"left\":\"ContextualPopup_left__2cemN\",\"right\":\"ContextualPopup_right__EFxZ8\",\"icon\":\"ContextualPopup_icon__2DT7r\",\"reserveClose\":\"ContextualPopup_reserveClose__QEzDu\",\"arrowFill\":\"ContextualPopup_arrowFill__JCpGT\"};","import hoc from '@enact/core/hoc';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst SharedState = React.createContext(null);\n\nconst defaultConfig = {\n\tidProp: 'id',\n\tupdateOnMount: false\n};\n\n/**\n * Adds shared state to a component.\n *\n * The purpose of shared state is to store framework component state at significant container\n * boundaries in order to restore it when the \"same\" component is mounted later.\n *\n * \"Sameness\" is determined by the `idProp` config member (defaults to \"id\"). If multiple\n * descendants have the same `idProp` within the subtree, SharedStateDecorator will not distinguish\n * between them and will allow each to read from and write over each other's data.\n *\n * For example, Panels and Panel are considered \"significant container boundaries\" since they are\n * key building blocks for applications. When components are rendered within a Panel, we may want to\n * store those components state on unmount so that we can restore it when returning to the panel.\n * Panel can (and does) use SharedStateDecorator to establish a shared state which can be used by\n * contained components.\n *\n * It's important to note that SharedStateDecorator doesn't prescribe how or what is stored nor how\n * the data is managed. That is left to the consuming component to determine. Also, unlike React\n * state or third-party state management solutions like Redux, updating shared state will not\n * initiate an update cycle in React. The intent is only to restore state on mount.\n *\n * If shared state is used in the render method for a component, it may be necessary to use the\n * `updateOnMount` config member which will initiate an update cycle within React once the data is\n * available from an upstream shared state.\n *\n * @hoc\n * @memberof agate/Panels\n * @private\n */\nconst SharedStateDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {idProp, updateOnMount} = config;\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'SharedStateDecorator';\n\n\t\tstatic contextType = SharedState;\n\n\t\tstatic propTypes = /** @lends agate/Panels.SharedStateDecorator.prototype */ {\n\t\t\t/**\n\t\t\t * Prevents the component from setting or restoring any framework shared state.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tnoSharedState: PropTypes.bool\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.data = {};\n\t\t\tthis.sharedState = this.initSharedState();\n\t\t\tthis.state = {\n\t\t\t\tupdateOnMount: false\n\t\t\t};\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\tthis.loadFromContext();\n\t\t}\n\n\t\tcomponentDidUpdate (prevProps) {\n\t\t\tif (!prevProps.noSharedState && this.props.noSharedState) {\n\t\t\t\tthis.data = {};\n\t\t\t} else if (prevProps.noSharedState && !this.props.noSharedState) {\n\t\t\t\tthis.loadFromContext();\n\t\t\t}\n\t\t}\n\n\t\tisUpdateable () {\n\t\t\tconst {[idProp]: id, noSharedState} = this.props;\n\n\t\t\treturn !noSharedState && (id || id === 0);\n\t\t}\n\n\t\tinitSharedState () {\n\t\t\treturn {\n\t\t\t\tset: (key, value) => {\n\t\t\t\t\tconst {[idProp]: id} = this.props;\n\n\t\t\t\t\tif (this.isUpdateable()) {\n\t\t\t\t\t\tthis.data[id] = this.data[id] || {};\n\t\t\t\t\t\tthis.data[id][key] = value;\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tget: (key) => {\n\t\t\t\t\tconst {[idProp]: id} = this.props;\n\n\t\t\t\t\treturn (this.isUpdateable() && this.data[id]) ? this.data[id][key] : null;\n\t\t\t\t},\n\n\t\t\t\tdelete: (key) => {\n\t\t\t\t\tconst {[idProp]: id} = this.props;\n\n\t\t\t\t\tif (this.isUpdateable() && this.data[id]) {\n\t\t\t\t\t\tdelete this.data[id][key];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tloadFromContext () {\n\t\t\tconst {[idProp]: id, noSharedState} = this.props;\n\n\t\t\tif (!noSharedState && this.context && this.context.get) {\n\t\t\t\tconst data = this.context.get(id);\n\n\t\t\t\tif (data) {\n\t\t\t\t\tthis.data = data;\n\t\t\t\t} else {\n\t\t\t\t\tthis.context.set(id, this.data);\n\t\t\t\t}\n\n\t\t\t\tif (updateOnMount) {\n\t\t\t\t\tthis.setState({updateOnMount: true});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\trender () {\n\t\t\tconst {...props} = this.props;\n\n\t\t\tdelete props.noSharedState;\n\n\t\t\treturn (\n\t\t\t\t<SharedState.Provider value={this.sharedState}>\n\t\t\t\t\t<Wrapped {...props} />\n\t\t\t\t</SharedState.Provider>\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default SharedStateDecorator;\nexport {\n\tSharedState,\n\tSharedStateDecorator\n};\n","/**\n * An Agate-themed Labeled Icon component.\n *\n * @example\n * <LabeledIconButton icon=\"star\">Hello Enact!</LabeledIconButton>\n *\n * @module agate/LabeledIconButton\n * @exports LabeledIconButton\n * @exports LabeledIconButtonBase\n * @exports LabeledIconButtonDecorator\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport {LabeledIconBase as UiLabeledIconBase, LabeledIconDecorator as UiLabeledIconDecorator} from '@enact/ui/LabeledIcon';\nimport compose from 'ramda/src/compose';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {ButtonBase, ButtonDecorator} from '../Button';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './LabeledIconButton.module.less';\n\nconst Button = Skinnable(ButtonBase);\n\n/**\n * An icon button component with a label.\n *\n * @class LabeledIconButtonBase\n * @memberof agate/LabeledIconButton\n * @extends ui/LabeledIcon.LabeledIconBase\n * @ui\n * @public\n */\nconst LabeledIconButtonBase = kind({\n\tname: 'LabeledIconButton',\n\n\tpropTypes: /** @lends agate/LabeledIconButton.LabeledIconButtonBase.prototype */ {\n\t\tbackgroundOpacity: PropTypes.oneOf(['opaque', 'lightOpaque', 'transparent']),\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `labeledIconButton` - The root component class\n\t\t * * `icon` - The icon component class\n\t\t * * `label` - The label component class\n\t\t * * `selected` - Applied to a `selected` button\n\t\t * * `small` - Applied to a LabeledIconButton specifying a `size` of `'small'`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Provides a way to call special interface attention to this button. It will be \"featured\"\n\t\t * in some way by the theme's visual rules.  This property only has an effect when\n\t\t * `backgroundOpacity` is \"opaque\".\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\thighlighted: PropTypes.bool,\n\n\t\t/**\n\t\t * The icon displayed within the button.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\ticon: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n\n\t\t/**\n\t\t * The component used to render the `icon`.\n\t\t *\n\t\t * This will receive the `icon` prop as `children` and should handle it appropriately.It\n\t\t * will also receive the `flip` and `size` props as set on the component.\n\t\t *\n\t\t * @type {Component}\n\t\t */\n\t\ticonComponent: EnactPropTypes.component,\n\n\t\t// forwarded from Spottable\n\t\tpressed: PropTypes.bool,\n\n\t\t/**\n\t\t * Selects the component.\n\t\t *\n\t\t * Setting `selected` may be useful when the component represents a toggleable option. The\n\t\t * visual effect may be customized using the\n\t\t * [css]{@link agate/LabeledIconButton.LabeledIconButtonBase.css} prop.\n\t\t */\n\t\tselected: PropTypes.bool,\n\n\t\t/**\n\t\t * The amount of sprite \"cells\" in the src image.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tspriteCount: PropTypes.number\n\t\t// TODO: spriteCount prop bleeds!  Is this cruft?\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'labeledIconButton',\n\t\tpublicClassNames: true\n\t},\n\n\trender: ({\n\t\tbackgroundOpacity,\n\t\tcss,\n\t\ticon,\n\t\ticonComponent,\n\t\thighlighted,\n\t\tpressed,\n\t\tselected,\n\t\tspriteCount,\n\t\t...rest\n\t}) => {\n\t\treturn UiLabeledIconBase.inline({\n\t\t\t...rest,\n\t\t\ticon: (\n\t\t\t\t<Button\n\t\t\t\t\tbackgroundOpacity={backgroundOpacity}\n\t\t\t\t\ticon={icon}\n\t\t\t\t\ticonComponent={iconComponent}\n\t\t\t\t\thighlighted={highlighted}\n\t\t\t\t\tpressed={pressed}\n\t\t\t\t\tselected={selected}\n\t\t\t\t\tspriteCount={spriteCount}\n\t\t\t\t/>\n\t\t\t),\n\t\t\tcss\n\t\t});\n\t}\n});\n\n/**\n * Adds Agate specific behaviors to [LabeledIconButtonBase]{@link agate/LabeledIconButton.LabeledIconButtonBase}.\n *\n * @hoc\n * @memberof agate/LabeledIconButton\n * @mixes agate/Button.ButtonDecorator\n * @mixes agate/LabeledIcon.LabeledIconDecorator\n * @public\n */\nconst LabeledIconButtonDecorator = compose(\n\tUiLabeledIconDecorator,\n\tButtonDecorator\n);\n\n/**\n * An Agate-styled icon button component with a label.\n *\n * Usage:\n * ```\n * <LabeledIconButton icon=\"star\" labelPosition=\"after\">\n *   Favorite\n * </LabeledIconButton>\n * ```\n *\n * @class LabeledIconButton\n * @memberof agate/LabeledIconButton\n * @extends agate/LabeledIconButton.LabeledIconButtonBase\n * @mixes agate/LabeledIconButton.LabeledIconButtonDecorator\n * @ui\n * @public\n */\nconst LabeledIconButton = LabeledIconButtonDecorator(LabeledIconButtonBase);\n\nexport default LabeledIconButton;\nexport {\n\tLabeledIconButton,\n\tLabeledIconButtonBase,\n\tLabeledIconButtonDecorator\n};\n","\nimport kind from '@enact/core/kind';\nimport onlyUpdateForKeys from 'recompose/onlyUpdateForKeys';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../Icon';\n\nimport css from './Input.module.less';\n\n/**\n * The stateless functional base component for {@link agate/Input.InputDecoratorIcon}.\n *\n * @class InputDecoratorIconBase\n * @memberof agate/Input\n * @ui\n * @private\n */\nconst InputDecoratorIconBase = kind({\n\tname: 'InputDecoratorIcon',\n\n\tpropTypes: /** @lends agate/Input.InputDecoratorIconBase.prototype */ {\n\t\t/**\n\t\t * The position of the icon. Either `before` or `after`.\n\t\t *\n\t\t * @type {String}\n\t\t * @required\n\t\t */\n\t\tposition: PropTypes.oneOf(['before', 'after']).isRequired,\n\n\t\t/**\n\t\t * The icon to be displayed.\n\t\t *\n\t\t * @see {@link agate/Icon.Icon#children}\n\t\t * @type {String|Object}\n\t\t */\n\t\tchildren: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\n\t\t/**\n\t\t * The size of the icon.\n\t\t *\n\t\t * @type {('small'|'large')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['small', 'large'])\n\t},\n\n\tdefaultProps: {\n\t\tsize: 'large'\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'icon'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({position, styler}) => {\n\t\t\treturn styler.append('icon' + (position === 'before' ? 'Before' : 'After'));\n\t\t}\n\t},\n\n\trender: ({children, ...rest}) => {\n\t\tdelete rest.position;\n\n\t\treturn children ? (\n\t\t\t<Icon {...rest}>{children}</Icon>\n\t\t) : null;\n\t}\n});\n\n/**\n * An icon displayed either before or after the input field of an {@link agate/Input.Input}.\n *\n * @class InputDecoratorIcon\n * @memberof agate/Input\n * @ui\n * @private\n */\nconst InputDecoratorIcon = onlyUpdateForKeys(['children', 'size'])(InputDecoratorIconBase);\n\nexport default InputDecoratorIcon;\nexport {\n\tInputDecoratorIcon,\n\tInputDecoratorIconBase\n};\n","import {handle, preventDefault, returnsTrue, stop} from '@enact/core/handle';\n\nlet active;\nlet capturedDown = false;\n\n// if there is a focused input (there should be) and the target is not the input\nconst shouldCapture = ({target}) => active && target !== active;\nconst isCapturing = () => capturedDown && active;\nconst setCapturing = (capturing) => returnsTrue(() => (capturedDown = capturing));\n\nconst handlePointerDown = handle(\n\tshouldCapture,\t\t\t\t// If we should capture the click\n\tpreventDefault,\t\t\t\t// prevent the down event bubbling\n\tstop,\t\t\t\t\t\t// (and stop propagation to support touch)\n\tsetCapturing(true)\t\t\t// and flag that we've started capturing a down event\n);\n\nconst handlePointerUp = handle(\n\tisCapturing,\t\t\t\t// if a down event was captured\n\tpreventDefault,\t\t\t\t// prevent the up event bubbling\n\tstop\t\t\t\t\t\t// (and stop propagation to support touch)\n);\n\n// This is attached to both click and touchend. On some systems (e.g. Chrome), click events are\n// fired when you touch anything but other systems (e.g. iOS) will only emit click events when you\n// touch a clickable component (something with a tabindex). By attaching the same handler to both,\n// we ensure that we do not leave this module in an unstable state where it thinks capturing is\n// active but focus is not on the input.\nconst handleTap = handle(\n\tisCapturing,\t\t\t\t// if a down event was captured\n\tstop,\t\t\t\t\t\t// prevent the click event from propagating\n\tpreventDefault,\t\t\t\t// prevent touchend from triggering a click after releasing lock\n\tsetCapturing(false),\t\t// clear the capturing flag\n\t() => active.blur()\t\t\t// and blur the active node\n);\n\nconst handleTouchStart = handle(\n\tshouldCapture,                // If we should capture the click\n\tstop,                         // prevent other components from handling this event\n\tsetCapturing(true)            // and flag that we've started capturing a down event\n);\n\n// Lock the pointer from emitting click events until released\nconst lockPointer = (target) => {\n\tactive = target;\n\tdocument.addEventListener('mousedown', handlePointerDown, {capture: true});\n\tdocument.addEventListener('mouseup', handlePointerUp, {capture: true});\n\tdocument.addEventListener('touchstart', handleTouchStart, {capture: true});\n\tdocument.addEventListener('touchend', handleTap, {capture: true});\n\tdocument.addEventListener('click', handleTap, {capture: true});\n};\n\n// Release the pointer and allow subsequent click events\nconst releasePointer = (target) => {\n\tif (target === active) {\n\t\tactive = null;\n\t\tdocument.removeEventListener('mousedown', handlePointerDown, {capture: true});\n\t\tdocument.removeEventListener('mouseup', handlePointerUp, {capture: true});\n\t\tdocument.removeEventListener('touchstart', handleTouchStart, {capture: true});\n\t\tdocument.removeEventListener('touchend', handleTap, {capture: true});\n\t\tdocument.removeEventListener('click', handleTap, {capture: true});\n\t}\n};\n\nexport {\n\tlockPointer,\n\treleasePointer\n};\n","import {call, forward, forwardWithPrevent, handle, stopImmediate} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport {is} from '@enact/core/keymap';\nimport {getDirection, Spotlight} from '@enact/spotlight';\nimport Pause from '@enact/spotlight/Pause';\nimport Spottable from '@enact/spotlight/Spottable';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {lockPointer, releasePointer} from './pointer';\n\nconst isBubbling = (ev) => ev.currentTarget !== ev.target;\n\n// A regex to check for input types that allow selectionStart\nconst SELECTABLE_TYPES = /text|password|search|tel|url/;\n\nconst isSelectionAtLocation = (target, location) => {\n\tif (SELECTABLE_TYPES.test(target.type)) {\n\t\treturn target.selectionStart === location;\n\t} else {\n\t\treturn true;\n\t}\n};\n\nconst handleKeyDown = handle(\n\tforwardWithPrevent('onKeyDown'),\n\tcall('onKeyDown')\n);\n\n/**\n * Default config for [InputSpotlightDecorator]{@link agate/Input.InputSpotlightDecorator}.\n *\n * @memberof agate/Input/InputSpotlightDecorator.InputSpotlightDecorator\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Suppress the pointer lock behavior of agate input\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @memberof agate/Input/InputSpotlightDecorator.InputSpotlightDecorator.defaultConfig\n\t*/\n\tnoLockPointer: false\n};\n\n/**\n * A higher-order component that manages the\n * spotlight behavior for an {@link agate/Input.Input}\n *\n * @class InputSpotlightDecorator\n * @memberof agate/Input/InputSpotlightDecorator\n * @hoc\n * @private\n */\nconst InputSpotlightDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {noLockPointer} = config;\n\tconst Component = Spottable({emulateMouse: false}, Wrapped);\n\tconst forwardBlur = forward('onBlur');\n\tconst forwardMouseDown = forward('onMouseDown');\n\tconst forwardFocus = forward('onFocus');\n\tconst forwardKeyUp = forward('onKeyUp');\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'InputSpotlightDecorator';\n\n\t\tstatic propTypes = /** @lends agate/Input/InputSpotlightDecorator.InputSpotlightDecorator.prototype */ {\n\t\t\t/**\n\t\t\t * Focuses the <input> when the decorator is focused via 5-way.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tautoFocus: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Applies a disabled style and the control becomes non-interactive.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tdisabled: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Blurs the input when the \"enter\" key is pressed.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tdismissOnEnter: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Called when the internal <input> is focused.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @param {Object} event\n\t\t\t * @public\n\t\t\t */\n\t\t\tonActivate: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Called when the internal <input> loses focus.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @param {Object} event\n\t\t\t * @public\n\t\t\t */\n\t\t\tonDeactivate: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Called when the component is removed while retaining focus.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @param {Object} event\n\t\t\t * @public\n\t\t\t */\n\t\t\tonSpotlightDisappear: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Disables spotlight navigation into the component.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tspotlightDisabled: PropTypes.bool\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.state = {\n\t\t\t\tfocused: null,\n\t\t\t\tnode: null\n\t\t\t};\n\n\t\t\tthis.paused = new Pause('InputSpotlightDecorator');\n\t\t\tthis.handleKeyDown = handleKeyDown.bind(this);\n\t\t}\n\n\t\tcomponentDidUpdate (_, prevState) {\n\t\t\tthis.updateFocus(prevState);\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tthis.paused.resume();\n\n\t\t\tif (this.state.focused === 'input') {\n\t\t\t\tconst {onSpotlightDisappear} = this.props;\n\n\t\t\t\tif (onSpotlightDisappear) {\n\t\t\t\t\tonSpotlightDisappear();\n\t\t\t\t}\n\n\t\t\t\tif (!noLockPointer) {\n\t\t\t\t\treleasePointer(this.state.node);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tupdateFocus = (prevState) => {\n\t\t\tif (this.state.node) {\n\t\t\t\tif (Spotlight.getCurrent() !== this.state.node) {\n\t\t\t\t\tthis.state.node.focus();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst focusChanged = this.state.focused !== prevState.focused;\n\t\t\tif (focusChanged) {\n\t\t\t\tif (this.state.focused === 'input') {\n\t\t\t\t\tforward('onActivate', {type: 'onActivate'}, this.props);\n\t\t\t\t\tif (!noLockPointer) {\n\t\t\t\t\t\tlockPointer(this.state.node);\n\t\t\t\t\t}\n\t\t\t\t\tthis.paused.pause();\n\t\t\t\t} else if (prevState.focused === 'input') {\n\t\t\t\t\tforward('onDeactivate', {type: 'onDeactivate'}, this.props);\n\t\t\t\t\tif (!noLockPointer) {\n\t\t\t\t\t\treleasePointer(prevState.node);\n\t\t\t\t\t}\n\t\t\t\t\tthis.paused.resume();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tfocus = (focused, node) => {\n\t\t\tthis.setState({focused, node});\n\t\t};\n\n\t\tblur = () => {\n\t\t\tthis.setState((state) => (\n\t\t\t\tstate.focused || state.node ? {focused: null, node: null} : null\n\t\t\t));\n\t\t};\n\n\t\tfocusDecorator = (decorator) => {\n\t\t\tthis.focus('decorator', decorator);\n\t\t};\n\n\t\tfocusInput = (decorator) => {\n\t\t\tthis.focus('input', decorator.querySelector('input'));\n\t\t};\n\n\t\tonBlur = (ev) => {\n\t\t\tif (!this.props.autoFocus) {\n\t\t\t\tif (isBubbling(ev)) {\n\t\t\t\t\tif (Spotlight.getPointerMode()) {\n\t\t\t\t\t\tthis.blur();\n\t\t\t\t\t\tforwardBlur(ev, this.props);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.focusDecorator(ev.currentTarget);\n\t\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t} else if (!ev.currentTarget.contains(ev.relatedTarget)) {\n\t\t\t\t\t// Blurring decorator but not focusing input\n\t\t\t\t\tforwardBlur(ev, this.props);\n\t\t\t\t\tthis.blur();\n\t\t\t\t}\n\t\t\t} else if (isBubbling(ev)) {\n\t\t\t\tif (this.state.focused === 'input' && this.state.node === ev.target && ev.currentTarget !== ev.relatedTarget) {\n\t\t\t\t\tthis.blur();\n\t\t\t\t\tforwardBlur(ev, this.props);\n\t\t\t\t} else {\n\t\t\t\t\tthis.focusDecorator(ev.currentTarget);\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\tthis.blur();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tonMouseDown = (ev) => {\n\t\t\tconst {disabled, spotlightDisabled} = this.props;\n\n\t\t\tthis.setDownTarget(ev);\n\t\t\t// focus the <input> whenever clicking on any part of the component to ensure both that\n\t\t\t// the <input> has focus and Spotlight is paused.\n\t\t\tif (!disabled && !spotlightDisabled) {\n\t\t\t\tthis.focusInput(ev.currentTarget);\n\t\t\t}\n\n\t\t\tforwardMouseDown(ev, this.props);\n\t\t};\n\n\t\tonFocus = (ev) => {\n\t\t\tforwardFocus(ev, this.props);\n\n\t\t\t// when in autoFocus mode, focusing the decorator directly will cause it to\n\t\t\t// forward the focus onto the <input>\n\t\t\tif (!isBubbling(ev) && (this.props.autoFocus && this.state.focused === null && !Spotlight.getPointerMode())) {\n\t\t\t\tthis.focusInput(ev.currentTarget);\n\t\t\t\tev.stopPropagation();\n\t\t\t}\n\t\t};\n\n\t\tonKeyDown (ev) {\n\t\t\tconst {currentTarget, keyCode, preventDefault, target} = ev;\n\n\t\t\t// cache the target if this is the first keyDown event to ensure the component had focus\n\t\t\t// when the key interaction started\n\t\t\tthis.setDownTarget(ev);\n\n\t\t\tif (this.state.focused === 'input') {\n\t\t\t\tconst isDown = is('down', keyCode);\n\t\t\t\tconst isLeft = is('left', keyCode);\n\t\t\t\tconst isRight = is('right', keyCode);\n\t\t\t\tconst isUp = is('up', keyCode);\n\n\t\t\t\t// move spotlight\n\t\t\t\tconst shouldSpotlightMove = (\n\t\t\t\t\t// on left + at beginning of selection\n\t\t\t\t\t(isLeft && isSelectionAtLocation(target, 0)) ||\n\t\t\t\t\t// on right + at end of selection (note: fails on non-selectable types usually)\n\t\t\t\t\t(isRight && isSelectionAtLocation(target, target.value.length)) ||\n\t\t\t\t\t// on up\n\t\t\t\t\tisUp ||\n\t\t\t\t\t// on down\n\t\t\t\t\tisDown\n\t\t\t\t);\n\n\t\t\t\t// prevent modifying the value via 5-way for numeric fields\n\t\t\t\tif ((isUp || isDown) && target.type === 'number') {\n\t\t\t\t\tpreventDefault();\n\t\t\t\t}\n\n\t\t\t\tif (shouldSpotlightMove) {\n\t\t\t\t\tconst direction = getDirection(keyCode);\n\t\t\t\t\tconst {getPointerMode, move, setPointerMode} = Spotlight;\n\n\t\t\t\t\tif (getPointerMode()) {\n\t\t\t\t\t\tsetPointerMode(false);\n\t\t\t\t\t}\n\n\t\t\t\t\tstopImmediate(ev);\n\t\t\t\t\tthis.paused.resume();\n\n\t\t\t\t\t// Move spotlight in the keypress direction\n\t\t\t\t\tif (move(direction)) {\n\t\t\t\t\t\t// if successful, reset the internal state\n\t\t\t\t\t\tthis.blur();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// if there is no other spottable elements, focus `InputDecorator` instead\n\t\t\t\t\t\tthis.focusDecorator(currentTarget);\n\t\t\t\t\t}\n\t\t\t\t} else if (isLeft || isRight) {\n\t\t\t\t\t// prevent 5-way nav for left/right keys within the <input>\n\t\t\t\t\tstopImmediate(ev);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tonKeyUp = (ev) => {\n\t\t\tconst {dismissOnEnter} = this.props;\n\t\t\tconst {currentTarget, keyCode, preventDefault, target} = ev;\n\n\t\t\t// verify that we have a matching pair of key down/up events to avoid adjusting focus\n\t\t\t// when the component received focus mid-press\n\t\t\tif (target === this.downTarget) {\n\t\t\t\tthis.downTarget = null;\n\n\t\t\t\tif (this.state.focused === 'input' && dismissOnEnter && is('enter', keyCode)) {\n\t\t\t\t\tthis.focusDecorator(currentTarget);\n\t\t\t\t\t// prevent Enter onKeyPress which triggers an onMouseDown via Spotlight\n\t\t\t\t\tpreventDefault();\n\t\t\t\t} else if (this.state.focused !== 'input' && is('enter', keyCode)) {\n\t\t\t\t\tthis.focusInput(currentTarget);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tforwardKeyUp(ev, this.props);\n\t\t};\n\n\t\tsetDownTarget (ev) {\n\t\t\tconst {repeat, target} = ev;\n\n\t\t\tif (!repeat) {\n\t\t\t\tthis.downTarget = target;\n\t\t\t}\n\t\t}\n\n\t\trender () {\n\t\t\tconst props = Object.assign({}, this.props);\n\t\t\tdelete props.autoFocus;\n\t\t\tdelete props.onActivate;\n\t\t\tdelete props.onDeactivate;\n\n\t\t\treturn (\n\t\t\t\t<Component\n\t\t\t\t\t{...props}\n\t\t\t\t\tfocused={this.state.focused === 'input'}\n\t\t\t\t\tonBlur={this.onBlur}\n\t\t\t\t\tonMouseDown={this.onMouseDown}\n\t\t\t\t\tonFocus={this.onFocus}\n\t\t\t\t\tonKeyDown={this.handleKeyDown}\n\t\t\t\t\tonKeyUp={this.onKeyUp}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default InputSpotlightDecorator;\nexport {InputSpotlightDecorator};\n","/**\n * Agate styled input components.\n *\n * @example\n * <Input placeholder=\"Enter text here\" />\n *\n * @module agate/Input\n * @exports Input\n * @exports InputBase\n */\n\nimport kind from '@enact/core/kind';\nimport Changeable from '@enact/ui/Changeable';\nimport Pure from '@enact/ui/internal/Pure';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Skinnable from '../Skinnable';\n\nimport InputDecoratorIcon from './InputDecoratorIcon';\nimport InputSpotlightDecorator from './InputSpotlightDecorator';\nimport {extractInputProps} from './util';\n\nimport componentCss from './Input.module.less';\n\n/**\n * An input component\n *\n * @class InputBase\n * @memberof agate/Input\n * @ui\n * @public\n */\nconst InputBase = kind({\n\tname: 'Input',\n\n\tpropTypes: /** @lends agate/Input.InputBase.prototype */ {\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `decorator` - The root class name\n\t\t * * `input` - The <input> class name\n\t\t *\n\t\t * @type {Object}\n\t\t * @private\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Disables Input and makes it non-interactive.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Blurs the input when the \"enter\" key is pressed.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdismissOnEnter: PropTypes.bool,\n\n\t\t/**\n\t\t * Adds a `focused` class to the input decorator.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tfocused: PropTypes.bool,\n\n\t\t/**\n\t\t * The icon to be placed at the end of the input.\n\t\t *\n\t\t * @see {@link agate/Icon.Icon}\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\ticonAfter: PropTypes.string,\n\n\t\t/**\n\t\t * The icon to be placed at the beginning of the input.\n\t\t *\n\t\t * @see {@link agate/Icon.Icon}\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\ticonBefore: PropTypes.string,\n\n\t\t/**\n\t\t * Indicates [value]{@link agate/Input.InputBase.value} is invalid and shows\n\t\t * [invalidMessage]{@link agate/Input.InputBase.invalidMessage}, if set.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tinvalid: PropTypes.bool,\n\n\t\t/**\n\t\t * The tooltip text to be displayed when the input is\n\t\t * [invalid]{@link agate/Input.InputBase.invalid}.\n\t\t *\n\t\t * If this value is *falsy*, the tooltip will not be shown.\n\t\t *\n\t\t * @type {String}\n\t\t * @default ''\n\t\t * @public\n\t\t */\n\t\tinvalidMessage: PropTypes.string,\n\n\t\t/**\n\t\t * Called when blurred.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonBlur: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the input value is changed.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonChange: PropTypes.func,\n\n\t\t/**\n\t\t * Called when clicked.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonClick: PropTypes.func,\n\n\t\t/**\n\t\t * Called when focused.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonFocus: PropTypes.func,\n\n\t\t/**\n\t\t * Called when a key is pressed down.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonKeyDown: PropTypes.func,\n\n\t\t/**\n\t\t * Text to display when [value]{@link agate/Input.InputBase.value} is not set.\n\t\t *\n\t\t * @type {String}\n\t\t * @default ''\n\t\t * @public\n\t\t */\n\t\tplaceholder: PropTypes.string,\n\n\t\t/**\n\t\t * Indicates the content's text direction is right-to-left.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @private\n\t\t */\n\t\trtl: PropTypes.bool,\n\n\t\t/**\n\t\t * The size of the input field icon.\n\t\t *\n\t\t * @type {('small'|'large')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['small', 'large']),\n\n\t\t/**\n\t\t * The type of input.\n\t\t *\n\t\t * Accepted values correspond to the standard HTML5 input types.\n\t\t *\n\t\t * @type {String}\n\t\t * @see [MDN input types doc]{@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Form_%3Cinput%3E_types}\n\t\t * @default 'text'\n\t\t * @public\n\t\t */\n\t\ttype: PropTypes.string,\n\n\t\t/**\n\t\t * The value of the input.\n\t\t *\n\t\t * @type {String|Number}\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t},\n\n\tdefaultProps: {\n\t\tdisabled: false,\n\t\tdismissOnEnter: false,\n\t\tinvalid: false,\n\t\tplaceholder: '',\n\t\ttype: 'text'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'decorator',\n\t\tpublicClassNames: ['decorator', 'input']\n\t},\n\n\thandlers: {\n\t\tonChange: (ev, {onChange}) => {\n\t\t\tif (onChange) {\n\t\t\t\tonChange({value: ev.target.value});\n\t\t\t}\n\t\t}\n\t},\n\n\tcomputed: {\n\t\t// 'aria-label': ({placeholder, type, value}) => {\n\t\t// \tconst title = (value == null || value === '') ? placeholder : '';\n\t\t// \treturn calcAriaLabel(title, type, value);\n\t\t// },\n\t\tclassName: ({focused, invalid, styler}) => styler.append({focused, invalid}),\n\t\t// ensure we have a value so the internal <input> is always controlled\n\t\tvalue: ({value}) => typeof value === 'number' ? value : (value || '')\n\t},\n\n\trender: ({css, disabled, iconAfter, iconBefore, onChange, placeholder, size, type, value, ...rest}) => {\n\t\tconst inputProps = extractInputProps(rest);\n\t\tdelete rest.dismissOnEnter;\n\t\tdelete rest.focused;\n\t\tdelete rest.invalid;\n\t\tdelete rest.invalidMessage;\n\t\tdelete rest.rtl;\n\n\t\treturn (\n\t\t\t<div {...rest} disabled={disabled}>\n\t\t\t\t<InputDecoratorIcon position=\"before\" size={size}>\n\t\t\t\t\t{iconBefore}\n\t\t\t\t</InputDecoratorIcon>\n\t\t\t\t<input\n\t\t\t\t\t{...inputProps}\n\t\t\t\t\taria-disabled={disabled}\n\t\t\t\t\tclassName={css.input}\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\tonChange={onChange}\n\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\ttype={type}\n\t\t\t\t\tvalue={value}\n\t\t\t\t/>\n\t\t\t\t<InputDecoratorIcon position=\"after\" size={size}>\n\t\t\t\t\t{iconAfter}\n\t\t\t\t</InputDecoratorIcon>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n/**\n * A Spottable, Agate styled input component with embedded icon support.\n *\n * By default, `Input` maintains the state of its `value` property. Supply the `defaultValue`\n * property to control its initial value. If you wish to directly control updates to the component,\n * supply a value to `value` at creation time and update it in response to `onChange` events.\n *\n * @class Input\n * @memberof agate/Input\n * @extends agate/Input.InputBase\n * @mixes ui/Changeable.Changeable\n * @mixes spotlight/Spottable.Spottable\n * @mixes agate/Skinnable.Skinnable\n * @ui\n * @public\n */\nconst Input = Pure(\n\tChangeable(\n\t\tInputSpotlightDecorator(\n\t\t\tSkinnable(\n\t\t\t\tInputBase\n\t\t\t)\n\t\t)\n\t)\n);\n\nexport default Input;\nexport {\n\textractInputProps,\n\tInput,\n\tInputBase\n};\n","// import $L from '../internal/$L';\n\n/**\n * Determines the `aria-label` for an Input\n *\n * @method\n * @memberof agate/Input\n * @param   {String}  prefix   Text to precede the value in the aria-label\n * @param   {String}  type     `type` of the Input\n * @param   {String}  [value]  Current value of the input\n * @returns {String}           `aria-label` value\n * @private\n */\n// const calcAriaLabel = function (prefix, type, value = '') {\n// \tconst hint = $L('Input field');\n//\n// \tif (type === 'password' && value) {\n// \t\tconst character = value.length > 1 ? $L('characters') : $L('character');\n// \t\tvalue = `${value.length} ${character}`;\n// \t}\n//\n// \treturn `${prefix} ${value} ${hint}`;\n// };\n\n/**\n * Removes `<input>` related props from `props` and returns them in a new object.\n *\n * Useful when redirecting `<input>` related props from a non-input root element to the `<input>`\n * element.\n *\n * @method\n * @memberof agate/Input\n * @param   {Object} props  Props object\n * @returns {Object}        input related props\n * @private\n */\nconst extractInputProps = function (props) {\n\tconst inputProps = {};\n\tObject.keys(props).forEach(key => {\n\t\tswitch (key) {\n\t\t\tcase 'autoComplete':\n\t\t\tcase 'list':\n\t\t\tcase 'maxLength':\n\t\t\tcase 'minLength':\n\t\t\tcase 'pattern':\n\t\t\tcase 'required':\n\t\t\tcase 'size':\n\t\t\t\tinputProps[key] = props[key];\n\t\t\t\tdelete props[key];\n\t\t}\n\t});\n\n\treturn inputProps;\n};\n\nexport {\n\t// calcAriaLabel,\n\textractInputProps\n};\n","import classNames from 'classnames';\nimport {forward} from '@enact/core/handle';\nimport {platform} from '@enact/core/platform';\nimport PropTypes from 'prop-types';\nimport equals from 'ramda/src/equals';\nimport React, {Component} from 'react';\n\nimport css from './UiVirtualList.module.less';\n\nconst\n\tnop = () => {},\n\tJS = 'JS',\n\tNative = 'Native';\n\nconst gridListItemSizeShape = PropTypes.shape({\n\tminHeight: PropTypes.number.isRequired,\n\tminWidth: PropTypes.number.isRequired\n});\n\n/**\n * The base version of the virtual list component.\n *\n * @class VirtualListCore\n * @memberof ui/VirtualList\n * @ui\n * @private\n */\nconst VirtualListBaseFactory = (type) => {\n\treturn class VirtualListCore extends Component {\n\t\t/* No displayName here. We set displayName to returned components of this factory function. */\n\n\t\tstatic propTypes = /** @lends ui/VirtualList.VirtualListBase.prototype */ {\n\t\t\t/**\n\t\t\t * The rendering function called for each item in the list.\n\t\t\t *\n\t\t\t * > **Note**: The list does **not** always render a component whenever its render function is called\n\t\t\t * due to performance optimization.\n\t\t\t *\n\t\t\t * Example:\n\t\t\t * ```\n\t\t\t * renderItem = ({index, ...rest}) => {\n\t\t\t * \tdelete rest.data;\n\t\t\t *\n\t\t\t * \treturn (\n\t\t\t * \t\t<MyComponent index={index} {...rest} />\n\t\t\t * \t);\n\t\t\t * }\n\t\t\t * ```\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @param {Object}     event\n\t\t\t * @param {Number}     event.data-index    It is required for `Spotlight` 5-way navigation. Pass to the root element in the component.\n\t\t\t * @param {Number}     event.index    The index number of the component to render\n\t\t\t * @param {Number}     event.key    It MUST be passed as a prop to the root element in the component for DOM recycling.\n\t\t\t *\n\t\t\t * @required\n\t\t\t * @public\n\t\t\t */\n\t\t\titemRenderer: PropTypes.func.isRequired,\n\n\t\t\t/**\n\t\t\t * The size of an item for the list; valid values are either a number for `VirtualList`\n\t\t\t * or an object that has `minWidth` and `minHeight` for `VirtualGridList`.\n\t\t\t *\n\t\t\t * @type {Number|ui/VirtualList.gridListItemSizeShape}\n\t\t\t * @required\n\t\t\t * @private\n\t\t\t */\n\t\t\titemSize: PropTypes.oneOfType([\n\t\t\t\tPropTypes.number,\n\t\t\t\tgridListItemSizeShape\n\t\t\t]).isRequired,\n\n\t\t\t/**\n\t\t\t * The render function for the items.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @required\n\t\t\t * @private\n\t\t\t */\n\t\t\titemsRenderer: PropTypes.func.isRequired,\n\n\t\t\t/**\n\t\t\t * Callback method of scrollTo.\n\t\t\t * Normally, [Scrollable]{@link ui/Scrollable.Scrollable} should set this value.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @private\n\t\t\t */\n\t\t\tcbScrollTo: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Additional props included in the object passed to the `itemsRenderer` callback.\n\t\t\t *\n\t\t\t * @type {Object}\n\t\t\t * @public\n\t\t\t */\n\t\t\tchildProps: PropTypes.object,\n\n\t\t\t/**\n\t\t\t * Client size of the list; valid values are an object that has `clientWidth` and `clientHeight`.\n\t\t\t *\n\t\t\t * @type {Object}\n\t\t\t * @property {Number}    clientHeight    The client height of the list.\n\t\t\t * @property {Number}    clientWidth    The client width of the list.\n\t\t\t * @public\n\t\t\t */\n\t\t\tclientSize: PropTypes.shape({\n\t\t\t\tclientHeight: PropTypes.number.isRequired,\n\t\t\t\tclientWidth: PropTypes.number.isRequired\n\t\t\t}),\n\n\t\t\t/**\n\t\t\t * Activates the component for voice control.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @public\n\t\t\t */\n\t\t\t'data-webos-voice-focused': PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * The voice control group label.\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\t'data-webos-voice-group-label': PropTypes.string,\n\n\t\t\t/**\n\t\t\t * The number of items of data the list contains.\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 0\n\t\t\t * @public\n\t\t\t */\n\t\t\tdataSize: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * The layout direction of the list.\n\t\t\t *\n\t\t\t * Valid values are:\n\t\t\t * * `'horizontal'`, and\n\t\t\t * * `'vertical'`.\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @default 'vertical'\n\t\t\t * @public\n\t\t\t */\n\t\t\tdirection: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t\t/**\n\t\t\t * Called to get the props for list items.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @private\n\t\t\t */\n\t\t\tgetComponentProps: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * The array for individually sized items.\n\t\t\t *\n\t\t\t * @type {Number[]}\n\t\t\t * @private\n\t\t\t */\n\t\t\titemSizes: PropTypes.arrayOf(PropTypes.number),\n\n\t\t\t/**\n\t\t\t * Called when the range of items has updated.\n\t\t\t *\n\t\t\t * Event payload includes the `firstIndex` and `lastIndex` of the list.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @private\n\t\t\t */\n\t\t\tonUpdateItems: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Number of spare DOM node.\n\t\t\t * `3` is good for the default value experimentally and\n\t\t\t * this value is highly recommended not to be changed by developers.\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 3\n\t\t\t * @private\n\t\t\t */\n\t\t\toverhang: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * When `true`, the list will scroll by page.  Otherwise the list will scroll by item.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @private\n\t\t\t */\n\t\t\tpageScroll: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * `true` if RTL, `false` if LTR.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @private\n\t\t\t */\n\t\t\trtl: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * The spacing between items.\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 0\n\t\t\t * @public\n\t\t\t */\n\t\t\tspacing: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * Called to execute additional logic in a themed component when updating states and bounds.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @private\n\t\t\t */\n\t\t\tupdateStatesAndBounds: PropTypes.func\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\tcbScrollTo: nop,\n\t\t\tdataSize: 0,\n\t\t\tdirection: 'vertical',\n\t\t\toverhang: 3,\n\t\t\tpageScroll: false,\n\t\t\tspacing: 0\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tlet nextState = null;\n\n\t\t\tsuper(props);\n\n\t\t\tthis.containerRef = React.createRef();\n\t\t\tthis.contentRef = React.createRef();\n\t\t\tthis.itemContainerRef = React.createRef();\n\n\t\t\tif (props.clientSize) {\n\t\t\t\tthis.calculateMetrics(props);\n\t\t\t\tnextState = this.getStatesAndUpdateBounds(props);\n\t\t\t}\n\n\t\t\tthis.state = {\n\t\t\t\tfirstIndex: 0,\n\t\t\t\tnumOfItems: 0,\n\t\t\t\tprevChildProps: null,\n\t\t\t\tprevFirstIndex: 0,\n\t\t\t\tupdateFrom: 0,\n\t\t\t\tupdateTo: 0,\n\t\t\t\t...nextState\n\t\t\t};\n\t\t}\n\n\t\tstatic getDerivedStateFromProps (props, state) {\n\t\t\tconst\n\t\t\t\tshouldInvalidate = (\n\t\t\t\t\tstate.prevFirstIndex === state.firstIndex ||\n\t\t\t\t\tstate.prevChildProps !== props.childProps\n\t\t\t\t),\n\t\t\t\tdiff = state.firstIndex - state.prevFirstIndex,\n\t\t\t\tupdateTo = (-state.numOfItems >= diff || diff > 0 || shouldInvalidate) ? state.firstIndex + state.numOfItems : state.prevFirstIndex,\n\t\t\t\tupdateFrom = (0 >= diff || diff >= state.numOfItems || shouldInvalidate) ? state.firstIndex : state.prevFirstIndex + state.numOfItems,\n\t\t\t\tnextUpdateFromAndTo = (state.updateFrom !== updateFrom || state.updateTo !== updateTo) ? {updateFrom, updateTo} : null;\n\n\t\t\treturn {\n\t\t\t\t...nextUpdateFromAndTo,\n\t\t\t\tprevChildProps: props.childProps,\n\t\t\t\tprevFirstIndex: state.firstIndex\n\t\t\t};\n\t\t}\n\n\t\t// Calculate metrics for VirtualList after the 1st render to know client W/H.\n\t\tcomponentDidMount () {\n\t\t\tif (!this.props.clientSize) {\n\t\t\t\tthis.calculateMetrics(this.props);\n\t\t\t\t// eslint-disable-next-line react/no-did-mount-set-state\n\t\t\t\tthis.setState(this.getStatesAndUpdateBounds(this.props));\n\t\t\t} else {\n\t\t\t\tthis.emitUpdateItems();\n\t\t\t}\n\n\t\t\tif (this.props.itemSizes) {\n\t\t\t\tthis.adjustItemPositionWithItemSize();\n\t\t\t} else {\n\t\t\t\tthis.setContainerSize();\n\t\t\t}\n\t\t}\n\n\t\tcomponentDidUpdate (prevProps, prevState) {\n\t\t\tlet deferScrollTo = false;\n\t\t\tconst {firstIndex, numOfItems} = this.state;\n\n\t\t\tthis.shouldUpdateBounds = false;\n\n\t\t\t// TODO: remove `this.hasDataSizeChanged` and fix ui/Scrollable*\n\t\t\tthis.hasDataSizeChanged = (prevProps.dataSize !== this.props.dataSize);\n\n\t\t\tif (prevState.firstIndex !== firstIndex || prevState.numOfItems !== numOfItems) {\n\t\t\t\tthis.emitUpdateItems();\n\t\t\t}\n\n\t\t\t// When an item expands or shrinks,\n\t\t\t// we need to calculate the item position again and\n\t\t\t// the item needs to scroll into view if the item does not show fully.\n\t\t\tif (this.props.itemSizes) {\n\t\t\t\tif (this.itemPositions.length > this.props.itemSizes.length) {\n\t\t\t\t\t// The item with `this.props.itemSizes.length` index is not rendered yet.\n\t\t\t\t\t// So the item could scroll into view after it rendered.\n\t\t\t\t\t// To do it, `this.props.itemSizes.length` value is cached in `this.indexToScrollIntoView`.\n\t\t\t\t\tthis.indexToScrollIntoView = this.props.itemSizes.length;\n\n\t\t\t\t\tthis.itemPositions = [...this.itemPositions.slice(0, this.props.itemSizes.length)];\n\t\t\t\t\tthis.adjustItemPositionWithItemSize();\n\t\t\t\t} else {\n\t\t\t\t\tconst {indexToScrollIntoView} = this;\n\n\t\t\t\t\tthis.adjustItemPositionWithItemSize();\n\n\t\t\t\t\tif (indexToScrollIntoView !== -1) {\n\t\t\t\t\t\t// Currently we support expandable items in only vertical VirtualList.\n\t\t\t\t\t\t// So the top and bottom of the boundaries are checked.\n\t\t\t\t\t\tconst\n\t\t\t\t\t\t\tscrollBounds = {top: this.scrollPosition, bottom: this.scrollPosition + this.scrollBounds.clientHeight},\n\t\t\t\t\t\t\titemBounds = {top: this.getGridPosition(indexToScrollIntoView).primaryPosition, bottom: this.getItemBottomPosition(indexToScrollIntoView)};\n\n\t\t\t\t\t\tif (itemBounds.top < scrollBounds.top) {\n\t\t\t\t\t\t\tthis.props.cbScrollTo({\n\t\t\t\t\t\t\t\tindex: indexToScrollIntoView,\n\t\t\t\t\t\t\t\tstickTo: 'start',\n\t\t\t\t\t\t\t\tanimate: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (itemBounds.bottom > scrollBounds.bottom) {\n\t\t\t\t\t\t\tthis.props.cbScrollTo({\n\t\t\t\t\t\t\t\tindex: indexToScrollIntoView,\n\t\t\t\t\t\t\t\tstickTo: 'end',\n\t\t\t\t\t\t\t\tanimate: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.indexToScrollIntoView = -1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tprevProps.direction !== this.props.direction ||\n\t\t\t\tprevProps.overhang !== this.props.overhang ||\n\t\t\t\tprevProps.spacing !== this.props.spacing ||\n\t\t\t\t!equals(prevProps.itemSize, this.props.itemSize)\n\t\t\t) {\n\t\t\t\tconst {x, y} = this.getXY(this.scrollPosition, 0);\n\n\t\t\t\tthis.calculateMetrics(this.props);\n\t\t\t\t// eslint-disable-next-line react/no-did-update-set-state\n\t\t\t\tthis.setState(this.getStatesAndUpdateBounds(this.props));\n\t\t\t\tthis.setContainerSize();\n\n\t\t\t\tconst {clientHeight, clientWidth, scrollHeight, scrollWidth} = this.scrollBounds;\n\t\t\t\tconst xMax = scrollWidth - clientWidth;\n\t\t\t\tconst yMax = scrollHeight - clientHeight;\n\n\t\t\t\tthis.updateScrollPosition({\n\t\t\t\t\tx: xMax > x ? x : xMax,\n\t\t\t\t\ty: yMax > y ? y : yMax\n\t\t\t\t});\n\n\t\t\t\tdeferScrollTo = true;\n\t\t\t} else if (this.hasDataSizeChanged) {\n\t\t\t\tconst newState = this.getStatesAndUpdateBounds(this.props, this.state.firstIndex);\n\t\t\t\t// eslint-disable-next-line react/no-did-update-set-state\n\t\t\t\tthis.setState(newState);\n\t\t\t\tthis.setContainerSize();\n\n\t\t\t\tdeferScrollTo = true;\n\t\t\t} else if (prevProps.rtl !== this.props.rtl) {\n\t\t\t\tthis.updateScrollPosition(this.getXY(this.scrollPosition, 0));\n\t\t\t}\n\n\t\t\tconst maxPos = this.isPrimaryDirectionVertical ? this.scrollBounds.maxTop : this.scrollBounds.maxLeft;\n\n\t\t\tif (!deferScrollTo && this.scrollPosition > maxPos) {\n\t\t\t\tthis.props.cbScrollTo({position: (this.isPrimaryDirectionVertical) ? {y: maxPos} : {x: maxPos}, animate: false});\n\t\t\t}\n\t\t}\n\n\t\tscrollBounds = {\n\t\t\tclientWidth: 0,\n\t\t\tclientHeight: 0,\n\t\t\tscrollWidth: 0,\n\t\t\tscrollHeight: 0,\n\t\t\tmaxLeft: 0,\n\t\t\tmaxTop: 0\n\t\t};\n\n\t\tmoreInfo = {\n\t\t\tfirstVisibleIndex: null,\n\t\t\tlastVisibleIndex: null\n\t\t};\n\n\t\tprimary = null;\n\t\tsecondary = null;\n\n\t\tisPrimaryDirectionVertical = true;\n\t\tisItemSized = false;\n\n\t\tshouldUpdateBounds = false;\n\n\t\tdimensionToExtent = 0;\n\t\tthreshold = 0;\n\t\tmaxFirstIndex = 0;\n\t\tcurDataSize = 0;\n\t\thasDataSizeChanged = false;\n\t\tcc = [];\n\t\tscrollPosition = 0;\n\t\tscrollPositionTarget = 0;\n\n\t\t// For individually sized item\n\t\titemPositions = [];\n\t\tindexToScrollIntoView = -1;\n\n\t\tupdateScrollPosition = ({x, y}, rtl = this.props.rtl) => {\n\t\t\tif (type === Native) {\n\t\t\t\tthis.scrollToPosition(x, y, rtl);\n\t\t\t} else {\n\t\t\t\tthis.setScrollPosition(x, y, rtl, x, y);\n\t\t\t}\n\t\t};\n\n\t\tisVertical = () => this.isPrimaryDirectionVertical;\n\n\t\tisHorizontal = () => !this.isPrimaryDirectionVertical;\n\n\t\tgetScrollBounds = () => this.scrollBounds;\n\n\t\tgetMoreInfo = () => this.moreInfo;\n\n\t\tgetGridPosition (index) {\n\t\t\tconst\n\t\t\t\t{dataSize, itemSizes} = this.props,\n\t\t\t\t{dimensionToExtent, itemPositions, primary, secondary} = this,\n\t\t\t\tsecondaryPosition = (index % dimensionToExtent) * secondary.gridSize,\n\t\t\t\textent = Math.floor(index / dimensionToExtent);\n\t\t\tlet primaryPosition;\n\n\t\t\tif (itemSizes && typeof itemSizes[index] !== 'undefined' && dataSize > index) {\n\t\t\t\tconst firstIndexInExtent = extent * dimensionToExtent;\n\n\t\t\t\tif (!itemPositions[firstIndexInExtent]) {\n\t\t\t\t\t// Cache individually sized item positions\n\t\t\t\t\tfor (let i = itemPositions.length; i <= index; i++) {\n\t\t\t\t\t\tthis.calculateAndCacheItemPosition(i);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (itemPositions[firstIndexInExtent]) {\n\t\t\t\t\tprimaryPosition = itemPositions[firstIndexInExtent].position;\n\t\t\t\t} else {\n\t\t\t\t\tprimaryPosition = extent * primary.gridSize;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tprimaryPosition = extent * primary.gridSize;\n\t\t\t}\n\n\t\t\treturn {primaryPosition, secondaryPosition};\n\t\t}\n\n\t\t// For individually sized item\n\t\tgetItemBottomPosition = (index) => {\n\t\t\tconst\n\t\t\t\titemPosition = this.itemPositions[index],\n\t\t\t\titemSize = this.props.itemSizes[index];\n\n\t\t\tif (itemPosition && (itemSize || itemSize === 0)) {\n\t\t\t\treturn itemPosition.position + itemSize;\n\t\t\t} else {\n\t\t\t\treturn index * this.primary.gridSize - this.props.spacing;\n\t\t\t}\n\t\t};\n\n\t\t// For individually sized item\n\t\tgetItemTopPositionFromPreviousItemBottomPosition = (index, spacing) => {\n\t\t\treturn index === 0 ? 0 : this.getItemBottomPosition(index - 1) + spacing;\n\t\t};\n\n\t\tgetItemPosition = (index, stickTo = 'start') => {\n\t\t\tconst\n\t\t\t\t{primary} = this,\n\t\t\t\tposition = this.getGridPosition(index);\n\t\t\tlet  offset = 0;\n\n\t\t\tif (stickTo === 'start') {\n\t\t\t\toffset = 0;\n\t\t\t} else if (this.props.itemSizes) {\n\t\t\t\toffset = primary.clientSize - this.props.itemSizes[index];\n\t\t\t} else {\n\t\t\t\toffset = primary.clientSize - primary.itemSize;\n\t\t\t}\n\n\t\t\tposition.primaryPosition -= offset;\n\n\t\t\treturn this.gridPositionToItemPosition(position);\n\t\t};\n\n\t\tgridPositionToItemPosition = ({primaryPosition, secondaryPosition}) =>\n\t\t\t(this.isPrimaryDirectionVertical ? {left: secondaryPosition, top: primaryPosition} : {left: primaryPosition, top: secondaryPosition});\n\n\t\tgetXY = (primaryPosition, secondaryPosition) => (this.isPrimaryDirectionVertical ? {x: secondaryPosition, y: primaryPosition} : {x: primaryPosition, y: secondaryPosition});\n\n\t\tgetClientSize = (node) => ({\n\t\t\tclientWidth: node.clientWidth,\n\t\t\tclientHeight: node.clientHeight\n\t\t});\n\n\t\temitUpdateItems () {\n\t\t\tconst {dataSize} = this.props;\n\t\t\tconst {firstIndex, numOfItems} = this.state;\n\n\t\t\tforward('onUpdateItems', {\n\t\t\t\tfirstIndex: firstIndex,\n\t\t\t\tlastIndex: Math.min(firstIndex + numOfItems, dataSize)\n\t\t\t}, this.props);\n\t\t}\n\n\t\tcalculateMetrics (props) {\n\t\t\tconst\n\t\t\t\t{clientSize, direction, itemSize, overhang, spacing} = props,\n\t\t\t\tnode = this.containerRef.current;\n\n\t\t\tif (!clientSize && !node) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst\n\t\t\t\t{clientWidth, clientHeight} = (clientSize || this.getClientSize(node)),\n\t\t\t\theightInfo = {\n\t\t\t\t\tclientSize: clientHeight,\n\t\t\t\t\tminItemSize: itemSize.minHeight || null,\n\t\t\t\t\titemSize: itemSize\n\t\t\t\t},\n\t\t\t\twidthInfo = {\n\t\t\t\t\tclientSize: clientWidth,\n\t\t\t\t\tminItemSize: itemSize.minWidth || null,\n\t\t\t\t\titemSize: itemSize\n\t\t\t\t};\n\t\t\tlet primary, secondary, dimensionToExtent, thresholdBase;\n\n\t\t\tthis.isPrimaryDirectionVertical = (direction === 'vertical');\n\n\t\t\tif (this.isPrimaryDirectionVertical) {\n\t\t\t\tprimary = heightInfo;\n\t\t\t\tsecondary = widthInfo;\n\t\t\t} else {\n\t\t\t\tprimary = widthInfo;\n\t\t\t\tsecondary = heightInfo;\n\t\t\t}\n\t\t\tdimensionToExtent = 1;\n\n\t\t\tthis.isItemSized = (primary.minItemSize && secondary.minItemSize);\n\n\t\t\tif (this.isItemSized) {\n\t\t\t\t// the number of columns is the ratio of the available width plus the spacing\n\t\t\t\t// by the minimum item width plus the spacing\n\t\t\t\tdimensionToExtent = Math.max(Math.floor((secondary.clientSize + spacing) / (secondary.minItemSize + spacing)), 1);\n\t\t\t\t// the actual item width is a ratio of the remaining width after all columns\n\t\t\t\t// and spacing are accounted for and the number of columns that we know we should have\n\t\t\t\tsecondary.itemSize = Math.floor((secondary.clientSize - (spacing * (dimensionToExtent - 1))) / dimensionToExtent);\n\t\t\t\t// the actual item height is related to the item width\n\t\t\t\tprimary.itemSize = Math.floor(primary.minItemSize * (secondary.itemSize / secondary.minItemSize));\n\t\t\t}\n\n\t\t\tprimary.gridSize = primary.itemSize + spacing;\n\t\t\tsecondary.gridSize = secondary.itemSize + spacing;\n\t\t\tthresholdBase = primary.gridSize * Math.ceil(overhang / 2);\n\n\t\t\tthis.threshold = {min: -Infinity, max: thresholdBase, base: thresholdBase};\n\t\t\tthis.dimensionToExtent = dimensionToExtent;\n\n\t\t\tthis.primary = primary;\n\t\t\tthis.secondary = secondary;\n\n\t\t\t// reset\n\t\t\tthis.scrollPosition = 0;\n\t\t\tif (type === JS && this.contentRef.current) {\n\t\t\t\tthis.contentRef.current.style.transform = null;\n\t\t\t}\n\t\t}\n\n\t\tgetStatesAndUpdateBounds = (props, firstIndex = 0) => {\n\t\t\tconst\n\t\t\t\t{dataSize, overhang, updateStatesAndBounds} = props,\n\t\t\t\t{dimensionToExtent, primary, moreInfo, scrollPosition} = this,\n\t\t\t\tnumOfItems = Math.min(dataSize, dimensionToExtent * (Math.ceil(primary.clientSize / primary.gridSize) + overhang)),\n\t\t\t\twasFirstIndexMax = ((this.maxFirstIndex < moreInfo.firstVisibleIndex - dimensionToExtent) && (firstIndex === this.maxFirstIndex)),\n\t\t\t\tdataSizeDiff = dataSize - this.curDataSize;\n\t\t\tlet newFirstIndex = firstIndex;\n\n\t\t\t// When calling setState() except in didScroll(), `shouldUpdateBounds` should be `true`\n\t\t\t// so that setState() in didScroll() could be called to override state.\n\t\t\t// Before calling setState() except in didScroll(), getStatesAndUpdateBounds() is always called.\n\t\t\t// So `shouldUpdateBounds` is true here.\n\t\t\tthis.shouldUpdateBounds = true;\n\n\t\t\tthis.maxFirstIndex = Math.ceil((dataSize - numOfItems) / dimensionToExtent) * dimensionToExtent;\n\t\t\tthis.curDataSize = dataSize;\n\n\t\t\t// reset children\n\t\t\tthis.cc = [];\n\t\t\tthis.itemPositions = []; // For individually sized item\n\t\t\tthis.calculateScrollBounds(props);\n\t\t\tthis.updateMoreInfo(dataSize, scrollPosition);\n\n\t\t\tif (!(updateStatesAndBounds && updateStatesAndBounds({\n\t\t\t\tcbScrollTo: props.cbScrollTo,\n\t\t\t\tnumOfItems,\n\t\t\t\tdataSize,\n\t\t\t\tmoreInfo\n\t\t\t}))) {\n\t\t\t\tnewFirstIndex = this.calculateFirstIndex(props, wasFirstIndexMax, dataSizeDiff, firstIndex);\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tfirstIndex: Math.min(newFirstIndex, this.maxFirstIndex),\n\t\t\t\tnumOfItems: numOfItems\n\t\t\t};\n\t\t};\n\n\t\tcalculateFirstIndex (props, wasFirstIndexMax, dataSizeDiff, firstIndex) {\n\t\t\tconst\n\t\t\t\t{overhang} = props,\n\t\t\t\t{dimensionToExtent, isPrimaryDirectionVertical, maxFirstIndex, primary, scrollBounds, scrollPosition, threshold} = this,\n\t\t\t\t{gridSize} = primary;\n\t\t\tlet newFirstIndex = firstIndex;\n\n\t\t\tif (wasFirstIndexMax && dataSizeDiff > 0) { // If dataSize increased from bottom, we need adjust firstIndex\n\t\t\t\t// If this is a gridlist and dataSizeDiff is smaller than 1 line, we are adjusting firstIndex without threshold change.\n\t\t\t\tif (dimensionToExtent > 1 && dataSizeDiff < dimensionToExtent) {\n\t\t\t\t\tnewFirstIndex = maxFirstIndex;\n\t\t\t\t} else { // For other bottom adding case, we need to update firstIndex and threshold.\n\t\t\t\t\tconst\n\t\t\t\t\t\tmaxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft,\n\t\t\t\t\t\tmaxOfMin = maxPos - threshold.base,\n\t\t\t\t\t\tnumOfUpperLine = Math.floor(overhang / 2),\n\t\t\t\t\t\tfirstIndexFromPosition = Math.floor(scrollPosition / gridSize),\n\t\t\t\t\t\texpectedFirstIndex = Math.max(0, firstIndexFromPosition - numOfUpperLine);\n\n\t\t\t\t\t// To navigate with 5way, we need to adjust firstIndex to the next line\n\t\t\t\t\t// since at the bottom we have num of overhang lines for upper side but none for bottom side\n\t\t\t\t\t// So we add numOfUpperLine at the top and rest lines at the bottom\n\t\t\t\t\tnewFirstIndex = Math.min(maxFirstIndex, expectedFirstIndex * dimensionToExtent);\n\n\t\t\t\t\t// We need to update threshold also since we moved the firstIndex\n\t\t\t\t\tthreshold.max = Math.min(maxPos, threshold.max + gridSize);\n\t\t\t\t\tthreshold.min = Math.min(maxOfMin, threshold.max - gridSize);\n\t\t\t\t}\n\t\t\t} else { // Other cases, we can keep the min value between firstIndex and maxFirstIndex. No need to change threshold\n\t\t\t\tnewFirstIndex = Math.min(firstIndex, maxFirstIndex);\n\t\t\t}\n\n\t\t\treturn newFirstIndex;\n\t\t}\n\n\t\tcalculateScrollBounds (props) {\n\t\t\tconst\n\t\t\t\t{clientSize} = props,\n\t\t\t\tnode = this.containerRef.current;\n\n\t\t\tif (!clientSize && !node) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst\n\t\t\t\t{scrollBounds, isPrimaryDirectionVertical} = this,\n\t\t\t\t{clientWidth, clientHeight} = clientSize || this.getClientSize(node);\n\t\t\tlet maxPos;\n\n\t\t\tscrollBounds.clientWidth = clientWidth;\n\t\t\tscrollBounds.clientHeight = clientHeight;\n\t\t\tscrollBounds.scrollWidth = this.getScrollWidth();\n\t\t\tscrollBounds.scrollHeight = this.getScrollHeight();\n\t\t\tscrollBounds.maxLeft = Math.max(0, scrollBounds.scrollWidth - clientWidth);\n\t\t\tscrollBounds.maxTop = Math.max(0, scrollBounds.scrollHeight - clientHeight);\n\n\t\t\t// correct position\n\t\t\tmaxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft;\n\n\t\t\tthis.syncThreshold(maxPos);\n\t\t}\n\n\t\tsetContainerSize = () => {\n\t\t\tif (this.contentRef.current) {\n\t\t\t\tthis.contentRef.current.style.width = this.scrollBounds.scrollWidth + (this.isPrimaryDirectionVertical ? -1 : 0) + 'px';\n\t\t\t\tthis.contentRef.current.style.height = this.scrollBounds.scrollHeight + (this.isPrimaryDirectionVertical ? 0 : -1) + 'px';\n\t\t\t}\n\t\t};\n\n\t\tupdateMoreInfo (dataSize, primaryPosition) {\n\t\t\tconst\n\t\t\t\t{dimensionToExtent, moreInfo} = this,\n\t\t\t\t{itemSize, gridSize, clientSize} = this.primary;\n\n\t\t\tif (dataSize <= 0) {\n\t\t\t\tmoreInfo.firstVisibleIndex = null;\n\t\t\t\tmoreInfo.lastVisibleIndex = null;\n\t\t\t} else if (this.props.itemSizes) {\n\t\t\t\tconst {firstIndex, numOfItems} = this.state;\n\t\t\t\tconst {isPrimaryDirectionVertical, scrollBounds: {clientWidth, clientHeight}, scrollPosition} = this;\n\t\t\t\tconst size = isPrimaryDirectionVertical ? clientHeight : clientWidth;\n\n\t\t\t\tlet firstVisibleIndex = null, lastVisibleIndex = null;\n\n\t\t\t\tfor (let i = firstIndex; i < firstIndex +  numOfItems; i++) {\n\t\t\t\t\tif (scrollPosition <= this.getItemBottomPosition(i)) {\n\t\t\t\t\t\tfirstVisibleIndex = i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (let i = firstIndex + numOfItems - 1; i >= firstIndex; i--) {\n\t\t\t\t\tif (scrollPosition + size >= this.getItemBottomPosition(i) - this.props.itemSizes[i]) {\n\t\t\t\t\t\tlastVisibleIndex = i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (firstVisibleIndex > lastVisibleIndex) {\n\t\t\t\t\tfirstVisibleIndex = null;\n\t\t\t\t\tlastVisibleIndex = null;\n\t\t\t\t}\n\n\t\t\t\tmoreInfo.firstVisibleIndex = firstVisibleIndex;\n\t\t\t\tmoreInfo.lastVisibleIndex = lastVisibleIndex;\n\t\t\t} else {\n\t\t\t\tmoreInfo.firstVisibleIndex = (Math.floor((primaryPosition - itemSize) / gridSize) + 1) * dimensionToExtent;\n\t\t\t\tmoreInfo.lastVisibleIndex = Math.min(dataSize - 1, Math.ceil((primaryPosition + clientSize) / gridSize) * dimensionToExtent - 1);\n\t\t\t}\n\t\t}\n\n\t\tsyncThreshold (maxPos) {\n\t\t\tconst {threshold} = this;\n\n\t\t\tif (threshold.max > maxPos) {\n\t\t\t\tif (maxPos < threshold.base) {\n\t\t\t\t\tthreshold.max = threshold.base;\n\t\t\t\t\tthreshold.min = -Infinity;\n\t\t\t\t} else {\n\t\t\t\t\tthreshold.max = maxPos;\n\t\t\t\t\tthreshold.min = maxPos - threshold.base;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Native only\n\t\tscrollToPosition (x, y, rtl = this.props.rtl) {\n\t\t\tif (this.containerRef.current) {\n\t\t\t\tif (this.isPrimaryDirectionVertical) {\n\t\t\t\t\tthis.scrollPositionTarget = y;\n\t\t\t\t} else {\n\t\t\t\t\tthis.scrollPositionTarget = x;\n\t\t\t\t}\n\n\t\t\t\tif (rtl) {\n\t\t\t\t\tx = (platform.ios || platform.safari) ? -x : this.scrollBounds.maxLeft - x;\n\t\t\t\t}\n\n\t\t\t\tthis.containerRef.current.scrollTo(x, y);\n\t\t\t}\n\t\t}\n\n\t\t// JS only\n\t\tsetScrollPosition (x, y, rtl = this.props.rtl, targetX = 0, targetY = 0) {\n\t\t\tif (this.contentRef.current) {\n\t\t\t\tthis.contentRef.current.style.transform = `translate3d(${rtl ? x : -x}px, -${y}px, 0)`;\n\n\t\t\t\t// The `x`, `y` as parameters in scrollToPosition() are the position when stopping scrolling.\n\t\t\t\t// But the `x`, `y` as parameters in setScrollPosition() are the position between current position and the position stopping scrolling.\n\t\t\t\t// To know the position when stopping scrolling here, `targetX` and `targetY` are passed and cached in `this.scrollPositionTarget`.\n\t\t\t\tif (this.isPrimaryDirectionVertical) {\n\t\t\t\t\tthis.scrollPositionTarget = targetY;\n\t\t\t\t} else {\n\t\t\t\t\tthis.scrollPositionTarget = targetX;\n\t\t\t\t}\n\n\t\t\t\tthis.didScroll(x, y);\n\t\t\t}\n\t\t}\n\n\t\tdidScroll (x, y) {\n\t\t\tconst\n\t\t\t\t{dataSize, spacing, itemSizes} = this.props,\n\t\t\t\t{firstIndex} = this.state,\n\t\t\t\t{isPrimaryDirectionVertical, threshold, dimensionToExtent, maxFirstIndex, scrollBounds, itemPositions} = this,\n\t\t\t\t{clientSize, gridSize} = this.primary,\n\t\t\t\tmaxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft;\n\t\t\tlet newFirstIndex = firstIndex, index, pos, size, itemPosition;\n\n\t\t\tif (isPrimaryDirectionVertical) {\n\t\t\t\tpos = y;\n\t\t\t} else {\n\t\t\t\tpos = x;\n\t\t\t}\n\n\t\t\tif (pos > threshold.max || pos < threshold.min) {\n\t\t\t\tlet newThresholdMin = -Infinity, newThresholdMax = Infinity;\n\n\t\t\t\tif (this.props.itemSizes) {\n\t\t\t\t\tconst overhangBefore = Math.floor(this.props.overhang / 2);\n\t\t\t\t\tlet firstRenderedIndex = -1;\n\n\t\t\t\t\t// find an item which is known as placed the first rendered item's position\n\t\t\t\t\tfor (index = 0; index < dataSize; index += dimensionToExtent) {\n\t\t\t\t\t\titemPosition = itemPositions[index];\n\t\t\t\t\t\tsize = itemSizes[index];\n\t\t\t\t\t\tif (itemPosition && size && itemPosition.position + size >= pos && itemPosition.position <= pos + clientSize) {\n\t\t\t\t\t\t\tfirstRenderedIndex = index;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// found an item which is visible within a current viewport\n\t\t\t\t\tif (index < dataSize) {\n\t\t\t\t\t\tif (itemPosition.position <= pos) {\n\t\t\t\t\t\t\tnewFirstIndex = firstRenderedIndex - overhangBefore * dimensionToExtent;\n\t\t\t\t\t\t\tnewThresholdMin = itemPosition.position;\n\t\t\t\t\t\t\tnewThresholdMax = newThresholdMin + size + spacing;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst diffToFirstIndex = Math.ceil((itemPosition.position - pos) / gridSize);\n\t\t\t\t\t\t\tnewFirstIndex = firstRenderedIndex - (diffToFirstIndex + overhangBefore) * dimensionToExtent;\n\t\t\t\t\t\t\tnewThresholdMin = itemPosition.position - diffToFirstIndex * gridSize;\n\t\t\t\t\t\t\tnewThresholdMax = newThresholdMin + gridSize;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else { // calculate the first index based on assuming that all items have minimal size\n\t\t\t\t\t\tconst firstExtent = Math.max(\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\t\tMath.floor(maxFirstIndex / dimensionToExtent),\n\t\t\t\t\t\t\t\tMath.floor((pos - gridSize * overhangBefore) / gridSize)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tnewFirstIndex = firstExtent * dimensionToExtent;\n\t\t\t\t\t\tnewThresholdMin = (firstExtent + overhangBefore) * gridSize;\n\t\t\t\t\t\tnewThresholdMax = newThresholdMin + gridSize;\n\t\t\t\t\t}\n\n\t\t\t\t\tnewFirstIndex = Math.max(0, Math.min(maxFirstIndex, newFirstIndex));\n\t\t\t\t} else {\n\t\t\t\t\tconst\n\t\t\t\t\t\toverhangBefore = Math.floor(this.props.overhang / 2),\n\t\t\t\t\t\tfirstExtent = Math.max(\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\t\tMath.floor(maxFirstIndex / dimensionToExtent),\n\t\t\t\t\t\t\t\tMath.floor((pos - gridSize * overhangBefore) / gridSize)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\tnewFirstIndex = firstExtent * dimensionToExtent;\n\t\t\t\t\tnewThresholdMin = (firstExtent + overhangBefore) * gridSize;\n\t\t\t\t\tnewThresholdMax = newThresholdMin + gridSize;\n\t\t\t\t}\n\n\t\t\t\tthreshold.min = newFirstIndex === 0 ? -Infinity : newThresholdMin;\n\t\t\t\tthreshold.max = newFirstIndex === maxFirstIndex ? Infinity : newThresholdMax;\n\t\t\t}\n\n\t\t\tthis.syncThreshold(maxPos);\n\t\t\tthis.scrollPosition = pos;\n\t\t\tthis.updateMoreInfo(dataSize, pos);\n\n\t\t\tif (this.shouldUpdateBounds || firstIndex !== newFirstIndex) {\n\t\t\t\tthis.setState({firstIndex: newFirstIndex});\n\t\t\t}\n\t\t}\n\n\t\t// For individually sized item\n\t\tcalculateAndCacheItemPosition (index) {\n\t\t\tconst {itemSizes} = this.props;\n\n\t\t\tif (!this.itemPositions[index] && itemSizes[index]) {\n\t\t\t\tconst\n\t\t\t\t\t{spacing} = this.props,\n\t\t\t\t\tposition = this.getItemTopPositionFromPreviousItemBottomPosition(index, spacing);\n\n\t\t\t\tthis.itemPositions[index] = {position};\n\t\t\t}\n\t\t}\n\n\t\t// For individually sized item\n\t\tapplyItemPositionToDOMElement (index) {\n\t\t\tconst\n\t\t\t\t{direction, rtl} = this.props,\n\t\t\t\t{numOfItems} = this.state,\n\t\t\t\t{itemPositions} = this,\n\t\t\t\tchildNode = this.itemContainerRef.current.children[index % numOfItems];\n\n\t\t\tif (childNode && itemPositions[index]) {\n\t\t\t\tconst position = itemPositions[index].position;\n\t\t\t\tif (direction === 'vertical') {\n\t\t\t\t\tchildNode.style.transform = `translate3d(0, ${position}px, 0)`;\n\t\t\t\t} else {\n\t\t\t\t\tchildNode.style.transform = `translate3d(${position * (rtl ? -1 : 1)}px, 0, 0)`;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// For individually sized item\n\t\tupdateThresholdWithItemPosition () {\n\t\t\tconst\n\t\t\t\t{overhang} = this.props,\n\t\t\t\t{firstIndex} = this.state,\n\t\t\t\t{maxFirstIndex} = this,\n\t\t\t\tnumOfUpperLine = Math.floor(overhang / 2);\n\n\t\t\tthis.threshold.min = firstIndex === 0 ? -Infinity : this.getItemBottomPosition(firstIndex + numOfUpperLine);\n\t\t\tthis.threshold.max = firstIndex === maxFirstIndex ? Infinity : this.getItemBottomPosition(firstIndex + (numOfUpperLine + 1));\n\t\t}\n\n\t\t// For individually sized item\n\t\tupdateScrollBoundsWithItemPositions () {\n\t\t\tconst\n\t\t\t\t{dataSize, itemSizes, spacing} = this.props,\n\t\t\t\t{firstIndex, numOfItems} = this.state,\n\t\t\t\t{isPrimaryDirectionVertical, itemPositions} = this,\n\t\t\t\tscrollBoundsDimension = isPrimaryDirectionVertical ? 'scrollHeight' : 'scrollWidth';\n\n\t\t\tif (itemPositions.length === dataSize) { // all item sizes are known\n\t\t\t\tthis.scrollBounds[scrollBoundsDimension] =\n\t\t\t\t\titemSizes.reduce((acc, cur) => acc + cur, 0) + (dataSize - 1) * spacing;\n\t\t\t} else {\n\t\t\t\tfor (let index = firstIndex + numOfItems - 1; index < dataSize; index++) {\n\t\t\t\t\tconst nextInfo = itemPositions[index + 1];\n\t\t\t\t\tif (!nextInfo) {\n\t\t\t\t\t\tconst endPosition = this.getItemBottomPosition(index);\n\t\t\t\t\t\tif (endPosition > this.scrollBounds[scrollBoundsDimension]) {\n\t\t\t\t\t\t\tthis.scrollBounds[scrollBoundsDimension] = endPosition;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.scrollBounds.maxTop = Math.max(0, this.scrollBounds.scrollHeight - this.scrollBounds.clientHeight);\n\t\t}\n\n\t\t// For individually sized item\n\t\tadjustItemPositionWithItemSize () {\n\t\t\tif (this.itemContainerRef.current) {\n\t\t\t\tconst\n\t\t\t\t\t{dataSize} = this.props,\n\t\t\t\t\t{firstIndex, numOfItems} = this.state,\n\t\t\t\t\tlastIndex = firstIndex + numOfItems - 1;\n\n\t\t\t\t// Cache individually sized item positions\n\t\t\t\t// and adjust item DOM element positions\n\t\t\t\tfor (let index = firstIndex; index <= lastIndex; index++) {\n\t\t\t\t\tthis.calculateAndCacheItemPosition(index);\n\t\t\t\t\tthis.applyItemPositionToDOMElement(index);\n\t\t\t\t}\n\n\t\t\t\t// Update threshold based on this.itemPositions\n\t\t\t\tthis.updateThresholdWithItemPosition();\n\n\t\t\t\t// Update scroll bounds based on this.itemPositions\n\t\t\t\tthis.updateScrollBoundsWithItemPositions();\n\n\t\t\t\t// Set container size based on this.scrollbounds\n\t\t\t\tthis.setContainerSize();\n\n\t\t\t\t// Update moreInfo based on this.itemPositions\n\t\t\t\tthis.updateMoreInfo(dataSize, this.scrollPosition);\n\t\t\t}\n\t\t}\n\n\t\tgetItemNode = (index) => {\n\t\t\tconst ref = this.itemContainerRef.current;\n\n\t\t\treturn ref ? ref.children[index % this.state.numOfItems] : null;\n\t\t};\n\n\t\tcomposeStyle (width, height, primaryPosition, secondaryPosition) {\n\t\t\tconst\n\t\t\t\t{x, y} = this.getXY(primaryPosition, secondaryPosition),\n\t\t\t\tstyle = {\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t/* FIXME: RTL / this calculation only works for Chrome */\n\t\t\t\t\ttransform: `translate3d(${this.props.rtl ? -x : x}px, ${y}px, 0)`\n\t\t\t\t};\n\n\t\t\tif (this.isItemSized) {\n\t\t\t\tstyle.width = width;\n\t\t\t\tstyle.height = height;\n\t\t\t}\n\n\t\t\treturn style;\n\t\t}\n\n\t\tapplyStyleToNewNode = (index, ...rest) => {\n\t\t\tconst\n\t\t\t\t{itemRenderer, getComponentProps} = this.props,\n\t\t\t\tkey = index % this.state.numOfItems,\n\t\t\t\titemElement = itemRenderer({\n\t\t\t\t\t...this.props.childProps,\n\t\t\t\t\tkey,\n\t\t\t\t\tindex\n\t\t\t\t}),\n\t\t\t\tcomponentProps = getComponentProps && getComponentProps(index) || {};\n\n\t\t\tthis.cc[key] = React.cloneElement(itemElement, {\n\t\t\t\t...componentProps,\n\t\t\t\tclassName: classNames(css.listItem, itemElement.props.className),\n\t\t\t\tstyle: {...itemElement.props.style, ...(this.composeStyle(...rest))}\n\t\t\t});\n\t\t};\n\n\t\tapplyStyleToHideNode = (index) => {\n\t\t\tconst key = index % this.state.numOfItems;\n\t\t\tthis.cc[key] = <div key={key} style={{display: 'none'}} />;\n\t\t};\n\n\t\tpositionItems () {\n\t\t\tconst\n\t\t\t\t{dataSize, itemSizes} = this.props,\n\t\t\t\t{firstIndex, numOfItems} = this.state,\n\t\t\t\t{cc, isPrimaryDirectionVertical, dimensionToExtent, primary, secondary, itemPositions} = this;\n\t\t\tlet\n\t\t\t\thideTo = 0,\n\t\t\t\tupdateFrom = cc.length ? this.state.updateFrom : firstIndex,\n\t\t\t\tupdateTo = cc.length ? this.state.updateTo : firstIndex + numOfItems;\n\n\t\t\tif (updateFrom >= updateTo) {\n\t\t\t\treturn;\n\t\t\t} else if (updateTo > dataSize) {\n\t\t\t\thideTo = updateTo;\n\t\t\t\tupdateTo = dataSize;\n\t\t\t}\n\n\t\t\tlet\n\t\t\t\twidth, height,\n\t\t\t\t{primaryPosition, secondaryPosition} = this.getGridPosition(updateFrom);\n\n\t\t\twidth = (isPrimaryDirectionVertical ? secondary.itemSize : primary.itemSize) + 'px';\n\t\t\theight = (isPrimaryDirectionVertical ? primary.itemSize : secondary.itemSize) + 'px';\n\n\t\t\t// positioning items\n\t\t\tfor (let i = updateFrom, j = updateFrom % dimensionToExtent; i < updateTo; i++) {\n\t\t\t\tthis.applyStyleToNewNode(i, width, height, primaryPosition, secondaryPosition);\n\n\t\t\t\tif (++j === dimensionToExtent) {\n\t\t\t\t\tsecondaryPosition = 0;\n\n\t\t\t\t\tif (this.props.itemSizes) {\n\t\t\t\t\t\tif (itemPositions[i + 1] || itemPositions[i + 1] === 0) {\n\t\t\t\t\t\t\tprimaryPosition = itemPositions[i + 1].position;\n\t\t\t\t\t\t} else if (itemSizes[i]) {\n\t\t\t\t\t\t\tprimaryPosition += itemSizes[i] + this.props.spacing;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tprimaryPosition += primary.gridSize;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprimaryPosition += primary.gridSize;\n\t\t\t\t\t}\n\n\t\t\t\t\tj = 0;\n\t\t\t\t} else {\n\t\t\t\t\tsecondaryPosition += secondary.gridSize;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (let i = updateTo; i < hideTo; i++) {\n\t\t\t\tthis.applyStyleToHideNode(i);\n\t\t\t}\n\t\t}\n\n\t\tgetScrollHeight = () => (this.isPrimaryDirectionVertical ? this.getVirtualScrollDimension() : this.scrollBounds.clientHeight);\n\n\t\tgetScrollWidth = () => (this.isPrimaryDirectionVertical ? this.scrollBounds.clientWidth : this.getVirtualScrollDimension());\n\n\t\tgetVirtualScrollDimension = () => {\n\t\t\tif (this.props.itemSizes) {\n\t\t\t\treturn this.props.itemSizes.reduce((total, size, index) => (total + size + (index > 0 ? this.props.spacing : 0)), 0);\n\t\t\t} else {\n\t\t\t\tconst\n\t\t\t\t\t{dimensionToExtent, primary, curDataSize} = this,\n\t\t\t\t\t{spacing} = this.props;\n\n\t\t\t\treturn (Math.ceil(curDataSize / dimensionToExtent) * primary.gridSize) - spacing;\n\t\t\t}\n\t\t};\n\n\t\tsyncClientSize = () => {\n\t\t\tconst\n\t\t\t\t{props} = this,\n\t\t\t\tnode = this.containerRef.current;\n\n\t\t\tif (!props.clientSize && !node) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst\n\t\t\t\t{clientWidth, clientHeight} = props.clientSize || this.getClientSize(node),\n\t\t\t\t{scrollBounds} = this;\n\n\t\t\tif (clientWidth !== scrollBounds.clientWidth || clientHeight !== scrollBounds.clientHeight) {\n\t\t\t\tthis.calculateMetrics(props);\n\t\t\t\tthis.setState(this.getStatesAndUpdateBounds(props));\n\t\t\t\tthis.setContainerSize();\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\n\t\t// render\n\n\t\tgetContainerClasses (className) {\n\t\t\tlet containerClass = null;\n\n\t\t\tif (type === Native) {\n\t\t\t\tcontainerClass = this.isPrimaryDirectionVertical ? css.vertical : css.horizontal;\n\t\t\t}\n\n\t\t\treturn classNames(css.virtualList, containerClass, className);\n\t\t}\n\n\t\tgetContentClasses () {\n\t\t\treturn type === Native ? null : css.content;\n\t\t}\n\n\t\trender () {\n\t\t\tconst\n\t\t\t\t{className, 'data-webos-voice-focused': voiceFocused, 'data-webos-voice-group-label': voiceGroupLabel, itemsRenderer, style, ...rest} = this.props,\n\t\t\t\t{cc, itemContainerRef, primary} = this,\n\t\t\t\tcontainerClasses = this.getContainerClasses(className),\n\t\t\t\tcontentClasses = this.getContentClasses();\n\n\t\t\tdelete rest.cbScrollTo;\n\t\t\tdelete rest.childProps;\n\t\t\tdelete rest.clientSize;\n\t\t\tdelete rest.dataSize;\n\t\t\tdelete rest.direction;\n\t\t\tdelete rest.getComponentProps;\n\t\t\tdelete rest.isHorizontalScrollbarVisible;\n\t\t\tdelete rest.isVerticalScrollbarVisible;\n\t\t\tdelete rest.itemRenderer;\n\t\t\tdelete rest.itemSize;\n\t\t\tdelete rest.itemSizes;\n\t\t\tdelete rest.onUpdate;\n\t\t\tdelete rest.onUpdateItems;\n\t\t\tdelete rest.overhang;\n\t\t\tdelete rest.pageScroll;\n\t\t\tdelete rest.rtl;\n\t\t\tdelete rest.spacing;\n\t\t\tdelete rest.updateStatesAndBounds;\n\n\t\t\tif (primary) {\n\t\t\t\tthis.positionItems();\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<div className={containerClasses} data-webos-voice-focused={voiceFocused} data-webos-voice-group-label={voiceGroupLabel} ref={this.containerRef} style={style}>\n\t\t\t\t\t<div {...rest} className={contentClasses} ref={this.contentRef}>\n\t\t\t\t\t\t{itemsRenderer({cc, itemContainerRef, primary})}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t};\n};\n\n/**\n * A basic base component for\n * [VirtualList]{@link ui/VirtualList.VirtualList} and [VirtualGridList]{@link ui/VirtualList.VirtualGridList}.\n *\n * @class VirtualListBase\n * @memberof ui/VirtualList\n * @ui\n * @public\n */\nconst VirtualListBase = VirtualListBaseFactory(JS);\nVirtualListBase.displayName = 'ui:VirtualListBase';\n\n/**\n * A basic base component for\n * [VirtualListNative]{@link ui/VirtualList.VirtualListNative} and [VirtualGridListNative]{@link ui/VirtualList.VirtualGridListNative}.\n *\n * @class VirtualListBaseNative\n * @memberof ui/VirtualList\n * @ui\n * @private\n */\nconst VirtualListBaseNative = VirtualListBaseFactory(Native);\nVirtualListBaseNative.displayName = 'ui:VirtualListBaseNative';\n\n/**\n * A callback function that receives a reference to the `scrollTo` feature.\n *\n * Once received, the `scrollTo` method can be called as an imperative interface.\n *\n * The `scrollTo` function accepts the following parameters:\n * - {position: {x, y}} - Pixel value for x and/or y position\n * - {align} - Where the scroll area should be aligned. Values are:\n *   `'left'`, `'right'`, `'top'`, `'bottom'`,\n *   `'topleft'`, `'topright'`, `'bottomleft'`, and `'bottomright'`.\n * - {index} - Index of specific item. (`0` or positive integer)\n *   This option is available for only `VirtualList` kind.\n * - {node} - Node to scroll into view\n * - {animate} - When `true`, scroll occurs with animation. When `false`, no\n *   animation occurs.\n * - {focus} - When `true`, attempts to focus item after scroll. Only valid when scrolling\n *   by `index` or `node`.\n * > Note: Only specify one of: `position`, `align`, `index` or `node`\n *\n * Example:\n * ```\n *\t// If you set cbScrollTo prop like below;\n *\tcbScrollTo: (fn) => {this.scrollTo = fn;}\n *\t// You can simply call like below;\n *\tthis.scrollTo({align: 'top'}); // scroll to the top\n * ```\n *\n * @name cbScrollTo\n * @memberof ui/VirtualList.VirtualListBase.prototype\n * @type {Function}\n * @public\n */\n\n/**\n * Specifies how to show horizontal scrollbar.\n *\n * Valid values are:\n * * `'auto'`,\n * * `'visible'`, and\n * * `'hidden'`.\n *\n * @name horizontalScrollbar\n * @memberof ui/VirtualList.VirtualListBase.prototype\n * @type {String}\n * @default 'auto'\n * @public\n */\n\n/**\n * Prevents scroll by wheeling on the list.\n *\n * @name noScrollByWheel\n * @memberof ui/VirtualList.VirtualListBase.prototype\n * @type {Boolean}\n * @default false\n * @public\n */\n\n/**\n * Called when scrolling.\n *\n * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n * It is not recommended to set this prop since it can cause performance degradation.\n * Use `onScrollStart` or `onScrollStop` instead.\n *\n * @name onScroll\n * @memberof ui/VirtualList.VirtualListBase.prototype\n * @type {Function}\n * @param {Object} event\n * @param {Number} event.scrollLeft Scroll left value.\n * @param {Number} event.scrollTop Scroll top value.\n * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n * @public\n */\n\n/**\n * Called when scroll starts.\n *\n * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n * You can get firstVisibleIndex and lastVisibleIndex from VirtualList with `moreInfo`.\n *\n * Example:\n * ```\n * onScrollStart = ({scrollLeft, scrollTop, moreInfo}) => {\n *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n *     // do something with firstVisibleIndex and lastVisibleIndex\n * }\n *\n * render = () => (\n *     <VirtualList\n *         ...\n *         onScrollStart={this.onScrollStart}\n *         ...\n *     />\n * )\n * ```\n *\n * @name onScrollStart\n * @memberof ui/VirtualList.VirtualListBase.prototype\n * @type {Function}\n * @param {Object} event\n * @param {Number} event.scrollLeft Scroll left value.\n * @param {Number} event.scrollTop Scroll top value.\n * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n * @public\n */\n\n/**\n * Called when scroll stops.\n *\n * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n * You can get firstVisibleIndex and lastVisibleIndex from VirtualList with `moreInfo`.\n *\n * Example:\n * ```\n * onScrollStop = ({scrollLeft, scrollTop, moreInfo}) => {\n *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n *     // do something with firstVisibleIndex and lastVisibleIndex\n * }\n *\n * render = () => (\n *     <VirtualList\n *         ...\n *         onScrollStop={this.onScrollStop}\n *         ...\n *     />\n * )\n * ```\n *\n * @name onScrollStop\n * @memberof ui/VirtualList.VirtualListBase.prototype\n * @type {Function}\n * @param {Object} event\n * @param {Number} event.scrollLeft Scroll left value.\n * @param {Number} event.scrollTop Scroll top value.\n * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n * @public\n */\n\n/**\n * Specifies how to show vertical scrollbar.\n *\n * Valid values are:\n * * `'auto'`,\n * * `'visible'`, and\n * * `'hidden'`.\n *\n * @name verticalScrollbar\n * @memberof ui/VirtualList.VirtualListBase.prototype\n * @type {String}\n * @default 'auto'\n * @public\n */\n\nexport default VirtualListBase;\nexport {\n\tVirtualListBase as UiVirtualListBase,\n\tVirtualListBaseNative as UiVirtualListBaseNative\n};\n","import classNames from 'classnames';\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport {forward} from '@enact/core/handle';\nimport {platform} from '@enact/core/platform';\nimport {clamp} from '@enact/core/util';\nimport PropTypes from 'prop-types';\nimport equals from 'ramda/src/equals';\nimport React, {Component} from 'react';\n\nimport css from './VirtualList.module.less';\n\nconst nop = () => {};\n\n/**\n * The shape for the grid list item size\n * in a list for [VirtualGridList]{@link ui/VirtualList.VirtualGridList}.\n *\n * @typedef {Object} gridListItemSizeShape\n * @memberof ui/VirtualList\n * @property {Number} minWidth The minimum width of the grid list item.\n * @property {Number} minHeight The minimum height of the grid list item.\n * @public\n */\nconst gridListItemSizeShape = PropTypes.shape({\n\tminHeight: PropTypes.number.isRequired,\n\tminWidth: PropTypes.number.isRequired\n});\n\n/**\n * The shape for the list different item size\n * in a list for [VirtualList]{@link ui/VirtualList.VirtualList}.\n *\n * @typedef {Object} itemSizesShape\n * @memberof ui/VirtualList\n * @property {Number} minSize The minimum size of the list item.\n * @property {Number[]} size An array of the list item size. If it is not defined, the list items will render with the `minSize` size.\n * @public\n */\nconst itemSizesShape = PropTypes.shape({\n\tminSize: PropTypes.number.isRequired,\n\tsize: PropTypes.arrayOf(PropTypes.number)\n});\n\n/**\n * A basic base component for\n * [VirtualList]{@link ui/VirtualList.VirtualList} and [VirtualGridList]{@link ui/VirtualList.VirtualGridList}.\n *\n * @class VirtualListBasic\n * @memberof ui/VirtualList\n * @ui\n * @public\n */\nclass VirtualListBasic extends Component {\n\tdisplayName = 'ui:VirtualListBasic';\n\n\tstatic propTypes = /** @lends ui/VirtualList.VirtualListBasic.prototype */ {\n\t\t/**\n\t\t * The rendering function called for each item in the list.\n\t\t *\n\t\t * > **Note**: The list does **not** always render a component whenever its render function is called\n\t\t * due to performance optimization.\n\t\t *\n\t\t * Example:\n\t\t * ```\n\t\t * renderItem = ({index, ...rest}) => {\n\t\t *\n\t\t * \treturn (\n\t\t * \t\t<MyComponent index={index} {...rest} />\n\t\t * \t);\n\t\t * }\n\t\t * ```\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @param {Number} event.data-index It is required for `Spotlight` 5-way navigation. Pass to the root element in the component.\n\t\t * @param {Number} event.index The index number of the component to render\n\t\t *\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\titemRenderer: PropTypes.func.isRequired,\n\n\t\t/**\n\t\t * The size of an item for the list; valid values are either a number for `VirtualList`\n\t\t * or an object that has `minWidth` and `minHeight` for `VirtualGridList`.\n\t\t *\n\t\t * @type {Number|ui/VirtualList.gridListItemSizeShape}\n\t\t * @required\n\t\t * @private\n\t\t */\n\t\titemSize: PropTypes.oneOfType([\n\t\t\tPropTypes.number,\n\t\t\tgridListItemSizeShape\n\t\t]).isRequired,\n\n\t\t/**\n\t\t * Callback method of scrollTo.\n\t\t * Normally, useScroll should set this value.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tcbScrollTo: PropTypes.func,\n\n\t\t/**\n\t\t * Additional props included in the object passed to the `itemRenderer` callback.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tchildProps: PropTypes.object,\n\n\t\t/**\n\t\t * Client size of the list; valid values are an object that has `clientWidth` and `clientHeight`.\n\t\t *\n\t\t * @type {Object}\n\t\t * @property {Number} clientHeight The client height of the list.\n\t\t * @property {Number} clientWidth The client width of the list.\n\t\t * @public\n\t\t */\n\t\tclientSize: PropTypes.shape({\n\t\t\tclientHeight: PropTypes.number.isRequired,\n\t\t\tclientWidth: PropTypes.number.isRequired\n\t\t}),\n\n\t\t/**\n\t\t * Disable voice control feature of component.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\t'data-webos-voice-disabled': PropTypes.bool,\n\n\t\t/**\n\t\t * Activates the component for voice control.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\t'data-webos-voice-focused': PropTypes.bool,\n\n\t\t/**\n\t\t * The voice control group label.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\t'data-webos-voice-group-label': PropTypes.string,\n\n\t\t/**\n\t\t * The number of items of data the list contains.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tdataSize: PropTypes.number,\n\n\t\t/**\n\t\t * The layout direction of the list.\n\t\t *\n\t\t * Valid values are:\n\t\t * * `'horizontal'`, and\n\t\t * * `'vertical'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'vertical'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t/**\n\t\t * Called to get the scroll affordance from themed component.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tgetAffordance: PropTypes.func,\n\n\t\t/**\n\t\t * Called to get the props for list items.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tgetComponentProps: PropTypes.func,\n\n\t\t/**\n\t\t * Ref for items\n\t\t *\n\t\t * @type {Object}\n\t\t * @private\n\t\t */\n\t\titemRefs: PropTypes.object,\n\n\t\t/**\n\t\t * The array for individually sized items.\n\t\t *\n\t\t * @type {Number[]}\n\t\t * @private\n\t\t */\n\t\titemSizes: PropTypes.arrayOf(PropTypes.number),\n\n\t\t/**\n\t\t * Called when the range of items has updated.\n\t\t *\n\t\t * Event payload includes the `firstIndex` and `lastIndex` of the list.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tonUpdateItems: PropTypes.func,\n\n\t\t/**\n\t\t * Number of spare DOM node.\n\t\t * `3` is good for the default value experimentally and\n\t\t * this value is highly recommended not to be changed by developers.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 3\n\t\t * @private\n\t\t */\n\t\toverhang: PropTypes.number,\n\n\t\t/**\n\t\t * When `true`, the list will scroll by page. Otherwise the list will scroll by item.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @private\n\t\t */\n\t\tpageScroll: PropTypes.bool,\n\n\t\t/**\n\t\t * The render function for the placeholder elements.\n\t\t *\n\t\t * @type {Function}\n\t\t * @required\n\t\t * @private\n\t\t */\n\t\tplaceholderRenderer: PropTypes.func,\n\n\t\t/**\n\t\t * The ARIA role for the list.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'list'\n\t\t * @public\n\t\t */\n\t\trole: PropTypes.string,\n\n\t\t/**\n\t\t * `true` if RTL, `false` if LTR.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @private\n\t\t */\n\t\trtl: PropTypes.bool,\n\n\t\t/**\n\t\t * Ref for scroll content\n\t\t *\n\t\t * @type {Object|Function}}\n\t\t * @private\n\t\t */\n\t\tscrollContentRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Specifies how to scroll.\n\t\t *\n\t\t * Valid values are:\n\t\t * * `'translate'`,\n\t\t * * `'native'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'translate'\n\t\t * @public\n\t\t */\n\t\tscrollMode: PropTypes.string,\n\n\t\t/**\n\t\t * The spacing between items.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tspacing: PropTypes.number,\n\n\t\t/**\n\t\t * Called to execute additional logic in a themed component when updating states and bounds.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tupdateStatesAndBounds: PropTypes.func\n\t};\n\n\tstatic defaultProps = {\n\t\tcbScrollTo: nop,\n\t\tdataSize: 0,\n\t\tdirection: 'vertical',\n\t\tgetAffordance: () => (0),\n\t\toverhang: 3,\n\t\tpageScroll: false,\n\t\tscrollMode: 'translate',\n\t\tspacing: 0\n\t};\n\n\tconstructor (props) {\n\t\tlet nextState = null;\n\n\t\tsuper(props);\n\n\t\tthis.contentRef = React.createRef();\n\t\tthis.itemContainerRefs = [];\n\n\t\tif (props.clientSize) {\n\t\t\tthis.calculateMetrics(props);\n\t\t\tnextState = this.getStatesAndUpdateBounds(props);\n\t\t}\n\n\t\tthis.state = {\n\t\t\tfirstIndex: 0,\n\t\t\tnumOfItems: 0,\n\t\t\tprevChildProps: null,\n\t\t\tprevFirstIndex: 0,\n\t\t\tupdateFrom: 0,\n\t\t\tupdateTo: 0,\n\t\t\t...nextState\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps (props, state) {\n\t\tconst\n\t\t\tshouldInvalidate = (\n\t\t\t\tstate.prevFirstIndex === state.firstIndex ||\n\t\t\t\tstate.prevChildProps !== props.childProps\n\t\t\t),\n\t\t\tdiff = state.firstIndex - state.prevFirstIndex,\n\t\t\tupdateTo = (-state.numOfItems >= diff || diff > 0 || shouldInvalidate) ? state.firstIndex + state.numOfItems : state.prevFirstIndex,\n\t\t\tupdateFrom = (0 >= diff || diff >= state.numOfItems || shouldInvalidate) ? state.firstIndex : state.prevFirstIndex + state.numOfItems,\n\t\t\tnextUpdateFromAndTo = (state.updateFrom !== updateFrom || state.updateTo !== updateTo) ? {updateFrom, updateTo} : null;\n\n\t\treturn {\n\t\t\t...nextUpdateFromAndTo,\n\t\t\tprevChildProps: props.childProps,\n\t\t\tprevFirstIndex: state.firstIndex\n\t\t};\n\t}\n\n\t// Calculate metrics for VirtualList after the 1st render to know client W/H.\n\tcomponentDidMount () {\n\t\tif (!this.props.clientSize) {\n\t\t\tthis.calculateMetrics(this.props);\n\t\t\t// eslint-disable-next-line react/no-did-mount-set-state\n\t\t\tthis.setState(this.getStatesAndUpdateBounds(this.props));\n\t\t} else {\n\t\t\tthis.emitUpdateItems();\n\t\t}\n\n\t\tif (this.props.itemSizes) {\n\t\t\tthis.adjustItemPositionWithItemSize();\n\t\t} else {\n\t\t\tthis.setContainerSize();\n\t\t}\n\t}\n\n\tcomponentDidUpdate (prevProps, prevState) {\n\t\tlet deferScrollTo = false;\n\t\tconst {firstIndex, numOfItems} = this.state;\n\n\t\tthis.shouldUpdateBounds = false;\n\n\t\t// TODO: remove `this.hasDataSizeChanged` and fix useScroll\n\t\tthis.hasDataSizeChanged = (prevProps.dataSize !== this.props.dataSize);\n\n\t\tif (prevState.firstIndex !== firstIndex || prevState.numOfItems !== numOfItems) {\n\t\t\tthis.emitUpdateItems();\n\t\t}\n\n\t\t// When an item expands or shrinks,\n\t\t// we need to calculate the item position again and\n\t\t// the item needs to scroll into view if the item does not show fully.\n\t\tif (this.props.itemSizes) {\n\t\t\tif (this.itemPositions.length > this.props.itemSizes.length) {\n\t\t\t\t// The item with `this.props.itemSizes.length` index is not rendered yet.\n\t\t\t\t// So the item could scroll into view after it rendered.\n\t\t\t\t// To do it, `this.props.itemSizes.length` value is cached in `this.indexToScrollIntoView`.\n\t\t\t\tthis.indexToScrollIntoView = this.props.itemSizes.length;\n\n\t\t\t\tthis.itemPositions = [...this.itemPositions.slice(0, this.props.itemSizes.length)];\n\t\t\t\tthis.adjustItemPositionWithItemSize();\n\t\t\t} else {\n\t\t\t\tconst {indexToScrollIntoView} = this;\n\n\t\t\t\tthis.adjustItemPositionWithItemSize();\n\n\t\t\t\tif (indexToScrollIntoView !== -1) {\n\t\t\t\t\t// Currently we support expandable items in only vertical VirtualList.\n\t\t\t\t\t// So the top and bottom of the boundaries are checked.\n\t\t\t\t\tconst\n\t\t\t\t\t\tscrollBounds = {top: this.scrollPosition, bottom: this.scrollPosition + this.scrollBounds.clientHeight},\n\t\t\t\t\t\titemBounds = {top: this.getGridPosition(indexToScrollIntoView).primaryPosition, bottom: this.getItemBottomPosition(indexToScrollIntoView)};\n\n\t\t\t\t\tif (itemBounds.top < scrollBounds.top) {\n\t\t\t\t\t\tthis.props.cbScrollTo({\n\t\t\t\t\t\t\tindex: indexToScrollIntoView,\n\t\t\t\t\t\t\tstickTo: 'start',\n\t\t\t\t\t\t\tanimate: true\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (itemBounds.bottom > scrollBounds.bottom) {\n\t\t\t\t\t\tthis.props.cbScrollTo({\n\t\t\t\t\t\t\tindex: indexToScrollIntoView,\n\t\t\t\t\t\t\tstickTo: 'end',\n\t\t\t\t\t\t\tanimate: true\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.indexToScrollIntoView = -1;\n\t\t\t}\n\t\t}\n\n\t\tif (\n\t\t\tprevProps.direction !== this.props.direction ||\n\t\t\tprevProps.overhang !== this.props.overhang ||\n\t\t\tprevProps.spacing !== this.props.spacing ||\n\t\t\t!equals(prevProps.itemSize, this.props.itemSize)\n\t\t) {\n\t\t\tconst {x, y} = this.getXY(this.scrollPosition, 0);\n\n\t\t\tthis.calculateMetrics(this.props);\n\t\t\t// eslint-disable-next-line react/no-did-update-set-state\n\t\t\tthis.setState(this.getStatesAndUpdateBounds(this.props));\n\t\t\tthis.setContainerSize();\n\n\t\t\tconst {clientHeight, clientWidth, scrollHeight, scrollWidth} = this.scrollBounds;\n\t\t\tconst xMax = scrollWidth - clientWidth;\n\t\t\tconst yMax = scrollHeight - clientHeight;\n\n\t\t\tthis.updateScrollPosition({\n\t\t\t\tx: xMax > x ? x : xMax,\n\t\t\t\ty: yMax > y ? y : yMax\n\t\t\t});\n\n\t\t\tdeferScrollTo = true;\n\t\t} else if (this.hasDataSizeChanged) {\n\t\t\tconst newState = this.getStatesAndUpdateBounds(this.props, this.state.firstIndex);\n\t\t\t// eslint-disable-next-line react/no-did-update-set-state\n\t\t\tthis.setState(newState);\n\t\t\tthis.setContainerSize();\n\n\t\t\tdeferScrollTo = true;\n\t\t} else if (prevProps.rtl !== this.props.rtl) {\n\t\t\tthis.updateScrollPosition(this.getXY(this.scrollPosition, 0));\n\t\t}\n\n\t\tconst maxPos = this.isPrimaryDirectionVertical ? this.scrollBounds.maxTop : this.scrollBounds.maxLeft;\n\t\tlet currentPos = this.scrollPosition;\n\n\t\tif (this.props.scrollMode === 'native' && this.scrollToPositionTarget >= 0) {\n\t\t\tcurrentPos = this.scrollToPositionTarget;\n\t\t}\n\n\t\tif (!deferScrollTo && currentPos > maxPos) {\n\t\t\tthis.props.cbScrollTo({position: (this.isPrimaryDirectionVertical) ? {y: maxPos} : {x: maxPos}, animate: false});\n\t\t\tthis.scrollToPositionTarget = -1;\n\t\t}\n\t}\n\n\tscrollBounds = {\n\t\tclientWidth: 0,\n\t\tclientHeight: 0,\n\t\tscrollWidth: 0,\n\t\tscrollHeight: 0,\n\t\tmaxLeft: 0,\n\t\tmaxTop: 0\n\t};\n\n\tmoreInfo = {\n\t\tfirstVisibleIndex: null,\n\t\tlastVisibleIndex: null\n\t};\n\n\tprimary = null;\n\tsecondary = null;\n\n\tisPrimaryDirectionVertical = true;\n\tisItemSized = false;\n\n\tshouldUpdateBounds = false;\n\n\tdimensionToExtent = 0;\n\tthreshold = 0;\n\tmaxFirstIndex = 0;\n\tcurDataSize = 0;\n\thasDataSizeChanged = false;\n\tcc = [];\n\tscrollPosition = 0;\n\tscrollPositionTarget = 0;\n\tscrollToPositionTarget = -1;\n\n\t// For individually sized item\n\titemPositions = [];\n\tindexToScrollIntoView = -1;\n\n\tupdateScrollPosition = ({x, y}, rtl = this.props.rtl) => {\n\t\tif (this.props.scrollMode === 'native') {\n\t\t\tthis.scrollToPosition(x, y, rtl);\n\t\t} else {\n\t\t\tthis.setScrollPositionTarget (x, y);\n\t\t\tthis.setScrollPosition(x, y, rtl);\n\t\t}\n\t};\n\n\tisVertical = () => this.isPrimaryDirectionVertical;\n\n\tisHorizontal = () => !this.isPrimaryDirectionVertical;\n\n\tgetScrollBounds = () => this.scrollBounds;\n\n\tgetMoreInfo = () => this.moreInfo;\n\n\tgetGridPosition (index) {\n\t\tconst\n\t\t\t{dataSize, itemSizes} = this.props,\n\t\t\t{dimensionToExtent, itemPositions, primary, secondary} = this,\n\t\t\tsecondaryPosition = (index % dimensionToExtent) * secondary.gridSize,\n\t\t\textent = Math.floor(index / dimensionToExtent);\n\t\tlet primaryPosition;\n\n\t\tif (itemSizes && typeof itemSizes[index] !== 'undefined' && dataSize > index) {\n\t\t\tconst firstIndexInExtent = extent * dimensionToExtent;\n\n\t\t\tif (!itemPositions[firstIndexInExtent]) {\n\t\t\t\t// Cache individually sized item positions\n\t\t\t\tfor (let i = itemPositions.length; i <= index; i++) {\n\t\t\t\t\tthis.calculateAndCacheItemPosition(i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (itemPositions[firstIndexInExtent]) {\n\t\t\t\tprimaryPosition = itemPositions[firstIndexInExtent].position;\n\t\t\t} else {\n\t\t\t\tprimaryPosition = extent * primary.gridSize;\n\t\t\t}\n\t\t} else {\n\t\t\tprimaryPosition = extent * primary.gridSize;\n\t\t}\n\n\t\treturn {primaryPosition, secondaryPosition};\n\t}\n\n\t// For individually sized item\n\tgetItemBottomPosition = (index) => {\n\t\tconst\n\t\t\titemPosition = this.itemPositions[index],\n\t\t\titemSize = this.props.itemSizes[index];\n\n\t\tif (itemPosition && (itemSize || itemSize === 0)) {\n\t\t\treturn itemPosition.position + itemSize;\n\t\t} else {\n\t\t\treturn index * this.primary.gridSize - this.props.spacing;\n\t\t}\n\t};\n\n\t// For individually sized item\n\tgetItemTopPositionFromPreviousItemBottomPosition = (index, spacing) => {\n\t\treturn index === 0 ? 0 : this.getItemBottomPosition(index - 1) + spacing;\n\t};\n\n\tgetItemPosition = (index, stickTo = 'start', optionalOffset = 0) => {\n\t\tconst {isPrimaryDirectionVertical, primary, scrollBounds} = this;\n\t\tconst maxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft;\n\t\tconst position = this.getGridPosition(index);\n\t\tlet offset = 0;\n\n\t\tif (stickTo === 'start') {\n\t\t\toffset = optionalOffset;\n\t\t} else if (this.props.itemSizes) {\n\t\t\toffset = primary.clientSize - this.props.itemSizes[index] - optionalOffset;\n\t\t} else {\n\t\t\toffset = primary.clientSize - primary.itemSize - optionalOffset;\n\t\t}\n\n\t\tposition.primaryPosition = clamp(0, maxPos, position.primaryPosition - offset);\n\n\t\treturn this.gridPositionToItemPosition(position);\n\t};\n\n\tgridPositionToItemPosition = ({primaryPosition, secondaryPosition}) =>\n\t\t(this.isPrimaryDirectionVertical ? {left: secondaryPosition, top: primaryPosition} : {left: primaryPosition, top: secondaryPosition});\n\n\tgetXY = (primaryPosition, secondaryPosition) => (this.isPrimaryDirectionVertical ? {x: secondaryPosition, y: primaryPosition} : {x: primaryPosition, y: secondaryPosition});\n\n\tgetClientSize = (node) => ({\n\t\tclientWidth: node.clientWidth,\n\t\tclientHeight: node.clientHeight\n\t});\n\n\temitUpdateItems () {\n\t\tconst {dataSize} = this.props;\n\t\tconst {firstIndex, numOfItems} = this.state;\n\n\t\tforward('onUpdateItems', {\n\t\t\tfirstIndex: firstIndex,\n\t\t\tlastIndex: Math.min(firstIndex + numOfItems, dataSize)\n\t\t}, this.props);\n\t}\n\n\tcalculateMetrics (props) {\n\t\tconst\n\t\t\t{clientSize, direction, itemSize, overhang, scrollMode, spacing} = props,\n\t\t\tnode = this.props.scrollContentRef.current;\n\n\t\tif (!clientSize && !node) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst\n\t\t\t{clientWidth, clientHeight} = clientSize || this.getClientSize(node),\n\t\t\theightInfo = {\n\t\t\t\tclientSize: clientHeight,\n\t\t\t\tminItemSize: itemSize.minHeight || null,\n\t\t\t\titemSize: itemSize\n\t\t\t},\n\t\t\twidthInfo = {\n\t\t\t\tclientSize: clientWidth,\n\t\t\t\tminItemSize: itemSize.minWidth || null,\n\t\t\t\titemSize: itemSize\n\t\t\t};\n\t\tlet primary, secondary, dimensionToExtent, thresholdBase;\n\n\t\tthis.isPrimaryDirectionVertical = (direction === 'vertical');\n\n\t\tif (this.isPrimaryDirectionVertical) {\n\t\t\tprimary = heightInfo;\n\t\t\tsecondary = widthInfo;\n\t\t} else {\n\t\t\tprimary = widthInfo;\n\t\t\tsecondary = heightInfo;\n\t\t}\n\t\tdimensionToExtent = 1;\n\n\t\tthis.isItemSized = (primary.minItemSize && secondary.minItemSize);\n\n\t\tif (this.isItemSized) {\n\t\t\t// the number of columns is the ratio of the available width plus the spacing\n\t\t\t// by the minimum item width plus the spacing\n\t\t\tdimensionToExtent = Math.max(Math.floor((secondary.clientSize + spacing) / (secondary.minItemSize + spacing)), 1);\n\t\t\t// the actual item width is a ratio of the remaining width after all columns\n\t\t\t// and spacing are accounted for and the number of columns that we know we should have\n\t\t\tsecondary.itemSize = Math.floor((secondary.clientSize - (spacing * (dimensionToExtent - 1))) / dimensionToExtent);\n\t\t\t// the actual item height is related to the item width\n\t\t\tprimary.itemSize = Math.floor(primary.minItemSize * (secondary.itemSize / secondary.minItemSize));\n\t\t}\n\n\t\tprimary.gridSize = primary.itemSize + spacing;\n\t\tsecondary.gridSize = secondary.itemSize + spacing;\n\t\tthresholdBase = primary.gridSize * Math.ceil(overhang / 2);\n\n\t\tthis.threshold = {min: -Infinity, max: thresholdBase, base: thresholdBase};\n\t\tthis.dimensionToExtent = dimensionToExtent;\n\n\t\tthis.primary = primary;\n\t\tthis.secondary = secondary;\n\n\t\t// reset\n\t\tthis.scrollPosition = 0;\n\t\tthis.scrollToPositionTarget = -1;\n\t\tif (scrollMode === 'translate' && this.contentRef.current) {\n\t\t\tthis.contentRef.current.style.transform = null;\n\t\t} else if (scrollMode === 'native' && node) {\n\t\t\tnode.style.scrollBehavior = null;\n\t\t\tthis.updateScrollPosition(this.getXY(this.scrollPosition, 0));\n\t\t\tnode.style.scrollBehavior = 'smooth';\n\t\t}\n\t}\n\n\tgetStatesAndUpdateBounds = (props, firstIndex = 0) => {\n\t\tconst\n\t\t\t{dataSize, overhang, updateStatesAndBounds} = props,\n\t\t\t{dimensionToExtent, primary, moreInfo, scrollPosition} = this,\n\t\t\tnumOfItems = Math.min(dataSize, dimensionToExtent * (Math.ceil(primary.clientSize / primary.gridSize) + overhang)),\n\t\t\twasFirstIndexMax = ((this.maxFirstIndex < moreInfo.firstVisibleIndex - dimensionToExtent) && (firstIndex === this.maxFirstIndex)),\n\t\t\tdataSizeDiff = dataSize - this.curDataSize;\n\t\tlet newFirstIndex = firstIndex;\n\n\t\t// When calling setState() except in didScroll(), `shouldUpdateBounds` should be `true`\n\t\t// so that setState() in didScroll() could be called to override state.\n\t\t// Before calling setState() except in didScroll(), getStatesAndUpdateBounds() is always called.\n\t\t// So `shouldUpdateBounds` is true here.\n\t\tthis.shouldUpdateBounds = true;\n\n\t\tthis.maxFirstIndex = Math.ceil((dataSize - numOfItems) / dimensionToExtent) * dimensionToExtent;\n\t\tthis.curDataSize = dataSize;\n\n\t\t// reset children\n\t\tthis.cc = [];\n\t\tthis.itemPositions = []; // For individually sized item\n\t\tthis.calculateScrollBounds(props);\n\t\tthis.updateMoreInfo(dataSize, scrollPosition);\n\n\t\tif (!(updateStatesAndBounds && updateStatesAndBounds({\n\t\t\tcbScrollTo: props.cbScrollTo,\n\t\t\tnumOfItems,\n\t\t\tdataSize,\n\t\t\tmoreInfo\n\t\t}))) {\n\t\t\tnewFirstIndex = this.calculateFirstIndex(props, wasFirstIndexMax, dataSizeDiff, firstIndex);\n\t\t}\n\n\t\treturn {\n\t\t\tfirstIndex: Math.min(newFirstIndex, this.maxFirstIndex),\n\t\t\tnumOfItems: numOfItems\n\t\t};\n\t};\n\n\tcalculateFirstIndex (props, wasFirstIndexMax, dataSizeDiff, firstIndex) {\n\t\tconst\n\t\t\t{overhang} = props,\n\t\t\t{dimensionToExtent, isPrimaryDirectionVertical, maxFirstIndex, primary, scrollBounds, scrollPosition, threshold} = this,\n\t\t\t{gridSize} = primary;\n\t\tlet newFirstIndex = firstIndex;\n\n\t\tif (wasFirstIndexMax && dataSizeDiff > 0) { // If dataSize increased from bottom, we need adjust firstIndex\n\t\t\t// If this is a gridlist and dataSizeDiff is smaller than 1 line, we are adjusting firstIndex without threshold change.\n\t\t\tif (dimensionToExtent > 1 && dataSizeDiff < dimensionToExtent) {\n\t\t\t\tnewFirstIndex = maxFirstIndex;\n\t\t\t} else { // For other bottom adding case, we need to update firstIndex and threshold.\n\t\t\t\tconst\n\t\t\t\t\tmaxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft,\n\t\t\t\t\tmaxOfMin = maxPos - threshold.base,\n\t\t\t\t\tnumOfUpperLine = Math.floor(overhang / 2),\n\t\t\t\t\tfirstIndexFromPosition = Math.floor(scrollPosition / gridSize),\n\t\t\t\t\texpectedFirstIndex = Math.max(0, firstIndexFromPosition - numOfUpperLine);\n\n\t\t\t\t// To navigate with 5way, we need to adjust firstIndex to the next line\n\t\t\t\t// since at the bottom we have num of overhang lines for upper side but none for bottom side\n\t\t\t\t// So we add numOfUpperLine at the top and rest lines at the bottom\n\t\t\t\tnewFirstIndex = Math.min(maxFirstIndex, expectedFirstIndex * dimensionToExtent);\n\n\t\t\t\t// We need to update threshold also since we moved the firstIndex\n\t\t\t\tthreshold.max = Math.min(maxPos, threshold.max + gridSize);\n\t\t\t\tthreshold.min = Math.min(maxOfMin, threshold.max - gridSize);\n\t\t\t}\n\t\t} else { // Other cases, we can keep the min value between firstIndex and maxFirstIndex. No need to change threshold\n\t\t\tnewFirstIndex = Math.min(firstIndex, maxFirstIndex);\n\t\t}\n\n\t\treturn newFirstIndex;\n\t}\n\n\tcalculateScrollBounds (props) {\n\t\tconst\n\t\t\t{clientSize} = props,\n\t\t\tnode = this.props.scrollContentRef.current;\n\n\t\tif (!clientSize && !node) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst\n\t\t\t{scrollBounds, isPrimaryDirectionVertical} = this,\n\t\t\t{clientWidth, clientHeight} = clientSize || this.getClientSize(node);\n\t\tlet maxPos;\n\n\t\tscrollBounds.clientWidth = clientWidth;\n\t\tscrollBounds.clientHeight = clientHeight;\n\t\tscrollBounds.scrollWidth = this.getScrollWidth();\n\t\tscrollBounds.scrollHeight = this.getScrollHeight();\n\t\tscrollBounds.maxLeft = Math.max(0, scrollBounds.scrollWidth - clientWidth);\n\t\tscrollBounds.maxTop = Math.max(0, scrollBounds.scrollHeight - clientHeight);\n\n\t\t// correct position\n\t\tmaxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft;\n\n\t\tthis.syncThreshold(maxPos);\n\t}\n\n\tsetContainerSize = () => {\n\t\tif (this.contentRef.current) {\n\t\t\tthis.contentRef.current.style.width = this.scrollBounds.scrollWidth + (this.isPrimaryDirectionVertical ? -1 : 0) + 'px';\n\t\t\tthis.contentRef.current.style.height = this.scrollBounds.scrollHeight + (this.isPrimaryDirectionVertical ? 0 : -1) + 'px';\n\t\t}\n\t};\n\n\tupdateMoreInfo (dataSize, primaryPosition) {\n\t\tconst\n\t\t\t{dimensionToExtent, moreInfo} = this,\n\t\t\t{itemSize, gridSize, clientSize} = this.primary;\n\n\t\tif (dataSize <= 0) {\n\t\t\tmoreInfo.firstVisibleIndex = null;\n\t\t\tmoreInfo.lastVisibleIndex = null;\n\t\t} else if (this.props.itemSizes) {\n\t\t\tconst {firstIndex, numOfItems} = this.state;\n\t\t\tconst {isPrimaryDirectionVertical, scrollBounds: {clientWidth, clientHeight}, scrollPosition} = this;\n\t\t\tconst size = isPrimaryDirectionVertical ? clientHeight : clientWidth;\n\n\t\t\tlet firstVisibleIndex = null, lastVisibleIndex = null;\n\n\t\t\tfor (let i = firstIndex; i < firstIndex +  numOfItems; i++) {\n\t\t\t\tif (scrollPosition <= this.getItemBottomPosition(i)) {\n\t\t\t\t\tfirstVisibleIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (let i = firstIndex + numOfItems - 1; i >= firstIndex; i--) {\n\t\t\t\tif (scrollPosition + size >= this.getItemBottomPosition(i) - this.props.itemSizes[i]) {\n\t\t\t\t\tlastVisibleIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (firstVisibleIndex > lastVisibleIndex) {\n\t\t\t\tfirstVisibleIndex = null;\n\t\t\t\tlastVisibleIndex = null;\n\t\t\t}\n\n\t\t\tmoreInfo.firstVisibleIndex = firstVisibleIndex;\n\t\t\tmoreInfo.lastVisibleIndex = lastVisibleIndex;\n\t\t} else {\n\t\t\tmoreInfo.firstVisibleIndex = (Math.floor((primaryPosition - itemSize) / gridSize) + 1) * dimensionToExtent;\n\t\t\tmoreInfo.lastVisibleIndex = Math.min(dataSize - 1, Math.ceil((primaryPosition + clientSize) / gridSize) * dimensionToExtent - 1);\n\t\t}\n\t}\n\n\tsyncThreshold (maxPos) {\n\t\tconst {threshold} = this;\n\n\t\tif (threshold.max > maxPos) {\n\t\t\tif (maxPos < threshold.base) {\n\t\t\t\tthreshold.max = threshold.base;\n\t\t\t\tthreshold.min = -Infinity;\n\t\t\t} else {\n\t\t\t\tthreshold.max = maxPos;\n\t\t\t\tthreshold.min = maxPos - threshold.base;\n\t\t\t}\n\t\t}\n\t}\n\n\t// scrollMode 'native' only\n\tscrollToPosition (x, y, rtl = this.props.rtl) {\n\t\tif (this.props.scrollContentRef.current && this.props.scrollContentRef.current.scrollTo) {\n\t\t\tif (rtl) {\n\t\t\t\tx = (platform.ios || platform.safari) ? -x : this.scrollBounds.maxLeft - x;\n\t\t\t}\n\n\t\t\tthis.props.scrollContentRef.current.scrollTo(x, y);\n\t\t}\n\t}\n\n\t// scrollMode 'native' only\n\tsetScrollToPositionTarget (x, y) {\n\t\tif (this.isPrimaryDirectionVertical) {\n\t\t\tthis.scrollToPositionTarget = y;\n\t\t} else {\n\t\t\tthis.scrollToPositionTarget = x;\n\t\t}\n\t}\n\n\t// scrollMode 'translate' only\n\tsetScrollPositionTarget (x, y) {\n\t\t// The `x`, `y` as parameters in scrollToPosition() are the position when stopping scrolling.\n\t\t// But the `x`, `y` as parameters in setScrollPosition() are the position between current position and the position stopping scrolling.\n\t\t// To know the position when stopping scrolling properly, `x` and `y` are passed and cached in `this.scrollPositionTarget`.\n\t\tif (this.isPrimaryDirectionVertical) {\n\t\t\tthis.scrollPositionTarget = y;\n\t\t} else {\n\t\t\tthis.scrollPositionTarget = x;\n\t\t}\n\t}\n\n\t// scrollMode 'translate' only\n\tsetScrollPosition (x, y, rtl = this.props.rtl) {\n\t\tif (this.contentRef.current) {\n\t\t\tthis.contentRef.current.style.transform = `translate3d(${rtl ? x : -x}px, -${y}px, 0)`;\n\t\t\tthis.didScroll(x, y);\n\t\t}\n\t}\n\n\tdidScroll (x, y) {\n\t\tconst\n\t\t\t{dataSize, spacing, itemSizes} = this.props,\n\t\t\t{firstIndex} = this.state,\n\t\t\t{isPrimaryDirectionVertical, threshold, dimensionToExtent, maxFirstIndex, scrollBounds, itemPositions} = this,\n\t\t\t{clientSize, gridSize} = this.primary,\n\t\t\tmaxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft;\n\t\tlet newFirstIndex = firstIndex, index, pos, size, itemPosition;\n\n\t\tif (isPrimaryDirectionVertical) {\n\t\t\tpos = y;\n\t\t} else {\n\t\t\tpos = x;\n\t\t}\n\n\t\tif (pos > threshold.max || pos < threshold.min) {\n\t\t\tlet newThresholdMin = -Infinity, newThresholdMax = Infinity;\n\n\t\t\tif (this.props.itemSizes) {\n\t\t\t\tconst overhangBefore = Math.floor(this.props.overhang / 2);\n\t\t\t\tlet firstRenderedIndex = -1;\n\n\t\t\t\t// find an item which is known as placed the first rendered item's position\n\t\t\t\tfor (index = 0; index < dataSize; index += dimensionToExtent) {\n\t\t\t\t\titemPosition = itemPositions[index];\n\t\t\t\t\tsize = itemSizes[index];\n\t\t\t\t\tif (itemPosition && size && itemPosition.position + size >= pos && itemPosition.position <= pos + clientSize) {\n\t\t\t\t\t\tfirstRenderedIndex = index;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// found an item which is visible within a current viewport\n\t\t\t\tif (index < dataSize) {\n\t\t\t\t\tif (itemPosition.position <= pos) {\n\t\t\t\t\t\tnewFirstIndex = firstRenderedIndex - overhangBefore * dimensionToExtent;\n\t\t\t\t\t\tnewThresholdMin = itemPosition.position;\n\t\t\t\t\t\tnewThresholdMax = newThresholdMin + size + spacing;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst diffToFirstIndex = Math.ceil((itemPosition.position - pos) / gridSize);\n\t\t\t\t\t\tnewFirstIndex = firstRenderedIndex - (diffToFirstIndex + overhangBefore) * dimensionToExtent;\n\t\t\t\t\t\tnewThresholdMin = itemPosition.position - diffToFirstIndex * gridSize;\n\t\t\t\t\t\tnewThresholdMax = newThresholdMin + gridSize;\n\t\t\t\t\t}\n\t\t\t\t} else { // calculate the first index based on assuming that all items have minimal size\n\t\t\t\t\tconst firstExtent = Math.max(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\tMath.floor(maxFirstIndex / dimensionToExtent),\n\t\t\t\t\t\t\tMath.floor((pos - gridSize * overhangBefore) / gridSize)\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\n\t\t\t\t\tnewFirstIndex = firstExtent * dimensionToExtent;\n\t\t\t\t\tnewThresholdMin = (firstExtent + overhangBefore) * gridSize;\n\t\t\t\t\tnewThresholdMax = newThresholdMin + gridSize;\n\t\t\t\t}\n\n\t\t\t\tnewFirstIndex = Math.max(0, Math.min(maxFirstIndex, newFirstIndex));\n\t\t\t} else {\n\t\t\t\tconst\n\t\t\t\t\toverhangBefore = Math.floor(this.props.overhang / 2),\n\t\t\t\t\tfirstExtent = Math.max(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\tMath.floor(maxFirstIndex / dimensionToExtent),\n\t\t\t\t\t\t\tMath.floor((pos - gridSize * overhangBefore) / gridSize)\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\n\t\t\t\tnewFirstIndex = firstExtent * dimensionToExtent;\n\t\t\t\tnewThresholdMin = (firstExtent + overhangBefore) * gridSize;\n\t\t\t\tnewThresholdMax = newThresholdMin + gridSize;\n\t\t\t}\n\n\t\t\tthreshold.min = newFirstIndex === 0 ? -Infinity : newThresholdMin;\n\t\t\tthreshold.max = newFirstIndex === maxFirstIndex ? Infinity : newThresholdMax;\n\t\t}\n\n\t\tthis.syncThreshold(maxPos);\n\t\tthis.scrollPosition = pos;\n\t\tthis.updateMoreInfo(dataSize, pos);\n\n\t\tif (this.shouldUpdateBounds || firstIndex !== newFirstIndex) {\n\t\t\tthis.setState({firstIndex: newFirstIndex});\n\t\t}\n\t}\n\n\t// For individually sized item\n\tcalculateAndCacheItemPosition (index) {\n\t\tconst {itemSizes} = this.props;\n\n\t\tif (!this.itemPositions[index] && itemSizes[index]) {\n\t\t\tconst\n\t\t\t\t{spacing} = this.props,\n\t\t\t\tposition = this.getItemTopPositionFromPreviousItemBottomPosition(index, spacing);\n\n\t\t\tthis.itemPositions[index] = {position};\n\t\t}\n\t}\n\n\t// For individually sized item\n\tapplyItemPositionToDOMElement (index) {\n\t\tconst\n\t\t\t{direction, rtl} = this.props,\n\t\t\t{numOfItems} = this.state,\n\t\t\t{itemPositions} = this,\n\t\t\tchildNode = this.itemContainerRefs[index % numOfItems];\n\n\t\tif (childNode && itemPositions[index]) {\n\t\t\tconst position = itemPositions[index].position;\n\t\t\tif (direction === 'vertical') {\n\t\t\t\tchildNode.style.transform = `translate3d(0, ${position}px, 0)`;\n\t\t\t} else {\n\t\t\t\tchildNode.style.transform = `translate3d(${position * (rtl ? -1 : 1)}px, 0, 0)`;\n\t\t\t}\n\t\t}\n\t}\n\n\t// For individually sized item\n\tupdateThresholdWithItemPosition () {\n\t\tconst\n\t\t\t{overhang} = this.props,\n\t\t\t{firstIndex} = this.state,\n\t\t\t{maxFirstIndex} = this,\n\t\t\tnumOfUpperLine = Math.floor(overhang / 2);\n\n\t\tthis.threshold.min = firstIndex === 0 ? -Infinity : this.getItemBottomPosition(firstIndex + numOfUpperLine);\n\t\tthis.threshold.max = firstIndex === maxFirstIndex ? Infinity : this.getItemBottomPosition(firstIndex + (numOfUpperLine + 1));\n\t}\n\n\t// For individually sized item\n\tupdateScrollBoundsWithItemPositions () {\n\t\tconst\n\t\t\t{dataSize, itemSizes, spacing} = this.props,\n\t\t\t{firstIndex, numOfItems} = this.state,\n\t\t\t{isPrimaryDirectionVertical, itemPositions} = this,\n\t\t\tscrollBoundsDimension = isPrimaryDirectionVertical ? 'scrollHeight' : 'scrollWidth';\n\n\t\tif (itemPositions.length === dataSize) { // all item sizes are known\n\t\t\tthis.scrollBounds[scrollBoundsDimension] =\n\t\t\t\titemSizes.reduce((acc, cur) => acc + cur, 0) + (dataSize - 1) * spacing;\n\t\t} else {\n\t\t\tfor (let index = firstIndex + numOfItems - 1; index < dataSize; index++) {\n\t\t\t\tconst nextInfo = itemPositions[index + 1];\n\t\t\t\tif (!nextInfo) {\n\t\t\t\t\tconst endPosition = this.getItemBottomPosition(index);\n\t\t\t\t\tif (endPosition > this.scrollBounds[scrollBoundsDimension]) {\n\t\t\t\t\t\tthis.scrollBounds[scrollBoundsDimension] = endPosition;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.scrollBounds.maxTop = Math.max(0, this.scrollBounds.scrollHeight - this.scrollBounds.clientHeight);\n\t}\n\n\t// For individually sized item\n\tadjustItemPositionWithItemSize () {\n\t\tif (this.cc.length) {\n\t\t\tconst\n\t\t\t\t{dataSize} = this.props,\n\t\t\t\t{firstIndex, numOfItems} = this.state,\n\t\t\t\tlastIndex = firstIndex + numOfItems - 1;\n\n\t\t\t// Cache individually sized item positions\n\t\t\t// and adjust item DOM element positions\n\t\t\tfor (let index = firstIndex; index <= lastIndex; index++) {\n\t\t\t\tthis.calculateAndCacheItemPosition(index);\n\t\t\t\tthis.applyItemPositionToDOMElement(index);\n\t\t\t}\n\n\t\t\t// Update threshold based on this.itemPositions\n\t\t\tthis.updateThresholdWithItemPosition();\n\n\t\t\t// Update scroll bounds based on this.itemPositions\n\t\t\tthis.updateScrollBoundsWithItemPositions();\n\n\t\t\t// Set container size based on this.scrollbounds\n\t\t\tthis.setContainerSize();\n\n\t\t\t// Update moreInfo based on this.itemPositions\n\t\t\tthis.updateMoreInfo(dataSize, this.scrollPosition);\n\t\t}\n\t}\n\n\tcomposeStyle (width, height, primaryPosition, secondaryPosition) {\n\t\tconst\n\t\t\t{x, y} = this.getXY(primaryPosition, secondaryPosition),\n\t\t\tstyle = {\n\t\t\t\t/* FIXME: RTL / this calculation only works for Chrome */\n\t\t\t\ttransform: `translate3d(${this.props.rtl ? -x : x}px, ${y}px, 0)`\n\t\t\t};\n\n\t\tif (this.isItemSized) {\n\t\t\tstyle.width = width;\n\t\t\tstyle.height = height;\n\t\t}\n\n\t\treturn style;\n\t}\n\n\tapplyStyleToNewNode = (index, ...rest) => {\n\t\tconst\n\t\t\t{childProps, itemRefs, itemRenderer, getComponentProps} = this.props,\n\t\t\tkey = index % this.state.numOfItems,\n\t\t\tcomponentProps = getComponentProps && getComponentProps(index) || {},\n\t\t\titemContainerRef = (ref) => {\n\t\t\t\tif (ref === null) {\n\t\t\t\t\titemRefs.current[key] = ref;\n\t\t\t\t} else {\n\t\t\t\t\tconst itemNode = ref.children[0];\n\n\t\t\t\t\titemRefs.current[key] = (parseInt(itemNode.dataset.index) === index) ?\n\t\t\t\t\t\titemNode :\n\t\t\t\t\t\tref.querySelector(`[data-index=\"${index}\"]`);\n\n\t\t\t\t\tthis.itemContainerRefs[key] = ref;\n\t\t\t\t}\n\t\t\t};\n\n\t\tthis.cc[key] = (\n\t\t\t<div className={css.listItem} key={key} ref={itemContainerRef} style={this.composeStyle(...rest)}>\n\t\t\t\t{itemRenderer({...childProps, ...componentProps, index})}\n\t\t\t</div>\n\t\t);\n\t};\n\n\tapplyStyleToHideNode = (index) => {\n\t\tconst\n\t\t\t{itemRefs} = this.props,\n\t\t\tkey = index % this.state.numOfItems,\n\t\t\titemContainerRef = () => (itemRefs.current[key] = null);\n\n\t\tthis.cc[key] = <div key={key} ref={itemContainerRef} style={{display: 'none'}} />;\n\t};\n\n\tpositionItems () {\n\t\tconst\n\t\t\t{dataSize, itemSizes} = this.props,\n\t\t\t{firstIndex, numOfItems} = this.state,\n\t\t\t{cc, isPrimaryDirectionVertical, dimensionToExtent, primary, secondary, itemPositions} = this;\n\t\tlet\n\t\t\thideTo = 0,\n\t\t\tupdateFrom = cc.length ? this.state.updateFrom : firstIndex,\n\t\t\tupdateTo = cc.length ? this.state.updateTo : firstIndex + numOfItems;\n\n\t\tif (updateFrom >= updateTo) {\n\t\t\treturn;\n\t\t} else if (updateTo > dataSize) {\n\t\t\thideTo = updateTo;\n\t\t\tupdateTo = dataSize;\n\t\t}\n\n\t\tlet\n\t\t\twidth, height,\n\t\t\t{primaryPosition, secondaryPosition} = this.getGridPosition(updateFrom);\n\n\t\twidth = (isPrimaryDirectionVertical ? secondary.itemSize : primary.itemSize) + 'px';\n\t\theight = (isPrimaryDirectionVertical ? primary.itemSize : secondary.itemSize) + 'px';\n\n\t\t// positioning items\n\t\tfor (let i = updateFrom, j = updateFrom % dimensionToExtent; i < updateTo; i++) {\n\t\t\tthis.applyStyleToNewNode(i, width, height, primaryPosition, secondaryPosition);\n\n\t\t\tif (++j === dimensionToExtent) {\n\t\t\t\tsecondaryPosition = 0;\n\n\t\t\t\tif (this.props.itemSizes) {\n\t\t\t\t\tif (itemPositions[i + 1] || itemPositions[i + 1] === 0) {\n\t\t\t\t\t\tprimaryPosition = itemPositions[i + 1].position;\n\t\t\t\t\t} else if (itemSizes[i]) {\n\t\t\t\t\t\tprimaryPosition += itemSizes[i] + this.props.spacing;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprimaryPosition += primary.gridSize;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tprimaryPosition += primary.gridSize;\n\t\t\t\t}\n\n\t\t\t\tj = 0;\n\t\t\t} else {\n\t\t\t\tsecondaryPosition += secondary.gridSize;\n\t\t\t}\n\t\t}\n\n\t\tfor (let i = updateTo; i < hideTo; i++) {\n\t\t\tthis.applyStyleToHideNode(i);\n\t\t}\n\t}\n\n\tgetScrollHeight = () => (this.isPrimaryDirectionVertical ? this.getVirtualScrollDimension() + this.props.getAffordance() : this.scrollBounds.clientHeight);\n\n\tgetScrollWidth = () => (this.isPrimaryDirectionVertical ? this.scrollBounds.clientWidth : this.getVirtualScrollDimension());\n\n\tgetVirtualScrollDimension = () => {\n\t\tif (this.props.itemSizes) {\n\t\t\treturn this.props.itemSizes.reduce((total, size, index) => (total + size + (index > 0 ? this.props.spacing : 0)), 0);\n\t\t} else {\n\t\t\tconst\n\t\t\t\t{dimensionToExtent, primary, curDataSize} = this,\n\t\t\t\t{spacing} = this.props;\n\n\t\t\treturn (Math.ceil(curDataSize / dimensionToExtent) * primary.gridSize) - spacing;\n\t\t}\n\t};\n\n\tsyncClientSize = () => {\n\t\tconst\n\t\t\t{props} = this,\n\t\t\tnode = this.props.scrollContentRef.current;\n\n\t\tif (!props.clientSize && !node) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst\n\t\t\t{clientWidth, clientHeight} = props.clientSize || this.getClientSize(node),\n\t\t\t{scrollBounds} = this;\n\n\t\tif (clientWidth !== scrollBounds.clientWidth || clientHeight !== scrollBounds.clientHeight) {\n\t\t\tthis.calculateMetrics(props);\n\t\t\tthis.setState(this.getStatesAndUpdateBounds(props));\n\t\t\tthis.setContainerSize();\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\t// render\n\n\trender () {\n\t\tconst\n\t\t\t{className, 'data-webos-voice-focused': voiceFocused, 'data-webos-voice-group-label': voiceGroupLabel, 'data-webos-voice-disabled': voiceDisabled, placeholderRenderer, role, style, scrollMode, ...rest} = this.props,\n\t\t\t{cc, isPrimaryDirectionVertical, primary} = this,\n\t\t\tscrollModeNative = scrollMode === 'native',\n\t\t\tcontainerClasses = classNames(\n\t\t\t\tcss.virtualList,\n\t\t\t\tisPrimaryDirectionVertical ? css.vertical : css.horizontal,\n\t\t\t\t{[css.native]: scrollModeNative},\n\t\t\t\tclassName\n\t\t\t),\n\t\t\tcontentClasses = scrollModeNative ? null : css.content;\n\n\t\tdelete rest.cbScrollTo;\n\t\tdelete rest.childProps;\n\t\tdelete rest.clientSize;\n\t\tdelete rest.dataSize;\n\t\tdelete rest.direction;\n\t\tdelete rest.getAffordance;\n\t\tdelete rest.getComponentProps;\n\t\tdelete rest.isHorizontalScrollbarVisible;\n\t\tdelete rest.isVerticalScrollbarVisible;\n\t\tdelete rest.itemRefs;\n\t\tdelete rest.itemRenderer;\n\t\tdelete rest.itemSize;\n\t\tdelete rest.itemSizes;\n\t\tdelete rest.onUpdate;\n\t\tdelete rest.onUpdateItems;\n\t\tdelete rest.overhang;\n\t\tdelete rest.pageScroll;\n\t\tdelete rest.rtl;\n\t\tdelete rest.scrollContainerContainsDangerously;\n\t\tdelete rest.scrollContentRef;\n\t\tdelete rest.scrollMode;\n\t\tdelete rest.setThemeScrollContentHandle;\n\t\tdelete rest.spacing;\n\t\tdelete rest.updateStatesAndBounds;\n\n\t\tif (primary) {\n\t\t\tthis.positionItems();\n\t\t}\n\n\t\treturn (\n\t\t\t<div className={containerClasses} data-webos-voice-focused={voiceFocused} data-webos-voice-group-label={voiceGroupLabel} data-webos-voice-disabled={voiceDisabled} ref={this.props.scrollContentRef} style={style}>\n\t\t\t\t<div {...rest} className={contentClasses} ref={this.contentRef} role={role}>\n\t\t\t\t\t{[...cc, placeholderRenderer && placeholderRenderer(primary)]}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default VirtualListBasic;\nexport {\n\tgridListItemSizeShape,\n\titemSizesShape,\n\tVirtualListBasic\n};\n","/**\n * Unstyled virtual list components and behaviors to be customized by a theme or application.\n *\n * @module ui/VirtualList\n * @exports gridListImageSizeShape\n * @exports itemSizesShape\n * @exports VirtualGridList\n * @exports VirtualList\n * @exports VirtualListBase\n * @exports VirtualListBasic\n */\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {ResizeContext} from '../Resizable';\nimport useScroll from '../useScroll';\nimport Scrollbar from '../useScroll/Scrollbar';\n\nimport {UiVirtualListBase, UiVirtualListBaseNative} from './UiVirtualListBase';\nimport {gridListItemSizeShape, itemSizesShape, VirtualListBasic} from './VirtualListBasic';\n\nconst nop = () => {};\n\n/**\n * An unstyled scrollable virtual list component with touch support.\n *\n * @class VirtualList\n * @memberof ui/VirtualList\n * @extends ui/VirtualList.VirtualListBasic\n * @ui\n * @public\n */\nconst VirtualList = (props) => {\n\t// Hooks\n\n\tconst {\n\t\tscrollContentHandle,\n\t\tscrollContentWrapper: ScrollContentWrapper,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible,\n\n\t\tresizeContextProps,\n\t\tscrollContainerProps,\n\t\tscrollInnerContainerProps,\n\t\tscrollContentWrapperProps,\n\t\tscrollContentProps,\n\t\tverticalScrollbarProps,\n\t\thorizontalScrollbarProps\n\t} = useScroll(props);\n\n\t// Render\n\n\treturn (\n\t\t<ResizeContext.Provider {...resizeContextProps}>\n\t\t\t<div {...scrollContainerProps}>\n\t\t\t\t<div {...scrollInnerContainerProps}>\n\t\t\t\t\t<ScrollContentWrapper {...scrollContentWrapperProps}>\n\t\t\t\t\t\t<VirtualListBasic\n\t\t\t\t\t\t\t{...scrollContentProps}\n\t\t\t\t\t\t\tref={scrollContentHandle}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ScrollContentWrapper>\n\t\t\t\t\t{isVerticalScrollbarVisible ? <Scrollbar {...verticalScrollbarProps} /> : null}\n\t\t\t\t</div>\n\t\t\t\t{isHorizontalScrollbarVisible ? <Scrollbar {...horizontalScrollbarProps} /> : null}\n\t\t\t</div>\n\t\t</ResizeContext.Provider>\n\t);\n};\n\nVirtualList.displayName = 'ui:VirtualList';\n\nVirtualList.propTypes = /** @lends ui/VirtualList.VirtualList.prototype */ {\n\t/**\n\t * A callback function that receives a reference to the `scrollTo` feature.\n\t *\n\t * Once received, the `scrollTo` method can be called as an imperative interface.\n\t *\n\t * The `scrollTo` function accepts the following parameters:\n\t * - {position: {x, y}} - Pixel value for x and/or y position\n\t * - {align} - Where the scroll area should be aligned. Values are:\n\t *   `'left'`, `'right'`, `'top'`, `'bottom'`,\n\t *   `'topleft'`, `'topright'`, `'bottomleft'`, and `'bottomright'`.\n\t * - {index} - Index of specific item. (`0` or positive integer)\n\t *   This option is available for only `VirtualList` kind.\n\t * - {node} - Node to scroll into view\n\t * - {animate} - When `true`, scroll occurs with animation. When `false`, no\n\t *   animation occurs.\n\t * - {focus} - When `true`, attempts to focus item after scroll. Only valid when scrolling\n\t *   by `index` or `node`.\n\t * > Note: Only specify one of: `position`, `align`, `index` or `node`\n\t *\n\t * Example:\n\t * ```\n\t *\t// If you set cbScrollTo prop like below;\n\t *\tcbScrollTo: (fn) => {this.scrollTo = fn;}\n\t *\t// You can simply call like below;\n\t *\tthis.scrollTo({align: 'top'}); // scroll to the top\n\t * ```\n\t *\n\t * @type {Function}\n\t * @public\n\t */\n\tcbScrollTo: PropTypes.func,\n\n\t/**\n\t * The layout direction of the list.\n\t *\n\t * Valid values are:\n\t * * `'horizontal'`, and\n\t * * `'vertical'`.\n\t *\n\t * @type {String}\n\t * @default 'vertical'\n\t * @public\n\t */\n\tdirection: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t/**\n\t * Specifies how to show horizontal scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {String}\n\t * @default 'auto'\n\t * @public\n\t */\n\thorizontalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n\n\t/**\n\t * Prevents scroll by dragging or flicking on the list.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\tnoScrollByDrag: PropTypes.bool,\n\n\t/**\n\t * Prevents scroll by wheeling on the list.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tnoScrollByWheel: PropTypes.bool,\n\n\t/**\n\t * Called when scrolling.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * It is not recommended to set this prop since it can cause performance degradation.\n\t * Use `onScrollStart` or `onScrollStop` instead.\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScroll: PropTypes.func,\n\n\t/**\n\t * Called when scroll starts.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * You can get firstVisibleIndex and lastVisibleIndex from VirtualList with `moreInfo`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStart = ({scrollLeft, scrollTop, moreInfo}) => {\n\t *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n\t *     // do something with firstVisibleIndex and lastVisibleIndex\n\t * }\n\t *\n\t * render = () => (\n\t *     <VirtualList\n\t *         ...\n\t *         onScrollStart={this.onScrollStart}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScrollStart: PropTypes.func,\n\n\t/**\n\t * Called when scroll stops.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * You can get firstVisibleIndex and lastVisibleIndex from VirtualList with `moreInfo`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStop = ({scrollLeft, scrollTop, moreInfo}) => {\n\t *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n\t *     // do something with firstVisibleIndex and lastVisibleIndex\n\t * }\n\t *\n\t * render = () => (\n\t *     <VirtualList\n\t *         ...\n\t *         onScrollStop={this.onScrollStop}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScrollStop: PropTypes.func,\n\n\t/**\n\t * Specifies overscroll effects shows on which type of inputs.\n\t *\n\t * @type {Object}\n\t * @default {drag: false, pageKey: false, wheel: false}\n\t * @private\n\t */\n\toverscrollEffectOn: PropTypes.shape({\n\t\tdrag: PropTypes.bool,\n\t\tpageKey: PropTypes.bool,\n\t\twheel: PropTypes.bool\n\t}),\n\n\t/**\n\t * The ARIA role for the list.\n\t *\n\t * @type {String}\n\t * @default 'list'\n\t * @public\n\t */\n\trole: PropTypes.string,\n\n\t/**\n\t * Specifies how to scroll.\n\t *\n\t * Valid values are:\n\t * * `'translate'`,\n\t * * `'native'`.\n\t *\n\t * @type {String}\n\t * @default 'translate'\n\t * @public\n\t */\n\tscrollMode: PropTypes.string,\n\n\t/**\n\t * Specifies how to show vertical scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {String}\n\t * @default 'auto'\n\t * @public\n\t */\n\tverticalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden'])\n};\n\nVirtualList.defaultProps = {\n\tcbScrollTo: nop,\n\tdirection: 'vertical',\n\thorizontalScrollbar: 'auto',\n\tnoScrollByDrag: false,\n\tnoScrollByWheel: false,\n\tonScroll: nop,\n\tonScrollStart: nop,\n\tonScrollStop: nop,\n\toverscrollEffectOn: {\n\t\tdrag: false,\n\t\tpageKey: false,\n\t\twheel: false\n\t},\n\trole: 'list',\n\tscrollMode: 'translate',\n\tverticalScrollbar: 'auto'\n};\n\n/**\n * An unstyled scrollable virtual grid list component with touch support.\n *\n * @class VirtualGridList\n * @memberof ui/VirtualList\n * @extends ui/VirtualList.VirtualListBasic\n * @ui\n * @public\n */\nconst VirtualGridList = (props) => {\n\tconst {\n\t\tscrollContentHandle,\n\t\tscrollContentWrapper: ScrollContentWrapper,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible,\n\n\t\tresizeContextProps,\n\t\tscrollContainerProps,\n\t\tscrollInnerContainerProps,\n\t\tscrollContentWrapperProps,\n\t\tscrollContentProps,\n\t\tverticalScrollbarProps,\n\t\thorizontalScrollbarProps\n\t} = useScroll(props);\n\n\treturn (\n\t\t<ResizeContext.Provider {...resizeContextProps}>\n\t\t\t<div {...scrollContainerProps}>\n\t\t\t\t<div {...scrollInnerContainerProps}>\n\t\t\t\t\t<ScrollContentWrapper {...scrollContentWrapperProps}>\n\t\t\t\t\t\t<VirtualListBasic\n\t\t\t\t\t\t\t{...scrollContentProps}\n\t\t\t\t\t\t\tref={scrollContentHandle}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ScrollContentWrapper>\n\t\t\t\t\t{isVerticalScrollbarVisible ? <Scrollbar {...verticalScrollbarProps} /> : null}\n\t\t\t\t</div>\n\t\t\t\t{isHorizontalScrollbarVisible ? <Scrollbar {...horizontalScrollbarProps} /> : null}\n\t\t\t</div>\n\t\t</ResizeContext.Provider>\n\t);\n};\n\nVirtualGridList.displayName = 'ui:VirtualGridList';\n\nVirtualGridList.propTypes = /** @lends ui/VirtualList.VirtualGridList.prototype */ {\n\t/**\n\t * A callback function that receives a reference to the `scrollTo` feature.\n\t *\n\t * Once received, the `scrollTo` method can be called as an imperative interface.\n\t *\n\t * The `scrollTo` function accepts the following parameters:\n\t * - {position: {x, y}} - Pixel value for x and/or y position\n\t * - {align} - Where the scroll area should be aligned. Values are:\n\t *   `'left'`, `'right'`, `'top'`, `'bottom'`,\n\t *   `'topleft'`, `'topright'`, `'bottomleft'`, and `'bottomright'`.\n\t * - {index} - Index of specific item. (`0` or positive integer)\n\t *   This option is available for only `VirtualList` kind.\n\t * - {node} - Node to scroll into view\n\t * - {animate} - When `true`, scroll occurs with animation. When `false`, no\n\t *   animation occurs.\n\t * - {focus} - When `true`, attempts to focus item after scroll. Only valid when scrolling\n\t *   by `index` or `node`.\n\t * > Note: Only specify one of: `position`, `align`, `index` or `node`\n\t *\n\t * Example:\n\t * ```\n\t *\t// If you set cbScrollTo prop like below;\n\t *\tcbScrollTo: (fn) => {this.scrollTo = fn;}\n\t *\t// You can simply call like below;\n\t *\tthis.scrollTo({align: 'top'}); // scroll to the top\n\t * ```\n\t *\n\t * @type {Function}\n\t * @public\n\t */\n\tcbScrollTo: PropTypes.func,\n\n\t/**\n\t * The layout direction of the list.\n\t *\n\t * Valid values are:\n\t * * `'horizontal'`, and\n\t * * `'vertical'`.\n\t *\n\t * @type {String}\n\t * @default 'vertical'\n\t * @public\n\t */\n\tdirection: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t/**\n\t * Specifies how to show horizontal scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {String}\n\t * @default 'auto'\n\t * @public\n\t */\n\thorizontalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n\n\t/**\n\t * Prevents scroll by dragging or flicking on the list.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\tnoScrollByDrag: PropTypes.bool,\n\n\t/**\n\t * Prevents scroll by wheeling on the list.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tnoScrollByWheel: PropTypes.bool,\n\n\t/**\n\t * Called when scrolling.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * It is not recommended to set this prop since it can cause performance degradation.\n\t * Use `onScrollStart` or `onScrollStop` instead.\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScroll: PropTypes.func,\n\n\t/**\n\t * Called when scroll starts.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * You can get firstVisibleIndex and lastVisibleIndex from VirtualGridList with `moreInfo`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStart = ({scrollLeft, scrollTop, moreInfo}) => {\n\t *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n\t *     // do something with firstVisibleIndex and lastVisibleIndex\n\t * }\n\t *\n\t * render = () => (\n\t *     <VirtualGridList\n\t *         ...\n\t *         onScrollStart={this.onScrollStart}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScrollStart: PropTypes.func,\n\n\t/**\n\t * Called when scroll stops.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * You can get firstVisibleIndex and lastVisibleIndex from VirtualList with `moreInfo`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStop = ({scrollLeft, scrollTop, moreInfo}) => {\n\t *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n\t *     // do something with firstVisibleIndex and lastVisibleIndex\n\t * }\n\t *\n\t * render = () => (\n\t *     <VirtualGridList\n\t *         ...\n\t *         onScrollStop={this.onScrollStop}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScrollStop: PropTypes.func,\n\n\t/**\n\t * Specifies overscroll effects shows on which type of inputs.\n\t *\n\t * @type {Object}\n\t * @default {drag: false, pageKey: false, wheel: false}\n\t * @private\n\t */\n\toverscrollEffectOn: PropTypes.shape({\n\t\tdrag: PropTypes.bool,\n\t\tpageKey: PropTypes.bool,\n\t\twheel: PropTypes.bool\n\t}),\n\n\t/**\n\t * The ARIA role for the list.\n\t *\n\t * @type {String}\n\t * @default 'list'\n\t * @public\n\t */\n\trole: PropTypes.string,\n\n\t/**\n\t * Specifies how to scroll.\n\t *\n\t * Valid values are:\n\t * * `'translate'`,\n\t * * `'native'`.\n\t *\n\t * @type {String}\n\t * @default 'translate'\n\t * @public\n\t */\n\tscrollMode: PropTypes.string,\n\n\t/**\n\t * Specifies how to show vertical scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {String}\n\t * @default 'auto'\n\t * @public\n\t */\n\tverticalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden'])\n};\n\nVirtualGridList.defaultProps = {\n\tcbScrollTo: nop,\n\tdirection: 'vertical',\n\thorizontalScrollbar: 'auto',\n\tnoScrollByDrag: false,\n\tnoScrollByWheel: false,\n\tonScroll: nop,\n\tonScrollStart: nop,\n\tonScrollStop: nop,\n\toverscrollEffectOn: {\n\t\tdrag: false,\n\t\tpageKey: false,\n\t\twheel: false\n\t},\n\trole: 'list',\n\tscrollMode: 'translate',\n\tverticalScrollbar: 'auto'\n};\n\nexport default VirtualList;\nexport {\n\tgridListItemSizeShape,\n\titemSizesShape,\n\tUiVirtualListBase as VirtualListBase, // to support legacy VirtualListBase\n\tUiVirtualListBaseNative as VirtualListBaseNative, // to support legacy VirtualListBaseNative\n\tVirtualGridList,\n\tVirtualList,\n\tVirtualListBasic\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scrollFill\":\"useScroll_scrollFill__3sWM5\",\"scroll\":\"useScroll_scroll__1hjH-\",\"scrollInnerContainer\":\"useScroll_scrollInnerContainer__2cjfl\",\"scrollContentWrapper\":\"useScroll_scrollContentWrapper__3y4Yr\",\"scrollContentWrapperNative\":\"useScroll_scrollContentWrapperNative__2gw3E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"picker\":\"Picker_picker__UUvjv\",\"horizontal\":\"Picker_horizontal__Dj--W\",\"label\":\"Picker_label__3t76Q\",\"item\":\"Picker_item__3x94p\",\"itemDecrement\":\"Picker_itemDecrement__2DM0p\",\"itemIncrement\":\"Picker_itemIncrement__1r4Cn\",\"active\":\"Picker_active__1Heyq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"virtualList\":\"VirtualList_virtualList__27okt\",\"content\":\"VirtualList_content__2N_2e\",\"vertical\":\"VirtualList_vertical__2m96z\",\"native\":\"VirtualList_native__2Aj3i\",\"listItem\":\"VirtualList_listItem__3onfo\",\"horizontal\":\"VirtualList_horizontal__1ehoY\"};","import curry from 'ramda/src/curry';\n\n/*\n * The singleton map of names to keyCodes. If a name doesn't have any keyCodes mapped to it, it will\n * not exist in this map. If it does, its value will be an array of its keyCodes.\n *\n * @type {Object}\n * @private\n */\nconst map = {};\n\n/*\n * Safely converts keymap name to lowercase.\n *\n * @function\n * @param   {String} name  Name for keyCode\n *\n * @returns {String}       Name for keyCode in lowercase\n * @memberof core/keymap\n * @private\n */\nconst toLowerCase = (name) => name ? name.toLowerCase() : '';\n\n/*\n * Iterates over `set` and invokes `fn` with the key and value of each item.\n *\n * @function\n * @param   {Function}  fn   Function to invoke\n * @param   {Object}    set  A map of names to keyCodes\n *\n * @returns {undefined}\n * @memberof core/keymap\n * @private\n */\nconst forEachObj = curry(function (fn, set) {\n\tObject.keys(set).forEach(name => fn(name, set[name]));\n});\n\n/*\n * Invokes `fn` with `name` and `keyCode` for each key code provided.\n *\n * @function\n * @param   {Function}        fn       Function to invoke\n * @param   {String}          name     Name for the key codes\n * @param   {Number|Number[]} keyCode  A key code or array of key codes\n *\n * @returns {undefined}\n * @curried\n * @memberof core/keymap\n * @private\n */\nconst oneOrArray = curry(function (fn, name, keyCode) {\n\tif (Array.isArray(keyCode)) {\n\t\tkeyCode.forEach(fn(name));\n\t} else {\n\t\tfn(name, keyCode);\n\t}\n});\n\n/*\n * Adds `keyCode` to `name`.\n *\n * @function\n * @param   {String}    name     Name for the key code\n * @param   {Number}    keyCode  A key code\n *\n * @returns {undefined}\n * @curried\n * @memberof core/keymap\n * @private\n */\nconst addOne = curry(function (name, keyCode) {\n\tname = toLowerCase(name);\n\tif (name in map) {\n\t\tconst index = map[name].indexOf(keyCode);\n\t\tif (index === -1) {\n\t\t\tmap[name].push(keyCode);\n\t\t}\n\t} else if (name) {\n\t\tmap[name] = [keyCode];\n\t}\n});\n\n/*\n * Removes `keyCode` from `name`.\n *\n * @function\n * @param   {String}    name     Name for the key code\n * @param   {Number}    keyCode  A key code\n *\n * @returns {undefined}\n * @curried\n * @memberof core/keymap\n * @private\n */\nconst removeOne = curry(function (name, keyCode) {\n\tname = toLowerCase(name);\n\tif (name in map) {\n\t\tconst keys = map[name];\n\t\tconst index = keys.indexOf(keyCode);\n\t\tif (index === -1) {\n\t\t\tdelete map[name];\n\t\t} else {\n\t\t\tkeys.splice(index, 1);\n\t\t}\n\t}\n});\n\n/**\n * Registers `keyCode` for `name`.\n *\n * @function add\n * @param   {String}          name     Name for the key code\n * @param   {Number|Number[]} keyCode  A key code or array of key codes\n *\n * @returns {undefined}\n * @curried\n * @memberof core/keymap\n * @public\n */\nconst add = oneOrArray(addOne);\n\n/**\n * Registers a set of key codes.\n *\n * @function addAll\n * @param   {Object<String,Number|Number[]>}    set  A map of names to keyCodes\n *\n * @returns {undefined}\n * @curried\n * @memberof core/keymap\n * @public\n */\nconst addAll = forEachObj(add);\n\n/**\n * Unregisters `keyCode` from `name`.\n *\n * @function remove\n * @param   {String}          name     Name for the key code\n * @param   {Number|Number[]} keyCode  A key code or array of key codes\n *\n * @returns {undefined}\n * @curried\n * @memberof core/keymap\n * @public\n */\nconst remove = oneOrArray(removeOne);\n\n/**\n * Unregisters a set of key codes.\n *\n * @function removeAll\n * @param   {Object}    set  A map of names to keyCodes\n *\n * @returns {undefined}\n * @curried\n * @memberof core/keymap\n * @public\n */\nconst removeAll = forEachObj(remove);\n\n/**\n * Determines if `keyCode` is mapped to `name`.\n *\n * @function is\n * @param   {String}    name     Name for the key code\n * @param   {Number}    keyCode  A key code\n *\n * @returns {Boolean}            `true` if `keyCode` is mapped to `name`\n * @curried\n * @memberof core/keymap\n * @public\n */\nconst is = curry(function (name, keyCode) {\n\tname = toLowerCase(name);\n\treturn name in map && map[name].indexOf(keyCode) >= 0;\n});\n\nexport {\n\tadd,\n\taddAll,\n\tis,\n\tremove,\n\tremoveAll\n};\n","/**\n * Manages a map of names to key codes to simplify event handlers\n *\n * Example:\n * ```\n * import {add, is} from '@enact/core/keymap';\n *\n * add('enter', 13);\n * const isEnter = is('enter');\n *\n * // within event handler\n * if (isEnter(ev.keyCode)) {\n *   // handle enter\n * }\n * ```\n *\n * @module core/keymap\n * @exports add\n * @exports addAll\n * @exports is\n * @exports remove\n * @exports removeAll\n */\n\n// keymap uses a singleton object, map, to manage the keymap. since webpack may make multiple copies\n// of the module available if the import path is different, we ensure a consistent import path for\n// the singleton instance by facading it with this module.\n\nimport {addAll} from './keymap';\n\n// Add the default 5-way navigation key codes\naddAll({\n\tenter: [13, 16777221],\n\tleft: 37,\n\tup: 38,\n\tright: 39,\n\tdown: 40,\n\tpageUp: 33,\n\tpageDown: 34\n});\n\nexport * from './keymap';\n","import CaseMapper from 'ilib/lib/CaseMapper';\n\nlet toLowerCaseMapper, toUpperCaseMapper;\n\n/**\n * Set CaseMapper object references to ilib's current locale (its most recently set, by default)\n *\n * @returns {undefined}\n */\nfunction initCaseMappers () {\n\ttoLowerCaseMapper = new CaseMapper({direction: 'tolower'});\n\ttoUpperCaseMapper = new CaseMapper({direction: 'toupper'});\n}\n\n/**\n * Locale-safely convert a string to lower case.\n *\n * @function\n * @param {String} inString String to convert to lower case\n * @returns {String} Lower-cased string\n */\nconst toLowerCase = function (inString) {\n\tif (inString != null) {\n\t\treturn toLowerCaseMapper.map(inString.toString());\n\t}\n\treturn inString;\n};\n\n/**\n * Locale-safely convert a string to upper case.\n *\n * @function\n * @param {String} inString String to convert to upper case\n * @returns {String} Upper-cased string\n */\nconst toUpperCase = function (inString) {\n\tif (inString != null) {\n\t\treturn toUpperCaseMapper.map(inString.toString());\n\t}\n\treturn inString;\n};\n\nexport {\n\tinitCaseMappers,\n\ttoLowerCase,\n\ttoUpperCase\n};\n","/**\n * An unstyled icon component to be customized by a theme or application.\n *\n * @module ui/Icon\n * @exports Icon\n */\n\nimport kind from '@enact/core/kind';\nimport {cap} from '@enact/core/util';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ri from '../resolution';\n\nimport componentCss from './Icon.module.less';\n\n/**\n * Merges consumer styles with the image `src` resolved through the resolution independence module.\n *\n * @function\n * @param\t{Object}\t\tstyle\tStyle object\n * @param\t{String|Object}\tsrc\t\tURI to image or object of URIs\n *\n * @returns\t{Object}\t\t\t\tOriginal style object with backgroundImage updated\n * @private\n */\nconst mergeStyle = function (style, src) {\n\tlet updated = Object.assign({}, style);\n\tlet source = ri.selectSrc(src);\n\tif (src && src !== 'none' && src !== 'inherit' && src !== 'initial') {\n\t\tsource = `url(${source})`;\n\t}\n\n\tupdated.backgroundImage = source;\n\treturn updated;\n};\n\n/**\n * Tests if a string appears to be a URI/URL.\n *\n * @function\n * @param\t{String}\tc\tCharacter to test\n *\n * @returns\t{Boolean}\t\t`true` if c looks like a URL\n * @private\n */\nconst isUri = function (c) {\n\treturn (c.indexOf('/') > -1) || (c.indexOf('.') > -1);\n};\n\n/**\n * A basic icon component structure without any behaviors applied to it.\n *\n * @class Icon\n * @memberof ui/Icon\n * @ui\n * @public\n */\nconst Icon = kind({\n\tname: 'ui:Icon',\n\n\tpropTypes: /** @lends ui/Icon.Icon.prototype */ {\n\t\t/**\n\t\t * The icon content.\n\t\t *\n\t\t * May be specified as either:\n\t\t *\n\t\t * * A string that represents an icon from the [iconList]{@link ui/Icon.Icon.iconList},\n\t\t * * An HTML entity string, Unicode reference or hex value (in the form '0x...'),\n\t\t * * A URL specifying path to an icon image, or\n\t\t * * An object representing a resolution independent resource (See {@link ui/resolution}).\n\t\t *\n\t\t * @type {String|Object}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `icon` - The root component class\n\t\t * * `dingbat` - Applied when the value of [`icon`]{@link ui/Icon.Icon.icon} is not\n\t\t *   found in [iconList]{@link ui/Icon.Icon.iconList}\n\t\t * * `large` - Applied when `size` prop is `'large'`\n\t\t * * `pressed` - Applied when `pressed` prop is `true`\n\t\t * * `small` - Applied when `size` prop is `'small'`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Flip the icon horizontally, vertically or both.\n\t\t *\n\t\t * @type {('both'|'horizontal'|'vertical')}\n\t\t * @public\n\t\t */\n\t\tflip: PropTypes.string,\n\n\t\t/**\n\t\t * The full list (hash) of supported icons.\n\t\t *\n\t\t * The keys of this hash are the unique names of each icon. The values are the unicode\n\t\t * characters to insert in the icon. These will typically map to glyphs in your icon-font.\n\t\t * The format of the keys can be character, glyph, or entity reference that correctly\n\t\t * renders in a React + JSX string.\n\t\t *\n\t\t * @type {Object}\n\t\t * @default {}\n\t\t * @public\n\t\t */\n\t\ticonList: PropTypes.object,\n\n\t\t/**\n\t\t * Applies the `pressed` CSS class.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tpressed: PropTypes.bool,\n\n\t\t/**\n\t\t * The size of the button.\n\t\t *\n\t\t * Applies the CSS class which can be customized by\n\t\t * [theming]{@link /docs/developer-guide/theming/}.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'small'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\ticonList: {},\n\t\tpressed: false,\n\t\tsize: 'small'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'icon',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({children: icon, flip, iconList, pressed, size, styler}) => {\n\t\t\treturn styler.append(\n\t\t\t\t{\n\t\t\t\t\t// If the icon isn't in our known set, apply our custom font class\n\t\t\t\t\tdingbat: !(icon in iconList),\n\t\t\t\t\tpressed\n\t\t\t\t},\n\t\t\t\tflip ? `flip${cap(flip)}` : null,\n\t\t\t\tsize\n\t\t\t);\n\t\t},\n\t\ticonProps: ({children: iconProp, iconList, style}) => {\n\t\t\tlet icon = iconList[iconProp];\n\n\t\t\tif (!icon) {\n\t\t\t\tif (typeof iconProp == 'string') {\n\t\t\t\t\tif (iconProp.indexOf('&#x') === 0) {\n\t\t\t\t\t\t// Converts a hex reference in HTML entity form: &#x99999;\n\t\t\t\t\t\ticon = parseInt(iconProp.slice(3, -1), 16);\n\t\t\t\t\t} else if (iconProp.indexOf('&#') === 0) {\n\t\t\t\t\t\t// Convert an HTML entity: &#99999;\n\t\t\t\t\t\ticon = parseInt(iconProp.slice(2, -1));\n\t\t\t\t\t} else if (iconProp.indexOf('\\\\u') === 0) {\n\t\t\t\t\t\t// Convert a unicode reference: \\u99999;\n\t\t\t\t\t\ticon = parseInt(iconProp.slice(2), 16);\n\t\t\t\t\t} else if (iconProp.indexOf('0x') === 0) {\n\t\t\t\t\t\t// Converts a hex reference in string form\n\t\t\t\t\t\ticon = String.fromCodePoint(iconProp);\n\t\t\t\t\t} else if (!isUri(iconProp)) {\n\t\t\t\t\t\t// A \"simple\" string is assumed to be an icon-name string\n\t\t\t\t\t\ticon = iconProp;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// for a path or URI, add it to style\n\t\t\t\t\t\tstyle = mergeStyle(style, iconProp);\n\t\t\t\t\t}\n\t\t\t\t} else if (typeof iconProp === 'object') {\n\t\t\t\t\tstyle = mergeStyle(style, iconProp);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof icon == 'number') {\n\t\t\t\t// Converts a hex reference in number form\n\t\t\t\ticon = String.fromCodePoint(icon);\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tchildren: icon,\n\t\t\t\tstyle\n\t\t\t};\n\t\t}\n\t},\n\n\trender: ({iconProps, ...rest}) => {\n\t\tdelete rest.iconList;\n\t\tdelete rest.pressed;\n\t\tdelete rest.size;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\taria-hidden\n\t\t\t\t{...rest}\n\t\t\t\t{...iconProps}\n\t\t\t/>\n\t\t);\n\t}\n});\n\nexport default Icon;\nexport {\n\tIcon\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scrollbar\":\"Scrollbar_scrollbar__3W3lA\",\"vertical\":\"Scrollbar_vertical__3N5Az\",\"horizontal\":\"Scrollbar_horizontal__1D2oU\",\"scrollbarButtonNoCompositeLayer\":\"Scrollbar_scrollbarButtonNoCompositeLayer__1eW87\",\"scrollButton\":\"Scrollbar_scrollButton__1UONg\",\"scrollbarTrackShown\":\"Scrollbar_scrollbarTrackShown__2YqOy\",\"corner\":\"Scrollbar_corner__OHydB\"};","/**\n * A basic progress bar component that can display the progress of something in a horizontal,\n * vertical, or radial bar format.\n *\n * A secondary independent progress indicator can be displayed, to indicate\n * an additional degree of information, often used as a background loading progress.\n *\n * @module ui/ProgressBar\n * @exports ProgressBar\n */\n\nimport kind from '@enact/core/kind';\nimport clamp from 'ramda/src/clamp';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {validateRange} from '../internal/validators';\n\nimport componentCss from './ProgressBar.module.less';\n\nconst progressToProportion = (value) => clamp(0, 1, value);\nconst calcBarStyle = (prop, anchor, value = anchor, startProp, endProp) => {\n\tlet start = Math.min(anchor, value);\n\tlet end = Math.max(anchor, value) - start;\n\n\tif (__DEV__) {\n\t\tvalidateRange(start, 0, 1, 'ProgressBar', prop, 'min', 'max');\n\t\tvalidateRange(end, 0, 1, 'ProgressBar', prop, 'min', 'max');\n\t}\n\n\treturn {\n\t\t[startProp]: progressToProportion(start),\n\t\t[endProp]: progressToProportion(end)\n\t};\n};\n\n/**\n * An unstyled progress bar component that can be customized by a theme or application.\n *\n * @class ProgressBar\n * @memberof ui/ProgressBar\n * @ui\n * @public\n */\nconst ProgressBar = kind({\n\tname: 'ui:ProgressBar',\n\n\tpropTypes: /** @lends ui/ProgressBar.ProgressBar.prototype */ {\n\t\t/**\n\t\t * The proportion of the loaded portion of the progress bar.\n\t\t *\n\t\t * * Valid values are between `0` and `1`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tbackgroundProgress: PropTypes.number,\n\n\t\t/**\n\t\t * The contents to be displayed with progress bar.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `progressBar` - The root component class\n\t\t * * `bar`         - The background node (the empty part of the progressBar)\n\t\t * * `fill`        - The foreground of the progress bar (`progress`)\n\t\t * * `load`        - The `backgroundProgress` node\n\t\t * * `horizontal`  - Applied when `orientation` is `'horizontal'`\n\t\t * * `vertical`    - Applied when `orientation` is `'vertical'`\n\t\t * * `radial`      - Applied when `orientation` is `'radial'`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Sets the orientation of the slider.\n\t\t *\n\t\t * Allowed values include:\n\t\t *\n\t\t * * `'horizontal'` - A left and right orientation\n\t\t * * `'vertical'` - An up and down orientation\n\t\t * * `'radial'` - A circular orientation\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'horizontal'\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.string,\n\n\t\t/**\n\t\t * The proportion of the filled portion of the progress bar.\n\t\t *\n\t\t * * Valid values are between `0` and `1`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tprogress: PropTypes.number,\n\n\t\t/**\n\t\t * Sets the point, as a proportion between 0 and 1, from which the progress bar is filled.\n\t\t *\n\t\t * Applies to both the progress bar's `value` and `backgroundProgress`. In both cases,\n\t\t * setting the value of `progressAnchor` will cause the progress bar to fill from that point\n\t\t * down, when `value` or `backgroundProgress` is proportionally less than the anchor, or up,\n\t\t * when `value` or `backgroundProgress` is proportionally greater than the anchor, rather\n\t\t * than always from the start of the progress bar.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tprogressAnchor: PropTypes.number\n\t},\n\n\tdefaultProps: {\n\t\tbackgroundProgress: 0,\n\t\torientation: 'horizontal',\n\t\tprogress: 0,\n\t\tprogressAnchor: 0\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'progressBar',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({backgroundProgress, orientation, progress, styler}) => styler.append(orientation, {\n\t\t\tfillOverHalf: (progress > 0.5),\n\t\t\tloadOverHalf: (backgroundProgress > 0.5)\n\t\t}),\n\t\tstyle: ({backgroundProgress, progress, progressAnchor, style}) => {\n\t\t\treturn {\n\t\t\t\t...style,\n\t\t\t\t'--ui-progressbar-proportion-anchor': progressAnchor,\n\t\t\t\t...calcBarStyle(\n\t\t\t\t\t'backgroundProgress',\n\t\t\t\t\tprogressAnchor,\n\t\t\t\t\tbackgroundProgress,\n\t\t\t\t\t'--ui-progressbar-proportion-start-background',\n\t\t\t\t\t'--ui-progressbar-proportion-end-background'\n\t\t\t\t),\n\t\t\t\t...calcBarStyle(\n\t\t\t\t\t'progress',\n\t\t\t\t\tprogressAnchor,\n\t\t\t\t\tprogress,\n\t\t\t\t\t'--ui-progressbar-proportion-start',\n\t\t\t\t\t'--ui-progressbar-proportion-end'\n\t\t\t\t)\n\t\t\t};\n\t\t}\n\t},\n\n\trender: ({children, css, ...rest}) => {\n\t\tdelete rest.backgroundProgress;\n\t\tdelete rest.orientation;\n\t\tdelete rest.progress;\n\t\tdelete rest.progressAnchor;\n\n\t\treturn (\n\t\t\t<div role=\"progressbar\" {...rest}>\n\t\t\t\t<div className={css.bar}>\n\t\t\t\t\t<div className={css.load} />\n\t\t\t\t\t<div className={css.fill} />\n\t\t\t\t</div>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nexport default ProgressBar;\nexport {\n\tProgressBar\n};\n","import FloatingLayer from '@enact/ui/FloatingLayer';\nimport {forward} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst OpenState = {\n\tCLOSED: 0,\n\tOPENING: 1,\n\tOPEN: 2\n};\n\nconst forwardHide = forward('onHide');\n\nconst PopupState = hoc((config, Wrapped) => {\t// eslint-disable-line no-unused-vars\n\treturn class extends React.Component {\n\t\tstatic displayName = 'PopupState';\n\n\t\tstatic propTypes = {\n\t\t\tnoAnimation: PropTypes.bool,\n\t\t\tnoAutoDismiss: PropTypes.bool,\n\t\t\tonClose: PropTypes.func,\n\t\t\topen: PropTypes.bool,\n\t\t\tscrimType: PropTypes.oneOf(['transparent', 'translucent', 'none'])\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\tnoAnimation: false,\n\t\t\tnoAutoDismiss: false,\n\t\t\topen: false,\n\t\t\tscrimType: 'translucent'\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tthis.state = {\n\t\t\t\tfloatLayerOpen: this.props.open,\n\t\t\t\tpopupOpen: this.props.open ? OpenState.OPEN : OpenState.CLOSED,\n\t\t\t\tprevOpen: this.props.open\n\t\t\t};\n\t\t}\n\n\t\tstatic getDerivedStateFromProps (props, state) {\n\t\t\tif (props.open !== state.prevOpen) {\n\t\t\t\tif (props.open) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tpopupOpen: props.noAnimation || state.floatLayerOpen ? OpenState.OPEN : OpenState.CLOSED,\n\t\t\t\t\t\tfloatLayerOpen: true,\n\t\t\t\t\t\tprevOpen: props.open\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tpopupOpen: OpenState.CLOSED,\n\t\t\t\t\t\tfloatLayerOpen: state.popupOpen !== OpenState.CLOSED ? !props.noAnimation : false,\n\t\t\t\t\t\tprevOpen: props.open\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\thandleFloatingLayerOpen = () => {\n\t\t\tif (!this.props.noAnimation && this.state.popupOpen !== OpenState.OPEN) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tpopupOpen: OpenState.OPENING\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\thandlePopupHide = () => {\n\t\t\tforwardHide(null, this.props);\n\n\t\t\tthis.setState({\n\t\t\t\tfloatLayerOpen: false,\n\t\t\t\tactivator: null\n\t\t\t});\n\t\t};\n\n\t\trender () {\n\t\t\tconst {noAutoDismiss, onClose, scrimType, ...rest} = this.props;\n\t\t\tdelete rest.spotlightRestrict;\n\n\t\t\treturn (\n\t\t\t\t<FloatingLayer\n\t\t\t\t\tnoAutoDismiss={noAutoDismiss}\n\t\t\t\t\topen={this.state.floatLayerOpen}\n\t\t\t\t\tonOpen={this.handleFloatingLayerOpen}\n\t\t\t\t\tonDismiss={onClose}\n\t\t\t\t\tscrimType={scrimType}\n\t\t\t\t>\n\t\t\t\t\t<Wrapped\n\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\topen={this.state.popupOpen >= OpenState.OPENING}\n\t\t\t\t\t\tonClose={onClose}\n\t\t\t\t\t\tonHide={this.handlePopupHide}\n\t\t\t\t\t/>\n\t\t\t\t</FloatingLayer>\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default PopupState;\nexport {PopupState};\n","/**\n * A repeater component.\n *\n * @module ui/Repeater\n * @exports Repeater\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ForwardRef from '../ForwardRef';\n\n/**\n * A stateless component that stamps out copies of `childComponent`, without\n * [RepeaterDecorator](ui/Repeater.RepeaterDecorator) applied.\n *\n * @class RepeaterBase\n * @memberof ui/Repeater\n * @ui\n * @public\n */\nconst RepeaterBase = kind({\n\tname: 'Repeater',\n\n\tpropTypes: /** @lends ui/Repeater.RepeaterBase.prototype */ {\n\t\t/**\n\t\t * Component type to repeat.\n\t\t *\n\t\t * This can be a React component or a string describing a DOM node (e.g. `'div'`).\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tchildComponent: EnactPropTypes.renderable.isRequired,\n\n\t\t/**\n\t\t * An array of data to be mapped onto the `childComponent`.\n\t\t *\n\t\t * This supports two data types. If an array of strings is provided, the strings will be used\n\t\t * in the generated `childComponent` as the readable text. If an array of objects is provided,\n\t\t * each object will be spread onto the generated `childComponent` with no interpretation.\n\t\t * You'll be responsible for setting properties like `disabled`, `className`, and setting the\n\t\t * text content using the `children` key.\n\t\t *\n\t\t * > **NOTE**: When an array of objects is provided, make sure a unique `key` is assigned to each\n\t\t * data. See https://fb.me/react-warning-keys for more information.\n\t\t *\n\t\t * @type {String[]|Array.<{key: (Number|String)}>}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.oneOfType([\n\t\t\tPropTypes.arrayOf(PropTypes.string),\n\t\t\tPropTypes.arrayOf(PropTypes.shape({\n\t\t\t\tkey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired\n\t\t\t}))\n\t\t]).isRequired,\n\n\t\t/**\n\t\t * The property on each `childComponent` that receives the data in `children`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'children'\n\t\t * @public\n\t\t */\n\t\tchildProp: PropTypes.string,\n\n\t\t/**\n\t\t * Component type to wrap around all of the repeated elements.\n\t\t *\n\t\t * This can be a string describing a DOM node or React component (e.g. `'div'` or `Layout`).\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @default 'span'\n\t\t * @public\n\t\t */\n\t\tcomponent: EnactPropTypes.renderable,\n\n\t\t/**\n\t\t * Called with a reference to [component]{@link ui/Repeater.Repeater#component}\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @private\n\t\t */\n\t\tcomponentRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * The property on each `childComponent` that receives the index of the item in the `Repeater`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'data-index'\n\t\t * @public\n\t\t */\n\t\tindexProp: PropTypes.string,\n\n\t\t/**\n\t\t * An object containing properties to be passed to each child.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\titemProps: PropTypes.object\n\t},\n\n\tdefaultProps: {\n\t\tchildProp: 'children',\n\t\tcomponent: 'span',\n\t\tindexProp: 'data-index'\n\t},\n\n\tcomputed: {\n\t\tchildren: ({childComponent: Component, children, childProp, indexProp, itemProps}) => {\n\t\t\treturn children.map((data, index) => {\n\t\t\t\tlet props = {};\n\t\t\t\tif (typeof data === 'object') {\n\t\t\t\t\tprops = {...itemProps, ...data};\n\t\t\t\t} else if (childProp) {\n\t\t\t\t\tprops = {key: index, ...itemProps, [childProp]: data};\n\t\t\t\t}\n\t\t\t\tif (indexProp) props[indexProp] = index;\n\n\t\t\t\treturn <Component {...props} />;\n\t\t\t});\n\t\t}\n\t},\n\n\trender: ({component: Component, componentRef, ...rest}) => {\n\t\tdelete rest.childComponent;\n\t\tdelete rest.childProp;\n\t\tdelete rest.indexProp;\n\t\tdelete rest.itemProps;\n\n\t\treturn <Component ref={componentRef} role=\"list\" {...rest} />;\n\t}\n});\n\n/**\n * Applies Repeater behaviors.\n *\n * @hoc\n * @memberof ui/Repeater\n * @mixes ui/ForwardRef.ForwardRef\n * @public\n */\nconst RepeaterDecorator = ForwardRef({prop: 'componentRef'});\n\n/**\n * A stateless component that stamps out copies of `childComponent`.\n *\n * @class Repeater\n * @memberof ui/Repeater\n * @extends ui/Repeater.RepeaterBase\n * @mixes ui/Repeater.RepeaterDecorator\n * @ui\n * @public\n */\nconst Repeater = RepeaterDecorator(RepeaterBase);\n\nexport default Repeater;\nexport {\n\tRepeater,\n\tRepeaterBase\n};\n","import curry from 'ramda/src/curry';\n\n/**\n * Determines if `item` is selected\n *\n * @param\t{*}\t\t\titem\t\tUsually a number but could be anything within the `selected` list\n * @param\t{*|Array}\tselected\tOne or many selected items\n *\n * @returns\t{Boolean}\t\t\t\t`true` if item is equal to or contained in `selected`\n * @private\n */\nconst isSelected = curry(function (item, selected) {\n\treturn item === selected || Array.isArray(selected) && selected.indexOf(item) >= 0;\n});\n\n/**\n * Selects or deselects an `item` based on the `mode` and returns a copy of `selected` with the new\n * selected state.\n *\n * `single` - Toggles the selection state of `item`. Always returns either `item` or null.\n * `radio` - Always selects `item`\n * `multiple` - Toggles the selection state `item` like `single` but doesn't replace other selected\n * items.\n *\n * @param\t{String}\tmode\t\tSelection mode (`single`, `radio`, or `multiple`)\n * @param\t{*}\t\t\titem\t\tThe selected item\n * @param\t{*|Array}\tselected\tThe current selection\n *\n * @returns {*|Array}\t\t\t\tThe updated selection\n * @private\n */\nconst select = curry(function (mode, item, selected) {\n\tif (mode === 'radio') {\n\t\t// When selection is disabled, when selecting only 1, or when selecting the\n\t\t// first of multiple, we can forward the source event as is.\n\t\treturn item;\n\t} else if (mode === 'single') {\n\t\t// When selecting 0 or 1, we have to unselect it if selected\n\t\treturn isSelected(item, selected) ? null : item;\n\t} else if (selected == null) {\n\t\t// When selection 0 or n but no prior selection, wrap item in an array\n\t\treturn [item];\n\t} else {\n\t\t// Otherwise we're selecting multiple so we have to either deselect it if\n\t\t// already selected or select it if not.\n\t\tlet updated = Array.isArray(selected) ? selected.slice() : [selected];\n\t\tconst index = updated.indexOf(item);\n\t\tif (index >= 0) {\n\t\t\tif (updated.length === 1) {\n\t\t\t\t// item should be deselected and is the only item in the array so return null\n\t\t\t\tupdated = null;\n\t\t\t} else {\n\t\t\t\t// otherwise there are multiple selected so remove item\n\t\t\t\tupdated.splice(index, 1);\n\t\t\t}\n\t\t} else {\n\t\t\t// insert and sort\n\t\t\tupdated.push(item);\n\t\t\tupdated = updated.sort((a, b) => a - b);\n\t\t}\n\n\t\treturn updated;\n\t}\n});\n\nexport {\n\tisSelected,\n\tselect\n};\n","/*\n * Exports the {@link ui/Group.GroupItem} and {@link ui/Group.GroupItemBase}\n * components as well as the `pickGroupItemProps` method.  The default export is {@link ui/Group.GroupItem}.\n * `GroupItem` is stateless and is the same as `GroupItemBase`.\n * NOTE: not jsdoc on purpose.\n */\n\nimport kind from '@enact/core/kind';\nimport React from 'react';\n\nimport {isSelected, select as selectItem} from '../internal/selection';\n\n/**\n * Pick the `GroupItem`-specific props into a [private]{@link /developer-guide/glossary/#private} `itemProps` key to be extracted by\n * `GroupItem` before passing the remaining on to the repeated `childComponent`\n *\n * @function\n * @param {Object} props `Group` props\n * @returns {Object} `GroupItem` props\n * @private\n */\nconst pickGroupItemProps = (props) => ({\n\t$$GroupItem: {\n\t\tchildComponent: props.childComponent,\n\t\tchildProp: props.childProp,\n\t\tchildSelect: props.childSelect,\n\t\tindexProp: props.indexProp,\n\t\tonSelect: props.onSelect,\n\t\tselect: props.select,\n\t\tselected: props.selected,\n\t\tselectedEventProp: props.selectedEventProp,\n\t\tselectedProp: props.selectedProp\n\t}\n});\n\n/**\n * {@link ui/Group.GroupItem} is a stateless component that is used within a\n * {@link ui/Group.Group}.  It supports passing the configurable selected property and\n * handler to its configured `childComponent`.\n *\n * **Note**: It receives its properties through the `$$GroupItem` property passed from `Group`'s\n * {@link ui/Repeater.Repeater}.\n *\n * @class GroupItemBase\n * @memberof ui/Group\n * @ui\n * @private\n */\nconst GroupItemBase = kind({\n\tname: 'GroupItem',\n\t// TODO: Add propTypes\n\t/* eslint-disable enact/prop-types */\n\n\thandlers: {\n\t\thandleSelect: (ev, props) => {\n\t\t\tconst {\n\t\t\t\t$$GroupItem: {\n\t\t\t\t\tchildProp,\n\t\t\t\t\tindexProp,\n\t\t\t\t\tonSelect,\n\t\t\t\t\tselect,\n\t\t\t\t\tselected,\n\t\t\t\t\tselectedEventProp\n\t\t\t\t}\n\t\t\t} = props;\n\n\t\t\tif (onSelect) {\n\t\t\t\tconst index = props[indexProp];\n\n\t\t\t\tonSelect({\n\t\t\t\t\t[selectedEventProp]: props[childProp],\n\t\t\t\t\tselected: selectItem(select, index, selected)\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\n\trender: (props) => {\n\t\tconst {\n\t\t\t$$GroupItem: {\n\t\t\t\tchildComponent: Component,\n\t\t\t\tchildSelect,\n\t\t\t\tindexProp,\n\t\t\t\tselected,\n\t\t\t\tselectedProp\n\t\t\t},\n\t\t\thandleSelect,\n\t\t\t...rest\n\t\t} = props;\n\n\t\tif (selectedProp) {\n\t\t\tconst index = rest[indexProp];\n\t\t\trest[selectedProp] = isSelected(index, selected);\n\t\t}\n\n\t\tif (childSelect) {\n\t\t\trest[childSelect] = handleSelect;\n\t\t}\n\n\t\treturn <Component {...rest} />;\n\t}\n});\n\nexport default GroupItemBase;\nexport {GroupItemBase as GroupItem, GroupItemBase, pickGroupItemProps};\n","/**\n * Provides a component that renders a group of components given a set of data.\n *\n * @module ui/Group\n * @exports Group\n * @exports GroupBase\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Changeable from '../Changeable';\nimport Repeater from '../Repeater';\n\nimport {GroupItem, pickGroupItemProps} from './GroupItem';\n\n/**\n * A stateless component that supports selection of its child items via configurable\n * properties and events.\n *\n * @class GroupBase\n * @memberof ui/Group\n * @ui\n * @public\n */\nconst GroupBase = kind({\n\tname: 'Group',\n\n\tpropTypes: /** @lends ui/Group.Group.prototype */ {\n\t\t/**\n\t\t * Component type to repeat. This can be a React component or a string describing a DOM\n\t\t * node (e.g. `'div'`)\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tchildComponent: EnactPropTypes.renderable.isRequired,\n\n\t\t/**\n\t\t * An array of data to be mapped onto the `childComponent`.\n\n\t\t * This supports two data types. If an array of strings is provided, the strings will be\n\t\t * used in the generated `childComponent` as the content (i.e. passed as `children`). If\n\t\t * an array of objects is provided, each object will be spread onto the generated\n\t\t * `childComponent` with no interpretation. You'll be responsible for setting properties\n\t\t * like `disabled`, `className`, and setting the content using `children`.\n\t\t *\n\t\t * NOTE: When providing an array of objects be sure a unique `key` is assigned to each\n\t\t * item. [Read about keys](https://reactjs.org/docs/lists-and-keys.html#keys) for more\n\t\t * information.\n\t\t *\n\t\t * @type {String[]|Array.<{key: (Number|String)}>}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.oneOfType([\n\t\t\tPropTypes.arrayOf(PropTypes.string),\n\t\t\tPropTypes.arrayOf(PropTypes.shape({\n\t\t\t\tkey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired\n\t\t\t}))\n\t\t]).isRequired,\n\n\t\t/**\n\t\t * The property on each `childComponent` that receives the data in `children`\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'children'\n\t\t * @public\n\t\t */\n\t\tchildProp: PropTypes.string,\n\n\t\t/**\n\t\t * The name of the event that triggers activation.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'onClick'\n\t\t * @public\n\t\t */\n\t\tchildSelect: PropTypes.string,\n\n\t\t/**\n\t\t * The property on each `childComponent` that receives the index of the item\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'data-index'\n\t\t * @public\n\t\t */\n\t\tindexProp: PropTypes.string,\n\n\t\t/**\n\t\t * An object containing properties to be passed to each child.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\titemProps: PropTypes.object,\n\n\t\t/**\n\t\t * Callback method to be invoked when an item is activated.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonSelect: PropTypes.func,\n\n\t\t/**\n\t\t * Selection mode for the group\n\t\t *\n\t\t * * `single` - Allows for 0 or 1 item to be selected. The selected item may be deselected.\n\t\t * * `radio` - Allows for 0 or 1 item to be selected. The selected item may only be\n\t\t *    deselected by selecting another item.\n\t\t * * `multiple` - Allows 0 to _n_ items to be selected. Each item may be selected or\n\t\t *    deselected.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'single'\n\t\t * @public\n\t\t */\n\t\tselect: PropTypes.oneOf(['single', 'radio', 'multiple']),\n\n\t\t/**\n\t\t * The index(es) of the currently activated item.\n\t\t *\n\t\t * @type {Number|Array}\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.oneOfType([PropTypes.number, PropTypes.array]),\n\n\t\t/**\n\t\t * The key that will hold the value in the event passed to `onSelect`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'data'\n\t\t * @public\n\t\t */\n\t\tselectedEventProp: PropTypes.string,\n\n\t\t/**\n\t\t * The name of the DOM property that represents the selected state.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'data-selected'\n\t\t * @public\n\t\t */\n\t\tselectedProp: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tchildProp: 'children',\n\t\tchildSelect: 'onClick',\n\t\tindexProp: 'data-index',\n\t\tselect: 'single',\n\t\tselectedEventProp: 'data',\n\t\tselectedProp: 'data-selected'\n\t},\n\n\tcomputed: {\n\t\t'aria-multiselectable': ({select}) => select === 'multiple',\n\n\t\titemProps: (props) => Object.assign({},\n\t\t\tpickGroupItemProps(props),\n\t\t\tprops.itemProps\n\t\t)\n\t},\n\n\trender: (props) => {\n\t\tdelete props.onSelect;\n\t\tdelete props.childSelect;\n\t\tdelete props.select;\n\t\tdelete props.selected;\n\t\tdelete props.selectedEventProp;\n\t\tdelete props.selectedProp;\n\n\t\treturn <Repeater role=\"group\" {...props} childComponent={GroupItem} />;\n\t}\n});\n\n/**\n * A component that supports selection of its child items via configurable properties and\n * events.\n *\n * Selected item is managed by {@link ui/Changeable.Changeable}.\n *\n * @class Group\n * @memberof ui/Group\n * @mixes ui/Changeable.Changeable\n * @ui\n * @public\n */\nconst Group = Changeable(\n\t{change: 'onSelect', prop: 'selected'},\n\tGroupBase\n);\n\nexport default Group;\nexport {Group, GroupBase, GroupItem};\n","import IString from 'ilib/lib/IString';\nimport ResBundle from 'ilib/lib/ResBundle';\n\n// The ilib.ResBundle for the active locale used by $L\nlet resBundle;\n\n/**\n * Returns the current ilib.ResBundle\n *\n * @returns {ilib.ResBundle} Current ResBundle\n */\nfunction getResBundle () {\n\treturn resBundle;\n}\n\n/**\n * Creates a new ilib.ResBundle for string translation\n *\n * @param  {ilib.Locale} locale Locale for ResBundle\n *\n * @returns {Promise|ResBundle} Resolves with a new ilib.ResBundle\n */\nfunction createResBundle (options) {\n\tconst opts = {\n\t\ttype: 'html',\n\t\tname: 'strings',\n\t\tlengthen: true,\t\t// if pseudo-localizing, this tells it to lengthen strings\n\t\t...options\n\t};\n\n\tif (!opts.onLoad) return;\n\n\t// eslint-disable-next-line no-new\n\tnew ResBundle({\n\t\t...opts,\n\t\tonLoad: (bundle) => {\n\t\t\topts.onLoad(bundle || null);\n\t\t}\n\t});\n}\n\n/**\n * Set the locale for the strings that $L loads. This may reload the\n * string resources if necessary.\n *\n * @param {string} spec the locale specifier\n * @returns {ilib.ResBundle} Current ResBundle\n */\nfunction setResBundle (bundle) {\n\treturn (resBundle = bundle);\n}\n\n/**\n * Deletes the current bundle object of strings and clears the cache.\n * @returns {undefined}\n */\nfunction clearResBundle () {\n\tdelete ResBundle.strings;\n\tdelete ResBundle.sysres;\n\tresBundle = null;\n}\n\n/**\n * Retrieves an IString from a resource bundle by key.\n *\n * If the bundle doesn't exist, the key is returned wrapped by IString.\n *\n * @param {String|Object} str Key for localized string\n * @param {ResBundl} rb ilib resource bundle\n * @returns\t{IString} The string value wrapped by an IString\n */\nfunction getIStringFromBundle (str, rb) {\n\tconst isObject = typeof str === 'object';\n\tif (rb) {\n\t\treturn isObject ? rb.getString(str.value, str.key) : rb.getString(str);\n\t}\n\n\treturn new IString(isObject ? str.value : str);\n}\n\nexport {\n\tclearResBundle,\n\tcreateResBundle,\n\tgetIStringFromBundle,\n\tgetResBundle,\n\tsetResBundle\n};\n","/**\n * An Agate-themed Labeled Icon component.\n *\n * @example\n * <LabeledIcon icon=\"star\">Hello Enact!</LabeledIcon>\n *\n * @module agate/LabeledIcon\n * @exports LabeledIcon\n * @exports LabeledIconBase\n * @exports LabeledIconDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport {LabeledIconBase as UiLabeledIconBase, LabeledIconDecorator as UiLabeledIconDecorator} from '@enact/ui/LabeledIcon';\nimport Pure from '@enact/ui/internal/Pure';\nimport compose from 'ramda/src/compose';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../Icon';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './LabeledIcon.module.less';\n\n/**\n * A basic LabeledIcon component structure without any behaviors applied to it.\n *\n * @class LabeledIconBase\n * @memberof agate/LabeledIcon\n * @extends ui/LabeledIcon.LabeledIconBase\n * @ui\n * @public\n */\nconst LabeledIconBase = kind({\n\tname: 'LabeledIcon',\n\n\tpropTypes: /** @lends agate/LabeledIcon.LabeledIconBase.prototype */ {\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `labeledIcon` - The root class name\n\t\t * * `label` - Applied to the label element\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'labeledIcon',\n\t\tpublicClassNames: true\n\t},\n\n\trender: (props) => UiLabeledIconBase.inline({\n\t\ticonComponent: Icon,\n\t\t...props,\n\t\tcss: props.css\n\t})\n});\n\n/**\n * Adds Agate specific behaviors to [LabeledIconBase]{@link agate/LabeledIcon.LabeledIconBase}.\n *\n * @hoc\n * @memberof agate/LabeledIcon\n * @mixes agate/LabeledIcon.LabeledIconDecorator\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst LabeledIconDecorator = compose(\n\tUiLabeledIconDecorator,\n\tPure,\n\tSkinnable\n);\n\n/**\n * An Agate-styled icon component with a label.\n *\n * Usage:\n * ```\n * <LabeledIcon icon=\"star\" labelPosition=\"after\">\n *   Favorite\n * </LabeledIcon>\n * ```\n *\n * @class LabeledIcon\n * @memberof agate/LabeledIcon\n * @extends agate/LabeledIcon.LabeledIconBase\n * @mixes agate/LabeledIcon.LabeledIconDecorator\n * @ui\n * @public\n */\nconst LabeledIcon = LabeledIconDecorator(LabeledIconBase);\n\nexport default LabeledIcon;\nexport {\n\tLabeledIcon,\n\tLabeledIconBase,\n\tLabeledIconDecorator\n};\n","/**\n * Agate styled checkbox component.\n *\n * @example\n * <Checkbox onToggle={console.log} />\n *\n * @module agate/Checkbox\n * @exports Checkbox\n * @exports CheckboxBase\n */\n\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Icon from '../Icon/Icon';\nimport ToggleIcon from '../internal/ToggleIcon/ToggleIcon';\n\nimport css from './Checkbox.module.less';\n\n/**\n * A checkbox component, ready to use in Agate applications.\n *\n * `Checkbox` may be used independently to represent a toggleable state but is more commonly used as\n * part of [CheckboxItem]{@link agate/CheckboxItem}.\n *\n * Usage:\n * ```\n * <Checkbox selected />\n * ```\n *\n * @class Checkbox\n * @memberof agate/Checkbox\n * @extends agate/internal/ToggleIcon.ToggleIcon\n * @ui\n * @private\n */\nconst CheckboxBase = kind({\n\tname: 'Checkbox',\n\n\tpropTypes: /** @lends agate/Checkbox.Checkbox.prototype */ {\n\t\t/**\n\t\t * The icon displayed when `selected`.\n\t\t *\n\t\t * @see {@link agate/Icon.Icon.children}\n\t\t * @type {String|Object}\n\t\t * @default\t'check'\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tchildren: 'check'\n\t},\n\n\trender: ({children, ...rest}) => {\n\t\treturn (\n\t\t\t<ToggleIcon\n\t\t\t\t{...rest}\n\t\t\t\tcss={css}\n\t\t\t\ticonComponent={Icon}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</ToggleIcon>\n\t\t);\n\t}\n});\n\nexport default CheckboxBase;\nexport {\n\tCheckboxBase as Checkbox,\n\tCheckboxBase\n};\n","/**\n * Agate styled item components with a toggleable checkbox.\n *\n * @example\n * <CheckboxItem onToggle={console.log}>\n * \tItem with a Checkbox\n * </CheckboxItem>\n *\n * @module agate/CheckboxItem\n * @exports CheckboxItem\n * @exports CheckboxItemBase\n */\n\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport compose from 'ramda/src/compose';\n\nimport Spottable from '@enact/spotlight/Spottable';\nimport Toggleable from '@enact/ui/Toggleable';\n\nimport Checkbox from '../Checkbox';\nimport Item from '../Item';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './CheckboxItem.module.less';\n\n/**\n * An item with a checkbox component, ready to use in Agate applications.\n *\n * `CheckboxItem` may be used to allow the user to select a single option or used as part of a\n * [Group]{@link ui/Group} when multiple [selections]{@link ui/Group.Group.select} are possible.\n *\n * Usage:\n * ```\n * <CheckboxItem\n * \tdefaultSelected={selected}\n * \tonToggle={handleToggle}\n * >\n *  Item with a Checkbox\n * </CheckboxItem>\n * ```\n *\n * @class CheckboxItem\n * @memberof agate/CheckboxItem\n * @extends agate/Item.Item\n * @omit iconComponent\n * @ui\n * @public\n */\nconst CheckboxItemBase = kind({\n\tname: 'CheckboxItem',\n\n\tpropTypes: /** @lends agate/CheckboxItem.CheckboxItem.prototype */ {\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal Elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `checkboxItem` - The root class name\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The icon content.\n\t\t *\n\t\t * May be specified as either:\n\t\t *\n\t\t * * A string that represents an icon from the [iconList]{@link ui/Icon.Icon.iconList},\n\t\t * * An HTML entity string, Unicode reference or hex value (in the form '0x...'),\n\t\t * * A URL specifying path to an icon image, or\n\t\t * * An object representing a resolution independent resource (See {@link ui/resolution})\n\t\t *\n\t\t * @type {String|Object}\n\t\t * @default 'check'\n\t\t * @public\n\t\t */\n\t\ticon: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\n\t\t/**\n\t\t * If true the checkbox will be selected.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\ticon: 'check'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'checkboxItem',\n\t\tpublicClassNames: ['checkboxItem']\n\t},\n\n\trender: ({children, css, icon, selected, ...rest}) => (\n\t\t<Item\n\t\t\tdata-webos-voice-intent=\"SelectCheckItem\"\n\t\t\trole=\"checkbox\"\n\t\t\t{...rest}\n\t\t\tcss={css}\n\t\t>\n\t\t\t<Checkbox selected={selected} slot=\"slotBefore\">{icon}</Checkbox>\n\t\t\t{children}\n\t\t</Item>\n\t)\n});\n\nconst CheckboxItemDecorator = compose(\n\tToggleable({toggleProp: 'onClick'}),\n\tSpottable,\n\tSkinnable\n);\n\nconst CheckboxItem = CheckboxItemDecorator(CheckboxItemBase);\n\nexport default CheckboxItem;\nexport {\n\tCheckboxItem,\n\tCheckboxItemBase\n};\n","/**\n * An unstyled item component and behaviors to be customized by a theme or application.\n *\n * @module ui/Item\n * @exports Item\n * @exports ItemBase\n * @exports ItemDecorator\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport Touchable from '../Touchable';\nimport ForwardRef from '../ForwardRef';\n\nimport componentCss from './Item.module.less';\n\n/**\n * A basic list item component structure without any behaviors applied to it.\n *\n * It also has support for overlay to place things before and after the main content.\n *\n * @class ItemBase\n * @memberof ui/Item\n * @ui\n * @public\n */\nconst ItemBase = kind({\n\tname: 'ui:Item',\n\n\tpropTypes: /** @lends ui/Item.ItemBase.prototype */ {\n\t\t/**\n\t\t * The node to be displayed as the main content of the item.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * The type of component to use to render the item. May be a DOM node name (e.g 'div',\n\t\t * 'span', etc.) or a custom component.\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @default 'div'\n\t\t * @public\n\t\t */\n\t\tcomponent: EnactPropTypes.renderable,\n\n\t\t/**\n\t\t * Called with a reference to [component]{@link ui/Item.ItemBase#component}\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @private\n\t\t */\n\t\tcomponentRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `item` - The root class name\n\t\t * * `inline` - Applied when `inline` prop is true\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Applies a disabled state to the item.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Applies inline styling to the item.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tinline: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tcomponent: 'div',\n\t\tinline: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'item',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({inline, styler}) => styler.append({inline})\n\t},\n\n\trender: ({component: Component, componentRef, disabled, children, ...rest}) => {\n\t\tdelete rest.inline;\n\n\t\treturn (\n\t\t\t<Component\n\t\t\t\tref={componentRef}\n\t\t\t\t{...rest}\n\t\t\t\taria-disabled={disabled}\n\t\t\t\tdisabled={disabled}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</Component>\n\t\t);\n\t}\n});\n\n/**\n * A higher-order component that adds touch support to the component it wraps.\n *\n * @hoc\n * @memberof ui/Item\n * @mixes ui/ForwardRef.ForwardRef\n * @mixes ui/Touchable.Touchable\n * @public\n */\nconst ItemDecorator = compose(\n\tForwardRef({prop: 'componentRef'}),\n\tTouchable\n);\n\n/**\n * A minimally-styled ready-to-use list item component with touch support.\n *\n * @class Item\n * @memberof ui/Item\n * @extends ui/Item.ItemBase\n * @mixes ui/Item.ItemDecorator\n * @ui\n * @public\n */\nconst Item = ItemDecorator(ItemBase);\n\nexport default Item;\nexport {\n\tItem,\n\tItemBase,\n\tItemDecorator\n};\n","/**\n * Provides Agate-themed Item component and interactive radio toggle icon.\n *\n * @module agate/RadioItem\n * @exports RadioItem\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport kind from '@enact/core/kind';\nimport Spottable from '@enact/spotlight/Spottable';\nimport Toggleable from '@enact/ui/Toggleable';\nimport Touchable from '@enact/ui/Touchable';\n\nimport Icon from '../Icon';\nimport Item from '../Item';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './RadioItem.module.less';\n\n/**\n * Renders an `Item` with a radio-dot component. Useful to show a selected state on an Item.\n *\n * @class RadioItem\n * @memberof agate/RadioItem\n * @extends agate/Item.Item\n * @mixes spotlight/Spottable.Spottable\n * @mixes ui/Toggleable.Toggleable\n * @mixes ui/Touchable.Touchable\n * @mixes agate/Skinnable.Skinnable\n * @ui\n * @public\n */\nconst RadioItemBase = kind({\n\tname: 'RadioItemBase',\n\n\tpropTypes: /** @lends agate/RadioItem.RadioItem.prototype */ {\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `radioIcon` - Class name for the radio toggle icon\n\t\t * * `radioItem` - The root class name\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The icon to display when selected.\n\t\t *\n\t\t * @type {String}\n\t\t * @see {@link agate/Icon.Icon}\n\t\t */\n\t\ticon: PropTypes.string,\n\n\t\t/**\n\t\t * Sets the RadioItem to its 'on' state.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\ticon: 'circle',\n\t\tselected: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'radioItem',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({css, selected, styler}) => styler.append(selected && css.selected)\n\t},\n\n\trender: ({children, css, icon, ...rest}) => {\n\t\tdelete rest.selected;\n\n\t\treturn (\n\t\t\t<Item {...rest} css={css}>\n\t\t\t\t<Icon slot=\"slotBefore\" className={css.icon} size=\"small\">{icon}</Icon>\n\t\t\t\t{children}\n\t\t\t</Item>\n\t\t);\n\t}\n});\n\n// Decorator is not exported so not documented\nconst RadioItemDecorator = compose(\n\tToggleable({toggleProp: 'onTap'}),\n\tTouchable,\n\tSpottable,\n\tSkinnable\n);\n\nconst RadioItem = RadioItemDecorator(RadioItemBase);\n\nexport default RadioItem;\nexport {\n\tRadioItem\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tooltip\":\"Tooltip_tooltip__21Taf\",\"tooltipArrow\":\"Tooltip_tooltipArrow__1UFSI\",\"rightArrow\":\"Tooltip_rightArrow__3Dn1-\",\"leftArrow\":\"Tooltip_leftArrow__3CpLs\",\"centerArrow\":\"Tooltip_centerArrow__2QQro\",\"middleArrow\":\"Tooltip_middleArrow__QZsMl\",\"tooltipLabel\":\"Tooltip_tooltipLabel__K7X0i\",\"multi\":\"Tooltip_multi__1Nf2g\",\"below\":\"Tooltip_below__1VK9S\",\"above\":\"Tooltip_above__2apQb\",\"left\":\"Tooltip_left__2d4Su\",\"topArrow\":\"Tooltip_topArrow__acqRh\",\"bottomArrow\":\"Tooltip_bottomArrow__37uWd\",\"right\":\"Tooltip_right__192Xq\",\"absolute\":\"Tooltip_absolute__2ckaw\",\"tooltipAnchor\":\"Tooltip_tooltipAnchor__3JBqH\",\"relative\":\"Tooltip_relative__1Wb1u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"skinFrame\":\"ThemeEnvironment_skinFrame__3bmvN\",\"storyBody\":\"ThemeEnvironment_storyBody__1M94b\",\"themeEnvironment\":\"ThemeEnvironment_themeEnvironment__2cYfA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timePicker\":\"TimePicker_timePicker__3sLkn\",\"pickers\":\"TimePicker_pickers__2dJB6\",\"hourPicker\":\"TimePicker_hourPicker__3yi6Y\",\"minutePicker\":\"TimePicker_minutePicker__1xO61\",\"meridiemPicker\":\"TimePicker_meridiemPicker__1NBd3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"virtualList\":\"UiVirtualList_virtualList__1INFF\",\"vertical\":\"UiVirtualList_vertical__3r9dI\",\"horizontal\":\"UiVirtualList_horizontal__OXQUL\",\"listItem\":\"UiVirtualList_listItem__me5B1\",\"content\":\"UiVirtualList_content__3Cgmr\"};","import EnactPropTypes from '@enact/core/internal/prop-types';\nimport {forProp, forward, handle, stop} from '@enact/core/handle';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport componentCss from './Marquee.module.less';\n\nconst isEventSource = (ev) => ev.target === ev.currentTarget;\n\n/**\n * Marquees the children of the component.\n *\n * For automated marquee calculations use {@link ui/Marquee.Marquee}.\n *\n * @class MarqueeBase\n * @memberof ui/Marquee\n * @ui\n * @public\n */\nconst MarqueeBase = kind({\n\tname: 'ui:Marquee',\n\n\tpropTypes: /** @lends ui/Marquee.MarqueeBase.prototype */ {\n\n\t\t/**\n\t\t * Text alignment value of the marquee\n\t\t *\n\t\t * Valid values are:\n\t\t *\n\t\t * * `'left'`,\n\t\t * * `'right'`, and\n\t\t * * `'center'`\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\talignment: PropTypes.oneOf(['left', 'right', 'center']),\n\n\t\t/**\n\t\t * Applies animating styles such as removing the ellipsis.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tanimating: PropTypes.bool,\n\n\t\t/**\n\t\t * Sets the value of the `aria-label` attribute for the wrapped component.\n\t\t *\n\t\t * @memberof ui/Marquee.MarqueeBase.prototype\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\t'aria-label': PropTypes.string,\n\n\t\t/**\n\t\t * The text or a set of components that should be marqueed\n\t\t *\n\t\t * This prop may be empty in some cases, which is OK.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Called when mounting or unmounting with a reference to the client node\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @public\n\t\t */\n\t\tclientRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `marquee` - The root component class\n\t\t * * `animate` - Applied to the inner content node when the text is animating\n\t\t * * `spacing` - The spacing node used between the repeated content\n\t\t * * `text` - The inner content node\n\t\t * * `willAnimate` - Applied to the inner content node shortly before animation\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Distance to animate the marquee\n\t\t *\n\t\t * Usually, the `distance` is the width of the text minus the width of the container\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tdistance: PropTypes.number,\n\n\t\t/**\n\t\t * Called when the marquee completes its animation\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonMarqueeComplete: PropTypes.func,\n\n\t\t/**\n\t\t * Text overflow setting. Either `'clip'` or `'ellipsis'`\n\t\t *\n\t\t * @type {('clip'|'ellipsis')}\n\t\t * @public\n\t\t */\n\t\toverflow: PropTypes.oneOf(['clip', 'ellipsis']),\n\n\t\t/**\n\t\t * `true` if the directionality of the content is right-to-left\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t * @default false\n\t\t */\n\t\trtl: PropTypes.bool,\n\n\t\t/**\n\t\t * Amount of spacing, in pixels, between the instances of the content\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tspacing: PropTypes.number,\n\n\t\t/**\n\t\t * Speed of marquee animation in pixels/second.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tspeed: PropTypes.number,\n\n\t\t/**\n\t\t * Indicates the marquee will animate soon.\n\t\t *\n\t\t * Should be used by the component to prepare itself for animation such as promoting\n\t\t * composite layers for improved performance.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t * @default false\n\t\t */\n\t\twillAnimate: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tspacing: 0,\n\t\trtl: false,\n\t\twillAnimate: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'marquee',\n\t\tpublicClassNames: true\n\t},\n\n\thandlers: {\n\t\tapplyOffset: (node, {distance, rtl, spacing}) => {\n\t\t\tif (!node || !global.IntersectionObserver) return;\n\n\t\t\tconst root = node.parentNode;\n\t\t\tnew global.IntersectionObserver(function (entries, observer) {\n\t\t\t\tconst {left, right} = entries[0].boundingClientRect;\n\t\t\t\tconst {left: rootLeft, right: rootRight} = entries[0].rootBounds;\n\n\t\t\t\tconst textWidth = rtl ? rootRight - right : left - rootLeft;\n\t\t\t\tconst offset = distance - (textWidth + spacing);\n\n\t\t\t\tnode.style.setProperty('--ui-marquee-offset', offset);\n\n\t\t\t\tobserver.disconnect();\n\t\t\t}, {root}).observe(node);\n\t\t},\n\t\tonMarqueeComplete: handle(\n\t\t\tforProp('animating', true),\n\t\t\tisEventSource,\n\t\t\tstop,\n\t\t\t(ev, props) => forward('onMarqueeComplete', {type: 'onMarqueeComplete'}, props)\n\t\t)\n\t},\n\n\tcomputed: {\n\t\t'aria-label': ({'aria-label': aria, children, distance, willAnimate}) => {\n\t\t\tif (children != null && aria == null && willAnimate && distance > 0) {\n\t\t\t\treturn React.Children.map(children, c => typeof c === 'string' && c)\n\t\t\t\t\t.filter(Boolean)\n\t\t\t\t\t.join(' ') || aria;\n\t\t\t} else {\n\t\t\t\treturn aria;\n\t\t\t}\n\t\t},\n\t\tclientClassName: ({animating, willAnimate, styler}) => styler.join({\n\t\t\tanimate: animating,\n\t\t\ttext: true,\n\t\t\twillAnimate\n\t\t}),\n\t\tclientStyle: ({alignment, animating, distance, overflow, rtl, spacing, speed}) => {\n\t\t\t// If the components content directionality doesn't match the context, we need to set it\n\t\t\t// inline\n\t\t\tconst direction = rtl ? 'rtl' : 'ltr';\n\t\t\tconst rtlDirectionMultiplier = rtl ? 1 : -1;\n\t\t\tconst style = {\n\t\t\t\t'--ui-marquee-spacing': spacing,\n\t\t\t\tdirection,\n\t\t\t\ttextAlign: alignment,\n\t\t\t\ttextOverflow: overflow\n\t\t\t};\n\n\t\t\tif (animating) {\n\t\t\t\tconst duration = distance / speed;\n\n\t\t\t\tstyle.transform = `translateX(${distance * rtlDirectionMultiplier}px)`;\n\t\t\t\tstyle.transitionDuration = `${duration}s`;\n\t\t\t} else {\n\t\t\t\tstyle.transform = 'translateX(0)';\n\t\t\t}\n\n\t\t\treturn style;\n\t\t},\n\t\tduplicate: ({distance, willAnimate}) => {\n\t\t\treturn willAnimate && distance > 0;\n\t\t}\n\t},\n\n\trender: ({applyOffset, children, clientClassName, clientRef, clientStyle, css, duplicate, onMarqueeComplete, ...rest}) => {\n\t\tdelete rest.alignment;\n\t\tdelete rest.animating;\n\t\tdelete rest.distance;\n\t\tdelete rest.onMarqueeComplete;\n\t\tdelete rest.overflow;\n\t\tdelete rest.rtl;\n\t\tdelete rest.spacing;\n\t\tdelete rest.speed;\n\t\tdelete rest.willAnimate;\n\n\t\treturn (\n\t\t\t<div {...rest}>\n\t\t\t\t<div\n\t\t\t\t\tclassName={clientClassName}\n\t\t\t\t\tref={clientRef}\n\t\t\t\t\tstyle={clientStyle}\n\t\t\t\t\tonTransitionEnd={onMarqueeComplete}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t\t{duplicate ? (\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<div className={css.spacing} ref={applyOffset} />\n\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nexport default MarqueeBase;\nexport {\n\tMarqueeBase\n};\n","/**\n * Exports various utilities for performing dev-time validations\n *\n * @module ui/internal/validators\n * @private\n */\n\n/**\n * Issues a warning to the console\n *\n * @function\n * @param {String} msg\t\t\t\tEvent name\n * @param\t{Function}\tfn\t\t\t\t\tEvent handler\n * @param\t{Node}\t\t[target=`document`]\tEvent listener target\n *\n * @returns {undefined}\n * @memberof ui/internal/validators\n * @private\n */\nexport const warn = (msg) => {\n\tif (typeof console !== 'undefined') {\n\t\tconsole.warn(msg);\t// eslint-disable-line no-console\n\t}\n};\n\n/**\n * Issues a warning to the console if `value` is not within the range\n * `min` to `max` or if `min` is less than `max`. In production mode,\n * no action is taken.\n *\n * @function\n * @param {Number} value The value to validate\n * @param {Number} min   The minimum acceptable value to validate\n * @param {Number} max   The maximum acceptable value to validate\n * @param {String} component The name of the invoker, used to decorate warning message\n * @param {String} [valueName='value'] The name of the value property\n * @param {String} [minName='min'] The name of the min property\n * @param {String} [maxName='max'] The name of the max property\n *\n * @returns {undefined}\n * @memberof ui/internal/validators\n * @private\n */\nexport const validateRange = (value, min, max, component, valueName = 'value', minName = 'min', maxName = 'max') => {\n\tif (__DEV__) {\n\t\tlet warned = false;\n\t\tif (value < min) {\n\t\t\twarn(`Warning: ${component} ${valueName} (${value}) less than ${minName} (${min})`);\n\t\t\twarned = true;\n\t\t} else if (value > max) {\n\t\t\twarn(`Warning: ${component} ${valueName} (${value}) greater than ${maxName} (${max})`);\n\t\t\twarned = true;\n\t\t}\n\t\tif (min > max) {\n\t\t\twarn(`Warning: ${component} ${minName} (${min}) greater than ${maxName} (${max})`);\n\t\t\twarned = true;\n\t\t}\n\t\treturn warned;\n\t}\n};\n\nexport const validateRangeOnce = (thing, {component, valueName = 'value', minName = 'min', maxName = 'max'}) => {\n\tif (__DEV__) {\n\t\tlet displayed;\n\t\treturn (props) => {\n\t\t\tif (!displayed) {\n\t\t\t\tdisplayed = validateRange(props[valueName], props[minName], props[maxName], component, valueName, minName, maxName);\n\t\t\t}\n\t\t\treturn thing(props);\n\t\t};\n\t} else {\n\t\treturn thing;\n\t}\n};\n\n/**\n * Issues a warning to the console if `value`, adjusted for `min` is not evenly\n * divisible by `step`. In production mode, no action is taken.\n *\n * @function\n * @param {Number} value The value to validate\n * @param {Number} min   The minimum acceptable value to validate\n * @param {Number} step  The step\n * @param {String} component The name of the invoker, used to decorate warning message\n * @param {String} [valueName='value'] The name of the value property\n * @param {String} [stepName='step'] The name of the step property\n *\n * @returns {Boolean} `true` if warned\n * @memberof ui/internal/validators\n * @private\n */\nexport const validateStepped = (value, min, step, component, valueName = 'value', stepName = 'step') => {\n\tif (__DEV__) {\n\t\t// Ignore fractional steps as floating point math can give inconsistent results (1 % 0.1 != 0)\n\t\tif (step && step === Math.floor(step) && (value - min) % step !== 0) {\n\t\t\twarn(`Warning: ${component} ${valueName} (${value}) must be evenly divisible by ${stepName} (${step})`);\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n};\n\nexport const validateSteppedOnce = (thing, {component, minName = 'min', stepName = 'step', valueName = 'value'}) => {\n\tif (__DEV__) {\n\t\tlet displayed;\n\t\treturn (args) => {\n\t\t\tif (!displayed) {\n\t\t\t\tdisplayed = validateStepped(args[valueName], args[minName], args[stepName], component, valueName, stepName);\n\t\t\t}\n\t\t\treturn thing(args);\n\t\t};\n\t} else {\n\t\treturn thing;\n\t}\n};\n","/**\n * A component for selecting a number from a range of numbers.\n *\n * @example\n * <RangePicker defaultValue={70} min={0} max={100}></RangePicker>\n *\n * @module agate/RangePicker\n * @exports RangePicker\n * @exports RangePickerBase\n */\n\nimport kind from '@enact/core/kind';\nimport {clamp} from '@enact/core/util';\nimport Changeable from '@enact/ui/Changeable';\nimport Pure from '@enact/ui/internal/Pure';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport PickerCore from '../internal/Picker';\n\n/**\n * RangePicker base component.\n *\n * @class RangePickerBase\n * @memberof agate/RangePicker\n * @ui\n * @public\n */\nconst RangePickerBase = kind({\n\tname: 'RangePicker',\n\n\tpropTypes: /** @lends agate/RangePicker.RangePickerBase.prototype */ {\n\t\t/**\n\t\t * The maximum value selectable by the picker (inclusive).\n\t\t *\n\t\t * The range between `min` and `max` should be evenly divisible by\n\t\t * [step]{@link agate/RangePicker.RangePickerBase.step}.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tmax: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The minimum value selectable by the picker (inclusive).\n\t\t *\n\t\t * The range between `min` and `max` should be evenly divisible by\n\t\t * [step]{@link agate/RangePicker.RangePickerBase.step}.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tmin: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * Current value.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * Children from which to pick.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Class name for component.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tclassName: PropTypes.string,\n\n\t\t/**\n\t\t * Disables the picker.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when `value` changes.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChange: PropTypes.func,\n\n\t\t/**\n\t\t * The smallest value change allowed for the picker.\n\t\t *\n\t\t * For example, a step of `2` would cause the picker to increment from 0 to 2 to 4, etc.\n\t\t * It must evenly divide into the range designated by `min` and `max`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t * @public\n\t\t */\n\t\tstep: PropTypes.number\n\t},\n\n\tcomputed: {\n\t\tdisabled: ({disabled, max, min}) => min >= max ? true : disabled,\n\t\tvalue: ({min, max, value}) => {\n\t\t\treturn clamp(min, max, value);\n\t\t}\n\t},\n\n\trender: ({value, ...rest}) => {\n\t\treturn (\n\t\t\t<PickerCore {...rest} value={value}>\n\t\t\t\t{value}\n\t\t\t</PickerCore>\n\t\t);\n\t}\n});\n\n/**\n * Overrides the `aria-valuetext` for the picker. By default, `aria-valuetext` is set\n * to the current value. This should only be used when the parent controls the value of\n * the picker directly through the props.\n *\n * @name aria-valuetext\n * @type {String|Number}\n * @memberof agate/RangePicker.RangePicker.prototype\n * @public\n */\n\n/**\n * Sets the hint string read when focusing the decrement button.\n *\n * @name decrementAriaLabel\n * @memberof agate/RangePicker.RangePicker.prototype\n * @default 'previous item'\n * @type {String}\n * @public\n */\n\n/**\n * Sets the hint string read when focusing the increment button.\n *\n * @name incrementAriaLabel\n * @memberof agate/RangePicker.RangePicker.prototype\n * @default 'next item'\n * @type {String}\n * @public\n */\n\n/**\n * Orientation of the picker.\n *\n * Controls whether the buttons are arranged horizontally or vertically around the value.\n *\n * * Values: `'horizontal'`, `'vertical'`\n *\n * @name orientation\n * @memberof agate/RangePicker.RangePicker.prototype\n * @type {String}\n * @default 'vertical'\n * @public\n */\n\n/**\n * A component that lets the user select a number from a range of numbers.\n *\n * By default, `RangePicker` maintains the state of its `value` property. Supply the `defaultValue`\n * property to control its initial value. If you wish to directly control updates to the component,\n * supply a value to `value` at creation time and update it in response to `onChange` events.\n *\n * @class RangePicker\n * @memberof agate/RangePicker\n * @mixes ui/Changeable.Changeable\n * @ui\n * @public\n */\nconst RangePicker = Pure(\n\tChangeable(\n\t\tRangePickerBase\n\t)\n);\n\n/**\n * Default value\n *\n * @name defaultValue\n * @memberof agate/RangePicker.RangePicker.prototype\n * @type {Number}\n * @public\n */\n\nexport default RangePicker;\nexport {RangePicker, RangePickerBase};\n","/**\n * A component for selecting values from a list of values.\n *\n * @example\n * <Picker>\n * \t{['A', 'B', 'C']}\n * </Picker>\n *\n * @module agate/Picker\n * @exports Picker\n * @exports PickerBase\n * @exports PickerDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport clamp from 'ramda/src/clamp';\nimport React from 'react';\n\nimport PickerCore, {PickerDecorator} from '../internal/Picker';\n\n/**\n * The base `Picker` component.\n *\n * This version is not [`spottable`]{@link spotlight/Spottable.Spottable}.\n *\n * @class PickerBase\n * @memberof agate/Picker\n * @ui\n * @public\n */\nconst PickerBase = kind({\n\tname: 'Picker',\n\n\tpropTypes: /** @lends agate/Picker.PickerBase.prototype */ {\n\t\t/**\n\t\t * Picker value list.\n\t\t *\n\t\t * @type {Array}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.array.isRequired,\n\n\t\t/**\n\t\t * Disables the picker.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when the `value` changes.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChange: PropTypes.func,\n\n\t\t/**\n\t\t * Index of the selected child.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.number\n\t},\n\n\tdefaultProps: {\n\t\tvalue: 0\n\t},\n\n\tcomputed: {\n\t\tdisabled: ({children, disabled}) => React.Children.count(children) > 1 ? disabled : true,\n\t\tmax: ({children}) => children && children.length ? children.length - 1 : 0,\n\t\tvalue: ({value, children}) => {\n\t\t\tconst max = children && children.length ? children.length - 1 : 0;\n\t\t\treturn clamp(0, max, value);\n\t\t}\n\t},\n\n\trender: (props) => {\n\t\tconst {children, max, value, ...rest} = props;\n\n\t\treturn (\n\t\t\t<PickerCore {...rest} min={0} max={max} step={1} value={value}>\n\t\t\t\t{children}\n\t\t\t</PickerCore>\n\t\t);\n\t}\n});\n\n/**\n * Overrides the `aria-valuetext` for the picker. By default, `aria-valuetext` is set\n * to the current value. This should only be used when the parent controls the value of\n * the picker directly through the props.\n *\n * @name aria-valuetext\n * @type {String|Number}\n * @memberof agate/Picker.Picker.prototype\n * @public\n */\n\n/**\n * Sets the hint string read when focusing the decrement button.\n *\n * @name decrementAriaLabel\n * @memberof agate/Picker.Picker.prototype\n * @default 'previous item'\n * @type {String}\n * @public\n */\n\n/**\n * Sets the hint string read when focusing the increment button.\n *\n * @name incrementAriaLabel\n * @memberof agate/Picker.Picker.prototype\n * @default 'next item'\n * @type {String}\n * @public\n */\n\n/**\n * Orientation of the picker.\n *\n * Controls whether the buttons are arranged horizontally or vertically around the value.\n *\n * * Values: `'horizontal'`, `'vertical'`\n *\n * @name orientation\n * @memberof agate/Picker.Picker.prototype\n * @type {String}\n * @default 'vertical'\n * @public\n */\n\n/**\n * A Picker component that allows selecting values from a list of values.\n *\n * By default, `Picker` maintains the state of its `value` property. Supply the `defaultValue`\n * property to control its initial value. If you wish to directly control updates to the component,\n * supply a value to `value` at creation time and update it in response to `onChange` events.\n *\n * @class Picker\n * @memberof agate/Picker\n * @extends agate/Picker.PickerBase\n * @mixes agate/internal/Picker.PickerDecorator\n * @ui\n * @public\n */\nconst Picker = PickerDecorator(PickerBase);\n\n/**\n * Default index of the selected child.\n *\n * *Note*: Changing `defaultValue` after initial render has no effect.\n *\n * @name defaultValue\n * @memberof agate/Picker.Picker.prototype\n * @type {Number}\n * @public\n */\n\nexport default Picker;\nexport {\n\tPicker,\n\tPickerBase\n};\n","/**\n * An unstyled indeterminate progress indicator (Spinner) component to be customized by a\n * theme or application.\n *\n * Basically, this positions your `Spinner` component where you want it on the\n * screen, and hooks into the interaction blocking code and scrim management.\n *\n * The theme using this component must supply a `component` element which follows the requirements\n * listed by the [component]{@link ui/Spinner.Spinner.component} prop documentation.\n *\n * @module ui/Spinner\n * @exports Spinner\n * @exports SpinnerBase\n * @exports SpinnerDecorator\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport FloatingLayer from '../FloatingLayer';\nimport ForwardRef from '../ForwardRef';\n\nimport componentCss from './Spinner.module.less';\n\n/**\n * A minimally styled component that controls `Spinner` positioning and interaction states, without\n * [SpinnerDecorator](ui/Spinner.SpinnerDecorator) applied.\n *\n * @class SpinnerBase\n * @memberof ui/Spinner\n * @ui\n * @public\n */\nconst SpinnerBase = kind({\n\tname: 'ui:Spinner',\n\n\tpropTypes: /** @lends ui/Spinner.SpinnerBase.prototype */ {\n\t\t/**\n\t\t * A theme-supplied component that performs the animation.\n\t\t *\n\t\t * Theme authors can use the `css.running` class to attach the animation CSS.\n\t\t * This element should accept a `children` prop which takes the form of an optional message\n\t\t * for the user.\n\t\t *\n\t\t * Unlike most other components, this does *not* represent the root rendered element, and\n\t\t * instead refers to the \"spinner\" part of this component. The presence of `blockClickOn`\n\t\t * changes the rendering tree and where this is used.\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tcomponent: EnactPropTypes.renderable.isRequired,\n\n\t\t/**\n\t\t * Determines how far the click-blocking should extend.\n\t\t *\n\t\t * * `null` does not block clicking\n\t\t * * 'screen' blocks entire screen\n\t\t * * 'container' blocks up to the nearest ancestor with absolute or relative positioning\n\t\t *\n\t\t * When `blockClickOn` is either `'screen'` or `'container'`, a translucent scrim can be added\n\t\t * by setting [scrim]{@link ui/Spinner.Spinner#scrim} prop to `true`.\n\t\t *\n\t\t * @type {String|null}\n\t\t * @public\n\t\t */\n\t\tblockClickOn: PropTypes.oneOf(['screen', 'container', null]),\n\n\t\t/**\n\t\t * Centers the spinner horizontally and vertically relative to its containing component.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tcentered: PropTypes.bool,\n\n\t\t/**\n\t\t * Called with a reference to [component]{@link ui/Spinner.Spinner#component}\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @private\n\t\t */\n\t\tcomponentRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `spinner` - The root `component` class\n\t\t * * `spinnerContainer` - Added as a parent in the case of `blockOnClick=\"container\"\n\t\t * * `blockClickOn` - Applied if interaction should be blocked\n\t\t * * `centered` - Applied if the `centered` prop is present\n\t\t * * `running` - Always applied to `component`. Attach animation name property to this class.\n\t\t * * `scrim` - The blocking layer behind the Spinner\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Halts the animation of the spinner\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tpaused: PropTypes.bool,\n\n\t\t/**\n\t\t * Sets a scrim behind the spinner with the `css.scrim` class applied.\n\t\t *\n\t\t * Only has an effect when `blockClickOn` is `'screen'` or `'container'` and has no effect\n\t\t * by default or when blockClickOn is `null`.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tscrim: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tcentered: false,\n\t\tpaused: false,\n\t\tscrim: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'spinner',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({centered, paused, styler}) => styler.append(\n\t\t\t{centered, running: !paused}\n\t\t),\n\t\tscrimClassName: ({blockClickOn, scrim, styler}) => styler.join(\n\t\t\t{blockClickOn, scrim}\n\t\t),\n\t\tscrimType: ({scrim}) => scrim ? 'translucent' : 'transparent',\n\t\tspinnerContainerClassName: ({blockClickOn, centered, styler}) => styler.join(\n\t\t\t{centered, spinnerContainer: blockClickOn}\n\t\t)\n\t},\n\n\trender: ({blockClickOn, component: Component, componentRef, scrimClassName, scrimType, spinnerContainerClassName, ...rest}) =>  {\n\t\tdelete rest.centered;\n\t\tdelete rest.paused;\n\t\tdelete rest.scrim;\n\n\t\tswitch (blockClickOn) {\n\t\t\tcase 'screen': {\n\t\t\t\treturn (\n\t\t\t\t\t<FloatingLayer noAutoDismiss open scrimType={scrimType}>\n\t\t\t\t\t\t<Component ref={componentRef} {...rest} />\n\t\t\t\t\t</FloatingLayer>\n\t\t\t\t);\n\t\t\t}\n\t\t\tcase 'container': {\n\t\t\t\treturn (\n\t\t\t\t\t<div className={spinnerContainerClassName}>\n\t\t\t\t\t\t<div className={scrimClassName} />\n\t\t\t\t\t\t<Component ref={componentRef} {...rest} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\treturn (\n\t\t\t\t\t<Component ref={componentRef} {...rest} />\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n});\n\n/**\n * Applies Spinner behaviors\n *\n * @class SpinnerDecorator\n * @memberof ui/Spinner\n * @mixes ui/ForwardRef.ForwardRef\n * @hoc\n * @public\n */\nconst SpinnerDecorator = ForwardRef({prop: 'componentRef'});\n\n/**\n * A minimally styled component that controls `Spinner` positioning and interaction states.\n *\n * @class Spinner\n * @memberof ui/Spinner\n * @extends ui/Spinner.SpinnerBase\n * @mixes ui/Spinner.SpinnerDecorator\n * @ui\n * @public\n */\nconst Spinner = SpinnerDecorator(SpinnerBase);\n\nexport default Spinner;\nexport {\n\tSpinner,\n\tSpinnerBase,\n\tSpinnerDecorator\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scrim\":\"Scrim_scrim__3gYzI\",\"transparent\":\"Scrim_transparent__2M18Y\",\"translucent\":\"Scrim_translucent__fD3HY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"datePicker\":\"DatePicker_datePicker__3mlNt\",\"day\":\"DatePicker_day__29l10\",\"month\":\"DatePicker_month__RhWWj\",\"year\":\"DatePicker_year__2GIHM\"};","/**\n * An Agate-themed drawer component.\n *\n * @example\n * <Drawer header=\"Surprise\">Hello Enact!</Drawer>\n *\n * @module agate/Drawer\n * @exports Drawer\n * @exports DrawerBase\n * @exports DrawerDecorator\n */\n\nimport compose from 'ramda/src/compose';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Layout, {Cell} from '@enact/ui/Layout';\nimport Slottable from '@enact/ui/Slottable';\nimport Transition from '@enact/ui/Transition';\n\nimport Skinnable from '../Skinnable';\n// import Icon from '../Icon';\n\nimport PopupState from '../Popup/PopupState';\n\nimport componentCss from './Drawer.module.less';\n\n/**\n * A drawer component, without behaviors.\n *\n * @class DrawerBase\n * @memberof agate/Drawer\n * @ui\n * @public\n */\nconst DrawerBase = kind({\n\tname: 'Drawer',\n\n\tpropTypes: {\n\t\tcss: PropTypes.object,\n\t\tfooter: PropTypes.node,\n\t\theader: PropTypes.node,\n\t\tnoAnimation: PropTypes.bool,\n\t\t// `onClose` is here for the future scenario where we'll want to have a local (to Drawer)\n\t\t// control that closes the Drawer; similar to how the old Moonstone Drawer worked with its\n\t\t// close-tab that was positioned on the edge of the drawer. This prop, the close icon below\n\t\t// and the .closeButton CSS in the LESS file all relate to this functionality.\n\t\t// onClose: PropTypes.func,\n\t\tonHide: PropTypes.func,\n\t\topen: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tnoAnimation: false,\n\t\topen: false,\n\t\torientation: 'vertical'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'drawer'\n\t},\n\n\trender: ({footer, children, css, noAnimation, onHide, open, header, ...rest}) => {\n\t\treturn (\n\t\t\t<Transition\n\t\t\t\tnoAnimation={noAnimation}\n\t\t\t\tvisible={open}\n\t\t\t\tdirection=\"left\"\n\t\t\t\tduration=\"short\"\n\t\t\t\ttype=\"slide\"\n\t\t\t\tclassName={css.drawerTransitionContainer}\n\t\t\t\tonHide={onHide}\n\t\t\t\tcss={css}\n\t\t\t>\n\t\t\t\t<Layout\n\t\t\t\t\trole=\"alert\"\n\t\t\t\t\t{...rest}\n\t\t\t\t>\n\t\t\t\t\t{/* <Icon size=\"small\" onClick={onClose} className={css.closeButton}>closex</Icon>*/}\n\t\t\t\t\t{header ? <Cell shrink className={css.header}>{header}</Cell> : null}\n\t\t\t\t\t<Cell className={css.content}>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</Cell>\n\t\t\t\t\t{footer ? <Cell shrink className={css.footer}>{footer}</Cell> : null}\n\t\t\t\t</Layout>\n\t\t\t</Transition>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [DrawerBase]{@link agate/Drawer.DrawerBase}.\n *\n * @hoc\n * @memberof agate/Drawer\n * @mixes ui/Slottable.Slottable\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst DrawerDecorator = compose(\n\tSlottable({slots: ['header', 'footer']}),\n\tSkinnable({prop: 'skin'}),\n\tPopupState\n);\n\n/**\n * A ready-to-use drawer component.\n *\n * @class Drawer\n * @memberof agate/Drawer\n * @ui\n * @public\n */\nconst Drawer = DrawerDecorator(DrawerBase);\n\nexport default Drawer;\nexport {Drawer, DrawerBase, DrawerDecorator};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"incrementSlider\":\"IncrementSlider_incrementSlider__1Md3i\",\"large\":\"IncrementSlider_large__NONhX\",\"horizontal\":\"IncrementSlider_horizontal__2IBgz\",\"decrementButton\":\"IncrementSlider_decrementButton__3wLj9\",\"incrementButton\":\"IncrementSlider_incrementButton__3mW1O\",\"input\":\"IncrementSlider_input__1axG1\",\"slider\":\"IncrementSlider_slider__1717x\",\"knob\":\"IncrementSlider_knob__1J3mU\",\"small\":\"IncrementSlider_small__1PdPD\",\"vertical\":\"IncrementSlider_vertical__3T5i5\"};","/**\n * Provides an Agate-themed progress bar component.\n *\n * @example\n * <ProgressBar progress={0.5} backgroundProgress={0.75} />\n *\n * @module agate/ProgressBar\n * @exports ProgressBar\n */\n\nimport kind from '@enact/core/kind';\nimport UiProgressBar from '@enact/ui/ProgressBar';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './ProgressBar.module.less';\n\n/**\n * Renders an Agate-styled progress bar.\n *\n * @class ProgressBar\n * @memberof agate/ProgressBar\n * @extends ui/ProgressBar.ProgressBar\n * @mixes agate/Skinnable.Skinnable\n * @ui\n * @public\n */\nconst ProgressBarBase = kind({\n\tname: 'ProgressBar',\n\n\tpropTypes: /** @lends agate/ProgressBar.ProgressBar.prototype */ {\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `progressBar` - The root component class\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Sets the orientation of the progress bar.\n\t\t *\n\t\t * @type {('horizontal'|'vertical')}\n\t\t * @default 'horizontal'\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t/**\n\t\t * A number between `0` and `1` indicating the proportion of the filled portion of the bar.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tprogress: PropTypes.number,\n\n\t\t/**\n\t\t * The size of the progress bar.\n\t\t *\n\t\t * @type {('small'|'large')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['small', 'large'])\n\t},\n\n\tdefaultProps: {\n\t\torientation: 'horizontal',\n\t\tprogress: 0,\n\t\tsize: 'large'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({size, styler}) => styler.append(size)\n\t},\n\n\trender: ({css, ...rest}) => {\n\t\tdelete rest.size;\n\n\t\treturn (\n\t\t\t<UiProgressBar\n\t\t\t\t{...rest}\n\t\t\t\tcss={css}\n\t\t\t/>\n\t\t);\n\t}\n});\n\n// Not documenting as base is not very useful to developers.\nconst ProgressBar = Skinnable(ProgressBarBase);\n\nexport default ProgressBar;\nexport {\n\tProgressBar,\n\tProgressBarBase\n};\n","/**\n * Provides an Agate-themed button group.\n *\n * @example\n * <SliderButton>{['Light Speed', 'Ridiculous Speed', 'Ludicrous Speed']}</SliderButton>\n *\n * @module agate/SliderButton\n * @exports SliderButton\n * @exports SliderButtonBase\n * @exports SliderButtonDecorator\n */\n\nimport React from 'react';\nimport kind from '@enact/core/kind';\nimport Spottable from '@enact/spotlight/Spottable';\nimport Pure from '@enact/ui/internal/Pure';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport {Cell, Row} from '@enact/ui/Layout';\nimport UiSlider from '@enact/ui/Slider';\n\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './SliderButton.module.less';\n\nconst SliderKnob = kind({\n\tname: 'SliderKnob',\n\tpropTypes: {\n\t\tcss: PropTypes.object,\n\t\tvalue: PropTypes.number\n\t},\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'knob'\n\t},\n\tcomputed: {\n\t\tstyle: ({style, value}) => {\n\t\t\t// const factor = Math.abs((value - Math.round(value))) / 4;\n\t\t\treturn {\n\t\t\t\t'--knob-value': value,\n\t\t\t\t// transform: `scale(${1 + factor}, ${1 - factor})`,\n\t\t\t\t...style\n\t\t\t};\n\t\t}\n\t},\n\trender: ({...rest}) => {\n\t\tdelete rest.value;\n\t\t// eslint-disable-next-line enact/prop-types\n\t\tdelete rest.tooltipComponent;\n\t\treturn (\n\t\t\t<div\n\t\t\t\t{...rest}\n\t\t\t/>\n\t\t);\n\t}\n});\n\nconst SliderProgress = kind({\n\tname: 'SliderProgress',\n\tpropTypes: {\n\t\tcss: PropTypes.object,\n\t\tvalues: PropTypes.arrayOf(PropTypes.string)\n\t},\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'track'\n\t},\n\trender: ({children, css, values, ...rest}) => {\n\t\t// eslint-disable-next-line enact/prop-types\n\t\tdelete rest.progressAnchor;\n\t\t// eslint-disable-next-line enact/prop-types\n\t\tdelete rest.backgroundProgress;\n\t\treturn (\n\t\t\t<Row {...rest} align=\"center\">\n\t\t\t\t{children}\n\t\t\t\t{values ? values.map(child => (\n\t\t\t\t\t<Cell className={css.client} key={child}>\n\t\t\t\t\t\t{child}\n\t\t\t\t\t</Cell>\n\t\t\t\t)) : null}\n\t\t\t</Row>\n\t\t);\n\t}\n});\n\n/**\n * Renders the base level DOM structure of the component.\n *\n * @class SliderButtonBase\n * @memberof agate/SliderButton\n * @extends ui/Slider.Slider\n * @ui\n * @public\n */\nconst SliderButtonBase = kind({\n\tname: 'SliderButton',\n\tpropTypes: {\n\t\tchildren: PropTypes.array.isRequired,\n\t\tcss: PropTypes.object\n\t},\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'sliderButton',\n\t\tpublicClassNames: true\n\t},\n\tcomputed: {\n\t\tmax: ({children}) => (children && children.length ? children.length - 1 : 0),\n\t\tstyle: ({children, style}) => {\n\t\t\treturn {\n\t\t\t\t'--sliderbutton-item-count': (children && children.length || 0),  // We're adding 1 here because it's more of a JS neuance that we want to abstract away from the styling.\n\t\t\t\t...style\n\t\t\t};\n\t\t}\n\t},\n\trender: ({css, children, max, ...rest}) => {\n\t\treturn (\n\t\t\t<UiSlider\n\t\t\t\t{...rest}\n\t\t\t\tcss={css}\n\t\t\t\tknobComponent={\n\t\t\t\t\t<SliderKnob css={css} />\n\t\t\t\t}\n\t\t\t\tprogressBarComponent={\n\t\t\t\t\t<SliderProgress values={children} />\n\t\t\t\t}\n\t\t\t\tstep={1}\n\t\t\t\tmin={0}\n\t\t\t\tmax={max}\n\t\t\t/>\n\t\t);\n\t}\n});\n\n/**\n * Agate specific behaviors to apply to [SliderButton]{@link agate/SliderButton.SliderButtonBase}.\n *\n * @hoc\n * @memberof agate/SliderButton\n * @mixes spotlight/Spottable.Spottable\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst SliderButtonDecorator = compose(\n\tPure,\n\tSpottable,\n\tSkinnable\n);\n\n/**\n * Renders a slider that appears as a series of connected buttons.\n *\n * @class SliderButton\n * @memberof agate/SliderButton\n * @extends agate/SliderButton.SliderButtonBase\n * @mixes agate/SliderButton.SliderButtonDecorator\n * @ui\n * @public\n */\nconst SliderButton = SliderButtonDecorator(SliderButtonBase);\n\nexport default SliderButton;\nexport {\n\tSliderButton,\n\tSliderButtonBase,\n\tSliderButtonDecorator\n};\n","/**\n * Provides Agate-themed indeterminate progress indicator (spinner) components and behaviors.\n *\n * Used for indicating to the user that something is busy and interaction is temporarily suspended.\n *\n * @example\n * <Spinner color=\"light\" size=\"small\" type=\"searching\" />\n *\n * @module agate/Spinner\n * @exports Spinner\n * @exports SpinnerBase\n * @exports SpinnerDecorator\n */\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport Pure from '@enact/ui/internal/Pure';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\nimport UiSpinnerBase from '@enact/ui/Spinner';\n\nimport $L from '../internal/$L';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './Spinner.module.less';\n\n/**\n * A component that shows spinning fan. Or bouncing 🏀🎾🏐⚽️.\n *\n * @class SpinnerCore\n * @memberof agate/Spinner\n * @ui\n * @private\n */\nconst SpinnerCore = kind({\n\tname: 'SpinnerCore',\n\n\tpropTypes: /** @lends agate/Spinner.SpinnerCore.prototype */ {\n\t\t/**\n\t\t * The \"aria-label\" for the component.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\t'aria-label': PropTypes.string,\n\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The type of spinner.\n\t\t *\n\t\t * @type {('loading'|'searching')}\n\t\t * @default 'searching'\n\t\t * @public\n\t\t */\n\t\ttype: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\ttype: 'searching'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss\n\t},\n\n\tcomputed: {\n\t\t'aria-label': ({'aria-label': label, type}) => {\n\t\t\t// TODO: These static values will need to be localized\n\t\t\treturn label || type === 'searching' ? $L('Searching') : $L('Loading');\n\t\t},\n\t\tclassName: ({styler, type}) => styler.append(type),\n\t\tspinnerNodes: ({styler, type}) => {\n\t\t\treturn Array.from({length: type === 'searching' ? 12 : 4}, (_, index) => (\n\t\t\t\t<span className={styler.join('node', `node${index + 1}`)} key={`node${index}`} />\n\t\t\t));\n\t\t}\n\t},\n\n\trender: ({css, spinnerNodes, ...rest}) => {\n\t\tdelete rest.type;\n\n\t\treturn (\n\t\t\t<div aria-live=\"off\" role=\"alert\" {...rest}>\n\t\t\t\t<div className={css.bg}>\n\t\t\t\t\t{spinnerNodes}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n/**\n * The base component, defining all of the properties.\n *\n * @class SpinnerBase\n * @memberof agate/Spinner\n * @extends ui/Spinner.Spinner\n * @ui\n * @public\n */\nconst SpinnerBase = kind({\n\tname: 'Spinner',\n\n\tpropTypes: /** @lends agate/Spinner.SpinnerBase.prototype */ {\n\t\t/**\n\t\t * The color of the component.\n\t\t *\n\t\t * @type {('dark'|'light')}\n\t\t * @default 'light'\n\t\t * @public\n\t\t */\n\t\tcolor: PropTypes.oneOf(['dark', 'light']),\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `spinner` - The root component class, unless there is a scrim. The scrim and floating\n\t\t *   layer can be a sibling or parent to this root \"spinner\" element.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The size of the component.\n\t\t *\n\t\t * Recommended usage is \"large\" (default) for standalone and popup scenarios, while \"small\"\n\t\t * is best suited for use inside other elements, like {@link agate/Item.Item}.\n\t\t *\n\t\t * @type {('huge'|'large'|'small'|'smallest')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['huge', 'large', 'small', 'smallest']),\n\n\t\t/**\n\t\t * Removes the background color (making it transparent).\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\ttransparent: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tcolor: 'light',\n\t\tsize: 'large',\n\t\ttransparent: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tpublicClassNames: ['spinner']\n\t},\n\n\tcomputed: {\n\t\tclassName: ({children, color, size, transparent, styler}) => styler.append(\n\t\t\tcolor,\n\t\t\tsize,\n\t\t\t{content: !!children, transparent}\n\t\t)\n\t},\n\n\trender: ({css, ...rest}) => {\n\t\tdelete rest.transparent;\n\n\t\treturn (\n\t\t\t<UiSpinnerBase\n\t\t\t\t{...rest}\n\t\t\t\tcss={css}\n\t\t\t\tcomponent={SpinnerCore}\n\t\t\t/>\n\t\t);\n\t}\n});\n\n/**\n * Agate-specific Spinner behaviors to apply to [Spinner]{@link agate/Spinner.SpinnerBase}.\n *\n * @hoc\n * @memberof agate/Spinner\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst SpinnerDecorator = compose(\n\tPure,\n\tSkinnable\n);\n\n/**\n * An Agate-styled Spinner.\n *\n * @class Spinner\n * @memberof agate/Spinner\n * @extends agate/Spinner.SpinnerBase\n * @mixes agate/Spinner.SpinnerDecorator\n * @ui\n * @public\n */\nconst Spinner = SpinnerDecorator(SpinnerBase);\n\nexport default Spinner;\nexport {\n\tSpinner,\n\tSpinnerBase,\n\tSpinnerDecorator\n};\n","/*\n * Agate component to allow the user to choose a color.\n *\n * @example\n * <SwatchButton color=\"#ffcc00\" onClick={handleClick} />\n */\n\nimport kind from '@enact/core/kind';\n\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport {ButtonBase, ButtonDecorator} from '../Button';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './SwatchButton.module.less';\n\n\n/**\n * A swatch component which sets-up the component's structure.\n *\n * This component is most often not used directly but may be composed within another component as it\n * is within [SwatchButton]{@link agate/ColorPicker.SwatchButton}.\n *\n * @class SwatchButtonBase\n * @memberof agate/ColorPicker\n * @ui\n * @public\n */\nconst SwatchButtonBase = kind({\n\tname: 'SwatchButton',\n\n\tpropTypes: /** @lends agate/ColorPicker.SwatchButtonBase.prototype */ {\n\t\t/**\n\t\t * The color of the swatch if the `color` prop is not set.\n\t\t *\n\t\t * The value should take the format of a HEX color. Ex: `#ffcc00` or `#3467af`\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.string,\n\n\t\t/**\n\t\t * The color of the swatch.\n\t\t *\n\t\t * The value should take the format of a HEX color. Ex: `#ffcc00` or `#3467af`\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tcolor: PropTypes.string,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `swatchButton` - The root class name\n\t\t * * `colorSwatch` - The node that displays the chosen color. The current value is applied\n\t\t * \t\tas a background-color to this element.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Callback method with a payload containing the `value` that was just selected.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonClick: PropTypes.func\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'swatchButton',\n\t\tpublicClassNames: ['swatchButton', 'colorSwatch']\n\t},\n\n\thandlers: {\n\t\tonClick: (ev, {children, color, onClick}) => {\n\t\t\tif (onClick) {\n\t\t\t\tonClick({color: color || children});\n\t\t\t}\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tcolorSwatchStyle: ({children, color}) => ({backgroundColor: color ? color : children})\n\t},\n\n\trender: ({colorSwatchStyle, css, ...rest}) => {\n\t\treturn (\n\t\t\t<ButtonBase {...rest} css={css} minWidth={false}>\n\t\t\t\t<div className={css.colorSwatch} style={colorSwatchStyle} />\n\t\t\t</ButtonBase>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [SwatchButton]{@link agate/ColorPicker.SwatchButtonBase}.\n *\n * @hoc\n * @memberof agate/ColorPicker\n * @mixes agate/Button.ButtonDecorator\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst SwatchButtonDecorator = compose(\n\tButtonDecorator,\n\tSkinnable\n);\n\n/**\n * A color picker swatch button component.\n *\n * @class SwatchButton\n * @memberof agate/ColorPicker\n * @extends agate/ColorPicker.SwatchButtonBase\n * @mixes agate/ColorPicker.SwatchButtonDecorator\n * @ui\n * @public\n */\nconst SwatchButton = SwatchButtonDecorator(SwatchButtonBase);\n\nexport default SwatchButton;\nexport {\n\tSwatchButton,\n\tSwatchButtonBase,\n\tSwatchButtonDecorator\n};\n","/**\n * Agate component to allow the user to choose a color.\n *\n * @example\n * <ColorPicker defaultValue=\"#ffcc00\">{['#fff', '#999', '#000']}</ColorPicker>\n *\n * @module agate/ColorPicker\n * @exports ColorPicker\n * @exports ColorPickerBase\n * @exports ColorPickerDecorator\n */\n\nimport convert from 'color-convert';\nimport compose from 'ramda/src/compose';\nimport hoc from '@enact/core/hoc';\nimport kind from '@enact/core/kind';\nimport {adaptEvent, forward, handle} from '@enact/core/handle';\nimport {on, off} from '@enact/core/dispatcher';\nimport {Row, Cell} from '@enact/ui/Layout';\nimport Changeable from '@enact/ui/Changeable';\nimport Group from '@enact/ui/Group';\nimport PropTypes from 'prop-types';\nimport Pure from '@enact/ui/internal/Pure';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport SpotlightContainerDecorator from '@enact/spotlight/SpotlightContainerDecorator';\nimport Toggleable from '@enact/ui/Toggleable';\nimport Transition from '@enact/ui/Transition';\n\nimport $L from '../internal/$L';\nimport Skinnable from '../Skinnable';\nimport Button from '../Button';\nimport Slider from '../Slider';\nimport SwatchButton from './SwatchButton';\n\nimport componentCss from './ColorPicker.module.less';\n\nconst ContainerDiv = SpotlightContainerDecorator({enterTo: 'last-focused'}, 'div');\n\n// helper function to convert color hex strings or kewords to hue, saturation, and lightness values\nconst convertToHSL = (value) => convert[value.charAt(0) === '#' ? 'hex' : 'keyword'].hsl(value);\n\n/**\n * The color picker base component which sets-up the component's structure.\n *\n * This component is most often not used directly but may be composed within another component as it\n * is within [ColorPicker]{@link agate/ColorPicker.ColorPicker}.\n *\n * @class ColorPickerBase\n * @memberof agate/ColorPicker\n * @ui\n * @public\n */\nconst ColorPickerBase = kind({\n\tname: 'ColorPicker',\n\n\tpropTypes: /** @lends agate/ColorPicker.ColorPickerBase.prototype */ {\n\t\tchildren: PropTypes.array,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `colorPicker` - The root class name\n\t\t * * `palette` - The drawer that displays all the available options for color.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t// TODO: position `palette` like `Tooltip`\n\t\t/**\n\t\t * The animation direction of the `palette`.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.string,\n\n\t\t/**\n\t\t * Determines whether the extended color controls (sliders) are visible\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\textended: PropTypes.bool,\n\n\t\t/**\n\t\t * Callback method with a payload containing the `color` that was just selected.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChange: PropTypes.func,\n\n\t\t/**\n\t\t * Callback method passed to the [SwatchButton]{@link agate/ColorPicker.SwatchButton} component with a payload containing the `value` that was just selected.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonClick: PropTypes.func,\n\n\t\t/**\n\t\t * Callback method with a payload containing the hue value of the selected `color`.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonHueChanged: PropTypes.func,\n\n\t\t/**\n\t\t * Callback method with a payload containing the lightness value of the selected `color`.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonLightnessChanged: PropTypes.func,\n\n\t\t/**\n\t\t * Callback method with a payload containing the saturation value of the selected `color`.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonSaturationChanged: PropTypes.func,\n\n\t\t/**\n\t\t * Callback method passed to the [Button]{@link agate/Button.Button} component as `onTap`. This is used to toggle the visibility of the H/S/L sliders.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonToggleExtended: PropTypes.func,\n\n\t\t/**\n\t\t * Opens ColorPicker with the contents visible.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\topen: PropTypes.bool,\n\n\t\t/**\n\t\t * The color value. Setting this directly will not allow interaction with the\n\t\t * component. Use `defaultValue` to enable interactive use.\n\t\t *\n\t\t * The color should take the format of a HEX color. Ex: `#ffcc00` or `#3467af`\n\t\t *\n\t\t * @type {String}\n\t\t * @see {@link ui/Changeable.Changeable}\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tdirection: 'right',\n\t\topen: false,\n\t\tvalue: '#cccccc'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'colorPicker',\n\t\tpublicClassNames: ['colorPicker', 'palette']\n\t},\n\n\tcomputed: {\n\t\tchildren: ({children}) => children || [],\n\t\tclassName: ({extended, styler}) => styler.append({extended}),\n\t\tsliderValues: ({value}) => ({hsl: convertToHSL(value)}),\n\t\ttransitionContainerClassname: ({css, open, styler}) => styler.join(css.transitionContainer, (open ? css.openTransitionContainer : null)),\n\t\ttransitionDirection: ({direction}) => {\n\t\t\tswitch (direction) {\n\t\t\t\tcase 'left':\n\t\t\t\t\treturn 'right';\n\t\t\t\tcase 'right':\n\t\t\t\t\treturn 'left';\n\t\t\t\tcase 'up':\n\t\t\t\t\treturn 'down';\n\t\t\t\tcase 'down':\n\t\t\t\t\treturn 'up';\n\t\t\t}\n\t\t}\n\t},\n\n\trender: ({children, css, onChange, onClick, onHueChanged, onSaturationChanged, onLightnessChanged, onToggleExtended, open, sliderValues, transitionContainerClassname, transitionDirection, value, ...rest}) => {\n\t\tdelete rest.extended;\n\t\treturn (\n\t\t\t<div {...rest}>\n\t\t\t\t<SwatchButton color={value} onClick={onClick} />\n\t\t\t\t<Transition\n\t\t\t\t\tclassName={transitionContainerClassname}\n\t\t\t\t\tvisible={open}\n\t\t\t\t\tdirection={transitionDirection}\n\t\t\t\t>\n\t\t\t\t\t<ContainerDiv className={css.palette} spotlightDisabled={!open} spotlightRestrict=\"self-only\">\n\t\t\t\t\t\t<Group\n\t\t\t\t\t\t\tchildComponent={SwatchButton}\n\t\t\t\t\t\t\tchildProp=\"color\"\n\t\t\t\t\t\t\tclassName={css.group}\n\t\t\t\t\t\t\titemProps={{size: 'small', className: css.swatch}}\n\t\t\t\t\t\t\tonSelect={onChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t</Group>\n\t\t\t\t\t\t<Button icon=\"ellipsis\" size=\"small\" onTap={onToggleExtended} className={css.swatch} />\n\t\t\t\t\t\t<div className={css.sliders}>\n\t\t\t\t\t\t\t<Row align=\"center\">\n\t\t\t\t\t\t\t\t<Cell>\n\t\t\t\t\t\t\t\t\t<label>{$L('Hue')}</label>\n\t\t\t\t\t\t\t\t\t<Slider value={sliderValues.hsl[0]} min={0} max={360} onChange={onHueChanged} />\n\t\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t\t<Cell component=\"label\" size=\"5ex\">{sliderValues.hsl[0] + '˚'}</Cell>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t<Row align=\"center\">\n\t\t\t\t\t\t\t\t<Cell>\n\t\t\t\t\t\t\t\t\t<label>{$L('Saturation')}</label>\n\t\t\t\t\t\t\t\t\t<Slider value={sliderValues.hsl[1]} min={0} max={100} onChange={onSaturationChanged} />\n\t\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t\t<Cell component=\"label\" size=\"5ex\">{sliderValues.hsl[1] + '%'}</Cell>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t<Row align=\"center\">\n\t\t\t\t\t\t\t\t<Cell>\n\t\t\t\t\t\t\t\t\t<label>{$L('Lightness')}</label>\n\t\t\t\t\t\t\t\t\t<Slider value={sliderValues.hsl[2]} min={0} max={100} onChange={onLightnessChanged} />\n\t\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t\t<Cell component=\"label\" size=\"5ex\">{sliderValues.hsl[2] + '%'}</Cell>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</ContainerDiv>\n\t\t\t\t</Transition>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nconst ColorPickerExtended = hoc((config, Wrapped) => {\n\treturn class extends React.Component {\n\t\tstatic displayName = 'ColorPickerExtended';\n\n\t\tstatic propTypes = {\n\t\t\tdefaultExtended: PropTypes.bool,\n\t\t\tonChange: PropTypes.func,\n\t\t\topen: PropTypes.bool,\n\t\t\tvalue: PropTypes.string\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tthis.hsl = props.value ? convertToHSL(props.value) : [0, 0, 0];\n\t\t\tthis.state = {\n\t\t\t\textended: props.defaultExtended || false\n\t\t\t};\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\t// TODO: change to using ref/forwardRef/something else?\n\t\t\t// eslint-disable-next-line react/no-find-dom-node\n\t\t\tthis.node = ReactDOM.findDOMNode(this);\n\n\t\t\tif (this.props.open) {\n\t\t\t\ton('click', this.handleClick);\n\t\t\t}\n\t\t}\n\n\t\tcomponentDidUpdate (prevProps) {\n\t\t\tconst {open, value} = this.props;\n\t\t\tif (prevProps.value !== value) {\n\t\t\t\tthis.hsl = convertToHSL(value);\n\t\t\t}\n\n\t\t\tif (!prevProps.open && open) {\n\t\t\t\ton('click', this.handleClick);\n\t\t\t} else if (prevProps.open && !open) {\n\t\t\t\toff('click', this.handleClick);\n\t\t\t}\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\toff('click', this.handleClick);\n\t\t}\n\n\t\tbuildValue = ({h = this.hsl[0], s = this.hsl[1], l = this.hsl[2]} = {}) => (\n\t\t\t'#' + convert.hsl.hex(h, s, l)\n\t\t);\n\n\t\tclickedOutsidePalette = ({target}) => !this.node.contains(target);\n\n\t\t// This handler is meant to accommodate using `ColorPicker`'s `onChange` prop from\n\t\t// `Changeable` as the `onSelect` handler for its `Group` component that lists the set of\n\t\t// pre-defined color choices.  `onSelect` sends the chosen value in the `data` prop of its\n\t\t// event but `Changeable` expects `value`.  The slider handlers for hue, saturation, and\n\t\t// light values in `ColorPickerExtended` use this handler to update the `value` prop via\n\t\t// `onChange` as well.\n\t\thandleChange = handle(\n\t\t\tadaptEvent(\n\t\t\t\t({data: value}) => ({value}),\n\t\t\t\tforward('onChange')\n\t\t\t)\n\t\t).bindAs(this, 'handleChange');\n\n\t\t// If a click happened outside the component area (and children of us) dismiss the palette by forwarding the onClick from Toggleable.\n\t\thandleClick = handle(\n\t\t\tthis.clickedOutsidePalette,\n\t\t\tforward('onClick')\n\t\t).bindAs(this, 'handleClick');\n\n\t\thandleToggleExtended = () => {\n\t\t\tthis.setState(({extended}) => ({extended: !extended}));\n\t\t};\n\n\t\thandleSlider = (type) => ({value: sliderValue}) => {\n\t\t\tthis.hsl[('hsl'.indexOf(type))] = sliderValue;\n\t\t\tconst value = this.buildValue();\n\t\t\tthis.handleChange({data: value});\n\t\t};\n\n\t\trender () {\n\t\t\tconst {...rest} = this.props;\n\t\t\tdelete rest.defaultExtended;\n\n\t\t\treturn (\n\t\t\t\t<Wrapped\n\t\t\t\t\t{...rest}\n\t\t\t\t\textended={this.state.extended}\n\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\tonToggleExtended={this.handleToggleExtended}\n\t\t\t\t\tonHueChanged={this.handleSlider('h')}\n\t\t\t\t\tonSaturationChanged={this.handleSlider('s')}\n\t\t\t\t\tonLightnessChanged={this.handleSlider('l')}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n});\n\n/**\n * Applies Agate specific behaviors to [ColorPickerBase]{@link agate/ColorPicker.ColorPickerBase}.\n *\n * @hoc\n * @memberof agate/ColorPicker\n * @mixes ui/Toggleable.Toggleable\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst ColorPickerDecorator = compose(\n\tPure,\n\tChangeable,\n\tToggleable({toggle: null, prop: 'open', toggleProp: 'onClick'}),\n\tColorPickerExtended,\n\tSkinnable\n);\n\n/**\n * A color picker component, ready to use in Agate applications.\n *\n * @class ColorPicker\n * @memberof agate/ColorPicker\n * @extends agate/ColorPicker.ColorPickerBase\n * @mixes agate/ColorPicker.ColorPickerDecorator\n * @ui\n * @public\n */\nconst ColorPicker = ColorPickerDecorator(ColorPickerBase);\n\nexport default ColorPicker;\nexport {\n\tColorPicker,\n\tColorPickerBase,\n\tColorPickerDecorator\n};\n","import kind from '@enact/core/kind';\nimport Button from '../Button';\nimport onlyUpdateForKeys from 'recompose/onlyUpdateForKeys';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport componentCss from './IncrementSliderButton.module.less';\n\n/**\n * A [Button]{@link agate/Button.Button} customized for\n * [IncrementSlider]{@link agate/IncrementSlider.IncrementSlider}. It is optimized to only\n * update when `disabled` is changed to minimize unnecessary render cycles.\n *\n * @class IncrementSliderButton\n * @memberof agate/IncrementSlider\n * @ui\n * @private\n */\n\nconst IncrementSliderButtonBase = kind({\n\tname: 'IncrementSliderButton',\n\n\tpropTypes: /** @lends agate/IncrementSlider.IncrementSliderButton.prototype */ {\n\t\tcss: PropTypes.object,\n\t\tonTap: PropTypes.func,\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\t\trole: PropTypes.string,\n\t\tsize: PropTypes.oneOf(['small', 'large'])\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'incrementSliderButton'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({orientation, role, styler}) => styler.append(orientation, role)\n\t},\n\n\trender: ({css, onTap, size, ...rest}) => {\n\t\tdelete rest.orientation;\n\t\tdelete rest.role;\n\t\treturn (\n\t\t\t<Button\n\t\t\t\t{...rest}\n\t\t\t\tcss={css}\n\t\t\t\tonTap={onTap}\n\t\t\t\tonHold={onTap}\n\t\t\t\tonHoldPulse={onTap}\n\t\t\t\tsize={size}\n\t\t\t/>\n\t\t);\n\t}\n});\n\nconst OnlyUpdate = onlyUpdateForKeys(['aria-label', 'children', 'disabled', 'icon', 'size', 'spotlightDisabled']);\nconst IncrementSliderButton = OnlyUpdate(IncrementSliderButtonBase);\n\nexport default IncrementSliderButton;\nexport {\n\tIncrementSliderButton,\n\tIncrementSliderButtonBase\n};\n","/**\n * An interactive numeric range picker with increment decrement\n *\n * @example\n * <IncrementSlider\n *   decrementIcon=\"minus\"\n *   defaultValue={-25}\n *   incrementIcon=\"plus\"\n *   knobStep={25}\n *   max={100}\n *   min={-100}\n *   step={5}\n * />\n *\n * @module agate/IncrementSlider\n * @exports IncrementSlider\n * @exports IncrementSliderBase\n * @exports IncrementSliderDecorator\n */\n\nimport {forward} from '@enact/core/handle';\nimport {is} from '@enact/core/keymap';\nimport kind from '@enact/core/kind';\nimport {extractAriaProps} from '@enact/core/util';\nimport Spottable from '@enact/spotlight/Spottable';\nimport Changeable from '@enact/ui/Changeable';\nimport IdProvider from '@enact/ui/internal/IdProvider';\nimport Slottable from '@enact/ui/Slottable';\nimport Pure from '@enact/ui/internal/Pure';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport $L from '../internal/$L';\nimport Skinnable from '../Skinnable';\nimport {SliderBase} from '../Slider';\nimport {emitChange} from '../Slider/utils';\nimport SliderBehaviorDecorator from '../Slider/SliderBehaviorDecorator';\n\nimport IncrementSliderButton from './IncrementSliderButton';\nimport componentCss from './IncrementSlider.module.less';\n\nconst isDown = is('down');\nconst isLeft = is('left');\nconst isRight = is('right');\nconst isUp = is('up');\n\nconst Slider = Spottable(Skinnable(SliderBase));\n\nconst forwardWithType = (type, props) => forward(type, {type}, props);\n\n/**\n * A stateless Slider with IconButtons to increment and decrement the value. In most circumstances,\n * you will want to use the stateful version: {@link agate/IncrementSlider.IncrementSlider}.\n *\n * @class IncrementSliderBase\n * @memberof agate/IncrementSlider\n * @extends agate/Slider.SliderBase\n * @mixes agate/Skinnable.Skinnable\n * @mixes spotlight/Spottable.Spottable\n * @ui\n * @public\n */\nconst IncrementSliderBase = kind({\n\tname: 'IncrementSlider',\n\n\tpropTypes: /** @lends agate/IncrementSlider.IncrementSliderBase.prototype */ {\n\t\t/**\n\t\t * Sets the knob to selected state and allows it to move via 5-way controls.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tactive: PropTypes.bool,\n\n\t\t/**\n\t\t * Prevents read out of both the slider and the increment and decrement\n\t\t * buttons.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @memberof agate/IncrementSlider.IncrementSliderBase.prototype\n\t\t * @public\n\t\t */\n\t\t'aria-hidden': PropTypes.bool,\n\n\t\t/**\n\t\t * Overrides the `aria-valuetext` for the slider. By default, `aria-valuetext` is set\n\t\t * to the current value. This should only be used when the parent controls the value of\n\t\t * the slider directly through the props.\n\t\t *\n\t\t * @type {String|Number}\n\t\t * @memberof agate/IncrementSlider.IncrementSliderBase.prototype\n\t\t * @public\n\t\t */\n\t\t'aria-valuetext': PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n\t\t/**\n\t\t * Background progress, as a proportion between `0` and `1`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tbackgroundProgress: PropTypes.number,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * @type {Object}\n\t\t * @private\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The `data-webos-voice-group-label` for the IconButton of IncrementSlider.\n\t\t *\n\t\t * @type {String}\n\t\t * @memberof agate/IncrementSlider.IncrementSliderBase.prototype\n\t\t * @public\n\t\t */\n\t\t'data-webos-voice-group-label': PropTypes.string,\n\n\t\t/**\n\t\t* Sets the hint string read when focusing the decrement button.\n\t\t*\n\t\t* @default 'press button to decrease the value'\n\t\t* @type {String}\n\t\t* @public\n\t\t*/\n\t\tdecrementAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * Assign a custom icon for the decrementer. All strings supported by [Icon]{@link agate/Icon.Icon} are\n\t\t * supported. Without a custom icon, the default is used, and is automatically changed when\n\t\t * [vertical]{@link agate/IncrementSlider.IncrementSlider#vertical} is changed.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tdecrementIcon: PropTypes.string,\n\n\t\t/**\n\t\t * Disables the slider and prevents events from firing.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Indicates focused state.\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tfocused: PropTypes.bool,\n\n\t\t/**\n\t\t * The slider id reference for setting aria-controls.\n\t\t *\n\t\t * @type {String}\n\t\t * @private\n\t\t */\n\t\tid: PropTypes.string,\n\n\t\t/**\n\t\t* Sets the hint string read when focusing the increment button.\n\t\t*\n\t\t* @default 'press button to increase the value'\n\t\t* @type {String}\n\t\t* @public\n\t\t*/\n\t\tincrementAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * Assign a custom icon for the incrementer. All strings supported by [Icon]{@link agate/Icon.Icon} are\n\t\t * supported. Without a custom icon, the default is used, and is automatically changed when\n\t\t * [vertical]{@link agate/IncrementSlider.IncrementSlider#vertical} is changed.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tincrementIcon: PropTypes.string,\n\n\t\t/**\n\t\t * The amount to increment or decrement the position of the knob via 5-way controls.\n\t\t *\n\t\t * If not specified, `step` is used for the default value.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tknobStep: PropTypes.number,\n\n\t\t/**\n\t\t * The maximum value of the increment slider.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 100\n\t\t * @public\n\t\t */\n\t\tmax: PropTypes.number,\n\n\t\t/**\n\t\t * The minimum value of the increment slider.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tmin: PropTypes.number,\n\n\t\t/**\n\t\t * Hides the slider bar fill and prevents highlight when spotted.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tnoFill: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when the knob is activated or deactivated by selecting it via 5-way.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonActivate: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the value is changed.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @param {Number} event.value The current value\n\t\t * @public\n\t\t */\n\t\tonChange: PropTypes.func,\n\n\t\t/**\n\t\t * Called run when the decrement button becomes disabled.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tonDecrementSpotlightDisappear: PropTypes.func,\n\n\t\t/**\n\t\t * Forwarded from SliderBehaviorDecorator onto the internal slider.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tonDragEnd: PropTypes.func,\n\n\t\t/**\n\t\t * Forwarded from SliderBehaviorDecorator onto the internal slider.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tonDragStart: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the increment button becomes disabled.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tonIncrementSpotlightDisappear: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the increment button becomes disabled.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tonSpotlightDirection: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the component is removed while retaining focus.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonSpotlightDisappear: PropTypes.func,\n\n\t\t/**\n\t\t * Called prior to focus leaving the component when the 5-way down key is pressed.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonSpotlightDown: PropTypes.func,\n\n\t\t/**\n\t\t * Called prior to focus leaving the component when the 5-way left key is pressed.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonSpotlightLeft: PropTypes.func,\n\n\t\t/**\n\t\t * Called prior to focus leaving the component when the 5-way right key is pressed.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonSpotlightRight: PropTypes.func,\n\n\t\t/**\n\t\t * Called prior to focus leaving the component when the 5-way up key is pressed.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonSpotlightUp: PropTypes.func,\n\n\t\t/**\n\t\t * Sets the orientation of the slider, whether the slider moves left and right or up and\n\t\t * down. Must be either `'horizontal'` or `'vertical'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'horizontal'\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t/**\n\t\t * Sets the point, as a proportion between 0 and 1, from which the slider is filled.\n\t\t *\n\t\t * Applies to both the slider's `value` and `backgroundProgress`. In both cases,\n\t\t * setting the value of `progressAnchor` will cause the slider to fill from that point\n\t\t * down, when `value` or `backgroundProgress` is proportionally less than the anchor, or up,\n\t\t * when `value` or `backgroundProgress` is proportionally greater than the anchor, rather\n\t\t * than always from the start of the slider.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tprogressAnchor: PropTypes.number,\n\n\t\t/**\n\t\t * The size of the incrementSlider.\n\t\t *\n\t\t * @type {('small'|'large')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['small', 'large']),\n\n\t\t/**\n\t\t * Disables spotlight navigation into the component.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tspotlightDisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * The amount to increment or decrement the value.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t * @public\n\t\t */\n\t\tstep: PropTypes.number,\n\n\t\t/**\n\t\t * The value of the increment slider.\n\t\t *\n\t\t * Defaults to the value of `min`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.number\n\t},\n\n\tdefaultProps: {\n\t\tbackgroundProgress: 0,\n\t\tdecrementIcon: 'minus',\n\t\tincrementIcon: 'plus',\n\t\tmax: 100,\n\t\tmin: 0,\n\t\tnoFill: false,\n\t\torientation: 'horizontal',\n\t\tprogressAnchor: 0,\n\t\tsize: 'large',\n\t\tspotlightDisabled: false,\n\t\tstep: 1\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'incrementSlider',\n\t\tpublicClassNames: ['incrementSlider']\n\t},\n\n\thandlers: {\n\t\tonDecrement: emitChange(-1),\n\t\tonIncrement: emitChange(1),\n\t\tonKeyDown: (ev, props) => {\n\t\t\tconst {orientation} = props;\n\n\t\t\tforward('onKeyDown', ev, props);\n\n\t\t\t// if the source of the event is the slider, forward it along\n\t\t\tif (ev.target.classList.contains(componentCss.slider)) {\n\t\t\t\tforward('onSpotlightDirection', ev, props);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst isIncrement = ev.target.classList.contains(componentCss.incrementButton);\n\t\t\tconst isDecrement = ev.target.classList.contains(componentCss.decrementButton);\n\n\t\t\tif (isRight(ev.keyCode) && (isIncrement || orientation === 'vertical')) {\n\t\t\t\tforwardWithType('onSpotlightRight', props);\n\t\t\t} else if (isLeft(ev.keyCode) && (isDecrement || orientation === 'vertical')) {\n\t\t\t\tforwardWithType('onSpotlightLeft', props);\n\t\t\t} else if (isUp(ev.keyCode) && (isIncrement || orientation === 'horizontal')) {\n\t\t\t\tforwardWithType('onSpotlightUp', props);\n\t\t\t} else if (isDown(ev.keyCode) && (isDecrement || orientation === 'horizontal')) {\n\t\t\t\tforwardWithType('onSpotlightDown', props);\n\t\t\t}\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tclassName: ({orientation, size, styler}) => styler.append(orientation, size),\n\t\tdecrementDisabled: ({disabled, min, value = min}) => disabled || value <= min,\n\t\tincrementDisabled: ({disabled, max, min, value = min}) => disabled || value >= max,\n\t\tdecrementAriaLabel: ({'aria-valuetext': valueText, decrementAriaLabel, min, value = min}) => {\n\t\t\tif (decrementAriaLabel == null) {\n\t\t\t\tdecrementAriaLabel = $L('press button to decrease the value');\n\t\t\t}\n\n\t\t\treturn `${valueText != null ? valueText : value} ${decrementAriaLabel}`;\n\t\t},\n\t\tincrementAriaLabel: ({'aria-valuetext': valueText, incrementAriaLabel, min, value = min}) => {\n\t\t\tif (incrementAriaLabel == null) {\n\t\t\t\tincrementAriaLabel = $L('press button to increase the value');\n\t\t\t}\n\n\t\t\treturn `${valueText != null ? valueText : value} ${incrementAriaLabel}`;\n\t\t}\n\t},\n\n\trender: ({active,\n\t\t'aria-hidden': ariaHidden,\n\t\t'data-webos-voice-group-label': voiceGroupLabel,\n\t\tbackgroundProgress,\n\t\tcss,\n\t\tdecrementAriaLabel,\n\t\tdecrementDisabled,\n\t\tdecrementIcon,\n\t\tdisabled,\n\t\tfocused,\n\t\tid,\n\t\tincrementAriaLabel,\n\t\tincrementDisabled,\n\t\tincrementIcon,\n\t\tknobStep,\n\t\tmax,\n\t\tmin,\n\t\tnoFill,\n\t\tonActivate,\n\t\tonChange,\n\t\tonDecrement,\n\t\tonDecrementSpotlightDisappear,\n\t\tonDragEnd,\n\t\tonDragStart,\n\t\tonIncrement,\n\t\tonIncrementSpotlightDisappear,\n\t\tonSpotlightDisappear,\n\t\torientation,\n\t\tprogressAnchor,\n\t\tsize,\n\t\tspotlightDisabled,\n\t\tstep,\n\t\tvalue,\n\t\t...rest\n\t}) => {\n\t\tconst ariaProps = extractAriaProps(rest);\n\t\tdelete rest.onSpotlightDirection;\n\t\tdelete rest.onSpotlightDown;\n\t\tdelete rest.onSpotlightLeft;\n\t\tdelete rest.onSpotlightRight;\n\t\tdelete rest.onSpotlightUp;\n\n\t\treturn (\n\t\t\t<div aria-hidden={ariaHidden} {...rest}>\n\t\t\t\t<IncrementSliderButton\n\t\t\t\t\taria-controls={!incrementDisabled ? id : null}\n\t\t\t\t\taria-label={decrementAriaLabel}\n\t\t\t\t\tclassName={css.decrementButton}\n\t\t\t\t\tdata-webos-voice-group-label={voiceGroupLabel}\n\t\t\t\t\tdisabled={decrementDisabled}\n\t\t\t\t\ticon={decrementIcon}\n\t\t\t\t\tonTap={onDecrement}\n\t\t\t\t\tonSpotlightDisappear={onDecrementSpotlightDisappear}\n\t\t\t\t\torientation={orientation}\n\t\t\t\t\tsize={size}\n\t\t\t\t\tspotlightDisabled={spotlightDisabled}\n\t\t\t\t/>\n\t\t\t\t<Slider\n\t\t\t\t\t{...ariaProps}\n\t\t\t\t\tactive={active}\n\t\t\t\t\tbackgroundProgress={backgroundProgress}\n\t\t\t\t\tcss={css}\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\tfocused={focused}\n\t\t\t\t\tid={id}\n\t\t\t\t\tknobStep={knobStep}\n\t\t\t\t\tmax={max}\n\t\t\t\t\tmin={min}\n\t\t\t\t\tnoFill={noFill}\n\t\t\t\t\tonActivate={onActivate}\n\t\t\t\t\tonChange={onChange}\n\t\t\t\t\tonDragEnd={onDragEnd}\n\t\t\t\t\tonDragStart={onDragStart}\n\t\t\t\t\tonSpotlightDisappear={onSpotlightDisappear}\n\t\t\t\t\torientation={orientation}\n\t\t\t\t\tspotlightDisabled={spotlightDisabled}\n\t\t\t\t\tprogressAnchor={progressAnchor}\n\t\t\t\t\tstep={step}\n\t\t\t\t\tvalue={value}\n\t\t\t\t/>\n\t\t\t\t<IncrementSliderButton\n\t\t\t\t\taria-controls={!decrementDisabled ? id : null}\n\t\t\t\t\taria-label={incrementAriaLabel}\n\t\t\t\t\tclassName={css.incrementButton}\n\t\t\t\t\tdata-webos-voice-group-label={voiceGroupLabel}\n\t\t\t\t\tdisabled={incrementDisabled}\n\t\t\t\t\ticon={incrementIcon}\n\t\t\t\t\tonSpotlightDisappear={onIncrementSpotlightDisappear}\n\t\t\t\t\tonTap={onIncrement}\n\t\t\t\t\torientation={orientation}\n\t\t\t\t\tsize={size}\n\t\t\t\t\tspotlightDisabled={spotlightDisabled}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nconst IncrementSliderDecorator = compose(\n\tPure,\n\tChangeable,\n\tIdProvider({generateProp: null, prefix: 's_'}),\n\tSliderBehaviorDecorator({emitSpotlightEvents: 'onSpotlightDirection'}),\n\tSkinnable,\n\tSlottable({slots: ['knob']})\n);\n\n/**\n * An IncrementSlider with Agate styling and SliderDecorator applied with IconButtons to\n * increment and decrement the value.\n *\n * By default, `IncrementSlider` maintains the state of its `value` property. Supply the\n * `defaultValue` property to control its initial value. If you wish to directly control updates\n * to the component, supply a value to `value` at creation time and update it in response to\n * `onChange` events.\n *\n * @class IncrementSlider\n * @memberof agate/IncrementSlider\n * @extends agate/IncrementSlider.IncrementSliderBase\n * @ui\n * @public\n */\nconst IncrementSlider = IncrementSliderDecorator(IncrementSliderBase);\n\nexport default IncrementSlider;\nexport {\n\tIncrementSlider,\n\tIncrementSliderBase,\n\tIncrementSliderDecorator\n};\n","import invariant from 'invariant';\n\n/**\n * Provides a convenient way to manage timed execution of functions.\n *\n * @class Job\n * @memberof core/util\n * @public\n */\nclass Job {\n\tid = null;\n\tfn = null;\n\ttimeout = null;\n\ttype = null;\n\n\t/**\n\t * @constructor\n\t * @param {Function}    fn       Function to execute as the requested job.\n\t * @param {Number}      timeout  The number of milliseconds to wait before starting the job.\n\t *\n\t * @memberof core/util.Job.prototype\n\t */\n\tconstructor (fn, timeout) {\n\t\tthis.fn = fn;\n\t\tthis.timeout = timeout;\n\t}\n\n\trun (args) {\n\t\t// don't want to inadvertently apply Job's context on `fn`\n\t\treturn this.fn.apply(null, args);\n\t}\n\n\t/**\n\t * Starts the job.\n\t *\n\t * @method\n\t * @param   {...*}       [args]  Any args passed are forwarded to the callback\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tstart = (...args) => {\n\t\tthis.startAfter(this.timeout, ...args);\n\t};\n\n\t/**\n\t * Starts the job in `timeout` milliseconds\n\t *\n\t * @method\n\t * @param   {Number}     timeout  The number of milliseconds to wait before starting the job.\n\t *                                This supersedes the timeout set at construction.\n\t * @param   {...*}       [args]   Any args passed are forwarded to the callback\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tstartAfter = (timeout, ...args) => {\n\t\tthis.stop();\n\t\tthis.type = 'timeout';\n\t\tthis.id = setTimeout(() => this.run(args), timeout);\n\t};\n\n\t/**\n\t * Stops the job.\n\t *\n\t * @method\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tstop = () => {\n\t\tif (this.id) {\n\t\t\tif (this.type === 'idle') {\n\t\t\t\twindow.cancelIdleCallback(this.id);\n\t\t\t} else if (this.type === 'raf') {\n\t\t\t\twindow.cancelAnimationFrame(this.id);\n\t\t\t} else if (this.type === 'timeout') {\n\t\t\t\tclearTimeout(this.id);\n\t\t\t}\n\t\t\tthis.id = this.type = null;\n\t\t}\n\t};\n\n\t/**\n\t * Executes the job immediately, then prevents any other calls to `throttle()` from running\n\t * until the `timeout` configured at construction passes.\n\t *\n\t * @method\n\t * @param   {...*}       args  Any args passed are forwarded to the callback\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tthrottle = (...args) => {\n\t\tthis.throttleUntil(this.timeout, ...args);\n\t};\n\n\t/**\n\t * Executes the job immediately, then prevents any other calls to `throttle()` from running for\n\t * `timeout` milliseconds.\n\t *\n\t * @method\n\t * @param   {Number}     timeout  The number of milliseconds to wait before allowing the job to\n\t *                                be ran again. This supersedes the timeout set at construction.\n\t * @param   {...*}       [args]   Any args passed are forwarded to the callback\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tthrottleUntil = (timeout, ...args) => {\n\t\tif (!this.id) {\n\t\t\tthis.type = 'timeout';\n\t\t\tthis.run(args);\n\t\t\tthis.id = setTimeout(this.stop, timeout);\n\t\t}\n\t};\n\n\t/**\n\t * Executes job when the CPU is idle.\n\t *\n\t * @method\n\t * @param   {...*}       [args]   Any args passed are forwarded to the callback\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tidle = (...args) => {\n\t\tthis.idleUntil(null, ...args);\n\t};\n\n\t/**\n\t * Executes job when the CPU is idle, or when the timeout is reached, whichever occurs first.\n\t *\n\t * @method\n\t * @param   {Number}     timeout  The number of milliseconds to wait before executing the\n\t *                                job. This guarantees that the job is run, if a positive value\n\t *                                is specified.\n\t * @param   {...*}       [args]   Any args passed are forwarded to the callback\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tidleUntil = (timeout, ...args) => {\n\t\tif (typeof window !== 'undefined' && window.requestIdleCallback) {\n\t\t\tthis.stop();\n\t\t\tthis.type = 'idle';\n\t\t\tthis.id = window.requestIdleCallback(() => this.run(args), {timeout});\n\t\t} else {\n\t\t\t// since we can't request an idle callback, just pass to startAfter()\n\t\t\tthis.startAfter(timeout, ...args);\n\t\t}\n\t};\n\n\t/**\n\t * Executes job before the next repaint.\n\t *\n\t * @method\n\t * @param   {...*}       [args]   Any args passed are forwarded to the callback\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tstartRaf = (...args) => {\n\t\tthis.startRafAfter(this.timeout, ...args);\n\t};\n\n\t/**\n\t * Executes job before the next repaint after a given amount of timeout.\n\t *\n\t * @method\n\t * @param   {Number}     timeout  The number of milliseconds to wait before running `requestAnimationFrame`.\n\t * @param   {...*}       [args]   Any args passed are forwarded to the callback\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tstartRafAfter = (timeout, ...args) => {\n\t\tthis.type = 'raf';\n\t\tif (typeof window !== 'undefined') {\n\t\t\tlet time = null;\n\t\t\tconst callback = (timestamp) => {\n\t\t\t\tif (time === null) {\n\t\t\t\t\ttime = timestamp;\n\t\t\t\t}\n\t\t\t\tif (timeout && timestamp - time < timeout) {\n\t\t\t\t\tthis.id = window.requestAnimationFrame(callback);\n\t\t\t\t} else {\n\t\t\t\t\ttime = null;\n\t\t\t\t\tthis.run(args);\n\t\t\t\t\twindow.cancelAnimationFrame(this.id);\n\t\t\t\t\tthis.id = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.id = window.requestAnimationFrame(callback);\n\t\t} else {\n\t\t\t// If requestAnimationFrame is not supported just run the function immediately\n\t\t\tthis.run(args);\n\t\t}\n\t};\n\n\t/**\n\t * Starts the job when `promise` resolves.\n\t *\n\t * The job execution is tied to the resolution of the last `Promise` passed. Like other methods\n\t * on `Job`, calling `promise()` again with a new `Promise` will block execution of the job\n\t * until that new `Promise` resolves. Any previous `Promise`s will still resolve normally but\n\t * will not trigger job execution.\n\t *\n\t * Unlike other methods on `Job`, `promise()` returns a `Promise` which is the result of calling\n\t * `then()` on the passed `promise`. That `Promise` resolves with either the result of job\n\t * execution or `undefined` if `Promise` was superseded by a subsequent `Promise` passed as\n\t * described above.\n\t *\n\t * @method\n\t * @param   {Promise}  promise  The promise that must resolve before the job is executed\n\t *\n\t * @returns {Promise}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tpromise = (promise) => {\n\t\tinvariant(\n\t\t\tpromise && typeof promise.then === 'function',\n\t\t\t'promise expects a thenable'\n\t\t);\n\n\t\tthis.type = 'promise';\n\t\tthis.id = promise;\n\n\t\treturn promise.then(result => {\n\t\t\tif (this.id === promise) {\n\t\t\t\tthis.stop();\n\t\t\t\treturn this.run([result]);\n\t\t\t}\n\t\t});\n\t};\n}\n\nexport default Job;\nexport {Job};\n","/**\n * A collection of utility methods.\n *\n * @module core/util\n * @exports cap\n * @exports clamp\n * @exports coerceArray\n * @exports coerceFunction\n * @exports extractAriaProps\n * @exports isRenderable\n * @exports Job\n * @exports memoize\n * @exports mergeClassNameMaps\n * @exports perfNow\n * @exports mapAndFilterChildren\n */\nimport always from 'ramda/src/always';\nimport isType from 'ramda/src/is';\nimport unless from 'ramda/src/unless';\nimport React from 'react';\nimport * as ReactIs from 'react-is';\n\nimport Job from './Job';\n\n/**\n * Capitalizes a given string (not locale-aware).\n *\n * @function\n * @param   {String}    str   The string to capitalize.\n *\n * @returns {String}          The capitalized string.\n * @memberof core/util\n * @public\n */\nconst cap = function (str) {\n\treturn str.slice(0, 1).toUpperCase() + str.slice(1);\n};\n\n/**\n * Limits `value` to be between `min` and `max`.\n *\n * If `min` is greater than `max`, `min` is returned.\n *\n * @function\n * @param   {Number}    min   The minimum value of the range\n * @param   {Number}    max   The maximum value of the range\n * @param   {Number}    value The value that must be within the range\n *\n * @returns {Number}          The clamped value\n * @memberof core/util\n * @public\n */\nconst clamp = (min, max, value) => {\n\tif (min > max || value < min) return min;\n\tif (value > max) return max;\n\treturn value;\n};\n\n/**\n * If `arg` is a function, return it. Otherwise returns a function that returns `arg`.\n *\n * Example:\n * ```\n *\tconst returnsZero = coerceFunction(0);\n *\tconst returnsArg = coerceFunction(() => 0);\n * ```\n * @function\n * @param {*}    arg    Function or value\n *\n * @returns {Function}  Either `arg` if `arg` is a function, or a function that returns `arg`\n * @memberof core/util\n * @public\n */\nconst coerceFunction = unless(isType(Function), always);\n\n/**\n * If `arg` is array-like, return it. Otherwise returns a single element array containing `arg`.\n *\n * Example:\n * ```\n *\tconst returnsArray = coerceArray(0); // [0]\n *\tconst returnsArg = coerceArray([0]); // [0]\n *\tconst returnsObjArg = coerceArray({0: 'zeroth', length: 1});\n * ```\n * @see http://ramdajs.com/docs/#isArrayLike\n * @function\n * @param {*}    array    Array or value\n *\n * @returns {Array}       Either `array` or `[array]`\n * @memberof core/util\n * @public\n */\nconst coerceArray = function (array) {\n\treturn Array.isArray(array) ? array : [array];\n};\n\n/**\n * Loosely determines if `tag` is a renderable component (either a string or a function).\n *\n * @function\n * @param {*}    tag    Component to test\n *\n * @returns {Boolean}   `true` if `tag` is either a string or a function\n * @memberof core/util\n * @public\n */\nconst isRenderable = function (tag) {\n\treturn ReactIs.isValidElementType(tag);\n};\n\n/**\n * Removes ARIA-related props from `props` and returns them in a new object.\n *\n * Specifically, it removes the `role` prop and any prop prefixed with `aria-`. This is useful when\n * redirecting ARIA-related props from a non-focusable root element to a focusable child element.\n *\n * @function\n * @param   {Object}    props    Props object\n *\n * @returns {Object}             ARIA-related props\n * @memberof core/util\n * @public\n */\nconst extractAriaProps = function (props) {\n\tconst aria = {};\n\tObject.keys(props).forEach(key => {\n\t\tif (key === 'role' || key.indexOf('aria-') === 0) {\n\t\t\taria[key] = props[key];\n\t\t\tdelete props[key];\n\t\t}\n\t});\n\n\treturn aria;\n};\n\n/**\n * Gets the current timestamp of either `window.performance.now` or `Date.now`\n *\n * @function\n *\n * @returns {Number}                    The timestamp from `window.performance.now` or `Date.now`\n * @memberof core/util\n * @public\n */\nconst perfNow = function () {\n\tif (typeof window === 'object') {\n\t\treturn window.performance.now();\n\t} else {\n\t\treturn Date.now();\n\t}\n};\n\n/**\n * Merges two class name maps into one.\n *\n * The resulting map will only contain the class names defined in the `baseMap` and will be appended\n * with the value from `additiveMap` if it exists. Further, `allowedClassNames` may optionally limit\n * which keys will be merged from `additiveMap` into `baseMap`.\n *\n * Example:\n * ```\n * // merges all matching class names from additiveMap1 with baseMap1\n * const newMap1 = mergeClassNameMaps(baseMap1, additiveMap1);\n *\n * // merge only 'a' and 'b' class names from additiveMap2 with baseMap2\n * const newMap2 = mergeClassNameMaps(baseMap2, additiveMap2, ['a', 'b']);\n * ```\n *\n * @function\n * @param {Object}     baseMap             The source mapping of logical class name to physical\n *                                         class name\n * @param {Object}     additiveMap         Mapping of logical to physical class names which are\n *                                         concatenated with `baseMap` where the logical names match\n * @param {String[]}  [allowedClassNames]  Array of logical class names that can be augmented. When\n *                                         set, the logical class name must exist in `baseMap`,\n *                                         `additiveMap`, and this array to be concatenated.\n *\n * @returns {Object}                       The merged class name map.\n * @memberof core/util\n * @public\n */\nconst mergeClassNameMaps = (baseMap, additiveMap, allowedClassNames) => {\n\tlet css = baseMap;\n\tif (baseMap && additiveMap) {\n\t\tallowedClassNames = allowedClassNames || Object.keys(additiveMap);\n\t\t// if the props includes a css map, merge them together now\n\t\tcss = Object.assign({}, baseMap);\n\t\tallowedClassNames.forEach(key => {\n\t\t\tif (baseMap[key] && additiveMap[key]) {\n\t\t\t\tcss[key] = baseMap[key] + ' ' + additiveMap[key];\n\t\t\t}\n\t\t});\n\n\t\tif (process.env.NODE_ENV === 'test') {\n\t\t\treturn new Proxy({}, {\n\t\t\t\tget (target, key) {\n\t\t\t\t\t// use the merged value if it exists and the key otherwise\n\t\t\t\t\treturn css[key] || key;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\treturn css;\n};\n\n/**\n * Creates a function that memoizes the result of `fn`.\n *\n * Note that this function is a naive implementation and only checks the first argument for\n * memoization.\n *\n * @function\n * @param {Function}    fn    The function to have its output memoized.\n *\n * @returns {Function}        The new memoized function.\n * @memberof core/util\n * @public\n */\nconst memoize = (fn) => {\n\tlet cache = {};\n\treturn (...args) => {\n\t\tlet n = args[0];\n\t\tif (n in cache) {\n\t\t\treturn cache[n];\n\t\t} else {\n\t\t\tlet result = fn(...args);\n\t\t\tcache[n] = result;\n\t\t\treturn result;\n\t\t}\n\t};\n};\n\n/**\n * Maps over the `children`, discarding any `null` children before and after calling the callback.\n *\n * A replacement for `React.Children.map`.\n *\n * @function\n * @param {*}        children  Children to map over\n * @param {Function} callback  Function to apply to each child. Will not be called if the child is\n *                              `null`. If `callback` returns `null`, the child will be removed from\n *                              the result. If `null` is returned, the item will not be included in\n *                              the final output, regardless of the filter function.\n * @param {Function} [filter]  Filter function applied after mapping.\n *\n * @returns {*}                The processed children or the value of `children` if not an array.\n * @memberof core/util\n * @see https://reactjs.org/docs/react-api.html#reactchildrenmap\n * @public\n */\nconst mapAndFilterChildren = (children, callback, filter) => {\n\tconst result = React.Children.map(children, (child, ...rest) => {\n\t\tif (child != null) {\n\t\t\treturn callback(child, ...rest);\n\t\t} else {\n\t\t\treturn child;\n\t\t}\n\t});\n\tif (result && filter) {\n\t\treturn result.filter(filter);\n\t} else {\n\t\treturn result;\n\t}\n};\n\nexport {\n\tcap,\n\tclamp,\n\tcoerceArray,\n\tcoerceFunction,\n\textractAriaProps,\n\tisRenderable,\n\tJob,\n\tmemoize,\n\tmergeClassNameMaps,\n\tperfNow,\n\tmapAndFilterChildren\n};\n","/**\n * Provides an Agate-themed tab group.\n *\n * @module agate/TabGroup\n * @exports TabGroup\n * @exports TabGroupBase\n */\n\nimport {cap} from '@enact/core/util';\nimport {Cell, Layout} from '@enact/ui/Layout';\nimport Group from '@enact/ui/Group';\nimport kind from '@enact/core/kind';\nimport ToggleButton from '../ToggleButton';\nimport LabeledIcon from '../LabeledIcon';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Slottable from '@enact/ui/Slottable';\nimport Spottable from '@enact/spotlight/Spottable';\n\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './TabGroup.module.less';\n\nconst TabBase = kind({\n\tname: 'Tab',\n\n\tpropTypes: {\n\t\tcss: PropTypes.object,\n\t\ticon: PropTypes.string,\n\t\tlabelPosition: PropTypes.string,\n\t\tonClick: PropTypes.func,\n\t\torientation: PropTypes.string,\n\t\tselected: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\ticon: 'star'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'tab'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({selected, styler}) => styler.append({selected}),\n\t\ttabLabel: ({children, className, css, icon, labelPosition, orientation, selected}) => {\n\t\t\tlet inline;\n\t\t\tif (orientation === 'horizontal') {\n\t\t\t\tinline = true;\n\t\t\t}\n\n\t\t\tif (className.includes('copper') || className.includes('cobalt')) {\n\t\t\t\treturn (\n\t\t\t\t\t<div className={css.labeledIcon}>\n\t\t\t\t\t\t<ToggleButton\n\t\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\t\tselected={selected}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn (\n\t\t\t\t\t<LabeledIcon\n\t\t\t\t\t\tclassName={css.labeledIcon}\n\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\tinline={inline}\n\t\t\t\t\t\tlabelPosition={labelPosition}\n\t\t\t\t\t>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</LabeledIcon>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t},\n\n\trender: ({onClick, orientation, style = {}, tabLabel, ...rest}) => {\n\t\tdelete rest.labelPosition;\n\t\tdelete rest.selected;\n\n\t\tif (orientation === 'horizontal') {\n\t\t\tstyle.textAlign = 'center';\n\t\t}\n\t\treturn (\n\t\t\t<Cell {...rest} style={style} onClick={onClick}>\n\t\t\t\t{tabLabel}\n\t\t\t</Cell>\n\t\t);\n\t}\n});\nconst Tab = Skinnable(Spottable(TabBase));\n\n/**\n * TBD.\n *\n * @class TabGroup\n * @memberof agate/TabGroup\n * @mixes agate/Skinnable.Skinnable\n * @ui\n * @public\n */\nconst TabGroupBase = kind({\n\tname: 'TabGroup',\n\n\tpropTypes: /** @lends agate/TabGroup.TabGroup.prototype */ {\n\t\ttabPosition: PropTypes.string.isRequired,\n\t\ttabs: PropTypes.array.isRequired,\n\t\tafterTabs: PropTypes.node,\n\t\tbeforeTabs: PropTypes.node,\n\t\tcss: PropTypes.object,\n\t\torientation: PropTypes.string,\n\t\tselectedIndex: PropTypes.number\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'tabBar'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({orientation, tabPosition, styler}) => styler.append(orientation, ['position' + cap(tabPosition)]),\n\t\tlabelPosition: ({orientation, tabPosition}) => {\n\t\t\t// TODO: this keeps the label always between the icon and the panels, is it necessary?\n\t\t\tif (orientation === 'vertical') {\n\t\t\t\tif (tabPosition === 'before') {\n\t\t\t\t\treturn 'after';\n\t\t\t\t} else {\n\t\t\t\t\treturn 'before';\n\t\t\t\t}\n\t\t\t} else if (tabPosition === 'before') {\n\t\t\t\treturn 'below';\n\t\t\t} else {\n\t\t\t\treturn 'above';\n\t\t\t}\n\t\t},\n\t\tchildren: ({tabs}) => tabs.map((tab, i) => {\n\t\t\ttab.key = 'tab' + i;\n\t\t\ttab.children = tab.title || tab.children;\n\t\t\tdelete tab.title;\n\t\t\treturn tab;\n\t\t})\n\t},\n\n\trender: ({afterTabs, beforeTabs, className, css, labelPosition, orientation, selectedIndex, style, ...rest}) => {\n\t\tdelete rest.tabPosition;\n\t\tdelete rest.tabs;\n\n\t\treturn (\n\t\t\t<Layout orientation={orientation} className={className} align=\"stretch\" style={style}>\n\t\t\t\t{beforeTabs ? <Cell className={css.tabEnds} shrink>\n\t\t\t\t\t{beforeTabs}\n\t\t\t\t</Cell> : null}\n\t\t\t\t<Cell>\n\t\t\t\t\t<Layout\n\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\tclassName={css.tabGroup}\n\t\t\t\t\t\talign=\"stretch center\"\n\t\t\t\t\t\tchildComponent={Tab}\n\t\t\t\t\t\tcomponent={Group}\n\t\t\t\t\t\titemProps={{\n\t\t\t\t\t\t\tlabelPosition,\n\t\t\t\t\t\t\torientation,\n\t\t\t\t\t\t\tshrink: (orientation === 'vertical')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\torientation={orientation}\n\t\t\t\t\t\tselect=\"radio\"\n\t\t\t\t\t\tselected={selectedIndex}\n\t\t\t\t\t\tselectedProp=\"selected\"\n\t\t\t\t\t/>\n\t\t\t\t</Cell>\n\t\t\t\t{afterTabs ? <Cell className={css.tabEnds} shrink>\n\t\t\t\t\t{afterTabs}\n\t\t\t\t</Cell> : null}\n\t\t\t</Layout>\n\t\t);\n\t}\n});\n\nTabGroupBase.defaultSlot = 'tabs';\n\n// Only documenting TabGroup since base is not useful for extension as-is\nconst TabGroup = Skinnable(Slottable({slots: ['tabs', 'afterTabs', 'beforeTabs']}, TabGroupBase));\n\nexport default TabGroup;\nexport {\n\tTabGroup,\n\tTabGroupBase\n};\n","import {adaptEvent, forward, handle} from '@enact/core/handle';\nimport kind from '@enact/core/kind';\nimport {Changeable} from '@enact/ui/Changeable';\nimport {Cell, Layout} from '@enact/ui/Layout';\nimport Slottable from '@enact/ui/Slottable';\nimport {shape} from '@enact/ui/ViewManager';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Skinnable from '../Skinnable';\nimport TabGroup from '../TabGroup';\n\nimport Panels from './Panels';\n\nimport componentCss from './TabbedPanels.module.less';\n\n/**\n * Tabbed Panels component.\n *\n * @class TabbedPanels\n * @memberof agate/Panels\n * @ui\n * @public\n */\nconst TabbedPanelsBase = kind({\n\tname: 'TabbedPanels',\n\tpropTypes: /** @lends agate/Panels.TabbedPanels.prototype */ {\n\t\tafterTabs: PropTypes.node,\n\t\tarranger: shape,\n\t\tbeforeTabs: PropTypes.node,\n\t\tcloseButtonAriaLabel: PropTypes.string,\n\t\tcss: PropTypes.object,\n\t\tduration: PropTypes.number,\n\t\tindex: PropTypes.number,\n\t\tnoAnimation: PropTypes.bool,\n\t\tnoCloseButton: PropTypes.bool,\n\t\tonApplicationClose: PropTypes.func,\n\t\tonBack: PropTypes.func,\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\t\ttabPosition: PropTypes.string,\n\t\ttabs: PropTypes.array\n\t},\n\tdefaultProps: {\n\t\tindex: 0,\n\t\tnoCloseButton: false,\n\t\ttabPosition: 'before'\n\t},\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'tabbedPanels enact-fit'\n\t},\n\thandlers: {\n\t\tonSelect: handle(\n\t\t\tadaptEvent(({selected}) => ({index: selected}), forward('onSelect'))\n\t\t)\n\t},\n\tcomputed: {\n\t\tchildren: ({children, tabs}) => {\n\t\t\t// if there are children use them\n\t\t\tif (children) {\n\t\t\t\treturn children;\n\t\t\t}\n\t\t\t// otherwise try to make children from the tabs' view and viewProps\n\t\t\tif (tabs) {\n\t\t\t\treturn tabs.map((tab, index) => {\n\t\t\t\t\tconst {view: View, viewProps} = tab;\n\t\t\t\t\treturn <View key={index} {...viewProps} />;\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tclassName: ({css, orientation, styler, tabPosition}) => styler.append(tabPosition === 'after' ? css.reverse : '', orientation === 'vertical' ? css.column : ''),\n\t\ttabOrientation: ({orientation}) => orientation === 'vertical' ? 'horizontal' : 'vertical'\n\t},\n\trender: ({\n\t\tafterTabs,\n\t\tarranger,\n\t\tbeforeTabs,\n\t\tchildren,\n\t\tcloseButtonAriaLabel,\n\t\tcss,\n\t\tduration,\n\t\tindex,\n\t\tnoAnimation,\n\t\tnoCloseButton,\n\t\tonApplicationClose,\n\t\tonBack,\n\t\tonSelect,\n\t\ttabOrientation,\n\t\ttabPosition,\n\t\ttabs,\n\t\t...rest\n\t}) => {\n\t\treturn (\n\t\t\t<Layout {...rest}>\n\t\t\t\t<Cell shrink>\n\t\t\t\t\t<TabGroup\n\t\t\t\t\t\tafterTabs={afterTabs}\n\t\t\t\t\t\tbeforeTabs={beforeTabs}\n\t\t\t\t\t\tclassName={css.tabs}\n\t\t\t\t\t\tonSelect={onSelect}\n\t\t\t\t\t\torientation={tabOrientation}\n\t\t\t\t\t\ttabs={tabs}\n\t\t\t\t\t\ttabPosition={tabPosition}\n\t\t\t\t\t\tselectedIndex={index}\n\t\t\t\t\t/>\n\t\t\t\t</Cell>\n\t\t\t\t<Cell\n\t\t\t\t\tarranger={arranger}\n\t\t\t\t\tclassName={css.panels}\n\t\t\t\t\tcloseButtonAriaLabel={closeButtonAriaLabel}\n\t\t\t\t\tcomponent={Panels}\n\t\t\t\t\tduration={duration}\n\t\t\t\t\tnoAnimation={noAnimation}\n\t\t\t\t\tnoCloseButton={noCloseButton}\n\t\t\t\t\tonApplicationClose={onApplicationClose}\n\t\t\t\t\tonBack={onBack}\n\t\t\t\t\torientation={tabOrientation}\n\t\t\t\t\tindex={index}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</Cell>\n\t\t\t</Layout>\n\t\t);\n\t}\n});\n\n// Currently not documenting the base output since it's not exported from index.js\nconst TabbedPanels = Slottable(\n\t{slots: ['tabs', 'afterTabs', 'beforeTabs']},\n\tChangeable(\n\t\t{prop: 'index', change: 'onSelect'},\n\t\tSkinnable(TabbedPanelsBase)\n\t)\n);\n\nexport default TabbedPanels;\nexport {\n\tTabbedPanels,\n\tTabbedPanelsBase\n};\n","import curry from 'ramda/src/curry';\nimport warning from 'warning';\n\nimport {getContainerNode} from './container';\n\nlet elementMatchesSelector = function (selector) {\n\tconst matchedNodes = (this.parentNode || this.document).querySelectorAll(selector);\n\treturn [].slice.call(matchedNodes).indexOf(this) >= 0;\n};\nif (typeof window === 'object') {\n\telementMatchesSelector = window.Element.prototype.matches ||\n\t\twindow.Element.prototype.matchesSelector ||\n\t\twindow.Element.prototype.mozMatchesSelector ||\n\t\twindow.Element.prototype.webkitMatchesSelector ||\n\t\twindow.Element.prototype.msMatchesSelector ||\n\t\twindow.Element.prototype.oMatchesSelector ||\n\t\telementMatchesSelector;\n}\n\nconst matchSelector = curry((selector, elem) => {\n\tif (typeof selector === 'string') {\n\t\treturn elementMatchesSelector.call(elem, selector);\n\t} else if (typeof selector === 'object' && selector.length) {\n\t\treturn selector.indexOf(elem) >= 0;\n\t} else if (typeof selector === 'object' && selector.nodeType === 1) {\n\t\treturn elem === selector;\n\t}\n\treturn false;\n});\n\nfunction parseSelector (selector) {\n\tlet result = [];\n\ttry {\n\t\tif (typeof selector === 'string') {\n\t\t\tresult = [].slice.call(document.querySelectorAll(selector));\n\t\t} else if (typeof selector === 'object' && selector.length) {\n\t\t\tresult = [].slice.call(selector);\n\t\t} else if (typeof selector === 'object' && selector.nodeType === 1) {\n\t\t\tresult = [selector];\n\t\t}\n\t} catch (ex) {\n\t\twarning(true, `parseSelector failed for selector: ${selector}`);\n\t}\n\n\treturn result;\n}\n\nconst testIntersection = (type, containerRect, elementRect) => {\n\tconst {\n\t\tleft: L,\n\t\tright: R,\n\t\ttop: T,\n\t\tbottom: B\n\t} = containerRect;\n\n\tconst {\n\t\tleft: l,\n\t\tright: r,\n\t\ttop: t,\n\t\tbottom: b\n\t} = elementRect;\n\n\tconst right = r >= L && r <= R;\n\tconst left = l >= L && l <= R;\n\tconst top = t >= T && t <= B;\n\tconst bottom = b >= T && b <= B;\n\n\tif (type === 'intersects') {\n\t\tconst aroundV = t < T && b > B;\n\t\tconst aroundH = l < L && r > R;\n\n\t\treturn (top || bottom || aroundV) && (left || right || aroundH);\n\t} else if (type === 'contains') {\n\t\treturn top && bottom && left && right;\n\t}\n\n\treturn true;\n};\n\nconst intersects = curry((containerRect, elementRect) => {\n\treturn testIntersection('intersects', containerRect, elementRect);\n});\n\nconst contains = curry((containerRect, elementRect) => {\n\treturn testIntersection('contains', containerRect, elementRect);\n});\n\nfunction getRect (elem) {\n\tconst cr = elem.getBoundingClientRect();\n\tconst rect = {\n\t\tleft: cr.left,\n\t\ttop: cr.top,\n\t\twidth: cr.width,\n\t\theight: cr.height\n\t};\n\trect.element = elem;\n\trect.right = rect.left + rect.width;\n\trect.bottom = rect.top + rect.height;\n\trect.center = {\n\t\tx: rect.left + Math.floor(rect.width / 2),\n\t\ty: rect.top + Math.floor(rect.height / 2)\n\t};\n\trect.center.left = rect.center.right = rect.center.x;\n\trect.center.top = rect.center.bottom = rect.center.y;\n\treturn rect;\n}\n\nfunction getPointRect (position) {\n\tconst {x, y} = position;\n\treturn {\n\t\tleft: x,\n\t\ttop: y,\n\t\twidth: 0,\n\t\theight: 0,\n\t\tright: x,\n\t\tbottom: y,\n\t\tcenter: {\n\t\t\tx,\n\t\t\ty,\n\t\t\tleft: x,\n\t\t\tright: x,\n\t\t\ttop: y,\n\t\t\tbottom: y\n\t\t}\n\t};\n}\n\nfunction getRects (candidates) {\n\tif (candidates && candidates.length > 0) {\n\t\treturn candidates.map(getRect);\n\t}\n\n\treturn [];\n}\n\n\nfunction getViewportRect () {\n\tconst {innerWidth: width, innerHeight: height} = window;\n\tconst x = width / 2;\n\tconst y = height / 2;\n\n\treturn {\n\t\tleft: 0,\n\t\ttop: 0,\n\t\twidth,\n\t\theight,\n\t\tright: width,\n\t\tbottom: height,\n\t\tcenter: {\n\t\t\tx,\n\t\t\ty,\n\t\t\tleft: x,\n\t\t\tright: x,\n\t\t\ttop: y,\n\t\t\tbottom: y\n\t\t}\n\t};\n}\n\nfunction getContainerRect (containerId) {\n\tconst containerNode = getContainerNode(containerId);\n\n\tif (!containerNode) {\n\t\treturn null;\n\t}\n\n\tif (containerNode === document) {\n\t\treturn getViewportRect();\n\t}\n\n\treturn getRect(containerNode);\n}\n\nexport {\n\tcontains,\n\tgetContainerRect,\n\tgetPointRect,\n\tgetRect,\n\tgetRects,\n\tintersects,\n\tmatchSelector,\n\tparseSelector\n};\n","import useClass from '../useClass';\n\nimport Handlers from './Handlers';\n\n/**\n * Creates a map of event handlers with consistent references across renders.\n *\n * Each function in the `handlers` will receive the first argument passed by the downstream caller\n * along with the latest `props` and `context` values passed to `useHandlers`. This is designed to\n * work well with {@link core/handle} which generates handlers with this function signature.\n *\n * @param {Object.<String, Function>} handlers  Map of handler names to functions.\n * @params {any}                      [props]   Typically, the props for the component but that is\n *                                              not required.\n * @params {any}                      [context] Additional data or methods the handlers may need.\n * @returns {Object}                            A map of bound handlers\n * @private\n */\nfunction useHandlers (handlers, props, context) {\n\tconst h = useClass(Handlers, handlers);\n\th.setContext(props, context);\n\n\treturn h.handlers;\n}\n\nexport default useHandlers;\nexport {\n\tuseHandlers\n};\n","import React from 'react';\n\n/**\n * Creates one instance of the class, `Ctor` with the provided `args`, for the life of the\n * component.\n *\n * ```\n * class MyClass {\n *   constructor ({value}) {\n *     this.value = value;\n *   }\n *\n *   handleEvent = (ev) => {\n *     if (ev.key === 'Enter') {\n *       // do something with this.value\n *     }\n *   }\n * }\n *\n * function Component (props) {\n *   const inst = useClass(MyClass, props.value);\n *   return <div onClick={inst.handleEvent} />\n * }\n * ```\n *\n * @param {Function} Ctor Class constructor\n * @param  {...any}  args Arguments to pass to the constructor\n * @returns {Object}      An instance of `Ctor`\n * @private\n */\nfunction useClass (Ctor, ...args) {\n\tconst ref = React.useRef(null);\n\tref.current = ref.current || new Ctor(...args);\n\n\treturn ref.current;\n}\n\nexport default useClass;\nexport {\n\tuseClass\n};\n","class Handlers {\n\tconstructor (_handlers) {\n\t\tthis.props = {};\n\t\tthis.context = {};\n\n\t\tthis._handlers = {};\n\t\tif (_handlers) {\n\t\t\tObject.keys(_handlers).forEach(fn => {\n\t\t\t\tthis._handlers[fn] = (ev) => {\n\t\t\t\t\treturn _handlers[fn](ev, this.props, this.context);\n\t\t\t\t};\n\t\t\t\tthis._handlers[fn].displayName = fn;\n\t\t\t});\n\t\t}\n\t}\n\n\tget handlers () {\n\t\treturn this._handlers;\n\t}\n\n\tsetContext (props = {}, context = {}) {\n\t\tthis.props = props;\n\t\tthis.context = context;\n\t}\n}\n\nexport default Handlers;\nexport {\n\tHandlers\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"Layout_layout__R2SB0\",\"cell\":\"Layout_cell__2wmzr\",\"grow\":\"Layout_grow__3dlNj\",\"shrink\":\"Layout_shrink__3RcNd\",\"horizontal\":\"Layout_horizontal__14doC\",\"vertical\":\"Layout_vertical__tG-RZ\",\"inline\":\"Layout_inline__1kjz8\",\"wrap\":\"Layout_wrap__1CJ7Z\",\"nowrap\":\"Layout_nowrap__1oTjq\",\"wrapReverse\":\"Layout_wrapReverse__35MZo\"};","/**\n * Utilities to facilitate integration with v8 snapshot builds\n *\n * @module core/snapshot\n * @exports isWindowReady\n * @exports onWindowReady\n * @exports windowReady\n * @public\n */\n\nimport invariant from 'invariant';\n\nconst windowCallbacks = [];\n\n/**\n * Determines if the `window` is available\n *\n * @function\n *\n * @returns {Boolean} `true` when `window` is ready\n * @memberof core/snapshot\n * @public\n */\nfunction isWindowReady () {\n\treturn typeof window !== 'undefined';\n}\n\n/**\n * Executes a callback, such as registering event handlers, when a valid `window` is available.\n *\n * During normal operation, the callback will be executed immediately. During a pre-rendering pass,\n * the callback is not be executed at all. When using snapshot, the callback is added to a queue\n * and is executed in order once the window is available.\n *\n * *Important Notes*\n * * The callback should not alter the initial HTML state. If it does, it will invalidate the\n * pre-render state and interfere with React rehydration.\n * * The callback should be limited to module-scoped actions and not component instance actions. If\n * the action is tied to a component, it should be invoked from within the component's lifecycle\n * methods.\n *\n * @function\n * @param   {Function}    callback    Function to run when the window is ready\n *\n * @returns {undefined}\n * @memberof core/snapshot\n * @public\n */\nfunction onWindowReady (callback) {\n\tif (isWindowReady()) {\n\t\tcallback();\n\t} else {\n\t\twindowCallbacks.push(callback);\n\t}\n}\n\n/**\n * Executes all queued window callbacks.\n *\n * Requires that the window be, in fact, available and will throw an `Error` if not.\n *\n * @function\n *\n * @returns {undefined}\n * @memberof core/snapshot\n * @public\n */\nfunction windowReady () {\n\tinvariant(\n\t\tisWindowReady(),\n\t\t'windowReady cannot be run until the window is available'\n\t);\n\n\twindowCallbacks.forEach(f => f());\n}\n\nexport default onWindowReady;\nexport {\n\tisWindowReady,\n\tonWindowReady,\n\twindowReady\n};\n","/**\n * Provides the {@link spotlight/Accelerator.Accelerator} class.\n *\n * @module spotlight/Accelerator\n * @exports Accelerator\n */\n\n/**\n * @class Accelerator\n * @memberof spotlight/Accelerator\n */\nclass Accelerator {\n\t/**\n\t * @constructor\n\t * @param {Number[]} frequency - Controls the frequency with which the acceleration will\n\t *\t\"freeze\". While frozen, the current target item cannot change, and all events are directed\n\t *\tto it.\n\t * @memberof spotlight/Accelerator.Accelerator.prototype\n\t */\n\tconstructor (frequency = [3, 3, 3, 2, 2, 2, 1]) {\n\n\t\t/*\n\t\t * Whether the instance is currently in an accelerating state.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t */\n\t\tthis.accelerating = false;\n\n\t\t/*\n\t\t * The current count of skipped events.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t */\n\t\tthis.skipped = 0;\n\n\t\t/*\n\t\t * The timestamp of the last evaluated event.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t */\n\t\tthis.time = 0;\n\n\t\t/*\n\t\t * The keyCode of the last evaluated event.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t */\n\t\tthis.keyCode = 0;\n\n\t\t/*\n\t\t * Whether the instance is in a state of being canceled.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t */\n\t\tthis.canceled = false;\n\n\t\t/*\n\t\t * Controls the frequency with which the acceleration will \"freeze\". While frozen,\n\t\t * the current target item cannot change, and all events are directed to it.\n\t\t *\n\t\t * @type {Number[]}\n\t\t * @default [3, 3, 3, 2, 2, 2, 1]\n\t\t * @public\n\t\t */\n\t\tthis.frequency = frequency;\n\t}\n\n\t/**\n\t * Called with the current keydown event and callback, which will be called when the event is\n\t * allowed through.\n\t *\n\t * @function\n\t * @param  {Object} event - The current event to validate.\n\t * @param  {Function} callback - The callback to execute.\n\t * @returns {Boolean} `true` if the event was consumed by processKey and callback was not called\n\t * @public\n\t * @memberof spotlight/Accelerator.Accelerator.prototype\n\t */\n\tprocessKey = (event, callback) => {\n\t\tswitch (event.type) {\n\t\t\tcase 'keydown':\n\t\t\t\tif (event.keyCode !== this.keyCode) {\n\t\t\t\t\tthis.reset();\n\t\t\t\t\tthis.time = Date.now();\n\t\t\t\t\tthis.keyCode = event.keyCode;\n\t\t\t\t\treturn callback(event);\n\t\t\t\t} else if (this.canceled) {\n\n\t\t\t\t\t// Prevent skipped keydown events from bubbling\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\tlet elapsedTime = Date.now() - this.time,\n\t\t\t\t\t\tseconds = Math.floor(elapsedTime / 1000),\n\t\t\t\t\t\ttoSkip = 0;\n\n\t\t\t\t\tseconds = seconds > this.frequency.length - 1 ? this.frequency.length - 1 : seconds;\n\n\t\t\t\t\ttoSkip = this.frequency[seconds] - 1;\n\t\t\t\t\tif (toSkip < 0) {\n\t\t\t\t\t\ttoSkip = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.accelerating = !(seconds === 0 && this.skipped === 0);\n\n\t\t\t\t\tif (this.skipped >= toSkip) {\n\t\t\t\t\t\tthis.skipped = 0;\n\t\t\t\t\t\treturn callback(event);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.skipped++;\n\t\t\t\t\t\t// Prevent skipped keydown events from bubbling\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\tcase 'keyup':\n\t\t\t\tthis.reset();\n\t\t\t\treturn callback(event);\n\t\t}\n\t};\n\n\t/**\n\t * Resets the Accelerator instance to the default values.\n\t *\n\t * @function\n\t * @returns {undefined}\n\t * @public\n\t * @memberof spotlight/Accelerator.Accelerator.prototype\n\t */\n\treset = () => {\n\t\tthis.skipped = 0;\n\t\tthis.time = 0;\n\t\tthis.keyCode = 0;\n\t\tthis.canceled = false;\n\t\tthis.accelerating = false;\n\t};\n\n\t/**\n\t * Cancels the Accelerator.\n\t *\n\t * @function\n\t * @returns {undefined}\n\t * @public\n\t * @memberof spotlight/Accelerator.Accelerator.prototype\n\t */\n\tcancel = () => {\n\t\tthis.canceled = true;\n\t};\n\n\t/**\n\t * Verifies that the Accelerator is active.\n\t *\n\t * @function\n\t * @returns {Boolean} `true` if the Accelerator is active; otherwise, `false`.\n\t * @public\n\t * @memberof spotlight/Accelerator.Accelerator.prototype\n\t */\n\tisAccelerating = () => {\n\t\treturn this.accelerating;\n\t};\n}\n\nexport default Accelerator;\nexport {Accelerator};\n","/* global ResizeObserver, MutationObserver */\n/**\n * A higher-order component that adds the ability to measure nodes conveniently.\n *\n * @module ui/Measurable\n * @exports Measurable\n */\n\nimport hoc from '@enact/core/hoc';\nimport React, {useState, useRef, useLayoutEffect} from 'react';\n\n/**\n * Default config for {@link ui/Measurable.Measurable}.\n *\n * @memberof ui/Measurable.Measurable\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Configures the prop name to pass the measurement object.\n\t *\n\t * @type {String}\n\t * @default 'measurement'\n\t * @memberof ui/Measurable.Measurable.defaultConfig\n\t */\n\tmeasurementProp: 'measurement',\n\n\t/**\n\t * Configures the prop name to pass a function to capture a reference to the element to measure.\n\t *\n\t * @type {String}\n\t * @default 'forwardRef'\n\t * @memberof ui/Measurable.Measurable.defaultConfig\n\t */\n\trefProp: 'forwardRef'\n};\n\nconst useMeasurable = () => {\n\tconst [measurement, setMeasurement] = useState();\n\tconst ref = useRef(null);\n\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tconst refToMeasure = ref.current;\n\t\t\tif (!refToMeasure) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Support for ResizeObserver\n\t\t\tif (typeof ResizeObserver === 'function') {\n\t\t\t\tlet resizeObserver = new ResizeObserver((entries) => {\n\t\t\t\t\tentries.forEach((entry) => {\n\t\t\t\t\t\tif (entry.target === refToMeasure) {\n\t\t\t\t\t\t\t// we want to measure including the padding, hence refers to `target` instead of `contentRect`\n\t\t\t\t\t\t\tsetMeasurement(entry.target.getBoundingClientRect());\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tresizeObserver.observe(refToMeasure);\n\n\t\t\t\treturn () => {\n\t\t\t\t\tresizeObserver.disconnect(refToMeasure);\n\t\t\t\t\tresizeObserver = null;\n\t\t\t\t};\n\t\t\t// Fallback support for MutationObserver\n\t\t\t} else if (typeof MutationObserver === 'function') {\n\t\t\t\tlet mutationObserver = new MutationObserver((mutationsList) => {\n\t\t\t\t\tfor (let mutation of mutationsList) {\n\t\t\t\t\t\tif (mutation.type === 'childList') {\n\t\t\t\t\t\t\tsetMeasurement(mutation.target.getBoundingClientRect());\n\t\t\t\t\t\t} else if (mutation.type === 'attributes' && (mutation.attributeName === 'style' || mutation.attributeName === 'class')) {\n\t\t\t\t\t\t\tsetMeasurement(refToMeasure.getBoundingClientRect());\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tmutationObserver.observe(refToMeasure, {attributes: true, childList: true, subtree: true});\n\n\t\t\t\treturn () => {\n\t\t\t\t\tmutationObserver.disconnect();\n\t\t\t\t\tmutationObserver = null;\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\t[] // disconnect on unmount\n\t);\n\n\treturn {\n\t\tref,\n\t\tmeasurement\n\t};\n};\n\n/**\n * A higher-order component that adds the ability to measure a referenced node and get that value\n * back as a prop.\n *\n * Applying `Measurable` to a component will pass two additional props: function to fetch the `ref`\n * and the measurement object (currently this executes `getBoundingClientRect` returning its full\n * complement of properties). Both prop names are configurable through the HOC config object.\n *\n * Changes to the referenced node will result in new measurements being returned as props. That\n * being said, it probably is not wise to use this during animation as it may cause unwanted\n * performance issues.\n *\n * @see https://reactjs.org/docs/hooks-faq.html#how-can-i-measure-a-dom-node\n * @class Measurable\n * @memberof ui/Measurable\n * @hoc\n * @public\n */\nconst Measurable = hoc(defaultConfig, (configHoc, Wrapped) => {\n\treturn function MeasurableHoc (props) {\n\t\t// Take the config from Measurable and insert it into a fresh instance of defineMeasurable\n\t\tconst {ref, measurement} = useMeasurable();\n\t\tconst measurementProps = {\n\t\t\t[configHoc.refProp]: ref,\n\t\t\t[configHoc.measurementProp]: measurement\n\t\t};\n\n\t\treturn (<Wrapped {...props} {...measurementProps} />);\n\t};\n});\n\nexport default Measurable;\nexport {\n\tMeasurable,    // HOC\n\tuseMeasurable  // Hook\n};\n","// A `React.useEvent` hooks is introduced in https://github.com/facebook/react/pull/17651\n// The `useEvent` below will be replaced with the `React.useEvent` later.\nconst utilEvent = (eventName) => {\n\treturn {\n\t\taddEventListener (ref, fn, param) {\n\t\t\tif (!ref) return;\n\n\t\t\tif (typeof window !== 'undefined' && (ref === window || ref === document)) {\n\t\t\t\tref.addEventListener(eventName, fn, param);\n\t\t\t} else if (ref.current) {\n\t\t\t\tref.current.addEventListener(eventName, fn, param);\n\t\t\t} else if (ref && ref.addEventListener) {\n\t\t\t\tref.addEventListener(eventName, fn, param);\n\t\t\t}\n\t\t},\n\n\t\tremoveEventListener (ref, fn, param) {\n\t\t\tif (!ref) return;\n\n\t\t\tif (typeof window !== 'undefined' && (ref === window || ref === document)) {\n\t\t\t\tref.removeEventListener(eventName, fn, param);\n\t\t\t} else if (ref.current) {\n\t\t\t\tref.current.removeEventListener(eventName, fn, param);\n\t\t\t} else if (ref && ref.removeEventListener) {\n\t\t\t\tref.removeEventListener(eventName, fn, param);\n\t\t\t}\n\t\t}\n\t};\n};\n\nexport default utilEvent;\nexport {\n\tutilEvent\n};\n","import hoc from '@enact/core/hoc';\nimport React from 'react';\n\nlet GlobalId = 0;\n\nconst ID_KEY = '$$ID$$';\n\n/**\n * Default config for {@link agate/Panels.IdProvider}\n *\n * @hocconfig\n * @memberof agate/Panels.IdProvider\n */\nconst defaultConfig = {\n\t/**\n\t * Prop to pass the identifier generation function\n\t *\n\t * @type {String}\n\t * @default generateId\n\t * @memberof agate/Panels.IdProvider.defaultConfig\n\t */\n\tgenerateProp: 'generateId',\n\n\t/**\n\t * Prop to pass the identifier\n\t *\n\t * @type {String}\n\t * @default id\n\t * @memberof agate/Panels.IdProvider.defaultConfig\n\t */\n\tidProp: 'id',\n\n\t/**\n\t * Optional prefix for the identifier\n\t *\n\t * @type {String}\n\t * @default 'c_'\n\t * @memberof agate/Panels.IdProvider.defaultConfig\n\t */\n\tprefix: 'c_'\n};\n\n/**\n * A higher-order component that generates globally-unique identifiers\n *\n * @class IdProvider\n * @hoc\n * @private\n * @memberof agate/Panels\n */\nconst IdProvider = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {generateProp, idProp, prefix} = config;\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'IdProvider';\n\n\t\tconstructor () {\n\t\t\tsuper();\n\n\t\t\tthis.ids = {};\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\t// Call the onUnmount handler for each generated id (note: not the key)\n\t\t\tfor (const key in this.ids) {\n\t\t\t\tconst {id, onUnmount} = this.ids[key];\n\t\t\t\tif (typeof onUnmount === 'function') {\n\t\t\t\t\tonUnmount(id);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tgenerateId = (key, idPrefix = prefix, onUnmount) => {\n\t\t\t// if an id has been generated for the key, return it\n\t\t\tif (key in this.ids) {\n\t\t\t\treturn this.ids[key].id;\n\t\t\t}\n\n\t\t\t// otherwise generate a new id (with an optional prefix), cache it, and return it\n\t\t\tconst id = `${idPrefix}${++GlobalId}`;\n\t\t\tthis.ids[typeof key === 'undefined' ? `generated-${id}` : key] = {\n\t\t\t\tid,\n\t\t\t\tonUnmount\n\t\t\t};\n\n\t\t\treturn id;\n\t\t};\n\n\t\trender () {\n\t\t\tconst props = Object.assign({}, this.props);\n\n\t\t\tif (generateProp) {\n\t\t\t\tprops[generateProp] = this.generateId;\n\t\t\t}\n\n\t\t\tif (idProp && !props[idProp]) {\n\t\t\t\tprops[idProp] = this.generateId(ID_KEY);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Wrapped {...props} />\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default IdProvider;\nexport {\n\tIdProvider\n};\n","import hoc from '@enact/core/hoc';\nimport Spotlight from '@enact/spotlight';\nimport Cancelable from '@enact/ui/Cancelable';\n\nimport css from './Panels.module.less';\n\nconst defaultConfig = {\n\tcancel: null\n};\n\nconst CancelDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {cancel} = config;\n\n\tfunction handleCancel (ev, props) {\n\t\tconst {index, [cancel]: handler} = props;\n\n\t\tif (index > 0 && handler && !document.querySelector(`.${css.transitioning}`)) {\n\t\t\t// clear Spotlight focus\n\t\t\tconst current = Spotlight.getCurrent();\n\t\t\tif (current) {\n\t\t\t\tcurrent.blur();\n\t\t\t}\n\n\t\t\thandler({\n\t\t\t\tindex: index - 1\n\t\t\t});\n\n\t\t\tev.stopPropagation();\n\t\t}\n\t}\n\n\treturn Cancelable(\n\t\t{modal: true, onCancel: handleCancel},\n\t\tWrapped\n\t);\n});\n\nexport default CancelDecorator;\nexport {\n\tCancelDecorator\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"marquee\":\"Marquee_marquee__3-K0w\",\"text\":\"Marquee_text__3hXQJ\",\"willAnimate\":\"Marquee_willAnimate__39zW3\",\"animate\":\"Marquee_animate__1mDF2\",\"spacing\":\"Marquee_spacing__uCAbE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slider\":\"Slider_slider__1Jtd2\",\"knob\":\"Slider_knob__3I0Nw\",\"horizontal\":\"Slider_horizontal__22MPN\",\"pressed\":\"Slider_pressed__e9VmX\",\"noFill\":\"Slider_noFill__VP2cy\",\"vertical\":\"Slider_vertical__3XlKe\"};","import {forward} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport Pause from '@enact/spotlight/Pause';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport $L from '../internal/$L';\n\nimport {forwardSpotlightEvents} from './utils';\n\nconst useHintOnActive = ({active}) => {\n\treturn {\n\t\tuseHintText: active\n\t};\n};\n\nconst toggleActive = ({active}) => {\n\treturn {\n\t\tactive: !active\n\t};\n};\n\nconst defaultConfig = {\n\t// FIXME: This is a compromise to maintain a single decorator for Slider and IncrementSlider\n\t// that handles both a consolidated focus state and spotlight directional event mgmt. When this\n\t// is unset (for Slider), this decorator will listen to onKeyDown and fire spotlight events.\n\t// When set (for IncrementSlider), it specifies the event that is passed down to trigger\n\t// spotlight events and also doesn't remove the spotlight directional callbacks from the props\n\t// so the Wrapped component can fire them manually or use the callback for the default behavior.\n\temitSpotlightEvents: null\n};\n\n// Adds agate-specific slider behaviors\n// * aria-valuetext handling\n//   * use aria-valuetext when set\n//   * defaults to current value\n//   * onActivate, set to hint text\n//   * on value change, reset to value or aria-valuetext\n// * Spotlight\n//   * Pause Spotlight when dragging to prevent spotlight from leaving when pointer enters another\n//     component\n//   * Forward directional spotlight events from slider\n// * Managing focused state to show/hide tooltip\nconst SliderBehaviorDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {emitSpotlightEvents} = config;\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'SliderBehaviorDecorator';\n\n\t\tstatic propTypes = {\n\t\t\t'aria-valuetext': PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\t\t\tmax: PropTypes.number,\n\t\t\tmin: PropTypes.number,\n\t\t\torientation: PropTypes.string,\n\t\t\tvalue: PropTypes.number\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\tmax: 100,\n\t\t\tmin: 0,\n\t\t\torientation: 'horizontal'\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.paused = new Pause();\n\t\t\tthis.handleActivate = this.handleActivate.bind(this);\n\t\t\tthis.handleBlur = this.handleBlur.bind(this);\n\t\t\tthis.handleDragEnd = this.handleDragEnd.bind(this);\n\t\t\tthis.handleDragStart = this.handleDragStart.bind(this);\n\t\t\tthis.handleFocus = this.handleFocus.bind(this);\n\t\t\tthis.handleSpotlightEvents = this.handleSpotlightEvents.bind(this);\n\t\t\tthis.bounds = {};\n\n\t\t\tthis.state = {\n\t\t\t\tactive: false,\n\t\t\t\tdragging: false,\n\t\t\t\tfocused: false,\n\t\t\t\tuseHintText: false,\n\t\t\t\tprevValue: props.value\n\t\t\t};\n\t\t}\n\n\t\tstatic getDerivedStateFromProps (props, state) {\n\t\t\tif (props.value !== state.prevValue) {\n\t\t\t\treturn {\n\t\t\t\t\tuseHintText: false,\n\t\t\t\t\tprevValue: props.value\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tthis.paused.resume();\n\t\t}\n\n\t\tgetValueText () {\n\t\t\tconst {'aria-valuetext': ariaValueText, min, orientation, value = min} = this.props;\n\t\t\tconst {useHintText} = this.state;\n\n\t\t\tconst verticalHint = $L('change a value with up down button');\n\t\t\tconst horizontalHint = $L('change a value with left right button');\n\n\t\t\tif (useHintText) {\n\t\t\t\treturn orientation === 'horizontal' ? horizontalHint : verticalHint;\n\t\t\t}\n\n\t\t\tif (ariaValueText != null) {\n\t\t\t\treturn ariaValueText;\n\t\t\t}\n\n\t\t\treturn value;\n\t\t}\n\n\t\thandleActivate () {\n\t\t\tforward('onActivate', {type: 'onActivate'}, this.props);\n\t\t\tthis.setState(toggleActive);\n\t\t\tthis.setState(useHintOnActive);\n\t\t}\n\n\t\thandleBlur (ev) {\n\t\t\tforward('onBlur', ev, this.props);\n\t\t\tthis.setState({focused: false});\n\t\t}\n\n\t\thandleDragStart () {\n\t\t\tthis.paused.pause();\n\t\t\tthis.setState({dragging: true});\n\t\t}\n\n\t\thandleDragEnd () {\n\t\t\tthis.paused.resume();\n\t\t\tthis.setState({dragging: false});\n\t\t}\n\n\t\thandleFocus (ev) {\n\t\t\tforward('onFocus', ev, this.props);\n\t\t\tthis.setState({focused: true});\n\t\t}\n\n\t\thandleSpotlightEvents (ev) {\n\t\t\tif (!emitSpotlightEvents) {\n\t\t\t\tforward('onKeyDown', ev, this.props);\n\t\t\t}\n\n\t\t\tforwardSpotlightEvents(ev, this.props);\n\t\t}\n\n\t\trender () {\n\t\t\tconst props = Object.assign({}, this.props);\n\n\t\t\tif (!emitSpotlightEvents) {\n\t\t\t\t// Remove spotlight props before hitting spottable since we've handled them uniquely\n\t\t\t\tdelete props.onSpotlightLeft;\n\t\t\t\tdelete props.onSpotlightRight;\n\t\t\t\tdelete props.onSpotlightUp;\n\t\t\t\tdelete props.onSpotlightDown;\n\n\t\t\t\tprops.onKeyDown = this.handleSpotlightEvents;\n\t\t\t} else {\n\t\t\t\tprops[emitSpotlightEvents] = this.handleSpotlightEvents;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Wrapped\n\t\t\t\t\trole=\"slider\"\n\t\t\t\t\t{...props}\n\t\t\t\t\tactive={this.state.active}\n\t\t\t\t\taria-valuetext={this.getValueText()}\n\t\t\t\t\tfocused={this.state.focused || this.state.dragging}\n\t\t\t\t\tonActivate={this.handleActivate}\n\t\t\t\t\tonBlur={this.handleBlur}\n\t\t\t\t\tonDragStart={this.handleDragStart}\n\t\t\t\t\tonDragEnd={this.handleDragEnd}\n\t\t\t\t\tonFocus={this.handleFocus}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default SliderBehaviorDecorator;\nexport {\n\tSliderBehaviorDecorator\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dateComponentPicker\":\"DateComponentPicker_dateComponentPicker__3e2Ns\"};","/**\n * An unstyled image component to be customized by a theme or application.\n *\n * @module ui/Image\n * @exports Image\n */\n\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport warning from 'warning';\n\nimport {selectSrc} from '../resolution';\n\nimport componentCss from './Image.module.less';\n\n/**\n * A basic image component designed to display images conditionally based on screen size.\n *\n * This component does not have a default size, therefore the image will not show unless a size is\n * specified using a CSS `className` or inline `style`.\n *\n * Example:\n * ```\n * const src = {\n *   'hd': 'http://lorempixel.com/64/64/city/1/',\n *   'fhd': 'http://lorempixel.com/128/128/city/1/',\n *   'uhd': 'http://lorempixel.com/256/256/city/1/'\n * };\n *\n * <Image className={css.myImage} src={src} sizing=\"fill\" />\n * ```\n *\n * `ui/Image` is based on the `div` element, but it uses `img` to provide `onError` and `onLoad`\n * events. The image that you see on screen is a `background-image` from the `div` element, not the\n * `img` element.\n *\n * > If you need a naturally sized image, you can use the native `<img>` element instead.\n *\n * @class Image\n * @memberof ui/Image\n * @ui\n * @public\n */\nconst ImageBase = kind({\n\tname: 'ui:Image',\n\n\tpropTypes: /** @lends ui/Image.Image.prototype */ {\n\t\t/**\n\t\t * String value for the alt attribute of the image.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\talt: PropTypes.string,\n\n\t\t/**\n\t\t * The aria-label for the image.\n\t\t *\n\t\t * If unset, it defaults to the value of `alt`.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t * @memberof ui/Image.Image.prototype\n\t\t */\n\t\t'aria-label': PropTypes.string,\n\n\t\t/**\n\t\t * Node for the children of an `Image`. Useful for overlays.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `image` - The root component class\n\t\t * * `fit` - Applied when `sizing` prop is `fit`\n\t\t * * `fill` - Applied when `sizing` prop is `fill`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Called if the image has an error.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonError: PropTypes.func,\n\n\t\t/**\n\t\t * Called once the image is loaded.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonLoad: PropTypes.func,\n\n\t\t/**\n\t\t * A placeholder image to be displayed before the image is loaded.\n\t\t *\n\t\t * For performance purposes, it should be pre-loaded or be a data url. If `src` is\n\t\t * unset, this value will be used as the `background-image`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default ''\n\t\t * @public\n\t\t */\n\t\tplaceholder: PropTypes.string,\n\n\t\t/**\n\t\t * Used to set the `background-size` of an `Image`.\n\t\t *\n\t\t * * `'fill'` - sets `background-size: cover`\n\t\t * * `'fit'` - sets `background-size: contain`\n\t\t * * `'none'` - uses the image's natural size\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'fill'\n\t\t * @public\n\t\t */\n\t\tsizing: PropTypes.oneOf(['fit', 'fill', 'none']),\n\n\t\t/**\n\t\t * String value or Object of values used to determine which image will appear on\n\t\t * a specific screenSize.\n\t\t *\n\t\t * @type {String|Object}\n\t\t * @public\n\t\t */\n\t\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n\t},\n\n\tdefaultProps: {\n\t\tplaceholder: '',\n\t\tsizing: 'fill'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'image',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tbgImage: ({placeholder, src}) => {\n\t\t\tconst imageSrc = selectSrc(src) || placeholder;\n\t\t\twarning(imageSrc, 'Image requires that either the \"placeholder\" or \"src\" props be specified.');\n\t\t\tif (!imageSrc) return null;\n\t\t\treturn placeholder && imageSrc !== placeholder ? `url(\"${imageSrc}\"), url(\"${placeholder}\")` : `url(\"${imageSrc}\")`;\n\t\t},\n\t\tclassName: ({className, sizing, styler}) => {\n\t\t\treturn sizing !== 'none' ? styler.append(sizing) : className;\n\t\t},\n\t\timgSrc: ({src}) => selectSrc(src) || null\n\t},\n\n\trender: ({alt, 'aria-label': ariaLabel, bgImage, children, css, imgSrc, onError, onLoad, style, ...rest}) => {\n\t\tdelete rest.placeholder;\n\t\tdelete rest.sizing;\n\t\tdelete rest.src;\n\n\t\treturn (\n\t\t\t<div role=\"img\" {...rest} aria-label={ariaLabel || alt} style={{...style, backgroundImage: bgImage}}>\n\t\t\t\t{children}\n\t\t\t\t<img className={css.img} src={imgSrc} alt={alt} onLoad={onLoad} onError={onError} />\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nexport default ImageBase;\nexport {\n\tImageBase as Image,\n\tImageBase\n};\n","/**\n * Provides agate styled Image component that supports multiple resolution sources.\n *\n * @example\n * <Image src=\"https://dummyimage.com/64/e048e0/0011ff\" style={{height: 64, width: 64}} />\n *\n * @module agate/Image\n * @exports Image\n * @exports ImageBase\n * @exports ImageDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport hoc from '@enact/core/hoc';\nimport UiImage from '@enact/ui/Image';\nimport Pure from '@enact/ui/internal/Pure';\nimport {selectSrc} from '@enact/ui/resolution';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './Image.module.less';\n\nconst placeholder =\n\t'data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC' +\n\t'9zdmciPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHN0cm9rZT0iIzU1NSIgZmlsbD0iI2FhYSIg' +\n\t'ZmlsbC1vcGFjaXR5PSIwLjIiIHN0cm9rZS1vcGFjaXR5PSIwLjgiIHN0cm9rZS13aWR0aD0iNiIgLz48L3N2Zz' +\n\t'4NCg==';\n\n/**\n * An Agate-styled image component without any behavior\n *\n * @class ImageBase\n * @memberof agate/Image\n * @extends ui/Image.Image\n * @ui\n * @public\n */\nconst ImageBase = kind({\n\tname: 'Image',\n\n\tpropTypes: /** @lends agate/Image.ImageBase.prototype */ {\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `image` - The root component class for Image\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * String value or Object of values used to determine which image will appear on\n\t\t * a specific screenSize.\n\t\t *\n\t\t * @type {String|Object}\n\t\t * @public\n\t\t */\n\t\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n\t},\n\n\tcomputed: {\n\t\tplaceholder: ({src}) => (!src ? placeholder : null)\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tpublicClassNames: ['image']\n\t},\n\n\trender: ({css, ...rest}) => {\n\t\treturn (\n\t\t\t<UiImage\n\t\t\t\tdraggable=\"false\"\n\t\t\t\t{...rest}\n\t\t\t\tcss={css}\n\t\t\t/>\n\t\t);\n\t}\n});\n\n\n// This induces a render when there is a screen size change that has a corresponding image src value\n// associated with the new screen size. The render is kicked off by remembering the new image src.\n//\n// This hoc could (should) be rewritten at a later time to use a smarter context API and callbacks,\n// or something like pub/sub; each of which would be hooked together from the resolution.js that\n// would coordinate any screen size/orientation changes and emit events from there.\n//\n// This is ripe for refactoring, and could probably move into UI to be generalized, but that's for\n// another time. -B 2018-05-01\nconst ResponsiveImageDecorator = hoc((config, Wrapped) => {\t// eslint-disable-line no-unused-vars\n\treturn class extends React.Component {\n\t\tstatic displayName = 'ResponsiveImageDecorator';\n\n\t\tstatic propTypes = {\n\t\t\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tthis.state = {\n\t\t\t\tsrc: selectSrc(this.props.src)\n\t\t\t};\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\twindow.addEventListener('resize', this.handleResize);\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\twindow.removeEventListener('resize', this.handleResize);\n\t\t}\n\n\t\thandleResize = () => {\n\t\t\tthis.setState((state, props) => {\n\t\t\t\tconst src = selectSrc(props.src);\n\t\t\t\t// Trigger a render and save the currently selected src for later comparisons\n\t\t\t\tif (src !== state.src) {\n\t\t\t\t\treturn {src};\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t});\n\t\t};\n\n\t\trender () {\n\t\t\treturn <Wrapped {...this.props} />;\n\t\t}\n\t};\n});\n\n/**\n * agate-specific behaviors to apply to [Image]{@link agate/Image.ImageBase}.\n *\n * @hoc\n * @memberof agate/Image\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst ImageDecorator = compose(\n\tPure,\n\tResponsiveImageDecorator,\n\tSkinnable\n);\n\n/**\n * An Agate-styled image component\n *\n * ```\n * <Image\n *   src={{\n *     'hd': 'https://dummyimage.com/64/e048e0/0011ff',\n *     'fhd': 'https://dummyimage.com/128/e048e0/0011ff',\n *     'uhd': 'https://dummyimage.com/256/e048e0/0011ff'\n *   }}\n * >\n * ```\n *\n * @class Image\n * @memberof agate/Image\n * @extends agate/Image.ImageBase\n * @mixes agate/Image.ImageDecorator\n * @ui\n * @public\n */\nconst Image = ImageDecorator(ImageBase);\n\nexport default Image;\nexport {\n\tImage,\n\tImageBase,\n\tImageDecorator\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"decorator\":\"Input_decorator__OW4uB\",\"input\":\"Input_input__1X_tf\",\"icon\":\"Input_icon__2XGHZ\",\"iconAfter\":\"Input_iconAfter__36hHf\",\"iconBefore\":\"Input_iconBefore__2WIXY\",\"focused\":\"Input_focused__3wjIv\"};","import EnactPropTypes from '@enact/core/internal/prop-types';\nimport {platform} from '@enact/core/platform';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, {Component} from 'react';\n\nimport css from './Scroller.module.less';\n\n/**\n * An unstyled base scroller component.\n *\n * @class ScrollerBasic\n * @memberof ui/Scroller\n * @ui\n * @public\n */\nclass ScrollerBasic extends Component {\n\tstatic displayName = 'ui:ScrollerBasic';\n\n\tstatic propTypes = /** @lends ui/Scroller.ScrollerBasic.prototype */ {\n\t\tchildren: PropTypes.node.isRequired,\n\n\t\t/**\n\t\t * Callback method of scrollTo.\n\t\t * Normally, `useScroll` should set this value.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tcbScrollTo: PropTypes.func,\n\n\t\t/**\n\t\t * Disable voice control feature of component.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\t'data-webos-voice-disabled': PropTypes.bool,\n\n\t\t/**\n\t\t * Activates the component for voice control.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\t'data-webos-voice-focused': PropTypes.bool,\n\n\t\t/**\n\t\t * The voice control group label.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\t'data-webos-voice-group-label': PropTypes.string,\n\n\t\t/**\n\t\t * Direction of the scroller.\n\t\t *\n\t\t * Valid values are:\n\t\t * * `'both'`,\n\t\t * * `'horizontal'`, and\n\t\t * * `'vertical'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'both'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['both', 'horizontal', 'vertical']),\n\n\t\t/**\n\t\t * Prop to check context value if Scrollbar exists or not.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @private\n\t\t */\n\t\tisVerticalScrollbarVisible: PropTypes.bool,\n\n\t\t/**\n\t\t * `true` if RTL, `false` if LTR.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @private\n\t\t */\n\t\trtl: PropTypes.bool,\n\n\t\t/**\n\t\t * Ref for scroll content\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @private\n\t\t */\n\t\tscrollContentRef: EnactPropTypes.ref\n\t};\n\n\tcomponentDidMount () {\n\t\tthis.calculateMetrics();\n\t}\n\n\tcomponentDidUpdate (prevProps) {\n\t\tthis.calculateMetrics();\n\t\tif (this.props.isVerticalScrollbarVisible && !prevProps.isVerticalScrollbarVisible) {\n\t\t\tthis.forceUpdate();\n\t\t}\n\t}\n\n\tscrollBounds = {\n\t\tclientWidth: 0,\n\t\tclientHeight: 0,\n\t\tscrollWidth: 0,\n\t\tscrollHeight: 0,\n\t\tmaxLeft: 0,\n\t\tmaxTop: 0\n\t};\n\n\tscrollPos = {\n\t\ttop: 0,\n\t\tleft: 0\n\t};\n\n\tgetScrollBounds = () => this.scrollBounds;\n\n\tgetRtlPositionX = (x) => {\n\t\tif (this.props.rtl) {\n\t\t\treturn (platform.ios || platform.safari) ? -x : this.scrollBounds.maxLeft - x;\n\t\t}\n\t\treturn x;\n\t};\n\n\tsetScrollPosition (x, y) {\n\t\tconst node = this.props.scrollContentRef.current;\n\n\t\tif (this.isVertical()) {\n\t\t\tnode.scrollTop = y;\n\t\t\tthis.scrollPos.top = y;\n\t\t}\n\t\tif (this.isHorizontal()) {\n\t\t\tnode.scrollLeft = this.getRtlPositionX(x);\n\t\t\tthis.scrollPos.left = x;\n\t\t}\n\t}\n\n\t// scrollMode 'translate'\n\tscrollToPosition (x, y) {\n\t\tthis.props.scrollContentRef.current.scrollTo(this.getRtlPositionX(x), y);\n\t}\n\n\t// scrollMode 'native'\n\tdidScroll (x, y) {\n\t\tthis.scrollPos.left = x;\n\t\tthis.scrollPos.top = y;\n\t}\n\n\tgetNodePosition = (node) => {\n\t\tconst\n\t\t\t{left: nodeLeft, top: nodeTop, height: nodeHeight, width: nodeWidth} = node.getBoundingClientRect(),\n\t\t\t{left: containerLeft, top: containerTop} = this.props.scrollContentRef.current.getBoundingClientRect(),\n\t\t\t{scrollLeft, scrollTop} = this.props.scrollContentRef.current,\n\t\t\tleft = this.isHorizontal() ? (scrollLeft + nodeLeft - containerLeft) : null,\n\t\t\ttop = this.isVertical() ? (scrollTop + nodeTop - containerTop) : null;\n\n\t\treturn {\n\t\t\tleft,\n\t\t\ttop,\n\t\t\twidth: nodeWidth,\n\t\t\theight: nodeHeight\n\t\t};\n\t};\n\n\tisVertical = () => {\n\t\treturn (this.props.direction !== 'horizontal');\n\t};\n\n\tisHorizontal = () => {\n\t\treturn (this.props.direction !== 'vertical');\n\t};\n\n\tcalculateMetrics () {\n\t\tconst\n\t\t\t{scrollBounds} = this,\n\t\t\t{scrollWidth, scrollHeight, clientWidth, clientHeight} = this.props.scrollContentRef.current;\n\n\t\tscrollBounds.scrollWidth = scrollWidth;\n\t\tscrollBounds.scrollHeight = scrollHeight;\n\t\tscrollBounds.clientWidth = clientWidth;\n\t\tscrollBounds.clientHeight = clientHeight;\n\t\tscrollBounds.maxLeft = Math.max(0, scrollWidth - clientWidth);\n\t\tscrollBounds.maxTop = Math.max(0, scrollHeight - clientHeight);\n\t}\n\n\tsyncClientSize = () => {\n\t\tconst node = this.props.scrollContentRef.current;\n\n\t\tif (!node) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst\n\t\t\t{clientWidth, clientHeight} = node,\n\t\t\t{scrollBounds} = this;\n\n\t\tif (clientWidth !== scrollBounds.clientWidth || clientHeight !== scrollBounds.clientHeight) {\n\t\t\tthis.calculateMetrics();\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\trender () {\n\t\tconst\n\t\t\t{className, style, ...rest} = this.props,\n\t\t\tmergedStyle = Object.assign({}, style, {\n\t\t\t\toverflowX: this.isHorizontal() ? 'auto' : 'hidden',\n\t\t\t\toverflowY: this.isVertical() ? 'auto' : 'hidden'\n\t\t\t});\n\n\t\tdelete rest.cbScrollTo;\n\t\tdelete rest.direction;\n\t\tdelete rest.isHorizontalScrollbarVisible;\n\t\tdelete rest.isVerticalScrollbarVisible;\n\t\tdelete rest.rtl;\n\t\tdelete rest.scrollContainerContainsDangerously;\n\t\tdelete rest.scrollContentRef;\n\t\tdelete rest.scrollMode;\n\t\tdelete rest.setThemeScrollContentHandle;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\t{...rest}\n\t\t\t\tclassName={classNames(className, css.scroller)}\n\t\t\t\tref={this.props.scrollContentRef}\n\t\t\t\tstyle={mergedStyle}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default ScrollerBasic;\nexport {\n\tScrollerBasic\n};\n","import classNames from 'classnames';\nimport {platform} from '@enact/core/platform';\nimport PropTypes from 'prop-types';\nimport React, {Component} from 'react';\n\nimport css from './UiScroller.module.less';\n\n/**\n * An unstyled base scroller component.\n *\n * In most circumstances, you will want to use the Scrollable version.\n *\n * @class ScrollerBase\n * @memberof ui/Scroller\n * @ui\n * @public\n */\nclass ScrollerBase extends Component {\n\tstatic displayName = 'ui:ScrollerBase';\n\n\tstatic propTypes = /** @lends ui/Scroller.ScrollerBase.prototype */ {\n\t\tchildren: PropTypes.node.isRequired,\n\n\t\t/**\n\t\t * Callback method of scrollTo.\n\t\t * Normally, `Scrollable` should set this value.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tcbScrollTo: PropTypes.func,\n\n\t\t/**\n\t\t * Direction of the scroller.\n\t\t *\n\t\t * Valid values are:\n\t\t * * `'both'`,\n\t\t * * `'horizontal'`, and\n\t\t * * `'vertical'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'both'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['both', 'horizontal', 'vertical']),\n\n\t\t/**\n\t\t * Prop to check context value if Scrollbar exists or not.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @private\n\t\t */\n\t\tisVerticalScrollbarVisible: PropTypes.bool,\n\n\t\t/**\n\t\t * `true` if RTL, `false` if LTR.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @private\n\t\t */\n\t\trtl: PropTypes.bool\n\t};\n\n\tstatic defaultProps = {\n\t\tdirection: 'both'\n\t};\n\n\tconstructor (props) {\n\t\tsuper(props);\n\n\t\tthis.containerRef = React.createRef();\n\t}\n\n\tcomponentDidMount () {\n\t\tthis.calculateMetrics();\n\t}\n\n\tcomponentDidUpdate (prevProps) {\n\t\tthis.calculateMetrics();\n\t\tif (this.props.isVerticalScrollbarVisible && !prevProps.isVerticalScrollbarVisible) {\n\t\t\tthis.forceUpdate();\n\t\t}\n\t}\n\n\tscrollBounds = {\n\t\tclientWidth: 0,\n\t\tclientHeight: 0,\n\t\tscrollWidth: 0,\n\t\tscrollHeight: 0,\n\t\tmaxLeft: 0,\n\t\tmaxTop: 0\n\t};\n\n\tscrollPos = {\n\t\ttop: 0,\n\t\tleft: 0\n\t};\n\n\tgetScrollBounds = () => this.scrollBounds;\n\n\tgetRtlPositionX = (x) => {\n\t\tif (this.props.rtl) {\n\t\t\treturn (platform.ios || platform.safari) ? -x : this.scrollBounds.maxLeft - x;\n\t\t}\n\t\treturn x;\n\t};\n\n\t// for Scrollable\n\tsetScrollPosition (x, y) {\n\t\tconst node = this.containerRef.current;\n\n\t\tif (this.isVertical()) {\n\t\t\tnode.scrollTop = y;\n\t\t\tthis.scrollPos.top = y;\n\t\t}\n\t\tif (this.isHorizontal()) {\n\t\t\tnode.scrollLeft = this.getRtlPositionX(x);\n\t\t\tthis.scrollPos.left = x;\n\t\t}\n\t}\n\n\t// for ScrollableNative\n\tscrollToPosition (x, y) {\n\t\tthis.containerRef.current.scrollTo(this.getRtlPositionX(x), y);\n\t}\n\n\t// for ScrollableNative\n\tdidScroll (x, y) {\n\t\tthis.scrollPos.left = x;\n\t\tthis.scrollPos.top = y;\n\t}\n\n\tgetNodePosition = (node) => {\n\t\tconst\n\t\t\t{left: nodeLeft, top: nodeTop, height: nodeHeight, width: nodeWidth} = node.getBoundingClientRect(),\n\t\t\t{left: containerLeft, top: containerTop} = this.containerRef.current.getBoundingClientRect(),\n\t\t\t{scrollLeft, scrollTop} = this.containerRef.current,\n\t\t\tleft = this.isHorizontal() ? (scrollLeft + nodeLeft - containerLeft) : null,\n\t\t\ttop = this.isVertical() ? (scrollTop + nodeTop - containerTop) : null;\n\n\t\treturn {\n\t\t\tleft,\n\t\t\ttop,\n\t\t\twidth: nodeWidth,\n\t\t\theight: nodeHeight\n\t\t};\n\t};\n\n\tisVertical = () => {\n\t\treturn (this.props.direction !== 'horizontal');\n\t};\n\n\tisHorizontal = () => {\n\t\treturn (this.props.direction !== 'vertical');\n\t};\n\n\tcalculateMetrics () {\n\t\tconst\n\t\t\t{scrollBounds} = this,\n\t\t\t{scrollWidth, scrollHeight, clientWidth, clientHeight} = this.containerRef.current;\n\t\tscrollBounds.scrollWidth = scrollWidth;\n\t\tscrollBounds.scrollHeight = scrollHeight;\n\t\tscrollBounds.clientWidth = clientWidth;\n\t\tscrollBounds.clientHeight = clientHeight;\n\t\tscrollBounds.maxLeft = Math.max(0, scrollWidth - clientWidth);\n\t\tscrollBounds.maxTop = Math.max(0, scrollHeight - clientHeight);\n\t}\n\n\trender () {\n\t\tconst\n\t\t\t{className, style, ...rest} = this.props,\n\t\t\tmergedStyle = Object.assign({}, style, {\n\t\t\t\toverflowX: this.isHorizontal() ? 'auto' : 'hidden',\n\t\t\t\toverflowY: this.isVertical() ? 'auto' : 'hidden'\n\t\t\t});\n\n\t\tdelete rest.cbScrollTo;\n\t\tdelete rest.direction;\n\t\tdelete rest.isHorizontalScrollbarVisible;\n\t\tdelete rest.isVerticalScrollbarVisible;\n\t\tdelete rest.rtl;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\t{...rest}\n\t\t\t\tclassName={classNames(className, css.scroller)}\n\t\t\t\tref={this.containerRef}\n\t\t\t\tstyle={mergedStyle}\n\t\t\t/>\n\t\t);\n\t}\n}\n\n/**\n * A callback function that receives a reference to the `scrollTo` feature.\n *\n * Once received, the `scrollTo` method can be called as an imperative interface.\n *\n * The `scrollTo` function accepts the following parameters:\n * - {position: {x, y}} - Pixel value for x and/or y position\n * - {align} - Where the scroll area should be aligned. Values are:\n *   `'left'`, `'right'`, `'top'`, `'bottom'`,\n *   `'topleft'`, `'topright'`, `'bottomleft'`, and `'bottomright'`.\n * - {node} - Node to scroll into view\n * - {animate} - When `true`, scroll occurs with animation. When `false`, no\n *   animation occurs.\n * - {focus} - When `true`, attempts to focus item after scroll. Only valid when scrolling\n *   by `index` or `node`.\n * > Note: Only specify one of: `position`, `align`, `index` or `node`\n *\n * Example:\n * ```\n *\t// If you set cbScrollTo prop like below;\n *\tcbScrollTo: (fn) => {this.scrollTo = fn;}\n *\t// You can simply call like below;\n *\tthis.scrollTo({align: 'top'}); // scroll to the top\n * ```\n *\n * @name cbScrollTo\n * @memberof ui/Scroller.ScrollerBase.prototype\n * @type {Function}\n * @public\n */\n\n/**\n * Specifies how to show horizontal scrollbar.\n *\n * Valid values are:\n * * `'auto'`,\n * * `'visible'`, and\n * * `'hidden'`.\n *\n * @name horizontalScrollbar\n * @memberof ui/Scroller.ScrollerBase.prototype\n * @type {String}\n * @default 'auto'\n * @public\n */\n\n/**\n * Prevents scroll by wheeling on the scroller.\n *\n * @name noScrollByWheel\n * @memberof ui/Scroller.ScrollerBase.prototype\n * @type {Boolean}\n * @default false\n * @public\n */\n\n/**\n * Called when scrolling.\n *\n * Passes `scrollLeft` and `scrollTop`.\n * It is not recommended to set this prop since it can cause performance degradation.\n * Use `onScrollStart` or `onScrollStop` instead.\n *\n * @name onScroll\n * @memberof ui/Scroller.ScrollerBase.prototype\n * @type {Function}\n * @param {Object} event\n * @param {Number} event.scrollLeft Scroll left value.\n * @param {Number} event.scrollTop Scroll top value.\n * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n * @public\n */\n\n/**\n * Called when scroll starts.\n *\n * Passes `scrollLeft` and `scrollTop`.\n *\n * Example:\n * ```\n * onScrollStart = ({scrollLeft, scrollTop}) => {\n *     // do something with scrollLeft and scrollTop\n * }\n *\n * render = () => (\n *     <Scroller\n *         ...\n *         onScrollStart={this.onScrollStart}\n *         ...\n *     />\n * )\n * ```\n *\n * @name onScrollStart\n * @memberof ui/Scroller.ScrollerBase.prototype\n * @type {Function}\n * @param {Object} event\n * @param {Number} event.scrollLeft Scroll left value.\n * @param {Number} event.scrollTop Scroll top value.\n * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n * @public\n */\n\n/**\n * Called when scroll stops.\n *\n * Passes `scrollLeft` and `scrollTop`.\n *\n * Example:\n * ```\n * onScrollStop = ({scrollLeft, scrollTop}) => {\n *     // do something with scrollLeft and scrollTop\n * }\n *\n * render = () => (\n *     <Scroller\n *         ...\n *         onScrollStop={this.onScrollStop}\n *         ...\n *     />\n * )\n * ```\n *\n * @name onScrollStop\n * @memberof ui/Scroller.ScrollerBase.prototype\n * @type {Function}\n * @param {Object} event\n * @param {Number} event.scrollLeft Scroll left value.\n * @param {Number} event.scrollTop Scroll top value.\n * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n * @public\n */\n\n/**\n * Specifies how to show vertical scrollbar.\n *\n * Valid values are:\n * * `'auto'`,\n * * `'visible'`, and\n * * `'hidden'`.\n *\n * @name verticalScrollbar\n * @memberof ui/Scroller.ScrollerBase.prototype\n * @type {String}\n * @default 'auto'\n * @public\n */\n\nexport default ScrollerBase;\nexport {\n\tScrollerBase\n};\n","/**\n * Unstyled scroller components and behaviors to be customized by a theme or application.\n *\n * @module ui/Scroller\n * @exports Scroller\n * @exports ScrollerBase\n * @exports ScrollerBasic\n */\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {ResizeContext} from '../Resizable';\nimport useScroll from '../useScroll';\nimport Scrollbar from '../useScroll/Scrollbar';\n\nimport ScrollerBasic from './ScrollerBasic';\nimport ScrollerBase from './UiScrollerBase';\n\nconst nop = () => {};\n\n/**\n * An unstyled scroller.\n *\n * Example:\n * ```\n * <Scroller>Scroll me.</Scroller>\n * ```\n *\n * @class Scroller\n * @memberof ui/Scroller\n * @extends ui/Scroller.ScrollerBasic\n * @ui\n * @public\n */\nconst Scroller = (props) => {\n\t// Hooks\n\n\tconst {\n\t\tscrollContentHandle,\n\t\tscrollContentWrapper: ScrollContentWrapper,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible,\n\n\t\tresizeContextProps,\n\t\tscrollContainerProps,\n\t\tscrollInnerContainerProps,\n\t\tscrollContentWrapperProps,\n\t\tscrollContentProps,\n\t\tverticalScrollbarProps,\n\t\thorizontalScrollbarProps\n\t} = useScroll(props);\n\n\t// Return\n\n\treturn (\n\t\t<ResizeContext.Provider {...resizeContextProps}>\n\t\t\t<div {...scrollContainerProps}>\n\t\t\t\t<div {...scrollInnerContainerProps}>\n\t\t\t\t\t<ScrollContentWrapper {...scrollContentWrapperProps}>\n\t\t\t\t\t\t<ScrollerBasic {...scrollContentProps} ref={scrollContentHandle} />\n\t\t\t\t\t</ScrollContentWrapper>\n\t\t\t\t\t{isVerticalScrollbarVisible ? <Scrollbar {...verticalScrollbarProps} /> : null}\n\t\t\t\t</div>\n\t\t\t\t{isHorizontalScrollbarVisible ? <Scrollbar {...horizontalScrollbarProps} /> : null}\n\t\t\t</div>\n\t\t</ResizeContext.Provider>\n\t);\n};\n\nScroller.displayName = 'ui:Scroller';\n\nScroller.propTypes = /** @lends ui/Scroller.Scroller.prototype */ {\n\t/**\n\t * A callback function that receives a reference to the `scrollTo` feature.\n\t *\n\t * Once received, the `scrollTo` method can be called as an imperative interface.\n\t *\n\t * - {position: {x, y}} - Pixel value for x and/or y position\n\t * - {align} - Where the scroll area should be aligned. Values are:\n\t *   `'left'`, `'right'`, `'top'`, `'bottom'`,\n\t *   `'topleft'`, `'topright'`, `'bottomleft'`, and `'bottomright'`.\n\t * - {node} - Node to scroll into view\n\t * - {animate} - When `true`, scroll occurs with animation. When `false`, no\n\t *   animation occurs.\n\t * - {focus} - When `true`, attempts to focus item after scroll. Only valid when scrolling\n\t *   by `node`.\n\t * > Note: Only specify one of: `position`, `align`, `node`\n\t *\n\t * Example:\n\t * ```\n\t *\t// If you set cbScrollTo prop like below;\n\t *\tcbScrollTo: (fn) => {this.scrollTo = fn;}\n\t *\t// You can simply call like below;\n\t *\tthis.scrollTo({align: 'top'}); // scroll to the top\n\t * ```\n\t *\n\t * @type {Function}\n\t * @public\n\t */\n\tcbScrollTo: PropTypes.func,\n\n\t/**\n\t * Direction of the scroller.\n\t *\n\t * Valid values are:\n\t * * `'both'`,\n\t * * `'horizontal'`, and\n\t * * `'vertical'`.\n\t *\n\t * @type {String}\n\t * @default 'both'\n\t * @public\n\t */\n\tdirection: PropTypes.string,\n\n\t/**\n\t * Specifies how to show horizontal scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {String}\n\t * @default 'auto'\n\t * @public\n\t */\n\thorizontalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n\n\t/**\n\t * Prevents scroll by dragging or flicking on the scroller.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\tnoScrollByDrag: PropTypes.bool,\n\n\t/**\n\t * Prevents scroll by wheeling on the scroller.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tnoScrollByWheel: PropTypes.bool,\n\n\t/**\n\t * Called when scrolling.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`.\n\t * It is not recommended to set this prop since it can cause performance degradation.\n\t * Use `onScrollStart` or `onScrollStop` instead.\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @public\n\t */\n\tonScroll: PropTypes.func,\n\n\t/**\n\t * Called when scroll starts.\n\t *\n\t * Passes `scrollLeft` and `scrollTop`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStart = ({scrollLeft, scrollTop}) => {\n\t *     // do something with scrollLeft and scrollTop\n\t * }\n\t *\n\t * render = () => (\n\t *     <Scroller\n\t *         ...\n\t *         onScrollStart={this.onScrollStart}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @public\n\t */\n\tonScrollStart: PropTypes.func,\n\n\t/**\n\t * Called when scroll stops.\n\t *\n\t * Passes `scrollLeft` and `scrollTop`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStop = ({scrollLeft, scrollTop}) => {\n\t *     // do something with scrollLeft and scrollTop\n\t * }\n\t *\n\t * render = () => (\n\t *     <Scroller\n\t *         ...\n\t *         onScrollStop={this.onScrollStop}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @public\n\t */\n\tonScrollStop: PropTypes.func,\n\n\t/**\n\t * Specifies overscroll effects shows on which type of inputs.\n\t *\n\t * @type {Object}\n\t * @default {drag: false, pageKey: false, wheel: false}\n\t * @private\n\t */\n\toverscrollEffectOn: PropTypes.shape({\n\t\tdrag: PropTypes.bool,\n\t\tpageKey: PropTypes.bool,\n\t\twheel: PropTypes.bool\n\t}),\n\n\t/**\n\t * Specifies how to scroll.\n\t *\n\t * Valid values are:\n\t * * `'translate'`,\n\t * * `'native'`.\n\t *\n\t * @type {String}\n\t * @default 'translate'\n\t * @public\n\t */\n\tscrollMode: PropTypes.string,\n\n\t/**\n\t * Specifies how to show vertical scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {String}\n\t * @default 'auto'\n\t * @public\n\t */\n\tverticalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden'])\n};\n\nScroller.defaultProps = {\n\tcbScrollTo: nop,\n\tdirection: 'both',\n\thorizontalScrollbar: 'auto',\n\tnoScrollByDrag: false,\n\tnoScrollByWheel: false,\n\tonScroll: nop,\n\tonScrollStart: nop,\n\tonScrollStop: nop,\n\toverscrollEffectOn: {\n\t\tdrag: false,\n\t\tpageKey: false,\n\t\twheel: false\n\t},\n\tscrollMode: 'translate',\n\tverticalScrollbar: 'auto'\n};\n\nexport default Scroller;\nexport {\n\tScroller,\n\tScrollerBase, // to support legacy ScrollerBase\n\tScrollerBasic // to support theme libraries\n};\n","import EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ComponentOverride from '../ComponentOverride';\n\n/**\n * An unstyled, knob component to be used with a `Slider`.\n *\n * @class Knob\n * @memberof ui/Slider\n * @ui\n * @public\n */\nconst Knob = kind({\n\tname: 'Knob',\n\n\tpropTypes: /** @lends ui/Slider.Knob.prototype */ {\n\t\t/**\n\t\t * The orientation of the slider, either `\"horizontal\"` or `\"vertical\"`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default \"horizontal\"\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t/**\n\t\t * A number between 0 and 1 representing the proportion of the `value` in terms of `min`\n\t\t * and `max` props of the slider.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tproportion: PropTypes.number,\n\n\t\t/**\n\t\t * Adds a tooltip to the knob using the provided component.\n\t\t *\n\t\t * The following props are forwarded to the tooltip:\n\t\t *\n\t\t * * `children` - The `value` prop from the slider\n\t\t * * `orientation` - The value of the `orientation` prop from the slider\n\t\t * * `proportion` - The value of the `proportion` prop from the knob\n\t\t *\n\t\t * This prop accepts either a Component (e.g. `MyTooltip`} which will be instantiated with\n\t\t * the above props or a component instance (e.g. `<MyTooltip customProp=\"value\" />`) which\n\t\t * will have its props merged with the above props.\n\t\t *\n\t\t * @see {@link ui/ComponentOverride}\n\t\t *\n\t\t * @type {Function|Element}\n\t\t * @public\n\t\t */\n\t\ttooltipComponent: EnactPropTypes.componentOverride,\n\n\t\t/**\n\t\t * The value of the slider.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.number\n\t},\n\n\trender: ({orientation, proportion, tooltipComponent, value, ...rest}) => {\n\t\treturn (\n\t\t\t<div {...rest}>\n\t\t\t\t<ComponentOverride\n\t\t\t\t\tcomponent={tooltipComponent}\n\t\t\t\t\torientation={orientation}\n\t\t\t\t\tproportion={proportion}\n\t\t\t\t>\n\t\t\t\t\t{value}\n\t\t\t\t</ComponentOverride>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nexport default Knob;\nexport {\n\tKnob\n};\n","import hoc from '@enact/core/hoc';\nimport {forward} from '@enact/core/handle';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {validateRangeOnce, validateSteppedOnce} from '../internal/validators';\n\nimport {calcProportion} from './utils';\n\nimport css from './Slider.module.less';\n\nconst validateRange = validateRangeOnce((props) => props, {'component': 'PositionDecorator'});\nconst validateStepValue = validateSteppedOnce((props) => props, {'component': 'PositionDecorator'});\nconst validateStepMax = validateSteppedOnce((props) => props, {'component': 'PositionDecorator', valueName: 'max'});\n\nconst PositionDecorator = hoc((config, Wrapped) => {\t// eslint-disable-line no-unused-vars\n\treturn class extends React.Component {\n\t\tstatic displayName = 'PositionDecorator';\n\n\t\tstatic propTypes = {\n\t\t\tdisabled: PropTypes.bool,\n\t\t\tmax: PropTypes.number,\n\t\t\tmin: PropTypes.number,\n\t\t\tonChange: PropTypes.func,\n\t\t\torientation: PropTypes.string,\n\t\t\tstep: PropTypes.number,\n\t\t\tvalue: PropTypes.number\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\tdisabled: false,\n\t\t\tmax: 100,\n\t\t\tmin: 0,\n\t\t\torientation: 'horizontal',\n\t\t\tstep: 1\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.handleDown = this.handleDown.bind(this);\n\t\t\tthis.handleDrag = this.handleDrag.bind(this);\n\t\t\tthis.handleDragStart = this.handleDragStart.bind(this);\n\t\t\tthis.bounds = {};\n\t\t\tthis.dragConfig = {\n\t\t\t\tglobal: true\n\t\t\t};\n\t\t}\n\n\t\temitChangeForPosition (x, y) {\n\t\t\tconst {max, min, orientation, step} = this.props;\n\t\t\tlet position = x;\n\t\t\tlet offset = this.bounds.offsetX;\n\n\t\t\tif (orientation === 'vertical') {\n\t\t\t\tposition = y;\n\t\t\t\toffset = this.bounds.offsetY;\n\t\t\t}\n\n\t\t\tlet proportion = calcProportion(this.bounds.min, this.bounds.max, position - offset);\n\t\t\tif (orientation === 'vertical') {\n\t\t\t\tproportion = 1 - proportion;\n\t\t\t}\n\n\t\t\tlet value = (max - min) * proportion + min;\n\n\t\t\t// adjust value for stepping\n\t\t\tif (step) {\n\t\t\t\tconst delta = (value - min) % step;\n\t\t\t\tif (delta < step / 2) {\n\t\t\t\t\tvalue -= delta;\n\t\t\t\t} else {\n\t\t\t\t\tvalue += step - delta;\n\t\t\t\t}\n\n\t\t\t\t// recalculate the proportion based on the stepped value\n\t\t\t\tproportion = calcProportion(min, max, value);\n\t\t\t}\n\n\t\t\tif (value !== this.props.value) {\n\t\t\t\tforward('onChange', {\n\t\t\t\t\ttype: 'onChange',\n\t\t\t\t\tvalue,\n\t\t\t\t\tproportion\n\t\t\t\t}, this.props);\n\t\t\t}\n\t\t}\n\n\t\tupdateBounds (node) {\n\t\t\tconst {orientation} = this.props;\n\n\t\t\tconst bounds = node.getBoundingClientRect();\n\t\t\tconst computedStyle = window.getComputedStyle(node);\n\n\t\t\tif (orientation === 'horizontal') {\n\t\t\t\tthis.bounds.min = bounds.left + parseInt(computedStyle.paddingLeft);\n\t\t\t\tthis.bounds.max = bounds.right - parseInt(computedStyle.paddingRight);\n\t\t\t} else {\n\t\t\t\tthis.bounds.min = bounds.top + parseInt(computedStyle.paddingTop);\n\t\t\t\tthis.bounds.max = bounds.bottom - parseInt(computedStyle.paddingBottom);\n\t\t\t}\n\t\t}\n\n\t\tupdateOffset (clientX, clientY, target) {\n\t\t\tthis.bounds.offsetX = 0;\n\t\t\tthis.bounds.offsetY = 0;\n\n\t\t\tconst knob = target.closest(`.${css.knob}`);\n\t\t\tif (knob) {\n\t\t\t\tconst rect = knob.getBoundingClientRect();\n\t\t\t\tconst centerX = rect.left + rect.width / 2;\n\t\t\t\tconst centerY = rect.top + rect.height / 2;\n\n\t\t\t\tthis.bounds.offsetX = clientX - centerX;\n\t\t\t\tthis.bounds.offsetY = clientY - centerY;\n\t\t\t}\n\t\t}\n\n\t\thandleDown ({clientX, clientY, currentTarget, target}) {\n\t\t\t// bail early for emulated mousedown events from key presses\n\t\t\tif (typeof clientX === 'undefined' || typeof clientY === 'undefined') return;\n\n\t\t\tthis.updateBounds(currentTarget);\n\t\t\tthis.updateOffset(clientX, clientY, target);\n\t\t\tthis.emitChangeForPosition(clientX, clientY);\n\t\t}\n\n\t\thandleDragStart (ev) {\n\t\t\tforward('onDragStart', ev, this.props);\n\t\t\tthis.emitChangeForPosition(ev.x, ev.y);\n\t\t}\n\n\t\thandleDrag (ev) {\n\t\t\tforward('onDrag', ev, this.props);\n\t\t\tthis.emitChangeForPosition(ev.x, ev.y);\n\t\t}\n\n\t\trender () {\n\t\t\tif (__DEV__) {\n\t\t\t\tconst {min, value = min, max, step} = this.props;\n\t\t\t\tconst props = {min, value: value || min, max, step};\n\n\t\t\t\tvalidateRange(props);\n\t\t\t\tvalidateStepValue(props);\n\t\t\t\tvalidateStepMax(props);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Wrapped\n\t\t\t\t\t{...this.props}\n\t\t\t\t\tdragConfig={this.dragConfig}\n\t\t\t\t\tonDown={this.handleDown}\n\t\t\t\t\tonDragStart={this.handleDragStart}\n\t\t\t\t\tonDrag={this.handleDrag}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default PositionDecorator;\nexport {\n\tPositionDecorator\n};\n","/**\n * Unstyled slider components and behaviors to be customized by a theme or application.\n *\n * @module ui/Slider\n * @exports Knob\n * @exports Slider\n * @exports SliderBase\n * @exports SliderDecorator\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport Changeable from '../Changeable';\nimport ComponentOverride from '../ComponentOverride';\nimport Touchable from '../Touchable';\n\nimport Knob from './Knob';\nimport PositionDecorator from './PositionDecorator';\n\nimport componentCss from './Slider.module.less';\n\nimport {calcProportion} from './utils';\n\n/**\n * An unstyled, sliding range-selection component.\n *\n * @class SliderBase\n * @memberof ui/Slider\n * @ui\n * @public\n */\nconst SliderBase = kind({\n\tname: 'ui:Slider',\n\n\tpropTypes: /** @lends ui/Slider.SliderBase.prototype */ {\n\t\t/**\n\t\t * The component used to render the progress bar within the slider.\n\t\t *\n\t\t * The provided component will receive the following props from `Slider`\n\t\t *\n\t\t * * backgroundProgress - The value of `backgroundProgress`\n\t\t * * orientation        - The value of `orientation`\n\t\t * * progress           - The `value` as a proportion between `min` and `max`\n\t\t * * progressAnchor     - The value of `progressAnchor`\n\t\t *\n\t\t * This prop accepts either a Component (e.g. `MyProgress`} which will be instantiated with\n\t\t * the above props or a component instance (e.g. `<MyProgress customProp=\"value\" />`) which\n\t\t * will have its props merged with the above props.\n\t\t *\n\t\t * @type {Component|Element}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tprogressBarComponent: EnactPropTypes.componentOverride.isRequired,\n\n\t\t/**\n\t\t * Background progress, as a proportion between `0` and `1`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tbackgroundProgress: PropTypes.number,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `slider`     - The root component class\n\t\t * * `knob`       - The knob node\n\t\t * * `horizontal` - Applied when `orientation` prop is `\"horizontal\"``\n\t\t * * `pressed`    - Applied when `pressed` prop is `true`\n\t\t * * `noFill`     - Applied when `noFill` prop is `true`\n\t\t * * `vertical`   - Applied when `orientation` prop is `\"vertical\"`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Disables component and does not generate events.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Defines a custom knob component for the slider.\n\t\t *\n\t\t * By default, Slider will use its own implementation, {@link ui/Slider.Knob}.\n\t\t *\n\t\t * The following props are forwarded to the knob:\n\t\t *\n\t\t * * `className`        - A `knob` class applied by the slider\n\t\t * * `disabled`         - The value of `disabled`\n\t\t * * `orientation`      - The value of `orientation`\n\t\t * * `proportion`       - The `value` as a proportion between `min` and `max`\n\t\t * * `tooltipComponent` - The value of `tooltipComponent`\n\t\t * * `value`            - The value of `value`\n\t\t *\n\t\t * This prop accepts either a Component (e.g. `MyKnob`} which will be instantiated with\n\t\t * the above props or a component instance (e.g. `<MyKnob customProp=\"value\" />`) which\n\t\t * will have its props merged with the above props.\n\t\t *\n\t\t * @see {@link ui/ComponentOverride}\n\t\t *\n\t\t * @type {Component|Element}\n\t\t * @default {@link ui/Slider.Knob}\n\t\t * @public\n\t\t */\n\t\tknobComponent: EnactPropTypes.componentOverride,\n\n\t\t/**\n\t\t * The maximum value of the slider.\n\t\t *\n\t\t * The range between `min` and `max` should be evenly divisible by\n\t\t * [step]{@link ui/Slider.SliderBase.step}.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 100\n\t\t * @public\n\t\t */\n\t\tmax: PropTypes.number,\n\n\t\t/**\n\t\t * The minimum value of the slider.\n\t\t *\n\t\t * The range between `min` and `max` should be evenly divisible by\n\t\t * [step]{@link ui/Slider.SliderBase.step}.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tmin: PropTypes.number,\n\n\t\t/**\n\t\t * Applies the style where the slider bar does not display filled.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tnoFill: PropTypes.bool,\n\n\t\t/**\n\t\t * The orientation of the slider.\n\t\t *\n\t\t * Allowed values include:\n\t\t * * `'horizontal'` - A left and right orientation\n\t\t * * `'vertical'` - An up and down orientation\n\t\t *\n\t\t * @type {String}\n\t\t * @default \"horizontal\"\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.string,\n\n\t\t/**\n\t\t * Applies a pressed visual effect.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tpressed: PropTypes.bool,\n\n\t\t/**\n\t\t * Sets the point, as a proportion between 0 and 1, from which the slider is filled.\n\t\t *\n\t\t * Applies to both the slider's `value` and `backgroundProgress`. In both cases,\n\t\t * setting the value of `progressAnchor` will cause the slider to fill from that point\n\t\t * down, when `value` or `backgroundProgress` is proportionally less than the anchor, or up,\n\t\t * when `value` or `backgroundProgress` is proportionally greater than the anchor, rather\n\t\t * than always from the start of the slider.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tprogressAnchor: PropTypes.number,\n\n\t\t/**\n\t\t * The amount to increment or decrement the value.\n\t\t *\n\t\t * It must evenly divide into the range designated by `min` and `max`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t * @public\n\t\t */\n\t\tstep: PropTypes.number,\n\n\t\t/**\n\t\t * Adds a tooltip to the slider using the provided component.\n\t\t *\n\t\t * The following props are forwarded to the tooltip:\n\t\t *\n\t\t * * `children`    - The `value` prop from the slider\n\t\t * * `orientation` - The value of the `orientation` prop from the slider\n\t\t * * `proportion`  - The `value` as a proportion between `min` and `max`\n\t\t *\n\t\t * This prop accepts either a Component (e.g. `MyTooltip`} which will be instantiated with\n\t\t * the above props or a component instance (e.g. `<MyTooltip customProp=\"value\" />`) which\n\t\t * will have its props merged with the above props.\n\t\t *\n\t\t * @see {@link ui/ComponentOverride}\n\t\t *\n\t\t * @type {Component|Element}\n\t\t * @public\n\t\t */\n\t\ttooltipComponent: EnactPropTypes.componentOverride,\n\n\t\t/**\n\t\t * The value of the slider.\n\t\t *\n\t\t * Defaults to the value of `min`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.number\n\t},\n\n\tdefaultProps: {\n\t\tdisabled: false,\n\t\tknobComponent: Knob,\n\t\tmin: 0,\n\t\tmax: 100,\n\t\tnoFill: false,\n\t\torientation: 'horizontal',\n\t\tprogressAnchor: 0,\n\t\tstep: 1\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'slider',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({noFill, orientation, pressed, styler}) => {\n\t\t\treturn styler.append(\n\t\t\t\torientation,\n\t\t\t\t{\n\t\t\t\t\tnoFill,\n\t\t\t\t\tpressed\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\tpercent: ({max, min, value = min}) => calcProportion(min, max, value),\n\t\tstyle: ({max, min, style, value = min}) => {\n\t\t\tconst proportion = calcProportion(min, max, value);\n\n\t\t\treturn {\n\t\t\t\t...style,\n\t\t\t\t'--ui-slider-proportion-end-knob': proportion\n\t\t\t};\n\t\t}\n\t},\n\n\trender: ({\n\t\tbackgroundProgress,\n\t\tcss,\n\t\tdisabled,\n\t\tknobComponent,\n\t\tmin,\n\t\torientation,\n\t\tpercent,\n\t\tprogressBarComponent,\n\t\tprogressAnchor,\n\t\ttooltipComponent,\n\t\tvalue = min,\n\t\t...rest\n\t}) => {\n\t\tdelete rest.max;\n\t\tdelete rest.noFill;\n\t\tdelete rest.pressed;\n\t\tdelete rest.step;\n\n\t\treturn (\n\t\t\t<div {...rest} disabled={disabled}>\n\t\t\t\t<ComponentOverride\n\t\t\t\t\tbackgroundProgress={backgroundProgress}\n\t\t\t\t\tcomponent={progressBarComponent}\n\t\t\t\t\torientation={orientation}\n\t\t\t\t\tprogress={percent}\n\t\t\t\t\tprogressAnchor={progressAnchor}\n\t\t\t\t>\n\t\t\t\t\t<ComponentOverride\n\t\t\t\t\t\tclassName={css.knob}\n\t\t\t\t\t\tcomponent={knobComponent}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\torientation={orientation}\n\t\t\t\t\t\tproportion={percent}\n\t\t\t\t\t\ttooltipComponent={tooltipComponent}\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t/>\n\t\t\t\t</ComponentOverride>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n/**\n * Adds touch and drag support to a [SliderBase]{@link ui/Slider.SliderBase}.\n *\n * @hoc\n * @memberof ui/Slider\n * @mixes ui/Changeable.Changeable\n * @mixes ui/Touchable.Touchable\n * @public\n */\nconst SliderDecorator = compose(\n\tChangeable,\n\tPositionDecorator,\n\tTouchable({activeProp: 'pressed'})\n);\n\n/**\n * A minimally-styled slider component with touch and drag support.\n *\n * @class Slider\n * @extends ui/Slider.SliderBase\n * @memberof ui/Slider\n * @mixes ui/Slider.SliderDecorator\n * @ui\n * @public\n */\n\n/**\n * Called when the value is changed.\n *\n * @name onChange\n * @memberof ui/Slider.Slider.prototype\n * @type {Function}\n * @param {Object} event\n * @param {Number} event.value      Value of the slider\n * @param {Number} event.proportion Proportion of the value in terms of the min and max\n *                                  values\n * @public\n */\n\nconst Slider = SliderDecorator(SliderBase);\n\nexport default Slider;\nexport {\n\tKnob,\n\tSlider,\n\tSliderBase,\n\tSliderDecorator\n};\n","let GlobalId = 0;\nconst ID_KEY = '$$ID$$';\n\nclass Provider {\n\tconstructor (prefix) {\n\t\tthis.prefix = prefix;\n\t\tthis.ids = {};\n\t}\n\n\tunload () {\n\t\t// Call the onUnmount handler for each generated id (note: not the key)\n\t\tfor (const key in this.ids) {\n\t\t\tconst {id, onUnmount} = this.ids[key];\n\n\t\t\tif (typeof onUnmount === 'function') {\n\t\t\t\tonUnmount(id);\n\t\t\t}\n\t\t}\n\t}\n\n\tgenerate = (key = ID_KEY, idPrefix = this.prefix, onUnmount) => {\n\t\t// if an id has been generated for the key, return it\n\t\tif (key in this.ids) {\n\t\t\treturn this.ids[key].id;\n\t\t}\n\n\t\t// otherwise generate a new id (with an optional prefix), cache it, and return it\n\t\tconst id = `${idPrefix}${++GlobalId}`;\n\t\tthis.ids[typeof key === 'undefined' ? `generated-${id}` : key] = {\n\t\t\tid,\n\t\t\tonUnmount\n\t\t};\n\n\t\treturn id;\n\t};\n}\n\nexport default Provider;\nexport {\n\tProvider\n};\n","import useClass from '@enact/core/useClass';\nimport React from 'react';\n\nimport Provider from './Provider';\n\n/**\n * Configuration for `useIdProvider`\n *\n * @typedef {Object} useIdProviderConfig\n * @memberof ui/IdProvider\n * @property {String} [prefix] Optional prefix for the identifier.\n * @private\n */\n\n/**\n * Object returned by `useIdProvider`\n *\n * @typedef {Object} useIdProviderInterface\n * @memberof ui/IdProvider\n * @property {Function} [generateId] The function to generate id.\n * @private\n */\n\n/**\n * Generate globally-unique identifiers\n *\n * @param {useIdProviderConfig} config Configuration options\n * @returns {useIdProviderInterface}\n * @private\n */\nconst useIdProvider = ({prefix}) => {\n\tconst provider = useClass(Provider, prefix);\n\n\tReact.useEffect(() => {\n\t\treturn () => provider.unload();\n\t}, [provider]);\n\n\treturn {\n\t\tgenerateId: provider.generate\n\t};\n};\n\nexport default useIdProvider;\nexport {\n\tuseIdProvider\n};\n","import hoc from '@enact/core/hoc';\nimport React from 'react';\n\nimport useId from './useId';\n\n/**\n * Default config for {@link ui/IdProvider.IdProvider}\n *\n * @hocconfig\n * @memberof ui/IdProvider.IdProvider\n */\nconst defaultConfig = {\n\t/**\n\t * Prop to pass the identifier generation function\n\t *\n\t * @type {String}\n\t * @default generateId\n\t * @memberof ui/IdProvider.IdProvider.defaultConfig\n\t */\n\tgenerateProp: 'generateId',\n\n\t/**\n\t * Prop to pass the identifier\n\t *\n\t * @type {String}\n\t * @default id\n\t * @memberof ui/IdProvider.IdProvider.defaultConfig\n\t */\n\tidProp: 'id',\n\n\t/**\n\t * Optional prefix for the identifier\n\t *\n\t * @type {String}\n\t * @default 'c_'\n\t * @memberof ui/IdProvider.IdProvider.defaultConfig\n\t */\n\tprefix: 'c_'\n};\n\n/**\n * A higher-order component that generates globally-unique identifiers\n *\n * @class IdProvider\n * @hoc\n * @private\n * @memberof ui/IdProvider\n */\nconst IdProvider = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {generateProp, idProp, prefix} = config;\n\n\t// eslint-disable-next-line no-shadow\n\tfunction IdProvider (props) {\n\t\tconst updated = {...props};\n\t\tconst {generateId} = useId({prefix});\n\n\t\tif (generateProp) {\n\t\t\tupdated[generateProp] = generateId;\n\t\t}\n\n\t\tif (idProp && !updated[idProp]) {\n\t\t\tupdated[idProp] = generateId();\n\t\t}\n\n\t\treturn (\n\t\t\t<Wrapped {...updated} />\n\t\t);\n\t}\n\n\treturn IdProvider;\n});\n\nexport default IdProvider;\nexport {\n\tIdProvider,\n\tuseId\n};\n","import {forKey} from '@enact/core/handle';\n\n/**\n * Array of cancel handlers. If any of these returns `false`, `forCancel` will return `false`;\n *\n * @type {Function[]}\n * @private\n */\nconst cancelHandlers = [\n\t// always support the Escape key\n\tforKey('cancel')\n];\n\n/**\n * Event handler compatible with {@link core/handle} that allows the handler chain to\n * continue for any cancel event. A cancel event is an Escape key press by default but can be\n * extended adding additional handlers using\n * {@link ui/Cancelable/cancelHandler.addCancelHandler}.\n *\n * @function\n * @memberof ui/Cancelable\n * @param  {Object} ev Event object\n * @returns {Boolean} `true` to stop the handler chain\n * @private\n */\nconst forCancel = function (ev) {\n\tlet ok = false;\n\tcancelHandlers.forEach(fn => {\n\t\t// if any handler returns true, we don't need to call any more\n\t\tok = ok || fn(ev);\n\t});\n\n\treturn ok;\n};\n\n/**\n * Adds an event handler to filter cancel events.\n *\n * @function\n * @memberof ui/Cancelable\n * @param {Function} handler\tFunction that will receive the event and should return `true` if\n *\t\t\t\t\t\t\t\tthe event is a cancel event.\n * @returns {undefined}\n * @public\n */\nconst addCancelHandler = function (handler) {\n\tif (cancelHandlers.indexOf(handler) < 0) {\n\t\tcancelHandlers.push(handler);\n\t}\n};\n\n/**\n * Removes an event handler to filter cancel events\n *\n * @function\n * @memberof ui/Cancelable\n * @param {Function} handler A previously added filter function\n * @returns {undefined}\n * @public\n */\nconst removeCancelHandler = function (handler) {\n\tconst index = cancelHandlers.indexOf(handler);\n\tif (index >= 0) {\n\t\tcancelHandlers.splice(index, 1);\n\t}\n};\n\nexport {\n\taddCancelHandler,\n\tforCancel,\n\tremoveCancelHandler\n};\n","import {on, off} from '@enact/core/dispatcher';\n\n// Contains references to modal Cancelable instances in LIFO order to allow multiple modals to be\n// displayed with the last having the first priority to handle the cancel.\nconst modals = [];\n\n/**\n * Dispatches the cancel event to each modal `Cancelable` instance. Consistent with\n * {@link core/handle.handle}, returning a `true` value means the event was handled and anything\n * falsy allows the event to pass to the next handler.\n *\n * @param\t{Object}\tev\tEvent payload\n *\n * @returns\t{undefined}\n * @private\n */\nconst dispatchToModals = (ev) => {\n\tfor (let i = modals.length - 1, handled = false; !handled && i >= 0; i--) {\n\t\thandled = modals[i].handleCancel(ev);\n\t}\n};\n\n/**\n * Adds a modal `Cancelable` instance to the list of modals.\n *\n * @param\t{ui/Cancelable.Cancelable}\tobj\tCancelable instance\n *\n * @returns\t{undefined}\n * @private\n */\nconst addModal = (obj) => {\n\tif (modals.push(obj) === 1 && typeof window !== 'undefined') {\n\t\ton('keyup', dispatchToModals, window);\n\t}\n};\n\n/**\n * Removes a modal `Cancelable` instance from the list of modals.\n *\n * @param\t{ui/Cancelable.Cancelable}\tobj\tCancelable instance\n *\n * @returns\t{undefined}\n * @private\n */\nconst removeModal = (obj) => {\n\tconst index = modals.indexOf(obj);\n\tif (index >= 0) {\n\t\tmodals.splice(index, 1);\n\t}\n\n\tif (modals.length === 0 && typeof window !== 'undefined') {\n\t\toff('keyup', dispatchToModals, window);\n\t}\n};\n\nexport {addModal, removeModal};\n","/**\n * Provides components and methods to add support for handling cancel actions.\n *\n * @module ui/Cancelable\n * @exports addCancelHandler\n * @exports Cancelable\n * @exports removeCancelHandle\n */\n\nimport {forward, handle, stop, stopImmediate} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport {add} from '@enact/core/keymap';\nimport invariant from 'invariant';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {forCancel, addCancelHandler, removeCancelHandler} from './cancelHandler';\nimport {addModal, removeModal} from './modalHandler';\n\n/**\n * Default config for {@link ui/Cancelable.Cancelable}\n *\n * @memberof ui/Cancelable.Cancelable\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Called when a cancel action is invoked by the user.\n\t *\n\t * If it is a string, the cancel handler will attempt to invoke a function passed as a prop of\n\t * that name. If it is a function, that function will be called with the current props as the\n\t * only argument.\n\t *\n\t * If the function handles the cancel action, it should call `stopPropagation()` on the provided\n\t * event object prevent container or `modal` Cancelable instances from also handling the action.\n\t *\n\t * @type {String|Function}\n\t * @required\n\t * @memberof ui/Cancelable.Cancelable.defaultConfig\n\t */\n\tonCancel: null,\n\n\t/**\n\t * Subscribes to cancel events globally for this instance.\n\t *\n\t * When `true`, the `Cancelable` instance will handle cancel events globally that successfully\n\t * bubble up to `window` regardless of which component is focused.\n\t *\n\t * `modal` cancel handlers are processed in reverse of the order they are created such that the\n\t * innermost instance (in terms of the component hierarchy) have the first opportunity to handle\n\t * the event before its container components.\n\t *\n\t * @type {String}\n\t * @default false\n\t * @memberof ui/Cancelable.Cancelable.defaultConfig\n\t */\n\tmodal: false,\n\n\t/**\n\t * The component that will contain the wrapped component.\n\t *\n\t * When set, the wrapped component will be contained within an instance of `component`. This may\n\t * be necessary if the props passed to the wrapped component are not placed on the root element.\n\t *\n\t * @type {Component}\n\t * @default null\n\t * @memberof ui/Cancelable.Cancelable.defaultConfig\n\t */\n\tcomponent: null\n};\n\n// Add keymap for escape key\nadd('cancel', 27);\n\n/**\n * A higher-order component that adds support to a component to handle cancel actions.\n *\n * The cancel event may be handled either by a design-time config function or a run-time prop\n * function. If the component handles the event and wants to prevent upstream components from also\n * handling the event, the callback should invoke `stopPropagation()` on the event object.\n *\n * Note: This HoC passes a number of props to the wrapped component that should be passed to the\n * main DOM node.\n *\n * Usage of config function:\n * ```\n * import Cancelable from '@enact/ui/Cancelable';\n *\n * const MyComponent = ({myProp, ...rest}) => (\n *    <div {...rest}>{myProp}</div>\n *  );\n * ...\n * const CancelableComponent = Cancelable(\n *   {cancel: function (ev, props) {\n *     // Can inspect either the `onCancel` event, `ev`, and/or the `props` to determine how\n *     // to handle the event (e.g. invoking an event handler from `props`).\n *\n *     // Stop upstream instances of Cancelable from handling the event\n *     ev.stopPropagaion();\n *   }},\n *   MyComponent\n * );\n * ```\n *\n * Usage of prop function:\n * ```\n * import Cancelable from '@enact/ui/Cancelable';\n *\n * const CancelableComponent = Cancelable(\n *   // When a cancel action is received and a handler function exists for the prop\n *   // `onCancel`, it will be invoked and passed the `onCancel` event object.\n *   {cancel: 'onCancel'},\n *   MyComponent\n * );\n * ```\n *\n * @class Cancelable\n * @memberof ui/Cancelable\n * @hoc\n * @public\n */\nconst Cancelable = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {\n\t\tonCancel,\n\t\tmodal,\n\t\tcomponent: Component\n\t} = config;\n\n\tinvariant(onCancel, 'onCancel must be specified with Cancelable');\n\n\tconst onCancelIsString = typeof onCancel === 'string';\n\tconst onCancelIsFunction = typeof onCancel === 'function';\n\tconst dispatchCancelToConfig = function (ev, props) {\n\t\t// by default, we return false which allows event propagation because it will \"break\" the\n\t\t// handler chain and not call `stop` and `stopImmediate` below\n\t\tlet stopped = false;\n\n\t\tconst cancelEvent = {\n\t\t\ttype: 'onCancel',\n\t\t\tstopPropagation: () => {\n\t\t\t\tstopped = true;\n\t\t\t}\n\t\t};\n\n\t\tif (onCancelIsString && typeof props[onCancel] === 'function') {\n\t\t\t// use the custom event name from the config\n\t\t\tcancelEvent.type = onCancel;\n\t\t\tprops[onCancel](cancelEvent);\n\t\t} else if (onCancelIsFunction) {\n\t\t\tonCancel(cancelEvent, props);\n\t\t}\n\n\t\treturn stopped;\n\t};\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'Cancelable';\n\n\t\tstatic propTypes = /** @lends ui/Cancelable.Cancelable.prototype */ {\n\t\t\t/**\n\t\t\t * Called when a cancel action is received.\n\t\t\t *\n\t\t\t * This callback is invoked for every cancel action before the config or prop handler is\n\t\t\t * invoked.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonCancel: PropTypes.func\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tthis.isFirstRender = true;\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tif (modal) {\n\t\t\t\tremoveModal(this);\n\t\t\t}\n\t\t}\n\n\t\thandle = handle.bind(this);\n\n\t\thandleCancel = this.handle(\n\t\t\tforCancel,\n\t\t\tforward('onCancel'),\n\t\t\tdispatchCancelToConfig,\n\t\t\tstop,\n\t\t\tstopImmediate\n\t\t);\n\n\t\thandleKeyUp = this.handle(\n\t\t\tforward('onKeyUp'),\n\t\t\t// nesting handlers for DRYness. note that if any conditions return false in\n\t\t\t// this.handleCancel(), this handler chain will stop too\n\t\t\tthis.handleCancel\n\t\t);\n\n\t\trenderWrapped (props) {\n\t\t\treturn (\n\t\t\t\t<Component onKeyUp={this.handleKeyUp}>\n\t\t\t\t\t<Wrapped {...props} />\n\t\t\t\t</Component>\n\t\t\t);\n\t\t}\n\n\t\trenderUnwrapped (props) {\n\t\t\treturn (\n\t\t\t\t<Wrapped {...props} onKeyUp={this.handleKeyUp} />\n\t\t\t);\n\t\t}\n\n\t\trenderModal (props) {\n\t\t\treturn (\n\t\t\t\t<Wrapped {...props} />\n\t\t\t);\n\t\t}\n\n\t\trender () {\n\t\t\tconst props = Object.assign({}, this.props);\n\t\t\tdelete props.onCancel;\n\t\t\tdelete props[onCancel];\n\n\t\t\tif (this.isFirstRender && modal) {\n\t\t\t\taddModal(this);\n\t\t\t\tthis.isFirstRender = false;\n\t\t\t}\n\n\t\t\treturn\tmodal && this.renderModal(props) ||\n\t\t\t\t\tComponent && this.renderWrapped(props) ||\n\t\t\t\t\tthis.renderUnwrapped(props);\n\t\t}\n\t};\n});\n\nexport default Cancelable;\nexport {\n\taddCancelHandler,\n\tCancelable,\n\tremoveCancelHandler\n};\n","/**\n * An unstyled icon component that handles interaction and toggles state between activated\n * and deactivated.\n *\n * Visually, it may be to be customized by a theme or application to represent any\n * state.\n *\n * @module ui/ToggleIcon\n * @exports ToggleIcon\n * @exports ToggleIconBase\n * @exports ToggleIconDecorator\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport Toggleable from '../Toggleable';\nimport Touchable from '../Touchable';\n\nimport componentCss from './ToggleIcon.module.less';\n\n/**\n * Represents a Boolean state, and can accept any icon to toggle.\n *\n * @class ToggleIconBase\n * @memberof ui/ToggleIcon\n * @ui\n * @public\n */\nconst ToggleIconBase = kind({\n\tname: 'ui:ToggleIcon',\n\n\tpropTypes: /** @lends ui/ToggleIcon.ToggleIconBase.prototype */ {\n\t\t/**\n\t\t * The icon to use for this component.\n\t\t *\n\t\t * @see {@link ui/Icon.Icon.children}\n\t\t * @type {String|Object}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `toggleIcon` - The root class name\n\t\t * * `icon` - The background node of the button\n\t\t * * `selected` - Applied to a `selected` button\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Disables `ToggleIcon`.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t* CSS classes to be used on the Icon component\n\t\t*\n\t\t* @type {String}\n\t\t* @public\n\t\t*/\n\t\ticonClasses: PropTypes.string,\n\n\t\t/**\n\t\t * The component used to render the icon.\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @default 'div'\n\t\t * @public\n\t\t */\n\t\ticonComponent: EnactPropTypes.renderable,\n\n\t\t/**\n\t\t * Sets whether this control is in the 'on' or 'off' state. `true` for 'on', `false` for 'off'.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tdisabled: false,\n\t\ticonComponent: 'div',\n\t\tselected: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'toggleIcon',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({selected, styler}) => styler.append({selected}),\n\t\ticonClassName: ({iconClasses, css}) => iconClasses ? `${css.icon} ${iconClasses}` : css.icon\n\t},\n\n\trender: ({children, iconComponent: IconComponent, iconClassName, ...rest}) => {\n\t\tdelete rest.selected;\n\t\tdelete rest.iconClasses;\n\n\t\treturn (\n\t\t\t<div {...rest}>\n\t\t\t\t<IconComponent className={iconClassName}>{children}</IconComponent>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n/**\n * Adds support for the `onToggle` prop callback to be fired when the `onTap` (touch-safe `onClick`)\n * event executes.\n *\n * @class ToggleIconDecorator\n * @memberof ui/ToggleIcon\n * @mixes ui/Toggleable.Toggleable\n * @mixes ui/Touchable.Touchable\n * @ui\n * @public\n */\nconst ToggleIconDecorator = compose(\n\tToggleable({toggleProp: 'onTap'}),\n\tTouchable\n);\n\n/**\n * Represents a Boolean state, and can accept any icon to toggle.\n *\n * @class ToggleIcon\n * @memberof ui/ToggleIcon\n * @extends ui/ToggleIcon.ToggleIconBase\n * @mixes ui/ToggleIcon.ToggleIconDecorator\n * @ui\n * @public\n */\nconst ToggleIcon = ToggleIconDecorator(ToggleIconBase);\n\n/**\n * The handler to run when the component is toggled.\n *\n * @name onToggle\n * @memberof ui/ToggleIcon.ToggleIcon.prototype\n * @type {Function}\n * @param {Object} event\n * @param {String} event.selected - Selected value of item.\n * @public\n */\n\nexport default ToggleIcon;\nexport {\n\tToggleIcon,\n\tToggleIconBase,\n\tToggleIconDecorator\n};\n","/**\n * Agate styled toggle icon.\n *\n * @example\n * <ToggleIcon selected>check</ToggleIcon>\n *\n * @module agate/ToggleIcon\n * @exports ToggleIcon\n * @exports ToggleIconBase\n * @exports ToggleIconDecorator\n * @private\n */\n\nimport kind from '@enact/core/kind';\nimport React from 'react';\nimport compose from 'ramda/src/compose';\n\nimport Pure from '@enact/ui/internal/Pure';\nimport UiToggleIcon from '@enact/ui/ToggleIcon';\n\nimport Icon from '../../Icon/Icon';\nimport Skinnable from '../../Skinnable/Skinnable';\n\n/**\n * A component that indicates a boolean state.\n *\n * @class ToggleIconBase\n * @memberof agate/ToggleIcon\n * @extends ui/ToggleIcon.ToggleIcon\n * @ui\n * @private\n */\nconst ToggleIconBase = kind({\n\tname: 'ToggleIcon',\n\n\trender: (props) => {\n\t\treturn (\n\t\t\t<UiToggleIcon {...props} iconComponent={Icon} />\n\t\t);\n\t}\n});\n\n/**\n * Agate-specific behaviors to apply to `ToggleIconBase`.\n *\n * @hoc\n * @memberof agate/ToggleIcon\n * @mixes agate/Skinnable.Skinnable\n * @private\n */\nconst ToggleIconDecorator = compose(\n\tPure,\n\tSkinnable\n);\n\n/**\n * A customizable Agate starting point [Icon]{@link agate/Icon.Icon} that responds to the\n * `selected` prop.\n *\n * @class ToggleIcon\n * @memberof agate/ToggleIcon\n * @extends agate/ToggleIcon.ToggleIconBase\n * @mixes agate/ToggleIcon.ToggleIconDecorator\n * @private\n */\nconst ToggleIcon = ToggleIconDecorator(ToggleIconBase);\n\nexport default ToggleIcon;\nexport {\n\tToggleIcon,\n\tToggleIconBase,\n\tToggleIconDecorator\n};\n","/**\n * Modal component that appears at the bottom of the screen and takes up the full screen width.\n *\n * @example\n * <Popup open>Hello!</Popup>\n *\n * @module agate/Popup\n * @exports Popup\n * @exports PopupBase\n * @exports PopupDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport SpotlightContainerDecorator from '@enact/spotlight/SpotlightContainerDecorator';\nimport Layout, {Cell} from '@enact/ui/Layout';\nimport Slottable from '@enact/ui/Slottable';\nimport Transition from '@enact/ui/Transition';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport Button from '../Button';\nimport Heading from '../Heading';\nimport Skinnable from '../Skinnable';\n\nimport PopupState from './PopupState';\n\nimport componentCss from './Popup.module.less';\n\n\nconst TransitionContainer = SpotlightContainerDecorator(\n\t{enterTo: 'default-element', preserveId: true},\n\tTransition\n);\n\n/**\n * The base popup component.\n *\n * @class PopupBase\n * @memberof agate/Popup\n * @ui\n * @public\n */\nconst PopupBase = kind({\n\tname: 'Popup',\n\tpropTypes: /** @lends agate/Popup.PopupBase.prototype */ {\n\t\tbuttons: PropTypes.oneOfType([\n\t\t\tPropTypes.element,\n\t\t\tPropTypes.arrayOf(PropTypes.element)\n\t\t]),\n\n\t\t/**\n\t\t * Centers the contents.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tcentered: PropTypes.bool,\n\n\t\tcloseButton: PropTypes.bool,\n\t\tcss: PropTypes.object,\n\t\tnoAnimation: PropTypes.bool,\n\t\tonClose: PropTypes.func,\n\t\tonHide: PropTypes.func,\n\t\topen: PropTypes.bool,\n\n\t\t/**\n\t\t * Sets the position of the popup on the screen.\n\t\t *\n\t\t * @type {('center'|'top')}\n\t\t * @default 'center'\n\t\t * @public\n\t\t */\n\t\tposition: PropTypes.oneOf(['center', 'top']),\n\n\t\tskin: PropTypes.string,\n\t\ttitle: PropTypes.string\n\t},\n\tdefaultProps: {\n\t\tcentered: false,\n\t\tcloseButton: false,\n\t\tnoAnimation: false,\n\t\topen: false,\n\t\tposition: 'center'\n\t},\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'popup'\n\t},\n\tcomputed: {\n\t\tclassName: ({centered, closeButton, position, styler, title}) => styler.append({top: position === 'top', withCloseButton: closeButton, withTitle: title, centered}),\n\t\ttransitionType : ({position}) => position === 'center' ? 'fade' : 'slide',\n\t\tdirection : ({position}) => position === 'center' ? 'down' : 'up'\n\t},\n\trender: ({buttons, children, closeButton, css, direction, noAnimation, onClose, onHide, open, skin, title, transitionType, ...rest}) => {\n\t\tconst wideLayout = (skin === 'carbon');\n\t\tdelete rest.centered;\n\n\t\treturn (\n\t\t\t<TransitionContainer\n\t\t\t\tnoAnimation={noAnimation}\n\t\t\t\tvisible={open}\n\t\t\t\tdirection={direction}\n\t\t\t\tduration=\"short\"\n\t\t\t\ttype={transitionType}\n\t\t\t\tclassName={css.popupTransitionContainer}\n\t\t\t\tonHide={onHide}\n\t\t\t\tcss={css}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\trole=\"alert\"\n\t\t\t\t\t{...rest}\n\t\t\t\t>\n\t\t\t\t\t{closeButton ? <Button\n\t\t\t\t\t\ticon=\"closex\"\n\t\t\t\t\t\tonTap={onClose}\n\t\t\t\t\t\tclassName={componentCss.closeButton}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t/> : null}\n\t\t\t\t\t{title ? <Heading className={css.title}>{title}</Heading> : null}\n\t\t\t\t\t<Layout orientation={wideLayout ? 'horizontal' : 'vertical'} className={css.body}>\n\t\t\t\t\t\t<Cell shrink={!wideLayout} className={css.content}>\n\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t{buttons ? <Cell shrink className={css.buttons}>\n\t\t\t\t\t\t\t{buttons}\n\t\t\t\t\t\t</Cell> : null}\n\t\t\t\t\t</Layout>\n\t\t\t\t</div>\n\t\t\t</TransitionContainer>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [PopupBase]{@link agate/Popup.PopupBase}.\n *\n * @hoc\n * @memberof agate/Popup\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst PopupDecorator = compose(\n\tSlottable({slots: ['closeButton', 'title', 'buttons']}),\n\tSkinnable({prop: 'skin'}),\n\tPopupState\n);\n\n/**\n * A stateful component that renders a popup in a\n * [FloatingLayer]{@link ui/FloatingLayer.FloatingLayer}.\n *\n * @class Popup\n * @memberof agate/Popup\n * @extends agate/Popup.PopupBase\n * @mixes agate/Popup.PopupDecorator\n * @ui\n * @public\n */\nconst Popup = PopupDecorator(PopupBase);\n\nexport default Popup;\nexport {\n\tPopup,\n\tPopupBase,\n\tPopupDecorator\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sliderButton\":\"SliderButton_sliderButton__3xNfC\",\"pressed\":\"SliderButton_pressed__-FjNz\",\"knob\":\"SliderButton_knob__3wOZP\",\"track\":\"SliderButton_track__3DhDU\",\"client\":\"SliderButton_client__1NOMC\"};","import kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport componentCss from './DateTime.module.less';\n\n/**\n * {@link agate/internal/DateTime.DateTime} provides the surrounding\n * markup and styling for a {@link agate/DatePicker} and\n * {@link agate/TimePicker}.\n *\n * @class DateTime\n * @memberof agate/internal/DateTime\n * @ui\n * @private\n */\nconst DateTimeBase = kind({\n\tname: 'DateTime',\n\n\tpropTypes:  /** @lends agate/internal/DateTime.DateTime.prototype */ {\n\t\tcss: PropTypes.object\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'dateTime',\n\t\tpublicClassNames: ['dateTime', 'pickers']\n\t},\n\n\trender: ({children, css, ...rest}) => (\n\t\t<div {...rest}>\n\t\t\t<div className={css.pickers}>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</div>\n\t)\n});\n\nexport default DateTimeBase;\nexport {\n\tDateTimeBase,\n\tDateTimeBase as DateTime\n};\n","/**\n * Exports the {@link agate/internal/DateTimeDecorator.DateTimeDecorator} higher-order component\n *\n * @module agate/internal/DateTimeDecorator\n * @private\n */\n\nimport {forward} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport {memoize} from '@enact/core/util';\nimport {I18nContextDecorator} from '@enact/i18n/I18nDecorator';\nimport Changeable from '@enact/ui/Changeable';\nimport DateFactory from 'ilib/lib/DateFactory';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\n/*\n * Converts a JavaScript Date to unix time\n *\n * @param\t{Date}\tdate\tA Date to convert\n *\n * @returns\t{undefined}\n */\nconst toTime = (date) => {\n\treturn date && date.getTime();\n};\n\n/**\n * {@link agate/internal/DateTimeDecorator.DateTimeDecorator} provides common behavior for\n * {@link agate/DatePicker.DatePicker} and {@link agate/TimePicker.TimePicker}.\n *\n * @class DateTimeDecorator\n * @memberof agate/internal/DateTimeDecorator\n * @mixes ui/Changeable.Changeable\n * @hoc\n * @private\n */\nconst DateTimeDecorator = hoc((config, Wrapped) => {\n\tconst {customProps, defaultOrder, handlers, i18n} = config;\n\n\tconst memoizedI18nConfig = memoize((/* locale */) => {\n\t\t// Guard for isomorphic builds\n\t\tif (typeof window !== 'undefined' && i18n) {\n\t\t\treturn i18n();\n\t\t}\n\t\treturn null;\n\t});\n\n\tconst Decorator = class extends React.Component {\n\t\tstatic displayName = 'DateTimeDecorator';\n\n\t\tstatic propTypes = /** @lends agate/internal/DateTimeDecorator.DateTimeDecorator.prototype */ {\n\t\t\t/**\n\t\t\t * The current locale as a\n\t\t\t * {@link https://tools.ietf.org/html/rfc5646|BCP 47 language tag}.\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\tlocale: PropTypes.string,\n\n\t\t\t/**\n\t\t\t * Handler for `onChange` events\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonChange: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * The selected date\n\t\t\t *\n\t\t\t * @type {Date}\n\t\t\t * @public\n\t\t\t */\n\t\t\tvalue: PropTypes.instanceOf(Date)\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.state = {\n\t\t\t\tinitialValue: null,\n\t\t\t\tvalue: null\n\t\t\t};\n\n\t\t\tconst newValue = toTime(this.props.value);\n\t\t\tconst value = newValue || Date.now();\n\n\t\t\t// if no value was provided, we need to emit the onChange event for the generated value\n\t\t\tif (!newValue) {\n\t\t\t\tthis.emitChange(this.toIDate(value));\n\t\t\t}\n\n\t\t\tthis.handlers = {};\n\t\t\tif (handlers) {\n\t\t\t\tObject.keys(handlers).forEach(name => {\n\t\t\t\t\tthis.handlers[name] = this.handlePickerChange.bind(this, handlers[name]);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tstatic getDerivedStateFromProps (props, state) {\n\t\t\tlet value = toTime(props.value);\n\n\t\t\tif (!props.disabled && state.initialValue == null && state.value == null) {\n\t\t\t\treturn {\n\t\t\t\t\tinitialValue: value,\n\t\t\t\t\tvalue: value || Date.now()\n\t\t\t\t};\n\t\t\t} else if (state.value !== value) {\n\t\t\t\t// always respect a value change from props\n\t\t\t\treturn {\n\t\t\t\t\tvalue\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn null;\n\t\t}\n\n\t\t/**\n\t\t * Converts a Date to an IDate\n\t\t *\n\t\t * @param\t{Date}\ttime\tDate object\n\t\t *\n\t\t * @returns\t{IDate}\t\t\tilib Date object\n\t\t */\n\t\ttoIDate (time) {\n\t\t\tif (time && this.props.locale) {\n\t\t\t\treturn DateFactory({\n\t\t\t\t\tunixtime: time,\n\t\t\t\t\ttimezone: 'local'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Updates the internal value in state\n\t\t *\n\t\t * @param\t{IDate}\t\tvalue\tilib Date object\n\t\t *\n\t\t * @returns {Number}\t\t\tUpdated internal value\n\t\t */\n\t\tupdateValue = (value) => {\n\t\t\tconst {day, month, year} = value;\n\t\t\tconst maxDays = value.cal.getMonLength(month, year);\n\t\t\tvalue.day = (day <= maxDays) ? day : maxDays;\n\n\t\t\tconst date = DateFactory(value);\n\t\t\tconst newValue = date.getTimeExtended();\n\t\t\tconst changed =\tthis.props.value == null || this.props.value !== newValue;\n\n\t\t\tthis.setState({\n\t\t\t\tvalue: newValue\n\t\t\t});\n\n\t\t\tif (changed) {\n\t\t\t\tthis.emitChange(date);\n\t\t\t}\n\n\t\t\treturn newValue;\n\t\t};\n\n\t\temitChange = (date) => {\n\t\t\tforward('onChange', {value: date ? date.getJSDate() : null}, this.props);\n\t\t};\n\n\t\thandlePickerChange = (handler, ev) => {\n\t\t\tconst value = this.toIDate(this.state.value);\n\t\t\thandler(ev, value, memoizedI18nConfig(this.props.locale));\n\t\t\tthis.updateValue(value);\n\t\t};\n\n\t\thandleCancel = () => {\n\t\t\tconst {initialValue, value} = this.state;\n\n\t\t\t// if we're cancelling, reset our state and emit an onChange with the initial value\n\t\t\tthis.setState({\n\t\t\t\tvalue: null,\n\t\t\t\tinitialValue: null,\n\t\t\t\tpickerValue: value\n\t\t\t});\n\n\t\t\tif (initialValue !== value) {\n\t\t\t\tthis.emitChange(this.toIDate(initialValue));\n\t\t\t}\n\t\t};\n\n\t\trender () {\n\t\t\tconst value = this.toIDate(this.state.value);\n\t\t\t// pickerValue is only set when cancelling to prevent the unexpected changing of the\n\t\t\t// picker values before closing.\n\t\t\tconst pickerValue = this.state.pickerValue ? this.toIDate(this.state.pickerValue) : value;\n\n\t\t\tlet props = null;\n\t\t\tlet order = defaultOrder;\n\n\t\t\tconst i18nConfig = memoizedI18nConfig(this.props.locale);\n\t\t\tif (i18nConfig) {\n\t\t\t\tprops = customProps(i18nConfig, pickerValue, this.props);\n\t\t\t\torder = i18nConfig.order;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Wrapped\n\t\t\t\t\t{...this.props}\n\t\t\t\t\t{...props}\n\t\t\t\t\t{...this.handlers}\n\t\t\t\t\torder={order}\n\t\t\t\t\tvalue={value}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n\n\treturn I18nContextDecorator(\n\t\t{rtlProp: 'rtl', localeProp: 'locale'},\n\t\tChangeable(\n\t\t\tDecorator\n\t\t)\n\t);\n});\n\nexport default DateTimeDecorator;\nexport {DateTimeDecorator};\n","/**\n * Exports the {@link agate/internal/DateTime.DateTime},\n * {@link agate/internal/DateTime.DateTimeBase}\n * {@link agate/internal/DateTime.DatetimeDecorator}\n * components.\n *\n * @module agate/internal/DateTime\n * @private\n */\n\nimport DateTime, {DateTimeBase} from './DateTime';\nimport {DateTimeDecorator} from './DateTimeDecorator';\n\nexport default DateTime;\nexport {\n\tDateTime,\n\tDateTimeBase,\n\tDateTimeDecorator\n};\n","import kind from '@enact/core/kind';\nimport {mapAndFilterChildren} from '@enact/core/util';\nimport Changeable from '@enact/ui/Changeable';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Picker from '../Picker';\n\nimport css from './DateComponentPicker.module.less';\n\n/**\n * {@link agate/internal/DataComponentPicker.DateComponentPickerBase} allows the selection of one\n * part of the date or time using a {@link agate/internal/Picker.Picker}.\n *\n * @class DateComponentPickerBase\n * @memberof agate/internal/DateComponentPicker\n * @ui\n * @private\n */\nconst DateComponentPickerBase = kind({\n\tname: 'DateComponentPicker',\n\n\tpropTypes: /** @lends agate/internal/DateComponentPicker.DateComponentPickerBase.prototype */ {\n\t\t/**\n\t\t * Display values representing the `value` to select\n\t\t *\n\t\t * @type {String[]}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.arrayOf(PropTypes.string).isRequired,\n\n\t\t/**\n\t\t * The value of the date component\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.number.isRequired\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'dateComponentPicker'\n\t},\n\n\tcomputed: {\n\t\tchildren: ({children}) => mapAndFilterChildren(children, (child) => (\n\t\t\t<div>{child}</div>\n\t\t)),\n\t\tmax: ({children}) => React.Children.count(children) - 1\n\t},\n\n\trender: ({children, max, value, ...rest}) => (\n\t\t<Picker\n\t\t\t{...rest}\n\t\t\tindex={value}\n\t\t\tmax={max}\n\t\t\tmin={0}\n\t\t\torientation=\"vertical\"\n\t\t\tstep={1}\n\t\t\tvalue={value}\n\t\t>\n\t\t\t{children}\n\t\t</Picker>\n\t)\n});\n\n/**\n * {@link agate/internal/DateComponentPickerBase.DateComponentPicker} allows the selection of one part of\n * the date (date, month, or year). It is a stateful component but allows updates by providing a new\n * `value` via props.\n *\n * @class DateComponentPicker\n * @memberof agate/internal/DateComponentPicker\n * @mixes ui/Changeable.Changeable\n * @ui\n * @private\n */\nconst DateComponentPicker = Changeable(\n\tDateComponentPickerBase\n);\n\nexport default DateComponentPicker;\nexport {\n\tDateComponentPicker,\n\tDateComponentPickerBase\n};\n","import kind from '@enact/core/kind';\nimport Changeable from '@enact/ui/Changeable';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport RangePicker from '../../RangePicker';\n\nimport css from './DateComponentPicker.module.less';\n\n/**\n * {@link agate/internal/DataComponentPicker.DateComponentRangePicker} allows the selection of\n * one part of the date or time using a {@link agate/RangePicker.RangePicker}.\n *\n * @class DateComponentRangePickerBase\n * @memberof agate/internal/DateComponentPicker\n * @ui\n * @private\n */\nconst DateComponentRangePickerBase = kind({\n\tname: 'DateComponentRangePicker',\n\n\tpropTypes:  /** @lends agate/internal/DateComponentPicker.DateComponentRangePickerBase.prototype */ {\n\t\t/**\n\t\t * The maximum value for the date component\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t */\n\t\tmax: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The minimum value for the date component\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t */\n\t\tmin: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The value of the date component\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t */\n\t\tvalue: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The label to display below the picker\n\t\t *\n\t\t * @type {String}\n\t\t */\n\t\tlabel: PropTypes.string\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'dateComponentPicker'\n\t},\n\n\trender: ({max, min, value, ...rest}) => (\n\t\t<RangePicker\n\t\t\t{...rest}\n\t\t\tmax={max}\n\t\t\tmin={min}\n\t\t\torientation=\"vertical\"\n\t\t\tvalue={value}\n\t\t/>\n\t)\n});\n\n/**\n * {@link agate/internal/DateComponentPicker.DateComponentRangePicker} allows the selection of one\n * part of the date (date, month, or year). It is a stateful component but allows updates by\n * providing a new `value` via props.\n *\n * @class DateComponentRangePicker\n * @memberof agate/internal/DateComponentPicker\n * @mixes ui/Changeable.Changeable\n * @ui\n * @private\n */\nconst DateComponentRangePicker = Changeable(\n\tDateComponentRangePickerBase\n);\n\nexport default DateComponentRangePicker;\nexport {\n\tDateComponentRangePicker,\n\tDateComponentRangePickerBase\n};\n","import kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {DateComponentRangePicker} from '../internal/DateComponentPicker';\nimport DateTime from '../internal/DateTime';\n\nimport css from './DatePicker.module.less';\n\n/**\n * A date selection component.\n *\n * This component is most often not used directly but may be composed within another component as it\n * is within [DatePicker]{@link agate/DatePicker.DatePicker}.\n *\n * @class DatePickerBase\n * @memberof agate/DatePicker\n * @ui\n * @public\n */\nconst DatePickerBase = kind({\n\tname: 'DatePickerBase',\n\n\tpropTypes:  /** @lends agate/DatePicker.DatePickerBase.prototype */ {\n\t\t/**\n\t\t * The `day` component of the Date.\n\t\t *\n\t\t * The value should be a number between 1 and `maxDays`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tday: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The number of days in the month.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tmaxDays: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The number of months in the year.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tmaxMonths: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The `month` component of the Date.\n\t\t *\n\t\t * The value should be a number between 1 and `maxMonths`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tmonth: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The order in which the component pickers are displayed.\n\t\t *\n\t\t * The value should be an array of 3 strings containing one of `'m'`, `'d'`, and `'y'`.\n\t\t *\n\t\t * @type {String[]}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\torder: PropTypes.arrayOf(PropTypes.oneOf(['m', 'd', 'y'])).isRequired,\n\n\t\t/**\n\t\t * The `year` component of the Date.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tyear: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The \"aria-label\" for the day picker.\n\t\t *\n\t\t * If not specified, the \"aria-label\" for the day picker will be\n\t\t * a combination of the current value and 'day change a value with up down button'.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tdayAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * Disables the `DatePicker`.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * The maximum selectable `year` value.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 2099\n\t\t * @public\n\t\t */\n\t\tmaxYear: PropTypes.number,\n\n\t\t/**\n\t\t * The minimum selectable `year` value.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 1900\n\t\t * @public\n\t\t */\n\t\tminYear: PropTypes.number,\n\n\t\t/**\n\t\t * The \"aria-label\" for the month picker.\n\t\t *\n\t\t * If not specified, the \"aria-label\" for the month picker will be\n\t\t * a combination of the current value and 'month change a value with up down button'.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tmonthAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * Called when the `date` component of the Date changes.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChangeDate: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the `month` component of the Date changes.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChangeMonth: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the `year` component of the Date changes.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChangeYear: PropTypes.func,\n\n\t\t/**\n\t\t * Indicates the content's text direction is right-to-left.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @private\n\t\t */\n\t\trtl: PropTypes.bool,\n\n\t\t/**\n\t\t * The \"aria-label\" for the year picker.\n\t\t *\n\t\t * If not specified, the \"aria-label\" for the year picker will be\n\t\t * a combination of the current value and 'year change a value with up down button'.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tyearAriaLabel: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tmaxYear: 2099,\n\t\tminYear: 1900,\n\t\tdisabled: false\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'datePicker'\n\t},\n\n\trender: ({\n\t\tdisabled,\n\t\tday,\n\t\tdayAriaLabel,\n\t\tmaxDays,\n\t\tmaxMonths,\n\t\tmaxYear,\n\t\tminYear,\n\t\tmonth,\n\t\tmonthAriaLabel,\n\t\tonChangeDate,\n\t\tonChangeMonth,\n\t\tonChangeYear,\n\t\torder,\n\t\tyear,\n\t\tyearAriaLabel,\n\t\t...rest\n\t}) => {\n\n\t\tdelete rest.rtl;\n\n\t\treturn (\n\t\t\t<DateTime {...rest}>\n\t\t\t\t{order.map((picker) => {\n\t\t\t\t\tswitch (picker) {\n\t\t\t\t\t\tcase 'd':\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<DateComponentRangePicker\n\t\t\t\t\t\t\t\t\taria-label={dayAriaLabel}\n\t\t\t\t\t\t\t\t\tclassName={css.day}\n\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t\tkey=\"day-picker\"\n\t\t\t\t\t\t\t\t\tmax={maxDays}\n\t\t\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\t\t\tonChange={onChangeDate}\n\t\t\t\t\t\t\t\t\tvalue={day}\n\t\t\t\t\t\t\t\t\twidth={4}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\tcase 'm':\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<DateComponentRangePicker\n\t\t\t\t\t\t\t\t\taria-label={monthAriaLabel}\n\t\t\t\t\t\t\t\t\tclassName={css.month}\n\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t\tkey=\"month-picker\"\n\t\t\t\t\t\t\t\t\tmax={maxMonths}\n\t\t\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\t\t\tonChange={onChangeMonth}\n\t\t\t\t\t\t\t\t\tvalue={month}\n\t\t\t\t\t\t\t\t\twidth={4}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\tcase 'y':\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<DateComponentRangePicker\n\t\t\t\t\t\t\t\t\taria-label={yearAriaLabel}\n\t\t\t\t\t\t\t\t\tclassName={css.year}\n\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t\tkey=\"year-picker\"\n\t\t\t\t\t\t\t\t\tmax={maxYear}\n\t\t\t\t\t\t\t\t\tmin={minYear}\n\t\t\t\t\t\t\t\t\tonChange={onChangeYear}\n\t\t\t\t\t\t\t\t\tvalue={year}\n\t\t\t\t\t\t\t\t\twidth={4}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t})}\n\t\t\t</DateTime>\n\t\t);\n\t}\n});\n\nexport default DatePickerBase;\nexport {\n\tDatePickerBase\n};\n","/**\n * Date selection components and behaviors.\n *\n * @example\n * <DatePicker onChange={console.log} />\n *\n * @module agate/DatePicker\n * @exports DatePicker\n * @exports DatePickerBase\n * @exports dateToLocaleString\n */\n\nimport Pure from '@enact/ui/internal/Pure';\nimport DateFactory from 'ilib/lib/DateFactory';\nimport DateFmt from 'ilib/lib/DateFmt';\n\nimport {DateTimeDecorator} from '../internal/DateTime';\nimport Skinnable from '../Skinnable';\n\nimport DatePickerBase from './DatePickerBase';\n\nconst getLabelFormatter = () => new DateFmt({\n\tdate: 'dmwy',\n\tlength: 'full',\n\ttimezone: 'local',\n\tuseNative: false\n});\n\nconst dateTimeConfig = {\n\tcustomProps: function (i18n, value, props) {\n\t\tconst values = {\n\t\t\tmaxMonths: 12,\n\t\t\tmaxDays: 31,\n\t\t\tyear: 1900,\n\t\t\tmonth: 1,\n\t\t\tday: 1\n\t\t};\n\n\t\tif (value && i18n) {\n\t\t\tvalues.year = value.getYears();\n\t\t\tvalues.month = value.getMonths();\n\t\t\tvalues.day = value.getDays();\n\t\t\tvalues.maxMonths = i18n.formatter.cal.getNumMonths(values.year);\n\t\t\tvalues.maxDays = i18n.formatter.cal.getMonLength(values.month, values.year);\n\t\t\tvalues.maxYear = i18n.toLocalYear(props.maxYear || DatePickerBase.defaultProps.maxYear);\n\t\t\tvalues.minYear = i18n.toLocalYear(props.minYear || DatePickerBase.defaultProps.minYear);\n\t\t}\n\n\t\treturn values;\n\t},\n\tdefaultOrder: ['d', 'm', 'y'],\n\thandlers: {\n\t\tonChangeDate: (ev, value) => {\n\t\t\tvalue.day = ev.value;\n\t\t\treturn value;\n\t\t},\n\n\t\tonChangeMonth: (ev, value) => {\n\t\t\tvalue.month = ev.value;\n\t\t\treturn value;\n\t\t},\n\n\t\tonChangeYear: (ev, value) => {\n\t\t\tvalue.year = ev.value;\n\t\t\treturn value;\n\t\t}\n\t},\n\ti18n: function () {\n\t\tconst order = getLabelFormatter().getTemplate()\n\t\t\t.replace(/'.*?'/g, '')\n\t\t\t.match(/([mdy]+)/ig)\n\t\t\t.map(s => s[0].toLowerCase());\n\n\t\t/*\n\t\t * Converts a gregorian year to local year\n\t\t *\n\t\t * @param\t{Number}\tyear\tgregorian year\n\t\t *\n\t\t * @returns\t{Number}\t\tlocal year\n\t\t */\n\t\tconst toLocalYear = (year) => {\n\t\t\treturn DateFactory({\n\t\t\t\tjulianday: DateFactory({\n\t\t\t\t\tyear,\n\t\t\t\t\ttype: 'gregorian',\n\t\t\t\t\tmonth: 1,\n\t\t\t\t\tday: 1,\n\t\t\t\t\ttimezone: 'local'\n\t\t\t\t}).getJulianDay(),\n\t\t\t\ttimezone: 'local'\n\t\t\t}).getYears();\n\t\t};\n\n\t\treturn {formatter: getLabelFormatter(), order, toLocalYear};\n\t}\n};\n\n/**\n * A date selection component, ready to use in Agate applications.\n *\n * `DatePicker` may be used to select the year, month, and day. It uses a standard `Date` object for\n * its `value` which can be shared as the `value` for a\n * [TimePicker]{@link agate/TimePicker.TimePicker} to select both a date and time.\n *\n * By default, `DatePicker` maintains the state of its `value` property. Supply the\n * `defaultValue` property to control its initial value. If you wish to directly control updates\n * to the component, supply a value to `value` at creation time and update it in response to\n * `onChange` events.\n *\n * Usage:\n * ```\n * <DatePicker\n *  defaultValue={selectedDate}\n *  onChange={handleChange}\n * />\n * ```\n *\n * @class DatePicker\n * @memberof agate/DatePicker\n * @extends agate/DatePicker.DatePickerBase\n * @mixes ui/Changeable.Changeable\n * @omit day\n * @omit maxDays\n * @omit maxMonths\n * @omit month\n * @omit order\n * @omit year\n * @ui\n * @public\n */\nconst DatePicker = Pure(\n\tSkinnable(\n\t\tDateTimeDecorator(\n\t\t\tdateTimeConfig,\n\t\t\tDatePickerBase\n\t\t)\n\t)\n);\n\n/**\n * The initial value used when `value` is not set.\n *\n * @name defaultValue\n * @type {Date}\n * @memberof agate/DatePicker.DatePicker.prototype\n * @public\n */\n\n/**\n * The selected date\n *\n * @name value\n * @type {Date}\n * @memberof agate/DatePicker.DatePicker.prototype\n * @public\n */\n\n/**\n * Converts a standard `Date` object into a locale-specific string.\n *\n * @function\n * @memberof agate/DatePicker\n * @param {Date} date `Date` to convert\n * @returns {String?} Converted date or `null` if `date` is invalid\n */\nconst dateToLocaleString = (date) => {\n\tif (!date) {\n\t\treturn null;\n\t}\n\n\treturn getLabelFormatter().format(date);\n};\n\nexport default DatePicker;\nexport {\n\tDatePicker,\n\tDatePickerBase,\n\tdateToLocaleString\n};\n","import kind from '@enact/core/kind';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {DateComponentPicker, DateComponentRangePicker} from '../internal/DateComponentPicker';\nimport DateTime from '../internal/DateTime';\n\nimport css from './TimePicker.module.less';\n\n// values to use in hour picker for 24 and 12 hour locales\nconst hours24 = [\n\t'0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11',\n\t'12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23'\n];\n\nconst hours12 = [\n\t'12', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11',\n\t'12', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11'\n];\n\n/**\n * {@link agate/TimePicker/TimePickerBase.HourPicker} is a utility component to prevent the\n * animation of the picker when the display text doesn't change for 12-hour locales.\n *\n * @class HourPicker\n * @memberof agate/TimePicker/TimePickerBase\n * @ui\n * @private\n */\nclass HourPicker extends React.Component {\n\tstatic propTypes = {\n\t\thasMeridiem: PropTypes.bool,\n\t\tvalue: PropTypes.number\n\t};\n\n\tconstructor (props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tprevValue: props.value\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps (props, state) {\n\t\tif (state.prevValue !== props.value) {\n\t\t\treturn {\n\t\t\t\tprevValue: props.value\n\t\t\t};\n\t\t}\n\n\t\treturn null;\n\t}\n\n\trender () {\n\t\tconst {hasMeridiem, ...rest} = this.props;\n\t\tconst hours = hasMeridiem ? hours12 : hours24;\n\n\t\treturn (\n\t\t\t<DateComponentPicker {...rest}>\n\t\t\t\t{hours}\n\t\t\t</DateComponentPicker>\n\t\t);\n\t}\n}\n\n/**\n* {@link agate/TimePicker.TimePickerBase} is the stateless functional time picker\n* component. Should not be used directly but may be composed within another component as it is\n* within {@link agate/TimePicker.TimePicker}.\n*\n* @class TimePickerBase\n* @memberof agate/TimePicker\n* @ui\n* @public\n*/\nconst TimePickerBase = kind({\n\tname: 'TimePickerBase',\n\n\tpropTypes: /** @lends agate/TimePicker.TimePickerBase.prototype */ {\n\t\t/**\n\t\t * The `hour` component of the time.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\thour: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The `meridiem` component of the time.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tmeridiem: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The `minute` component of the time.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tminute: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The order in which the component pickers are displayed.\n\t\t *\n\t\t * Should be an array of 2 or 3 strings containing one of `'h'`, `'k'`, `'m'`, and `'a'`.\n\t\t *\n\t\t * @type {String[]}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\torder: PropTypes.arrayOf(PropTypes.oneOf(['h', 'k', 'm', 'a'])).isRequired,\n\n\t\t/**\n\t\t * Disables the `TimePicker`.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * The \"aria-label\" for the hour picker\n\t\t *\n\t\t * If not specified, the \"aria-label\" for the hour picker will be\n\t\t * a combination of the current value and 'hour change a value with up down button'.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\thourAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * The \"aria-label\" for the meridiem picker.\n\t\t *\n\t\t * If not specified, the \"aria-label\" for the meridiem picker will be\n\t\t * a combination of the current value and 'change a value with up down button'.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tmeridiemAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * Array of meridiem labels to display.\n\t\t *\n\t\t * @type {String[]}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tmeridiems: PropTypes.arrayOf(PropTypes.string),\n\n\t\t/**\n\t\t * The \"aria-label\" for the minute picker.\n\t\t *\n\t\t * If not specified, the \"aria-label\" for the minute picker will be\n\t\t * a combination of the current value and 'minute change a value with up down button'.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tminuteAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * Called on changes in the `hour` component of the time.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChangeHour: PropTypes.func,\n\n\t\t/**\n\t\t * Called on changes in the `meridiem` component of the time.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChangeMeridiem: PropTypes.func,\n\n\t\t/**\n\t\t * Called on changes in the `minute` component of the time.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChangeMinute: PropTypes.func,\n\n\t\t/**\n\t\t * Set content to RTL.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @private\n\t\t */\n\t\trtl: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tdisabled: false\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'timePicker'\n\t},\n\n\tcomputed: {\n\t\thasMeridiem: ({order}) => order.indexOf('a') >= 0,\n\t\tmeridiemPickerWidth: ({meridiem, meridiems}) => meridiems[meridiem].length * 2\n\t},\n\n\trender: ({\n\t\tdisabled,\n\t\thasMeridiem,\n\t\thour,\n\t\thourAriaLabel,\n\t\tmeridiem,\n\t\tmeridiemAriaLabel,\n\t\tmeridiemPickerWidth,\n\t\tmeridiems,\n\t\tminute,\n\t\tminuteAriaLabel,\n\t\tonChangeHour,\n\t\tonChangeMeridiem,\n\t\tonChangeMinute,\n\t\torder,\n\t\t...rest\n\t}) => {\n\n\t\tdelete rest.rtl;\n\n\t\treturn (\n\t\t\t<DateTime {...rest} css={css}>\n\t\t\t\t{order.map((picker) => {\n\t\t\t\t\tswitch (picker) {\n\t\t\t\t\t\tcase 'h':\n\t\t\t\t\t\tcase 'k':\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<React.Fragment key=\"hour-picker\">\n\t\t\t\t\t\t\t\t\t<HourPicker\n\t\t\t\t\t\t\t\t\t\taria-label={hourAriaLabel}\n\t\t\t\t\t\t\t\t\t\tclassName={css.hourPicker}\n\t\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t\t\thasMeridiem={hasMeridiem}\n\t\t\t\t\t\t\t\t\t\tonChange={onChangeHour}\n\t\t\t\t\t\t\t\t\t\tvalue={hour}\n\t\t\t\t\t\t\t\t\t\twidth={4}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\tcase 'm':\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<DateComponentRangePicker\n\t\t\t\t\t\t\t\t\taria-label={minuteAriaLabel}\n\t\t\t\t\t\t\t\t\tclassName={css.minutePicker}\n\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t\tkey=\"minute-picker\"\n\t\t\t\t\t\t\t\t\tmax={59}\n\t\t\t\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\t\t\t\tonChange={onChangeMinute}\n\t\t\t\t\t\t\t\t\tvalue={minute}\n\t\t\t\t\t\t\t\t\twidth={4}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\tcase 'a':\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<DateComponentPicker\n\t\t\t\t\t\t\t\t\taria-label={meridiemAriaLabel}\n\t\t\t\t\t\t\t\t\taria-valuetext={meridiems ? meridiems[meridiem] : null}\n\t\t\t\t\t\t\t\t\tclassName={css.meridiemPicker}\n\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t\tkey=\"meridiem-picker\"\n\t\t\t\t\t\t\t\t\tonChange={onChangeMeridiem}\n\t\t\t\t\t\t\t\t\tvalue={meridiem}\n\t\t\t\t\t\t\t\t\twidth={meridiemPickerWidth}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{meridiems}\n\t\t\t\t\t\t\t\t</DateComponentPicker>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn null;\n\t\t\t\t})}\n\t\t\t</DateTime>\n\t\t);\n\t}\n});\n\nexport default TimePickerBase;\nexport {TimePickerBase};\n","/**\n * Provides an Agate-themed time selection component.\n *\n * @example\n * <TimePicker value={new Date()} />\n *\n * @module agate/TimePicker\n * @exports TimePicker\n * @exports TimePickerBase\n * @exports timeToLocaleString\n */\n\nimport Pure from '@enact/ui/internal/Pure';\nimport DateFactory from 'ilib/lib/DateFactory';\nimport DateFmt from 'ilib/lib/DateFmt';\nimport LocaleInfo from 'ilib/lib/LocaleInfo';\n\nimport {DateTimeDecorator} from '../internal/DateTime';\nimport Skinnable from '../Skinnable';\n\nimport TimePickerBase from './TimePickerBase';\n\n/*\n * Converts a string representation of time into minutes\n *\n * @param\t{String}\ttime\tTime in the format `HH:mm`\n *\n * @returns\t{Number}\t\t\tTime in minute\n * @private\n */\nconst toMinutes = (time) => {\n\tconst colon = time.indexOf(':');\n\tconst hour = parseInt(time.substring(0, colon));\n\tconst minute = parseInt(time.substring(colon + 1));\n\treturn hour * 60 + minute;\n};\n\n/*\n * Converts the `start` and `end` string representations (e.g. '12:00') into a numerical\n * representation.\n *\n * @param\t{Object}\toptions\t\t\tTime options\n * @param\t{String}\toptions.start\tStart time of meridiem\n * @param\t{String}\toptions.end\t\tEnd time of meridiem\n *\n * @returns\t{Object}\t\t\t\t\tContains start and end time in minutes\n * @private\n */\nconst calcMeridiemRange = ({start, end}) => ({\n\tstart: toMinutes(start),\n\tend: toMinutes(end)\n});\n\n/*\n * Finds the index of the meridiem which contains `time`\n *\n * @param\t{Number}\ttime\t\tTime in minutes\n * @param\t{Object[]}\tmeridiems\tArray of meridiems with `start` and `end` members in minutes\n *\n * @returns {Number}\t\t\t\tIndex of `time` in `meridiems`\n * @private\n */\nconst indexOfMeridiem = (time, meridiems) => {\n\tconst minutes = time.getHours() * 60 + time.getMinutes();\n\tfor (let i = 0; i < meridiems.length; i++) {\n\t\tconst m = meridiems[i];\n\t\tif (minutes >= m.start && minutes <= m.end) {\n\t\t\treturn i;\n\t\t}\n\t}\n\n\treturn -1;\n};\n\nconst getLabelFormatter = () => new DateFmt({\n\ttype: 'time',\n\tuseNative: false,\n\ttimezone: 'local',\n\tlength: 'full',\n\tdate: 'dmwy'\n});\n\nconst dateTimeConfig = {\n\tcustomProps: function (i18n, value) {\n\t\tlet values = {\n\t\t\t// i18n props\n\t\t\tmeridiems: i18n.meridiemLabels,\n\n\t\t\t// date components\n\t\t\thour: 12,\n\t\t\tminute: 0,\n\t\t\tmeridiem: 0\n\t\t};\n\n\t\tif (value) {\n\t\t\tif (i18n.meridiemEnabled) {\n\t\t\t\tvalues.meridiem = indexOfMeridiem(value, i18n.meridiemRanges);\n\t\t\t}\n\t\t\tvalues.hour = value.getHours();\n\t\t\tvalues.minute = value.getMinutes();\n\t\t}\n\n\t\treturn values;\n\t},\n\tdefaultOrder: ['h', 'm', 'a'],\n\thandlers: {\n\t\tonChangeHour: function (ev, value) {\n\t\t\tconst currentTime = DateFactory(value).getTimeExtended();\n\t\t\tconst currentHour = value.hour;\n\n\t\t\tvalue.hour = ev.value;\n\n\t\t\t// In the case of navigating onto the skipped hour of DST, ilib will return the same\n\t\t\t// value so we skip that hour and update the value again.\n\t\t\tconst newTime = DateFactory(value).getTimeExtended();\n\t\t\tif (newTime === currentTime) {\n\t\t\t\tvalue.hour = ev.value * 2 - currentHour;\n\t\t\t}\n\n\t\t\treturn value;\n\t\t},\n\n\t\tonChangeMinute: function (ev, value) {\n\t\t\tvalue.minute = ev.value;\n\t\t\treturn value;\n\t\t},\n\n\t\tonChangeMeridiem: function (ev, value, i18n) {\n\t\t\tconst {meridiemRanges} = i18n;\n\t\t\tconst meridiem = meridiemRanges[ev.value];\n\n\t\t\tif (meridiemRanges.length === 2) {\n\t\t\t\t// In the common case of 2 meridiems, we'll offset hours by 12 so that picker stays\n\t\t\t\t// the same.\n\t\t\t\tvalue.hour = (value.getHours() + 12) % 24;\n\t\t\t} else {\n\t\t\t\t// In the rarer case of > 2 meridiems (e.g. am-ET), try to set hours only first\n\t\t\t\tconst hours = Math.floor(meridiem.start / 60);\n\t\t\t\tvalue.hour = hours;\n\n\t\t\t\t// but check if it is still out of bounds and update the minutes as well\n\t\t\t\tconst minutes = hours * 60 + value.getMinutes();\n\t\t\t\tif (minutes > meridiem.end) {\n\t\t\t\t\tvalue.minute = meridiem.end % 60;\n\t\t\t\t} else if (minutes < meridiem.start) {\n\t\t\t\t\tvalue.minute = meridiem.start % 60;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn value;\n\t\t}\n\t},\n\ti18n: function () {\n\t\t// Filters used to extract the order of pickers from the ilib template\n\t\tconst includeMeridiem = /([khma])(?!\\1)/ig;\n\t\tconst excludeMeridiem = /([khm])(?!\\1)/ig;\n\n\t\t// Meridiem localization\n\t\tconst merFormatter = new DateFmt({\n\t\t\ttemplate: 'a',\n\t\t\tuseNative: false,\n\t\t\ttimezone: 'local'\n\t\t});\n\t\tconst meridiems = merFormatter.getMeridiemsRange();\n\t\tconst meridiemRanges = meridiems.map(calcMeridiemRange);\n\t\tconst meridiemLabels = meridiems.map(obj => obj.name);\n\n\t\t// Picker ordering\n\t\tconst li = new LocaleInfo();\n\t\tconst clockPref = li.getClock();\n\t\tconst meridiemEnabled = clockPref === '12';\n\n\t\tconst filter = meridiemEnabled ? includeMeridiem : excludeMeridiem;\n\t\tconst order = getLabelFormatter().getTemplate()\n\t\t\t.replace(/'.*?'/g, '')\n\t\t\t.match(filter)\n\t\t\t.map(s => s[0].toLowerCase());\n\n\t\treturn {\n\t\t\tformatter: getLabelFormatter(),\n\t\t\tmeridiemEnabled,\n\t\t\tmeridiemLabels,\n\t\t\tmeridiemRanges,\n\t\t\torder\n\t\t};\n\t}\n};\n\n/**\n * A component that allows displaying or selecting time.\n *\n * Set the [value]{@link agate/TimePicker.TimePicker#value} property to a standard JavaScript\n * [Date] {@link /docs/developer-guide/glossary/#date} object to initialize the picker.\n *\n * By default, `TimePicker` maintains the state of its `value` property. Supply the\n * `defaultValue` property to control its initial value. If you wish to directly control updates\n * to the component, supply a value to `value` at creation time and update it in response to\n * `onChange` events.\n *\n * @class TimePicker\n * @memberof agate/TimePicker\n * @mixes ui/Changeable.Changeable\n * @ui\n * @public\n */\n\n/**\n * Default value\n *\n * @name defaultValue\n * @memberof agate/TimePicker.TimePicker.prototype\n * @type {Number}\n * @public\n */\n\nconst TimePicker = Pure(\n\tSkinnable(\n\t\tDateTimeDecorator(\n\t\t\tdateTimeConfig,\n\t\t\tTimePickerBase\n\t\t)\n\t)\n);\n\n/**\n * The selected date.\n *\n * @name value\n * @memberof agate/TimePicker.TimePicker\n * @instance\n * @type {Date}\n * @public\n */\n\n/**\n * Converts a standard `Date` object into a locale-specific string.\n *\n * @function\n * @memberof agate/TimePicker\n * @param {Date} time `Date` to convert\n * @returns {String?} Converted date or `null` if `date` is invalid\n */\nconst timeToLocaleString = (time) => {\n\tif (!time) {\n\t\treturn null;\n\t}\n\n\treturn getLabelFormatter().format(time);\n};\n\nexport default TimePicker;\nexport {\n\tTimePicker,\n\tTimePickerBase,\n\ttimeToLocaleString\n};\n","/**\n * An Agate-themed date/time picker component.\n *\n * @example\n * <DateTimePicker />\n *\n * @module agate/DateTimePicker\n * @exports DateTimePicker\n * @exports DateTimePickerBase\n */\n\nimport React from 'react';\nimport kind from '@enact/core/kind';\nimport {Cell, Row} from '@enact/ui/Layout';\n\nimport DatePicker from '../DatePicker';\nimport Skinnable from '../Skinnable';\nimport TimePicker from '../TimePicker';\n\nimport css from './DateTimePicker.module.less';\n\n/**\n * A date/time Picker component.\n *\n * @class DateTimePickerBase\n * @memberof agate/DateTimePicker\n * @ui\n * @public\n */\n\nconst DateTimePickerBase = kind({\n\tname: 'DateTimePickerBase',\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'dateTimePicker'\n\t},\n\n\trender ({...rest}) {\n\n\t\treturn (\n\t\t\t<Row {...rest} className={css.dateTimePicker} align=\"center center\">\n\t\t\t\t<Cell>\n\t\t\t\t\t<Row align=\"center center\">\n\t\t\t\t\t\t<TimePicker />\n\t\t\t\t\t</Row>\n\t\t\t\t</Cell>\n\t\t\t\t<Cell>\n\t\t\t\t\t<Row align=\"center center\">\n\t\t\t\t\t\t<DatePicker />\n\t\t\t\t\t</Row>\n\t\t\t\t</Cell>\n\t\t\t</Row>\n\t\t);\n\t}\n});\n\n/**\n * An Agate themed date/time Picker component.\n *\n * @class DateTimePicker\n * @memberof agate/DateTimePicker\n * @extends agate/DateTimePicker.DateTimePickerBase\n * @mixes agate/Skinnable.Skinnable\n * @ui\n * @public\n */\nconst DateTimePicker = Skinnable(DateTimePickerBase);\n\nexport default DateTimePicker;\nexport {\n\tDateTimePicker,\n\tDateTimePickerBase\n};\n","/**\n * Provides an Agate-themed toggle switch component.\n *\n * @example\n * <Switch />\n *\n * @module agate/Switch\n * @exports Switch\n * @exports SwitchBase\n */\n\nimport kind from '@enact/core/kind';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../Icon';\nimport {ToggleIconBase} from '../internal/ToggleIcon';\n\nimport componentCss from './Switch.module.less';\n\n/**\n * Renders the base level DOM structure of the component.\n *\n * @class SwitchBase\n * @memberof agate/Switch\n * @ui\n * @public\n */\nconst SwitchBase = kind({\n\tname: 'Switch',\n\n\tpropTypes: /** @lends agate/Switch.SwitchBase.prototype */ {\n\t\tchildren: PropTypes.string,\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Disables animation.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tnoAnimation: PropTypes.bool,\n\t\tskin: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tnoAnimation: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss\n\t},\n\n\tcomputed: {\n\t\tclassName: ({noAnimation, styler}) => styler.append({\n\t\t\tanimated: !noAnimation\n\t\t}),\n\t\tchildren: ({children, skin}) => {\n\t\t\tif (children) return children;\n\n\t\t\tswitch (skin) {\n\t\t\t\tcase 'carbon': return 'squarelarge';\n\t\t\t\tdefault: return 'circle';\n\t\t\t}\n\t\t}\n\t},\n\n\trender: ({css, ...rest}) => {\n\t\tdelete rest.noAnimation;\n\n\t\treturn (\n\t\t\t<ToggleIconBase\n\t\t\t\t{...rest}\n\t\t\t\tcss={css}\n\t\t\t\ticonComponent={Icon}\n\t\t\t/>\n\t\t);\n\t}\n});\n\nexport default SwitchBase;\nexport {\n\tSwitchBase as Switch,\n\tSwitchBase\n};\n","/**\n * Provides Agate-themed Item component and interactive toggle switch icon.\n *\n * @module agate/SwitchItem\n * @exports SwitchItem\n * @exports SwitchItemBase\n * @exports SwitchItemDecorator\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\n\nimport handle, {forProp, forward} from '@enact/core/handle';\nimport kind from '@enact/core/kind';\nimport Spottable from '@enact/spotlight/Spottable';\nimport Toggleable from '@enact/ui/Toggleable';\n\nimport Icon from '../Icon';\nimport Item from '../Item';\nimport Skinnable from '../Skinnable';\nimport {SwitchBase} from '../Switch';\n\nimport componentCss from './SwitchItem.module.less';\n\nconst Switch = Skinnable({prop: 'skin'}, SwitchBase);\n\n/**\n * Renders an `Item` with a radio-dot component. Useful to show a selected state on an Item.\n *\n * @class SwitchItemBase\n * @memberof agate/SwitchItem\n * @ui\n * @public\n */\nconst SwitchItemBase = kind({\n\tname: 'SwitchItemBase',\n\n\tpropTypes: /** @lends agate/SwitchItem.SwitchItemBase.prototype */ {\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `label` - Class name for the toggle icon label\n\t\t * * `switchIcon` - Class name for the toggle icon\n\t\t * * `switchItem` - The root class name\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Disables component and makes it non-interactive.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * The icon to display before the text.\n\t\t *\n\t\t * @type {String|Object}\n\t\t * @see {@link agate/Icon.Icon}\n\t\t * @public\n\t\t */\n\t\ticon: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\n\t\t/**\n\t\t * Customize the text displayed when the switch is \"off\".\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'off'\n\t\t * @public\n\t\t */\n\t\toffText: PropTypes.string,\n\n\t\t/**\n\t\t * Customize the text displayed when the switch is \"on\".\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'on'\n\t\t * @public\n\t\t */\n\t\tonText: PropTypes.string,\n\n\t\t/**\n\t\t * Sets the switch to the 'on' state.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tdisabled: false,\n\t\toffText: 'off',\n\t\tonText: 'on',\n\t\tselected: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'switchItem',\n\t\tpublicClassNames: true\n\t},\n\n\thandlers: {\n\t\tonClick: handle(\n\t\t\tforProp('disabled', false),\n\t\t\tforward('onClick')\n\t\t)\n\t},\n\n\tcomputed: {\n\t\ticon: ({css, icon}) => (icon ?\n\t\t\t<Icon size=\"small\" slot=\"slotBefore\" className={css.icon}>\n\t\t\t\t{icon}\n\t\t\t</Icon> :\n\t\t\tnull\n\t\t)\n\t},\n\n\trender: ({children, css, icon, offText, onText, selected, ...rest}) => {\n\n\t\treturn (\n\t\t\t<Item aria-checked={selected} role=\"checkbox\" {...rest} css={css} label={selected ? onText : offText} labelPosition=\"after\">\n\t\t\t\t{icon}\n\t\t\t\t{children}\n\t\t\t\t<Switch slot=\"slotAfter\" selected={selected} className={css.switchIcon} />\n\t\t\t</Item>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [SwitchItem]{@link agate/SwitchItem.SwitchItemBase} components.\n *\n * @hoc\n * @memberof agate/SwitchItem\n * @mixes ui/Toggleable.Toggleable\n * @mixes spotlight/Spottable.Spottable\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst SwitchItemDecorator = compose(\n\tToggleable({toggleProp: 'onClick'}),\n\t// Touchable,\n\tSpottable,\n\tSkinnable\n);\n\n/**\n * Renders an `Item` with a radio-dot component. Useful to show a selected state on an Item.\n *\n * @class SwitchItem\n * @memberof agate/SwitchItem\n * @extends agate/SwitchItem.SwitchItem\n * @mixes agate/SwitchItem.SwitchItemDecorator\n * @ui\n * @public\n */\nconst SwitchItem = SwitchItemDecorator(SwitchItemBase);\n\nexport default SwitchItem;\nexport {\n\tSwitchItem,\n\tSwitchItemBase,\n\tSwitchItemDecorator\n};\n","/**\n * Provides the {@link core/hoc.hoc} method to create higher-order components (HOCs).\n *\n * @module core/hoc\n * @exports hoc\n */\n\nimport {isRenderable} from '../util';\nimport mergeDeepWithKey from 'ramda/src/mergeDeepWithKey';\n\nconst mergeFn = (key, defaultValue, userValue) => {\n\t// eslint-disable-next-line no-undefined\n\tif (userValue === undefined) {\n\t\treturn defaultValue;\n\t}\n\n\treturn userValue;\n};\n\n/**\n * Constructs a higher-order component (HOC) using an optional set of default configuration parameters and\n * a factory method that accepts instance configuration parameters and a component to wrap. The\n * returned function can accept:\n *\t* an instance config and a component constructor to wrap and return a renderable component, or\n *\t* an instance config only and return a decorator function expecting a component constructor\n *\t(like the next bullet), or\n *\t* a component constructor and return a renderable component\n *\n * Example:\n * ```\n *\tconst Countable = hoc({prop: 'data-count'}, (config, Wrapped) => {\n *\t\treturn class extends React.Component {\n *\t\t\tconstructor (props) {\n *\t\t\t\tsuper(props);\n *\t\t\t\tthis.state = {\n *\t\t\t\t\tcount: 0\n *\t\t\t\t};\n *\t\t\t},\n *\t\t\tinc = () => this.setState({count: this.state.count + 1}),\n *\t\t\trender () {\n *\t\t\t\tconst props = Object.assign({}, this.props, {\n *\t\t\t\t\t[config.prop]: this.state.count,\n *\t\t\t\t\tonClick: this.inc\n *\t\t\t\t});\n *\t\t\t\treturn <Wrapped {...props} />\n *\t\t\t}\n *\t\t}\n *\t});\n *\n *\tconst CountableAsDataNumber({prop: 'data-number'});\n *\tconst CountableDiv('div');\n *\tconst CountableDivAsDataNumber = CountableAsDataNumber('div');\n * ```\n *\n * @function\n * @param  {Object} defaultConfig Set of default configuration parameters\n * @param  {Function} hawk        Higher-order component\n *\n * @returns {Function}             HOC Decorator\n * @memberof core/hoc\n * @public\n */\nconst hoc = (defaultConfig, hawk) => {\n\n\t// normalize arguments to allow defaultConfig to be omitted\n\tlet factory = hawk;\n\tlet defaults = defaultConfig;\n\tif (!factory && typeof defaultConfig === 'function') {\n\t\tfactory = defaultConfig;\n\t\tdefaults = null;\n\t}\n\n\treturn (config, maybeWrapped) => {\n\t\tif (isRenderable(config)) {\n\t\t\treturn factory(defaults, config);\n\t\t} else {\n\t\t\tconst cfg = mergeDeepWithKey(mergeFn, defaults, config);\n\t\t\tif (isRenderable(maybeWrapped)) {\n\t\t\t\treturn factory(cfg, maybeWrapped);\n\t\t\t} else {\n\t\t\t\treturn (Wrapped) => factory(cfg, Wrapped);\n\t\t\t}\n\t\t}\n\t};\n};\n\nexport default hoc;\nexport {hoc};\n","\n/**\n * Exports the {@link ui/internal/Pure.Pure} higher-order component (HOC).\n *\n * @module ui/internal/Pure\n * @private\n */\n\nimport hoc from '@enact/core/hoc';\nimport React from 'react';\n\n/**\n * Default config for {@link ui/internal/Pure.Pure}.\n *\n * @memberof ui/internal/Pure.Pure\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Configures the comparators used to test for prop changes\n\t *\n\t * @type {Object}\n\t * @memberof ui/internal/Pure.Pure.defaultConfig\n\t */\n\tpropComparators: {\n\t\t'*': (a, b) => a === b\n\t}\n};\n\n/**\n * Implements `shouldComponentUpdate` based on property change determination. By default, props are\n * shallowly compared for strict equality\n *\n * Custom comparators can be provided via the `propComparators` config property which accepts an\n * object mapping property names to comparator functions. To override the default comparator, use\n * the key, `'*'`.\n *\n * ```\n * const PureComponent = Pure(\n *     // Overrides the comparator for `count`. All other props will use the default comparators\n *     propComparators: {\n *         // For example, count is compared using loose equality allowing '5' to equal 5\n *         count: (a, b) => a == b\n *     },\n *     Component\n * )\n * ```\n *\n * @class Pure\n * @memberof ui/internal/Pure\n * @hoc\n * @private\n */\nconst Pure = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {propComparators} = config;\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'Pure';\n\n\t\tstatic propTypes = {};\n\n\t\tstatic defaultProps = {};\n\n\t\tshouldComponentUpdate (nextProps) {\n\t\t\treturn this.hasChanged(this.props, nextProps, propComparators);\n\t\t}\n\n\t\thasChanged (current, next, comparators) {\n\t\t\tconst propKeys = Object.keys(current);\n\t\t\tconst nextKeys = Object.keys(next);\n\n\t\t\t// early bail out if the objects have a different number of keys\n\t\t\tif (propKeys.length !== nextKeys.length) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst hasOwn = Object.prototype.hasOwnProperty.bind(current);\n\t\t\tfor (let i = 0; i < nextKeys.length; i++) {\n\t\t\t\tconst prop = nextKeys[i];\n\t\t\t\tconst comp = comparators[prop] || comparators['*'];\n\t\t\t\tif (!hasOwn(prop) || !comp(current[prop], next[prop])) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\trender () {\n\t\t\treturn (\n\t\t\t\t<Wrapped {...this.props} />\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default Pure;\nexport {\n\tPure\n};\n","/**\n * Adds spottability to components.\n *\n * @module spotlight/Spottable\n * @exports Spottable\n * @exports spottableClass\n */\n\nimport {forward, handle, preventDefault, stop} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport {is} from '@enact/core/keymap';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {getContainersForNode} from '../src/container';\nimport {getDirection, Spotlight} from '../src/spotlight';\n\n/**\n * The class name for spottable components. In general, you do not need to directly access this class\n *\n * @memberof spotlight/Spottable\n * @public\n */\nconst spottableClass = 'spottable';\n\nconst ENTER_KEY = 13;\nconst REMOTE_OK_KEY = 16777221;\n\nconst isKeyboardAccessible = (node) => {\n\tif (!node) return false;\n\tconst name = node.nodeName.toUpperCase();\n\tconst type = node.type ? node.type.toUpperCase() : null;\n\treturn (\n\t\tname === 'BUTTON' ||\n\t\tname === 'A' ||\n\t\tname === 'INPUT' && (\n\t\t\ttype === 'BUTTON' ||\n\t\t\ttype === 'CHECKBOX' ||\n\t\t\ttype === 'IMAGE' ||\n\t\t\ttype === 'RADIO' ||\n\t\t\ttype === 'RESET' ||\n\t\t\ttype === 'SUBMIT'\n\t\t)\n\t);\n};\n\nconst isSpottable = (props) => !props.spotlightDisabled;\n\n// Last instance of spottable to be focused\nlet lastSelectTarget = null;\n// Should we prevent select being passed through\nlet selectCancelled = false;\n\n/**\n * Default configuration for Spottable\n *\n * @hocconfig\n * @memberof spotlight/Spottable.Spottable\n */\nconst defaultConfig = {\n\t/**\n\t * Whether or not the component should emulate mouse events as a response\n\t * to Spotlight 5-way events.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t * @memberof spotlight/Spottable.Spottable.defaultConfig\n\t */\n\temulateMouse: true\n};\n\n/**\n * Constructs a Spotlight 5-way navigation-enabled higher-order component.\n *\n * Note: This HoC passes a number of props to the wrapped component that should be passed to the\n * main DOM node.\n *\n * Example:\n * ```\n *\tconst Component = ({myProp, ...rest}) => (\n *\t\t<div {...rest}>{myProp}</div>\n *\t);\n *\t...\n *\tconst SpottableComponent = Spottable(Component);\n * ```\n * @class Spottable\n * @memberof spotlight/Spottable\n * @param  {Object} defaultConfig Set of default configuration parameters\n * @param  {Function} Wrapped Component to wrap\n *\n * @hoc\n * @returns {Function} Spottable\n */\nconst Spottable = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {emulateMouse} = config;\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'Spottable';\n\n\t\tstatic propTypes = /** @lends spotlight/Spottable.Spottable.prototype */ {\n\t\t\t/**\n\t\t\t * Whether or not the component is in a disabled state.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tdisabled: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * The handler to run when the component is removed while retaining focus.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @param {Object} event\n\t\t\t * @public\n\t\t\t */\n\t\t\tonSpotlightDisappear: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * The handler to run when the 5-way down key is pressed.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @param {Object} event\n\t\t\t * @public\n\t\t\t */\n\t\t\tonSpotlightDown: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * The handler to run when the 5-way left key is pressed.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @param {Object} event\n\t\t\t * @public\n\t\t\t */\n\t\t\tonSpotlightLeft: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * The handler to run when the 5-way right key is pressed.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @param {Object} event\n\t\t\t * @public\n\t\t\t */\n\t\t\tonSpotlightRight: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * The handler to run when the 5-way up key is pressed.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @param {Object} event\n\t\t\t * @public\n\t\t\t */\n\t\t\tonSpotlightUp: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * An array of numbers representing keyCodes that should trigger mouse event\n\t\t\t * emulation when `emulateMouse` is `true`. If a keyCode equals a directional\n\t\t\t * key, then default 5-way navigation will be prevented when that key is pressed.\n\t\t\t *\n\t\t\t * @type {Number[]}\n\t\t\t * @default [13, 16777221]\n\t\t\t * @public\n\t\t\t */\n\t\t\tselectionKeys: PropTypes.arrayOf(PropTypes.number),\n\n\t\t\t/**\n\t\t\t * When `true`, the component cannot be navigated using spotlight.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tspotlightDisabled: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Used to identify this component within the Spotlight system\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\tspotlightId: PropTypes.string,\n\n\t\t\t/**\n\t\t\t * The tabIndex of the component. This value will default to -1 if left\n\t\t\t * unset and the control is spottable.\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @public\n\t\t\t */\n\t\t\ttabIndex: PropTypes.number\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\tselectionKeys: [ENTER_KEY, REMOTE_OK_KEY]\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tthis.isHovered = false;\n\t\t\t// Used to indicate that we want to stop propagation on blur events that occur as a\n\t\t\t// result of this component imperatively blurring itself on focus when spotlightDisabled\n\t\t\tthis.shouldPreventBlur = false;\n\t\t\tthis.isFocused = false;\n\t\t\tthis.focusedWhenDisabled = false;\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\t// eslint-disable-next-line react/no-find-dom-node\n\t\t\tthis.node = ReactDOM.findDOMNode(this);\n\t\t}\n\n\t\tcomponentDidUpdate (prevProps) {\n\t\t\tthis.isFocused = this.node && Spotlight.getCurrent() === this.node;\n\n\t\t\t// if the component is focused and became disabled\n\t\t\tif (this.isFocused && this.props.disabled && lastSelectTarget === this && !selectCancelled) {\n\t\t\t\tselectCancelled = true;\n\t\t\t\tforward('onMouseUp', null, this.props);\n\t\t\t}\n\n\t\t\t// if the component became enabled, notify spotlight to enable restoring \"lost\" focus\n\t\t\tif (isSpottable(this.props) && !isSpottable(prevProps) && !Spotlight.isPaused()) {\n\t\t\t\tif (Spotlight.getPointerMode()) {\n\t\t\t\t\tif (this.isHovered) {\n\t\t\t\t\t\tSpotlight.setPointerMode(false);\n\t\t\t\t\t\tSpotlight.focus(this.node);\n\t\t\t\t\t\tSpotlight.setPointerMode(true);\n\t\t\t\t\t}\n\t\t\t\t} else if (!Spotlight.getCurrent()) {\n\t\t\t\t\tconst containers = getContainersForNode(this.node);\n\t\t\t\t\tconst containerId = Spotlight.getActiveContainer();\n\t\t\t\t\tif (containers.indexOf(containerId) >= 0) {\n\t\t\t\t\t\tSpotlight.focus(containerId);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tif (this.isFocused) {\n\t\t\t\tforward('onSpotlightDisappear', null, this.props);\n\t\t\t}\n\t\t\tif (lastSelectTarget === this) {\n\t\t\t\tlastSelectTarget = null;\n\t\t\t}\n\t\t}\n\n\t\tshouldEmulateMouse = (ev, props) => {\n\t\t\tif (!emulateMouse) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst {currentTarget, repeat, type, which} = ev;\n\t\t\tconst {selectionKeys} = props;\n\t\t\tconst keyboardAccessible = isKeyboardAccessible(currentTarget);\n\n\t\t\tconst keyCode = selectionKeys.find((value) => (\n\t\t\t\t// emulate mouse events for any remote okay button event\n\t\t\t\twhich === REMOTE_OK_KEY ||\n\t\t\t\t// or a non-keypress selection event or any selection event on a non-keyboard accessible\n\t\t\t\t// control\n\t\t\t\t(\n\t\t\t\t\twhich === value &&\n\t\t\t\t\t(type !== 'keypress' || !keyboardAccessible)\n\t\t\t\t)\n\t\t\t));\n\n\t\t\tif (getDirection(keyCode)) {\n\t\t\t\tpreventDefault(ev);\n\t\t\t\tstop(ev);\n\t\t\t} else if (keyCode && keyboardAccessible) {\n\t\t\t\tpreventDefault(ev);\n\t\t\t}\n\n\t\t\treturn keyCode && !repeat;\n\t\t};\n\n\t\tforwardSpotlightEvents = (ev, {onSpotlightDown, onSpotlightLeft, onSpotlightRight, onSpotlightUp}) => {\n\t\t\tconst {keyCode} = ev;\n\n\t\t\tif (onSpotlightDown && is('down', keyCode)) {\n\t\t\t\tonSpotlightDown(ev);\n\t\t\t} else if (onSpotlightLeft && is('left', keyCode)) {\n\t\t\t\tonSpotlightLeft(ev);\n\t\t\t} else if (onSpotlightRight && is('right', keyCode)) {\n\t\t\t\tonSpotlightRight(ev);\n\t\t\t} else if (onSpotlightUp && is('up', keyCode)) {\n\t\t\t\tonSpotlightUp(ev);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t};\n\n\t\thandleSelect = ({which}, props) => {\n\t\t\tconst {selectionKeys} = props;\n\n\t\t\t// Only apply accelerator if handling a selection key\n\t\t\tif (selectionKeys.find((value) => which === value)) {\n\t\t\t\tif (selectCancelled || (lastSelectTarget && lastSelectTarget !== this)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlastSelectTarget = this;\n\t\t\t}\n\t\t\treturn true;\n\t\t};\n\n\t\tforwardAndResetLastSelectTarget = (ev, props) => {\n\t\t\tconst {keyCode} = ev;\n\t\t\tconst {selectionKeys} = props;\n\t\t\tconst key = selectionKeys.find((value) => keyCode === value);\n\n\t\t\t// FIXME: temporary patch to maintain compatibility with moonstone 3.2.5 which\n\t\t\t// deconstructs `preventDefault` from the event which is incompatible with React's\n\t\t\t// synthetic event.\n\t\t\tev.preventDefault = ev.preventDefault.bind(ev);\n\n\t\t\tforward('onKeyUp', ev, props);\n\t\t\tconst notPrevented = !ev.defaultPrevented;\n\n\t\t\t// bail early for non-selection keyup to avoid clearing lastSelectTarget prematurely\n\t\t\tif (!key && (!is('enter', keyCode) || !getDirection(keyCode))) {\n\t\t\t\treturn notPrevented;\n\t\t\t}\n\n\t\t\tconst allow = lastSelectTarget === this;\n\t\t\tselectCancelled = false;\n\t\t\tlastSelectTarget = null;\n\t\t\treturn notPrevented && allow;\n\t\t};\n\n\t\tisActionable = (ev, props) => isSpottable(props);\n\n\t\thandle = handle.bind(this);\n\n\t\thandleKeyDown = this.handle(\n\t\t\tforward('onKeyDown'),\n\t\t\t(ev) => !ev.defaultPrevented,\n\t\t\tthis.forwardSpotlightEvents,\n\t\t\tthis.isActionable,\n\t\t\tthis.handleSelect,\n\t\t\tthis.shouldEmulateMouse,\n\t\t\tforward('onMouseDown')\n\t\t);\n\n\t\thandleKeyUp = this.handle(\n\t\t\tthis.forwardAndResetLastSelectTarget,\n\t\t\tthis.isActionable,\n\t\t\tthis.shouldEmulateMouse,\n\t\t\tforward('onMouseUp'),\n\t\t\tforward('onClick')\n\t\t);\n\n\t\thandleBlur = (ev) => {\n\t\t\tif (this.shouldPreventBlur) return;\n\t\t\tif (ev.currentTarget === ev.target) {\n\t\t\t\tthis.isFocused = false;\n\t\t\t\tif (this.focusedWhenDisabled) {\n\t\t\t\t\tthis.focusedWhenDisabled = false;\n\t\t\t\t\t// We only need to trigger a rerender if a focused item becomes disabled and still needs its focus.\n\t\t\t\t\t// Once it blurs we need to rerender to remove the spottable class so it will not spot again.\n\t\t\t\t\t// The reason we don't use state is for performance reasons to avoid updates.\n\t\t\t\t\tthis.forceUpdate();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (Spotlight.isMuted(ev.target)) {\n\t\t\t\tev.stopPropagation();\n\t\t\t} else {\n\t\t\t\tforward('onBlur', ev, this.props);\n\t\t\t}\n\t\t};\n\n\t\thandleFocus = (ev) => {\n\t\t\tif (this.props.spotlightDisabled) {\n\t\t\t\tthis.shouldPreventBlur = true;\n\t\t\t\tev.target.blur();\n\t\t\t\tthis.shouldPreventBlur = false;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (ev.currentTarget === ev.target) {\n\t\t\t\tthis.isFocused = true;\n\t\t\t}\n\n\t\t\tif (Spotlight.isMuted(ev.target)) {\n\t\t\t\tev.stopPropagation();\n\t\t\t} else {\n\t\t\t\tforward('onFocus', ev, this.props);\n\t\t\t}\n\t\t};\n\n\t\thandleEnter = (ev) => {\n\t\t\tforward('onMouseEnter', ev, this.props);\n\t\t\tthis.isHovered = true;\n\t\t};\n\n\t\thandleLeave = (ev) => {\n\t\t\tforward('onMouseLeave', ev, this.props);\n\t\t\tthis.isHovered = false;\n\t\t};\n\n\t\trender () {\n\t\t\tconst {disabled, spotlightId, spotlightDisabled, ...rest} = this.props;\n\t\t\tthis.focusedWhenDisabled = this.isFocused && spotlightDisabled;\n\t\t\tconst spottable = this.focusedWhenDisabled || isSpottable(this.props);\n\n\t\t\tlet tabIndex = rest.tabIndex;\n\n\t\t\tdelete rest.onSpotlightDisappear;\n\t\t\tdelete rest.onSpotlightDown;\n\t\t\tdelete rest.onSpotlightLeft;\n\t\t\tdelete rest.onSpotlightRight;\n\t\t\tdelete rest.onSpotlightUp;\n\t\t\tdelete rest.selectionKeys;\n\t\t\tdelete rest.spotlightDisabled;\n\n\t\t\tif (tabIndex == null) {\n\t\t\t\ttabIndex = -1;\n\t\t\t}\n\n\t\t\tif (spottable) {\n\t\t\t\tif (rest.className) {\n\t\t\t\t\trest.className += ' ' + spottableClass;\n\t\t\t\t} else {\n\t\t\t\t\trest.className = spottableClass;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (spotlightId) {\n\t\t\t\trest['data-spotlight-id'] = spotlightId;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Wrapped\n\t\t\t\t\t{...rest}\n\t\t\t\t\tonBlur={this.handleBlur}\n\t\t\t\t\tonFocus={this.handleFocus}\n\t\t\t\t\tonMouseEnter={this.handleEnter}\n\t\t\t\t\tonMouseLeave={this.handleLeave}\n\t\t\t\t\tonKeyDown={this.handleKeyDown}\n\t\t\t\t\tonKeyUp={this.handleKeyUp}\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\ttabIndex={tabIndex}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default Spottable;\nexport {Spottable, spottableClass};\n","/**\n * `core/handle` provides a set of utilities to support handling events for `kind()`s and\n * `React.Component`s. The default export, `handle()`, generates an event handler function from a\n * set of input functions. The input functions either process or filter the event. If an input\n * function returns `true`, `handle()` will continue processing the event by calling the next input\n * function in the chain. If it returns `false` (or any falsy value like `null` or `undefined`),\n * the event handling chain stops at that input function.\n *\n * Example:\n * ```\n * import {forKey, forward, handle, preventDefault} from '@enact/core/handle';\n *\n * // logEnter will contain a function that accepts an event, a props object, and a context object\n * const logEnter = handle(\n *   forward('onKeyDown'),  // forwards the event to the function passed in the onKeyDown prop\n *   forKey('enter'),       // if the event.keyCode maps to the enter key, allows event processing to continue\n *   preventDefault,        // calls event.preventDefault() to prevent the `keypress` event\n *   (ev, props) => {       // custom event handler -- in this case, logging some text\n *     // since it doesn't return `true`, no further input functions would be called after this one\n *     console.log('The Enter key was pressed down');\n *   }\n * ).finally(() => {\n * \t console.log('This will log at the end no matter what happens within the handler above')\n * });\n * ```\n *\n * `handle()` can also be bound to a component instance which allows it to access the instance\n * `props` and `context`. This allows you to write consistent event handlers for components created\n * either with `kind()` or ES6 classes without worrying about from where the props are sourced.\n *\n * Handlers can either be bound directly using the native `bind()` method or using the `bindAs()`\n * utility method that is appended to the handler.\n *\n * Example:\n * ```\n * import {forKey, forward, handle, preventDefault} from '@enact/core/handle';\n * import React from 'react';\n *\n * class MyComponent extends React.Component {\n *   // bind handle() to the instance\n *   constructor () {\n *     super();\n *\n *     // logEnter will be bound to `this` and set as this.handleKeyDown\n *     //\n *     // Equivalent to the following with the advantage of set the function name to be displayed in\n *     // development tool call stacks\n *     //\n *     //   this.handleKeyDown = logEnter.bind(this)\n *     logEnter.bindAs(this, 'handleKeyDown');\n *   }\n *\n *   render () {\n *     return (\n *       <div onKeyDown={this.handleKeyDown} />\n *     );\n *   }\n * }\n * ```\n *\n * @module core/handle\n * @exports adaptEvent\n * @exports call\n * @exports callOnEvent\n * @exports forward\n * @exports forwardWithPrevent\n * @exports forEventProp\n * @exports forKey\n * @exports forKeyCode\n * @exports forProp\n * @exports handle\n * @exports log\n * @exports oneOf\n * @exports preventDefault\n * @exports returnsTrue\n * @exports stop\n * @exports stopImmediate\n */\n\nimport cond from 'ramda/src/cond';\nimport curry from 'ramda/src/curry';\n\nimport {is} from '../keymap';\n\n/**\n * The signature for event handlers\n *\n * @callback EventHandler\n * @memberof core/handle\n * @param {any} event\n */\n\n/**\n * The signature for event handling functions supported by `handle` and related functions\n *\n * @callback HandlerFunction\n * @memberof core/handle\n * @param {any} event\n * @param {Object<string, any>} props\n * @param {Object<string, any>} context\n */\n\n/**\n * The signature for {@link core/handle.adaptEvent} parameter `adapter`\n *\n * @callback EventAdapter\n * @memberof core/handle\n * @param {any} event\n * @param {Object<string, any>} props\n * @param {Object<string, any>} context\n * @returns {any}\n */\n\n// Accepts an array of handlers, sanitizes them, and returns a handler function\n// compose(allPass, map(makeSafeHandler));\nconst makeHandler = (handlers) => {\n\t// allowing shadowing here to provide a meaningful function name in dev tools\n\t// eslint-disable-next-line no-shadow\n\treturn function handle (...args) {\n\t\tfor (let i = 0; i < handlers.length; i++) {\n\t\t\tconst fn = handlers[i];\n\t\t\tif (typeof fn !== 'function' || fn.apply(this, args)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n};\n\n// Loose check to determine if obj is component-ish if it has both props and context members\nconst hasPropsAndContext = (obj) => (\n\tobj &&\n\t\tObject.prototype.hasOwnProperty.call(obj, 'props') &&\n\t\tObject.prototype.hasOwnProperty.call(obj, 'context')\n);\n\nconst named = (fn, name) => {\n\tif (__DEV__) {\n\t\ttry {\n\t\t\tObject.defineProperty(fn, 'name', {\n\t\t\t\tvalue: name,\n\t\t\t\twriteable: false,\n\t\t\t\tenumerable: false\n\t\t\t});\n\t\t} catch (err) {\n\t\t\t// unable to set name of function\n\t\t}\n\t}\n\n\treturn fn;\n};\n\nconst bindAs = (fn, obj, name) => {\n\tconst namedFunction = name ? named(fn, name) : fn;\n\tconst bound = namedFunction.bind(obj);\n\n\tif (name) {\n\t\tobj[name] = bound;\n\t}\n\n\treturn bound;\n};\n\nconst decorateHandleFunction = (fn) => {\n\tfn.named = (name) => named(fn, name);\n\tfn.bindAs = (obj, name) => bindAs(fn, obj, name);\n\n\treturn fn;\n};\n\n/**\n * Allows generating event handlers by chaining input functions to filter or short-circuit the\n * handling flow. Any input function that returns a falsy value will stop the chain.\n *\n * The returned handler function has a `finally()` member that accepts a function and returns a new\n * handler function. The accepted function is called once the original handler completes regardless\n * of the returned value.\n *\n * @method   handle\n * @param    {...HandlerFunction}  handlers List of handlers to process the event.\n *\n * @returns  {EventHandler}\tA function that accepts an event which is dispatched to each of the\n *                          provided handlers.\n * @memberof core/handle\n * @public\n */\nconst handle = function (...handlers) {\n\tconst h = makeHandler(handlers);\n\n\t// In order to support binding either handle (handle.bind(this)) or a handler\n\t// (a = handle(), a.bind(this)), we cache `this` here and use it as the fallback for props and\n\t// context if fn() doesn't have its own `this`.\n\tconst _outer = this;\n\n\tconst fn = function prepareHandleArgs (ev, props, context) {\n\t\tlet caller = null;\n\n\t\t// if handle() was bound to a class, use its props and context. otherwise, we accept\n\t\t// incoming props/context as would be provided by computed/handlers from kind()\n\t\tif (hasPropsAndContext(this)) {\n\t\t\tcaller = this;\n\t\t\tprops = this.props;\n\t\t\tcontext = this.context;\n\t\t} else if (hasPropsAndContext(_outer)) {\n\t\t\tcaller = _outer;\n\t\t\tprops = _outer.props;\n\t\t\tcontext = _outer.context;\n\t\t}\n\n\t\treturn h.call(caller, ev, props, context);\n\t};\n\n\tfn.finally = function (cleanup) {\n\t\treturn decorateHandleFunction(function handleWithFinally (ev, props, context) {\n\t\t\tlet result = false;\n\n\t\t\tif (hasPropsAndContext(this)) {\n\t\t\t\tprops = this.props;\n\t\t\t\tcontext = this.context;\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tresult = fn.call(this, ev, props, context);\n\t\t\t} finally {\n\t\t\t\tcleanup.call(this, ev, props, context);\n\t\t\t}\n\n\t\t\treturn result;\n\t\t});\n\t};\n\n\treturn decorateHandleFunction(fn);\n};\n\n/**\n * Calls the first handler whose condition passes. Each branch must be passed as an array with the\n * first element being the condition function and the second being the handler function. The same\n * arguments are passed to both the condition function and the handler function. The value returned\n * from the handler is returned.\n *\n * Example:\n * ```\n * const handler = oneOf(\n * \t[forKey('enter'), handleEnter],\n * \t[forKey('left'), handleLeft],\n * \t[forKey('right'), handleRight]\n * );\n * ```\n *\n * @method   oneOf\n * @param    {...[HandlerFunction, HandlerFunction]}  handlers List of conditions and handlers to process the event\n *\n * @returns  {HandlerFunction} A function that accepts an event which is dispatched to each of the\n *                             conditions and, if it passes, onto the provided handler.\n * @memberof core/handle\n * @public\n */\nconst oneOf = handle.oneOf = function (...handlers) {\n\treturn handle.call(this, cond(handlers));\n};\n\n/**\n * A function that always returns `true`. Optionally accepts a `handler` function which is called\n * before returning `true`.\n *\n * Example:\n * ```\n * // Used to coerce an existing function into a handler\n * const coercedHandler = handle(\n *   returnsTrue(doesSomething),\n *   willAlwaysBeCalled\n * );\n *\n * // Used to emulate if/else blocks with `oneOf`\n * const ifElseHandler = oneOf(\n * \t[forKey('enter'), handleEnter],\n * \t[returnsTrue, handleOtherwise]\n * );\n * ```\n *\n * @method   returnsTrue\n * @param    {Function}  [handler]  Handler function called before returning `true`.\n *\n * @returns  {HandlerFunction}\t   A function that returns `true`\n * @memberof core/handle\n * @public\n */\nconst returnsTrue = handle.returnsTrue = function (handler) {\n\tif (handler && typeof handler === 'function') {\n\t\treturn named(function (...args) {\n\t\t\thandler.apply(this, args);\n\n\t\t\treturn true;\n\t\t}, 'returnsTrue');\n\t}\n\n\treturn true;\n};\n\n/**\n * Calls a named function on the event and returns `true`.\n *\n * Example:\n * ```\n * import {callOnEvent, handle} from '@enact/core/handle';\n *\n * const callsCustomMethod = handle(\n *\tcallOnEvent('customMethod'),\n *\t(ev) => console.log('ev.customMethod() was called', ev)\n * );\n * ```\n *\n * @method   callOnEvent\n * @param    {String}     methodName  Name of the method to call on the event\n * @param    {Object}     ev          Event payload\n *\n * @returns  {true}                   Always returns `true`\n * @curried\n * @memberof core/handle\n * @private\n */\nconst callOnEvent = handle.callOnEvent = curry((methodName, ev) => {\n\tif (ev[methodName]) {\n\t\tev[methodName]();\n\t} else if (ev.nativeEvent && ev.nativeEvent[methodName]) {\n\t\t// In some cases (notably stopImmediatePropagation), React doesn't include a desired method\n\t\t// on its proxy so we check the native event as well.\n\t\tev.nativeEvent[methodName]();\n\t}\n\treturn true;\n});\n\n/**\n * Allows handling to continue if the value of `prop` on the event strictly equals `value`\n *\n * Example:\n * ```\n * import {forEventProp, handle} from '@enact/core/handle';\n *\n * const logWhenXEqualsZero = handle(\n *   forEventProp('x', 0),\n *   (ev) => console.log('ev.x was equal to zero', ev)\n * );\n * ```\n *\n * @method   forEventProp\n * @param    {String}\t   prop   Name of property on event\n * @param    {*}           value  Value of property\n * @param    {Object}      ev     Event payload\n *\n * @returns  {Boolean}            Returns `true` if `prop` on `event` strictly equals `value`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst forEventProp = handle.forEventProp = curry((prop, value, ev) => {\n\treturn ev[prop] === value;\n});\n\n/**\n * Forwards the event to a function at `name` on `props`. If the specified prop is `undefined` or\n * is not a function, it is ignored. The return value of the forwarded function is ignored and\n * `true` is always returned instead.\n *\n * Example:\n * ```\n * import {forward, handle} from '@enact/core/handle';\n *\n * const forwardAndLog = handle(\n *   forward('onClick'),\n *   (ev) => console.log('event forwarded to onClick from props', ev)\n * );\n * ```\n *\n * @method   forward\n * @param    {String}    name   Name of method on the `props`\n * @param    {Object}    ev     Event payload\n * @param    {Object}    props  Props object\n *\n * @returns  {true}             Always returns `true`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst forward = handle.forward = curry(named((name, ev, props) => {\n\tconst fn = props && props[name];\n\tif (typeof fn === 'function') {\n\t\tfn(ev);\n\t}\n\n\treturn true;\n}, 'forward'));\n\n/**\n * Calls `event.preventDefault()` and returns `true`.\n *\n * Example:\n * ```\n * import {handle, preventDefault} from '@enact/core/handle';\n *\n * const preventAndLog = handle(\n *   preventDefault,\n *   (ev) => console.log('preventDefault called', ev)\n * );\n * ```\n *\n * @method   preventDefault\n * @param    {Object}        ev  Event payload\n *\n * @returns  {true}              Always returns `true`\n * @memberof core/handle\n * @public\n */\nconst preventDefault = handle.preventDefault = callOnEvent('preventDefault');\n\n/**\n * Forwards the event to a function at `name` on `props` with capability to prevent default\n * behavior. If the specified prop is `undefined` or is not a function, it is ignored. Returns\n * `false` when `event.preventDefault()` has been called in a handler.\n *\n * Example:\n * ```\n * import {forwardWithPrevent, handle} from '@enact/core/handle';\n *\n * const forwardPreventDefault = handle(\n *   forwardWithPrevent('onClick'),\n *   (ev) => console.log('default action', ev)\n * );\n * ```\n *\n * @method   forwardWithPrevent\n * @param    {String}    name   Name of method on the `props`\n * @param    {Object}    ev     Event payload\n * @param    {Object}    props  Props object\n *\n * @returns  {Boolean}          Returns `true` if default action is prevented\n * @curried\n * @memberof core/handle\n * @private\n */\nconst forwardWithPrevent = handle.forwardWithPrevent = curry(named((name, ev, props) => {\n\tlet prevented = false;\n\tconst wrappedEvent = Object.assign({}, ev, {\n\t\tpreventDefault: () => {\n\t\t\tprevented = true;\n\t\t\tpreventDefault(ev);\n\t\t}\n\t});\n\tforward(name, wrappedEvent, props);\n\n\treturn !prevented;\n}, 'forwardWithPrevent'));\n\n/**\n * Calls `event.stopPropagation()` and returns `true`\n *\n * Example:\n * ```\n * import {handle, stop} from '@enact/core/handle';\n *\n * const stopAndLog = handle(\n *   stop,\n *   (ev) => console.log('stopPropagation called', ev)\n * );\n * ```\n *\n * @method   stop\n * @param    {Object}   ev  Event payload\n *\n * @returns  {true}         Always returns `true`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst stop = handle.stop = named(callOnEvent('stopPropagation'), 'stop');\n\n/**\n * Calls `event.stopImmediatePropagation()` and returns `true`\n *\n * Example:\n * ```\n * import {handle, stopImmediate} from '@enact/core/handle';\n *\n * const stopImmediateAndLog = handle(\n *   stopImmediate,\n *   (ev) => console.log('stopImmediatePropagation called', ev)\n * );\n * ```\n *\n * @method   stopImmediate\n * @param    {Object}       ev  Event payload\n *\n * @returns  {true}             Always returns `true`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst stopImmediate = handle.stopImmediate = callOnEvent('stopImmediatePropagation');\n\n/**\n * Allows event handling to continue if `event.keyCode === value`.\n *\n * Example:\n * ```\n * import {forKeyCode, handle} from '@enact/core/handle';\n *\n * const logForEscapeKey = handle(\n *   forKeyCode(27),\n *   (ev) => console.log('Escape key pressed down', ev)\n * );\n * ```\n *\n * @method   forKeyCode\n * @param    {Number}    value  `keyCode` to test\n * @param    {Object}    ev     Event payload\n *\n * @returns  {Boolean}          Returns `true` if `event.keyCode` strictly equals `value`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst forKeyCode = handle.forKeyCode = forEventProp('keyCode');\n\n/**\n * Allows handling to continue if the event's keyCode is mapped to `name` within\n * {@link core/keymap}.\n *\n * Example:\n * ```\n * import {forKey, handle} from '@enact/core/handle';\n *\n * const logForEnterKey = handle(\n *   forKey('enter'),\n *   (ev) => console.log('Enter key pressed down', ev)\n * );\n * ```\n *\n * @see      {@link core/keymap}\n * @method   forKey\n * @param    {String}    name   Name from {@link core/keymap}\n * @param    {Object}    ev     Event payload\n *\n * @returns  {Boolean}          Returns `true` if `event.keyCode` is mapped to `name`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst forKey = handle.forKey = curry((name, ev) => {\n\treturn is(name, ev.keyCode);\n});\n\n/**\n * Allows handling to continue if the value of `prop` on the props strictly equals `value`.\n *\n * Example:\n * ```\n * import {forProp, handle} from '@enact/core/handle';\n *\n * const logWhenChecked = handle(\n *   forProp('checked', true),\n *   (ev) => console.log('checked prop is true', ev)\n * );\n * ```\n *\n * @method   forProp\n * @param    {String}    prop   Name of property on props object\n * @param    {*}         value  Value of property\n * @param    {Object}    ev     Event payload\n * @param    {Object}    props  Props object\n *\n * @returns  {Boolean}          Returns `true` if the value of `props[prop]` strictly equals `value`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst forProp = handle.forProp = curry((prop, value, ev, props) => {\n\treturn props[prop] === value;\n});\n\n/**\n * Logs the event, props, and context optionally preceded by a custom message. Will only log in\n * development mode.\n *\n * Example:\n * ```\n * import {forProp, handle, log} from '@enact/core/handle';\n *\n * const logWhenChecked = handle(\n *   forProp('checked', true),\n *   log('checked props is true')\n * );\n * ```\n *\n * @method   log\n * @param    {String}     message  Custom message\n * @param    {Object}     ev       Event payload\n * @param    {...*}       [args]   Any args passed are logged\n *\n * @returns  {true}                Always returns `true`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst log = handle.log = curry((message, ev, ...args) => {\n\tif (__DEV__) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.log(message, ev, ...args);\n\t}\n\n\treturn true;\n});\n\n/**\n * Invokes a method by name on the component to which {@link core/handle.handle} is bound.\n *\n * If the methods exists on the object, it is called with the event, props, and context and its\n * return value is returned.\n *\n * If the method does not exist or handle isn't bound to an instance, it returns `false`.\n *\n * Example:\n * ```\n * import {call, handle, forProp} from '@enact/core/handle';\n *\n * const incrementIfEnabled = handle(\n *   forProp('disabled', false),\n *   call('increment')\n * );\n *\n * class Counter extends React.Component {\n *   constructor () {\n *     super();\n *\n *     this.handleIncrement = incrementIfEnabled.bind(this);\n *   }\n *\n *   render () {\n *     // ...\n *   }\n * }\n * ```\n *\n * @method   call\n * @param    {String}     method  Name of method\n *\n * @returns  {HandlerFunction}    Returns the value returned by `method`, or `false` if the method\n *                                does not exist\n * @memberof core/handle\n * @public\n */\nconst call = function (method) {\n\treturn named(function (...args) {\n\t\tif (this && this[method]) {\n\t\t\treturn this[method](...args);\n\t\t}\n\n\t\treturn false;\n\t}, 'call');\n};\n\n/**\n * Adapts an event with `adapter` before calling `handler`.\n *\n * The `adapter` function receives the same arguments as any handler. The value returned from\n * `adapter` is passed as the first argument to `handler` with the remaining arguments kept the\n * same. This is often useful to generate a custom event payload before forwarding on to a callback.\n *\n * Example:\n * ```\n * import {adaptEvent, forward} from '@enact/core/handle';\n *\n * // calls the onChange callback with an event payload containing a type and value member\n * const incrementAndChange = adaptEvent(\n * \t(ev, props) => ({\n * \t  type: 'onChange',\n * \t  value: props.value + 1\n * \t}),\n * \tforward('onChange')\n * )\n * ```\n *\n * @method   adaptEvent\n * @param    {EventAdapter}     adapter  Function to adapt the event payload\n * @param    {HandlerFunction}  handler  Handler to call with the handler function\n *\n * @returns  {HandlerFunction}           Returns an [event handler]{@link core/handle.HandlerFunction} (suitable for passing to handle) that returns the result of `handler`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst adaptEvent = handle.adaptEvent = curry(function (adapter, handler) {\n\treturn named(function (ev, ...args) {\n\t\treturn handler.call(this, adapter.call(this, ev, ...args), ...args);\n\t}, 'adaptEvent');\n});\n\n/**\n * Creates a handler that will forward the event to a function at `name` on `props`.\n *\n * If `adapter` is not specified, a new event payload will be generated with a `type` member with\n * the `name` of the custom event. If `adapter` is specified, the `type` member is added to the\n * value returned by `adapter`.\n *\n * The `adapter` function receives the same arguments as any handler. The value returned from\n * `adapter` is passed as the first argument to `handler` with the remaining arguments kept the\n * same. This is often useful to generate a custom event payload before forwarding on to a callback.\n *\n * Example:\n * ```\n * import {forwardCustom} from '@enact/core/handle';\n *\n * // calls the onChange callback with the event: {type: 'onChange'}\n * const forwardChange = forwardCustom('onChange');\n *\n * // calls the onChange callback with the event: {type: 'onChange', index}\n * const forwardChangeWithIndex = forwardCustom('onChange', (ev, {index}) => ({index}));\n * ```\n *\n * @method   forwardCustom\n * @param    {String}        name      Name of method on the `props`\n * @param    {EventAdapter}  [adapter] Function to adapt the event payload\n *\n * @returns  {HandlerFunction}         Returns an [event handler]{@link core/handle.EventHandler}\n *                                     (suitable for passing to handle or used directly within\n *                                     `handlers` in [kind]{@link core/kind}) that will forward the\n *                                     custom event.\n * @memberof core/handle\n * @public\n */\nconst forwardCustom = handle.forwardCustom = (name, adapter) => handle(\n\tadaptEvent(\n\t\t(...args) => {\n\t\t\tlet ev = adapter ? adapter(...args) : null;\n\n\t\t\t// Handle either no adapter or a non-object return from the adapter\n\t\t\tif (!ev || typeof ev !== 'object') {\n\t\t\t\tev = {};\n\t\t\t}\n\n\t\t\tev.type = name;\n\n\t\t\treturn ev;\n\t\t},\n\t\tforward(name)\n\t)\n).named('forwardCustom');\n\n/**\n * Accepts a handler and returns the logical complement of the value returned from the handler.\n *\n * Example:\n * ```\n * import {forProp, forward, not, handle} from '@enact/core/handle';\n *\n * // calls the onChange callback when disabled is not true\n * const handleChange = handle(\n *  not(forProp('disabled', true)),\n *  forward('onChange')\n * )\n * ```\n *\n * @method   not\n * @param    {HandlerFunction}  handler  Handler to complement\n *\n * @returns  {HandlerFunction}           Returns an [event\n *                                       handler]{@link core/handle.HandlerFunction} (suitable for\n *                                       passing to handle) that returns the complement of the\n *                                       return value of `handler`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst not = handle.not = (handler) => (...args) => !handler(...args);\n\nexport default handle;\nexport {\n\tadaptEvent,\n\tcall,\n\tcallOnEvent,\n\tforward,\n\tforwardCustom,\n\tforwardWithPrevent,\n\tforEventProp,\n\tforKey,\n\tforKeyCode,\n\tforProp,\n\thandle,\n\tlog,\n\tnot,\n\toneOf,\n\tpreventDefault,\n\treturnsTrue,\n\tstop,\n\tstopImmediate\n};\n","/* global XMLHttpRequest, ILIB_BASE_PATH, ILIB_RESOURCES_PATH, ILIB_CACHE_ID */\n\nimport {memoize} from '@enact/core/util';\nimport Loader from 'ilib/lib/Loader';\nimport LocaleInfo from 'ilib/lib/LocaleInfo';\nimport xhr from 'xhr';\n\nimport ZoneInfoFile from './zoneinfo';\n\nconst getImpl = (url, callback, sync) => {\n\tif (typeof XMLHttpRequest !== 'undefined') {\n\t\txhr.XMLHttpRequest = XMLHttpRequest || xhr.XMLHttpRequest;\n\t\tlet req;\n\t\txhr({url, sync, beforeSend: (r) => (req = r)}, (err, resp, body) => {\n\t\t\tlet error = err || resp.statusCode !== 200 && resp.statusCode;\n\t\t\t// false failure from chrome and file:// urls\n\t\t\tif (error && req.status === 0 && req.response.length > 0) {\n\t\t\t\tbody = req.response;\n\t\t\t\terror = false;\n\t\t\t}\n\n\t\t\tlet json = null;\n\t\t\ttry {\n\t\t\t\tjson = error ? null : JSON.parse(body);\n\t\t\t} catch (e) {\n\t\t\t\terror = 'Failed to parse ILIB JSON data';\n\t\t\t}\n\n\t\t\tcallback(json, error);\n\t\t});\n\t} else {\n\t\tcallback(null, new Error('Not a web browser environment'));\n\t}\n};\n\nconst getSync = (url, callback) => getImpl(url, callback, true);\n\nconst get = memoize((url) => new Promise((resolve, reject) => {\n\tgetImpl(url, (json, error) => {\n\t\tif (error) {\n\t\t\treject(error);\n\t\t} else {\n\t\t\tresolve(json);\n\t\t}\n\t}, false);\n}));\n\nconst iLibBase = typeof ILIB_BASE_PATH === 'undefined' ? '/ilib' : ILIB_BASE_PATH;\nconst iLibResources = typeof ILIB_RESOURCES_PATH === 'undefined' ? '/locale' : ILIB_RESOURCES_PATH;\nconst cachePrefix = 'ENACT-ILIB-';\nconst cacheKey = cachePrefix + 'CACHE-ID';\nconst cacheID = typeof ILIB_CACHE_ID === 'undefined' ? '$ILIB' : ILIB_CACHE_ID;\n\nfunction EnyoLoader () {\n\tthis.base = iLibBase;\n\t// TODO: full enyo.platform implementation for improved accuracy\n\tif (typeof window === 'object' && typeof window.PalmSystem === 'object') {\n\t\tthis.webos = true;\n\t}\n}\n\nEnyoLoader.prototype = new Loader();\nEnyoLoader.prototype.constructor = EnyoLoader;\n\nEnyoLoader.prototype._createZoneFile = function (path) {\n\tlet zone = path.substring(path.indexOf('zoneinfo'));\n\n\t// remove the .json suffix to get the name of the zone\n\tzone = zone.substring(0, zone.length - 5);\n\n\ttry {\n\t\tconst zif = new ZoneInfoFile('/usr/share/' + zone);\n\n\t\t// only get the info for this year. Later we can get the info\n\t\t// for any historical or future year too\n\t\treturn zif.getIlibZoneInfo(new Date());\n\t} catch (e) {\n\t\t// no file, so just return nothing\n\t}\n};\n\nEnyoLoader.prototype._pathjoin = function (_root, subpath) {\n\tif (!_root || !_root.length) {\n\t\treturn subpath;\n\t}\n\tif (!subpath || !subpath.length) {\n\t\treturn _root;\n\t}\n\treturn _root + (_root.charAt(_root.length - 1) !== '/' ? '/' : '') + subpath;\n};\n\n/**\n * Load the list of files asynchronously. This uses recursion in\n * order to create a queue of files that will be loaded serially.\n * Each layer, starting at the bottom, loads a file and then loads\n * the layer on top of it. The very top file on the stack will have\n * zero files to load, so instead it will be the one to call the\n * callback to notify the caller that all the content is loaded.\n *\n * @param {Array.<string>} paths array of strings containing relative paths for required locale data\n *\tfiles\n * @param {Array} results empty array in which to place the resulting json when it is loaded from a\n *\tfile\n * @param {Object} params An object full of parameters that the caller is passing to this function\n *\tto help load the files\n * @param {function(Array.<Object>)} callback callback to call when this function is finished\n *\tattempting to load all the files that exist and can be loaded\n *\n * @returns {Promise}\n */\nEnyoLoader.prototype._loadFilesAsync = function (path, params, cache, rootPath) {\n\tlet _root = iLibResources;\n\tif (typeof rootPath !== 'undefined') {\n\t\t_root = rootPath;\n\t} else if (params && typeof params.root !== 'undefined') {\n\t\t_root = params.root; // Deprecated; to be removed in future\n\t}\n\tlet cacheItem = cache.data.shift(),\n\t\turl;\n\n\tif (this.webos && path.indexOf('zoneinfo') !== -1) {\n\t\t// TODO: Sort out async zone file loading\n\t\treturn this._createZoneFile(path);\n\t} else if (cacheItem) {\n\t\treturn Promise.resolve(cacheItem);\n\t}\n\n\treturn this.loadManifests(_root).then(() => {\n\t\tconst isRootAvailable = this.isAvailable(_root, path);\n\t\tif (isRootAvailable) {\n\t\t\turl = this._pathjoin(_root, path);\n\t\t} else {\n\t\t\tconst localeBase = this._pathjoin(this.base, 'locale');\n\t\t\tconst isBaseAvailable = this.isAvailable(localeBase, path);\n\t\t\tif (isBaseAvailable) {\n\t\t\t\turl = this._pathjoin(localeBase, path);\n\t\t\t}\n\t\t}\n\n\t\tif (url) {\n\t\t\treturn get(url).then(json => {\n\t\t\t\tif (typeof json === 'object') {\n\t\t\t\t\tcache.update = true;\n\t\t\t\t\treturn json;\n\t\t\t\t} else if (path === 'localeinfo.json') {\n\t\t\t\t\treturn LocaleInfo.defaultInfo;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn null;\n\t});\n};\n\nEnyoLoader.prototype._loadFilesCache = function (_root, paths) {\n\tthis._validateCache();\n\tif (typeof window !== 'undefined' && window.localStorage && paths.length > 0) {\n\t\tlet stored = window.localStorage.getItem(cachePrefix + _root + '/' + paths[0]);\n\t\tif (stored) {\n\t\t\tconst target = JSON.stringify(paths);\n\t\t\tconst data = JSON.parse(stored);\n\t\t\tif (data.target === target) {\n\t\t\t\treturn data.value;\n\t\t\t} else {\n\t\t\t\twindow.localStorage.removeItem(cachePrefix + _root + '/' + paths[0]);\n\t\t\t}\n\t\t}\n\t}\n\treturn new Array(paths.length);\n};\n\nEnyoLoader.prototype._storeFilesCache = function (_root, paths, data) {\n\tif (typeof window !== 'undefined' && window.localStorage && paths.length > 0) {\n\t\tlet target = JSON.stringify(paths);\n\t\twindow.localStorage.setItem(cachePrefix + _root + '/' + paths[0], JSON.stringify({target: target, value: data}));\n\t}\n};\n\nEnyoLoader.prototype._validateCache = function () {\n\tif (!this._cacheValidated && typeof window !== 'undefined' && window.localStorage) {\n\t\tlet activeID = window.localStorage.getItem(cacheKey);\n\t\tif (activeID !== cacheID) {\n\t\t\tfor (let i = 0; i < window.localStorage.length; i++) {\n\t\t\t\tlet key = window.localStorage.key(i);\n\t\t\t\tif (key.indexOf(cachePrefix) === 0) {\n\t\t\t\t\twindow.localStorage.removeItem(key);\n\t\t\t\t\ti--;\n\t\t\t\t}\n\t\t\t}\n\t\t\twindow.localStorage.setItem(cacheKey, cacheID);\n\t\t}\n\t}\n\tthis._cacheValidated = true;\n};\n\nEnyoLoader.prototype.loadFiles = function (paths, sync, params, callback, rootPath) {\n\tlet _root = iLibResources;\n\tif (typeof rootPath !== 'undefined') {\n\t\t_root = rootPath;\n\t} else if (params && typeof params.root !== 'undefined') {\n\t\t_root = params.root; // Deprecated; to be removed in future\n\t}\n\tlet cache = {data: this._loadFilesCache(_root, paths)};\n\tif (sync) {\n\t\tlet ret = [];\n\t\tlet locdata = this._pathjoin(this.base, 'locale');\n\t\t// synchronous\n\t\tpaths.forEach(function (path, index) {\n\t\t\tif (this.webos && path.indexOf('zoneinfo') !== -1) {\n\t\t\t\tret.push(this._createZoneFile(path));\n\t\t\t} else if (cache.data[index]) {\n\t\t\t\tret.push(cache.data[index]);\n\t\t\t} else {\n\t\t\t\tlet found = false;\n\n\t\t\t\tconst handler = (json, err) => {\n\t\t\t\t\tif (!err && typeof json === 'object') {\n\t\t\t\t\t\tcache.update = true;\n\t\t\t\t\t\tret.push(json);\n\t\t\t\t\t\tfound = true;\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.loadManifestsSync(_root);\n\n\t\t\t\tif (this.isAvailable(_root, path)) {\n\t\t\t\t\tgetSync(this._pathjoin(_root, path), handler);\n\t\t\t\t}\n\n\t\t\t\tif (!found && this.isAvailable(locdata, path)) {\n\t\t\t\t\tgetSync(this._pathjoin(locdata, path), handler);\n\t\t\t\t}\n\n\t\t\t\tif (!found) {\n\t\t\t\t\tif (path === 'localeinfo.json') {\n\t\t\t\t\t\t// Use default locale info when xhr on root localeinfo.json fails/skips\n\t\t\t\t\t\tret.push(LocaleInfo.defaultInfo);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// not there, so fill in a blank entry in the array\n\t\t\t\t\t\t// eslint-disable-next-line no-undefined\n\t\t\t\t\t\tret.push(undefined);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}.bind(this));\n\n\t\tif (cache.update) {\n\t\t\tthis._storeFilesCache(_root, paths, ret);\n\t\t}\n\t\tif (typeof callback === 'function') {\n\t\t\tcallback.call(this, ret);\n\t\t}\n\t\treturn ret;\n\t}\n\n\t// asynchronous\n\tPromise.all(paths.map(path => this._loadFilesAsync(path, params, cache))).then(results => {\n\t\tif (cache.update) {\n\t\t\tthis._storeFilesCache(_root, paths, results);\n\t\t}\n\t\tif (typeof callback === 'function') {\n\t\t\tcallback.call(this, results);\n\t\t}\n\t});\n};\n\nEnyoLoader.prototype._handleManifest = function (dirpath, filepath, json) {\n\t// star indicates there was no ilibmanifest.json, so always try to load files from\n\t// that dir\n\tif (json != null) {\n\t\tif (typeof window !== 'undefined' && window.localStorage) {\n\t\t\twindow.localStorage.setItem(cachePrefix + filepath, JSON.stringify(json));\n\t\t}\n\t\tthis.manifest[dirpath] = json.files;\n\t} else {\n\t\tthis.manifest[dirpath] = '*';\n\t}\n\n\treturn this.manifest[dirpath];\n};\n\nEnyoLoader.prototype._loadManifest = function (_root, subpath, sync) {\n\tif (!this.manifest) {\n\t\tthis.manifest = {};\n\t}\n\n\tconst dirpath = this._pathjoin(_root, subpath);\n\tconst filepath = this._pathjoin(dirpath, 'ilibmanifest.json');\n\n\tif (this.manifest[dirpath]) {\n\t\treturn;\n\t}\n\n\tlet cachedManifest;\n\tif (typeof window !== 'undefined' && window.localStorage) {\n\t\tcachedManifest = window.localStorage.getItem(cachePrefix + filepath);\n\t}\n\n\tif (cachedManifest) {\n\t\tthis.manifest[dirpath] = JSON.parse(cachedManifest).files;\n\n\t\treturn sync ? this.manifest[dirpath] : Promise.resolve(this.manifest[dirpath]);\n\t}\n\n\tif (sync) {\n\t\tgetSync(filepath, (json) => {\n\t\t\tthis._handleManifest(dirpath, filepath, json);\n\t\t});\n\n\t\treturn;\n\t}\n\n\treturn get(filepath).then(json => this._handleManifest(dirpath, filepath, json));\n};\n\nEnyoLoader.prototype.loadManifests = function (_root) {\n\tthis._validateCache();\n\treturn Promise.all([\n\t\t// standard ilib locale data\n\t\tthis._loadManifest(this.base, 'locale'),\n\t\t// the app's resources dir\n\t\tthis._loadManifest('', iLibResources),\n\t\t// maybe it's a custom root? If so, try to load\n\t\t// the manifest file first in case it is there\n\t\tthis._loadManifest(_root, '')\n\t]);\n};\n\nEnyoLoader.prototype.loadManifestsSync = function (_root) {\n\t// load standard manifests\n\tif (!this.manifest) {\n\t\tthis._validateCache();\n\t\tthis._loadManifest(this.base, 'locale', true); // standard ilib locale data\n\t\tthis._loadManifest('', iLibResources, true);     // the app's resources dir\n\t}\n\n\tif (!this.manifest[_root]) {\n\t\t// maybe it's a custom root? If so, try to load\n\t\t// the manifest file first in case it is there\n\t\tthis._loadManifest(_root, '', true);\n\t}\n};\n\nEnyoLoader.prototype.isAvailable = function (_root, path) {\n\t// util.print('enyo loader: isAvailable ' + path + '? ');\n\t// star means attempt to load everything because there was no manifest in that dir\n\tif (this.manifest[_root] === '*' || this.manifest[_root].indexOf(path) !== -1) {\n\t\t// util.print('true\\n');\n\t\treturn true;\n\t}\n\n\t// util.print('false\\n');\n\treturn false;\n};\n\nexport default EnyoLoader;\nexport {EnyoLoader as Loader};\n\n","/*\n * glue.js - glue code to fit ilib into enyo\n *\n * Copyright © 2013-2014 LG Electronics, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport ilib from 'ilib';\n\nimport './dates';\n\nimport Loader from './Loader';\nimport {updateLocale} from '../locale';\n\nilib.setLoaderCallback(new Loader());\n\nif (typeof window === 'object' && typeof window.UILocale !== 'undefined') {\n\t// this is a hack until GF-1581 is fixed\n\tilib.setLocale(window.UILocale);\n}\n\n// we go ahead and run this once during loading of iLib settings are valid\n// during the loads of later libraries.\nupdateLocale(null, true);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ThemeDecorator_root__1mp4Z\",\"bg\":\"ThemeDecorator_bg__1iacj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"Panel_panel__CBsfu\",\"body\":\"Panel_body__1jwg2\",\"noHeader\":\"Panel_noHeader__34Mg7\",\"visible\":\"Panel_visible__1PYRW\",\"header\":\"Panel_header__zIYvF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toggleButton\":\"ToggleButton_toggleButton__2WnOp\",\"underline\":\"ToggleButton_underline__9iR0t\",\"selected\":\"ToggleButton_selected__2bbbF\",\"button\":\"ToggleButton_button__23rV4\",\"bg\":\"ToggleButton_bg__3eqq0\",\"client\":\"ToggleButton_client__3nJmd\",\"huge\":\"ToggleButton_huge__1vADY\",\"small\":\"ToggleButton_small__NGeCq\",\"smallest\":\"ToggleButton_smallest__1wA4h\",\"minWidth\":\"ToggleButton_minWidth__rXqF_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabBar\":\"TabGroup_tabBar__cDVU2\",\"tabGroup\":\"TabGroup_tabGroup__uo2pQ\",\"tab\":\"TabGroup_tab__GzkRG\",\"labeledIcon\":\"TabGroup_labeledIcon__2Db25\",\"selected\":\"TabGroup_selected__LeC93\",\"positionAfter\":\"TabGroup_positionAfter__-qTBR\",\"horizontal\":\"TabGroup_horizontal__2UR2N\",\"vertical\":\"TabGroup_vertical__1QLN3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scrollbarTrack\":\"ScrollbarTrack_scrollbarTrack__2RBz3\",\"vertical\":\"ScrollbarTrack_vertical__3uMTg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Item_item__1OGdw\",\"itemContent\":\"Item_itemContent__1trVo\",\"hasLabel\":\"Item_hasLabel__3xhAA\",\"labelAfter\":\"Item_labelAfter__1Ajl0\",\"content\":\"Item_content__3R8ap\",\"labelBelow\":\"Item_labelBelow__35xbo\",\"label\":\"Item_label__vFw2H\",\"labelAbove\":\"Item_labelAbove__1SN_z\",\"labelBefore\":\"Item_labelBefore__3dcyJ\",\"slotAfter\":\"Item_slotAfter__2yHO_\",\"slotBefore\":\"Item_slotBefore__34YUH\",\"selected\":\"Item_selected__oqyJI\",\"inline\":\"Item_inline__2Wjk9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dateTimePicker\":\"DateTimePicker_dateTimePicker__21ogl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spacingIndicator\":\"Heading_spacingIndicator__3fOXk\",\"spacingNote\":\"Heading_spacingNote__2QraQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popup\":\"Popup_popup__2K8Tn\",\"centered\":\"Popup_centered__gLtrt\",\"buttons\":\"Popup_buttons__3tX0Z\",\"top\":\"Popup_top__NK_iz\",\"closeButton\":\"Popup_closeButton__gO0Wo\",\"title\":\"Popup_title__23Fu5\",\"withTitle\":\"Popup_withTitle__oXxZL\",\"body\":\"Popup_body__34qt0\",\"withCloseButton\":\"Popup_withCloseButton__2VP8L\",\"content\":\"Popup_content__3lgAw\",\"popupTransitionContainer\":\"Popup_popupTransitionContainer__l6zkG\",\"inner\":\"Popup_inner__9xj2X\"};","/**\n * A Popup menu component.\n *\n * @example\n * <PopupMenu open title=\"Title\">Hello!</PopupMenu>\n *\n * @module agate/PopupMenu\n * @exports PopupMenu\n * @exports PopupMenuBase\n * @exports PopupMenuDecorator\n */\n\nimport compose from 'ramda/src/compose';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Layout, {Cell} from '@enact/ui/Layout';\nimport Slottable from '@enact/ui/Slottable';\nimport Transition from '@enact/ui/Transition';\n\nimport $L from '../internal/$L';\nimport Skinnable from '../Skinnable';\nimport Heading from '../Heading';\nimport LabeledIconButton from '../LabeledIconButton';\nimport Scroller from '../Scroller';\n\nimport PopupState from '../Popup/PopupState';\n\nimport componentCss from './PopupMenu.module.less';\n\n/**\n * The base popup menu component.\n *\n * @class PopupMenuBase\n * @memberof agate/PopupMenu\n * @ui\n * @public\n */\nconst PopupMenuBase = kind({\n\tname: 'PopupMenu',\n\tpropTypes: /** @lends agate/PopupMenu.PopupMenuBase.prototype */ {\n\t\tcloseButton: PropTypes.bool,\n\t\tcloseButtonLabel: PropTypes.string,\n\t\tcss: PropTypes.object,\n\t\tnoAnimation: PropTypes.bool,\n\t\tonClose: PropTypes.func,\n\t\tonHide: PropTypes.func,\n\t\topen: PropTypes.bool,\n\t\torientation: PropTypes.oneOf(['horizontal']),\n\t\ttitle: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tcloseButton: false,\n\t\tcloseButtonLabel: $L('Cancel'),\n\t\tnoAnimation: false,\n\t\topen: false,\n\t\torientation: 'horizontal'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'popupMenu'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({orientation, styler}) => styler.append(orientation)\n\t},\n\n\trender: ({children, closeButton, closeButtonLabel, css, noAnimation, onClose, onHide, open, orientation, title, ...rest}) => {\n\t\treturn (\n\t\t\t<Transition\n\t\t\t\tnoAnimation={noAnimation}\n\t\t\t\tvisible={open}\n\t\t\t\tdirection=\"down\"\n\t\t\t\tduration=\"short\"\n\t\t\t\ttype=\"fade\"\n\t\t\t\tclassName={css.popupTransitionContainer}\n\t\t\t\tonHide={onHide}\n\t\t\t\tcss={css}\n\t\t\t>\n\t\t\t\t<Layout orientation=\"vertical\" align=\"center center\" role=\"alert\" {...rest}>\n\t\t\t\t\t<Cell className={css.title} shrink>\n\t\t\t\t\t\t<Heading size=\"title\">{title}</Heading>\n\t\t\t\t\t</Cell>\n\t\t\t\t\t<Cell shrink className={css.body} align=\"stretch\">\n\t\t\t\t\t\t<Scroller direction={orientation} horizontalScrollbar=\"hidden\" verticalScrollbar=\"hidden\">\n\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t\t{closeButton ? <LabeledIconButton\n\t\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\t\ticon=\"cancel\"\n\t\t\t\t\t\t\t\tonClick={onClose}\n\t\t\t\t\t\t\t\tclassName={css.closeButton}\n\t\t\t\t\t\t\t\tsize=\"huge\"\n\t\t\t\t\t\t\t\tbackgroundOpacity=\"lightOpaque\"\n\t\t\t\t\t\t\t>{closeButtonLabel}</LabeledIconButton> : null}\n\t\t\t\t\t\t</Scroller>\n\t\t\t\t\t</Cell>\n\t\t\t\t</Layout>\n\t\t\t</Transition>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [PopupMenuBase]{@link agate/PopupMenu.PopupMenuBase}.\n *\n * @hoc\n * @memberof agate/PopupMenu\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst PopupMenuDecorator = compose(\n\tSlottable({slots: ['title']}),\n\tSkinnable({prop: 'skin'}),\n\tPopupState\n);\n\n/**\n * A stateful component that renders a popup menu.\n *\n * @class PopupMenu\n * @memberof agate/PopupMenu\n * @extends agate/PopupMenu.PopupMenuBase\n * @mixes agate/PopupMenu.PopupMenuDecorator\n * @ui\n * @public\n */\nconst PopupMenu = PopupMenuDecorator(PopupMenuBase);\n\nexport default PopupMenu;\nexport {\n\tPopupMenu,\n\tPopupMenuBase,\n\tPopupMenuDecorator\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"Spinner_spinner__3fu-N\",\"bg\":\"Spinner_bg__3APs3\",\"huge\":\"Spinner_huge__1_I9G\",\"small\":\"Spinner_small__7zUD3\",\"smallest\":\"Spinner_smallest__l7fSN\",\"dark\":\"Spinner_dark__2EAvC\",\"node\":\"Spinner_node__340FG\",\"light\":\"Spinner_light__3ADfH\",\"searching\":\"Spinner_searching__gjLI1\",\"searching-spinner\":\"Spinner_searching-spinner__3nP-Q\",\"node12\":\"Spinner_node12__l17bR\",\"node11\":\"Spinner_node11__1JU52\",\"node10\":\"Spinner_node10__2oIGA\",\"node9\":\"Spinner_node9__3xkK3\",\"node8\":\"Spinner_node8__nHmXl\",\"node7\":\"Spinner_node7__3PMR6\",\"node6\":\"Spinner_node6__16R4o\",\"node5\":\"Spinner_node5__17m6e\",\"node4\":\"Spinner_node4__FVRBd\",\"node3\":\"Spinner_node3__2Cfot\",\"node2\":\"Spinner_node2__feALn\",\"node1\":\"Spinner_node1__14Y-l\",\"loading\":\"Spinner_loading__3Vskk\",\"loading-spinner\":\"Spinner_loading-spinner__3TSSM\"};","import {is} from '@enact/core/keymap';\nimport Spotlight, {getDirection} from '@enact/spotlight';\nimport {getTargetByDirectionFromElement} from '@enact/spotlight/src/target';\nimport utilDOM from '@enact/ui/useScroll/utilDOM';\nimport utilEvent from '@enact/ui/useScroll/utilEvent';\nimport clamp from 'ramda/src/clamp';\nimport {useCallback, useEffect, useRef} from 'react';\n\nconst\n\tisDown = is('down'),\n\tisEnter = is('enter'),\n\tisLeft = is('left'),\n\tisPageUp = is('pageUp'),\n\tisPageDown = is('pageDown'),\n\tisRight = is('right'),\n\tisUp = is('up'),\n\tgetNumberValue = (index) => {\n\t\t// using '+ operator' for string > number conversion based on performance: https://jsperf.com/convert-string-to-number-techniques/7\n\t\tlet number = +index;\n\t\t// should return -1 if index is not a number or a negative value\n\t\treturn number >= 0 ? number : -1;\n\t};\n\nconst useEventKey = (props, instances, context) => {\n\t// Mutable value\n\n\tconst mutableRef = useRef({\n\t\tfn: null\n\t});\n\n\t// Functions\n\n\tconst findSpottableItem = useCallback((indexFrom, indexTo) => {\n\t\tconst {dataSize} = props;\n\t\tif (indexFrom < 0 && indexTo < 0 || indexFrom >= dataSize && indexTo >= dataSize) {\n\t\t\treturn -1;\n\t\t} else {\n\t\t\treturn clamp(0, dataSize - 1, indexFrom);\n\t\t}\n\t}, [props]);\n\n\tconst getNextIndex = useCallback(({index, keyCode, repeat}) => {\n\t\tconst {dataSize, rtl, wrap} = props;\n\t\tconst {scrollContentHandle} = instances;\n\t\tconst {isPrimaryDirectionVertical, dimensionToExtent} = scrollContentHandle.current;\n\t\tconst column = index % dimensionToExtent;\n\t\tconst row = (index - column) % dataSize / dimensionToExtent;\n\t\tconst isDownKey = isDown(keyCode);\n\t\tconst isLeftMovement = (!rtl && isLeft(keyCode)) || (rtl && isRight(keyCode));\n\t\tconst isRightMovement = (!rtl && isRight(keyCode)) || (rtl && isLeft(keyCode));\n\t\tconst isUpKey = isUp(keyCode);\n\t\tconst isNextRow = index + dimensionToExtent < dataSize;\n\t\tconst isNextAdjacent = column < dimensionToExtent - 1 && index < (dataSize - 1);\n\t\tconst isBackward = (\n\t\t\tisPrimaryDirectionVertical && isUpKey ||\n\t\t\t!isPrimaryDirectionVertical && isLeftMovement ||\n\t\t\tnull\n\t\t);\n\t\tconst isForward = (\n\t\t\tisPrimaryDirectionVertical && isDownKey ||\n\t\t\t!isPrimaryDirectionVertical && isRightMovement ||\n\t\t\tnull\n\t\t);\n\t\tlet isWrapped = false;\n\t\tlet nextIndex = -1;\n\t\tlet targetIndex = -1;\n\n\t\tif (index >= 0) {\n\t\t\tif (isPrimaryDirectionVertical) {\n\t\t\t\tif (isUpKey && row) {\n\t\t\t\t\ttargetIndex = index - dimensionToExtent;\n\t\t\t\t} else if (isDownKey && isNextRow) {\n\t\t\t\t\ttargetIndex = index + dimensionToExtent;\n\t\t\t\t} else if (isLeftMovement && column) {\n\t\t\t\t\ttargetIndex = index - 1;\n\t\t\t\t} else if (isRightMovement && isNextAdjacent) {\n\t\t\t\t\ttargetIndex = index + 1;\n\t\t\t\t}\n\t\t\t} else if (isLeftMovement && row) {\n\t\t\t\ttargetIndex = index - dimensionToExtent;\n\t\t\t} else if (isRightMovement && isNextRow) {\n\t\t\t\ttargetIndex = index + dimensionToExtent;\n\t\t\t} else if (isUpKey && column) {\n\t\t\t\ttargetIndex = index - 1;\n\t\t\t} else if (isDownKey && isNextAdjacent) {\n\t\t\t\ttargetIndex = index + 1;\n\t\t\t}\n\n\t\t\tif (targetIndex >= 0) {\n\t\t\t\tnextIndex = targetIndex;\n\t\t\t}\n\t\t}\n\n\t\tif (!repeat && nextIndex === -1 && wrap) {\n\t\t\tif (isForward && findSpottableItem((row + 1) * dimensionToExtent, dataSize) < 0) {\n\t\t\t\tnextIndex = findSpottableItem(0, index);\n\t\t\t\tisWrapped = true;\n\t\t\t} else if (isBackward && findSpottableItem(-1, row * dimensionToExtent - 1) < 0) {\n\t\t\t\tnextIndex = findSpottableItem(dataSize, index);\n\t\t\t\tisWrapped = true;\n\t\t\t}\n\t\t}\n\n\t\treturn {isDownKey, isUpKey, isLeftMovement, isRightMovement, isWrapped, nextIndex};\n\t}, [findSpottableItem, props, instances]);\n\n\t// Hooks\n\n\tuseEffect(() => {\n\t\tconst {scrollContainerRef, scrollContentHandle} = instances;\n\t\tconst {\n\t\t\thandle5WayKeyUp,\n\t\t\thandleDirectionKeyDown,\n\t\t\thandlePageUpDownKeyDown,\n\t\t\tspotlightAcceleratorProcessKey\n\t\t} = context;\n\n\t\tfunction handleKeyDown (ev) {\n\t\t\tconst {keyCode, target} = ev;\n\t\t\tconst direction = getDirection(keyCode);\n\n\t\t\tif (direction) {\n\t\t\t\tSpotlight.setPointerMode(false);\n\n\t\t\t\tif (spotlightAcceleratorProcessKey(ev)) {\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t} else {\n\t\t\t\t\tconst {spotlightId} = props;\n\t\t\t\t\tconst targetIndex = target.dataset.index;\n\t\t\t\t\tconst isNotItem = (\n\t\t\t\t\t\t// if target has an index, it must be an item\n\t\t\t\t\t\t!targetIndex &&\n\t\t\t\t\t\t// if it lacks an index and is inside the scroller, we need to handle this\n\t\t\t\t\t\ttarget.matches(`[data-spotlight-id=\"${spotlightId}\"] *`)\n\t\t\t\t\t);\n\t\t\t\t\tconst index = !isNotItem ? getNumberValue(targetIndex) : -1;\n\t\t\t\t\tconst candidate = getTargetByDirectionFromElement(direction, target);\n\t\t\t\t\tconst candidateIndex = candidate && candidate.dataset && getNumberValue(candidate.dataset.index);\n\t\t\t\t\tlet isLeaving = false;\n\n\t\t\t\t\tif (isNotItem) { // if the focused node is not an item\n\t\t\t\t\t\tif (!utilDOM.containsDangerously(ev.currentTarget, candidate)) { // if the candidate is out of a list\n\t\t\t\t\t\t\tisLeaving = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (index >= 0 && candidateIndex !== index) { // the focused node is an item and focus will move out of the item\n\t\t\t\t\t\tconst {repeat} = ev;\n\t\t\t\t\t\tconst {isDownKey, isUpKey, isLeftMovement, isRightMovement, isWrapped, nextIndex} = getNextIndex({index, keyCode, repeat});\n\n\t\t\t\t\t\tif (nextIndex >= 0) { // if the candidate is another item\n\t\t\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\t\t\thandleDirectionKeyDown(ev, 'acceleratedKeyDown', {isWrapped, keyCode, nextIndex, repeat, target});\n\t\t\t\t\t\t} else { // if the candidate is not found\n\t\t\t\t\t\t\tconst {dataSize, focusableScrollbar, isHorizontalScrollbarVisible, isVerticalScrollbarVisible} = props;\n\t\t\t\t\t\t\tconst {dimensionToExtent, isPrimaryDirectionVertical} = scrollContentHandle.current;\n\t\t\t\t\t\t\tconst column = index % dimensionToExtent;\n\t\t\t\t\t\t\tconst row = (index - column) % dataSize / dimensionToExtent;\n\t\t\t\t\t\t\tconst directions = {};\n\t\t\t\t\t\t\tlet isScrollbarVisible;\n\n\t\t\t\t\t\t\tif (isPrimaryDirectionVertical) {\n\t\t\t\t\t\t\t\tdirections.left = isLeftMovement;\n\t\t\t\t\t\t\t\tdirections.right = isRightMovement;\n\t\t\t\t\t\t\t\tdirections.up = isUpKey;\n\t\t\t\t\t\t\t\tdirections.down = isDownKey;\n\t\t\t\t\t\t\t\tisScrollbarVisible = isVerticalScrollbarVisible;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdirections.left = isUpKey;\n\t\t\t\t\t\t\t\tdirections.right = isDownKey;\n\t\t\t\t\t\t\t\tdirections.up = isLeftMovement;\n\t\t\t\t\t\t\t\tdirections.down = isRightMovement;\n\t\t\t\t\t\t\t\tisScrollbarVisible = isHorizontalScrollbarVisible;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tisLeaving =\n\t\t\t\t\t\t\t\tdirections.up && row === 0 ||\n\t\t\t\t\t\t\t\tdirections.down && row === Math.floor((dataSize - 1) % dataSize / dimensionToExtent) ||\n\t\t\t\t\t\t\t\tdirections.left && column === 0 ||\n\t\t\t\t\t\t\t\tdirections.right && (!focusableScrollbar || !isScrollbarVisible) && (column === dimensionToExtent - 1 || index === dataSize - 1 && row === 0);\n\n\t\t\t\t\t\t\tif (repeat && isLeaving) { // if focus is about to leave items by holding down an arrowy key\n\t\t\t\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\t\t\t} else if (!isLeaving) {\n\t\t\t\t\t\t\t\thandleDirectionKeyDown(ev, 'keyDown', {direction, keyCode, repeat, target});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (isLeaving) {\n\t\t\t\t\t\thandleDirectionKeyDown(ev, 'keyLeave');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (isPageUp(keyCode) || isPageDown(keyCode)) {\n\t\t\t\thandlePageUpDownKeyDown();\n\t\t\t}\n\t\t}\n\n\t\tfunction handleKeyUp ({keyCode}) {\n\t\t\tif (getDirection(keyCode) || isEnter(keyCode)) {\n\t\t\t\thandle5WayKeyUp();\n\t\t\t}\n\t\t}\n\n\t\tutilEvent('keydown').addEventListener(scrollContainerRef, handleKeyDown, {capture: true});\n\t\tutilEvent('keyup').addEventListener(scrollContainerRef, handleKeyUp, {capture: true});\n\n\t\treturn () => {\n\t\t\tutilEvent('keydown').removeEventListener(scrollContainerRef, handleKeyDown, {capture: true});\n\t\t\tutilEvent('keyup').removeEventListener(scrollContainerRef, handleKeyUp, {capture: true});\n\t\t};\n\t}, [getNextIndex, props, instances, context]);\n\n\t// Functions\n\n\tfunction addGlobalKeyDownEventListener (fn) {\n\t\tmutableRef.current.fn = fn;\n\t\tutilEvent('keydown').addEventListener(document, mutableRef.current.fn, {capture: true});\n\t}\n\n\tfunction removeGlobalKeyDownEventListener () {\n\t\tutilEvent('keydown').removeEventListener(document, mutableRef.current.fn, {capture: true});\n\t\tmutableRef.current.fn = null;\n\t}\n\n\t// Return\n\n\treturn {\n\t\taddGlobalKeyDownEventListener,\n\t\tremoveGlobalKeyDownEventListener\n\t};\n};\n\nexport default useEventKey;\nexport {\n\tuseEventKey\n};\n","import utilEvent from '@enact/ui/useScroll/utilEvent';\nimport {useEffect} from 'react';\n\nconst usePreventScroll = (props, instances) => {\n\t// Hooks\n\n\tuseEffect(() => {\n\t\tconst {rtl, scrollMode} = props;\n\t\tconst {scrollContentRef} = instances;\n\t\tconst scrollContentNode = scrollContentRef.current;\n\n\t\tif (scrollMode === 'translate' && scrollContentNode) {\n\t\t\tconst preventScroll = () => {\n\t\t\t\tscrollContentNode.scrollTop = 0;\n\t\t\t\tscrollContentNode.scrollLeft = rtl ? scrollContentNode.scrollWidth : 0;\n\t\t\t};\n\n\t\t\tutilEvent('scroll').addEventListener(scrollContentNode, preventScroll);\n\n\t\t\treturn () => {\n\t\t\t\t// remove a function for preventing native scrolling by Spotlight\n\t\t\t\tutilEvent('scroll').removeEventListener(scrollContentNode, preventScroll);\n\t\t\t};\n\t\t}\n\t}, [props, instances]);\n};\n\nexport default usePreventScroll;\nexport {\n\tusePreventScroll\n};\n","import Spotlight from '@enact/spotlight';\nimport utilDOM from '@enact/ui/useScroll/utilDOM';\nimport {useEffect, useRef} from 'react';\n\nconst useSpotlightConfig = (props, instances) => {\n\t// Hooks\n\n\tuseEffect(() => {\n\t\tfunction lastFocusedPersist () {\n\t\t\tconst {spottable: {current: {lastFocusedIndex}}} = instances;\n\n\t\t\tif (lastFocusedIndex != null) {\n\t\t\t\treturn {\n\t\t\t\t\tcontainer: false,\n\t\t\t\t\telement: true,\n\t\t\t\t\tkey: lastFocusedIndex\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tfunction lastFocusedRestore ({key}, all) {\n\t\t\tconst placeholder = all.find(el => 'vlPlaceholder' in el.dataset);\n\n\t\t\tif (placeholder) {\n\t\t\t\tplaceholder.dataset.index = key;\n\n\t\t\t\treturn placeholder;\n\t\t\t}\n\n\t\t\treturn all.reduce((focused, node) => {\n\t\t\t\treturn focused || Number(node.dataset.index) === key && node;\n\t\t\t}, null);\n\t\t}\n\n\t\tfunction configureSpotlight () {\n\t\t\tconst {spacing, spotlightId} = props;\n\n\t\t\tSpotlight.set(spotlightId, {\n\t\t\t\tenterTo: 'last-focused',\n\t\t\t\t/*\n\t\t\t\t * Returns the data-index as the key for last focused\n\t\t\t\t */\n\t\t\t\tlastFocusedPersist,\n\n\t\t\t\t/*\n\t\t\t\t * Restores the data-index into the placeholder if its the only element. Tries to find a\n\t\t\t\t * matching child otherwise.\n\t\t\t\t */\n\t\t\t\tlastFocusedRestore,\n\n\t\t\t\t/*\n\t\t\t\t * Directs spotlight focus to favor straight elements that are within range of `spacing`\n\t\t\t\t * over oblique elements, like scroll buttons.\n\t\t\t\t */\n\t\t\t\tobliqueMultiplier: spacing > 0 ? spacing : 1\n\t\t\t});\n\t\t}\n\n\t\tconfigureSpotlight();\n\t}, [props, instances]);\n};\n\nconst getNumberValue = (index) => {\n\t// using '+ operator' for string > number conversion based on performance: https://jsperf.com/convert-string-to-number-techniques/7\n\tlet number = +index;\n\t// should return -1 if index is not a number or a negative value\n\treturn number >= 0 ? number : -1;\n};\n\nconst useSpotlightRestore = (props, instances, context) => {\n\tconst {scrollContentRef, spottable} = instances;\n\tconst {focusByIndex, getItemNode} = context;\n\n\t// Mutable value\n\n\tconst mutableRef = useRef({\n\t\tpreservedIndex: false,\n\t\tlastSpotlightDirection: null,\n\t\trestoreLastFocused: false\n\t});\n\n\t// Hooks\n\n\tuseEffect(restoreFocus);\n\n\t// Functions\n\n\tfunction handlePlaceholderFocus (ev) {\n\t\tconst placeholder = ev.currentTarget;\n\n\t\tif (placeholder) {\n\t\t\tconst index = placeholder.dataset.index;\n\n\t\t\tif (index) {\n\t\t\t\tmutableRef.current.preservedIndex = getNumberValue(index);\n\t\t\t\tmutableRef.current.lastSpotlightDirection = null;\n\t\t\t\tmutableRef.current.restoreLastFocused = true;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction isPlaceholderFocused () {\n\t\tconst current = Spotlight.getCurrent();\n\n\t\tif (current && current.dataset.vlPlaceholder && utilDOM.containsDangerously(scrollContentRef.current, current)) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tfunction restoreFocus () {\n\t\tif (\n\t\t\tmutableRef.current.restoreLastFocused &&\n\t\t\t!isPlaceholderFocused()\n\t\t) {\n\t\t\tconst\n\t\t\t\t{spotlightId} = props,\n\t\t\t\titemNode = getItemNode(mutableRef.current.preservedIndex);\n\n\t\t\tif (itemNode) {\n\t\t\t\t// if we're supposed to restore focus and virtual list has positioned a set of items\n\t\t\t\t// that includes lastFocusedIndex, clear the indicator\n\t\t\t\tmutableRef.current.restoreLastFocused = false;\n\n\t\t\t\t// try to focus the last focused item\n\t\t\t\tspottable.current.isScrolledByJump = true;\n\t\t\t\tconst foundLastFocused = focusByIndex(mutableRef.current.preservedIndex, mutableRef.current.lastSpotlightDirection);\n\t\t\t\tspottable.current.isScrolledByJump = false;\n\n\t\t\t\t// but if that fails (because it isn't found or is disabled), focus the container so\n\t\t\t\t// spotlight isn't lost\n\t\t\t\tif (!foundLastFocused) {\n\t\t\t\t\tmutableRef.current.restoreLastFocused = true;\n\t\t\t\t\tSpotlight.focus(spotlightId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction handleRestoreLastFocus ({firstIndex, lastIndex}) {\n\t\tif (mutableRef.current.restoreLastFocused && mutableRef.current.preservedIndex >= firstIndex && mutableRef.current.preservedIndex <= lastIndex) {\n\t\t\trestoreFocus();\n\t\t}\n\t}\n\n\tfunction updateStatesAndBounds ({dataSize, moreInfo, numOfItems}) {\n\t\treturn (mutableRef.current.restoreLastFocused && numOfItems > 0 && mutableRef.current.preservedIndex < dataSize && (\n\t\t\tmutableRef.current.preservedIndex < moreInfo.firstVisibleIndex || mutableRef.current.preservedIndex > moreInfo.lastVisibleIndex\n\t\t));\n\t}\n\n\tfunction setPreservedIndex (index, direction = null) {\n\t\tmutableRef.current.preservedIndex = index;\n\t\tmutableRef.current.lastSpotlightDirection = direction;\n\t\tmutableRef.current.restoreLastFocused = true;\n\t}\n\n\t// Return\n\n\treturn {\n\t\thandlePlaceholderFocus,\n\t\thandleRestoreLastFocus,\n\t\tsetPreservedIndex,\n\t\tupdateStatesAndBounds\n\t};\n};\n\nexport {\n\tuseSpotlightConfig,\n\tuseSpotlightRestore\n};\n","import Spotlight, {getDirection} from '@enact/spotlight';\nimport Accelerator from '@enact/spotlight/Accelerator';\nimport Pause from '@enact/spotlight/Pause';\nimport {getTargetByDirectionFromElement} from '@enact/spotlight/src/target';\nimport {Spottable} from '@enact/spotlight/Spottable';\nimport utilDOM from '@enact/ui/useScroll/utilDOM';\nimport React, {useCallback, useEffect, useRef} from 'react';\n\nimport {dataIndexAttribute} from '../useScroll';\n\nimport {useEventKey} from './useEvent';\nimport usePreventScroll from './usePreventScroll';\nimport {useSpotlightConfig, useSpotlightRestore} from './useSpotlight';\n\nconst SpotlightAccelerator = new Accelerator();\nconst SpotlightPlaceholder = Spottable('div');\n\nconst\n\tnop = () => {},\n\tgetNumberValue = (index) => {\n\t\t// using '+ operator' for string > number conversion based on performance: https://jsperf.com/convert-string-to-number-techniques/7\n\t\tlet number = +index;\n\t\t// should return -1 if index is not a number or a negative value\n\t\treturn number >= 0 ? number : -1;\n\t};\n\nconst useSpottable = (props, instances) => {\n\tconst {scrollMode} = props;\n\tconst {itemRefs, scrollContainerRef, scrollContentHandle} = instances;\n\tconst getItemNode = (index) => {\n\t\tconst itemNode = itemRefs.current[index % scrollContentHandle.current.state.numOfItems];\n\t\treturn (itemNode && parseInt(itemNode.dataset.index) === index) ? itemNode : null;\n\t};\n\n\t// Mutable value\n\n\tconst mutableRef = useRef({\n\t\tisScrolledBy5way: false,\n\t\tisScrolledByJump: false,\n\t\tisWrappedBy5way: false,\n\t\tlastFocusedIndex: null,\n\t\tpause: new Pause('VirtualListBasic')\n\t});\n\n\tconst {pause} = mutableRef.current;\n\n\t// Hooks\n\n\tuseSpotlightConfig(props, {spottable: mutableRef});\n\n\tconst {addGlobalKeyDownEventListener, removeGlobalKeyDownEventListener} = useEventKey(props, instances, {\n\t\thandlePageUpDownKeyDown: () => {\n\t\t\tmutableRef.current.isScrolledBy5way = false;\n\t\t},\n\t\thandleDirectionKeyDown: (ev, eventType, param) => {\n\t\t\tswitch (eventType) {\n\t\t\t\tcase 'acceleratedKeyDown':\n\t\t\t\t\tonAcceleratedKeyDown(param);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'keyDown':\n\t\t\t\t\tif (Spotlight.move(param.direction)) {\n\t\t\t\t\t\tconst nextTargetIndex = Spotlight.getCurrent().dataset.index;\n\n\t\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t\tev.stopPropagation();\n\n\t\t\t\t\t\tif (typeof nextTargetIndex === 'string') {\n\t\t\t\t\t\t\tonAcceleratedKeyDown({...param, nextIndex: getNumberValue(nextTargetIndex)});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'keyLeave':\n\t\t\t\t\tSpotlightAccelerator.reset();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\thandle5WayKeyUp: () => {\n\t\t\tSpotlightAccelerator.reset();\n\t\t},\n\t\tspotlightAcceleratorProcessKey: (ev) => {\n\t\t\treturn SpotlightAccelerator.processKey(ev, nop);\n\t\t}\n\t});\n\n\tconst {\n\t\thandlePlaceholderFocus,\n\t\thandleRestoreLastFocus,\n\t\tsetPreservedIndex,\n\t\tupdateStatesAndBounds\n\t} = useSpotlightRestore(props, {...instances, spottable: mutableRef}, {focusByIndex, getItemNode});\n\n\tfunction pauseSpotlight (bool) {\n\t\tif (bool) {\n\t\t\tpause.pause();\n\t\t} else {\n\t\t\tpause.resume();\n\t\t}\n\t}\n\n\tconst setContainerDisabled = useCallback((bool) => {\n\t\tif (scrollContainerRef.current) {\n\t\t\tscrollContainerRef.current.dataset.spotlightContainerDisabled = bool;\n\n\t\t\tif (bool) {\n\t\t\t\taddGlobalKeyDownEventListener(handleGlobalKeyDown);\n\t\t\t} else {\n\t\t\t\tremoveGlobalKeyDownEventListener();\n\t\t\t}\n\t\t}\n\t}, [addGlobalKeyDownEventListener, handleGlobalKeyDown, removeGlobalKeyDownEventListener, scrollContainerRef]);\n\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\tfunction handleGlobalKeyDown (ev) {\n\t\t// To prevent scrolling by native scroller\n\t\tif (scrollMode === 'native') {\n\t\t\tev.preventDefault();\n\t\t\tev.stopPropagation();\n\t\t}\n\n\t\tsetContainerDisabled(false);\n\t}\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\t// TODO: Fix eslint\n\t\t\tpause.resume(); // eslint-disable-line react-hooks/exhaustive-deps\n\t\t\tSpotlightAccelerator.reset();\n\n\t\t\tsetContainerDisabled(false);\n\t\t};\n\t}, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n\t// Functions\n\n\tfunction onAcceleratedKeyDown ({isWrapped, keyCode, nextIndex, repeat, target}) {\n\t\tconst {cbScrollTo, wrap} = props;\n\t\tconst {dimensionToExtent, primary: {clientSize, itemSize}, scrollPosition, scrollPositionTarget} = scrollContentHandle.current;\n\t\tconst index = getNumberValue(target.dataset.index);\n\t\tconst direction = getDirection(keyCode);\n\n\t\tmutableRef.current.isScrolledBy5way = false;\n\t\tmutableRef.current.isScrolledByJump = false;\n\n\t\tif (nextIndex >= 0 && index >= 0) {\n\t\t\tconst\n\t\t\t\trow = Math.floor(index / dimensionToExtent),\n\t\t\t\tnextRow = Math.floor(nextIndex / dimensionToExtent),\n\t\t\t\tstart = scrollContentHandle.current.getGridPosition(nextIndex).primaryPosition,\n\t\t\t\tend = props.itemSizes ? scrollContentHandle.current.getItemBottomPosition(nextIndex) : start + itemSize,\n\t\t\t\tstartBoundary = (scrollMode === 'native') ? scrollPosition : scrollPositionTarget,\n\t\t\t\tendBoundary = startBoundary + clientSize;\n\n\t\t\tmutableRef.current.lastFocusedIndex = nextIndex;\n\n\t\t\tif (start >= startBoundary && end <= endBoundary) {\n\t\t\t\t// The next item could be still out of viewport. So we need to prevent scrolling into view with `isScrolledBy5way` flag.\n\t\t\t\tmutableRef.current.isScrolledBy5way = true;\n\t\t\t\tfocusByIndex(nextIndex, direction);\n\t\t\t\tmutableRef.current.isScrolledBy5way = false;\n\t\t\t} else if (row === nextRow) {\n\t\t\t\tfocusByIndex(nextIndex, direction);\n\t\t\t} else {\n\t\t\t\tconst itemNode = getItemNode(nextIndex);\n\t\t\t\tconst stickTo = Math.abs(endBoundary - end) < Math.abs(startBoundary - start) ? 'end' : 'start';\n\n\t\t\t\tmutableRef.current.isScrolledBy5way = true;\n\t\t\t\tmutableRef.current.isWrappedBy5way = isWrapped;\n\n\t\t\t\tif (isWrapped && wrap === true && itemNode === null) {\n\t\t\t\t\tpause.pause();\n\t\t\t\t\ttarget.blur();\n\t\t\t\t}\n\t\t\t\tfocusByIndex(nextIndex, direction);\n\n\t\t\t\tcbScrollTo({\n\t\t\t\t\tindex: nextIndex,\n\t\t\t\t\tstickTo,\n\t\t\t\t\tanimate: !(isWrapped && wrap === 'noAnimation')\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (!repeat && Spotlight.move(direction)) {\n\t\t\tSpotlightAccelerator.reset();\n\t\t}\n\t}\n\n\tfunction focusOnNode (node) {\n\t\tif (node) {\n\t\t\treturn Spotlight.focus(node);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tfunction focusByIndex (index, direction) {\n\t\tconst itemNode = getItemNode(index);\n\t\tlet returnVal = false;\n\n\t\tif (!itemNode && index >= 0 && index < props.dataSize) {\n\t\t\t// Item is valid but since the the dom doesn't exist yet, we set the index to focus after the ongoing update\n\t\t\tsetPreservedIndex(index, direction);\n\t\t} else {\n\t\t\tconst\n\t\t\t\tcurrent = Spotlight.getCurrent(),\n\t\t\t\tcandidate = current ? getTargetByDirectionFromElement(direction, current) : itemNode;\n\n\t\t\t// Remove any preservedIndex\n\t\t\tsetPreservedIndex(-1);\n\n\t\t\tif (mutableRef.current.isWrappedBy5way) {\n\t\t\t\tSpotlightAccelerator.reset();\n\t\t\t\tmutableRef.current.isWrappedBy5way = false;\n\t\t\t}\n\n\t\t\tpause.resume();\n\t\t\tif (utilDOM.containsDangerously(itemNode, candidate)) {\n\t\t\t\treturnVal = focusOnNode(candidate);\n\t\t\t} else {\n\t\t\t\treturnVal = focusOnNode(itemNode);\n\t\t\t}\n\t\t\tmutableRef.current.isScrolledBy5way = false;\n\t\t\tmutableRef.current.isScrolledByJump = false;\n\t\t}\n\n\t\treturn returnVal;\n\t}\n\n\tfunction calculatePositionOnFocus ({item, scrollPosition = scrollContentHandle.current.scrollPosition}) {\n\t\tconst\n\n\t\t\t{pageScroll} = props,\n\t\t\t{state: {numOfItems}, primary} = scrollContentHandle.current,\n\t\t\toffsetToClientEnd = primary.clientSize - primary.itemSize,\n\t\t\tfocusedIndex = getNumberValue(item.getAttribute(dataIndexAttribute));\n\n\t\tif (focusedIndex >= 0) {\n\t\t\tlet gridPosition = scrollContentHandle.current.getGridPosition(focusedIndex);\n\n\t\t\tif (numOfItems > 0 && focusedIndex % numOfItems !== mutableRef.current.lastFocusedIndex % numOfItems) {\n\t\t\t\tconst itemNode = getItemNode(mutableRef.current.lastFocusedIndex);\n\n\t\t\t\tif (itemNode) {\n\t\t\t\t\titemNode.blur();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tmutableRef.current.lastFocusedIndex = focusedIndex;\n\n\t\t\tif (primary.clientSize >= primary.itemSize) {\n\t\t\t\tif (gridPosition.primaryPosition > scrollPosition + offsetToClientEnd) { // forward over\n\t\t\t\t\tgridPosition.primaryPosition -= pageScroll ? 0 : offsetToClientEnd;\n\t\t\t\t} else if (gridPosition.primaryPosition >= scrollPosition) { // inside of client\n\t\t\t\t\tif (scrollMode === 'translate') {\n\t\t\t\t\t\tgridPosition.primaryPosition = scrollPosition;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// This code uses the trick to change the target position slightly which will not affect the actual result\n\t\t\t\t\t\t// since a browser ignore `scrollTo` method if the target position is same as the current position.\n\t\t\t\t\t\tgridPosition.primaryPosition = scrollPosition + (scrollContentHandle.current.scrollPosition === scrollPosition ? 0.1 : 0);\n\t\t\t\t\t}\n\t\t\t\t} else { // backward over\n\t\t\t\t\tgridPosition.primaryPosition -= pageScroll ? offsetToClientEnd : 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Since the result is used as a target position to be scrolled,\n\t\t\t// scrondaryPosition should be 0 here.\n\t\t\tgridPosition.secondaryPosition = 0;\n\n\t\t\treturn scrollContentHandle.current.gridPositionToItemPosition(gridPosition);\n\t\t}\n\t}\n\n\tfunction shouldPreventScrollByFocus () {\n\t\treturn ((scrollMode === 'translate') ? (mutableRef.current.isScrolledBy5way) : (mutableRef.current.isScrolledBy5way || mutableRef.current.isScrolledByJump));\n\t}\n\n\tfunction setLastFocusedNode (node) {\n\t\tmutableRef.current.lastFocusedIndex = node.dataset && getNumberValue(node.dataset.index);\n\t}\n\n\tfunction getScrollBounds () {\n\t\treturn scrollContentHandle.current.getScrollBounds();\n\t}\n\n\t// Return\n\n\treturn {\n\t\tcalculatePositionOnFocus,\n\t\tfocusByIndex,\n\t\tfocusOnNode,\n\t\tgetScrollBounds,\n\t\thandlePlaceholderFocus,\n\t\thandleRestoreLastFocus,\n\t\tpauseSpotlight,\n\t\tsetContainerDisabled,\n\t\tsetLastFocusedNode,\n\t\tshouldPreventScrollByFocus,\n\t\tupdateStatesAndBounds\n\t};\n};\n\nconst useThemeVirtualList = (props) => {\n\tconst {itemRefs, scrollContainerRef, scrollContentHandle, scrollContentRef} = props;\n\n\t// Hooks\n\n\tconst instance = {itemRefs, scrollContainerRef, scrollContentHandle, scrollContentRef};\n\n\tconst {\n\t\tcalculatePositionOnFocus,\n\t\tfocusByIndex,\n\t\tfocusOnNode,\n\t\tgetScrollBounds,\n\t\thandlePlaceholderFocus,\n\t\thandleRestoreLastFocus,\n\t\tpauseSpotlight,\n\t\tsetContainerDisabled,\n\t\tsetLastFocusedNode,\n\t\tshouldPreventScrollByFocus,\n\t\tupdateStatesAndBounds\n\t} = useSpottable(props, instance);\n\n\tusePreventScroll(props, instance);\n\n\tconst handle = {\n\t\tcalculatePositionOnFocus,\n\t\tfocusByIndex,\n\t\tfocusOnNode,\n\t\tgetScrollBounds,\n\t\tpauseSpotlight,\n\t\tsetContainerDisabled,\n\t\tsetLastFocusedNode,\n\t\tshouldPreventScrollByFocus\n\t};\n\n\tprops.setThemeScrollContentHandle(handle);\n\n\t// Render\n\n\tconst {itemRenderer, ...rest} = props;\n\n\tdelete rest.focusableScrollbar;\n\tdelete rest.scrollAndFocusScrollbarButton;\n\tdelete rest.scrollContainerContainsDangerously;\n\tdelete rest.scrollContainerHandle;\n\tdelete rest.scrollContainerRef;\n\tdelete rest.scrollContentHandle;\n\tdelete rest.spotlightId;\n\tdelete rest.wrap;\n\n\treturn {\n\t\t...rest,\n\t\titemRenderer: ({index, ...itemRest}) => (\n\t\t\titemRenderer({\n\t\t\t\t...itemRest,\n\t\t\t\t[dataIndexAttribute]: index,\n\t\t\t\tindex\n\t\t\t})\n\t\t),\n\t\tplaceholderRenderer: (primary) => {\n\t\t\treturn placeholderRenderer({\n\t\t\t\thandlePlaceholderFocus,\n\t\t\t\tprimary\n\t\t\t});\n\t\t},\n\t\tonUpdateItems: handleRestoreLastFocus,\n\t\tupdateStatesAndBounds: updateStatesAndBounds\n\t};\n};\n\n/* eslint-disable enact/prop-types */\nfunction placeholderRenderer ({\n\thandlePlaceholderFocus,\n\tprimary\n}) {\n\treturn (primary ? null : (\n\t\t<SpotlightPlaceholder\n\t\t\tdata-index={0}\n\t\t\tdata-vl-placeholder\n\t\t\tkey=\"placeholder\"\n\t\t\t// a zero width/height element can't be focused by spotlight so we're giving\n\t\t\t// the placeholder a small size to ensure it is navigable\n\t\t\tonFocus={handlePlaceholderFocus}\n\t\t\tstyle={{width: 10}}\n\t\t/>\n\t));\n}\n/* eslint-enable enact/prop-types */\n\nexport default useThemeVirtualList;\nexport {\n\tuseThemeVirtualList\n};\n","/**\n * Provides Agate-themed virtual list components and behaviors.\n *\n * @module agate/VirtualList\n * @exports VirtualGridList\n * @exports VirtualList\n */\n\nimport {I18nContextDecorator} from '@enact/i18n/I18nDecorator';\nimport SpotlightContainerDecorator from '@enact/spotlight/SpotlightContainerDecorator';\nimport {ResizeContext} from '@enact/ui/Resizable';\nimport {gridListItemSizeShape, itemSizesShape, VirtualListBasic as UiVirtualListBasic} from '@enact/ui/VirtualList';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport warning from 'warning';\n\nimport useScroll from '../useScroll';\nimport Scrollbar from '../useScroll/Scrollbar';\nimport Skinnable from '../Skinnable';\n\nimport {useThemeVirtualList} from './useThemeVirtualList';\n\nconst nop = () => {};\n\n/**\n * An Agate-styled scrollable and spottable virtual list component.\n *\n * @class VirtualList\n * @memberof agate/VirtualList\n * @extends ui/VirtualList.VirtualListBasic\n * @ui\n * @public\n */\nlet VirtualList = ({itemSize, role, ...rest}) => {\n\tconst props = itemSize && itemSize.minSize ?\n\t\t{\n\t\t\titemSize: itemSize.minSize,\n\t\t\titemSizes: itemSize.size\n\t\t} :\n\t\t{\n\t\t\titemSize\n\t\t};\n\n\twarning(\n\t\t!rest.itemSizes || !rest.cbScrollTo,\n\t\t'VirtualList with `minSize` in `itemSize` prop does not support `cbScrollTo` prop'\n\t);\n\n\t// Hooks\n\n\tconst {\n\t\t// Variables\n\t\tscrollContentWrapper: ScrollContentWrapper,\n\t\tscrollContentHandle,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible,\n\n\t\t// Child Props\n\t\tresizeContextProps,\n\t\tscrollContainerProps,\n\t\tscrollInnerContainerProps,\n\t\tscrollContentWrapperProps,\n\t\tscrollContentProps,\n\t\tverticalScrollbarProps,\n\t\thorizontalScrollbarProps\n\t} = useScroll({...rest, ...props});\n\n\tconst themeScrollContentProps = useThemeVirtualList({\n\t\t...scrollContentProps,\n\t\tfocusableScrollbar: rest.focusableScrollbar,\n\t\trole\n\t});\n\n\treturn (\n\t\t<ResizeContext.Provider {...resizeContextProps}>\n\t\t\t<div {...scrollContainerProps}>\n\t\t\t\t<div {...scrollInnerContainerProps}>\n\t\t\t\t\t<ScrollContentWrapper {...scrollContentWrapperProps}>\n\t\t\t\t\t\t<UiVirtualListBasic {...themeScrollContentProps} ref={scrollContentHandle} />\n\t\t\t\t\t</ScrollContentWrapper>\n\t\t\t\t\t{isVerticalScrollbarVisible ? <Scrollbar {...verticalScrollbarProps} /> : null}\n\t\t\t\t</div>\n\t\t\t\t{isHorizontalScrollbarVisible ? <Scrollbar {...horizontalScrollbarProps} /> : null}\n\t\t\t</div>\n\t\t</ResizeContext.Provider>\n\t);\n};\n\nVirtualList.displayName = 'VirtualList';\n\nVirtualList.propTypes = /** @lends agate/VirtualList.VirtualList.prototype */ {\n\t/**\n\t * Size of an item for the VirtualList; valid value is a number generally.\n\t * For different item size, value is an object that has `minSize`\n\t * and `size` as properties.\n\t * If the direction for the list is vertical, itemSize means the height of an item.\n\t * For horizontal, it means the width of an item.\n\t *\n\t * Usage:\n\t * ```\n\t * <VirtualList itemSize={ri.scale(144)} />\n\t * ```\n\t *\n\t * @type {Number|ui/VirtualList.itemSizesShape}\n\t * @required\n\t * @public\n\t */\n\titemSize: PropTypes.oneOfType([PropTypes.number, itemSizesShape]).isRequired,\n\n\t/**\n\t * A callback function that receives a reference to the `scrollTo` feature.\n\t *\n\t * Once received, the `scrollTo` method can be called as an imperative interface.\n\t *\n\t * The `scrollTo` function accepts the following parameters:\n\t * - {position: {x, y}} - Pixel value for x and/or y position\n\t * - {align} - Where the scroll area should be aligned. Values are:\n\t *   `'left'`, `'right'`, `'top'`, `'bottom'`,\n\t *   `'topleft'`, `'topright'`, `'bottomleft'`, and `'bottomright'`.\n\t * - {index} - Index of specific item. (`0` or positive integer)\n\t *   This option is available for only `VirtualList` kind.\n\t * - {node} - Node to scroll into view\n\t * - {animate} - When `true`, scroll occurs with animation. When `false`, no\n\t *   animation occurs.\n\t * - {focus} - When `true`, attempts to focus item after scroll. Only valid when scrolling\n\t *   by `index` or `node`.\n\t * > Note: Only specify one of: `position`, `align`, `index` or `node`\n\t *\n\t * Example:\n\t * ```\n\t *\t// If you set cbScrollTo prop like below;\n\t *\tcbScrollTo: (fn) => {this.scrollTo = fn;}\n\t *\t// You can simply call like below;\n\t *\tthis.scrollTo({align: 'top'}); // scroll to the top\n\t * ```\n\t *\n\t * @type {Function}\n\t * @public\n\t */\n\tcbScrollTo: PropTypes.func,\n\n\t/**\n\t * This is set to `true` by SpotlightContainerDecorator\n\t *\n\t * @type {Boolean}\n\t * @private\n\t */\n\t'data-spotlight-container': PropTypes.bool,\n\n\t/**\n\t * `false` if the content of the list could get focus\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\t'data-spotlight-container-disabled': PropTypes.bool,\n\n\t/**\n\t * This is passed onto the wrapped component to allow\n\t * it to customize the spotlight container for its use case.\n\t *\n\t * @type {String}\n\t * @private\n\t */\n\t'data-spotlight-id': PropTypes.string,\n\n\t/**\n\t * The layout direction of the list.\n\t *\n\t * @type {('horizontal'|'vertical')}\n\t * @default 'vertical'\n\t * @public\n\t */\n\tdirection: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t/**\n\t * Allows 5-way navigation to the scrollbar controls. By default, 5-way will\n\t * not move focus to the scrollbar controls.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tfocusableScrollbar: PropTypes.bool,\n\n\t/**\n\t * Specifies how to show horizontal scrollbar.\n\t *\n\t * @type {('auto'|'visible'|'hidden')}\n\t * @default 'auto'\n\t * @public\n\t */\n\thorizontalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n\n\t/**\n\t * Unique identifier for the component.\n\t *\n\t * When defined and when the `VirtualList` is within a [Panel]{@link agate/Panels.Panel},\n\t * the `VirtualList` will store its scroll position and restore that position when returning to\n\t * the `Panel`.\n\t *\n\t * @type {String}\n\t * @public\n\t */\n\tid: PropTypes.string,\n\n\t/**\n\t * Prop to check if horizontal Scrollbar exists or not.\n\t *\n\t * @type {Boolean}\n\t * @private\n\t */\n\tisHorizontalScrollbarVisible: PropTypes.bool,\n\n\t/**\n\t * Prop to check if vertical Scrollbar exists or not.\n\t *\n\t * @type {Boolean}\n\t * @private\n\t */\n\tisVerticalScrollbarVisible: PropTypes.bool,\n\n\t/**\n\t * The array for individually sized items.\n\t *\n\t * @type {Number[]}\n\t * @private\n\t */\n\titemSizes: PropTypes.arrayOf(PropTypes.number),\n\n\t/**\n\t * Prevents scroll by wheeling on the list.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tnoScrollByWheel: PropTypes.bool,\n\n\t/**\n\t * Called when scrolling.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * It is not recommended to set this prop since it can cause performance degradation.\n\t * Use `onScrollStart` or `onScrollStop` instead.\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScroll: PropTypes.func,\n\n\t/**\n\t * Called when scroll starts.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * You can get firstVisibleIndex and lastVisibleIndex from VirtualList with `moreInfo`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStart = ({scrollLeft, scrollTop, moreInfo}) => {\n\t *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n\t *     // do something with firstVisibleIndex and lastVisibleIndex\n\t * }\n\t *\n\t * render = () => (\n\t *     <VirtualList\n\t *         ...\n\t *         onScrollStart={this.onScrollStart}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScrollStart: PropTypes.func,\n\n\t/**\n\t * Called when scroll stops.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * You can get firstVisibleIndex and lastVisibleIndex from VirtualList with `moreInfo`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStop = ({scrollLeft, scrollTop, moreInfo}) => {\n\t *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n\t *     // do something with firstVisibleIndex and lastVisibleIndex\n\t * }\n\t *\n\t * render = () => (\n\t *     <VirtualList\n\t *         ...\n\t *         onScrollStop={this.onScrollStop}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScrollStop: PropTypes.func,\n\n\t/**\n\t * When `true`, the list will scroll by page. Otherwise the list will scroll by item.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\tpageScroll: PropTypes.bool,\n\n\t/**\n\t * Specifies preventing keydown events from bubbling up to applications.\n\t * Valid values are `'none'`, and `'programmatic'`.\n\t *\n\t * When it is `'none'`, every keydown event is bubbled.\n\t * When it is `'programmatic'`, an event bubbling is not allowed for a keydown input\n\t * which invokes programmatic spotlight moving.\n\t *\n\t * @type {String}\n\t * @default 'programmatic'\n\t * @private\n\t */\n\tpreventBubblingOnKeyDown: PropTypes.oneOf(['none', 'programmatic']),\n\n\t/**\n\t * The ARIA role for the list.\n\t *\n\t * @type {String}\n\t * @default 'list'\n\t * @public\n\t */\n\trole: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the next button in the vertical scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll down')\n\t * @public\n\t */\n\tscrollDownAriaLabel: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the previous button in the horizontal scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll left')\n\t * @public\n\t */\n\tscrollLeftAriaLabel: PropTypes.string,\n\n\t/**\n\t * Specifies how to scroll.\n\t *\n\t * Valid values are:\n\t * * `'translate'`,\n\t * * `'native'`.\n\t *\n\t * @type {String}\n\t * @default 'translate'\n\t * @public\n\t */\n\tscrollMode: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the next button in the horizontal scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll right')\n\t * @public\n\t */\n\tscrollRightAriaLabel: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the previous button in the vertical scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll up')\n\t * @public\n\t */\n\tscrollUpAriaLabel: PropTypes.string,\n\n\t/**\n\t * Spotlight Id.\n\t *\n\t * @type {String}\n\t * @private\n\t */\n\tspotlightId: PropTypes.string,\n\n\t/**\n\t * Specifies how to show vertical scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {('auto'|'visible'|'hidden')}\n\t * @default 'auto'\n\t * @public\n\t */\n\tverticalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n\n\t/**\n\t * When it's `true` and the spotlight focus cannot move to the given direction anymore by 5-way keys,\n\t * a list is scrolled with an animation to the other side and the spotlight focus moves in wraparound manner.\n\t *\n\t * When it's `'noAnimation'`, the spotlight focus moves in wraparound manner as same as when it's `true`\n\t * except that a list is scrolled without an animation.\n\t *\n\t * Valid values are:\n\t * * `false`,\n\t * * `true`, and\n\t * * `'noAnimation'`\n\t * @type {Boolean|'noAnimation'}\n\t * @default false\n\t * @public\n\t */\n\twrap: PropTypes.oneOfType([\n\t\tPropTypes.bool,\n\t\tPropTypes.oneOf(['noAnimation'])\n\t])\n};\n\nVirtualList = Skinnable(\n\tSpotlightContainerDecorator(\n\t\t{\n\t\t\toverflow: true,\n\t\t\tpreserveId: true,\n\t\t\trestrict: 'self-first'\n\t\t},\n\t\tI18nContextDecorator(\n\t\t\t{rtlProp: 'rtl'},\n\t\t\tVirtualList\n\t\t)\n\t)\n);\n\nVirtualList.defaultProps = {\n\t'data-spotlight-container-disabled': false,\n\tcbScrollTo: nop,\n\tdirection: 'vertical',\n\tfocusableScrollbar: false,\n\thorizontalScrollbar: 'auto',\n\tnoScrollByWheel: false,\n\tonScroll: nop,\n\tonScrollStart: nop,\n\tonScrollStop: nop,\n\tpageScroll: false,\n\tpreventBubblingOnKeyDown: 'programmatic',\n\trole: 'list',\n\tscrollMode: 'translate',\n\tverticalScrollbar: 'auto',\n\twrap: false\n};\n\n/**\n * An Agate-styled scrollable and spottable virtual grid list component.\n *\n * @class VirtualGridList\n * @memberof agate/VirtualList\n * @extends ui/VirtualList.VirtualListBasic\n * @ui\n * @public\n */\nlet VirtualGridList = ({role, ...rest}) => {\n\tconst {\n\t\t// Variables\n\t\tscrollContentWrapper: ScrollContentWrapper,\n\t\tscrollContentHandle,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible,\n\n\t\t// Child Props\n\t\tresizeContextProps,\n\t\tscrollContainerProps,\n\t\tscrollInnerContainerProps,\n\t\tscrollContentWrapperProps,\n\t\tscrollContentProps,\n\t\tverticalScrollbarProps,\n\t\thorizontalScrollbarProps\n\t} = useScroll(rest);\n\n\tconst themeScrollContentProps = useThemeVirtualList({\n\t\t...scrollContentProps,\n\t\tfocusableScrollbar: rest.focusableScrollbar,\n\t\trole\n\t});\n\n\treturn (\n\t\t<ResizeContext.Provider {...resizeContextProps}>\n\t\t\t<div {...scrollContainerProps}>\n\t\t\t\t<div {...scrollInnerContainerProps}>\n\t\t\t\t\t<ScrollContentWrapper {...scrollContentWrapperProps}>\n\t\t\t\t\t\t<UiVirtualListBasic {...themeScrollContentProps} ref={scrollContentHandle} />\n\t\t\t\t\t</ScrollContentWrapper>\n\t\t\t\t\t{isVerticalScrollbarVisible ? <Scrollbar {...verticalScrollbarProps} /> : null}\n\t\t\t\t</div>\n\t\t\t\t{isHorizontalScrollbarVisible ? <Scrollbar {...horizontalScrollbarProps} /> : null}\n\t\t\t</div>\n\t\t</ResizeContext.Provider>\n\t);\n};\n\nVirtualGridList.displayName = 'VirtualGridList';\n\nVirtualGridList.propTypes = /** @lends agate/VirtualList.VirtualGridList.prototype */ {\n\t/**\n\t * Size of an item for the VirtualGridList; valid value is an object that has `minWidth`\n\t * and `minHeight` as properties.\n\t *\n\t * Usage:\n\t * ```\n\t * <VirtualGridList\n\t * \titemSize={{\n\t * \t\tminWidth: ri.scale(360),\n\t * \t\tminHeight: ri.scale(540)\n\t * \t}}\n\t * />\n\t * ```\n\t *\n\t * @type {ui/VirtualList.gridListItemSizeShape}\n\t * @required\n\t * @public\n\t */\n\titemSize: gridListItemSizeShape.isRequired,\n\n\t/**\n\t * A callback function that receives a reference to the `scrollTo` feature.\n\t *\n\t * Once received, the `scrollTo` method can be called as an imperative interface.\n\t *\n\t * The `scrollTo` function accepts the following parameters:\n\t * - {position: {x, y}} - Pixel value for x and/or y position\n\t * - {align} - Where the scroll area should be aligned. Values are:\n\t *   `'left'`, `'right'`, `'top'`, `'bottom'`,\n\t *   `'topleft'`, `'topright'`, `'bottomleft'`, and `'bottomright'`.\n\t * - {index} - Index of specific item. (`0` or positive integer)\n\t *   This option is available for only `VirtualList` kind.\n\t * - {node} - Node to scroll into view\n\t * - {animate} - When `true`, scroll occurs with animation. When `false`, no\n\t *   animation occurs.\n\t * - {focus} - When `true`, attempts to focus item after scroll. Only valid when scrolling\n\t *   by `index` or `node`.\n\t * > Note: Only specify one of: `position`, `align`, `index` or `node`\n\t *\n\t * Example:\n\t * ```\n\t *\t// If you set cbScrollTo prop like below;\n\t *\tcbScrollTo: (fn) => {this.scrollTo = fn;}\n\t *\t// You can simply call like below;\n\t *\tthis.scrollTo({align: 'top'}); // scroll to the top\n\t * ```\n\t *\n\t * @type {Function}\n\t * @public\n\t */\n\tcbScrollTo: PropTypes.func,\n\n\t/**\n\t * This is set to `true` by SpotlightContainerDecorator\n\t *\n\t * @type {Boolean}\n\t * @private\n\t */\n\t'data-spotlight-container': PropTypes.bool,\n\n\t/**\n\t * `false` if the content of the list could get focus\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\t'data-spotlight-container-disabled': PropTypes.bool,\n\n\t/**\n\t * This is passed onto the wrapped component to allow\n\t * it to customize the spotlight container for its use case.\n\t *\n\t * @type {String}\n\t * @private\n\t */\n\t'data-spotlight-id': PropTypes.string,\n\n\t/**\n\t * The layout direction of the list.\n\t *\n\t * @type {('horizontal'|'vertical')}\n\t * @default 'vertical'\n\t * @public\n\t */\n\tdirection: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t/**\n\t * Allows 5-way navigation to the scrollbar controls. By default, 5-way will\n\t * not move focus to the scrollbar controls.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tfocusableScrollbar: PropTypes.bool,\n\n\t/**\n\t * Specifies how to show horizontal scrollbar.\n\t *\n\t * @type {('auto'|'visible'|'hidden')}\n\t * @default 'auto'\n\t * @public\n\t */\n\thorizontalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n\n\n\t/**\n\t * Unique identifier for the component.\n\t *\n\t * When defined and when the `VirtualGridList` is within a [Panel]{@link agate/Panels.Panel},\n\t * the `VirtualGridList` will store its scroll position and restore that position when returning to\n\t * the `Panel`.\n\t *\n\t * @type {String}\n\t * @public\n\t */\n\tid: PropTypes.string,\n\n\t/**\n\t * Prop to check if horizontal Scrollbar exists or not.\n\t *\n\t * @type {Boolean}\n\t * @private\n\t */\n\tisHorizontalScrollbarVisible: PropTypes.bool,\n\n\t/**\n\t * Prop to check if vertical Scrollbar exists or not.\n\t *\n\t * @type {Boolean}\n\t * @private\n\t */\n\tisVerticalScrollbarVisible: PropTypes.bool,\n\n\t/**\n\t * Prevents scroll by wheeling on the list.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tnoScrollByWheel: PropTypes.bool,\n\n\t/**\n\t * Called when scrolling.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * It is not recommended to set this prop since it can cause performance degradation.\n\t * Use `onScrollStart` or `onScrollStop` instead.\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScroll: PropTypes.func,\n\n\t/**\n\t * Called when scroll starts.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * You can get firstVisibleIndex and lastVisibleIndex from VirtualGridList with `moreInfo`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStart = ({scrollLeft, scrollTop, moreInfo}) => {\n\t *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n\t *     // do something with firstVisibleIndex and lastVisibleIndex\n\t * }\n\t *\n\t * render = () => (\n\t *     <VirtualGridList\n\t *         ...\n\t *         onScrollStart={this.onScrollStart}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScrollStart: PropTypes.func,\n\n\t/**\n\t * Called when scroll stops.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * You can get firstVisibleIndex and lastVisibleIndex from VirtualGridList with `moreInfo`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStop = ({scrollLeft, scrollTop, moreInfo}) => {\n\t *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n\t *     // do something with firstVisibleIndex and lastVisibleIndex\n\t * }\n\t *\n\t * render = () => (\n\t *     <VirtualGridList\n\t *         ...\n\t *         onScrollStop={this.onScrollStop}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScrollStop: PropTypes.func,\n\n\t/**\n\t * When `true`, the list will scroll by page. Otherwise the list will scroll by item.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\tpageScroll: PropTypes.bool,\n\n\t/**\n\t * Specifies preventing keydown events from bubbling up to applications.\n\t * Valid values are `'none'`, and `'programmatic'`.\n\t *\n\t * When it is `'none'`, every keydown event is bubbled.\n\t * When it is `'programmatic'`, an event bubbling is not allowed for a keydown input\n\t * which invokes programmatic spotlight moving.\n\t *\n\t * @type {String}\n\t * @default 'programmatic'\n\t * @private\n\t */\n\tpreventBubblingOnKeyDown: PropTypes.oneOf(['none', 'programmatic']),\n\n\t/**\n\t * The ARIA role for the list.\n\t *\n\t * @type {String}\n\t * @default 'list'\n\t * @public\n\t */\n\trole: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the next button in the vertical scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll down')\n\t * @public\n\t */\n\tscrollDownAriaLabel: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the previous button in the horizontal scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll left')\n\t * @public\n\t */\n\tscrollLeftAriaLabel: PropTypes.string,\n\n\t/**\n\t * Specifies how to scroll.\n\t *\n\t * Valid values are:\n\t * * `'translate'`,\n\t * * `'native'`.\n\t *\n\t * @type {String}\n\t * @default 'translate'\n\t * @public\n\t */\n\tscrollMode: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the next button in the horizontal scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll right')\n\t * @public\n\t */\n\tscrollRightAriaLabel: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the previous button in the vertical scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll up')\n\t * @public\n\t */\n\tscrollUpAriaLabel: PropTypes.string,\n\n\t/**\n\t * Spotlight Id.\n\t *\n\t * @type {String}\n\t * @private\n\t */\n\tspotlightId: PropTypes.string,\n\n\t/**\n\t * Specifies how to show vertical scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {('auto'|'visible'|'hidden')}\n\t * @default 'auto'\n\t * @public\n\t */\n\tverticalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n\n\t/**\n\t * When it's `true` and the spotlight focus cannot move to the given direction anymore by 5-way keys,\n\t * a list is scrolled with an animation to the other side and the spotlight focus moves in wraparound manner.\n\t *\n\t * When it's `'noAnimation'`, the spotlight focus moves in wraparound manner as same as when it's `true`\n\t * except that a list is scrolled without an animation.\n\t *\n\t * Valid values are:\n\t * * `false`,\n\t * * `true`, and\n\t * * `'noAnimation'`\n\t *\n\t * @type {Boolean|'noAnimation'}\n\t * @default false\n\t * @public\n\t */\n\twrap: PropTypes.oneOfType([\n\t\tPropTypes.bool,\n\t\tPropTypes.oneOf(['noAnimation'])\n\t])\n};\n\nVirtualGridList = Skinnable(\n\tSpotlightContainerDecorator(\n\t\t{\n\t\t\toverflow: true,\n\t\t\tpreserveId: true,\n\t\t\trestrict: 'self-first'\n\t\t},\n\t\tI18nContextDecorator(\n\t\t\t{rtlProp: 'rtl'},\n\t\t\tVirtualGridList\n\t\t)\n\t)\n);\n\nVirtualGridList.defaultProps = {\n\t'data-spotlight-container-disabled': false,\n\tcbScrollTo: nop,\n\tdirection: 'vertical',\n\tfocusableScrollbar: false,\n\thorizontalScrollbar: 'auto',\n\tnoScrollByWheel: false,\n\tonScroll: nop,\n\tonScrollStart: nop,\n\tonScrollStop: nop,\n\tpageScroll: false,\n\tpreventBubblingOnKeyDown: 'programmatic',\n\trole: 'list',\n\tscrollMode: 'translate',\n\tverticalScrollbar: 'auto',\n\twrap: false\n};\n\nexport default VirtualList;\nexport {\n\tVirtualGridList,\n\tVirtualList\n};\n","/**\n * A component for instantiating a section of content with a title.\n *\n * @example\n * <Heading spacing=\"none\">\n *   A Content Section Heading\n * </Heading>\n *\n * @module ui/Heading\n * @exports Heading\n */\n\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport css from './Heading.module.less';\n\n/**\n * A labeled Heading component.\n *\n * @class Heading\n * @memberof ui/Heading\n * @ui\n * @public\n */\nconst Heading = kind({\n\tname: 'ui:Heading',\n\n\tpropTypes: /** @lends ui/Heading.Heading.prototype */ {\n\t\t/**\n\t\t * The text for the label of the Heading.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `heading` - The root component class\n\t\t * * `title` - Applied when `size` is set to \"title\"\n\t\t * * `subtitle` - Applied when `size` is set to \"subtitle\"\n\t\t * * `large` - Applied when `size` is set to \"large\"\n\t\t * * `medium` - Applied when `size` is set to \"medium\"\n\t\t * * `small` - Applied when `size` is set to \"small\"\n\t\t * * `tiny` - Applied when `size` is set to \"tiny\"\n\t\t * * `largeSpacing` - Applied when `spacing` is set to \"large\"\n\t\t * * `mediumSpacing` - Applied when `spacing` is set to \"medium\"\n\t\t * * `smallSpacing` - Applied when `spacing` is set to \"small\"\n\t\t * * `noneSpacing` - Applied when `spacing` is set to \"none\"\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Set the size of this component.\n\t\t *\n\t\t * * `'title'` and `'subtitle'` are generally considered to be used only once on a given screen.\n\t\t * * `'large'`, `'medium'`, `'small'`, and `'tiny'` are typically used as section headings\n\t\t * for content on a screen, starting with `'large'` for the first tier of information\n\t\t * followed by `'medium'` for the next, and so fourth.\n\t\t *\n\t\t * If the `spacing` prop is not set (defaulting to \"auto\"), these values automatically set\n\t\t * the spacing to the correlated names.\n\t\t *\n\t\t * @type {('title'|'subtitle'|'large'|'medium'|'small'|'tiny')}\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['title', 'subtitle', 'large', 'medium', 'small', 'tiny']),\n\n\t\t/**\n\t\t * The size of the spacing around the Heading.\n\t\t *\n\t\t * These have no built-in measurements, as they are intended to be defined by the theme\n\t\t * consuming this UI element. The values correlate with customizable classes made available\n\t\t * by this component's `css` prop.\n\t\t *\n\t\t * Allowed values include:\n\t\t * * `'auto'` (default) - Lets this value be based on the `size` prop for automatic usage.\n\t\t * * `'large'` - Specifically assign the `'large'` spacing.\n\t\t * * `'medium'` - Specifically assign the `'medium'` spacing.\n\t\t * * `'small'` - Specifically assign the `'small'` spacing.\n\t\t * * `'none'` - No spacing at all. Neighboring elements will directly touch the Heading.\n\t\t *\n\t\t * @type {('auto'|'large'|'medium'|'small'|'none')}\n\t\t * @default 'auto'\n\t\t * @public\n\t\t */\n\t\tspacing: PropTypes.oneOf(['auto', 'large', 'medium', 'small', 'none'])\n\t},\n\n\tdefaultProps: {\n\t\tsize: 'medium',\n\t\tspacing: 'auto'\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'heading',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\t// This logic is intended to have the following result:\n\t\t// Apply a class for the current 'size'. Use the 'size' to determine the spacing, unless a\n\t\t// \"non-auto\" spacing value was specified.\n\t\tclassName: ({size, spacing, styler}) => styler.append(size, {[(spacing !== 'auto' ? spacing : (size || 'none')) + 'Spacing']: true}),\n\t\tTag: ({size}) => {\n\t\t\tswitch (size) {\n\t\t\t\tcase 'title':    return 'h1';\n\t\t\t\tcase 'subtitle': return 'h2';\n\t\t\t\tcase 'large':    return 'h3';\n\t\t\t\tcase 'medium':   return 'h4';\n\t\t\t\tcase 'small':    return 'h5';\n\t\t\t\tcase 'tiny':     return 'h6';\n\t\t\t}\n\t\t}\n\t},\n\n\trender: ({Tag, ...rest}) => {\n\t\tdelete rest.size;\n\t\tdelete rest.spacing;\n\n\t\treturn (\n\t\t\t<Tag {...rest} />\n\t\t);\n\t}\n});\n\nexport default Heading;\nexport {\n\tHeading\n};\n","/**\n * Agate styled labeled Heading components and behaviors\n *\n * @example\n * <Heading\n *   size=\"large\"\n *   spacing=\"small\"\n * >\n *   A Content Section Heading\n * </Heading>\n *\n * @module agate/Heading\n * @exports Heading\n * @exports HeadingBase\n * @exports HeadingDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport Pure from '@enact/ui/internal/Pure';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport UiHeading from '@enact/ui/Heading';\n\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './Heading.module.less';\n\n/**\n * A labeled Heading component.\n *\n * This component is most often not used directly but may be composed within another component as it\n * is within [Heading]{@link agate/Heading.Heading}.\n *\n * @class HeadingBase\n * @memberof agate/Heading\n * @ui\n * @public\n */\nconst HeadingBase = kind({\n\tname: 'Heading',\n\n\tpropTypes: /** @lends agate/Heading.HeadingBase.prototype */ {\n\t\t/**\n\t\t * Set a custom color to be used by the Heading when `size` is \"title\".\n\t\t * Defaults to the current accent color if none is specified.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tcolor: PropTypes.string,\n\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Adds a horizontal-rule (line) under the component\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tshowLine: PropTypes.bool,\n\n\t\t/**\n\t\t * The size of the spacing around the Heading.\n\t\t *\n\t\t * Allowed values include:\n\t\t * * `'auto'` - Value is based on the `size` prop for automatic usage.\n\t\t * * `'title'` - Specifically assign the `'title'` spacing.\n\t\t * * `'large'` - Specifically assign the `'large'` spacing.\n\t\t * * `'medium'` - Specifically assign the `'medium'` spacing.\n\t\t * * `'small'` - Specifically assign the `'small'` spacing.\n\t\t * * `'none'` - No spacing at all. Neighboring elements will directly touch the Heading.\n\t\t *\n\t\t * @type {('auto'|'title'|'large'|'medium'|'small'|'none')}\n\t\t * @default 'auto'\n\t\t * @public\n\t\t */\n\t\tspacing: PropTypes.oneOf(['auto', 'title', 'large', 'medium', 'small', 'none'])\n\t},\n\n\tdefaultProps: {\n\t\tspacing: 'auto'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'heading'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({showLine, styler}) => styler.append({showLine}),\n\t\tstyle: ({color, style}) => ({\n\t\t\t...style,\n\t\t\t'--agate-heading-accent': color\n\t\t})\n\t},\n\n\trender: ({css, ...rest}) => {\n\t\tdelete rest.color;\n\t\tdelete rest.showLine;\n\t\treturn UiHeading.inline({css, ...rest});\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [HeadingBase]{@link agate/Heading.HeadingBase}.\n *\n * @hoc\n * @memberof agate/Heading\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst HeadingDecorator = compose(\n\tPure,\n\tSkinnable\n);\n\n/**\n * A labeled Heading component, ready to use in Agate applications.\n *\n * `Heading` may be used as a header to group related components.\n *\n * Usage:\n * ```\n * <Heading\n *   spacing=\"medium\"\n * >\n *   Related Settings\n * </Heading>\n * <CheckboxItem>A Setting</CheckboxItem>\n * <CheckboxItem>A Second Setting</CheckboxItem>\n * ```\n *\n * @class Heading\n * @memberof agate/Heading\n * @extends agate/Heading.HeadingBase\n * @mixes agate/Heading.HeadingDecorator\n * @ui\n * @public\n */\nconst Heading = HeadingDecorator(HeadingBase);\n\nexport default Heading;\nexport {\n\tHeading,\n\tHeadingBase,\n\tHeadingDecorator\n};\n","/* global ILIB_AGATE_PATH */\n\nimport {getIStringFromBundle} from '@enact/i18n/src/resBundle';\nimport ResBundle from 'ilib/lib/ResBundle';\n\n// The ilib.ResBundle for the active locale used by $L\nlet resBundle;\n\n/**\n * Returns the current ilib.ResBundle\n *\n * @returns {ilib.ResBundle} Current ResBundle\n */\nfunction getResBundle () {\n\treturn resBundle;\n}\n\n/**\n * Creates a new ilib.ResBundle for string translation\n *\n * @param  {ilib.Locale} locale Locale for ResBundle\n *\n * @returns {Promise|ResBundle} Resolves with a new ilib.ResBundle\n */\nfunction createResBundle (options = {}) {\n\tlet opts = options;\n\n\tif (typeof ILIB_AGATE_PATH !== 'undefined') {\n\t\topts.basePath = ILIB_AGATE_PATH;\n\t}\n\n\tif (!opts.onLoad) return;\n\n\t// eslint-disable-next-line no-new\n\tnew ResBundle({\n\t\t...opts,\n\t\tonLoad: (bundle) => {\n\t\t\topts.onLoad(bundle || null);\n\t\t}\n\t});\n}\n\n/**\n * Deletes the current bundle object of strings and clears the cache.\n * @returns {undefined}\n */\nfunction clearResBundle () {\n\tdelete ResBundle.strings;\n\tdelete ResBundle.sysres;\n\tresBundle = null;\n}\n\n/**\n * Set the locale for the strings that $L loads. This may reload the\n * string resources if necessary.\n *\n * @param {string} spec the locale specifier\n * @returns {ilib.ResBundle} Current ResBundle\n */\nfunction setResBundle (bundle) {\n\treturn (resBundle = bundle);\n}\n\nfunction toIString (str) {\n\tlet rb = getResBundle();\n\n\tif (!rb) {\n\t\tcreateResBundle({sync: true, onLoad: setResBundle});\n\t\trb = getResBundle();\n\t}\n\n\treturn getIStringFromBundle(str, rb);\n}\n\n/**\n * Maps a string or key/value object to a translated string for the current locale.\n *\n * @function\n * @memberof i18n/$L\n * @param  {String|Object} str Source string\n *\n * @returns {String} The translated string\n */\nfunction $L (str) {\n\treturn String(toIString(str));\n}\n\nexport default $L;\nexport {\n\t$L,\n\tclearResBundle,\n\tcreateResBundle,\n\tsetResBundle\n};\n","import React from 'react';\nimport warning from 'warning';\n\n// ** WARNING ** This is an intentional but likely dangerous hack necessary to clone a child while\n// omitting the `slot` property. It relies on the black box structure of a React element which could\n// change breaking this code. Without it, the slot property will cascade to a DOM node causing a\n// React warning.\nfunction cloneElement (child, index) {\n\tconst newProps = Object.assign({}, child.props);\n\tdelete newProps.slot;\n\tnewProps.key = `slot-${index}`;\n\n\treturn React.createElement(child.type, newProps);\n}\n\nfunction distributeChild (child, index, slots, props) {\n\tlet c, slot;\n\tconst hasSlot = (name) => slots.indexOf(name) !== -1;\n\n\tif (!React.isValidElement(child)) {\n\t\treturn false;\n\t} else if (child.props.slot) {\n\t\tconst hasUserSlot = hasSlot(slot = child.props.slot);\n\t\twarning(hasUserSlot, 'The slot \"%s\" specified on %s does not exist', child.props.slot,\n\t\t\ttypeof child.type === 'string' ? child.type : (child.type.name || child.type.displayName || 'component')\n\t\t);\n\n\t\tif (hasUserSlot) {\n\t\t\tc = cloneElement(child, index);\n\t\t}\n\t} else if (hasSlot(slot = child.type.defaultSlot)) {\n\t\tc = child;\n\t} else if (hasSlot(slot = child.type)) {\n\t\tconst propNames = Object.keys(child.props);\n\t\tif (propNames.length === 1 && propNames[0] === 'children') {\n\t\t\tc = child.props.children;\n\t\t} else {\n\t\t\tc = child;\n\t\t}\n\t}\n\n\tif (c) {\n\t\tlet prop = props[slot];\n\t\tif (prop) {\n\t\t\tif (Array.isArray(prop)) {\n\t\t\t\tprop.push(c);\n\t\t\t} else {\n\t\t\t\tprop = [prop, c];\n\t\t\t}\n\t\t} else {\n\t\t\tprop = c;\n\t\t}\n\t\tprops[slot] = prop;\n\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n\nfunction distribute ({children, ...slots}) {\n\tconst slotNames = Object.keys(slots);\n\tconst props = {\n\t\tchildren\n\t};\n\n\tif (slotNames.length > 0) {\n\t\tconst remaining = [];\n\t\tReact.Children.forEach(children, (child, index) => {\n\t\t\tif (!distributeChild(child, index, slotNames, props)) {\n\t\t\t\tremaining.push(child);\n\t\t\t}\n\t\t});\n\n\t\t// we need to retain the children prop so that it can overwrite the value from props if the\n\t\t// author spreads the return of useSlots over props\n\t\tprops.children = remaining.length === 0 ? null : remaining;\n\t}\n\n\tslotNames.forEach(slot => {\n\t\tif (slots[slot] === undefined) { // eslint-disable-line no-undefined\n\t\t\tdelete slots[slot];\n\t\t}\n\t});\n\n\t// We handle fallback here (rather than at the props initialization) because distributeChild\n\t// will append to existing props and we want the distributed value to override the fallback\n\t// value.\n\treturn {\n\t\t...slots,\n\t\t...props\n\t};\n}\n\n/**\n * Configuration for `useSlots`\n *\n * @typedef {Object} useSlotsConfig\n * @memberof ui/Slottable\n * @property {Object} [slots] An object mapping slot names to default values. It must contain a\n *                            `children` key with an array of elements to be distributed into slots.\n * @private\n */\n\n/**\n * Distributes `children` into the configured `slots`.\n *\n * `useSlots` iterates over all of the `children` in `props` and distributes any children based on\n * the followig rules:\n *\n * * If the child has a `slot` property matching a valid slot, or\n * * If the component for the child has the `defaultSlot` static member matching a valid slot, or\n * * If the child component's type is a string matching a valid slot.\n *\n * When a child matches one of the above rules, it is removed from children and inserted into a prop\n * matching the name of the slot.\n *\n * *Special Conditions*\n *\n * * If multiple children match the same slot, the destination prop will be an array of children.\n * * If a value exists on `props` but not as a slot within `children`, the prop value is used as a\n *   fallback.\n * * If a value exists both on `props` and as a slot within `children`, the slot value(s) replaces\n *   the prop value.\n *\n * ```\n * function Component ({after, before, children, label, ...rest}) {\n *   const slots = useSlots({after, before, children, label});\n *\n *   return (\n *     <div {...rest} aria-label={label}>\n *       <span class=\"before\">{slots.before}</span>\n *       {slots.children}\n *       <span class=\"after\">{slots.after}</span>\n *     </div>\n *   );\n * }\n *\n * <Component label=\"descriptive label\">\n *   <Icon slot=\"before\">star</Icon>\n *   Some other content\n *   <Icon slot=\"after\">flag</Icon>\n * </Component>\n * ```\n *\n * @param {useSlotsConfig} config Configuration options\n * @returns {Object} A object whose keys are the slot names and values are the nodes from\n *                   `children`. If any nodes were not assigned to a slot, they will be returned in\n *                   the `children` prop. If no nodes remain, the `children` prop will be omitted.\n * @memberof ui/Slottable\n * @private\n */\nfunction useSlots (slots) {\n\treturn distribute(slots);\n}\n\nexport default useSlots;\nexport {\n\tuseSlots\n};\n","/**\n * Provides a higher-order component that render child components into pre-designated slots.\n *\n * See [SlotItem]{@link ui/SlotItem.SlotItemDecorator} for the use of `Slottable`.\n *\n * @module ui/Slottable\n * @exports Slottable\n */\n\nimport hoc from '@enact/core/hoc';\nimport React from 'react';\n\nimport useSlots from './useSlots';\n\n/**\n * Default config for `Slottable`.\n *\n * @memberof ui/Slottable.Slottable\n * @hocconfig\n * @public\n */\nconst defaultConfig = {\n\t/**\n\t * Array of slot names which will be extracted from `children` and distributed to props.\n\t *\n\t * @type {String[]}\n\t * @memberof ui/Slottable.Slottable.defaultConfig\n\t */\n\tslots: null\n};\n\n/**\n * A higher-order component that allows wrapped components to separate children into pre-designated 'slots'.\n *\n * To use `Slottable`, you must configure it by passing in a config object with the `slots` member set to an\n * array of slot names.  Any children whose `slot` or `defaultSlot` property matches a named slot or whose\n * type matches a named slot will be placed into a property of the same name on the wrapped component.\n *\n * @class Slottable\n * @memberof ui/Slottable\n * @hoc\n * @public\n */\nconst Slottable = hoc(defaultConfig, (config, Wrapped) => {\n\tconst slots = config.slots;\n\n\t// eslint-disable-next-line no-shadow\n\treturn function Slottable (props) {\n\t\t// extract the slots into a new object but populating the default value to be undefined so\n\t\t// the key exists in order to allow the current \"harmful\" behavior below. Must be undefined\n\t\t// in order to trigger defaultProps on downstream components.\n\t\tconst slotProps = {children: props.children};\n\t\tslots.forEach(k => (slotProps[k] = undefined)); // eslint-disable-line no-undefined\n\n\t\t// Slottable allows there to be other values in the destination slot and merges them.\n\t\t// However, consumers can't avoid key warnings when merging the two lists so we should\n\t\t// \"consider this harmful\" and not continue to support this with the hook and instead\n\t\t// encourage using the slot as the default with the prop as a fallback as implemented by the\n\t\t// hook.\n\t\tconst distributed = useSlots(slotProps);\n\t\tslots.forEach(slot => {\n\t\t\tconst dist = distributed[slot];\n\t\t\tconst prop = props[slot];\n\t\t\tif (prop != null && dist != null) {\n\t\t\t\tdistributed[slot] = [].concat(prop, dist);\n\t\t\t} else if (prop != null) {\n\t\t\t\tdistributed[slot] = prop;\n\t\t\t}\n\t\t});\n\n\t\treturn (\n\t\t\t<Wrapped {...props} {...distributed} />\n\t\t);\n\t};\n});\n\nexport default Slottable;\nexport {\n\tSlottable,\n\tuseSlots\n};\n","/*\n * A javascript-based implementation of Spatial Navigation.\n *\n * Copyright (c) 2016 Luke Chang.\n * https://github.com/luke-chang/js-spatial-navigation\n *\n * Licensed under the MPL license.\n */\n\n/**\n * Exports the {@link spotlight.Spotlight} object used for controlling spotlight behavior and the\n * {@link spotlight.Spotlight.getDirection} function for mapping a keycode to a spotlight direction.\n *\n * The default export is {@link spotlight.Spotlight}.\n *\n * @module spotlight\n * @exports default Spotlight\n * @exports getDirection\n */\n\nimport {is} from '@enact/core/keymap';\nimport {isWindowReady} from '@enact/core/snapshot';\nimport platform from '@enact/core/platform';\nimport last from 'ramda/src/last';\n\nimport Accelerator from '../Accelerator';\nimport {spottableClass} from '../Spottable';\nimport {isPaused, pause, resume} from '../Pause';\nimport {contains} from './utils';\n\nimport {\n\taddContainer,\n\tconfigureContainer,\n\tconfigureDefaults,\n\tgetAllContainerIds,\n\tgetContainerConfig,\n\tgetContainerId,\n\tgetContainerLastFocusedElement,\n\tgetContainerNode,\n\tgetContainersForNode,\n\tgetLastContainer,\n\tgetSpottableDescendants,\n\tisContainer,\n\tisContainer5WayHoldable,\n\tisNavigable,\n\tisWithinOverflowContainer,\n\tmayActivateContainer,\n\tnotifyLeaveContainer,\n\tnotifyLeaveContainerFail,\n\tnotifyEnterContainer,\n\tremoveAllContainers,\n\tremoveContainer,\n\trootContainerId,\n\tsetContainerLastFocusedElement,\n\tsetContainerPreviousTarget,\n\tsetDefaultContainer,\n\tsetLastContainer,\n\tsetLastContainerFromTarget,\n\tunmountContainer\n} from './container';\n\nimport {\n\tgetLastPointerPosition,\n\tgetPointerMode,\n\thasPointerMoved,\n\tnotifyKeyDown,\n\tnotifyPointerMove,\n\tsetPointerMode\n} from './pointer';\n\nimport {\n\tgetNavigableTarget,\n\tgetNearestTargetFromPosition,\n\tgetTargetByContainer,\n\tgetTargetByDirectionFromElement,\n\tgetTargetByDirectionFromPosition,\n\tgetTargetBySelector,\n\tisFocusable\n} from './target';\n\nimport {\n\tmatchSelector,\n\tparseSelector\n} from './utils';\n\nconst isDown = is('down');\nconst isEnter = is('enter');\nconst isLeft = is('left');\nconst isRight = is('right');\nconst isUp = is('up');\n\n/**\n * Translates keyCodes into 5-way direction descriptions (e.g. `'down'`)\n *\n * @function\n * @memberof spotlight\n * @param {Number} keyCode - Key code to analyze\n * @returns {String|false} - One of `'up'`, `'down'`, `'left'`, `'right'` or `false` if not a direction key\n * @public\n */\nconst getDirection = function (keyCode) {\n\treturn\tisDown(keyCode) && 'down' ||\n\t\t\tisLeft(keyCode) && 'left' ||\n\t\t\tisRight(keyCode) && 'right' ||\n\t\t\tisUp(keyCode) && 'up';\n};\n\n\nconst SpotlightAccelerator = new Accelerator();\n\n/**\n * Provides 5-way navigation and focus support\n *\n * ```\n * import Spotlight from '@enact/Spotlight';\n *\n * // get the currently focused component\n * const current = Spotlight.getCurrent();\n *\n * // focus an element by CSS selector\n * Spotlight.focus('.my-custom-class');\n *\n * // is `current` focusable?\n * const isFocused = Spotlight.isSpottable(current);\n * ```\n *\n * @type {Object}\n * @memberof spotlight\n * @public\n */\nconst Spotlight = (function () {\n\t'use strict';\n\n\t/*\n\t/* private vars\n\t*/\n\tlet _initialized = false;\n\tlet _duringFocusChange = false;\n\n\t/*\n\t * Whether a 5-way directional key is being held.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t */\n\tlet _5WayKeyHold = false;\n\n\t/*\n\t * Whether to set focus during the next window focus event\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t */\n\tlet _spotOnWindowFocus = false;\n\n\t/*\n\t * `true` when a pointer move event occurs during a keypress. Used to short circuit key down\n\t * handling until the next keyup occurs.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t */\n\tlet _pointerMoveDuringKeyPress = false;\n\n\t/*\n\t* protected methods\n\t*/\n\n\tfunction preventDefault (evt) {\n\t\tevt.preventDefault();\n\t\tevt.stopPropagation();\n\t\treturn false;\n\t}\n\n\tfunction shouldPreventNavigation () {\n\t\treturn isPaused() || getAllContainerIds().length === 0;\n\t}\n\n\tfunction getCurrent () {\n\t\tif (!isWindowReady()) return;\n\n\t\tlet activeElement = document.activeElement;\n\t\tif (activeElement && activeElement !== document.body) {\n\t\t\treturn activeElement;\n\t\t}\n\t}\n\n\t// An extension point for updating pointer mode based on the current platform.\n\t// Currently only webOS\n\tfunction setPlatformPointerMode () {\n\t\tconst palmSystem = window.PalmSystem;\n\t\tif (palmSystem && palmSystem.cursor) {\n\t\t\tsetPointerMode(palmSystem.cursor.visibility);\n\t\t}\n\t}\n\n\tfunction focusElement (elem, containerIds, fromPointer) {\n\t\tif (!elem) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif ((getPointerMode() && !fromPointer)) {\n\t\t\tsetContainerLastFocusedElement(elem, containerIds);\n\t\t\treturn false;\n\t\t}\n\n\t\tlet currentFocusedElement = getCurrent();\n\n\t\tif (elem === currentFocusedElement) {\n\t\t\treturn true;\n\t\t}\n\n\t\tconst focusOptions = isWithinOverflowContainer(elem, containerIds) ? {preventScroll: true} : null;\n\n\t\tlet silentFocus = function () {\n\t\t\telem.focus(focusOptions);\n\t\t\tfocusChanged(elem, containerIds);\n\t\t};\n\n\t\tif (_duringFocusChange) {\n\t\t\tsilentFocus();\n\t\t\treturn true;\n\t\t}\n\n\t\t_duringFocusChange = true;\n\n\t\tif (isPaused()) {\n\t\t\tsilentFocus();\n\t\t\t_duringFocusChange = false;\n\t\t\treturn true;\n\t\t}\n\n\t\telem.focus(focusOptions);\n\n\t\t_duringFocusChange = false;\n\n\t\tfocusChanged(elem, containerIds);\n\t\treturn true;\n\t}\n\n\tfunction focusChanged (elem, containerIds) {\n\t\tif (!containerIds || !containerIds.length) {\n\t\t\tcontainerIds = getContainersForNode(elem);\n\t\t}\n\t\tconst containerId = last(containerIds);\n\t\tif (containerId) {\n\t\t\tsetContainerLastFocusedElement(elem, containerIds);\n\t\t\tsetLastContainer(containerId);\n\t\t}\n\n\t\tif (__DEV__) {\n\t\t\tassignFocusPreview(elem);\n\t\t}\n\t}\n\n\tfunction restoreFocus () {\n\t\tconst lastContainerId = getLastContainer();\n\t\tlet next;\n\n\t\tif (lastContainerId) {\n\t\t\tconst position = getLastPointerPosition();\n\n\t\t\t// walk up the chain of containers from the last to attempt to find a target\n\t\t\tnext = getContainersForNode(getContainerNode(lastContainerId)).reverse();\n\n\t\t\t// only prepend last focused if it exists so that Spotlight.focus() doesn't receive\n\t\t\t// a falsy target\n\t\t\tlet lastFocusedElement = getContainerLastFocusedElement(lastContainerId);\n\n\t\t\twhile (isContainer(lastFocusedElement)) {\n\t\t\t\t({lastFocusedElement} = getContainerConfig(lastFocusedElement));\n\t\t\t}\n\n\t\t\tconst lastContainerNode = getContainerNode(lastContainerId);\n\n\t\t\tif (!lastFocusedElement || (lastContainerNode.getBoundingClientRect && lastFocusedElement.getBoundingClientRect && !contains(lastContainerNode.getBoundingClientRect(), lastFocusedElement.getBoundingClientRect()))) {\n\t\t\t\tlastFocusedElement = getContainerConfig(lastContainerId).overflow && getNearestTargetFromPosition(position, lastContainerId);\n\t\t\t}\n\n\t\t\tif (lastFocusedElement) {\n\t\t\t\tnext.unshift(lastFocusedElement);\n\t\t\t}\n\t\t} else {\n\t\t\tnext = [rootContainerId];\n\t\t}\n\n\t\t// attempt to find a target starting with the last focused element in the last\n\t\t// container, followed by the last container, and finally the root container\n\t\treturn next.reduce((focused, target) => focused || Spotlight.focus(target), false);\n\t}\n\n\t// The below should be gated on non-production environment only.\n\tfunction assignFocusPreview (elem) {\n\t\tconst directions = ['up', 'right', 'down', 'left'],\n\t\t\tnextClassBase = spottableClass + '-next-';\n\n\t\t// Remove all previous targets\n\t\tdirections.forEach((dir) => {\n\t\t\tconst nextClass = nextClassBase + dir,\n\t\t\t\tprevElems = parseSelector('.' + nextClass);\n\t\t\tif (prevElems && prevElems.length !== 0) {\n\t\t\t\tprevElems.forEach(prevElem => prevElem.classList.remove(nextClass));\n\t\t\t}\n\t\t});\n\n\t\t// Find all next targets and identify them\n\t\tdirections.forEach((dir) => {\n\t\t\tconst nextElem = getTargetByDirectionFromElement(dir, elem);\n\t\t\tif (nextElem) {\n\t\t\t\tnextElem.classList.add(nextClassBase + dir);\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction spotNextFromPoint (direction, position) {\n\t\tconst containerId = Spotlight.getActiveContainer();\n\t\tconst next = getTargetByDirectionFromPosition(direction, position, containerId);\n\n\t\tif (next) {\n\t\t\tsetContainerPreviousTarget(\n\t\t\t\tcontainerId,\n\t\t\t\tdirection,\n\t\t\t\tnext,\n\t\t\t\tgetContainerLastFocusedElement(containerId)\n\t\t\t);\n\n\t\t\treturn focusElement(next, getContainersForNode(next));\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tfunction spotNext (direction, currentFocusedElement, currentContainerIds) {\n\t\tconst next = getTargetByDirectionFromElement(direction, currentFocusedElement);\n\n\t\tif (next) {\n\t\t\tconst currentContainerId = last(currentContainerIds);\n\t\t\tconst nextContainerIds = getContainersForNode(next);\n\n\t\t\t// prevent focus if 5-way is being held and the next element isn't wrapped by\n\t\t\t// the current element's immediate container\n\t\t\tif (_5WayKeyHold && nextContainerIds.indexOf(currentContainerId) < 0 && !isContainer5WayHoldable(currentContainerId)) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tnotifyLeaveContainer(\n\t\t\t\tdirection,\n\t\t\t\tcurrentFocusedElement,\n\t\t\t\tcurrentContainerIds,\n\t\t\t\tnext,\n\t\t\t\tnextContainerIds\n\t\t\t);\n\n\t\t\tsetContainerPreviousTarget(\n\t\t\t\tcurrentContainerId,\n\t\t\t\tdirection,\n\t\t\t\tnext,\n\t\t\t\tcurrentFocusedElement\n\t\t\t);\n\n\t\t\tconst focused = focusElement(next, nextContainerIds);\n\n\t\t\tnotifyEnterContainer(\n\t\t\t\tdirection,\n\t\t\t\tcurrentFocusedElement,\n\t\t\t\tcurrentContainerIds,\n\t\t\t\tnext,\n\t\t\t\tnextContainerIds\n\t\t\t);\n\n\t\t\treturn focused;\n\t\t}\n\n\t\tnotifyLeaveContainerFail(direction, currentFocusedElement, currentContainerIds);\n\n\t\treturn false;\n\t}\n\n\tfunction onAcceleratedKeyDown (evt) {\n\t\tconst direction = getDirection(evt.keyCode);\n\n\t\tif (!direction) return;\n\n\t\tconst currentFocusedElement = getCurrent();\n\t\tconst currentContainerIds = getContainersForNode(currentFocusedElement);\n\n\t\tspotNext(direction, currentFocusedElement, currentContainerIds);\n\t}\n\n\tfunction onBlur () {\n\t\tconst current = getCurrent();\n\n\t\tif (current) {\n\t\t\tcurrent.blur();\n\t\t}\n\t\tSpotlight.setPointerMode(false);\n\t\t_spotOnWindowFocus = true;\n\t\t_pointerMoveDuringKeyPress = false;\n\t}\n\n\tfunction handleWebOSMouseEvent (ev) {\n\t\tif (!isPaused() && ev && ev.detail && ev.detail.type === 'Leave') {\n\t\t\tonBlur();\n\t\t}\n\t}\n\n\tfunction handleKeyboardStateChangeEvent ({visibility}) {\n\t\tif (!visibility) {\n\t\t\tsetPlatformPointerMode();\n\t\t}\n\t}\n\n\tfunction onFocus () {\n\t\t// Normally, there isn't focus here unless the window has been blurred above. On webOS, the\n\t\t// platform may focus the window after the app has already focused a component so we prevent\n\t\t// trying to focus something else (potentially) unless the window was previously blurred\n\t\tif (_spotOnWindowFocus) {\n\t\t\tsetPlatformPointerMode();\n\n\t\t\t// If the window was previously blurred while in pointer mode, the last active containerId may\n\t\t\t// not have yet set focus to its spottable elements. For this reason we can't rely on setting focus\n\t\t\t// to the last focused element of the last active containerId, so we use rootContainerId instead\n\t\t\tlet lastFocusedElement = getContainerLastFocusedElement(rootContainerId);\n\t\t\twhile (isContainer(lastFocusedElement)) {\n\t\t\t\t({lastFocusedElement} = getContainerConfig(lastFocusedElement));\n\t\t\t}\n\n\t\t\tif (!Spotlight.focus(lastFocusedElement)) {\n\t\t\t\t// If the last focused element was previously also disabled (or no longer exists), we\n\t\t\t\t// need to set focus somewhere\n\t\t\t\tSpotlight.focus();\n\t\t\t}\n\t\t\t_spotOnWindowFocus = false;\n\t\t}\n\t}\n\n\tfunction onKeyUp (evt) {\n\t\t_pointerMoveDuringKeyPress = false;\n\t\tconst keyCode = evt.keyCode;\n\n\t\tif (getDirection(keyCode) || isEnter(keyCode)) {\n\t\t\tSpotlightAccelerator.reset();\n\t\t\t_5WayKeyHold = false;\n\t\t}\n\t}\n\n\tfunction handlePointerHide () {\n\t\tif (!getCurrent()) {\n\t\t\trestoreFocus();\n\t\t}\n\t}\n\n\tfunction onKeyDown (evt) {\n\t\tif (shouldPreventNavigation()) {\n\t\t\tnotifyKeyDown(evt.keyCode);\n\t\t\treturn;\n\t\t}\n\n\t\tconst keyCode = evt.keyCode;\n\t\tconst direction = getDirection(keyCode);\n\t\tconst pointerHandled = notifyKeyDown(keyCode, handlePointerHide);\n\n\t\tif (pointerHandled || !(direction || isEnter(keyCode))) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!isPaused() && !_pointerMoveDuringKeyPress) {\n\t\t\tif (getCurrent()) {\n\t\t\t\tSpotlightAccelerator.processKey(evt, onAcceleratedKeyDown);\n\t\t\t} else if (!spotNextFromPoint(direction, getLastPointerPosition())) {\n\t\t\t\trestoreFocus();\n\t\t\t}\n\t\t\t_5WayKeyHold = true;\n\t\t}\n\n\t\tif (direction) {\n\t\t\tpreventDefault(evt);\n\t\t}\n\t}\n\n\tfunction onMouseMove ({target, clientX, clientY}) {\n\t\tif (shouldPreventNavigation()) {\n\t\t\tnotifyPointerMove(null, target, clientX, clientY);\n\t\t\treturn;\n\t\t}\n\n\t\tconst current = getCurrent();\n\t\tconst update = notifyPointerMove(current, target, clientX, clientY);\n\n\t\tif (update) {\n\t\t\tif (_5WayKeyHold) {\n\t\t\t\t_pointerMoveDuringKeyPress = true;\n\t\t\t}\n\n\t\t\tconst next = getNavigableTarget(target);\n\n\t\t\t// TODO: Consider encapsulating this work within focusElement\n\t\t\tif (next !== current) {\n\t\t\t\tif (next) {\n\t\t\t\t\tfocusElement(next, getContainersForNode(next), true);\n\n\t\t\t\t\treturn true;\n\t\t\t\t} else if (current) {\n\t\t\t\t\tcurrent.blur();\n\t\t\t\t\tsetLastContainerFromTarget(current, target);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction onMouseOver (evt) {\n\t\tif (shouldPreventNavigation()) return;\n\n\t\tconst {target} = evt;\n\n\t\tif (getPointerMode() && hasPointerMoved(evt.clientX, evt.clientY)) {\n\t\t\tconst next = getNavigableTarget(target); // account for child controls\n\n\t\t\tif (next && next !== getCurrent()) {\n\t\t\t\tfocusElement(next, getContainersForNode(next), true);\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tpreventDefault(evt);\n\t\t}\n\t}\n\n\tfunction onTouchEnd (evt) {\n\t\tconst current = getCurrent();\n\t\tif (current && !current.contains(evt.target)) {\n\t\t\tcurrent.blur();\n\t\t}\n\t}\n\n\t/*\n\t * public methods\n\t */\n\tconst exports = /** @lends spotlight.Spotlight */ { // eslint-disable-line no-shadow\n\t\t/**\n\t\t * Initializes Spotlight. This is generally handled by\n\t\t * {@link spotlight/SpotlightRootDecorator.SpotlightRootDecorator}.\n\t\t *\n\t\t * @param {Object} containerDefaults Default configuration for new spotlight containers\n\t\t * @returns {undefined}\n\t\t * @public\n\t\t */\n\t\tinitialize: function (containerDefaults) {\n\t\t\tif (!_initialized) {\n\t\t\t\twindow.addEventListener('blur', onBlur);\n\t\t\t\twindow.addEventListener('focus', onFocus);\n\t\t\t\twindow.addEventListener('keydown', onKeyDown);\n\t\t\t\twindow.addEventListener('keyup', onKeyUp);\n\t\t\t\twindow.addEventListener('mouseover', onMouseOver);\n\t\t\t\twindow.addEventListener('mousemove', onMouseMove);\n\n\t\t\t\tif (platform.touch) {\n\t\t\t\t\twindow.addEventListener('touchend', onTouchEnd);\n\t\t\t\t}\n\n\t\t\t\tif (platform.webos) {\n\t\t\t\t\twindow.top.document.addEventListener('webOSMouse', handleWebOSMouseEvent);\n\t\t\t\t\twindow.top.document.addEventListener('keyboardStateChange', handleKeyboardStateChangeEvent);\n\t\t\t\t}\n\n\t\t\t\tsetLastContainer(rootContainerId);\n\t\t\t\tconfigureDefaults(containerDefaults);\n\t\t\t\tconfigureContainer(rootContainerId);\n\t\t\t\t// by default, pointer mode is off but the platform's current state will override that\n\t\t\t\tsetPointerMode(false);\n\t\t\t\tsetPlatformPointerMode();\n\t\t\t\t_initialized = true;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Terminates Spotlight. This is generally handled by {@link spotlight.SpotlightRootDecorator}.\n\t\t *\n\t\t * @public\n\t\t */\n\t\tterminate: function () {\n\t\t\twindow.removeEventListener('blur', onBlur);\n\t\t\twindow.removeEventListener('focus', onFocus);\n\t\t\twindow.removeEventListener('keydown', onKeyDown);\n\t\t\twindow.removeEventListener('keyup', onKeyUp);\n\t\t\twindow.removeEventListener('mouseover', onMouseOver);\n\t\t\twindow.removeEventListener('mousemove', onMouseMove);\n\n\t\t\tif (platform.touch) {\n\t\t\t\twindow.removeEventListener('touchend', onTouchEnd);\n\t\t\t}\n\n\t\t\tif (platform.webos) {\n\t\t\t\twindow.top.document.removeEventListener('webOSMouse', handleWebOSMouseEvent);\n\t\t\t\twindow.top.document.removeEventListener('keyboardStateChange', handleKeyboardStateChangeEvent);\n\t\t\t}\n\t\t\tSpotlight.clear();\n\t\t\t_initialized = false;\n\t\t},\n\n\t\t/**\n\t\t * Resets spotlight container information\n\t\t *\n\t\t * @private\n\t\t */\n\t\tclear: function () {\n\t\t\tremoveAllContainers();\n\t\t\tsetDefaultContainer();\n\t\t\tsetLastContainer();\n\t\t\t_duringFocusChange = false;\n\t\t},\n\n\t\t// set(<config>);\n\t\t// set(<containerId>, <config>);\n\t\t/**\n\t\t * Sets the config for spotlight or the specified containerID\n\t\t *\n\t\t * @function\n\t\t * @param {String|Object} containerIdOrConfig  Configuration object or container ID\n\t\t * @param {Object}        [config]             Configuration object if container ID supplied\n\t\t *                                             in `containerIdOrConfig`\n\t\t * @returns {undefined}\n\t\t * @public\n\t\t */\n\t\tset: configureContainer,\n\n\t\t// add(<config>);\n\t\t// add(<containerId>, <config>);\n\t\t/**\n\t\t * Adds the config for a new container. The container ID may be passed in the configuration\n\t\t * object. If no container ID is supplied, a new container ID will be generated.\n\t\t *\n\t\t * @function\n\t\t * @param {String|Object} containerIdOrConfig  Configuration object or container ID\n\t\t * @param {Object}        [config]             Configuration object if container ID supplied\n\t\t *                                             in `containerIdOrConfig`\n\t\t * @returns {String} The container ID of the container\n\t\t * @public\n\t\t */\n\t\tadd: addContainer,\n\n\t\tunmount: function (containerId) {\n\t\t\tif (!containerId || typeof containerId !== 'string') {\n\t\t\t\tthrow new Error('Please assign the \"containerId\"!');\n\t\t\t}\n\t\t\tunmountContainer(containerId);\n\t\t},\n\n\t\t/**\n\t\t * Removes a container from Spotlight\n\t\t *\n\t\t * @param {String} containerId Container ID to remove\n\t\t * @returns {Boolean} `true` if container removed, `false` if container does not exist\n\t\t * @public\n\t\t */\n\t\tremove: function (containerId) {\n\t\t\tif (!containerId || typeof containerId !== 'string') {\n\t\t\t\tthrow new Error('Please assign the \"containerId\"!');\n\t\t\t}\n\t\t\tif (getContainerConfig(containerId)) {\n\t\t\t\tremoveContainer(containerId);\n\t\t\t\tif (getLastContainer() === containerId) {\n\t\t\t\t\tSpotlight.setActiveContainer(null);\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\t/**\n\t\t * Disables the selector rules of the specified container\n\t\t *\n\t\t * @param {String} containerId Container ID selector rules to disable\n\t\t * @returns {Boolean} `true` if container's selector rules are disabled, `false` if container does not exist\n\t\t * @public\n\t\t */\n\t\tdisableSelector: function (containerId) {\n\t\t\tif (isContainer(containerId)) {\n\t\t\t\tconfigureContainer(containerId, {selectorDisabled: false});\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\t/**\n\t\t * Enables the selector rules of the specified container\n\t\t *\n\t\t * @param {String} containerId Container ID selector rules to enable\n\t\t * @returns {Boolean} `true` if container's selector rules are enabled, `false` if container does not exist\n\t\t * @public\n\t\t */\n\t\tenableSelector: function (containerId) {\n\t\t\tif (isContainer(containerId)) {\n\t\t\t\tconfigureContainer(containerId, {selectorDisabled: false});\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\t/**\n\t\t * Pauses Spotlight\n\t\t *\n\t\t * @function\n\t\t * @returns {undefined}\n\t\t * @public\n\t\t */\n\t\tpause,\n\n\t\t/**\n\t\t * Resumes Spotlight\n\t\t *\n\t\t * @function\n\t\t * @returns {undefined}\n\t\t * @public\n\t\t */\n\t\tresume,\n\n\t\t// focus()\n\t\t// focus(<containerId>)\n\t\t// focus(<extSelector>)\n\t\t/**\n\t\t * Focuses the specified component ID, container ID, element selector, or the default\n\t\t * container.\n\t\t *\n\t\t * If Spotlight is in pointer mode, focus is not changed but `elem` will be set as the last\n\t\t * focused element of its spotlight containers.\n\t\t *\n\t\t * @param {String|Node} [elem] The spotlight ID or selector for either a spottable\n\t\t *  component or a spotlight container, or spottable node. If not supplied, the default\n\t\t *  container will be focused.\n\t\t * @returns {Boolean} `true` if focus successful, `false` if not.\n\t\t * @public\n\t\t */\n\t\tfocus: function (elem) {\n\t\t\tlet target = elem;\n\t\t\tlet wasContainerId = false;\n\n\t\t\tif (!elem) {\n\t\t\t\ttarget = getTargetByContainer();\n\t\t\t} else if (typeof elem === 'string') {\n\t\t\t\tif (getContainerConfig(elem)) {\n\t\t\t\t\ttarget = getTargetByContainer(elem);\n\t\t\t\t\twasContainerId = true;\n\t\t\t\t} else if (/^[\\w\\d-]+$/.test(elem)) {\n\t\t\t\t\t// support component IDs consisting of alphanumeric, dash, or underscore\n\t\t\t\t\ttarget = getTargetBySelector(`[data-spotlight-id=${elem}]`);\n\t\t\t\t} else {\n\t\t\t\t\ttarget = getTargetBySelector(elem);\n\t\t\t\t}\n\t\t\t} else if (isContainer(elem)) {\n\t\t\t\ttarget = getTargetByContainer(getContainerId(elem));\n\t\t\t}\n\n\t\t\tconst nextContainerIds = getContainersForNode(target);\n\t\t\tconst nextContainerId = last(nextContainerIds);\n\t\t\tif (isNavigable(target, nextContainerId, true)) {\n\t\t\t\tconst focused = focusElement(target, nextContainerIds);\n\n\t\t\t\tif (!focused && wasContainerId) {\n\t\t\t\t\tsetLastContainer(elem);\n\t\t\t\t}\n\n\t\t\t\treturn focused;\n\t\t\t} else if (wasContainerId) {\n\t\t\t\t// if we failed to find a spottable target within the provided container, we'll set\n\t\t\t\t// it as the active container to allow it to focus itself if its contents change\n\t\t\t\tsetLastContainer(elem);\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\t// move(<direction>)\n\t\t// move(<direction>, <selector>)\n\t\t/**\n\t\t * Moves focus to the next spottable control in the direction specified. Optionally, a source\n\t\t * element selector may be supplied as the starting point.\n\t\t *\n\t\t * @param {String} direction Direction to move, one of `'left'`, `'right'`, `'up'` or `'down'`\n\t\t * @param {String|undefined} selector If supplied, the element to move from. If not supplied,\n\t\t *\tthe currently focused item will be used.\n\t\t * @returns {Boolean} `true` if focus successful, `false` if not.\n\t\t * @public\n\t\t */\n\t\tmove: function (direction, selector) {\n\t\t\tdirection = direction.toLowerCase();\n\t\t\tif (direction !== 'up' && direction !== 'down' && direction !== 'left' && direction !== 'right') {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst elem = selector ? parseSelector(selector)[0] : getCurrent();\n\t\t\tif (!elem) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst containerIds = getContainersForNode(elem);\n\t\t\tif (!containerIds.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn spotNext(direction, elem, containerIds);\n\t\t},\n\n\t\t/**\n\t\t * Sets or clears the default container that will receive focus.\n\t\t *\n\t\t * @function\n\t\t * @param {String} [containerId] The container ID or a falsy value to clear default\n\t\t *                               container\n\t\t * @returns {undefined}\n\t\t * @public\n\t\t */\n\t\tsetDefaultContainer,\n\n\t\t/**\n\t\t * Gets the currently active container.\n\t\t *\n\t\t * @returns {String} The id of the currently active container\n\t\t * @public\n\t\t */\n\t\tgetActiveContainer: function () {\n\t\t\treturn getLastContainer() || rootContainerId;\n\t\t},\n\n\t\t/**\n\t\t * Sets the currently active container.\n\t\t *\n\t\t * Note: If the current container is restricted to 'self-only' and `containerId` is not\n\t\t * contained within the current container then the active container will not be updated.\n\t\t *\n\t\t * @param {String} [containerId] The id of the currently active container. If this is not\n\t\t *\tprovided, the root container is set as the currently active container.\n\t\t * @public\n\t\t */\n\t\tsetActiveContainer: function (containerId) {\n\t\t\tif (mayActivateContainer(containerId)) {\n\t\t\t\tsetLastContainer(containerId || rootContainerId);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Gets the current pointer mode\n\t\t *\n\t\t * @function\n\t\t * @returns {Boolean} `true` if spotlight is in pointer mode\n\t\t * @public\n\t\t */\n\t\tgetPointerMode,\n\n\t\t/**\n\t\t * Sets the current pointer mode\n\t\t *\n\t\t * @function\n\t\t * @param {Boolean} pointerMode The value of the pointer mode. This determines how\n\t\t *\tspotlight manages focus change behaviors.\n\t\t * @public\n\t\t */\n\t\tsetPointerMode,\n\n\t\t/**\n\t\t * Gets the muted mode value of a spottable element.\n\t\t *\n\t\t * @param {Object} elem The dom element used to determine the muted status.\n\t\t * @returns {Boolean} `true` if the passed-in control is in muted mode.\n\t\t * @public\n\t\t */\n\t\tisMuted: function (elem) {\n\t\t\tif (!elem) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn matchSelector('[data-spotlight-container-muted=\"true\"] .' + spottableClass, elem);\n\t\t},\n\n\t\t/**\n\t\t * Determines whether Spotlight is currently paused.\n\t\t *\n\t\t * @function\n\t\t * @returns {Boolean} `true` if Spotlight is currently paused.\n\t\t * @public\n\t\t */\n\t\tisPaused,\n\n\t\t/**\n\t\t * Determines whether an element is spottable.\n\t\t *\n\t\t * @param {Object} elem The dom element used to determine the spottable status.\n\t\t * @returns {Boolean} `true` if the element being evaluated is currently spottable.\n\t\t * @public\n\t\t */\n\t\tisSpottable: function (elem) {\n\t\t\tif (!elem) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn isFocusable(elem);\n\t\t},\n\n\t\t/**\n\t\t * Returns the currently spotted control.\n\t\t *\n\t\t * @returns {Node} The control that currently has focus, if available\n\t\t * @public\n\t\t */\n\t\tgetCurrent: function () {\n\t\t\treturn getCurrent();\n\t\t},\n\n\t\t/**\n\t\t * Returns a list of spottable elements wrapped by the supplied container.\n\t\t *\n\t\t * @param {String} containerId The id of the container used to determine the list of spottable elements\n\t\t * @returns {Node[]} The spottable elements that are wrapped by the supplied container\n\t\t * @public\n\t\t */\n\t\tgetSpottableDescendants: function (containerId) {\n\t\t\tif (!containerId || typeof containerId !== 'string') {\n\t\t\t\tthrow new Error('Please assign the \"containerId\"!');\n\t\t\t}\n\n\t\t\treturn getSpottableDescendants(containerId);\n\t\t}\n\t};\n\n\treturn exports;\n\n})();\n\nexport default Spotlight;\nexport {\n\tgetDirection,\n\tSpotlight\n};\n","/* eslint-disable react/sort-prop-types */\n\n/**\n * A higher-order component that adds state management for a single prop via a single event handler.\n *\n * @module ui/Changeable\n * @exports Changeable\n */\n\nimport {forProp, forward, handle} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport {cap} from '@enact/core/util';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport warning from 'warning';\n\n/**\n * Default config for {@link ui/Changeable.Changeable}.\n *\n * @memberof ui/Changeable.Changeable\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Configures the prop name to pass the callback to change the value\n\t *\n\t * @type {String}\n\t * @default 'onChange'\n\t * @memberof ui/Changeable.Changeable.defaultConfig\n\t */\n\tchange: 'onChange',\n\n\t/**\n\t * Configures the prop name to pass the current value\n\t *\n\t * @type {String}\n\t * @default 'value'\n\t * @memberof ui/Changeable.Changeable.defaultConfig\n\t */\n\tprop: 'value'\n};\n\n/**\n * A higher-order component that adds state management to a component for a single prop via\n * a single event callback.\n *\n * Applying `Changeable` to a component will pass two additional props: the current value from state\n * and an event callback to invoke when the value changes. By default, the value is passed in the\n * `value` prop and the callback is passed in the `onChange` callback but both are configurable\n * through the HOC config object.\n *\n * If `value` is passed to `Changeable`, the HOC assumes that the value is managed elsewhere and it\n * will not update its internal state. To set an initial value, use `defaultValue` instead.\n *\n * To update the value from the wrapped component, call `onChange` with an object containing a\n * `value` member with the new value. `Changeable` will update its internal state and pass the\n * updated value back down to the wrapped component.\n *\n * *Note:* If the `prop` is overridden, the property names to set the default value and current\n * value change correspondingly.\n *\n * @class Changeable\n * @memberof ui/Changeable\n * @hoc\n * @public\n */\nconst Changeable = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {prop, change} = config;\n\tconst defaultPropKey = 'default' + cap(prop);\n\n\treturn class extends React.PureComponent {\n\t\tstatic displayName = 'Changeable';\n\n\t\tstatic propTypes = /** @lends ui/Changeable.Changeable.prototype */ {\n\t\t\t/**\n\t\t\t * Called to notify `Changeable` that the value has changed.\n\t\t\t *\n\t\t\t * The event object must contain a property with the same name as the configured `prop`.\n\t\t\t *\n\t\t\t * @name onChange\n\t\t\t * @memberof ui/Changeable.Changeable.prototype\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\t[change]: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * The value set at construction when the value prop is `undefined` or `null`.\n\t\t\t *\n\t\t\t * This prop is consumed by `Changeable` and not passed onto the wrapped component.\n\t\t\t *\n\t\t\t * @name defaultValue\n\t\t\t * @memberof ui/Changeable.Changeable.prototype\n\t\t\t * @type {*}\n\t\t\t * @public\n\t\t\t */\n\t\t\t[defaultPropKey]: PropTypes.any,\n\n\t\t\t/**\n\t\t\t * The current value.\n\t\t\t *\n\t\t\t * When set at construction, the component is considered \"controlled\" and will only\n\t\t\t * update its internal value when updated by new props. If `undefined`, the component is\n\t\t\t * \"uncontrolled\" and `Changeable` will manage the value using callbacks defined by its\n\t\t\t * configuration.\n\t\t\t *\n\t\t\t * @type {*}\n\t\t\t * @public\n\t\t\t */\n\t\t\t[prop]: PropTypes.any,\n\n\t\t\t/**\n\t\t\t * Prevents updates to the internal state of `Changeable`.\n\t\t\t *\n\t\t\t * `disabled` is forwarded on to the wrapped component.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tdisabled: PropTypes.bool\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\tdisabled: false\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.state = {\n\t\t\t\trendered: false,\n\t\t\t\tvalue: null,\n\t\t\t\tcontrolled: prop in props\n\t\t\t};\n\n\t\t\twarning(\n\t\t\t\t!(prop in props && defaultPropKey in props),\n\t\t\t\t`Do not specify both '${prop}' and '${defaultPropKey}' for Changeable instances. '${defaultPropKey}' will be ignored.\n\t\t\t\t'${defaultPropKey}' will be ignored unless '${prop}' is 'null' or 'undefined'.`\n\t\t\t);\n\t\t}\n\n\t\tstatic getDerivedStateFromProps (props, state) {\n\t\t\tif (state.rendered === false) {\n\t\t\t\treturn {\n\t\t\t\t\trendered: true,\n\t\t\t\t\tvalue: props[prop] != null ? props[prop] : props[defaultPropKey]\n\t\t\t\t};\n\t\t\t} else if (state.controlled) {\n\t\t\t\tif (state.value !== props[prop]) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tvalue: props[prop]\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\twarning(\n\t\t\t\t!(typeof props[prop] !== 'undefined'),\n\t\t\t\t`'${prop}' specified for an uncontrolled instance of Changeable and will be\n\t\t\t\tignored. To make this instance of Changeable controlled, '${prop}' should be\n\t\t\t\tspecified at creation.`\n\t\t\t);\n\n\t\t\treturn null;\n\t\t}\n\n\t\thandle = handle.bind(this);\n\n\t\thandleChange = this.handle(\n\t\t\tforProp('disabled', false),\n\t\t\tforward(change),\n\t\t\t({[prop]: value}) => {\n\t\t\t\tif (!this.state.controlled) {\n\t\t\t\t\tthis.setState(({value: oldValue}) => value !== oldValue ? {value} : null);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\trender () {\n\t\t\tconst props = Object.assign({}, this.props);\n\t\t\tif (change) props[change] = this.handleChange;\n\t\t\tif (prop) props[prop] = this.state.value;\n\t\t\tdelete props[defaultPropKey];\n\n\t\t\treturn <Wrapped {...props} />;\n\t\t}\n\t};\n});\n\nexport default Changeable;\nexport {\n\tChangeable\n};\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 711;","/* eslint-env browser,es6 */\n/*\n * zoneinfo.js - represent a binary zone info file\n *\n * Copyright © 2014 LG Electronics, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * The portion of this code that parses the zone info file format is derived\n * from the code in the node-zoneinfo project by Gregory McWhirter licensed\n * under the MIT license:\n *\n * Copyright (c) 2013 Gregory McWhirter\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject\n * to the following conditions:\n\n * The above copyright notice and this permission notice shall be included\n * in all copies or substantial portions of the Software.\n\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR\n * OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nconst\n\tPackedBuffer = require('./packedbuffer.js');\n\nconst _platform = (typeof PalmSystem !== 'undefined') ? 'webos' : 'browser';\n\n/**\n * Represents a binary zone info file of the sort that the Unix Zone Info Compiler\n * produces.\n * @constructor\n * @param {string} path path to the file to be loaded\n * @param {number} year year of the zone info rules needed\n */\nlet ZoneInfoFile = function (path) {\n\tlet that = this;\n\tswitch (_platform) {\n\t\t/*\n\t\tUncomment and use this when enyo works for binary load.\n\t\tcase 'enyo':\n\t\t\tlet ajax = new enyo.Ajax({\n\t\t\t\txhrFields: {\n\t\t\t\t\tresponseType:'arraybuffer'\n\t\t\t\t},\n\t\t\t\tcacheBust: false,\n\t\t\t\tsync: true,\n\t\t\t\thandleAs: 'binary',\n\t\t\t\turl: 'file://' + path\n\t\t\t});\n\t\t\tajax.response(this, function (s, r) {\n\t\t\t\tlet byteArray = new Uint8Array(r);\n\t\t\t\t// console.log('ZoneInfoFile bytes received: ' + byteArray.length);\n\t\t\t\tthat._parseInfo(byteArray);\n\t\t\t});\n\t\t\t//ajax.error(this, function (s, r) {\n\t\t\t//\tconsole.log('ZoneInfoFile: failed to load files ' + JSON.stringify(s) + ' ' + r);\n\t\t\t//});\n\t\t\tajax.go();\n\t\t\tbreak;\n\t\t*/\n\n\t\tdefault: {\n\t\t\t// use normal web techniques for sync binary data fetching\n\t\t\t// see https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Sending_and_Receiving_Binary_Data\n\t\t\tlet req = new XMLHttpRequest();\n\t\t\treq.open('GET', 'file:' + path, false);\n\t\t\treq.overrideMimeType('text/plain; charset=x-user-defined');\n\t\t\treq.onload = function () {\n\t\t\t\tlet byteArray = new Uint8Array(req.response.length);\n\t\t\t\tfor (let i = 0; i < req.response.length; i++) {\n\t\t\t\t\tbyteArray[i] = req.response.charCodeAt(i) & 0xff;\n\t\t\t\t}\n\t\t\t\t// console.log('ZoneInfoFile bytes received: ' + byteArray.length);\n\t\t\t\tthat._parseInfo(byteArray);\n\t\t\t};\n\t\t\treq.onerror = function () {\n\t\t\t\tthrow new Error('Cannot load file ' + path);\n\t\t\t};\n\t\t\treq.send();\n\t\t\tbreak;\n\t\t}\n\t}\n};\n\n/**\n * @private\n * Parse the binary buffer to find the zone info\n * @param {Buffer} buffer The buffer to process\n * @returns {void}\n */\nZoneInfoFile.prototype._parseInfo = function (buffer) {\n\tlet packed = new PackedBuffer(buffer);\n\n\t// The time zone information files used by tzset(3)\n\t// begin with the magic characters 'TZif' to identify\n\t// them as time zone information files, followed by\n\t// sixteen bytes reserved for future use, followed by\n\t// six four-byte values of type long, written in a\n\t// ''standard'' byte order (the high-order byte\n\t// of the value is written first).\n\tif (packed.getString(4) !== 'TZif') {\n\t\tthrow new Error('file format not recognized');\n\t} else {\n\t\t// ignore 16 bytes\n\t\tpacked.skip(16);\n\n\t\t/* eslint-disable camelcase */\n\t\t// The number of UTC/local indicators stored in the file.\n\t\tlet tzh_ttisgmtcnt = packed.getLong();\n\t\t// The number of standard/wall indicators stored in the file.\n\t\tlet tzh_ttisstdcnt = packed.getLong();\n\t\t// The number of leap seconds for which data is stored in the file.\n\t\tlet tzh_leapcnt = packed.getLong();\n\t\t// The number of 'transition times' for which data is stored in the file.\n\t\tlet tzh_timecnt = packed.getLong();\n\t\t// The number of 'local time types' for which data is stored in the file (must not be zero).\n\t\tlet tzh_typecnt = packed.getLong();\n\t\t// The number of characters of 'time zone abbreviation strings' stored in the file.\n\t\tlet tzh_charcnt = packed.getLong();\n\n\t\tthis.transitionTimes = tzh_timecnt ? packed.getLongs(tzh_timecnt) : [];\n\n\t\tthis.transitionTimes = this.transitionTimes.map(function (item) {\n\t\t\treturn item * 1000;\n\t\t});\n\n\t\t// these are indexes into the zonesInfo that correspond to each transition time\n\t\tthis.ruleIndex = tzh_timecnt ? packed.getUnsignedBytes(tzh_timecnt) : [];\n\n\t\tthis.zoneInfo = [];\n\t\tfor (let i = 0; i < tzh_typecnt; i++) {\n\t\t\tthis.zoneInfo.push({\n\t\t\t\toffset: Math.floor(packed.getLong() / 60),  // offset in seconds, so convert to minutes\n\t\t\t\tisdst: !!packed.getByte(),\n\t\t\t\tabbreviationIndex: packed.getByte()\n\t\t\t});\n\t\t}\n\n\t\tlet allAbbreviations = packed.getString(tzh_charcnt);\n\n\t\tfor (let i = 0; i < tzh_typecnt; i++) {\n\t\t\tlet abbreviation = allAbbreviations.substring(this.zoneInfo[i].abbreviationIndex);\n\t\t\tthis.zoneInfo[i].abbreviation = abbreviation.substring(0, abbreviation.indexOf('\\x00'));\n\t\t}\n\n\t\t// ignore the leap seconds\n\t\tif (tzh_leapcnt) {\n\t\t\tpacked.skip(tzh_leapcnt * 2);\n\t\t}\n\n\t\t// skip the standard/wall time indicators\n\t\tif (tzh_ttisstdcnt) {\n\t\t\tpacked.skip(tzh_ttisstdcnt);\n\t\t}\n\n\t\t// ignore the UTC/local time indicators -- everything should be UTC\n\t\tif (tzh_ttisgmtcnt) {\n\t\t\tpacked.skip(tzh_ttisgmtcnt);\n\t\t}\n\n\t\t// finished reading\n\n\t\t// Replace ttinfo indexes for ttinfo objects.\n\t\tlet that = this;\n\t\tthis.ruleIndex = this.ruleIndex.map(function (item) {\n\t\t\treturn {\n\t\t\t\toffset: that.zoneInfo[item].offset,\n\t\t\t\tisdst: that.zoneInfo[item].isdst,\n\t\t\t\tabbreviation: that.zoneInfo[item].abbreviation\n\t\t\t};\n\t\t});\n\n\t\t// calculate the dst savings for each daylight time\n\t\tfor (let i = 0; i < tzh_timecnt; i++) {\n\t\t\tif (i > 0 && this.ruleIndex[i].isdst) {\n\t\t\t\tthis.ruleIndex[i].savings = this.ruleIndex[i].offset - this.ruleIndex[i - 1].offset;\n\t\t\t}\n\t\t}\n\n\t\t// Set standard, dst, and before ttinfos. before will be\n\t\t// used when a given time is before any transitions,\n\t\t// and will be set to the first non-dst ttinfo, or to\n\t\t// the first dst, if all of them are dst.\n\t\tif (!this.transitionTimes.length) {\n\t\t\tthis.standardTime = this.zoneInfo[0];\n\t\t} else {\n\t\t\tfor (let j = tzh_timecnt - 1; j > -1; j--) {\n\t\t\t\tlet tti = this.ruleIndex[j];\n\t\t\t\tif (!this.standardTime && !tti.isdst) {\n\t\t\t\t\tthis.standardTime = tti;\n\t\t\t\t} else if (!this.daylightTime && tti.isdst) {\n\t\t\t\t\tthis.daylightTime = tti;\n\t\t\t\t}\n\n\t\t\t\tif (this.daylightTime && this.standardTime) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.daylightTime && !this.standardTime) {\n\t\t\t\tthis.standardTime = this.daylightTime;\n\t\t\t}\n\n\t\t\tfor (let k = this.zoneInfo.length - 1; k > 0; k--) {\n\t\t\t\tif (!this.zoneInfo[k].isdst) {\n\t\t\t\t\tthis.defaultTime = this.zoneInfo[k];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!this.defaultTime) {\n\t\t\tthis.defaultTime = this.zoneInfo[this.zoneInfo.length - 1];\n\t\t}\n\t}\n};\n\n/**\n * Binary search a sorted array of numbers for a particular target value.\n * If the exact value is not found, it returns the index of the largest\n * entry that is smaller than the given target value.<p>\n *\n * @param {number} target element being sought\n * @param {Array} arr the array being searched\n * @returns {number} the index of the array into which the value would fit if\n * inserted, or -1 if given array is not an array or the target is not\n * a number\n */\nZoneInfoFile.prototype.bsearch = function (target, arr) {\n\tif (typeof arr === 'undefined' || !arr || typeof target === 'undefined' || target < arr[0]) {\n\t\treturn -1;\n\t}\n\n\t// greater than the end of the array\n\tif (target > arr[arr.length - 1]) {\n\t\treturn arr.length - 1;\n\t}\n\n\tlet high = arr.length - 1,\n\t\tlow = 0,\n\t\tmid = 0,\n\t\tvalue;\n\n\twhile (low <= high) {\n\t\tmid = Math.floor((high + low) / 2);\n\t\tvalue = arr[mid] - target;\n\t\tif (value > 0) {\n\t\t\thigh = mid - 1;\n\t\t} else if (value < 0) {\n\t\t\tlow = mid + 1;\n\t\t} else {\n\t\t\treturn mid;\n\t\t}\n\t}\n\n\treturn high;\n};\n\n/**\n * Return whether or not this zone uses DST in the given year.\n *\n * @param {Date} date the Gregorian date to test\n * @returns {boolean} true if the zone uses DST in the given year\n */\nZoneInfoFile.prototype.usesDST = function (date) {\n\tconst thisYear = date.getTime();\n\tconst nextYear = thisYear + 31536000000; // this is the number of ms in 1 Gregorian year\n\n\t// search for the zone that was effective Jan 1 of this year\n\t// to Jan 1 of next year, and if any of the infos is DST, then\n\t// this zone supports DST in the given year.\n\n\tlet index = this.bsearch(thisYear, this.transitionTimes);\n\tif (index !== -1) {\n\t\twhile (index < this.transitionTimes.length && this.transitionTimes[index] < nextYear) {\n\t\t\tif (this.ruleIndex[index++].isdst) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn false;\n};\n\n/**\n * Return the raw offset from UTC that this zone uses at the given time.\n *\n * @param {Date} date the Gregorian date to test\n * @returns {number} offset from from UTC in number of minutes. Negative\n * numbers are west of Greenwich, positive are east of Greenwich\n */\nZoneInfoFile.prototype.getRawOffset = function (date) {\n\tlet thisYear = date.getTime();\n\tlet nextYear = thisYear + 31536000000; // this is the number of ms in 1 Gregorian year\n\n\tlet index = this.bsearch(thisYear, this.transitionTimes);\n\n\tlet offset = this.defaultTime.offset;\n\tif (index > -1) {\n\t\twhile (index < this.transitionTimes.length && this.ruleIndex[index].isdst && this.transitionTimes[index + 1] < nextYear) {\n\t\t\tindex++;\n\t\t}\n\n\t\tif (index < this.transitionTimes.length && !this.ruleIndex[index].isdst) {\n\t\t\toffset = this.ruleIndex[index].offset;\n\t\t}\n\t}\n\n\treturn offset;\n};\n\n/**\n * If this zone uses DST in the given year, return the DST savings\n * in use. If the zone does not use DST in the given year, this\n * method will return 0.\n *\n * @param {Date} date the Gregorian date to test\n * @returns {number} number of minutes in DST savings if the zone\n * uses DST in the given year, or zero otherwise\n */\nZoneInfoFile.prototype.getDSTSavings = function (date) {\n\tlet thisYear = date.getTime();\n\tlet nextYear = thisYear + 31536000000; // this is the number of ms in 1 Gregorian year\n\n\t// search for all transitions between now and one year\n\t// from now, and calculate the difference in DST (if any)\n\n\tlet index = this.bsearch(thisYear, this.transitionTimes);\n\tlet savings = 0;\n\tif (index > -1) {\n\t\twhile (index < this.transitionTimes.length && !this.ruleIndex[index].isdst && this.transitionTimes[index + 1] < nextYear) {\n\t\t\tindex++;\n\t\t}\n\n\t\tif (index < this.transitionTimes.length && this.ruleIndex[index].isdst) {\n\t\t\tsavings = this.ruleIndex[index].savings;\n\t\t}\n\t}\n\n\treturn savings;\n};\n\n/**\n * Return the start date/time of DST if this zone uses\n * DST in the given year.\n *\n * @param {Date} date the Gregorian date to test\n * @returns {number} unixtime representation of the start\n * of DST in the given year, or -1 if the zone does not\n * use DST in the given year\n */\nZoneInfoFile.prototype.getDSTStartDate = function (date) {\n\tlet year = date.getFullYear();\n\tlet thisYear = new Date(year, 0, 1).getTime();\n\tlet nextYear = new Date(year + 1, 0, 1).getTime();\n\n\t// search for all transitions between Jan 1 of this year\n\t// to Jan 1 of next year, and calculate the difference\n\t// in DST (if any)\n\n\tlet index = this.bsearch(thisYear, this.transitionTimes);\n\tlet startDate = -1;\n\tif (index > -1) {\n\t\tif (this.transitionTimes[index] < thisYear) {\n\t\t\tindex++; // start in this year instead of the previous year\n\t\t}\n\t\twhile (index < this.transitionTimes.length && !this.ruleIndex[index].isdst && this.transitionTimes[index + 1] < nextYear) {\n\t\t\tindex++;\n\t\t}\n\n\t\tif (index < this.transitionTimes.length && this.ruleIndex[index].isdst) {\n\t\t\tstartDate = this.transitionTimes[index];\n\t\t}\n\t}\n\n\treturn startDate;\n};\n\n/**\n * Return the end date/time of DST if this zone uses\n * DST in the given year.\n *\n * @param {Date} date the Gregorian date to test\n * @returns {number} unixtime representation of the end\n * of DST in the given year, or -1 if the zone does not\n * use DST in the given year\n */\nZoneInfoFile.prototype.getDSTEndDate = function (date) {\n\tlet year = date.getFullYear();\n\tlet thisYear = new Date(year, 0, 1).getTime();\n\tlet nextYear = new Date(year + 1, 0, 1).getTime();\n\n\t// search for all transitions between Jan 1 of this year\n\t// to Jan 1 of next year, and calculate the difference\n\t// in DST (if any)\n\n\tlet index = this.bsearch(thisYear, this.transitionTimes);\n\tlet endDate = -1;\n\tif (index > -1) {\n\t\tif (this.transitionTimes[index] < thisYear) {\n\t\t\tindex++; // start in this year instead of the previous year\n\t\t}\n\t\twhile (index < this.transitionTimes.length && this.ruleIndex[index].isdst && this.transitionTimes[index + 1] < nextYear) {\n\t\t\tindex++;\n\t\t}\n\n\t\tif (index < this.transitionTimes.length && !this.ruleIndex[index].isdst) {\n\t\t\tendDate = this.transitionTimes[index];\n\t\t}\n\t}\n\n\treturn endDate;\n};\n\n/**\n * Return the abbreviation used by this zone in standard\n * time.\n *\n * @param {Date} date the Gregorian date to test\n * @returns {string} a string representing the abbreviation\n * used in this time zone during standard time\n */\nZoneInfoFile.prototype.getAbbreviation = function (date) {\n\tlet thisYear = date.getTime();\n\tlet nextYear = thisYear + 31536000000; // this is the number of ms in 1 Gregorian year\n\n\t// search for all transitions between now and one year from now, and calculate the difference\n\t// in DST (if any)\n\tlet abbr;\n\tif (this.transitionTimes.length > 0) {\n\t\tlet index = this.bsearch(thisYear, this.transitionTimes);\n\t\tabbr = this.ruleIndex[index].abbreviation;\n\t\tif (index > -1) {\n\t\t\twhile (index < this.transitionTimes.length && this.ruleIndex[index].isdst && this.transitionTimes[index + 1] < nextYear) {\n\t\t\t\tindex++;\n\t\t\t}\n\n\t\t\tif (index < this.transitionTimes.length && !this.ruleIndex[index].isdst) {\n\t\t\t\tabbr = this.ruleIndex[index].abbreviation;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tabbr = this.standardTime.abbreviation;\n\t}\n\n\treturn abbr;\n};\n\n/**\n * Return the abbreviation used by this zone in daylight\n * time. If the zone does not use DST in the given year,\n * this returns the same thing as getAbbreviation().\n *\n * @param {Date} date the Gregorian date to test\n * @returns {string} a string representing the abbreviation\n * used in this time zone during daylight time\n */\nZoneInfoFile.prototype.getDSTAbbreviation = function (date) {\n\tlet thisYear = date.getTime();\n\tlet nextYear = thisYear + 31536000000; // this is the number of ms in 1 Gregorian year\n\n\t// search for all transitions between now and one year from now, and calculate the difference\n\t// in DST (if any)\n\n\tlet abbr;\n\tif (this.transitionTimes.length > 0) {\n\t\tlet index = this.bsearch(thisYear, this.transitionTimes);\n\t\tabbr = this.ruleIndex[index].abbreviation;\n\t\tif (index > -1) {\n\t\t\twhile (index < this.transitionTimes.length && !this.ruleIndex[index].isdst && this.transitionTimes[index + 1] < nextYear) {\n\t\t\t\tindex++;\n\t\t\t}\n\n\t\t\tif (index < this.transitionTimes.length && this.ruleIndex[index].isdst) {\n\t\t\t\tabbr = this.ruleIndex[index].abbreviation;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tabbr = this.standardTime.abbreviation;\n\t}\n\n\treturn abbr;\n};\n\n/**\n * Return the zone information for the given date in ilib\n * format.\n *\n * @param {Date} date the Gregorian date to test\n * @returns {Object} an object containing the zone information\n * for the given date in the format that ilib can use directly\n */\nZoneInfoFile.prototype.getIlibZoneInfo = function (date) {\n\tfunction minutesToStr (min) {\n\t\tlet hours = Math.floor(min / 60);\n\t\tlet minutes = min - hours * 60;\n\n\t\treturn hours + ':' + minutes;\n\t}\n\n\tfunction unixtimeToJD (millis) {\n\t\treturn 2440587.5 + millis / 86400000;\n\t}\n\tlet res = {\n\t\t'o': minutesToStr(this.getRawOffset(date))\n\t};\n\tif (this.usesDST(date)) {\n\t\tres.f = '{c}';\n\t\tres.e = {\n\t\t\t'c': this.getAbbreviation(date),\n\t\t\t'j': unixtimeToJD(this.getDSTEndDate(date))\n\t\t};\n\t\tres.s = {\n\t\t\t'c': this.getDSTAbbreviation(date),\n\t\t\t'j': unixtimeToJD(this.getDSTStartDate(date)),\n\t\t\t'v': minutesToStr(this.getDSTSavings(date))\n\t\t};\n\t} else {\n\t\tres.f = this.getAbbreviation(date);\n\t}\n\n\treturn res;\n};\n\nmodule.exports = ZoneInfoFile;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"heading\":\"Heading_heading__2be-4\",\"title\":\"Heading_title__13q--\",\"subtitle\":\"Heading_subtitle__lvF9-\",\"large\":\"Heading_large__2E6Vh\",\"medium\":\"Heading_medium__3dzob\",\"small\":\"Heading_small__8CDo4\",\"tiny\":\"Heading_tiny__1Vsjo\",\"titleSpacing\":\"Heading_titleSpacing__ktAcO\",\"subtitleSpacing\":\"Heading_subtitleSpacing__3FYym\",\"largeSpacing\":\"Heading_largeSpacing__2UYIK\",\"mediumSpacing\":\"Heading_mediumSpacing__3aUiu\",\"smallSpacing\":\"Heading_smallSpacing__TEMTX\",\"tinySpacing\":\"Heading_tinySpacing__2Uzdr\",\"noneSpacing\":\"Heading_noneSpacing__OaSei\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"heading\":\"Heading_heading__3IjzK\",\"showLine\":\"Heading_showLine__1SMqX\",\"title\":\"Heading_title__2F0Pv\",\"large\":\"Heading_large__3wLnw\",\"medium\":\"Heading_medium__3XqZG\",\"small\":\"Heading_small__1aERR\",\"tiny\":\"Heading_tiny__Bcqc3\",\"titleSpacing\":\"Heading_titleSpacing__3x-f4\",\"largeSpacing\":\"Heading_largeSpacing__E8UtY\",\"mediumSpacing\":\"Heading_mediumSpacing__2mUCM\",\"smallSpacing\":\"Heading_smallSpacing__nUqPA\",\"noneSpacing\":\"Heading_noneSpacing__2ZroQ\"};","import warning from 'warning';\n\n// At the end, wes should not use DOM APIs as well as the APIs in the `utilDOM`. If we use them, we have to try to remove them first if possible.\n\nconst utilDOM = (function () {\n\t// Functions\n\n\tfunction containsDangerously (ref, target) {\n\t\tif (!target) {\n\t\t\treturn false;\n\t\t} else if (ref.current) {\n\t\t\twarning(ref.current.contains, 'The `contains` function of the Ref is not supported.');\n\n\t\t\treturn ref.current.contains(target);\n\t\t} else if (ref) {\n\t\t\twarning(ref.contains, 'The `contains` function of the Ref is not supported.');\n\n\t\t\treturn ref.contains(target);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t// TBD\n\t// Need to define functions for the following DOM APIs\n\t// getBoundingClientRect\n\t// dataset.spotlightId\n\t// getRect\n\t// setAttribute\n\t// removeAttribute\n\t// scrollLeft\n\t// scrollTop\n\tfunction datasetDangerously () {}\n\tfunction getBoundingClientRectDangerously () {}\n\tfunction getRectDangerously () {}\n\tfunction removeAttributeDangerously () {}\n\tfunction setAttributeDangerously () {}\n\tconst scrollLeftDangerously = 0;\n\tconst scrollTopDangerously = 0;\n\n\t// Return\n\n\treturn {\n\t\tcontainsDangerously,\n\t\tdatasetDangerously,\n\t\tgetBoundingClientRectDangerously,\n\t\tgetRectDangerously,\n\t\tremoveAttributeDangerously,\n\t\tscrollLeftDangerously,\n\t\tscrollTopDangerously,\n\t\tsetAttributeDangerously\n\t};\n})();\n\nexport default utilDOM;\nexport {\n\tutilDOM\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"Icon_icon__1sL6a\",\"flipBoth\":\"Icon_flipBoth__2qJTI\",\"flipHorizontal\":\"Icon_flipHorizontal__2KKBv\",\"flipVertical\":\"Icon_flipVertical__3j-ZC\",\"dingbat\":\"Icon_dingbat__26H5_\",\"large\":\"Icon_large__e418M\",\"pressed\":\"Icon_pressed__1aeUB\",\"small\":\"Icon_small__31TeU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"Icon_icon__1R4tX\",\"huge\":\"Icon_huge__2TTQ3\",\"small\":\"Icon_small__1qu4t\",\"smallest\":\"Icon_smallest__3tmBc\",\"dingbat\":\"Icon_dingbat__23hCN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1M2Zz\",\"bg\":\"Button_bg__LhGZK\",\"client\":\"Button_client__1JYoz\",\"icon\":\"Button_icon__1Wtzr\",\"hasIcon\":\"Button_hasIcon__29nPh\",\"large\":\"Button_large___TyEn\",\"minWidth\":\"Button_minWidth__1Ey4a\",\"small\":\"Button_small__30CXD\",\"decoration\":\"Button_decoration__JsA12\",\"selected\":\"Button_selected__QydK0\",\"pressed\":\"Button_pressed__hy72B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3PK7M\",\"bg\":\"Button_bg__1k8sG\",\"client\":\"Button_client__sV5RN\",\"icon\":\"Button_icon__GGFoP\",\"badge\":\"Button_badge__2GNYD\",\"grid\":\"Button_grid__2YZeg\",\"opaque\":\"Button_opaque__bCDlK\",\"lightOpaque\":\"Button_lightOpaque__3UJnx\",\"transparent\":\"Button_transparent__2Oox2\",\"minWidth\":\"Button_minWidth__3dh6o\",\"huge\":\"Button_huge__170rT\",\"small\":\"Button_small__2_T5B\",\"smallest\":\"Button_smallest__3Xa_y\",\"hasIcon\":\"Button_hasIcon__3NVu1\",\"animateOnRender\":\"Button_animateOnRender__3ssav\",\"scale-bounce\":\"Button_scale-bounce__1JuAX\",\"joinedLeft\":\"Button_joinedLeft__2i4kk\",\"joinedCenter\":\"Button_joinedCenter__QSfHj\",\"joinedRight\":\"Button_joinedRight__3gCql\",\"highlighted\":\"Button_highlighted__2u6Mb\",\"selected\":\"Button_selected__3rmf2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"labeledIcon\":\"LabeledIcon_labeledIcon__sVTUQ\",\"inline\":\"LabeledIcon_inline__1N9-f\",\"above\":\"LabeledIcon_above__2HQrn\",\"below\":\"LabeledIcon_below__1_xvo\",\"iconCell\":\"LabeledIcon_iconCell__3Izg9\",\"before\":\"LabeledIcon_before__SZA1P\",\"left\":\"LabeledIcon_left__sIU3e\",\"right\":\"LabeledIcon_right__3ClVM\",\"label\":\"LabeledIcon_label__3Qpxs\",\"after\":\"LabeledIcon_after__3Sd_T\",\"icon\":\"LabeledIcon_icon__1abmm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"labeledIcon\":\"LabeledIcon_labeledIcon__2CxNb\",\"below\":\"LabeledIcon_below__2gDyf\",\"icon\":\"LabeledIcon_icon__32EZf\",\"above\":\"LabeledIcon_above__21pJg\",\"after\":\"LabeledIcon_after__do8b5\",\"before\":\"LabeledIcon_before__2Dp7i\",\"left\":\"LabeledIcon_left__-6IZj\",\"right\":\"LabeledIcon_right__2tMFW\",\"label\":\"LabeledIcon_label__47uKK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabbedPanels\":\"TabbedPanels_tabbedPanels__3KODu\",\"panels\":\"TabbedPanels_panels__3FULT\",\"reverse\":\"TabbedPanels_reverse__2Ozxo\",\"column\":\"TabbedPanels_column__2ow_T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scrollbar\":\"Scrollbar_scrollbar__1vvQ9\",\"vertical\":\"Scrollbar_vertical__2HQdJ\",\"horizontal\":\"Scrollbar_horizontal__1k9A9\",\"corner\":\"Scrollbar_corner__1zsbJ\",\"scrollbarTrackShown\":\"Scrollbar_scrollbarTrackShown__nYLNH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scroller\":\"Scroller_scroller__2jt_f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scroller\":\"UiScroller_scroller__Dp9G1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bodyText\":\"BodyText_bodyText__3Y1lB\",\"centered\":\"BodyText_centered__1e78o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bodyText\":\"BodyText_bodyText__1Fj1C\",\"centered\":\"BodyText_centered__2eiYE\",\"small\":\"BodyText_small__1comw\"};","/**\n * Accepts an object of computed property configurations and a property object, passes the property\n * object through each computed property handler, and merges the resulting computed properties with\n * the original properties.\n *\n * ```\n * const cfg = {\n *   sum: ({x,y,z}) => x+y+z,\n *   product: ({x,y,z}) => x*y*z\n * }\n * const props = {\n *   x: 2,\n *   y: 3,\n *   z: 4\n * }\n * computed(cfg)(props) // => {x: 2, y: 3, z: 4, sum: 9, product: 24}\n * ```\n *\n * @method computed\n * @param   {Object}    cfg  Configuration object mapping transformation functions to property names\n *\n * @returns {Function}       Function that accepts a props object and mutates it to include the\n *                           computed props\n * @private\n */\nconst computed = (cfg, optProps) => {\n\tconst keys = Object.keys(cfg);\n\n\tconst renderComputed = (props, ...args) => {\n\t\tconst updated = {};\n\t\tfor (let i = keys.length - 1; i >= 0; i--) {\n\t\t\tupdated[keys[i]] = cfg[keys[i]](props, ...args);\n\t\t}\n\n\t\treturn Object.assign(props, updated);\n\t};\n\n\t// maintain compatibility with 1.x\n\tif (optProps) {\n\t\treturn renderComputed(optProps);\n\t}\n\n\treturn renderComputed;\n};\n\nexport default computed;\nexport {computed};\n","export const addInternalProp = function (props, name, value) {\n\tObject.defineProperty(props, name, {\n\t\tvalue,\n\t\tenumerable: false,\n\t\twritable: true\n\t});\n\n\treturn props;\n};\n","import classnames from 'classnames/bind';\n\nimport {mergeClassNameMaps} from '../util';\n\nimport {addInternalProp} from './util';\n\n/**\n * Merges external and internal CSS classes and style objects. Internal CSS classes can be\n * optionally mapped to alternate names (e.g. those generated by CSS modules) by including a\n * `css` parameter.\n *\n * Example:\n * ```\n *\tconst stylesConfig = {\n *\t\tcss: {\n *\t\t\tbutton: 'unambiguous-button-class-name',\n *\t\t\tclient: 'unambiguous-button-class-name-client'\n *\t\t},\n *\t\tclassName: 'button global-class',\n *\t\tstyle: {\n *\t\t\tcolor: 'red'\n *\t\t}\n *\t};\n *\n *\tconst props = {\n *\t\tclassName: 'my-button',\n *\t\tstyle: {\n *\t\t\tdisplay: 'none'\n *\t\t}\n *\t};\n *\n *\tconst renderStyles = styles(stylesConfig);\n *\tconst renderStyles(props); // {className: 'unambiguous-button-class-name global-class', styles: {color: 'red', display: 'none'}}\n * ```\n *\n * @method styles\n * @param   {Object}    cfg  Configuration object containing one of `css`, `className`,\n *                           `publicClassNames`, and/or `style`\n *\n * @returns {Function}       Function that accepts a props object and mutates it to merge class\n *                           names and style objects and provide the `styler` utility function and\n *                           `css` merged class name map\n * @private\n */\nconst styles = (cfg, optProps) => {\n\tconst {className, css: configCss, prop = 'className', style} = cfg;\n\tlet {publicClassNames: allowedClassNames} = cfg;\n\n\tif (configCss && allowedClassNames === true) {\n\t\tallowedClassNames = Object.keys(configCss);\n\t} else if (typeof allowedClassNames === 'string') {\n\t\tallowedClassNames = allowedClassNames.split(/\\s+/);\n\t}\n\n\tconst renderStyles = (props) => {\n\t\tlet css = configCss;\n\n\t\tif (style) {\n\t\t\tprops.style = Object.assign({}, style, props.style);\n\t\t}\n\n\t\t// if the props includes a css map, merge them together now\n\t\tif (css && allowedClassNames && props.css) {\n\t\t\tcss = mergeClassNameMaps(css, props.css, allowedClassNames);\n\t\t}\n\n\t\tconst cn = css ? classnames.bind(css) : classnames;\n\t\tconst joinedClassName = props[prop] = classnames(\n\t\t\tclassName ? cn(className.split(' ')) : null,\n\t\t\tprops.className\n\t\t);\n\n\t\taddInternalProp(props, 'css', css);\n\t\taddInternalProp(props, 'styler', {\n\t\t\tjoin: cn,\n\t\t\tappend: (...args) => cn(joinedClassName, ...args)\n\t\t});\n\n\t\treturn props;\n\t};\n\n\tif (optProps) {\n\t\treturn renderStyles(optProps);\n\t}\n\n\treturn renderStyles;\n};\n\nexport default styles;\nexport {styles};\n","/**\n * Provides the {@link core/kind.kind} method to create components\n *\n * @module core/kind\n * @exports kind\n */\n\nimport React from 'react';\n\nimport useHandlers from '../useHandlers';\nimport Handlers from '../useHandlers/Handlers';\n\nimport computed from './computed';\nimport styles from './styles';\n\n// Because contextType is optional and hooks must be called in the same order, we need a fallback\n// context when none is specified. This likely has some overhead so we may want to deprecate and\n// remove contextType support for 4.0 since the context APIs have improved since this was added.\nconst NoContext = React.createContext(null);\n\n/**\n * @callback RenderFunction\n * @memberof core/kind\n * @param {Object<string, any>} props\n * @param {Object<string, any>} context\n * @returns React.Element|null\n */\n\n/**\n * @callback ComputedPropFunction\n * @memberof core/kind\n * @param {Object<string, any>} props\n * @param {Object<string, any>} context\n * @returns any\n */\n\n/**\n * @callback HandlerFunction\n * @memberof core/kind\n * @param {any} event\n * @param {Object<string, any>} props\n * @param {Object<string, any>} context\n */\n\n/**\n * Configuration for CSS class name mapping\n *\n * @typedef {Object} StylesBlock\n * @memberof core/kind\n * @property {Object.<string, string>} css\n * @property {String} [className]\n * @property {Boolean|String|String[]} [publicClassNames]\n */\n\n/**\n * @typedef {Object} KindConfig\n * @memberof core/kind\n * @property {String} [name]\n * @property {Boolean} [functional]\n * @property {Object.<string, Function>} [propTypes]\n * @property {Object.<string, any>} [defaultProps]\n * @property {Object} [contextType]\n * @property {StylesBlock} [styles]\n * @property {Object.<string, HandlerFunction>} [handlers]\n * @property {Object.<string, ComputedPropFunction>} [computed]\n * @property {RenderFunction} render\n */\n\n/**\n * Creates a new component with some helpful declarative syntactic sugar.\n *\n * Example:\n * ```\n *\timport css from './Button.module.less';\n *\tconst Button = kind({\n *\t\tname: 'Button',\n *\t\t// Return a functional component suitable for use with React hooks\n *\t\tfunctional: true,\n *\t\t// expect color and onClick properties but neither required\n *\t\tpropTypes: {\n *\t\t\tcolor: PropTypes.string\n *\t\t},\n *\t\t// if no color is provided, it'll be green\n *\t\tdefaultProps: {\n *\t\t\tcolor: 'green'\n *\t\t},\n *\t\t// expect backgroundColor via context\n *\t\tcontextType: React.createContext({ backgroundColor }),\n *\t\t// configure styles with the static className to merge with user className\n *\t\tstyles: {\n *\t\t\t// include the CSS modules map so 'button' can be resolved to the local name\n *\t\t\tcss,\n *\t\t\tclassName: 'button'\n *\t\t},\n *\t\t// add event handlers that are cached between calls to prevent recreating each call. Any\n *\t\t// handlers are added to the props passed to `render()`.  See core/handle.\n *\t\thandlers: {\n *\t\t\tonKeyDown: (evt, props) => { .... }\n *\t\t},\n *\t\t// add some computed properties, these are added to props passed to `render()`\n *\t\tcomputed: {\n *\t\t\t// border color will be the color prepended by 'light'\n *\t\t\tborderColor: ({color}) => 'light' + color,\n *\t\t\t// background color will be the contextual background color if specified\n *\t\t\tcolor: ({color}, context) => context.backgroundColor || color\n *\t\t},\n *\t\t// Render the thing, already!\n *\t\trender: ({color, borderColor, children, ...rest}) => (\n *\t\t\t<button\n *\t\t\t\t{...rest}\n *\t\t\t\tstyle={{backgroundColor: color, borderColor}}\n *\t\t\t>\n *\t\t\t\t{children}\n *\t\t\t</button>\n *\t\t)\n *\t});\n * ```\n *\n * @function\n * @template Props\n * @param  {KindConfig}    config    Component configuration\n *\n * @returns {Component<Props>}           Component\n * @memberof core/kind\n * @see {@link core/handle}\n * @public\n */\nconst kind = (config) => {\n\tconst {\n\t\tcomputed: cfgComputed,\n\t\tcontextType = NoContext,\n\t\tdefaultProps,\n\t\tfunctional,\n\t\thandlers,\n\t\tname,\n\t\tpropTypes,\t// eslint-disable-line react/forbid-foreign-prop-types\n\t\trender,\n\t\tstyles: cfgStyles\n\t} = config;\n\n\tconst renderStyles = cfgStyles ? styles(cfgStyles) : false;\n\tconst renderComputed = cfgComputed ? computed(cfgComputed) : false;\n\tconst renderKind = (props, context) => {\n\t\tif (renderStyles) props = renderStyles(props, context);\n\t\tif (renderComputed) props = renderComputed(props, context);\n\n\t\treturn render(props, context);\n\t};\n\n\tlet Component;\n\n\t// In 4.x, this branch will become the only supported version and the class branch will be\n\t// removed.\n\tif (functional) {\n\t\tComponent = function (props) {\n\t\t\tconst ctx = React.useContext(contextType);\n\t\t\tconst boundHandlers = useHandlers(handlers, props, ctx);\n\n\t\t\tconst merged = {\n\t\t\t\t...props,\n\t\t\t\t...boundHandlers\n\t\t\t};\n\n\t\t\treturn renderKind(merged, ctx);\n\t\t};\n\t} else {\n\t\t// eslint-disable-next-line enact/display-name\n\t\tComponent = class extends React.Component {\n\t\t\tstatic contextType = contextType;\n\n\t\t\tconstructor () {\n\t\t\t\tsuper();\n\n\t\t\t\tthis.handlers = new Handlers(handlers);\n\t\t\t}\n\n\t\t\trender () {\n\t\t\t\tthis.handlers.setContext(this.props, this.context);\n\n\t\t\t\tconst merged = {\n\t\t\t\t\t...this.props,\n\t\t\t\t\t...this.handlers.handlers\n\t\t\t\t};\n\n\t\t\t\treturn renderKind(merged, this.context);\n\t\t\t}\n\t\t};\n\t}\n\n\tif (name) Component.displayName = name;\n\tif (propTypes) Component.propTypes = propTypes;\n\tif (defaultProps) Component.defaultProps = defaultProps;\n\n\t// Decorate the Component with the computed property object in DEV for easier testability\n\tif (__DEV__ && cfgComputed) Component.computed = cfgComputed;\n\n\tconst defaultPropKeys = defaultProps ? Object.keys(defaultProps) : null;\n\tconst handlerKeys = handlers ? Object.keys(handlers) : null;\n\n\tComponent.inline = (props, context) => {\n\t\tlet updated = {\n\t\t\t...props\n\t\t};\n\n\t\tif (defaultPropKeys && defaultPropKeys.length > 0) {\n\t\t\tdefaultPropKeys.forEach(key => {\n\t\t\t\t// eslint-disable-next-line no-undefined\n\t\t\t\tif (props == null || props[key] === undefined) {\n\t\t\t\t\tupdated[key] = defaultProps[key];\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif (handlerKeys && handlerKeys.length > 0) {\n\t\t\t// generate a handler with a clone of updated to ensure each handler receives the same\n\t\t\t// props without the kind.handlers injected.\n\t\t\tupdated = handlerKeys.reduce((_props, key) => {\n\t\t\t\t_props[key] = (ev) => handlers[key](ev, updated, context);\n\t\t\t\treturn _props;\n\t\t\t}, {...updated});\n\t\t}\n\n\t\treturn renderKind(updated, context);\n\t};\n\n\treturn Component;\n};\n\nexport default kind;\nexport {kind};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toggleIcon\":\"ToggleIcon_toggleIcon__3QUNj\",\"icon\":\"ToggleIcon_icon__1es11\",\"selected\":\"ToggleIcon_selected__3mUay\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toggleIcon\":\"Checkbox_toggleIcon__3FAw8\",\"icon\":\"Checkbox_icon__veJET\",\"selected\":\"Checkbox_selected__1UBC3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Item_item__2chpw\",\"inline\":\"Item_inline__27bUV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"checkboxItem\":\"CheckboxItem_checkboxItem__2y76-\",\"slotAfter\":\"CheckboxItem_slotAfter__1Ql5J\",\"slotBefore\":\"CheckboxItem_slotBefore__3t4oM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"transition\":\"Transition_transition__l3gOZ\",\"inner\":\"Transition_inner__-ikTU\",\"slide\":\"Transition_slide__3KcDA\",\"fade\":\"Transition_fade__jxjvw\",\"shown\":\"Transition_shown__1rew6\",\"clip\":\"Transition_clip__2EzQM\",\"right\":\"Transition_right__NszPJ\",\"left\":\"Transition_left__hswib\",\"hidden\":\"Transition_hidden__1TnUe\",\"up\":\"Transition_up__2L6qm\",\"down\":\"Transition_down__2sMsI\",\"short\":\"Transition_short__RSNZy\",\"medium\":\"Transition_medium__2xgl3\",\"long\":\"Transition_long__3uOxo\",\"ease\":\"Transition_ease__2pv2y\",\"ease-in\":\"Transition_ease-in__OMHNe\",\"ease-out\":\"Transition_ease-out__1bq30\",\"ease-in-out\":\"Transition_ease-in-out__3lPAw\",\"ease-in-quart\":\"Transition_ease-in-quart__1q-Hr\",\"ease-out-quart\":\"Transition_ease-out-quart__dZbVm\",\"linear\":\"Transition_linear__2jW5x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"progressBar\":\"ProgressBar_progressBar__xyV-n\",\"bar\":\"ProgressBar_bar__23thX\",\"fill\":\"ProgressBar_fill__1DaxG\",\"load\":\"ProgressBar_load__lloVg\",\"vertical\":\"ProgressBar_vertical__31Bbs\",\"horizontal\":\"ProgressBar_horizontal__1sjzV\",\"radial\":\"ProgressBar_radial__2_HIf\",\"fillOverHalf\":\"ProgressBar_fillOverHalf__19BIo\",\"loadOverHalf\":\"ProgressBar_loadOverHalf__G0YN7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slider\":\"Slider_slider__xAHNb\",\"progressBar\":\"Slider_progressBar__3kuWx\",\"bar\":\"Slider_bar__GY9qj\",\"fill\":\"Slider_fill__3_4G5\",\"knob\":\"Slider_knob__39E1g\",\"noFill\":\"Slider_noFill__2zCup\",\"active\":\"Slider_active__ETFbw\",\"pressed\":\"Slider_pressed__1k1mH\",\"horizontal\":\"Slider_horizontal__3Tqlg\",\"load\":\"Slider_load__1BATq\",\"vertical\":\"Slider_vertical__2I6Or\",\"tooltip\":\"Slider_tooltip__1jemj\",\"activateOnFocus\":\"Slider_activateOnFocus__3cYJP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"swatchButton\":\"SwatchButton_swatchButton__1do9U\",\"small\":\"SwatchButton_small__3ROme\",\"bg\":\"SwatchButton_bg____5mV\",\"colorSwatch\":\"SwatchButton_colorSwatch__3Qd8Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"colorPicker\":\"ColorPicker_colorPicker__3VbcX\",\"transitionContainer\":\"ColorPicker_transitionContainer__XRheV\",\"openTransitionContainer\":\"ColorPicker_openTransitionContainer__3NM-Y\",\"group\":\"ColorPicker_group__7_7lW\",\"sliders\":\"ColorPicker_sliders__12uJ5\",\"extended\":\"ColorPicker_extended__305Uw\",\"palette\":\"ColorPicker_palette__2e3ci\",\"swatch\":\"ColorPicker_swatch__2MIzD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contextualPopupDecorator\":\"ContextualPopupDecorator_contextualPopupDecorator__1mG8G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dateTime\":\"DateTime_dateTime__3ak0g\",\"pickers\":\"DateTime_pickers__1d70e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"drawer\":\"Drawer_drawer__1JqcA\",\"drawerTransitionContainer\":\"Drawer_drawerTransitionContainer__zfYXs\",\"inner\":\"Drawer_inner__13ffJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"galliumNote\":\"Drawer_galliumNote__1_l1a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"radioItem\":\"RadioItem_radioItem__Rg7Wy\",\"icon\":\"RadioItem_icon__1cBCd\",\"selected\":\"RadioItem_selected__1qkri\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dropdown\":\"Dropdown_dropdown__cdueA\",\"transitionContainer\":\"Dropdown_transitionContainer__2wsd-\",\"openTransitionContainer\":\"Dropdown_openTransitionContainer__2x2Qe\",\"dropdownButton\":\"Dropdown_dropdownButton__1dvu4\",\"button\":\"Dropdown_button__2e2F0\",\"bg\":\"Dropdown_bg__1ii0x\",\"icon\":\"Dropdown_icon__32eRw\",\"item\":\"Dropdown_item__E0Thl\",\"upTransitionContainer\":\"Dropdown_upTransitionContainer__1dltl\",\"dropdownList\":\"Dropdown_dropdownList__3jFgB\",\"dropdownListWithScroller\":\"Dropdown_dropdownListWithScroller__hEHwB\",\"scroller\":\"Dropdown_scroller__6d3bY\",\"selected\":\"Dropdown_selected__3HaI3\",\"client\":\"Dropdown_client__1UitV\",\"open\":\"Dropdown_open__1L-FW\",\"dropDownListItem\":\"Dropdown_dropDownListItem__2-UxK\",\"radioItem\":\"Dropdown_radioItem__ZWt5q\",\"upDropdownButton\":\"Dropdown_upDropdownButton__kykMs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__Uao4x\",\"titleContainer\":\"Header_titleContainer__1mosh\",\"endSlot\":\"Header_endSlot__gbwpB\",\"subtitle\":\"Header_subtitle__1B3tI\",\"title\":\"Header_title__3_7uh\",\"titleAbove\":\"Header_titleAbove__30a_t\",\"standard\":\"Header_standard__2Xffi\",\"hideLine\":\"Header_hideLine__3y_pe\"};","module.exports = __webpack_public_path__ + \"images/icon-enact-docs.png\";","module.exports = __webpack_public_path__ + \"images/icon-enact-factory.svg\";","/**\n * A higher-order component interface for `ref` forwarding.\n *\n * @module ui/ForwardRef\n * @exports\tForwardRef\n */\n\nimport hoc from '@enact/core/hoc';\nimport React from 'react';\n\n/**\n * Default config for {@link ui/ForwardRef.ForwardRef}.\n *\n * @memberof ui/ForwardRef.ForwardRef\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * The prop name to pass the ref callback\n\t *\n\t * @type {String}\n\t * @default 'forwardRef'\n\t * @memberof ui/ForwardRef.ForwardRef.defaultConfig\n\t */\n\tprop: 'forwardRef'\n};\n\n/**\n * A higher-order component that adapts [`React.forwardRef`](https://reactjs.org/docs/forwarding-refs.html)\n * to be chainable with other HOCs.\n *\n * The following examples are equivalent:\n *\n * ```\n * import ForwardRef from '@enact/ui/ForwardRef';\n * import Component from './Component';\n *\n * React.forwardRef((props, ref) => (\n * \t<Component {...props} setMyRef={ref} />\n * ));\n * ForwardRef({prop: 'setMyRef'}, Component);\n * ```\n *\n * @class ForwardRef\n * @memberof ui/ForwardRef\n * @hoc\n * @public\n */\nconst ForwardRef = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {prop} = config;\n\n\treturn React.forwardRef((props, ref) => {\n\t\tconst withRef = {\n\t\t\t...props,\n\t\t\t[prop]: ref\n\t\t};\n\n\t\treturn (\n\t\t\t<Wrapped {...withRef} />\n\t\t);\n\t});\n});\n\nexport default ForwardRef;\nexport {\n\tForwardRef\n};\n","module.exports = __webpack_public_path__ + \"images/icon-enact-logo.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"Image_image__HdnoT\",\"fit\":\"Image_fit__ex17o\",\"fill\":\"Image_fill__3ZOsL\",\"img\":\"Image_img__1b4YI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageItem\":\"ImageItem_imageItem__3EenH\",\"image\":\"ImageItem_image__1UUYz\",\"caption\":\"ImageItem_caption__rKGJS\",\"selected\":\"ImageItem_selected__36ig0\",\"horizontal\":\"ImageItem_horizontal__3471C\",\"vertical\":\"ImageItem_vertical__DDoAO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"Image_image__2XJ5n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageItem\":\"ImageItem_imageItem__DIWmH\",\"horizontal\":\"ImageItem_horizontal__2CR7H\",\"image\":\"ImageItem_image__3DqGA\",\"captionOverlay\":\"ImageItem_captionOverlay__2Wl9D\",\"caption\":\"ImageItem_caption__1OVYC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"IncrementSliderButton_button__1L7YK\",\"client\":\"IncrementSliderButton_client__Ssq-B\",\"bg\":\"IncrementSliderButton_bg__3ypPC\",\"horizontal\":\"IncrementSliderButton_horizontal__2ZgFP\",\"decrement\":\"IncrementSliderButton_decrement__J-16I\",\"increment\":\"IncrementSliderButton_increment__3bloU\",\"vertical\":\"IncrementSliderButton_vertical__8n7Pf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"labeledIcon\":\"LabeledIconButton_labeledIcon__1cfcm\",\"below\":\"LabeledIconButton_below__3PFgg\",\"icon\":\"LabeledIconButton_icon__3YBS-\",\"above\":\"LabeledIconButton_above__1IzUj\",\"after\":\"LabeledIconButton_after__1eVyj\",\"before\":\"LabeledIconButton_before__9i81B\",\"left\":\"LabeledIconButton_left__1iNM2\",\"right\":\"LabeledIconButton_right__A9go6\",\"label\":\"LabeledIconButton_label__7UmJg\",\"labeledIconButton\":\"LabeledIconButton_labeledIconButton__2nn1c\",\"selected\":\"LabeledIconButton_selected__2agqi\",\"small\":\"LabeledIconButton_small__3BKZm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popupMenu\":\"PopupMenu_popupMenu__-eCje\",\"title\":\"PopupMenu_title__3MVaL\",\"horizontal\":\"PopupMenu_horizontal__1dAM1\",\"body\":\"PopupMenu_body__3_Kwh\",\"popupTransitionContainer\":\"PopupMenu_popupTransitionContainer__1o99J\",\"inner\":\"PopupMenu_inner__2tMdj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cannotClose\":\"PopupMenu_cannotClose__3wJiA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"progressBar\":\"ProgressBar_progressBar__129Yw\",\"small\":\"ProgressBar_small__2wmQa\",\"vertical\":\"ProgressBar_vertical__bB7NQ\",\"fill\":\"ProgressBar_fill__3G9jz\"};","// Icons For Samples\n//\n// Grouped into logical sets for easy consumption.\n//\n\nimport {icons, iconsSilicon} from '@enact/agate/Icon';\n\nconst decrementIcons = [\n\t'minus',\n\t'arrowlargedown',\n\t'arrowlargeleft',\n\t'arrowsmalldown',\n\t'arrowsmallleft',\n\t'arrowhookright',\n\t'backward',\n\t'skipbackward',\n\t'pausebackward',\n\t'pausejumpbackward',\n\t'jumpbackward',\n\t'rollbackward',\n\t'arrowshrink',\n\t'back15'\n];\n\nconst incrementIcons = [\n\t'plus',\n\t'arrowlargeup',\n\t'arrowlargeright',\n\t'arrowsmallup',\n\t'arrowsmallright',\n\t'arrowhookleft',\n\t'forward',\n\t'skipforward',\n\t'pauseforward',\n\t'pausejumpforward',\n\t'jumpforward',\n\t'rollforward',\n\t'arrowextend',\n\t'forward15'\n];\n\nconst listIcons = [\n\t'denselist',\n\t'bulletlist',\n\t'list',\n\t'drawer',\n\t'playlist'\n];\n\nconst mediaIcons = [\n\t'circle',\n\t'stop',\n\t'play',\n\t'pause',\n\t'forward',\n\t'backward',\n\t'skipforward',\n\t'skipbackward',\n\t'pauseforward',\n\t'pausebackward',\n\t'pausejumpforward',\n\t'pausejumpbackward',\n\t'resumeplay',\n\t'image',\n\t'audio',\n\t'music',\n\t'languages',\n\t'cc',\n\t'ccon',\n\t'ccoff',\n\t'sub',\n\t'recordings',\n\t'livezoom',\n\t'liveplayback',\n\t'liveplaybackoff',\n\t'repeat',\n\t'repeatoff',\n\t'series',\n\t'repeatdownload',\n\t'view360',\n\t'view360off',\n\t'info'\n];\n\nconst arrowIcons = [\n\t'arrowlargedown',\n\t'arrowlargeup',\n\t'arrowlargeleft',\n\t'arrowlargeright',\n\t'arrowsmallup',\n\t'arrowsmalldown',\n\t'arrowsmallleft',\n\t'arrowsmallright'\n];\n\nconst starIcons = [\n\t'star',\n\t'hollowstar',\n\t'halfstar'\n];\n\nconst iconList = Object.keys(icons).sort();\nconst iconListSilicon = Object.keys(iconsSilicon).sort();\n\nexport default iconList;\nexport {decrementIcons, iconList, iconListSilicon, incrementIcons, listIcons, mediaIcons, arrowIcons, starIcons};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"Spinner_spinner__25L07\",\"centered\":\"Spinner_centered__22PAp\",\"running\":\"Spinner_running__2QhwN\",\"spinnerContainer\":\"Spinner_spinnerContainer__1o-44\",\"scrim\":\"Spinner_scrim__1mwXR\",\"blockClickOn\":\"Spinner_blockClickOn__2B96l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toggleIcon\":\"Switch_toggleIcon__1_Gv3\",\"icon\":\"Switch_icon__1AIcR\",\"animated\":\"Switch_animated__2DWi2\",\"selected\":\"Switch_selected__2YhJn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"switchItem\":\"SwitchItem_switchItem__37OEe\",\"label\":\"SwitchItem_label__DfCYE\",\"switchIcon\":\"SwitchItem_switchIcon__54MEe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"thumbnailItem\":\"ThumbnailItem_thumbnailItem__2CnWI\",\"thumbnail\":\"ThumbnailItem_thumbnail__3Ct6_\",\"content\":\"ThumbnailItem_content__1qdn3\",\"slotBefore\":\"ThumbnailItem_slotBefore__26F68\",\"styled\":\"ThumbnailItem_styled__13kd-\",\"item\":\"ThumbnailItem_item__1vj65\",\"label\":\"ThumbnailItem_label__3XGOu\",\"selected\":\"ThumbnailItem_selected__3rDoY\"};","/**\n * A collection of locale-aware text utility function.\n *\n * @module i18n/util\n * @exports isRtlText\n * @exports toCapitalized\n * @exports toLowerCase\n * @exports toUpperCase\n * @exports toWordCase\n */\nimport '../src/glue';\nimport {toLowerCase, toUpperCase} from '../src/case';\n\n/*\n * This regex pattern is used by the [isRtlText()]{@link i18n/utils.isRtlText} function.\n *\n * Arabic: \\u0600-\\u06FF\\u0750-\\u077F\\u08A0-\\u08FF\\uFB50-\\uFDFF\\uFE70-\\uFEFE\n * Hebrew: \\u0590-\\u05FF\\uFB1D-\\uFB4F\n *\n * @private\n */\nconst rtlPattern = /[\\u0600-\\u06FF\\u0750-\\u077F\\u08A0-\\u08FF\\uFB50-\\uFDFF\\uFE70-\\uFEFE\\u0590-\\u05FF\\uFB1D-\\uFB4F]/;\n\n/**\n * Takes content `str` and determines whether or not it is [RTL]{@link /docs/developer-guide/glossary/#rtl}.\n *\n * @function\n * @memberof i18n/util\n * @param {String} str - A string to check the [RTL]{@link /docs/developer-guide/glossary/#rtl}-ness of.\n * @returns {Boolean} `true` if `str` should be RTL; `false` if not.\n * @public\n */\nconst isRtlText = function (str) {\n\tif (typeof str === 'string') {\n\t\treturn rtlPattern.test(str);\n\t}\n\n\treturn false;\n};\n\n/**\n * Capitalizes the first letter of a given string (locale aware).\n *\n * @function\n * @memberof i18n/util\n * @param {String} str - The string to capitalize.\n * @returns {String} The capitalized string.\n * @public\n */\nconst toCapitalized = function (str) {\n\treturn toUpperCase(str.slice(0, 1)) + str.slice(1);\n};\n\n/**\n * Capitalizes every word in a string. Words are separated by spaces, not necessarily\n * word-breaks (locale aware).\n *\n * @function\n * @memberof i18n/util\n * @param {String} str - The string to capitalize.\n * @returns {String} The word-cased string.\n * @public\n */\nconst toWordCase = (str) => {\n\treturn str.split(' ').map(toCapitalized).join(' ');\n};\n\n/**\n * Locale-safely convert a string to lower case.\n *\n * @name toLowerCase\n * @function\n * @memberof i18n/util\n * @param {String} inString String to convert to lower case\n * @returns {String} Lower-cased string\n * @public\n */\n\n/**\n * Locale-safely convert a string to upper case.\n *\n * @name toUpperCase\n * @function\n * @memberof i18n/util\n * @param {String} inString String to convert to upper case\n * @returns {String} Upper-cased string\n * @public\n */\n\nexport {\n\tisRtlText,\n\ttoCapitalized,\n\ttoLowerCase,\n\ttoUpperCase,\n\ttoWordCase\n};\n","import kind from '@enact/core/kind';\nimport {isRtlText} from '@enact/i18n/util';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport css from './Tooltip.module.less';\n\n/**\n * {@link agate/TooltipDecorator.TooltipLabel} is a stateless tooltip component with\n * Agate styling applied.\n *\n * @class TooltipLabel\n * @memberof agate/TooltipDecorator\n * @ui\n * @private\n */\nconst TooltipLabel = kind({\n\tname: 'TooltipLabel',\n\n\tpropTypes: /** @lends agate/TooltipDecorator.TooltipLabel.prototype */ {\n\t\t/**\n\t\t * The node to be displayed as the main content of the tooltip.\n\t\t *\n\t\t * @type {Node}\n\t\t * @required\n\t\t */\n\t\tchildren: PropTypes.node.isRequired,\n\n\t\t/**\n\t\t * The width of tooltip content in pixels (px). If the content goes over the given width,\n\t\t * then it will automatically wrap. When `null`, content does not wrap.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\twidth: PropTypes.number\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'tooltipLabel'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({width, styler}) => styler.append({multi: !!width}),\n\t\tstyle: ({children, width, style}) => {\n\t\t\treturn {\n\t\t\t\t...style,\n\t\t\t\tdirection: isRtlText(children) ? 'rtl' : 'ltr',\n\t\t\t\twidth\n\t\t\t};\n\t\t}\n\t},\n\n\trender: ({children, ...rest}) => {\n\t\tdelete rest.width;\n\n\t\treturn (\n\t\t\t<div {...rest}>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nexport default TooltipLabel;\nexport {\n\tTooltipLabel\n};\n","import kind from '@enact/core/kind';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Skinnable from '../Skinnable';\n\nimport TooltipLabel from './TooltipLabel';\n\nimport css from './Tooltip.module.less';\n\n/**\n * A stateless tooltip component with Agate styling applied.\n *\n * @class TooltipBase\n * @memberof agate/TooltipDecorator\n * @ui\n * @public\n */\nconst TooltipBase = kind({\n\tname: 'Tooltip',\n\n\tpropTypes: /** @lends agate/TooltipDecorator.TooltipBase.prototype */ {\n\t\t/**\n\t\t * The node to be displayed as the main content of the tooltip.\n\t\t *\n\t\t * @type {Node}\n\t\t * @required\n\t\t */\n\t\tchildren: PropTypes.node.isRequired,\n\n\t\t/**\n\t\t * Position of tooltip arrow in relation to the activator.\n\t\t *\n\t\t * Note that `'left'`, `'center'`, `'right'` are applicable when direction is in vertical\n\t\t * orientation (i.e. `'above'`, `'below'`), and `'top'`, `'middle'`, and `'bottom'` are\n\t\t * applicable when direction is in horizontal orientation (i.e. `'left'`, `'right'`)\n\t\t *\n\t\t * @type {('left'|'center'|'right'|'top'|'middle'|'bottom')}\n\t\t * @default 'right'\n\t\t * @public\n\t\t */\n\t\tarrowAnchor: PropTypes.oneOf(['left', 'center', 'right', 'top', 'middle', 'bottom']),\n\n\t\t/**\n\t\t * Direction of label in relation to the activator.\n\t\t *\n\t\t * @type {('above'|'below'|'left'|'right')}\n\t\t * @default 'above'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['above', 'below', 'left', 'right']),\n\n\t\t/**\n\t\t * A value representing the amount to offset the label portion of the tooltip.\n\t\t *\n\t\t * In a \"center\" aligned tooltip, the label may be desirable to offset to one side or the\n\t\t * other. This prop accepts a value betwen -0.5 and 0.5 (representing 50% to the left or\n\t\t * right). This defaults to 0 offset (centered). It also automatically caps the value so it\n\t\t * never positions the tooltip label past the anchored arrow. If the tooltip label or arrow\n\t\t * has non-rectangular geometry (rounded corners, a wide tail, etc), you'll need to manually\n\t\t * account for that in your provided offset value.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tlabelOffset: PropTypes.number,\n\n\t\t/**\n\t\t * Style object for tooltip position.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tposition: PropTypes.shape({\n\t\t\tbottom: PropTypes.number,\n\t\t\tleft: PropTypes.number,\n\t\t\tright: PropTypes.number,\n\t\t\ttop: PropTypes.number\n\t\t}),\n\n\t\t/**\n\t\t * Anchors the tooltip relative to its container.\n\t\t *\n\t\t * Reconfigures the component to anchor itself to the designated edge of its container.\n\t\t * When this is not specified, the implication is that the component is \"absolutely\"\n\t\t * positioned, relative to the viewport, rather than its parent layer.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\trelative: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when the tooltip mounts/unmounts, giving a reference to the DOM.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\ttooltipRef: PropTypes.func,\n\n\t\t/**\n\t\t * The width of tooltip content in pixels (px).\n\t\t *\n\t\t * If the content goes over the given width, then it will automatically wrap. When `null`,\n\t\t * content does not wrap.\n\t\t *\n\t\t * @type {Number|null}\n\t\t * @public\n\t\t */\n\t\twidth: PropTypes.number\n\t},\n\n\tdefaultProps: {\n\t\tarrowAnchor: 'right',\n\t\tdirection: 'above',\n\t\tlabelOffset: 0\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'tooltip'\n\t},\n\n\tcomputed: {\n\t\tlabelOffset: ({labelOffset}) => {\n\t\t\tif (labelOffset) {\n\t\t\t\tconst cappedPosition = Math.max(-0.5, Math.min(0.5, labelOffset));\n\t\t\t\treturn {transform: `translateX(${cappedPosition * 100}%)`};\n\t\t\t}\n\t\t},\n\t\tclassName: ({direction, arrowAnchor, relative, styler}) => styler.append(direction, `${arrowAnchor}Arrow`, {relative, absolute: !relative}),\n\t\tstyle: ({position, style}) => {\n\t\t\treturn {\n\t\t\t\t...style,\n\t\t\t\t...position\n\t\t\t};\n\t\t}\n\t},\n\n\trender: ({children, tooltipRef, width, labelOffset, ...rest}) => {\n\t\tdelete rest.arrowAnchor;\n\t\tdelete rest.labelOffset;\n\t\tdelete rest.direction;\n\t\tdelete rest.position;\n\t\tdelete rest.relative;\n\n\t\treturn (\n\t\t\t<div {...rest}>\n\t\t\t\t<div className={css.tooltipAnchor} ref={tooltipRef} >\n\t\t\t\t\t<div className={css.tooltipArrow} />\n\t\t\t\t\t<TooltipLabel width={width} style={labelOffset}>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</TooltipLabel>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n/**\n * A tooltip component with Agate styling applied.\n *\n * @class Tooltip\n * @memberof agate/TooltipDecorator\n * @ui\n * @public\n */\nconst Tooltip = Skinnable(TooltipBase);\n\nexport default Tooltip;\nexport {Tooltip, TooltipBase};\n","// TooltipDecorator util.js\n//\n\nimport ri from '@enact/ui/resolution';\n\n/**\n * Calculates the unusable space of a centered Tooltip, which the Tooltip arrow cannot be positioned,\n * as a percentage of the Tooltip's total width.\n *\n * @param  {Number} tooltipWidth        The measured width of the Tooltip\n * @return {Number}                     The percent of the width of the tooltip that the Tooltip's\n *                                      decorations allocate for themselves (on one side).\n * @private\n */\nconst getLabelUnavailableSpace = function (tooltipWidth) {\n\t// Arrow is 15px wide total, we need to know how wide half of it is, since it's centered on the anchor point.\n\tconst arrowWidth = (15 / 2);\n\n\t// Tooltip is 54px tall, divide by half to get the curve radius ,add the tooltip width\n\t// to determine the distance that the anchor cannot progress past.\n\tconst tooltipUnavailableEdge = ri.scale((54 / 2) + arrowWidth);\n\n\t// cap the offset at 50% - that percentage\n\tconst tooltipUnavaliablePercentage = 0.5 - (tooltipUnavailableEdge / tooltipWidth);\n\n\treturn tooltipUnavaliablePercentage;\n};\n\n/**\n * Adjust anchor position for `Tooltip` based on overflow and rtl.\n * Takes the output of `adjustDirection`, and `calcOverflow`.\n *\n * @method\n * @memberof agate/TooltipDecorator\n * @param   {String}  arrowAnchor       Initial anchor position\n * @param   {String}  tooltipDirection  Direction of tooltip; value from `adjustDirection`\n * @param   {Object}  overflow          Tooltip's calculated overflow from `calcOverflow`\n * @param   {Boolean} rtl               RTL mode\n * @returns {String}                    Adjusted anchor position\n * @private\n */\nconst adjustAnchor = function (arrowAnchor, tooltipDirection, overflow, rtl) {\n\tif (tooltipDirection === 'above' || tooltipDirection === 'below') {\n\t\tif (rtl && arrowAnchor !== 'center') {\n\t\t\tarrowAnchor = arrowAnchor === 'left' ? 'right' : 'left';\n\t\t}\n\n\t\t// Flip sideways if it overflows to the sides\n\t\tif (arrowAnchor === 'center') {\n\t\t\t// If tooltip is anchored in the center, don't flip. We'll offset it appropriately later.\n\t\t} else if (overflow.isOverRight) {\n\t\t\tarrowAnchor = 'left';\n\t\t} else if (overflow.isOverLeft) {\n\t\t\tarrowAnchor = 'right';\n\t\t}\n\n\t\t// If tooltip is just too wide for the whole screen, switch it to a center tooltip\n\t\tif (overflow.isOverWide && tooltipDirection !== 'left' && tooltipDirection !== 'right') {\n\t\t\tarrowAnchor = 'center';\n\t\t}\n\t}\n\n\treturn arrowAnchor;\n};\n\n/**\n * Adjust direction for `Tooltip` based on overflow and rtl.\n * Takes the output from `calcOverflow`.\n *\n * @method\n * @memberof agate/TooltipDecorator\n * @param   {String}  tooltipDirection  Direction of tooltip\n * @param   {Object}  overflow          Tooltip's calculated overflow from `calcOverflow`\n * @param   {Boolean} rtl               RTL mode\n * @returns {String}                    Adjusted tooltip direction\n * @private\n */\nconst adjustDirection = function (tooltipDirection, overflow, rtl) {\n\tif (rtl && (tooltipDirection === 'left' || tooltipDirection === 'right')) {\n\t\ttooltipDirection = tooltipDirection === 'left' ? 'right' : 'left';\n\t}\n\n\t// Flip tooltip if it overflows towards the tooltip direction\n\tif (overflow.isOverTop && tooltipDirection === 'above') {\n\t\ttooltipDirection = 'below';\n\t} else if (overflow.isOverBottom && tooltipDirection === 'below') {\n\t\ttooltipDirection = 'above';\n\t} else if (overflow.isOverLeft && tooltipDirection === 'left' && !overflow.isOverWide) {\n\t\ttooltipDirection = 'right';\n\t} else if (overflow.isOverRight && tooltipDirection === 'right' && !overflow.isOverWide) {\n\t\ttooltipDirection = 'left';\n\t}\n\n\treturn tooltipDirection;\n};\n\n/**\n * Calculates the overflow of `Tooltip` — if `Tooltip` is at the edge of the viewport.\n * Return the amount of overflow in a particular direction if there is overflow (false otherwise).\n *\n * @method\n * @memberof agate/TooltipDecorator\n * @param   {Object} tooltipNode        The `getBoundingClientRect` values for tooltip node\n * @param   {Object} clientNode         The `getBoundingClientRect` values for client node\n * @param   {String} tooltipDirection   Direction of tooltip\n * @param   {Number} tooltipHeight      Tooltip height\n * @param   {Number} edgeKeepout        Extra margin around the screen to avoid\n * @returns {Object}                    Tooltip's calculated overflow\n * @private\n */\nconst calcOverflow = function (tooltipNode, clientNode, tooltipDirection, edgeKeepout) {\n\t// get the distance of space on both the right and left side of the client node. `clientNode.width / 2` because we want the tooltip to be positioned horizontally in middle of the client node.\n\tconst windowWidth = window.innerWidth;\n\tconst windowHeight = window.innerHeight;\n\tconst clientHorizontalCenter = clientNode.left + (clientNode.width / 2);\n\tconst tooltipSafeWidth = tooltipNode.width + edgeKeepout;\n\tconst tooltipCenterdSafeWidth = (tooltipNode.width / 2) + edgeKeepout;\n\tconst rightDelta = tooltipSafeWidth > clientHorizontalCenter;\n\tconst leftDelta = tooltipSafeWidth > windowWidth - clientHorizontalCenter;\n\tconst isTooltipWide = (tooltipSafeWidth > windowWidth) || (leftDelta && rightDelta);\n\n\tif (tooltipDirection === 'above' || tooltipDirection === 'below') {\n\t\tconst isOverTop = clientNode.top - tooltipNode.height - edgeKeepout;\n\t\tconst isOverBottom = clientNode.bottom + tooltipNode.height + edgeKeepout;\n\t\tconst isOverLeft = clientHorizontalCenter - tooltipSafeWidth;\n\t\tconst isOverRight = clientHorizontalCenter + tooltipSafeWidth;\n\t\tconst isOverCenterLeft = clientHorizontalCenter - tooltipCenterdSafeWidth;\n\t\tconst isOverCenterRight = clientHorizontalCenter + tooltipCenterdSafeWidth;\n\t\treturn {\n\t\t\tisOverTop: (isOverTop < 0) ? isOverTop : false,\n\t\t\tisOverBottom: (isOverBottom > windowHeight) ? (isOverBottom - windowHeight) : false,\n\t\t\tisOverLeft: (isOverLeft < 0) ? isOverLeft : false,\n\t\t\tisOverRight: (isOverRight > windowWidth) ? (isOverRight - windowWidth) : false,\n\t\t\tisOverCenterLeft: (isOverCenterLeft < 0) ? isOverCenterLeft : false,\n\t\t\tisOverCenterRight: (isOverCenterRight > windowWidth) ? (isOverCenterRight - windowWidth) : false,\n\t\t\tisOverWide: isTooltipWide\n\t\t};\n\t} else if (tooltipDirection === 'left' || tooltipDirection === 'right') {\n\t\tconst isOverTop = clientNode.top - tooltipNode.height + clientNode.height - edgeKeepout;\n\t\tconst isOverBottom = clientNode.bottom + tooltipNode.height - (clientNode.height / 2) + edgeKeepout;\n\t\tconst isOverLeft = clientNode.left - tooltipNode.width - edgeKeepout;\n\t\tconst isOverRight = clientNode.right + tooltipNode.width + edgeKeepout;\n\t\treturn {\n\t\t\tisOverTop: (isOverTop < 0) ? isOverTop : false,\n\t\t\tisOverBottom: (isOverBottom > windowHeight) ? (isOverBottom - windowHeight) : false,\n\t\t\tisOverLeft: (isOverLeft < 0) ? isOverLeft : false,\n\t\t\tisOverRight: (isOverRight > windowWidth) ? (isOverRight - windowWidth) : false,\n\t\t\tisOverWide: isTooltipWide\n\t\t};\n\t}\n};\n\n/**\n * Calculates the top and left position for `Tooltip`.\n * Takes the output of `adjustAnchor`, `adjustDirection`, and `calcOverflow`.\n *\n * @method\n * @memberof agate/TooltipDecorator\n * @param   {Object} tooltipNode        The `getBoundingClientRect` values for tooltip node\n * @param   {Object} clientNode         The `getBoundingClientRect` values for client node\n * @param   {String} arrowAnchor        Anchor position from `adjustAnchor`\n * @param   {String} tooltipDirection   Direction of tooltip\n * @param   {Number} tooltipHeight      Tooltip height\n * @param   {Object} overflow           Tooltip's calculated overflow from `calcOverflow`\n * @param   {Boolean} rtl               RTL mode\n * @returns {Object}                    Tooltip top and left position\n * @private\n */\nconst getPosition = function (clientNode, tooltipDirection) {\n\tlet position = {};\n\n\tswitch (tooltipDirection) {\n\t\tcase 'above':\n\t\t\tposition.top = clientNode.top;\n\t\t\tbreak;\n\t\tcase 'below':\n\t\t\tposition.top = clientNode.bottom;\n\t\t\tbreak;\n\t\tcase 'right':\n\t\t\tposition.left = clientNode.right;\n\t\t\tbreak;\n\t\tcase 'left':\n\t\t\tposition.left = clientNode.left;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tposition = {};\n\t}\n\n\tif (tooltipDirection === 'above' || tooltipDirection === 'below') {\n\t\tposition.left = clientNode.left + clientNode.width / 2;\n\t} else if (tooltipDirection === 'left' || tooltipDirection === 'right') {\n\t\tposition.top = clientNode.top + clientNode.height / 2;\n\t}\n\n\treturn position;\n};\n\n/**\n * Adjusts the `Tooltip` arrow anchor when the tooltip is too wide.\n * Takes the output of `calcOverflow`.\n *\n * @method\n * @memberof agate/TooltipDecorator\n * @param   {Object}  tooltipNode       The `getBoundingClientRect` values for tooltip node\n * @param   {String}  tooltipDirection  Direction of tooltip\n * @param   {Object}  tooltipPosition   Calculated tooltip position from `getPosition`\n * @param   {Object}  overflow          Tooltip's calculated overflow from `calcOverflow`\n * @private\n */\nconst getLabelOffset = function (tooltipNode, tooltipDirection, tooltipPosition, overflow) {\n\t// This method is irrelevent to left and right anchored tooltips, skip entirely.\n\tif (tooltipDirection !== 'left' && tooltipDirection !== 'right') {\n\t\tconst tooltipWidth = tooltipNode.width;\n\n\t\tif (\n\t\t\toverflow.isOverWide ||\n\t\t\toverflow.isOverCenterLeft ||\n\t\t\toverflow.isOverCenterRight\n\t\t) {\n\t\t\tlet pixelOffset = 0;\n\n\t\t\tif (overflow.isOverCenterLeft) {\n\t\t\t\t// Start shifting the label to the right (negative offset)\n\t\t\t\tpixelOffset = overflow.isOverCenterLeft;\n\t\t\t} else if (overflow.isOverCenterRight) {\n\t\t\t\t// Start shifting the label to the left (positive offset)\n\t\t\t\tpixelOffset = overflow.isOverCenterRight;\n\t\t\t}\n\n\t\t\tconst percentageOffset = (pixelOffset / tooltipWidth) * -1;\n\t\t\tconst offsetBoundaryPercentage = getLabelUnavailableSpace(tooltipWidth);\n\t\t\tconst cappedPercentageOffset = Math.max(offsetBoundaryPercentage * -1, Math.min(offsetBoundaryPercentage, percentageOffset));\n\n\t\t\treturn cappedPercentageOffset;\n\t\t}\n\t}\n\treturn null;\n};\n\nexport {\n\tadjustDirection,\n\tadjustAnchor,\n\tcalcOverflow,\n\tgetLabelOffset,\n\tgetPosition\n};\n","/* global MutationObserver ResizeObserver */\n\n/**\n * Agate styled tooltip components.\n *\n * @module agate/TooltipDecorator\n * @exports Tooltip\n * @exports TooltipBase\n * @exports TooltipDecorator\n */\n\nimport {forward, handle, forProp} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport {Job} from '@enact/core/util';\nimport {I18nContextDecorator} from '@enact/i18n/I18nDecorator';\nimport {FloatingLayerBase} from '@enact/ui/FloatingLayer';\nimport ri from '@enact/ui/resolution';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {Tooltip, TooltipBase} from './Tooltip';\nimport {adjustDirection, adjustAnchor, calcOverflow, getLabelOffset, getPosition} from './util';\n\nlet currentTooltip; // needed to know whether or not we should stop a showing job when unmounting\n\n/**\n * Default config for [TooltipDecorator]{@link agate/TooltipDecorator.TooltipDecorator}\n *\n * @memberof agate/TooltipDecorator.TooltipDecorator\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * The boundary around the screen which the tooltip should never cross, typically involving\n\t * flipping to an alternate orientation or adjusting its offset to remain on screen.\n\t * The default of 24 is derived from a standard 12px screen-keepout size plus the standard\n\t * Spotlight-outset (12px) margin/padding value which keeps elements and text aligned inside a\n\t * [Panel]{@link agate/Panels.Panel}. Note: This value will be scaled according to the\n\t * resolution.\n\t *\n\t * @type {Number}\n\t * @default 24\n\t * @memberof agate/TooltipDecorator.TooltipDecorator.defaultConfig\n\t */\n\tscreenEdgeKeepout: (12 + 12),\n\n\t/**\n\t * The name of the property which will receive the tooltip node.\n\t *\n\t * By default, `TooltipDecorator` will add a new child to the wrapped component, following any\n\t * other children passed in. If a component needs to, it can specify another property to receive\n\t * the tooltip and the `children` property will not be modified.\n\t *\n\t * @type {String}\n\t * @default 'children'\n\t * @memberof agate/TooltipDecorator.TooltipDecorator.defaultConfig\n\t */\n\ttooltipDestinationProp: 'children'\n};\n\n/**\n * A higher-order component which positions [Tooltip]{@link agate/TooltipDecorator.Tooltip} in\n * relation to the wrapped component.\n *\n * The tooltip is automatically displayed when the decoratorated component is focused after a set\n * period of time.\n *\n * The tooltip is positioned around the decorator where there is available window space.\n *\n * Note that the direction of tooltip will be flipped horizontally in RTL locales.\n *\n * @class TooltipDecorator\n * @memberof agate/TooltipDecorator\n * @hoc\n * @public\n */\nconst TooltipDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\n\tconst tooltipDestinationProp = config.tooltipDestinationProp;\n\n\tconst Decorator = class extends React.Component {\n\t\tstatic displayName = 'TooltipDecorator';\n\n\t\tstatic propTypes = /** @lends agate/TooltipDecorator.TooltipDecorator.prototype */ {\n\t\t\t/**\n\t\t\t * Disables the component but does not affect tooltip operation.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tdisabled: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Indicates the tooltip text direction is right-to-left.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @private\n\t\t\t */\n\t\t\trtl: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Time to wait (in milliseconds) before showing tooltip on hover.\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 500\n\t\t\t * @public\n\t\t\t */\n\t\t\ttooltipDelay: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * Position of the tooltip with respect to the wrapped component.\n\t\t\t *\n\t\t\t * | *Value* | *Tooltip Direction* |\n\t\t\t * |---|---|\n\t\t\t * | `'above'` | Above component, flowing to the right |\n\t\t\t * | `'above center'` | Above component, centered |\n\t\t\t * | `'above left'` | Above component, flowing to the left |\n\t\t\t * | `'above right'` | Above component, flowing to the right |\n\t\t\t * | `'below'` | Below component, flowing to the right |\n\t\t\t * | `'below center'` | Below component, centered |\n\t\t\t * | `'below left'` | Below component, flowing to the left |\n\t\t\t * | `'below right'` | Below component, flowing to the right |\n\t\t\t * | `'left bottom'` | Left of the component, contents at the bottom |\n\t\t\t * | `'left middle'` | Left of the component, contents middle aligned |\n\t\t\t * | `'left top'` | Left of the component, contents at the top |\n\t\t\t * | `'right bottom'` | Right of the component, contents at the bottom |\n\t\t\t * | `'right middle'` | Right of the component, contents middle aligned |\n\t\t\t * | `'right top'` | Right of the component, contents at the top |\n\t\t\t *\n\t\t\t * `TooltipDectorator` attempts to choose the best direction to meet layout and language\n\t\t\t * requirements. Left and right directions will reverse for RTL languages. Additionally,\n\t\t\t * the tooltip will reverse direction if it will prevent overflowing off the viewport\n\t\t\t *\n\t\t\t * @type {('above'|'above center'|'above left'|'above right'|'below'|\n\t\t\t *  'below center'|'below left'|'below right'|'left bottom'|'left middle'|'left top'|\n\t\t\t * \t'right bottom'|'right middle'|'right top')}\n\t\t\t * @default 'above'\n\t\t\t * @public\n\t\t\t */\n\t\t\ttooltipPosition: PropTypes.oneOf([\n\t\t\t\t'above', 'above center', 'above left', 'above right',\n\t\t\t\t'below', 'below center', 'below left', 'below right',\n\t\t\t\t'left bottom', 'left middle', 'left top',\n\t\t\t\t'right bottom', 'right middle', 'right top']),\n\n\t\t\t/**\n\t\t\t * Properties to be passed to tooltip component.\n\t\t\t *\n\t\t\t * @type {Object}\n\t\t\t * @public\n\t\t\t */\n\t\t\ttooltipProps: PropTypes.object,\n\n\t\t\t/**\n\t\t\t * Positions the tooltip relative to its container.\n\t\t\t *\n\t\t\t * Determines whether your tooltip should position itself relative to its container or\n\t\t\t * relative to the screen (absolute positioning on the floating layer). When setting to\n\t\t\t * `true`, to enable relative positioning, it may be important to specify the\n\t\t\t * `tooltipDestinationProp` key in this HoC's config object. A relatively positioned\n\t\t\t * Tooltip for a `Button`, for example, must be placed in the `decoration` prop.\n\t\t\t *\n\t\t\t * It may be necessary to assign the CSS rule `position` to the containing element so\n\t\t\t * relatively positioned Tooltip has a frame to \"stick to\" the edge of.\n\t\t\t *\n\t\t\t * Anchoring points can be visualized as follows:\n\t\t\t * ```\n\t\t\t * ┌───◎───┐\n\t\t\t * ◎       ◎\n\t\t\t * └───◎───┘\n\t\t\t * ```\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @public\n\t\t\t */\n\t\t\ttooltipRelative: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Tooltip content.\n\t\t\t *\n\t\t\t * @type {Node}\n\t\t\t * @public\n\t\t\t */\n\t\t\ttooltipText: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\n\n\t\t\t/**\n\t\t\t * The interval (in milliseconds) to recheck the math for a currently showing tooltip's\n\t\t\t * positioning and orientation. Useful if your anchor element moves.\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 400\n\t\t\t * @public\n\t\t\t */\n\t\t\ttooltipUpdateDelay: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * The width of tooltip content in pixels (px).\n\t\t\t *\n\t\t\t * If the content goes over the given width, it will automatically wrap. When `null`,\n\t\t\t * content does not wrap.\n\t\t\t *\n\t\t\t * @type {Number|null}\n\t\t\t * @public\n\t\t\t */\n\t\t\ttooltipWidth: PropTypes.number\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\tdisabled: false,\n\t\t\ttooltipDelay: 500,\n\t\t\ttooltipPosition: 'above',\n\t\t\ttooltipUpdateDelay: 400\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.state = {\n\t\t\t\tshowing: false,\n\t\t\t\ttooltipDirection: null,\n\t\t\t\tarrowAnchor: null,\n\t\t\t\tposition: {top: 0, left: 0}\n\t\t\t};\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\tif (window.MutationObserver) {\n\t\t\t\tthis.mutationObserver = new MutationObserver(this.startTooltipLayoutJob);\n\t\t\t}\n\n\t\t\tif (window.ResizeObserver) {\n\t\t\t\tthis.resizeObserver = new ResizeObserver(this.startTooltipLayoutJob);\n\t\t\t}\n\t\t}\n\n\t\tcomponentDidUpdate (prevProps, prevState) {\n\t\t\tif (this.state.showing && (\n\t\t\t\tprevProps.tooltipText !== this.props.tooltipText ||\n\t\t\t\tprevProps.tooltipPosition !== this.props.tooltipPosition ||\n\t\t\t\tprevState.showing !== this.state.showing\n\t\t\t)) {\n\t\t\t\tthis.setTooltipLayout();\n\t\t\t}\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tif (currentTooltip === this) {\n\t\t\t\tcurrentTooltip = null;\n\n\t\t\t\tif (this.mutationObserver) {\n\t\t\t\t\tthis.mutationObserver.disconnect();\n\t\t\t\t}\n\n\t\t\t\tif (this.resizeObserver) {\n\t\t\t\t\tthis.resizeObserver.disconnect();\n\t\t\t\t}\n\n\t\t\t\tthis.showTooltipJob.stop();\n\t\t\t\tthis.setTooltipLayoutJob.stop();\n\t\t\t}\n\t\t}\n\n\t\tsetTooltipLayout () {\n\t\t\tif (!this.tooltipRef || !this.clientRef) return;\n\n\t\t\tconst screenEdgeKeepout = ri.scale(config.screenEdgeKeepout);\n\t\t\tconst position = this.props.tooltipPosition;\n\t\t\tconst arr = position.split(' ');\n\t\t\tlet tooltipDirection = null;\n\t\t\tlet arrowAnchor = null;\n\n\t\t\tif (arr.length === 2) {\n\t\t\t\t[tooltipDirection, arrowAnchor] = arr;\n\t\t\t} else if (position === 'above' || position === 'below') {\n\t\t\t\ttooltipDirection = position;\n\t\t\t\tarrowAnchor = 'right';\n\t\t\t} else {\n\t\t\t\ttooltipDirection = 'above';\n\t\t\t\tarrowAnchor = 'right';\n\t\t\t}\n\n\t\t\tconst tooltipNode = this.tooltipRef.getBoundingClientRect(); // label bound\n\t\t\tconst clientNode = this.clientRef.getBoundingClientRect(); // client bound\n\t\t\tconst overflow = calcOverflow(tooltipNode, clientNode, tooltipDirection, screenEdgeKeepout);\n\n\t\t\ttooltipDirection = adjustDirection(tooltipDirection, overflow, this.props.rtl);\n\t\t\tarrowAnchor = adjustAnchor(arrowAnchor, tooltipDirection, overflow, this.props.rtl);\n\n\t\t\tconst tooltipPosition = getPosition(clientNode, tooltipDirection);\n\t\t\tconst labelOffset = arrowAnchor === 'center' ? getLabelOffset(tooltipNode, tooltipDirection, tooltipPosition, overflow) : null;\n\t\t\tconst {top, left} = this.state.position;\n\n\t\t\tif (\n\t\t\t\t(tooltipPosition.top !== top) ||\n\t\t\t\t(tooltipPosition.left !== left) ||\n\t\t\t\t(labelOffset !== this.state.labelOffset) ||\n\t\t\t\t(arrowAnchor !== this.state.arrowAnchor)\n\t\t\t) {\n\t\t\t\tthis.setState({\n\t\t\t\t\ttooltipDirection,\n\t\t\t\t\tarrowAnchor,\n\t\t\t\t\tlabelOffset,\n\t\t\t\t\tposition: tooltipPosition\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tshowTooltipJob = new Job(() => {\n\t\t\tif (!this.state.showing) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tshowing: true\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tsetTooltipLayoutJob = new Job(() => {\n\t\t\tthis.setTooltipLayout();\n\t\t});\n\n\t\tstartTooltipLayoutJob = () => {\n\t\t\tthis.setTooltipLayoutJob.startAfter(this.props.tooltipUpdateDelay);\n\t\t};\n\n\t\tshowTooltip = (client) => {\n\t\t\tconst {tooltipDelay, tooltipText} = this.props;\n\n\t\t\tif (tooltipText) {\n\t\t\t\tthis.clientRef = client;\n\t\t\t\tcurrentTooltip = this;\n\t\t\t\tthis.showTooltipJob.startAfter(tooltipDelay);\n\n\t\t\t\tif (this.mutationObserver) {\n\t\t\t\t\tthis.mutationObserver.observe(this.clientRef, {attributes: true, childList: true});\n\t\t\t\t}\n\n\t\t\t\tif (this.resizeObserver) {\n\t\t\t\t\tthis.resizeObserver.observe(this.clientRef);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\thideTooltip = () => {\n\t\t\tif (this.props.tooltipText) {\n\t\t\t\tif (this.mutationObserver) {\n\t\t\t\t\tthis.mutationObserver.disconnect();\n\t\t\t\t}\n\n\t\t\t\tif (this.resizeObserver) {\n\t\t\t\t\tthis.resizeObserver.disconnect();\n\t\t\t\t}\n\n\t\t\t\tthis.clientRef = null;\n\t\t\t\tcurrentTooltip = null;\n\n\t\t\t\tthis.showTooltipJob.stop();\n\t\t\t\tthis.setTooltipLayoutJob.stop();\n\n\t\t\t\tif (this.state.showing) {\n\t\t\t\t\tthis.setState({showing: false});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\thandle = handle.bind(this);\n\n\t\t// Recalculate tooltip layout on keydown to make sure tooltip is positioned correctly in case something changes as a result of the keydown.\n\t\thandleKeyDown = this.handle(\n\t\t\tforward('onKeyDown'),\n\t\t\tforProp('disabled', false),\n\t\t\t() => {\n\t\t\t\tthis.startTooltipLayoutJob();\n\t\t\t}\n\t\t);\n\n\t\thandleMouseOver = this.handle(\n\t\t\tforward('onMouseOver'),\n\t\t\tforProp('disabled', true),\n\t\t\t(ev) => {\n\t\t\t\tthis.showTooltip(ev.target);\n\t\t\t}\n\t\t);\n\n\t\thandleMouseOut = this.handle(\n\t\t\tforward('onMouseOut'),\n\t\t\tforProp('disabled', true),\n\t\t\t() => {\n\t\t\t\tthis.hideTooltip();\n\t\t\t}\n\t\t);\n\n\t\thandleFocus = this.handle(\n\t\t\tforward('onFocus'),\n\t\t\t({target}) => this.showTooltip(target)\n\t\t);\n\n\t\thandleBlur = this.handle(\n\t\t\tforward('onBlur'),\n\t\t\tthis.hideTooltip\n\t\t);\n\n\t\tgetTooltipRef = (node) => {\n\t\t\tthis.tooltipRef = node;\n\t\t\tif (node) {\n\t\t\t\tthis.setTooltipLayout();\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Conditionally creates the FloatingLayer and Tooltip based on the presence of\n\t\t * `tooltipText` and returns a property bag to pass onto the Wrapped component\n\t\t *\n\t\t * @returns {Object} Prop object\n\t\t * @private\n\t\t */\n\t\trenderTooltip () {\n\t\t\tconst {children, tooltipRelative, tooltipProps, tooltipText, tooltipWidth} = this.props;\n\n\t\t\tif (tooltipText) {\n\t\t\t\tlet renderedTooltip = (\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\taria-live=\"off\"\n\t\t\t\t\t\trole=\"alert\"\n\t\t\t\t\t\tlabelOffset={this.state.labelOffset}\n\t\t\t\t\t\t{...tooltipProps}\n\t\t\t\t\t\tarrowAnchor={this.state.arrowAnchor}\n\t\t\t\t\t\tdirection={this.state.tooltipDirection}\n\t\t\t\t\t\tposition={tooltipRelative ? null : this.state.position}\n\t\t\t\t\t\trelative={tooltipRelative}\n\t\t\t\t\t\tstyle={{display: ((tooltipRelative && !this.state.showing) ? 'none' : null)}}\n\t\t\t\t\t\ttooltipRef={this.getTooltipRef}\n\t\t\t\t\t\twidth={tooltipWidth}\n\t\t\t\t\t>\n\t\t\t\t\t\t{tooltipText}\n\t\t\t\t\t</Tooltip>\n\t\t\t\t);\n\n\n\t\t\t\tif (!tooltipRelative) {\n\t\t\t\t\trenderedTooltip = (\n\t\t\t\t\t\t<FloatingLayerBase open={this.state.showing} noAutoDismiss onDismiss={this.hideTooltip} scrimType=\"none\" key=\"tooltipFloatingLayer\">\n\t\t\t\t\t\t\t{renderedTooltip}\n\t\t\t\t\t\t</FloatingLayerBase>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (tooltipDestinationProp === 'children') {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tchildren: [children, renderedTooltip]\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t[tooltipDestinationProp]: renderedTooltip\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {children};\n\t\t}\n\n\t\trender () {\n\t\t\t// minor optimization to merge all the props together once since we also have to delete\n\t\t\t// invalid props before passing downstream\n\t\t\tconst props = Object.assign(\n\t\t\t\t{},\n\t\t\t\tthis.props,\n\t\t\t\tthis.renderTooltip(),\n\t\t\t\t{\n\t\t\t\t\tonBlur: this.handleBlur,\n\t\t\t\t\tonFocus: this.handleFocus,\n\t\t\t\t\tonMouseOut: this.handleMouseOut,\n\t\t\t\t\tonMouseOver: this.handleMouseOver,\n\t\t\t\t\tonKeyDown: this.handleKeyDown\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tdelete props.rtl;\n\t\t\tdelete props.tooltipDelay;\n\t\t\tdelete props.tooltipPosition;\n\t\t\tdelete props.tooltipProps;\n\t\t\tdelete props.tooltipRelative;\n\t\t\tdelete props.tooltipText;\n\t\t\tdelete props.tooltipUpdateDelay;\n\t\t\tdelete props.tooltipWidth;\n\n\t\t\treturn (\n\t\t\t\t<Wrapped {...props} />\n\t\t\t);\n\t\t}\n\t};\n\n\treturn I18nContextDecorator(\n\t\t{rtlProp: 'rtl'},\n\t\tDecorator\n\t);\n});\n\nexport default TooltipDecorator;\nexport {\n\tTooltip,\n\tTooltipBase,\n\tTooltipDecorator\n};\n","/**\n * Exports the {@link spotlight/SpotlightRootDecorator.SpotlightRootDecorator}\n * higher-order component.\n *\n * @module spotlight/SpotlightRootDecorator\n * @exports SpotlightRootDecorator\n */\n\nimport hoc from '@enact/core/hoc';\nimport React from 'react';\n\nimport Spotlight from '../src/spotlight';\nimport {spottableClass} from '../Spottable';\n\nimport {rootContainerId} from '../src/container';\n\nimport '../styles/debug.less';\n\n/**\n * Default configuration for SpotlightRootDecorator\n *\n * @hocconfig\n * @memberof spotlight/SpotlightRootDecorator.SpotlightRootDecorator\n */\nconst defaultConfig = {\n\t/**\n\t * When `true`, the contents of the component will not receive spotlight focus after being rendered.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t * @memberof spotlight/SpotlightRootDecorator.SpotlightRootDecorator.defaultConfig\n\t */\n\tnoAutoFocus: false\n};\n\n/**\n * Constructs a higher-order component that initializes and enables Spotlight 5-way navigation\n * within an application.\n *\n * No additional properties are passed to the wrapped component.\n *\n * Example:\n * ```\n *\tconst App = SpotlightRootDecorator(ApplicationView);\n * ```\n *\n * @class SpotlightRootDecorator\n * @memberof spotlight/SpotlightRootDecorator\n * @param  {Object} defaultConfig Set of default configuration parameters\n * @param  {Function} Wrapped higher-order component\n * @returns {Function} SpotlightRootDecorator\n * @hoc\n */\nconst SpotlightRootDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {noAutoFocus} = config;\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'SpotlightRootDecorator';\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tif (typeof window === 'object') {\n\t\t\t\tSpotlight.initialize({\n\t\t\t\t\tselector: '.' + spottableClass,\n\t\t\t\t\trestrict: 'none'\n\t\t\t\t});\n\n\t\t\t\tSpotlight.set(rootContainerId, {\n\t\t\t\t\toverflow: true\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\tif (!noAutoFocus) {\n\t\t\t\tSpotlight.focus();\n\t\t\t}\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tSpotlight.terminate();\n\t\t}\n\n\t\tnavigableFilter = (elem) => {\n\t\t\twhile (elem && elem !== document && elem.nodeType === 1) {\n\t\t\t\tif (elem.getAttribute('data-spotlight-container-disabled') === 'true') return false;\n\t\t\t\telem = elem.parentNode;\n\t\t\t}\n\t\t};\n\n\t\trender () {\n\t\t\treturn <Wrapped {...this.props} />;\n\t\t}\n\t};\n});\n\nexport default SpotlightRootDecorator;\nexport {\n\tSpotlightRootDecorator\n};\n","/**\n * Applies Agate specific styling and behaviors.\n *\n * @module agate/ThemeDecorator\n * @exports ThemeDecorator\n */\n\nimport {addAll} from '@enact/core/keymap';\nimport classnames from 'classnames';\nimport kind from '@enact/core/kind';\nimport hoc from '@enact/core/hoc';\nimport I18nDecorator from '@enact/i18n/I18nDecorator';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {ResolutionDecorator} from '@enact/ui/resolution';\nimport {FloatingLayerDecorator} from '@enact/ui/FloatingLayer';\nimport SpotlightRootDecorator from '@enact/spotlight/SpotlightRootDecorator';\nimport convert from 'color-convert';\n\nimport Skinnable from '../Skinnable';\n\nimport screenTypes from './screenTypes.json';\nimport css from './ThemeDecorator.module.less';\n\n/**\n * Default config for {@link agate/ThemeDecorator.ThemeDecorator}.\n *\n * @memberof agate/ThemeDecorator.ThemeDecorator\n * @hocconfig\n */\nconst defaultConfig = /** @lends agate/ThemeDecorator.ThemeDecorator.defaultConfig */ {\n\t/**\n\t * Enables customization of a skin's highlight and accent color.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @public\n\t */\n\tcustomSkin: true,\n\n\t/**\n\t * Enables a floating layer for popup components.\n\t *\n\t * If `false`, app will be responsible for applying the decorator.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @see {@link ui/FloatingLayer.FloatingLayerDecorator}\n\t * @public\n\t */\n\tfloat: true,\n\n\t/**\n\t * Applies I18nDecorator.\n\t *\n\t * If `false`, app will be responsible for applying the decorator.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @see {@link i18n/I18nDecorator}\n\t * @public\n\t */\n\ti18n: true,\n\n\t/**\n\t * Disables setting spotlight focus on first render.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tnoAutoFocus: false,\n\n\t/**\n\t * Enables overlay mode (no background color will be applied).\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\toverlay: false,\n\n\t/**\n\t * Override the resolution independence settings.\n\t *\n\t * @type {Object}\n\t * @see {@link ui/resolution}\n\t * @public\n\t */\n\tri: {\n\t\tscreenTypes\n\t},\n\n\t/**\n\t * Applies skinning support.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @see {@link agate/Skinnable}\n\t * @public\n\t */\n\tskin: true,\n\n\t/**\n\t * Applies spotlight decorator.\n\t *\n\t * If `false`, app will be responsible for applying the decorator.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @see {@link spotlight/SpotlightRootDecorator}\n\t * @public\n\t */\n\tspotlight: true\n};\n\n// TODO: If this will be public it should be documented or perhaps the props\n// added to `ThemeDecorator`\nconst CustomizableSkinStyle = kind({\n\tname: 'CustomizableSkinStyle',\n\n\tpropTypes: {\n\t\tclassName: PropTypes.string.isRequired,\n\n\t\t/**\n\t\t * A custom accent color, as a hex string.\n\t\t *\n\t\t * @memberof agate/ThemeDecorator.ThemeDecorator.prototype\n\t\t * @type {String}\n\t\t * @default '#8b7efe'\n\t\t * @public\n\t\t */\n\t\taccent: PropTypes.string,\n\n\t\t/**\n\t\t * A custom highlight color, as a hex string.\n\t\t *\n\t\t * @memberof agate/ThemeDecorator.ThemeDecorator.prototype\n\t\t * @type {String}\n\t\t * @default '#c6c0fe'\n\t\t * @public\n\t\t */\n\t\thighlight: PropTypes.string\n\t},\n\n\t// TODO: Consider allowing `null` and dropping this override completely\n\tdefaultProps: {\n\t\taccent: '#8b7efe',\n\t\thighlight: '#c6c0fe'\n\t},\n\n\tcomputed: {\n\t\tcssRules: ({className, accent, highlight}) => {\n\t\t\tconst accentObj = convert.hex.hsl(accent);\n\t\t\tconst highlightObj = convert.hex.hsl(highlight);\n\n\t\t\tconst style = {\n\t\t\t\t'--agate-accent-color': accent,\n\t\t\t\t'--agate-accent-h': accentObj[0],\n\t\t\t\t'--agate-accent-s': accentObj[1] + '%',\n\t\t\t\t'--agate-accent-l': accentObj[2] + '%',\n\t\t\t\t'--agate-highlight-color': highlight,\n\t\t\t\t'--agate-highlight-h': highlightObj[0],\n\t\t\t\t'--agate-highlight-s': highlightObj[1] + '%',\n\t\t\t\t'--agate-highlight-l': highlightObj[2] + '%'\n\t\t\t};\n\n\t\t\tlet styleRules = '';\n\t\t\tfor (const rule in style) {\n\t\t\t\tstyleRules += `\\t${rule}: ${style[rule]};\\n`;\n\t\t\t}\n\t\t\treturn `.${className} {\\n${styleRules}}\\n`;\n\t\t}\n\t},\n\n\trender: ({cssRules, ...rest}) => {\n\t\tdelete rest.className;\n\t\treturn (cssRules ? <style type=\"text/css\" {...rest}>{cssRules}</style> : null);\n\t}\n});\n\n/**\n * {@link agate/ThemeDecorator.ThemeDecorator} is a Higher-order Component that applies\n * Agate theming to an application. It also applies\n * [floating layer]{@link ui/FloatingLayer.FloatingLayerDecorator},\n * [resolution independence]{@link ui/resolution.ResolutionDecorator},\n * [skin support]{@link ui/Skinnable}, [spotlight]{@link spotlight.SpotlightRootDecorator}, and\n * [internationalization support]{@link i18n/I18nDecorator.I18nDecorator}. It is meant to be applied to\n * the root element of an app.\n *\n * [Skins]{@link ui/Skinnable} provide a way to change the coloration of your app. The currently\n * supported skins for Agate are \"agate\" (the default, dark skin) and \"agate-light\".\n * Use the `skin` property to assign a skin. Ex: `<DecoratedApp skin=\"light\" />`\n *\n * @class ThemeDecorator\n * @memberof agate/ThemeDecorator\n * @mixes ui/FloatingLayer.FloatingLayerDecorator\n * @mixes ui/resolution.ResolutionDecorator\n * @mixes spotlight/SpotlightRootDecorator.SpotlightRootDecorator\n * @mixes agate/Skinnable.Skinnable\n * @hoc\n * @public\n */\nconst ThemeDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\t// TODO: Document props passable to hoc ()\n\tconst {customSkin, float, i18n, noAutoFocus, overlay, ri, skin, spotlight} = config;\n\n\tconst bgClassName = classnames(\n\t\t'enact-fit',\n\t\t{\n\t\t\t[css.bg]: !overlay\n\t\t}\n\t);\n\n\tlet App = Wrapped;\n\tif (float) App = FloatingLayerDecorator({wrappedClassName: bgClassName}, App);\n\tif (ri) App = ResolutionDecorator(ri, App);\n\tif (i18n) App = I18nDecorator({sync: true}, App);\n\tif (spotlight) App = SpotlightRootDecorator({noAutoFocus}, App);\n\tif (skin) App = Skinnable({defaultSkin: 'gallium'}, App);\n\n\t// add webOS-specific key maps\n\taddAll({\n\t\tcancel: 461,\n\t\tpointerHide: 1537,\n\t\tpointerShow: 1536\n\t});\n\n\tconst Decorator = class extends React.Component {\n\t\tstatic displayName = 'ThemeDecorator';\n\n\t\tstatic propTypes = {\n\t\t\taccent: PropTypes.string,\n\t\t\thighlight: PropTypes.string\n\t\t};\n\n\t\trender () {\n\t\t\tconst {accent, className, highlight, ...rest} = this.props;\n\t\t\tconst customizableSkinClassName = 'agate-customized-skin';\n\n\t\t\tconst allClassNames = classnames(\n\t\t\t\tclassName,\n\t\t\t\t'enact-unselectable',\n\t\t\t\tbgClassName,\n\t\t\t\tcss.root,\n\t\t\t\t{[customizableSkinClassName]: customSkin}\n\t\t\t);\n\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t{customSkin ? <CustomizableSkinStyle className={customizableSkinClassName} accent={accent} highlight={highlight} /> : null}\n\t\t\t\t\t<App {...rest} className={allClassNames} />\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t}\n\t};\n\n\treturn Decorator;\n});\n\nexport default ThemeDecorator;\nexport {ThemeDecorator};\n","// Agate Environment\n\nimport kind from '@enact/core/kind';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {color} from '@storybook/addon-knobs';\nimport {Row, Column, Cell} from '@enact/ui/Layout';\nimport {boolean, select} from '@enact/storybook-utils/addons/knobs';\n\nimport ThemeDecorator from '@enact/agate/ThemeDecorator';\nimport Heading from '@enact/agate/Heading';\nimport {Panels, Panel} from '@enact/agate/Panels';\nimport Skinnable from '@enact/agate/Skinnable';\nimport Scroller from '@enact/agate/Scroller';\n\nimport css from './ThemeEnvironment.module.less';\n\nconst globalGroup = 'Global Knobs';\n\n// const reloadPage = () => {\n// \tconst {protocol, host, pathname} = window.parent.location;\n// \twindow.parent.location.href = protocol + '//' + host + pathname;\n// };\n\nconst SkinFrame = Skinnable(kind({\n\tname: 'SkinFrame',\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'skinFrame'\n\t},\n\trender: (props) => (\n\t\t<Row {...props} />\n\t)\n}));\n\nconst reloadPage = () => {\n\tconst {protocol, host, pathname} = window.parent.location;\n\twindow.parent.location.href = protocol + '//' + host + pathname;\n};\n\nconst PanelsBase = kind({\n\tname: 'ThemeEnvironment',\n\n\tpropTypes: {\n\t\tdescription: PropTypes.string,\n\t\tnoScroller: PropTypes.bool,\n\t\tnoPanel: PropTypes.bool, // eslint-disable-line react/sort-prop-types\n\t\tnoPanels: PropTypes.bool, // eslint-disable-line react/sort-prop-types\n\t\ttitle: PropTypes.string\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'themeEnvironment'\n\t},\n\n\trender: ({children, description, noScroller, noPanel, noPanels, title, ...rest}) => {\n\t\tconst Wrapper = noScroller ? 'div' : Scroller;\n\n\t\treturn (\n\t\t\t!noPanels ? <Wrapper {...rest}>\n\t\t\t\t<Panels onApplicationClose={reloadPage}>\n\t\t\t\t\t{!noPanel ? <Panel className={css.panel}>\n\t\t\t\t\t\t<Column>\n\t\t\t\t\t\t\t<Cell shrink>\n\t\t\t\t\t\t\t\t<Heading showLine>{title}</Heading>\n\t\t\t\t\t\t\t\t{description ? (\n\t\t\t\t\t\t\t\t\t<div className={css.description}>\n\t\t\t\t\t\t\t\t\t\t<p>{description}</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t<Cell className={css.storyBody}>\n\t\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t</Column>\n\t\t\t\t\t</Panel> : children}\n\t\t\t\t</Panels>\n\t\t\t</Wrapper> : <Wrapper {...rest}>{children}</Wrapper>\n\t\t);\n\t}\n});\n\nconst FullscreenBase = kind({\n\tname: 'ThemeEnvironment',\n\n\trender: (props) => (\n\t\t<div {...props} />\n\t)\n});\n\nconst Theme = ThemeDecorator({overlay: false}, PanelsBase);\nconst ThemeFullscreen = ThemeDecorator({overlay: false}, FullscreenBase);\n\nconst locales = {\n\t'local': '',\n\t'en-US - US English': 'en-US',\n\t'ko-KR - Korean': 'ko-KR',\n\t'es-ES - Spanish, with alternate weekends': 'es-ES',\n\t'am-ET - Amharic, 5 meridiems': 'am-ET',\n\t'th-TH - Thai, with tall characters': 'th-TH',\n\t'ar-SA - Arabic, RTL and standard font': 'ar-SA',\n\t'ur-PK - Urdu, RTL and custom Urdu font': 'ur-PK',\n\t'zh-Hans-HK - Simplified Chinese, custom Hans font': 'zh-Hans-HK',\n\t'zh-Hant-HK - Traditional Chinese, custom Hant font': 'zh-Hant-HK',\n\t'vi-VN - Vietnamese, Special non-latin font handling': 'vi-VN',\n\t'ta-IN - Tamil, custom Indian font': 'ta-IN',\n\t'ja-JP - Japanese, custom Japanese font': 'ja-JP',\n\t'en-JP - English, custom Japanese font': 'en-JP',\n\t'si-LK - Sinhala, external font family with different line metrics': 'si-LK'\n};\n\nconst skins = {\n\t'Carbon': 'carbon',\n\t'Cobalt': 'cobalt',\n\t'Copper': 'copper',\n\t'Electro': 'electro',\n\t'Gallium': 'gallium',\n\t'Silicon': 'silicon',\n\t'Titanium': 'titanium'\n};\n\n// NOTE: Knobs cannot set locale in fullscreen mode. This allows any knob to be taken from the URL.\nconst getPropFromURL = (propName, fallbackValue) => {\n\tpropName = encodeURI(propName);\n\tconst locationParams = window.parent.location.search;\n\n\tconst startIndex = locationParams.indexOf('knob-' + propName);\n\tif (startIndex > -1) {\n\t\tconst keyIndex = locationParams.indexOf('=', startIndex);\n\n\t\tif (locationParams.indexOf('&', keyIndex) > -1) {\n\t\t\tconst valueIndex = locationParams.indexOf('&', keyIndex);\n\t\t\treturn decodeURIComponent(locationParams.substring(keyIndex + 1, valueIndex));\n\t\t} else {\n\t\t\treturn decodeURIComponent(locationParams.substring(keyIndex + 1, locationParams.length));\n\t\t}\n\t}\n\n\treturn fallbackValue;\n};\n\nconst memory = {\n\tskin: null\n};\n\nconst StorybookDecorator = (story, config) => {\n\tconst sample = story();\n\tconst Config = {\n\t\tdefaultProps: {\n\t\t\tlocale: 'en-US',\n\t\t\t'night mode': false,\n\t\t\tskin: 'gallium'\n\t\t},\n\t\tgroupId: globalGroup\n\t};\n\tconst defaultColors = {\n\t\tcarbon: {\n\t\t\taccent: '#8fd43a',\n\t\t\thighlight: '#6abe0b'\n\t\t},\n\t\tcobalt: {\n\t\t\taccent: '#8c81ff',\n\t\t\thighlight: '#ffffff'\n\t\t},\n\t\tcopper: {\n\t\t\taccent: '#a47d66',\n\t\t\thighlight: '#ffffff'\n\t\t},\n\t\telectro: {\n\t\t\taccent: '#0359f0',\n\t\t\thighlight: '#ff8100'\n\t\t},\n\t\tgallium: {\n\t\t\taccent: '#8b7efe',\n\t\t\thighlight: '#e16253'\n\t\t},\n\t\tsilicon: {\n\t\t\taccent: '#f1304f',\n\t\t\thighlight: '#9e00d8'\n\t\t},\n\t\ttitanium: {\n\t\t\taccent: '#a6a6a6',\n\t\t\thighlight: '#2a48ca'\n\t\t}\n\t};\n\tconst skinFromURL = getPropFromURL('skin');\n\tconst currentSkin = skinFromURL ? skinFromURL : Config.defaultProps.skin;\n\tconst newSkin = (memory.skin !== currentSkin);\n\tmemory.skin = currentSkin;  // Remember the skin for the next time we load.\n\tconst accentFromURL = getPropFromURL('accent');\n\tconst highlightFromURL = getPropFromURL('highlight');\n\tconst localeFromURL = getPropFromURL('locale');\n\tconst currentLocale = localeFromURL ? localeFromURL : Config.defaultProps.locale;\n\tconst locale = select('locale', locales, Config, currentLocale);\n\tconst allSkins = boolean('show all skins', Config);\n\tconst skinKnobs = {};\n\tif (!allSkins) {\n\t\tskinKnobs.skin = select('skin', skins, Config, currentSkin);\n\t}\n\tconst {accent, highlight} = !allSkins && boolean('default skin styles', Config) ? defaultColors[skinKnobs.skin] : {};\n\tif (config.parameters && config.parameters.props) {\n\t\tconfig.props = config.parameters.props;\n\t}\n\n\treturn (\n\t\t<Theme\n\t\t\ttitle={`${config.kind} ${config.story}`.trim()}\n\t\t\tdescription={config.description}\n\t\t\tlocale={locale}\n\t\t\t{...skinKnobs}\n\t\t\tskinVariants={boolean('night mode', Config) && 'night'}\n\t\t\taccent={accent || color('accent', (!newSkin && accentFromURL ? accentFromURL : defaultColors[currentSkin].accent), Config.groupId)}\n\t\t\thighlight={highlight || color('highlight', (!newSkin && highlightFromURL ? highlightFromURL : defaultColors[currentSkin].highlight), Config.groupId)}\n\t\t\t{...config.props}\n\t\t>\n\t\t\t{allSkins ? Object.keys(skins).map(skin => (\n\t\t\t\t<SkinFrame skin={skins[skin]} key={skin}>\n\t\t\t\t\t<Cell size=\"20%\" component={Heading}>{skin}</Cell>\n\t\t\t\t\t<Cell>{sample}</Cell>\n\t\t\t\t</SkinFrame>\n\t\t\t)) : sample}\n\t\t</Theme>\n\t);\n};\n\nconst FullscreenStorybookDecorator = (story, config) => {\n\tconst sample = story();\n\treturn (\n\t\t<ThemeFullscreen\n\t\t\ttitle={`${config.kind} ${config.story}`.trim()}\n\t\t\tdescription={config.description}\n\t\t\tskin={select('skin', skins, getPropFromURL('skin'))}\n\t\t>\n\t\t\t{sample}\n\t\t</ThemeFullscreen>\n\t);\n};\n\nexport default StorybookDecorator;\nexport {StorybookDecorator as Theme, FullscreenStorybookDecorator as ThemeFullscreen};\n","import {configure, addDecorator} from '@storybook/react';\nimport {loadStories} from '@enact/storybook-utils';\nimport {configureActions} from '@enact/storybook-utils/addons/actions';\nimport {withKnobs} from '@enact/storybook-utils/addons/knobs';\n\nimport Environment from '../src/ThemeEnvironment';\n\nfunction config (stories, mod) {\n\tconfigureActions();\n\taddDecorator(withKnobs());\n\n\t// Set environment defaults\n\taddDecorator(Environment);\n\n\tconfigure(loadStories(stories), mod);\n}\n\nexport default config;\n","/**\n * Provides the `ApiDecorator` higher-order component\n *\n * @module core/internal/ApiDecorator\n * @private\n */\n\nimport invariant from 'invariant';\nimport React from 'react';\n\nimport hoc from '../../hoc';\n\n// Gets a property from `provider`\nconst get = (provider, name) => () => {\n\tif (provider) {\n\t\treturn provider[name];\n\t}\n};\n\n// Sets a property on `provider`\nconst set = (provider, name) => (value) => {\n\tif (provider && typeof provider[name] !== 'function') {\n\t\treturn (provider[name] = value);\n\t}\n};\n\n/**\n * Default config for {@link core/internal/ApiDecorator.ApiDecorator}.\n *\n * @memberof core/internal/ApiDecorator.ApiDecorator\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Configures the API endpoints to be exposed\n\t *\n\t * @type {String[]}\n\t * @required\n\t * @memberof core/internal/ApiDecorator.ApiDecorator.defaultConfig\n\t */\n\tapi: null\n};\n\n/**\n * {@link core/internal/ApiDecorator.ApiDecorator} is a higher-order component that exposes an\n * imperative API for a contained component. ApiDecorator accepts an array of API endpoints in the\n * `api` config parameter. Each is then mapped to the underlying component instance as either a\n * function call or property getter/setter pair. The component passes a reference to itself to the\n * ApiDecorator by a `setApiProvider` prop added by the HOC.\n *\n * ```\n * import ApiDecorator from '@enact/core/internal/ApiDecorator';\n *\n * const MyComponent = class extends React.Component {\n * \tstatic displayName = 'MyComponent';\n *\n * \tdoSomething = () => {\n * \t}\n * }\n *\n * @class ApiDecorator\n * @memberof core/internal/ApiDecorator\n * @hoc\n * @private\n */\nconst ApiDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {api} = config;\n\n\tinvariant(\n\t\tapi != null,\n\t\t'ApiDecorator: api is a required config property'\n\t);\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'ApiDecorator';\n\n\t\tsetProvider = (provider) => {\n\t\t\tapi.forEach(key => {\n\t\t\t\tObject.defineProperty(this, key, {\n\t\t\t\t\tget: get(provider, key),\n\t\t\t\t\tset: set(provider, key),\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable: true\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\trender () {\n\t\t\treturn <Wrapped setApiProvider={this.setProvider} {...this.props} />;\n\t\t}\n\t};\n});\n\nexport default ApiDecorator;\nexport {\n\tApiDecorator\n};\n","import EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport $L from '../internal/$L';\nimport Button from '../Button';\nimport Skinnable from '../Skinnable';\n\nimport css from './ContextualPopup.module.less';\n\n/**\n * An SVG arrow for {@link agate/ContextualPopupDecorator.ContextualPopup}.\n *\n * @class ContextualPopupArrow\n * @memberof agate/ContextualPopupDecorator\n * @ui\n * @private\n */\nconst ContextualPopupArrow = kind({\n\tname: 'ContextualPopupArrow',\n\n\tpropTypes: /** @lends agate/ContextualPopupDecorator.ContextualPopupArrow.prototype */ {\n\t\t/**\n\t\t * Direction of ContextualPopupArrow.\n\t\t *\n\t\t * @type {('above'|'below'|'left'|'right')}\n\t\t * @default 'below'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['above', 'below', 'left', 'right'])\n\t},\n\n\tdefaultProps: {\n\t\tdirection: 'below'\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'arrow'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({direction, styler}) => styler.append(direction, css.arrow)\n\t},\n\n\trender: (props) => (\n\t\t<svg {...props} viewBox=\"0 0 30 30\">\n\t\t\t<path d=\"M15 2 L0 20 L30 20 Z\" className={css.arrowFill} />\n\t\t</svg>\n\t)\n});\n\nconst ContextualPopupRoot = Skinnable('div');\n\n/**\n * A popup component used by\n * [ContextualPopupDecorator]{@link agate/ContextualPopupDecorator.ContextualPopupDecorator} to\n * wrap its [popupComponent]{@link agate/ContextualPopupDecorator.ContextualPopupDecorator.popupComponent}.\n *\n * `ContextualPopup` is usually not used directly but is made available for unique application use\n * cases.\n *\n * @class ContextualPopup\n * @memberof agate/ContextualPopupDecorator\n * @ui\n * @public\n */\nconst ContextualPopupBase = kind({\n\tname: 'ContextualPopup',\n\n\tpropTypes: /** @lends agate/ContextualPopupDecorator.ContextualPopup.prototype */ {\n\t\t/**\n\t\t * The contents of the popup.\n\t\t *\n\t\t * @type {Node}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node.isRequired,\n\n\t\t/**\n\t\t * Style object for arrow position.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tarrowPosition: PropTypes.shape({\n\t\t\tbottom: PropTypes.number,\n\t\t\tleft: PropTypes.number,\n\t\t\tright: PropTypes.number,\n\t\t\ttop: PropTypes.number\n\t\t}),\n\n\t\t/**\n\t\t * Style object for container position.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcontainerPosition: PropTypes.shape({\n\t\t\tbottom: PropTypes.number,\n\t\t\tleft: PropTypes.number,\n\t\t\tright: PropTypes.number,\n\t\t\ttop: PropTypes.number\n\t\t}),\n\n\t\t/**\n\t\t * Called with the reference to the container node.\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @public\n\t\t */\n\t\tcontainerRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Direction of ContextualPopup.\n\t\t *\n\t\t * @type {('above'|'above center'|'above left'|'above right'|'below'|'below center'|'below left'|'below right'|'left middle'|'left top'|'left bottom'|'right middle'|'right top'|'right bottom')}\n\t\t * @default 'below'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['above', 'above center', 'above left', 'above right', 'below', 'below center', 'below left', 'below right', 'left middle', 'left top', 'left bottom', 'right middle', 'right top', 'right bottom']),\n\n\t\t/**\n\t\t * Called when the close button is clicked.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonCloseButtonClick: PropTypes.func,\n\n\t\t/**\n\t\t * Shows the close button.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tshowCloseButton: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tdirection: 'below center',\n\t\tshowCloseButton: false\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'container'\n\t},\n\n\tcomputed: {\n\t\tarrowDirection: ({direction}) => {\n\t\t\tconst [arrowDirection] = direction.split(' ');\n\t\t\treturn arrowDirection;\n\t\t},\n\t\tclassName: ({direction, showCloseButton, styler}) => styler.append(\n\t\t\t{\n\t\t\t\tfixedSize: direction === 'above' || direction === 'below'\n\t\t\t},\n\t\t\tdirection.split(' '),\n\t\t\t{reserveClose: showCloseButton}\n\t\t),\n\t\tcloseButton: ({showCloseButton, onCloseButtonClick}) => {\n\t\t\tif (showCloseButton) {\n\t\t\t\treturn (\n\t\t\t\t\t<Button\n\t\t\t\t\t\taria-label={$L('Close')}\n\t\t\t\t\t\tbackgroundOpacity=\"transparent\"\n\t\t\t\t\t\tclassName={css.closeButton}\n\t\t\t\t\t\tcss={css}\n\t\t\t\t\t\ticon=\"closex\"\n\t\t\t\t\t\tonTap={onCloseButtonClick}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t},\n\n\trender: ({arrowDirection, arrowPosition, children, className, closeButton, containerPosition, containerRef, ...rest}) => {\n\t\tdelete rest.direction;\n\t\tdelete rest.onCloseButtonClick;\n\t\tdelete rest.showCloseButton;\n\n\t\treturn (\n\t\t\t<ContextualPopupRoot aria-live=\"off\" role=\"alert\" {...rest} className={css.contextualPopup}>\n\t\t\t\t<div className={className} style={containerPosition} ref={containerRef}>\n\t\t\t\t\t{children}\n\t\t\t\t\t{closeButton}\n\t\t\t\t</div>\n\t\t\t\t<ContextualPopupArrow direction={arrowDirection} style={arrowPosition} />\n\t\t\t</ContextualPopupRoot>\n\t\t);\n\t}\n});\n\nexport default ContextualPopupBase;\nexport {\n\tContextualPopupBase as ContextualPopup,\n\tContextualPopupBase\n};\n","/**\n * A higher-order component to add an Agate styled popup to a component.\n *\n * @module agate/ContextualPopupDecorator\n * @exports\tContextualPopup\n * @exports\tContextualPopupDecorator\n */\n\nimport ApiDecorator from '@enact/core/internal/ApiDecorator';\nimport {on, off} from '@enact/core/dispatcher';\nimport {handle, forProp, forKey, forward, stop} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport {extractAriaProps} from '@enact/core/util';\nimport {I18nContextDecorator} from '@enact/i18n/I18nDecorator';\nimport Spotlight, {getDirection} from '@enact/spotlight';\nimport SpotlightContainerDecorator from '@enact/spotlight/SpotlightContainerDecorator';\nimport FloatingLayer from '@enact/ui/FloatingLayer';\nimport ri from '@enact/ui/resolution';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {ContextualPopup} from './ContextualPopup';\n\nimport css from './ContextualPopupDecorator.module.less';\n\n/**\n * Default config for {@link agate/ContextualPopupDecorator.ContextualPopupDecorator}\n *\n * @type {Object}\n * @hocconfig\n * @memberof agate/ContextualPopupDecorator.ContextualPopupDecorator\n */\nconst defaultConfig = {\n\t/**\n\t * Disables passing the `skin` prop to the wrapped component.\n\t *\n\t * @see {@link agate/Skinnable.Skinnable.skin}\n\t * @type {Boolean}\n\t * @default false\n\t * @memberof agate/ContextualPopupDecorator.ContextualPopupDecorator.defaultConfig\n\t * @public\n\t */\n\tnoSkin: false,\n\n\t/**\n\t * The prop in which to pass the value of `open` state of ContextualPopupDecorator to the\n\t * wrapped component.\n\t *\n\t * @type {String}\n\t * @default 'selected'\n\t * @memberof agate/ContextualPopupDecorator.ContextualPopupDecorator.defaultConfig\n\t * @public\n\t */\n\topenProp: 'selected'\n};\n\nconst ContextualPopupContainer = SpotlightContainerDecorator(\n\t{enterTo: 'default-element', preserveId: true},\n\tContextualPopup\n);\n\nconst Decorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {noSkin, openProp} = config;\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'ContextualPopupDecorator';\n\n\t\tstatic propTypes = /** @lends agate/ContextualPopupDecorator.ContextualPopupDecorator.prototype */ {\n\t\t\t/**\n\t\t\t * The component rendered within the\n\t\t\t * [ContextualPopup]{@link agate/ContextualPopupDecorator.ContextualPopup}.\n\t\t\t *\n\t\t\t * @type {Component}\n\t\t\t * @required\n\t\t\t * @public\n\t\t\t */\n\t\t\tpopupComponent: EnactPropTypes.component.isRequired,\n\n\t\t\t/**\n\t\t\t * Limits the range of voice control to the popup.\n\t\t\t *\n\t\t\t * @memberof agate/ContextualPopupDecorator.ContextualPopupDecorator.prototype\n\t\t\t * @type {Boolean}\n\t\t\t * @default true\n\t\t\t * @public\n\t\t\t */\n\t\t\t'data-webos-voice-exclusive': PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Direction of popup with respect to the wrapped component.\n\t\t\t *\n\t\t\t * @type {('above'|'above center'|'above left'|'above right'|'below'|'below center'|'below left'|'below right'|'left middle'|'left top'|'left bottom'|'right middle'|'right top'|'right bottom')}\n\t\t\t * @default 'below center'\n\t\t\t * @public\n\t\t\t */\n\t\t\tdirection: PropTypes.oneOf(['above', 'above center', 'above left', 'above right', 'below', 'below center', 'below left', 'below right', 'left middle', 'left top', 'left bottom', 'right middle', 'right top', 'right bottom']),\n\n\t\t\t/**\n\t\t\t * Disables closing the popup when the user presses the cancel key or taps outside the\n\t\t\t * popup.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tnoAutoDismiss: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Called when the user has attempted to close the popup.\n\t\t\t *\n\t\t\t * This may occur either when the close button is clicked or when spotlight focus\n\t\t\t * moves outside the boundary of the popup. Setting `spotlightRestrict` to `'self-only'`\n\t\t\t * will prevent Spotlight focus from leaving the popup.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonClose: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Called when the popup is opened.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonOpen: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Displays the contextual popup.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\topen: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * CSS class name to pass to the\n\t\t\t * [ContextualPopup]{@link agate/ContextualPopupDecorator.ContextualPopup}.\n\t\t\t *\n\t\t\t * This is commonly used to set width and height of the popup.\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\tpopupClassName: PropTypes.string,\n\n\t\t\t/**\n\t\t\t * An object containing properties to be passed to popup component.\n\t\t\t *\n\t\t\t * @type {Object}\n\t\t\t * @public\n\t\t\t */\n\t\t\tpopupProps: PropTypes.object,\n\n\t\t\t/**\n\t\t\t * The container ID to use with Spotlight.\n\t\t\t *\n\t\t\t * The spotlight container for the popup isn't created until it is open. To configure\n\t\t\t * the container using `Spotlight.set()`, handle the `onOpen` event which is fired after\n\t\t\t * the popup has been created and opened.\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\tpopupSpotlightId: PropTypes.string,\n\n\t\t\t/**\n\t\t\t * Indicates the content's text direction is right-to-left.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @private\n\t\t\t */\n\t\t\trtl: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Registers the ContextualPopupDecorator component with an [ApiDecorator]\n\t\t\t * {@link core/internal/ApiDecorator.ApiDecorator}.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @private\n\t\t\t */\n\t\t\tsetApiProvider: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Shows the close button.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tshowCloseButton: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * The current skin for this component.\n\t\t\t *\n\t\t\t * When `noSkin` is set on the config object, `skin` will only be applied to the\n\t\t\t * [ContextualPopup]{@link agate/ContextualPopupDecorator.ContextualPopup} and not\n\t\t\t * to the popup's activator component.\n\t\t\t *\n\t\t\t * @see {@link agate/Skinnable.Skinnable.skin}\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\tskin: PropTypes.string,\n\n\t\t\t/**\n\t\t\t * Restricts or prioritizes spotlight navigation.\n\t\t\t *\n\t\t\t * Allowed values are:\n\t\t\t * * `'none'` - Spotlight can move freely within and beyond the popup\n\t\t\t * * `'self-first'` - Spotlight should prefer components within the popup over\n\t\t\t *   components beyond the popup, or\n\t\t\t * * `'self-only'` - Spotlight can only be set within the popup\n\t\t\t *\n\t\t\t * @type {('none'|'self-first'|'self-only')}\n\t\t\t * @default 'self-first'\n\t\t\t * @public\n\t\t\t */\n\t\t\tspotlightRestrict: PropTypes.oneOf(['none', 'self-first', 'self-only'])\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\t'data-webos-voice-exclusive': true,\n\t\t\tdirection: 'below center',\n\t\t\tnoAutoDismiss: false,\n\t\t\topen: false,\n\t\t\tshowCloseButton: false,\n\t\t\tspotlightRestrict: 'self-first'\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tthis.state = {\n\t\t\t\tarrowPosition: {top: 0, left: 0},\n\t\t\t\tcontainerPosition: {top: 0, left: 0},\n\t\t\t\tcontainerId: Spotlight.add(this.props.popupSpotlightId),\n\t\t\t\tactivator: null\n\t\t\t};\n\n\t\t\tthis.overflow = {};\n\t\t\tthis.adjustedDirection = this.props.direction;\n\n\t\t\tthis.ARROW_OFFSET = ri.scale(18); // actual distance of the svg arrow displayed to offset overlaps with the container.\n\t\t\tthis.ARROW_WIDTH = ri.scale(30); // svg arrow width. used for arrow positioning\n\t\t\tthis.KEEPOUT = ri.scale(12); // keep out distance on the edge of the screen\n\t\t\tthis.MARGIN = ri.scale(9);\n\n\t\t\tif (props.setApiProvider) {\n\t\t\t\tprops.setApiProvider(this);\n\t\t\t}\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\tif (this.props.open) {\n\t\t\t\ton('keydown', this.handleKeyDown);\n\t\t\t\ton('keyup', this.handleKeyUp);\n\t\t\t}\n\t\t}\n\n\t\tgetSnapshotBeforeUpdate (prevProps, prevState) {\n\t\t\tconst snapshot = {\n\t\t\t\tcontainerWidth: this.getContainerNodeWidth()\n\t\t\t};\n\n\t\t\tif (prevProps.open && !this.props.open) {\n\t\t\t\tconst current = Spotlight.getCurrent();\n\t\t\t\tsnapshot.shouldSpotActivator = (\n\t\t\t\t\t// isn't set\n\t\t\t\t\t!current ||\n\t\t\t\t\t// is on the activator and we want to re-spot it so a11y read out can occur\n\t\t\t\t\tcurrent === prevState.activator ||\n\t\t\t\t\t// is within the popup\n\t\t\t\t\tthis.containerNode.contains(current)\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn snapshot;\n\t\t}\n\n\t\tcomponentDidUpdate (prevProps, prevState, snapshot) {\n\t\t\tif (prevProps.direction !== this.props.direction || snapshot.containerWidth !== this.getContainerNodeWidth()) {\n\t\t\t\tthis.adjustedDirection = this.props.direction;\n\t\t\t\t// NOTE: `setState` is called and will cause re-render\n\t\t\t\tthis.positionContextualPopup();\n\t\t\t}\n\n\t\t\tif (this.props.open && !prevProps.open) {\n\t\t\t\ton('keydown', this.handleKeyDown);\n\t\t\t\ton('keyup', this.handleKeyUp);\n\t\t\t} else if (!this.props.open && prevProps.open) {\n\t\t\t\toff('keydown', this.handleKeyDown);\n\t\t\t\toff('keyup', this.handleKeyUp);\n\t\t\t\tif (snapshot && snapshot.shouldSpotActivator) {\n\t\t\t\t\tthis.spotActivator(prevState.activator);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tif (this.props.open) {\n\t\t\t\toff('keydown', this.handleKeyDown);\n\t\t\t\toff('keyup', this.handleKeyUp);\n\t\t\t}\n\t\t\tSpotlight.remove(this.state.containerId);\n\t\t}\n\n\t\tgetContainerNodeWidth () {\n\t\t\treturn this.containerNode && this.containerNode.getBoundingClientRect().width || 0;\n\t\t}\n\n\t\tupdateLeaveFor (activator) {\n\t\t\tSpotlight.set(this.state.containerId, {\n\t\t\t\tleaveFor: {\n\t\t\t\t\tup: activator,\n\t\t\t\t\tdown: activator,\n\t\t\t\t\tleft: activator,\n\t\t\t\t\tright: activator\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tgetContainerAdjustedPosition = () => {\n\t\t\tconst position = this.adjustedDirection;\n\t\t\tconst arr = this.adjustedDirection.split(' ');\n\t\t\tlet direction = null;\n\t\t\tlet anchor = null;\n\n\t\t\tif (arr.length === 2) {\n\t\t\t\t[direction, anchor] = arr;\n\t\t\t} else {\n\t\t\t\tdirection = position;\n\t\t\t}\n\n\t\t\treturn {anchor, direction};\n\t\t};\n\n\t\tgetContainerPosition (containerNode, clientNode) {\n\t\t\tconst position = this.centerContainerPosition(containerNode, clientNode);\n\t\t\tconst {direction} = this.getContainerAdjustedPosition();\n\n\t\t\tswitch (direction) {\n\t\t\t\tcase 'above':\n\t\t\t\t\tposition.top = clientNode.top - this.ARROW_OFFSET - containerNode.height - this.MARGIN;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'below':\n\t\t\t\t\tposition.top = clientNode.bottom + this.ARROW_OFFSET + this.MARGIN;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'right':\n\t\t\t\t\tposition.left = this.props.rtl ? clientNode.left - containerNode.width - this.ARROW_OFFSET - this.MARGIN : clientNode.right + this.ARROW_OFFSET + this.MARGIN;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'left':\n\t\t\t\t\tposition.left = this.props.rtl ? clientNode.right + this.ARROW_OFFSET + this.MARGIN : clientNode.left - containerNode.width - this.ARROW_OFFSET - this.MARGIN;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn this.adjustRTL(position);\n\t\t}\n\n\t\tcenterContainerPosition (containerNode, clientNode) {\n\t\t\tconst pos = {};\n\t\t\tconst {anchor, direction} = this.getContainerAdjustedPosition();\n\n\t\t\tif (direction === 'above' || direction === 'below') {\n\t\t\t\tif (this.overflow.isOverLeft) {\n\t\t\t\t\t// anchor to the left of the screen\n\t\t\t\t\tpos.left = this.KEEPOUT;\n\t\t\t\t} else if (this.overflow.isOverRight) {\n\t\t\t\t\t// anchor to the right of the screen\n\t\t\t\t\tpos.left = window.innerWidth - containerNode.width - this.KEEPOUT;\n\t\t\t\t} else if (anchor) {\n\t\t\t\t\tif (anchor === 'center') {\n\t\t\t\t\t\t// center horizontally\n\t\t\t\t\t\tpos.left = clientNode.left + (clientNode.width - containerNode.width) / 2;\n\t\t\t\t\t} else if (anchor === 'left') {\n\t\t\t\t\t\t// anchor to the left side of the activator\n\t\t\t\t\t\tpos.left = clientNode.left;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// anchor to the right side of the activator\n\t\t\t\t\t\tpos.left = clientNode.right - containerNode.width;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// anchor to the left side of the activator, matching its width\n\t\t\t\t\tpos.left = clientNode.left;\n\t\t\t\t\tpos.width = clientNode.width;\n\t\t\t\t}\n\n\t\t\t} else if (direction === 'left' || direction === 'right') {\n\t\t\t\tif (this.overflow.isOverTop) {\n\t\t\t\t\t// anchor to the top of the screen\n\t\t\t\t\tpos.top = this.KEEPOUT;\n\t\t\t\t} else if (this.overflow.isOverBottom) {\n\t\t\t\t\t// anchor to the bottom of the screen\n\t\t\t\t\tpos.top = window.innerHeight - containerNode.height - this.KEEPOUT;\n\t\t\t\t} else if (anchor === 'middle') {\n\t\t\t\t\t// center vertically\n\t\t\t\t\tpos.top = clientNode.top - (containerNode.height - clientNode.height) / 2;\n\t\t\t\t} else if (anchor === 'top') {\n\t\t\t\t\t// anchor to the top of the activator\n\t\t\t\t\tpos.top = clientNode.top;\n\t\t\t\t} else {\n\t\t\t\t\t// anchor to the bottom of the activator\n\t\t\t\t\tpos.top = clientNode.bottom - containerNode.height;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn pos;\n\t\t}\n\n\t\tgetArrowPosition (containerNode, clientNode) {\n\t\t\tconst position = {};\n\t\t\tconst {anchor, direction} = this.getContainerAdjustedPosition();\n\n\t\t\tif (direction === 'above' || direction === 'below') {\n\t\t\t\tif (this.overflow.isOverRight && !this.overflow.isOverLeft) {\n\t\t\t\t\tposition.left = window.innerWidth - ((containerNode.width + this.ARROW_WIDTH) / 2) - this.KEEPOUT;\n\t\t\t\t} else if (!this.overflow.isOverRight && this.overflow.isOverLeft) {\n\t\t\t\t\tposition.left = ((containerNode.width - this.ARROW_WIDTH) / 2) + this.KEEPOUT;\n\t\t\t\t} else if (anchor === 'left') {\n\t\t\t\t\tposition.left = clientNode.left + (containerNode.width - this.ARROW_WIDTH) / 2;\n\t\t\t\t} else if (anchor === 'right') {\n\t\t\t\t\tposition.left = clientNode.right - containerNode.width + (containerNode.width - this.ARROW_WIDTH) / 2;\n\t\t\t\t} else {\n\t\t\t\t\tposition.left = clientNode.left + (clientNode.width - this.ARROW_WIDTH) / 2;\n\t\t\t\t}\n\t\t\t} else if (this.overflow.isOverBottom && !this.overflow.isOverTop) {\n\t\t\t\tposition.top = window.innerHeight - ((containerNode.height + this.ARROW_WIDTH) / 2) - this.KEEPOUT;\n\t\t\t} else if (!this.overflow.isOverBottom && this.overflow.isOverTop) {\n\t\t\t\tposition.top = ((containerNode.height - this.ARROW_WIDTH) / 2) + this.KEEPOUT;\n\t\t\t} else if (anchor === 'top') {\n\t\t\t\tposition.top = clientNode.top + (containerNode.height - this.ARROW_WIDTH) / 2;\n\t\t\t} else if (anchor === 'bottom') {\n\t\t\t\tposition.top = clientNode.bottom - containerNode.height + (containerNode.height - this.ARROW_WIDTH) / 2;\n\t\t\t} else {\n\t\t\t\tposition.top = clientNode.top + (clientNode.height - this.ARROW_WIDTH) / 2;\n\t\t\t}\n\n\t\t\tswitch (direction) {\n\t\t\t\tcase 'above':\n\t\t\t\t\tposition.top = clientNode.top - this.ARROW_WIDTH - this.MARGIN;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'below':\n\t\t\t\t\tposition.top = clientNode.bottom + this.MARGIN;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'left':\n\t\t\t\t\tposition.left = this.props.rtl ? clientNode.left + clientNode.width + this.MARGIN : clientNode.left - this.ARROW_WIDTH - this.MARGIN;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'right':\n\t\t\t\t\tposition.left = this.props.rtl ? clientNode.left - this.ARROW_WIDTH - this.MARGIN : clientNode.left + clientNode.width + this.MARGIN;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\treturn {};\n\t\t\t}\n\n\t\t\treturn this.adjustRTL(position);\n\t\t}\n\n\t\tcalcOverflow (container, client) {\n\t\t\tlet containerHeight, containerWidth;\n\t\t\tconst {anchor, direction} = this.getContainerAdjustedPosition();\n\n\t\t\tif (direction === 'above' || direction === 'below') {\n\t\t\t\tcontainerHeight = container.height;\n\t\t\t\tcontainerWidth = (container.width - client.width) / 2;\n\t\t\t} else {\n\t\t\t\tcontainerHeight = (container.height - client.height) / 2;\n\t\t\t\tcontainerWidth = container.width;\n\t\t\t}\n\n\t\t\tthis.overflow = {\n\t\t\t\tisOverTop: anchor === 'top' && (direction === 'left' || direction === 'right') ?\n\t\t\t\t\t!(client.top > this.KEEPOUT) :\n\t\t\t\t\tclient.top - containerHeight - this.ARROW_OFFSET - this.MARGIN - this.KEEPOUT < 0,\n\t\t\t\tisOverBottom: anchor === 'bottom' && (direction === 'left' || direction === 'right') ?\n\t\t\t\t\tclient.bottom + this.KEEPOUT > window.innerHeight :\n\t\t\t\t\tclient.bottom + containerHeight + this.ARROW_OFFSET + this.MARGIN + this.KEEPOUT > window.innerHeight,\n\t\t\t\tisOverLeft: anchor === 'left' && (direction === 'above' || direction === 'below') ?\n\t\t\t\t\t!(client.left > this.KEEPOUT) :\n\t\t\t\t\tclient.left - containerWidth - this.ARROW_OFFSET - this.MARGIN - this.KEEPOUT < 0,\n\t\t\t\tisOverRight: anchor === 'right' && (direction === 'above' || direction === 'below') ?\n\t\t\t\t\tclient.right + this.KEEPOUT > window.innerWidth :\n\t\t\t\t\tclient.right + containerWidth + this.ARROW_OFFSET + this.MARGIN + this.KEEPOUT > window.innerWidth\n\t\t\t};\n\t\t}\n\n\t\tadjustDirection () {\n\t\t\tconst {anchor, direction} = this.getContainerAdjustedPosition();\n\n\t\t\tif (this.overflow.isOverTop && !this.overflow.isOverBottom && direction === 'above') {\n\t\t\t\tthis.adjustedDirection = anchor ? `below ${anchor}` : 'below';\n\t\t\t} else if (this.overflow.isOverBottom && !this.overflow.isOverTop && direction === 'below') {\n\t\t\t\tthis.adjustedDirection = anchor ? `above ${anchor}` : 'above';\n\t\t\t} else if (this.overflow.isOverLeft && !this.overflow.isOverRight && direction === 'left' && !this.props.rtl) {\n\t\t\t\tthis.adjustedDirection = anchor ? `right ${anchor}` : 'right';\n\t\t\t} else if (this.overflow.isOverRight && !this.overflow.isOverLeft && direction === 'right' && !this.props.rtl) {\n\t\t\t\tthis.adjustedDirection = anchor ? `left ${anchor}` : 'left';\n\t\t\t}\n\t\t}\n\n\t\tadjustRTL (position) {\n\t\t\tlet pos = position;\n\t\t\tif (this.props.rtl) {\n\t\t\t\tconst tmpLeft = pos.left;\n\t\t\t\tpos.left = pos.right;\n\t\t\t\tpos.right = tmpLeft;\n\t\t\t}\n\t\t\treturn pos;\n\t\t}\n\n\t\t/**\n\t\t * Position the popup in relation to the activator.\n\t\t *\n\t\t * Position is based on the dimensions of the popup and its activator. If the popup does not\n\t\t * fit in the specified direction, it will automatically flip to the opposite direction.\n\t\t *\n\t\t * @method\n\t\t * @memberof agate/ContextualPopupDecorator.ContextualPopupDecorator.prototype\n\t\t * @public\n\t\t * @returns {undefined}\n\t\t */\n\t\tpositionContextualPopup = () => {\n\t\t\tif (this.containerNode && this.clientNode) {\n\t\t\t\tconst containerNode = this.containerNode.getBoundingClientRect();\n\t\t\t\tconst {top, left, bottom, right, width, height} = this.clientNode.getBoundingClientRect();\n\t\t\t\tconst clientNode = {top, left, bottom, right, width, height};\n\t\t\t\tclientNode.left = this.props.rtl ? window.innerWidth - right : left;\n\t\t\t\tclientNode.right = this.props.rtl ? window.innerWidth - left : right;\n\n\t\t\t\tthis.calcOverflow(containerNode, clientNode);\n\t\t\t\tthis.adjustDirection();\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tdirection: this.adjustedDirection,\n\t\t\t\t\tarrowPosition: this.getArrowPosition(containerNode, clientNode),\n\t\t\t\t\tcontainerPosition: this.getContainerPosition(containerNode, clientNode)\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tgetContainerNode = (node) => {\n\t\t\tthis.containerNode = node;\n\t\t};\n\n\t\tgetClientNode = (node) => {\n\t\t\tthis.clientNode = ReactDOM.findDOMNode(node); // eslint-disable-line react/no-find-dom-node\n\t\t};\n\n\t\thandle = handle.bind(this);\n\n\t\thandleKeyUp = this.handle(\n\t\t\tforProp('open', true),\n\t\t\tforKey('enter'),\n\t\t\t() => Spotlight.getCurrent() === this.state.activator,\n\t\t\tstop,\n\t\t\tforward('onClose')\n\t\t);\n\n\t\thandleOpen = (ev) => {\n\t\t\tforward('onOpen', ev, this.props);\n\t\t\tthis.positionContextualPopup();\n\t\t\tconst current = Spotlight.getCurrent();\n\t\t\tthis.updateLeaveFor(current);\n\t\t\tthis.setState({\n\t\t\t\tactivator: current\n\t\t\t});\n\t\t\tthis.spotPopupContent();\n\t\t};\n\n\t\thandleClose = () => {\n\t\t\tthis.updateLeaveFor(null);\n\t\t\tthis.setState({\n\t\t\t\tactivator: null\n\t\t\t});\n\t\t};\n\n\t\thandleDirectionalKey (ev) {\n\t\t\t// prevent default page scrolling\n\t\t\tev.preventDefault();\n\t\t\t// stop propagation to prevent default spotlight behavior\n\t\t\tev.stopPropagation();\n\t\t\t// set the pointer mode to false on keydown\n\t\t\tSpotlight.setPointerMode(false);\n\t\t}\n\n\t\t// handle key event from outside (i.e. the activator) to the popup container\n\t\thandleKeyDown = (ev) => {\n\t\t\tconst {activator, containerId} = this.state;\n\t\t\tconst {spotlightRestrict} = this.props;\n\t\t\tconst current = Spotlight.getCurrent();\n\t\t\tconst direction = getDirection(ev.keyCode);\n\n\t\t\tif (!direction) return;\n\n\t\t\tconst hasSpottables = Spotlight.getSpottableDescendants(containerId).length > 0;\n\t\t\tconst spotlessSpotlightModal = spotlightRestrict === 'self-only' && !hasSpottables;\n\t\t\tconst shouldSpotPopup = current === activator && direction === this.adjustedDirection && hasSpottables;\n\n\t\t\tif (shouldSpotPopup || spotlessSpotlightModal) {\n\t\t\t\tthis.handleDirectionalKey(ev);\n\n\t\t\t\t// we guard against attempting a focus change by verifying the case where a\n\t\t\t\t// spotlightModal popup contains no spottable components\n\t\t\t\tif (!spotlessSpotlightModal && shouldSpotPopup) {\n\t\t\t\t\tthis.spotPopupContent();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// handle key event from contextual popup and closes the popup\n\t\thandleContainerKeyDown = (ev) => {\n\t\t\t// Note: Container will be only rendered if `open`ed, therefore no need to check for `open`\n\t\t\tconst direction = getDirection(ev.keyCode);\n\n\t\t\tif (!direction) return;\n\n\t\t\tthis.handleDirectionalKey(ev);\n\n\t\t\t// if focus moves outside the popup's container, issue the `onClose` event\n\t\t\tif (Spotlight.move(direction) && !this.containerNode.contains(Spotlight.getCurrent())) {\n\t\t\t\tforward('onClose', ev, this.props);\n\t\t\t}\n\t\t};\n\n\t\tspotActivator = (activator) => {\n\t\t\tif (!Spotlight.getPointerMode() && activator && activator === Spotlight.getCurrent()) {\n\t\t\t\tactivator.blur();\n\t\t\t}\n\t\t\tif (!Spotlight.focus(activator)) {\n\t\t\t\tSpotlight.focus();\n\t\t\t}\n\t\t};\n\n\t\tspotPopupContent = () => {\n\t\t\tconst {spotlightRestrict} = this.props;\n\t\t\tconst {containerId} = this.state;\n\t\t\tconst spottableDescendants = Spotlight.getSpottableDescendants(containerId);\n\t\t\tif (spotlightRestrict === 'self-only' && spottableDescendants.length && Spotlight.getCurrent()) {\n\t\t\t\tSpotlight.getCurrent().blur();\n\t\t\t}\n\n\t\t\tif (!Spotlight.focus(containerId)) {\n\t\t\t\tSpotlight.setActiveContainer(containerId);\n\t\t\t}\n\t\t};\n\n\t\trender () {\n\t\t\tconst {'data-webos-voice-exclusive': voiceExclusive, showCloseButton, popupComponent: PopupComponent, popupClassName, noAutoDismiss, onClose, open, popupProps, skin, spotlightRestrict, ...rest} = this.props;\n\t\t\tconst scrimType = spotlightRestrict === 'self-only' ? 'transparent' : 'none';\n\t\t\tconst popupPropsRef = Object.assign({}, popupProps);\n\t\t\tconst ariaProps = extractAriaProps(popupPropsRef);\n\n\t\t\tif (!noSkin) {\n\t\t\t\trest.skin = skin;\n\t\t\t}\n\n\t\t\tdelete rest.onOpen;\n\t\t\tdelete rest.popupSpotlightId;\n\t\t\tdelete rest.rtl;\n\t\t\tdelete rest.setApiProvider;\n\n\t\t\tif (openProp) rest[openProp] = open;\n\n\t\t\treturn (\n\t\t\t\t<div className={css.contextualPopupDecorator}>\n\t\t\t\t\t<FloatingLayer\n\t\t\t\t\t\tnoAutoDismiss={noAutoDismiss}\n\t\t\t\t\t\tonClose={this.handleClose}\n\t\t\t\t\t\tonDismiss={onClose}\n\t\t\t\t\t\tonOpen={this.handleOpen}\n\t\t\t\t\t\topen={open}\n\t\t\t\t\t\tscrimType={scrimType}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ContextualPopupContainer\n\t\t\t\t\t\t\t{...ariaProps}\n\t\t\t\t\t\t\tclassName={popupClassName}\n\t\t\t\t\t\t\tshowCloseButton={showCloseButton}\n\t\t\t\t\t\t\tonCloseButtonClick={onClose}\n\t\t\t\t\t\t\tonKeyDown={this.handleContainerKeyDown}\n\t\t\t\t\t\t\tdirection={this.state.direction}\n\t\t\t\t\t\t\tarrowPosition={this.state.arrowPosition}\n\t\t\t\t\t\t\tcontainerPosition={this.state.containerPosition}\n\t\t\t\t\t\t\tcontainerRef={this.getContainerNode}\n\t\t\t\t\t\t\tdata-webos-voice-exclusive={voiceExclusive}\n\t\t\t\t\t\t\tskin={skin}\n\t\t\t\t\t\t\tspotlightId={this.state.containerId}\n\t\t\t\t\t\t\tspotlightRestrict={spotlightRestrict}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<PopupComponent {...popupPropsRef} />\n\t\t\t\t\t\t</ContextualPopupContainer>\n\t\t\t\t\t</FloatingLayer>\n\t\t\t\t\t<Wrapped ref={this.getClientNode} {...rest} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t};\n});\n\n/**\n * Adds support for positioning a\n * [ContextualPopup]{@link agate/ContextualPopupDecorator.ContextualPopup} relative to the\n * wrapped component.\n *\n * `ContextualPopupDecorator` may be used to show additional settings or actions rendered within a\n * small floating popup.\n *\n * Usage:\n * ```\n * const ButtonWithPopup = ContextualPopupDecorator(Button);\n * <ButtonWithPopup\n *   direction=\"above center\"\n *   open={this.state.open}\n *   popupComponent={CustomPopupComponent}\n * >\n *   Open Popup\n * </ButtonWithPopup>\n * ```\n *\n * @hoc\n * @memberof agate/ContextualPopupDecorator\n * @public\n */\nconst ContextualPopupDecorator = compose(\n\tApiDecorator({api: ['positionContextualPopup']}),\n\tI18nContextDecorator({rtlProp: 'rtl'}),\n\tDecorator\n);\n\nexport default ContextualPopupDecorator;\nexport {\n\tContextualPopupDecorator,\n\tContextualPopup\n};\n","\nconst obliqueMinDistance = 1;\nconst straightMinDistance = 0;\n\nconst calcGroupId = ({x, y}) => y * 3 + x;\n\nconst calcNextGridPosition = (current, next) => {\n\tconst center = current.center;\n\tlet x, y;\n\n\tif (center.x < next.left) {\n\t\tx = 0;\n\t} else if (center.x <= next.right) {\n\t\tx = 1;\n\t} else {\n\t\tx = 2;\n\t}\n\n\tif (center.y < next.top) {\n\t\ty = 0;\n\t} else if (center.y <= next.bottom) {\n\t\ty = 1;\n\t} else {\n\t\ty = 2;\n\t}\n\n\treturn {x, y};\n};\n\nconst calcNextExtendedGridPosition = (current, next) => {\n\tlet x, y;\n\n\tif (current.right <= next.left) {\n\t\tx = 0;\n\t} else if (current.left < next.right) {\n\t\tx = 1;\n\t} else {\n\t\tx = 2;\n\t}\n\n\tif (current.bottom <= next.top) {\n\t\ty = 0;\n\t} else if (current.top < next.bottom) {\n\t\ty = 1;\n\t} else {\n\t\ty = 2;\n\t}\n\n\treturn {x, y};\n};\n\nfunction prioritize (priorities, targetEdge) {\n\tconst destGroup = [];\n\n\tfor (let index = 0; index < priorities.length; index++) {\n\t\tconst destPriority = priorities[index];\n\n\t\tif (destPriority.group.length) {\n\t\t\tconst destDistance = destPriority.distance;\n\t\t\tconst destDifference = destPriority.difference;\n\t\t\tlet distance = 0;\n\t\t\tlet target;\n\n\t\t\tdestPriority.group.sort(function (a, b) {\n\t\t\t\tfor (let i = 0; i < destDistance.length; i++) {\n\t\t\t\t\tconst calcDistance = destDistance[i];\n\t\t\t\t\tconst delta = calcDistance(a) - calcDistance(b);\n\t\t\t\t\tif (delta) {\n\t\t\t\t\t\treturn delta;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t});\n\n\t\t\ttarget = destPriority.group[0];\n\t\t\tfor (let i = 0; i < destDifference.length; i++) {\n\t\t\t\tdistance += destDifference[i](target);\n\t\t\t}\n\n\t\t\tdestGroup.push({\n\t\t\t\tdistance: Math.pow(destPriority.multiplier * (distance || destPriority.minDistance) / targetEdge, 2) + targetEdge,\n\t\t\t\ttarget\n\t\t\t});\n\t\t}\n\t}\n\n\tif (!destGroup.length) {\n\t\treturn null;\n\t}\n\n\tdestGroup.sort(function (a, b) {\n\t\treturn a.distance - b.distance;\n\t});\n\n\treturn destGroup;\n}\n\nfunction partition (rects, targetRect, straightOverlapThreshold, getGroupId) {\n\t// a matrix of elements where the center of the element in relation to targetRect is:\n\tconst groups = [\n\t\t[/* [0] => above/left */],  [/* [1] => above/within */],     [/* [2] => above/right */],\n\t\t[/* [3] => within/left */], [/* [4] => within */],           [/* [5] => within/right */],\n\t\t[/* [6] => below/left */],  [/* [7] => below and within */], [/* [8] => below/right */]\n\t];\n\n\tfor (let i = 0; i < rects.length; i++) {\n\t\tconst rect = rects[i];\n\t\tconst groupId = getGroupId(rect, targetRect);\n\t\tgroups[groupId].push(rect);\n\n\t\tif ([0, 2, 6, 8].indexOf(groupId) !== -1) {\n\t\t\tif (rect.left <= targetRect.right - targetRect.width * straightOverlapThreshold) {\n\t\t\t\tif (groupId === 2) {\n\t\t\t\t\tgroups[1].push(rect);\n\t\t\t\t} else if (groupId === 8) {\n\t\t\t\t\tgroups[7].push(rect);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (rect.right >= targetRect.left + targetRect.width * straightOverlapThreshold) {\n\t\t\t\tif (groupId === 0) {\n\t\t\t\t\tgroups[1].push(rect);\n\t\t\t\t} else if (groupId === 6) {\n\t\t\t\t\tgroups[7].push(rect);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (rect.top <= targetRect.bottom - targetRect.height * straightOverlapThreshold) {\n\t\t\t\tif (groupId === 6) {\n\t\t\t\t\tgroups[3].push(rect);\n\t\t\t\t} else if (groupId === 8) {\n\t\t\t\t\tgroups[5].push(rect);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (rect.bottom >= targetRect.top + targetRect.height * straightOverlapThreshold) {\n\t\t\t\tif (groupId === 0) {\n\t\t\t\t\tgroups[3].push(rect);\n\t\t\t\t} else if (groupId === 2) {\n\t\t\t\t\tgroups[5].push(rect);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn groups;\n}\n\nfunction generateDistancefunction (targetRect) {\n\treturn {\n\t\tnearPlumbLineIsBetter: function (rect) {\n\t\t\tlet d;\n\t\t\tif (rect.center.x < targetRect.center.x) {\n\t\t\t\td = targetRect.center.x - rect.right;\n\t\t\t} else {\n\t\t\t\td = rect.left - targetRect.center.x;\n\t\t\t}\n\t\t\treturn d < 0 ? 0 : d;\n\t\t},\n\t\tnearHorizonIsBetter: function (rect) {\n\t\t\tlet d;\n\t\t\tif (rect.center.y < targetRect.center.y) {\n\t\t\t\td = targetRect.center.y - rect.bottom;\n\t\t\t} else {\n\t\t\t\td = rect.top - targetRect.center.y;\n\t\t\t}\n\t\t\treturn d < 0 ? 0 : d;\n\t\t},\n\t\tnearTargetBottomIsBetter: function (rect) {\n\t\t\tlet d;\n\t\t\tif (rect.center.y < targetRect.center.y) {\n\t\t\t\td = targetRect.bottom - rect.top;\n\t\t\t} else {\n\t\t\t\td = rect.top - targetRect.bottom;\n\t\t\t}\n\t\t\treturn d < 0 ? 0 : d;\n\t\t},\n\t\tnearTargetLeftIsBetter: function (rect) {\n\t\t\tlet d;\n\t\t\tif (rect.center.x < targetRect.center.x) {\n\t\t\t\td = targetRect.left - rect.right;\n\t\t\t} else {\n\t\t\t\td = rect.left - targetRect.left;\n\t\t\t}\n\t\t\treturn d < 0 ? 0 : d;\n\t\t},\n\t\tnearTargetRightIsBetter: function (rect) {\n\t\t\tlet d;\n\t\t\tif (rect.center.x < targetRect.center.x) {\n\t\t\t\td = targetRect.right - rect.left;\n\t\t\t} else {\n\t\t\t\td = rect.left - targetRect.right;\n\t\t\t}\n\t\t\treturn d < 0 ? 0 : d;\n\t\t},\n\t\tnearTargetTopIsBetter: function (rect) {\n\t\t\tlet d;\n\t\t\tif (rect.center.y < targetRect.center.y) {\n\t\t\t\td = targetRect.top - rect.bottom;\n\t\t\t} else {\n\t\t\t\td = rect.top - targetRect.top;\n\t\t\t}\n\t\t\treturn d < 0 ? 0 : d;\n\t\t},\n\t\ttopIsBetter: function (rect) {\n\t\t\treturn rect.top;\n\t\t},\n\t\tbottomIsBetter: function (rect) {\n\t\t\treturn -1 * rect.bottom;\n\t\t},\n\t\tleftIsBetter: function (rect) {\n\t\t\treturn rect.left;\n\t\t},\n\t\trightIsBetter: function (rect) {\n\t\t\treturn -1 * rect.right;\n\t\t}\n\t};\n}\n\nfunction navigate (targetRect, direction, rects, config, partitionRect = targetRect) {\n\tif (!targetRect || !direction || !rects || !rects.length || !config) {\n\t\treturn null;\n\t}\n\n\tconst distanceFunction = generateDistancefunction(targetRect);\n\tconst {obliqueMultiplier, straightMultiplier, straightOnly, straightOverlapThreshold} = config;\n\n\tconst groups = partition(\n\t\trects,\n\t\tpartitionRect,\n\t\tstraightOverlapThreshold,\n\t\t(rect, destRect) => (\n\t\t\tcalcGroupId(\n\t\t\t\tdirection === 'up' || direction === 'down' ? calcNextExtendedGridPosition(rect, destRect) : calcNextGridPosition(rect, destRect)\n\t\t\t)\n\t\t)\n\t);\n\n\tconst internalGroups = partition(\n\t\tgroups[4],\n\t\ttargetRect.center,\n\t\tstraightOverlapThreshold,\n\t\t(rect, destRect) => calcGroupId(calcNextGridPosition(rect, destRect))\n\t);\n\n\tlet priorities, targetEdge;\n\n\tswitch (direction) {\n\t\tcase 'left':\n\t\t\ttargetEdge = direction;\n\t\t\tpriorities = [\n\t\t\t\t{\n\t\t\t\t\tgroup: internalGroups[0].concat(internalGroups[3]).concat(internalGroups[6]),\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.topIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetLeftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: straightMinDistance,\n\t\t\t\t\tmultiplier: straightMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[3],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.topIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetLeftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: straightMinDistance,\n\t\t\t\t\tmultiplier: straightMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[0],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.rightIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetTopIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetLeftIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetTopIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: obliqueMinDistance,\n\t\t\t\t\tmultiplier: obliqueMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[6],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.rightIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetTopIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetLeftIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetBottomIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: obliqueMinDistance,\n\t\t\t\t\tmultiplier: obliqueMultiplier\n\t\t\t\t}\n\t\t\t];\n\t\t\tbreak;\n\t\tcase 'right':\n\t\t\ttargetEdge = direction;\n\t\t\tpriorities = [\n\t\t\t\t{\n\t\t\t\t\tgroup: internalGroups[2].concat(internalGroups[5]).concat(internalGroups[8]),\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.topIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetRightIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: straightMinDistance,\n\t\t\t\t\tmultiplier: straightMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[5],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.topIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetRightIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: straightMinDistance,\n\t\t\t\t\tmultiplier: straightMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[2],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.leftIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetTopIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetRightIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetTopIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: obliqueMinDistance,\n\t\t\t\t\tmultiplier: obliqueMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[8],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.leftIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetTopIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetRightIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetBottomIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: obliqueMinDistance,\n\t\t\t\t\tmultiplier: obliqueMultiplier\n\t\t\t\t}\n\t\t\t];\n\t\t\tbreak;\n\t\tcase 'up':\n\t\t\ttargetEdge = 'top';\n\t\t\tpriorities = [\n\t\t\t\t{\n\t\t\t\t\tgroup: internalGroups[0].concat(internalGroups[1]).concat(internalGroups[2]),\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.leftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetTopIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: straightMinDistance,\n\t\t\t\t\tmultiplier: straightMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[1],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.leftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetTopIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: straightMinDistance,\n\t\t\t\t\tmultiplier: straightMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[0],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.bottomIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetLeftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetTopIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetLeftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: obliqueMinDistance,\n\t\t\t\t\tmultiplier: obliqueMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[2],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.bottomIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetLeftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetTopIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetRightIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: obliqueMinDistance,\n\t\t\t\t\tmultiplier: obliqueMultiplier\n\t\t\t\t}\n\t\t\t];\n\t\t\tbreak;\n\t\tcase 'down':\n\t\t\ttargetEdge = 'bottom';\n\t\t\tpriorities = [\n\t\t\t\t{\n\t\t\t\t\tgroup: internalGroups[6].concat(internalGroups[7]).concat(internalGroups[8]),\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.leftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetBottomIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: straightMinDistance,\n\t\t\t\t\tmultiplier: straightMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[7],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.leftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetBottomIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: straightMinDistance,\n\t\t\t\t\tmultiplier: straightMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[6],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.topIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetLeftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetBottomIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetLeftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: obliqueMinDistance,\n\t\t\t\t\tmultiplier: obliqueMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[8],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.topIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetLeftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetBottomIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetRightIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: obliqueMinDistance,\n\t\t\t\t\tmultiplier: obliqueMultiplier\n\t\t\t\t}\n\t\t\t];\n\t\t\tbreak;\n\t\tdefault:\n\t\t\treturn null;\n\t}\n\n\tif (straightOnly) {\n\t\tpriorities.splice(2, 2);\n\t}\n\n\tconst destGroup = prioritize(priorities, targetRect[targetEdge]);\n\tif (!destGroup) {\n\t\treturn null;\n\t}\n\n\treturn destGroup[0].target.element;\n}\n\nexport default navigate;\nexport {\n\tnavigate\n};\n","import clamp from 'ramda/src/clamp';\nimport last from 'ramda/src/last';\n\nimport {\n\tgetAllContainerIds,\n\tgetContainerConfig,\n\tgetContainerFocusTarget,\n\tgetContainerId,\n\tgetContainerNode,\n\tgetContainerPreviousTarget,\n\tgetContainersForNode,\n\tgetDeepSpottableDescendants,\n\tgetDefaultContainer,\n\tgetLastContainer,\n\tgetNavigableContainersForNode,\n\tisContainer,\n\tisNavigable\n} from './container';\nimport navigate from './navigate';\nimport {\n\tcontains,\n\tgetContainerRect,\n\tgetPointRect,\n\tgetRect,\n\tgetRects,\n\tintersects,\n\tparseSelector\n} from './utils';\n\nfunction isFocusable (elem) {\n\tconst containers = getContainersForNode(elem);\n\tlet verifySelector = true;\n\n\tfor (let i = containers.length - 1; i >= 0; i--) {\n\t\tconst containerId = containers[i];\n\t\tif (!isNavigable(elem, containerId, verifySelector)) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// only verify selector for the first (immediate ancestor) container\n\t\tverifySelector = false;\n\t}\n\n\treturn true;\n}\n\nfunction getContainersToSearch (containerId) {\n\tlet range = [];\n\tlet addRange = function (id) {\n\t\tconst config = getContainerConfig(id);\n\t\tif (id && range.indexOf(id) < 0 &&\n\t\t\t\tconfig && !config.selectorDisabled) {\n\t\t\trange.push(id);\n\t\t}\n\t};\n\n\tif (containerId) {\n\t\taddRange(containerId);\n\t} else {\n\t\taddRange(getDefaultContainer());\n\t\taddRange(getLastContainer());\n\t\t[...getAllContainerIds()].map(addRange);\n\t}\n\n\treturn range;\n}\n\nfunction getTargetByContainer (containerId, enterTo) {\n\treturn getContainersToSearch(containerId)\n\t\t.reduce((next, id) => {\n\t\t\treturn next || getContainerFocusTarget(id, enterTo);\n\t\t}, null);\n}\n\nfunction getTargetBySelector (selector) {\n\tif (!selector) return null;\n\n\tif (selector.charAt(0) === '@') {\n\t\tconst containerId = selector.length === 1 ? null : selector.substr(1);\n\n\t\treturn getTargetByContainer(containerId);\n\t}\n\n\tconst next = parseSelector(selector)[0];\n\tif (next) {\n\n\t\tif (isContainer(next)) {\n\t\t\treturn getTargetByContainer(getContainerId(next));\n\t\t}\n\n\t\tconst nextContainerIds = getContainersForNode(next);\n\t\tif (isNavigable(next, last(nextContainerIds), true)) {\n\t\t\treturn next;\n\t\t}\n\t}\n\n\treturn null;\n}\n\nfunction isRestrictedContainer (containerId) {\n\tconst config = getContainerConfig(containerId);\n\treturn config && (config.enterTo === 'last-focused' || config.enterTo === 'default-element');\n}\n\nfunction filterRects (elementRects, boundingRect) {\n\tif (!boundingRect) {\n\t\treturn elementRects;\n\t}\n\n\t// remove elements that are outside of boundingRect, if specified\n\treturn elementRects.filter(rect => {\n\t\tif (isContainer(rect.element)) {\n\t\t\t// For containers, test intersection since they may be larger than the bounding rect\n\t\t\treturn intersects(boundingRect, rect);\n\t\t} else {\n\t\t\t// For elements, use contains with the center to include mostly visible elements\n\t\t\treturn contains(boundingRect, rect.center);\n\t\t}\n\t}).map(rect => {\n\t\tlet topUpdate = rect.top < boundingRect.top;\n\t\tlet bottomUpdate = rect.bottom > boundingRect.bottom;\n\t\tlet leftUpdate = rect.left < boundingRect.left;\n\t\tlet rightUpdate = rect.right > boundingRect.right;\n\n\t\t// if the element's rect is larger than the bounding rect, clamp it to the bounding rect and\n\t\t// recalculate the center based on the new bounds.\n\t\tif (topUpdate || bottomUpdate || leftUpdate || rightUpdate) {\n\t\t\tconst updated = {...rect, center: {...rect.center}};\n\n\t\t\tif (topUpdate) updated.top = boundingRect.top;\n\t\t\tif (bottomUpdate) updated.bottom = boundingRect.bottom;\n\t\t\tif (leftUpdate) updated.left = boundingRect.left;\n\t\t\tif (rightUpdate) updated.right = boundingRect.right;\n\n\t\t\tif (leftUpdate || rightUpdate) {\n\t\t\t\tconst centerX = updated.left + (updated.right - updated.left) / 2;\n\t\t\t\tupdated.center.x = updated.center.left = updated.center.right = centerX;\n\t\t\t}\n\n\t\t\tif (topUpdate || bottomUpdate) {\n\t\t\t\tconst centerY = updated.top + (updated.bottom - updated.top) / 2;\n\t\t\t\tupdated.center.y = updated.center.top = updated.center.bottom = centerY;\n\t\t\t}\n\n\t\t\treturn updated;\n\t\t}\n\n\t\treturn rect;\n\t});\n}\n\nfunction getContainerContainingRect (elementRects, elementRect) {\n\t// find candidates that are containers and *visually* contain element\n\tconst overlapping = elementRects.filter(rect => {\n\t\treturn isContainer(rect.element) && contains(rect, elementRect);\n\t});\n\n\t// if the next element is a container AND the current element is *visually* contained within\n\t// one of the candidate element, we need to ignore container `enterTo` preferences and\n\t// retrieve its spottable descendants and try to navigate to them.\n\tif (overlapping.length) {\n\t\treturn overlapping[0].element.dataset.spotlightId;\n\t}\n\n\treturn false;\n}\n\nfunction getOverflowContainerRect (containerId) {\n\t// if the target container has overflowing content, update the boundingRect to match its\n\t// bounds to prevent finding elements within the container's hierarchy but not visible.\n\t// This filter only applies when waterfalling to prevent filtering out elements that share\n\t// a container tree with `element`\n\tconst nextConfig = getContainerConfig(containerId);\n\tif (nextConfig && nextConfig.overflow) {\n\t\treturn getContainerRect(containerId);\n\t}\n}\n\nfunction getTargetInContainerByDirectionFromPosition (direction, containerId, positionRect, elementContainerIds, boundingRect) {\n\tconst elements = getDeepSpottableDescendants(containerId);\n\tlet elementRects = filterRects(getRects(elements), boundingRect);\n\n\tlet next = null;\n\n\twhile (elementRects.length > 0) {\n\t\tconst overlappingContainerId = getContainerContainingRect(elementRects, positionRect);\n\n\t\t// if the pointer is within a container that is a candidate element, we need to ignore container\n\t\t// `enterTo` preferences and retrieve its spottable descendants and try to navigate to them.\n\t\tif (overlappingContainerId) {\n\t\t\tnext = getTargetInContainerByDirectionFromPosition(\n\t\t\t\tdirection,\n\t\t\t\toverlappingContainerId,\n\t\t\t\tpositionRect,\n\t\t\t\telementContainerIds,\n\t\t\t\tboundingRect\n\t\t\t);\n\n\t\t\tif (!next) {\n\t\t\t\t// filter out the container and try again\n\t\t\t\telementRects = elementRects.filter(rect => {\n\t\t\t\t\treturn rect.element.dataset.spotlightId !== overlappingContainerId;\n\t\t\t\t});\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// found a target so break out and return\n\t\t\tbreak;\n\t\t}\n\n\t\t// try to navigate from position to one of the candidates in containerId\n\t\tnext = navigate(\n\t\t\tpositionRect,\n\t\t\tdirection,\n\t\t\telementRects,\n\t\t\tgetContainerConfig(containerId)\n\t\t);\n\n\t\t// if we match a container, recurse into it\n\t\tif (next && isContainer(next)) {\n\t\t\tconst nextContainerId = next.dataset.spotlightId;\n\n\t\t\t// need to cache this reference so we can filter it out later if necessary\n\t\t\tconst lastNavigated = next;\n\n\t\t\tnext = getTargetInContainerByDirectionFromPosition(\n\t\t\t\tdirection,\n\t\t\t\tnextContainerId,\n\t\t\t\tpositionRect,\n\t\t\t\telementContainerIds,\n\t\t\t\tgetOverflowContainerRect(nextContainerId) || boundingRect\n\t\t\t);\n\n\t\t\tif (!next) {\n\t\t\t\t// filter out the container and try again\n\t\t\t\telementRects = elementRects.filter(rect => rect.element !== lastNavigated);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\n\t\t// If we've met every condition and haven't explicitly retried the search via `continue`,\n\t\t// break out and return\n\t\tbreak;\n\t}\n\n\treturn next;\n}\n\n\nfunction getTargetInContainerByDirectionFromElement (direction, containerId, element, elementRect, elementContainerIds, boundingRect) {\n\tconst elements = getDeepSpottableDescendants(containerId);\n\n\t// shortcut for previous target from element if it were saved\n\tconst previous = getContainerPreviousTarget(containerId, direction, element);\n\tif (previous && elements.indexOf(previous) !== -1) {\n\t\treturn previous;\n\t}\n\n\t// `spotlightOverflow` is a private, and likely temporary, API to allow a component within an\n\t// spotlight container with `overflow: true` to be treated as if it were outside of the\n\t// container. The result is that the candidates, `elements` are filtered by the bounds of the\n\t// overflow container effectively hiding those that have overflowed and are visually hidden.\n\t//\n\t// Currently only used by moonstone/Scroller.Scrollbar as a means to allow 5-way navigation to\n\t// escape the Scrollable from paging controls rather than focusing contents that are out of view\n\tif (element.dataset.spotlightOverflow === 'ignore') {\n\t\tboundingRect = getOverflowContainerRect(containerId) || boundingRect;\n\t}\n\n\tlet elementRects = filterRects(getRects(elements), boundingRect);\n\n\tlet next = null;\n\n\twhile (elementRects.length > 0) {\n\t\tconst overlappingContainerId = getContainerContainingRect(elementRects, elementRect);\n\n\t\t// if the next element is a container AND the current element is *visually* contained within\n\t\t// one of the candidate elements, we need to ignore container `enterTo` preferences and\n\t\t// retrieve its spottable descendants and try to navigate to them.\n\t\tif (overlappingContainerId) {\n\t\t\tnext = getTargetInContainerByDirectionFromElement(\n\t\t\t\tdirection,\n\t\t\t\toverlappingContainerId,\n\t\t\t\telement,\n\t\t\t\telementRect,\n\t\t\t\telementContainerIds,\n\t\t\t\tboundingRect\n\t\t\t);\n\n\t\t\tif (!next) {\n\t\t\t\t// filter out the container and try again\n\t\t\t\telementRects = elementRects.filter(rect => {\n\t\t\t\t\treturn rect.element.dataset.spotlightId !== overlappingContainerId;\n\t\t\t\t});\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// found a target so break out and return\n\t\t\tbreak;\n\t\t}\n\n\t\t// If one of the downstream containers is configured for partition, we use that\n\t\t// container's bounds as the partition rect for navigation.\n\t\tconst partitionContainer = elementContainerIds\n\t\t\t.slice(elementContainerIds.indexOf(containerId) + 1)\n\t\t\t.find(id => {\n\t\t\t\tconst cfg = getContainerConfig(id);\n\t\t\t\treturn cfg && cfg.partition;\n\t\t\t});\n\n\t\tlet partitionRect = elementRect;\n\t\tif (partitionContainer) {\n\t\t\tpartitionRect = getContainerRect(partitionContainer);\n\t\t}\n\n\t\t// try to navigate from element to one of the candidates in containerId\n\t\tnext = navigate(\n\t\t\telementRect,\n\t\t\tdirection,\n\t\t\telementRects,\n\t\t\tgetContainerConfig(containerId),\n\t\t\tpartitionRect\n\t\t);\n\n\t\t// if we match a container,\n\t\tif (next && isContainer(next)) {\n\t\t\tconst nextContainerId = next.dataset.spotlightId;\n\n\t\t\t// need to cache this reference so we can filter it out later if necessary\n\t\t\tconst lastNavigated = next;\n\n\t\t\t// and it is restricted, return its target\n\t\t\tif (isRestrictedContainer(nextContainerId)) {\n\t\t\t\tnext = getTargetByContainer(nextContainerId);\n\t\t\t} else {\n\t\t\t\t// otherwise, recurse into it\n\t\t\t\tnext = getTargetInContainerByDirectionFromElement(\n\t\t\t\t\tdirection,\n\t\t\t\t\tnextContainerId,\n\t\t\t\t\telement,\n\t\t\t\t\telementRect,\n\t\t\t\t\telementContainerIds,\n\t\t\t\t\tgetOverflowContainerRect(nextContainerId) || boundingRect\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (!next) {\n\t\t\t\telementRects = elementRects.filter(rect => rect.element !== lastNavigated);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\n\t\t// If we've met every condition and haven't explicitly retried the search via `continue`,\n\t\t// break out and return\n\t\tbreak;\n\t}\n\n\treturn next;\n}\n\nfunction getTargetByDirectionFromElement (direction, element) {\n\tconst extSelector = element.getAttribute('data-spot-' + direction);\n\tif (typeof extSelector === 'string') {\n\t\treturn getTargetBySelector(extSelector);\n\t}\n\n\tconst elementRect = getRect(element);\n\n\tconst next = getNavigableContainersForNode(element)\n\t\t.reduceRight((result, containerId, index, elementContainerIds) => {\n\t\t\tresult = result || getTargetInContainerByDirectionFromElement(\n\t\t\t\tdirection,\n\t\t\t\tcontainerId,\n\t\t\t\telement,\n\t\t\t\telementRect,\n\t\t\t\telementContainerIds\n\t\t\t);\n\n\t\t\tif (!result) {\n\t\t\t\tresult = getLeaveForTarget(containerId, direction);\n\n\t\t\t\t// To support a `leaveFor` configuration with navigation disallowed in the current\n\t\t\t\t// `direction`, we return the current element to prevent further searches for a\n\t\t\t\t// target in this reduction.\n\t\t\t\tif (result === false) {\n\t\t\t\t\tresult = element;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}, null);\n\n\t// if the reduce above returns the original element, it means it hit a `leaveFor` config that\n\t// prevents navigation so we enforce that here by returning null.\n\treturn next !== element ? next : null;\n}\n\nfunction getTargetByDirectionFromPosition (direction, position, containerId) {\n\tconst pointerRect = getPointRect(position);\n\n\treturn getNavigableContainersForNode(getContainerNode(containerId))\n\t\t.reduceRight((result, id, index, elementContainerIds) => {\n\t\t\treturn result ||\n\t\t\t\tgetTargetInContainerByDirectionFromPosition(\n\t\t\t\t\tdirection,\n\t\t\t\t\tid,\n\t\t\t\t\tpointerRect,\n\t\t\t\t\telementContainerIds\n\t\t\t\t);\n\t\t}, null);\n}\n\n/**\n * Returns the target identified by the selector configured for the container identified by\n * `containerId` for the given `direction`. If the selector is an empty string, the method returns\n * `false` indicating that navigation isn't allowed out of the container in that direction.\n *\n * @param   {String}        containerId  Identifier for a container\n * @param   {String}        direction    Direction to navigate (up, down, left, right)\n *\n * @returns {Node|Boolean}               Target, if found, or `false` if navigation is disallowed\n * @private\n */\nfunction getLeaveForTarget (containerId, direction) {\n\tconst config = getContainerConfig(containerId);\n\n\tif (config) {\n\t\tconst target = config.restrict !== 'self-only' && config.leaveFor && config.leaveFor[direction];\n\t\tif (typeof target === 'string') {\n\t\t\tif (target === '') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn getTargetBySelector(target);\n\t\t}\n\n\t\tconst nextContainerIds = getContainersForNode(target);\n\t\tif (isNavigable(target, last(nextContainerIds))) {\n\t\t\treturn target;\n\t\t}\n\t}\n\n\treturn null;\n}\n\nfunction getNavigableTarget (target) {\n\tif (target === document) return null;\n\n\tlet parent;\n\twhile (target && (isContainer(target) || !isFocusable(target))) {\n\t\tparent = target.parentNode;\n\t\ttarget = parent === document ? null : parent; // calling isNavigable on document is problematic\n\t}\n\treturn target;\n}\n\nconst getOffsetDistanceToTargetFromPosition = (distance, direction, {x, y}, {left, right, top, bottom}) => {\n\tif (direction === 'left' || direction === 'right') {\n\t\tif (y > bottom) {\n\t\t\tdistance += y - bottom;\n\t\t} else if (y < top) {\n\t\t\tdistance += top - y;\n\t\t}\n\t} else if (x > right) {\n\t\tdistance += x - right;\n\t} else if (x < left) {\n\t\tdistance += left - x;\n\t}\n\n\treturn distance;\n};\n\nconst getDistanceToTargetFromPosition = (direction, position, elementRect) => {\n\tconst {x, y} = position;\n\tlet distance;\n\n\tif (direction === 'left') {\n\t\tdistance = x - elementRect.right;\n\t} else if (direction === 'right') {\n\t\tdistance = elementRect.left - x;\n\t} else if (direction === 'up') {\n\t\tdistance = y - elementRect.bottom;\n\t} else if (direction === 'down') {\n\t\tdistance = elementRect.top - y;\n\t}\n\n\treturn getOffsetDistanceToTargetFromPosition(clamp(0, Math.abs(distance), distance), direction, position, elementRect);\n};\n\nconst getNearestTargetsInContainerFromPosition = (position, containerId) => {\n\treturn ['up', 'left', 'right', 'down'].reduce((result, direction) => {\n\t\tconst target = getTargetByDirectionFromPosition(direction, position, containerId);\n\n\t\tif (target) {\n\t\t\tresult.push({\n\t\t\t\tdirection,\n\t\t\t\ttarget\n\t\t\t});\n\t\t}\n\n\t\treturn result;\n\t}, []);\n};\n\nconst getNearestTargetInContainerFromPosition = (position, containerId) => {\n\tconst targets = getNearestTargetsInContainerFromPosition(position, containerId);\n\n\tif (!targets.length) {\n\t\treturn;\n\t}\n\n\ttargets.forEach((item) => {\n\t\tconst {direction, target} = item;\n\t\titem.distance = getDistanceToTargetFromPosition(direction, position, getRect(target));\n\t});\n\n\ttargets.sort((a, b) => a.distance - b.distance);\n\treturn targets[0].target;\n};\n\nconst getNearestTargetFromPosition = (position, containerId) => (\n\tgetNavigableTarget(document.elementFromPoint(position.x, position.y)) ||\n\tgetNearestTargetInContainerFromPosition(position, containerId)\n);\n\nexport {\n\tgetNavigableTarget,\n\tgetNearestTargetFromPosition,\n\tgetTargetByContainer,\n\tgetTargetByDirectionFromElement,\n\tgetTargetByDirectionFromPosition,\n\tgetTargetBySelector,\n\tisFocusable\n};\n","/**\n * Exports methods and members for creating and maintaining spotlight containers.\n *\n * @module spotlight/container\n * @private\n */\n\nimport and from 'ramda/src/and';\nimport concat from 'ramda/src/concat';\nimport {coerceArray} from '@enact/core/util';\nimport intersection from 'ramda/src/intersection';\nimport last from 'ramda/src/last';\n\nimport {contains, matchSelector, getContainerRect, getRect, intersects} from './utils';\n\nconst containerAttribute = 'data-spotlight-id';\nconst containerConfigs   = new Map();\nconst containerKey       = 'spotlightId';\nconst disabledKey        = 'spotlightContainerDisabled';\nconst containerPrefix    = 'container-';\nconst containerSelector  = '[data-spotlight-container]';\nconst rootContainerId    = 'spotlightRootDecorator';\nconst reverseDirections = {\n\t'left': 'right',\n\t'up': 'down',\n\t'right': 'left',\n\t'down': 'up'\n};\n\n// Incrementer for container IDs\nlet _ids = 0;\n\nlet _defaultContainerId = '';\nlet _lastContainerId = '';\n\n// Note: an <extSelector> can be one of following types:\n// - a valid selector string for \"querySelectorAll\"\n// - a NodeList or an array containing DOM elements\n// - a single DOM element\n// - a string \"@<containerId>\" to indicate the specified container\n// - a string \"@\" to indicate the default container\nlet GlobalConfig = {\n\t// set to false for unmounted containers to omit them from searches\n\tactive: true,\n\tcontinue5WayHold: false,\n\tdefaultElement: '',     // <extSelector> except \"@\" syntax.\n\tenterTo: '',            // '', 'last-focused', 'default-element'\n\tlastFocusedElement: null,\n\tlastFocusedKey: null,\n\tlastFocusedPersist: (node, all) => {\n\t\tconst container = typeof node === 'string';\n\t\treturn {\n\t\t\tcontainer,\n\t\t\telement: !container,\n\t\t\tkey: container ? node : all.indexOf(node)\n\t\t};\n\t},\n\tlastFocusedRestore: ({container, key}, all) => {\n\t\treturn container ? key : all[key];\n\t},\n\tleaveFor: null,         // {left: <extSelector>, right: <extSelector>, up: <extSelector>, down: <extSelector>}\n\tnavigableFilter: null,\n\tobliqueMultiplier: 5,\n\tonEnterContainer: null,     // @private - notify the container when entering via 5-way\n\tonLeaveContainer: null,      // @private - notify the container when leaving via 5-way\n\tonLeaveContainerFail: null,  // @private - notify the container when failing to leave via 5-way\n\toverflow: false,\n\tpartition: false, // use the container bounds for partitioning when leaving\n\trememberSource: false,\n\trestrict: 'self-first', // 'self-first', 'self-only', 'none'\n\tselector: '',           // can be a valid <extSelector> except \"@\" syntax.\n\tselectorDisabled: false,\n\tstraightMultiplier: 1,\n\tstraightOnly: false,\n\tstraightOverlapThreshold: 0.5,\n\ttabIndexIgnoreList: 'a, input, select, textarea, button, iframe, [contentEditable=true]'\n};\n\n/**\n * Calculates nodes within `node` that match `includeSelector` and do not match `excludeSelector`\n *\n * @param   {Node}    node             DOM Node to query\n * @param   {String}  includeSelector  CSS selector of nodes to include\n * @param   {String}  excludeSelector  CSS selector for nodes to exclude\n *\n * @returns {Node[]}                   Array of nodes\n * @memberof spotlight/container\n * @private\n */\nconst querySelector = (node, includeSelector, excludeSelector) => {\n\tconst include = Array.prototype.slice.call(node.querySelectorAll(includeSelector));\n\tconst exclude = node.querySelectorAll(excludeSelector);\n\n\tfor (let i = 0; i < exclude.length; i++) {\n\t\tconst index = include.indexOf(exclude.item(i));\n\t\tif (index >= 0) {\n\t\t\tinclude.splice(index, 1);\n\t\t}\n\t}\n\n\treturn include;\n};\n\n/**\n * Determines if `node` is a spotlight container\n *\n * @param   {Node}     node   Node to check\n *\n * @returns {Boolean}        `true` if `node` is a spotlight container\n * @memberof spotlight/container\n * @private\n */\nconst isContainerNode = (node) => {\n\treturn node && node.dataset && 'spotlightContainer' in node.dataset;\n};\n\n/**\n * Walks up the node hierarchy calling `fn` on each node that is a container\n *\n * @param   {Node}     node  Node from which to start the search\n * @param   {Function} fn    Called once for each container with the container node as the first\n *                           argument. The return value is accumulated in the array returned by\n *                           `mapContainers`\n *\n * @returns {Array}          Array of values returned by `fn` in order of outermost container to\n *                           innermost container\n * @memberof spotlight/container\n * @private\n */\nconst mapContainers = (node, fn) => {\n\tconst result = [];\n\n\twhile (node && node !== document) {\n\t\tif (isContainerNode(node)) {\n\t\t\tresult.unshift(fn(node));\n\t\t}\n\t\tnode = node.parentNode;\n\t}\n\n\treturn result;\n};\n\n/**\n * Returns the container config for `containerId`\n *\n * @param   {String}  id  Container ID\n *\n * @returns {Object}      Container config\n * @memberof spotlight/container\n * @private\n */\nconst getContainerConfig = (id) => {\n\treturn containerConfigs.get(id);\n};\n\n/**\n * Determines if node or a container id represents a spotlight container\n *\n * @param   {Node|String}  nodeOrId  Node or container ID\n *\n * @returns {Boolean}                `true` if `nodeOrId` represents a spotlight container\n * @memberof spotlight/container\n * @private\n */\nconst isContainer = (nodeOrId) => {\n\tif (typeof nodeOrId === 'string') {\n\t\treturn containerConfigs.has(nodeOrId);\n\t}\n\n\treturn isContainerNode(nodeOrId);\n};\n\n/**\n * Determines if any of the containers at or above `node` are disabled and, if so, returns `false`.\n *\n * @param   {Node}     node  Spottable node or spotlight container\n *\n * @returns {Boolean}        `true` if all container ancestors are enabled\n * @memberof spotlight/container\n * @private\n */\nconst isContainerEnabled = (node) => {\n\treturn mapContainers(node, container => {\n\t\treturn container.dataset[disabledKey] !== 'true';\n\t}).reduce(and, true);\n};\n\n/**\n * Returns the container ID for `node`\n *\n * @param   {Node}    node  Container Node\n *\n * @returns {String}        Container ID\n * @memberof spotlight/container\n * @private\n */\nconst getContainerId = (node) => node.dataset[containerKey];\n\n/**\n * Generates a CSS selector string for a current container if `node` is a container\n *\n * @param   {Node}    node  Container Node\n *\n * @returns {String}        CSS selector\n * @memberof spotlight/container\n * @private\n */\nconst getContainerSelector = (node) => {\n\tif (isContainerNode(node)) {\n\t\treturn `[${containerAttribute}=\"${getContainerId(node)}\"]`;\n\t}\n\n\treturn '';\n};\n\n/**\n * Generates a CSS selector string for containers within `node` if it is a container\n *\n * @param   {Node}    node  Container Node\n *\n * @returns {String}        CSS selector\n * @memberof spotlight/container\n * @private\n */\nconst getSubContainerSelector = (node) => {\n\tif (isContainerNode(node)) {\n\t\treturn `${getContainerSelector(node)} ${containerSelector}`;\n\t}\n\n\treturn containerSelector;\n};\n\n/**\n * Returns the node for a container\n *\n * @param   {String}  containerId  ID of container\n *\n * @returns {Node}                 DOM node of the container\n * @memberof spotlight/container\n * @private\n */\nconst getContainerNode = (containerId) => {\n\tif (!containerId) {\n\t\treturn null;\n\t} else if (containerId === rootContainerId) {\n\t\treturn document;\n\t}\n\n\treturn document.querySelector(`[${containerAttribute}=\"${containerId}\"]`);\n};\n\n/**\n * Calls the `navigableFilter` function for the container if defined.\n *\n * @param   {Node}    node         DOM node to check if it is navigable\n * @param   {String}  containerId  ID of container\n *\n * @returns {Boolean}              `true` if it passes the `navigableFilter` method or if that\n *                                  method is not defined for the container\n * @memberof spotlight/container\n * @private\n */\nconst navigableFilter = (node, containerId) => {\n\tconst config = getContainerConfig(containerId);\n\tif (config && typeof config.navigableFilter === 'function') {\n\t\tif (config.navigableFilter(node, containerId) === false) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n};\n\n/**\n * Determines nodes that are owned by `node` based on `aria-owns`.\n *\n * @param   {Node}   node          Owner\n *\n * @returns {Node[]}               Array of owned nodes\n * @memberof spotlight/container\n * @private\n */\nconst getOwnedNodes = (node, selector) => {\n\t// if node is document, it will not have getAttribute and therefore can't have aria-owns\n\tconst owns = node && node.getAttribute && node.getAttribute('aria-owns');\n\tif (owns) {\n\t\tconst ids = owns.split(' ');\n\t\treturn ids\n\t\t\t.map(id => id && document.getElementById(id))\n\t\t\t.filter(Boolean)\n\t\t\t.filter(n => isContainerNode(n) || matchSelector(selector, n));\n\t}\n\n\treturn [];\n};\n\n/**\n * Determines all spottable elements and containers that are directly contained by the container\n * identified by `containerId` and no other subcontainers.\n *\n * @param   {String}  containerId  ID of container\n *\n * @returns {Node[]}               Array of spottable elements and containers.\n * @memberof spotlight/container\n * @public\n */\nconst getSpottableDescendants = (containerId) => {\n\tconst node = getContainerNode(containerId);\n\n\t// if it's falsy or is a disabled container, return an empty set\n\tif (!node || (isContainerNode(node) && !isContainerEnabled(node))) {\n\t\treturn [];\n\t}\n\n\tconst {selector, selectorDisabled} = getContainerConfig(containerId) || {};\n\n\tif (!selector || selectorDisabled) {\n\t\treturn [];\n\t}\n\n\tconst spottableSelector = selector;\n\tconst subContainerSelector = getSubContainerSelector(node);\n\tconst candidates = querySelector(\n\t\tnode,\n\t\t`${spottableSelector}, ${getContainerSelector(node)} ${containerSelector}:not([data-spotlight-container-disabled=\"true\"])`,\n\t\t`${subContainerSelector} ${spottableSelector}, ${subContainerSelector} ${containerSelector}`\n\t);\n\n\tcandidates.push(...getOwnedNodes(node, selector));\n\n\treturn candidates.filter(n => navigableFilter(n, containerId));\n};\n\n/**\n * Recursively get spottable descendants by including elements within sub-containers that do not\n * have `enterTo` configured\n *\n * @param   {String}    containerId          ID of container\n * @param   {String[]}  [excludedContainers] IDs of containers to exclude from result set\n *\n * @returns {Node[]}                         Array of spottable elements and containers\n * @memberof spotlight/container\n * @private\n */\nconst getDeepSpottableDescendants = (containerId, excludedContainers) => {\n\treturn getSpottableDescendants(containerId)\n\t\t.map(n => {\n\t\t\tif (isContainer(n)) {\n\t\t\t\tconst id = getContainerId(n);\n\t\t\t\tconst config = getContainerConfig(id);\n\t\t\t\tif (excludedContainers && excludedContainers.indexOf(id) >= 0) {\n\t\t\t\t\treturn [];\n\t\t\t\t} else if (config && !config.enterTo) {\n\t\t\t\t\treturn getDeepSpottableDescendants(id, excludedContainers);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn [n];\n\t\t})\n\t\t.reduce(concat, []);\n};\n\n/**\n * Determines if a container allows 5-way key hold to be preserved or not.\n *\n * @param {String} containerId Container Id\n * @returns {Boolean} `true` if a container is 5 way holdable\n * @memberof spotlight/container\n * @private\n */\nconst isContainer5WayHoldable = (containerId) => {\n\tconst config = getContainerConfig(containerId);\n\treturn (config && config.continue5WayHold) || false;\n};\n\n/**\n * Returns an array of ids for containers that wrap the element, in order of outer-to-inner, with\n * the last array item being the immediate container id of the element.\n *\n * @param   {Node}      node  Node from which to start the search\n *\n * @returns {String[]}        Array on container IDs\n * @memberof spotlight/container\n * @private\n */\nfunction getContainersForNode (node) {\n\tconst containers = mapContainers(node, getContainerId);\n\tcontainers.unshift(rootContainerId);\n\n\treturn containers;\n}\n\n/**\n * Returns an array of ids for containers that wrap the element, in order of outer-to-inner, with\n * the last array item being the immediate container id of the element. The container ids are\n * limited to only those between `node` and the first restrict=\"self-only\" container.\n *\n * @param   {Node}      node  Node from which to start the search\n *\n * @returns {String[]}        Array on container IDs\n * @memberof spotlight/container\n * @private\n */\nfunction getNavigableContainersForNode (node) {\n\tconst containerIds = getContainersForNode(node);\n\n\t// find first self-only container id\n\tconst selfOnlyIndex = containerIds\n\t\t.map(getContainerConfig)\n\t\t.filter(config => config != null)\n\t\t.reduceRight((index, config, i) => {\n\t\t\tif (index === -1 && config.restrict === 'self-only') {\n\t\t\t\treturn i;\n\t\t\t}\n\n\t\t\treturn index;\n\t\t}, -1);\n\n\t// if we found one (and it's not the root), slice those off and return\n\tif (selfOnlyIndex > 0) {\n\t\treturn containerIds.slice(selfOnlyIndex);\n\t}\n\n\treturn containerIds;\n}\n\n/**\n * Generates a new unique identifier for a container\n *\n * @returns {String} Container ID\n * @memberof spotlight/container\n * @private\n */\nfunction generateId () {\n\tlet id;\n\t/* eslint no-constant-condition: [\"error\", { \"checkLoops\": false }] */\n\twhile (true) {\n\t\tid = containerPrefix + String(++_ids);\n\t\tif (!isContainer(id)) {\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn id;\n}\n\n/**\n * Merges two container configurations while only allowing keys from `updated` which are defined in\n * `GlobalConfig`\n *\n * @param   {Object}  current  Current container configuration\n * @param   {Object}  updated  Updated configuration which may only be a partial configuration\n *\n * @returns {Object}           Merged configuration\n * @memberof spotlight/container\n * @private\n */\nconst mergeConfig = (current, updated) => {\n\tif (!updated) return current;\n\n\tlet cfg = null;\n\n\tObject.keys(updated).forEach(key => {\n\t\tif (key in GlobalConfig && current[key] !== updated[key]) {\n\t\t\tif (cfg == null) {\n\t\t\t\tcfg = Object.assign({}, current);\n\t\t\t}\n\t\t\tcfg[key] = updated[key];\n\t\t}\n\t});\n\n\treturn cfg || current;\n};\n\n/**\n * Adds or updates a container. When a container id is not specified, it will be generated.\n *\n * @param   {String|Object}  containerIdOrConfig  Either a string container id or a configuration\n *                                                object.\n * @param   {Object}         [config]             Container configuration when `containerIdOrConfig`\n *                                                is a string. When omitted, the container will have\n *                                                the default `GlobalConfig`.\n *\n * @returns {String}                              The container id\n * @memberof spotlight/container\n * @public\n */\nconst configureContainer = (...args) => {\n\tlet containerId, config;\n\n\tif (typeof args[0] === 'object') {\n\t\tconfig = args[0];\n\t\tcontainerId = config.id;\n\t} else if (typeof args[0] === 'string') {\n\t\tcontainerId = args[0];\n\t\tif (typeof args[1] === 'object') {\n\t\t\tconfig = args[1];\n\t\t}\n\t}\n\n\tif (!containerId) {\n\t\tcontainerId = generateId();\n\t}\n\n\tconfig = mergeConfig(containerConfigs.get(containerId) || {...GlobalConfig}, config);\n\tcontainerConfigs.set(containerId, config);\n\n\treturn containerId;\n};\n\n/**\n * Adds a container and marks it active. When a container id is not specified, it will be generated.\n *\n * @param   {String|Object}  containerIdOrConfig  Either a string container id or a configuration\n *                                                object.\n * @param   {Object}         [config]             Container configuration when `containerIdOrConfig`\n *                                                is a string. When omitted, the container will have\n *                                                the default `GlobalConfig`.\n *\n * @returns {String}                              The container id\n * @memberof spotlight/container\n * @public\n */\nconst addContainer = (...args) => {\n\tconst containerId = configureContainer(...args);\n\tconst config = getContainerConfig(containerId);\n\tconfig.active = true;\n\n\treturn containerId;\n};\n\n/**\n * Removes a container\n *\n * @param   {String}     containerId  ID of the container to remove\n *\n * @returns {undefined}\n * @memberof spotlight/container\n * @public\n */\nconst removeContainer = (containerId) => {\n\tcontainerConfigs.delete(containerId);\n};\n\n/**\n * Removes all containers\n *\n * @returns {undefined}\n * @memberof spotlight/container\n * @public\n */\nconst removeAllContainers = () => {\n\tcontainerConfigs.clear();\n};\n\n/**\n * Configures the `GlobalConfig` for containers\n *\n * @param   {Object}  config  New global configuration. Cannot introduce new keys\n *\n * @returns {undefined}\n * @memberof spotlight/container\n * @public\n */\nconst configureDefaults = (config) => {\n\tGlobalConfig = mergeConfig(GlobalConfig, config);\n};\n\n/**\n * Determines if `node` is a navigable element within the container identified by `containerId`.\n *\n * @param   {Node}     node         DOM node to check if it is navigable\n * @param   {String}   containerId  ID of the container containing `node`\n * @param   {Boolean}  verify       `true` to verify the node matches the container's `selector`\n *\n * @returns {Boolean}               `true` if `node` is navigable\n * @memberof spotlight/container\n * @public\n */\nconst isNavigable = (node, containerId, verify) => {\n\tif (!node || (\n\t\t// jsdom reports all nodes as having no size so we must skip this condition in our tests\n\t\tprocess.env.NODE_ENV !== 'test' &&\n\t\tnode.offsetWidth <= 0 && node.offsetHeight <= 0\n\t)) {\n\t\treturn false;\n\t}\n\n\tconst containerNode = getContainerNode(containerId);\n\tif (containerNode !== document && containerNode.dataset[disabledKey] === 'true') {\n\t\treturn false;\n\t}\n\n\tconst config = getContainerConfig(containerId);\n\tif (verify && config && config.selector && !isContainer(node) && !matchSelector(config.selector, node)) {\n\t\treturn false;\n\t}\n\n\treturn navigableFilter(node, containerId);\n};\n\n/**\n * Returns the IDs of all containers\n *\n * @returns {String[]}  Array of container IDs\n * @memberof spotlight/container\n * @private\n */\nconst getAllContainerIds = () => {\n\tconst ids = [];\n\tconst keys = containerConfigs.keys();\n\n\t// PhantomJS-friendly iterator->array conversion\n\tlet id;\n\twhile ((id = keys.next()) && !id.done) {\n\t\tif (isActiveContainer(id.value)) {\n\t\t\tids.push(id.value);\n\t\t}\n\t}\n\n\treturn ids;\n};\n\n/**\n * Returns the default focus element for a container\n *\n * @param   {String}                             containerId        ID of container\n * @param   {('last-focused'|'default-element')} [preferredEnterTo] Prefer the given enterTo\n *                                                                  configuration\n *\n * @returns {Node|null}                 Default focus element\n * @memberof spotlight/container\n * @public\n */\nfunction getContainerDefaultElement (containerId, preferredEnterTo) {\n\tconst config = getContainerConfig(containerId);\n\n\tlet defaultElementSelector = config && config.defaultElement;\n\tif (!defaultElementSelector) {\n\t\treturn null;\n\t}\n\n\tdefaultElementSelector = coerceArray(defaultElementSelector);\n\n\t// If a preferred enterTo has been provided, we will favor it by making it first in search array\n\tif (preferredEnterTo && typeof preferredEnterTo === 'string' && preferredEnterTo !== 'default-element') {\n\t\tdefaultElementSelector.unshift(preferredEnterTo);\n\t}\n\n\tconst spottables = getDeepSpottableDescendants(containerId);\n\n\treturn defaultElementSelector.reduce((result, selector) => {\n\t\tif (result) {\n\t\t\treturn result;\n\t\t}\n\n\t\tif (typeof selector === 'string') {\n\t\t\treturn spottables.filter(elem => {\n\t\t\t\treturn matchSelector(selector, elem) && isNavigable(elem, containerId, true);\n\t\t\t})[0];\n\t\t}\n\n\t\t// FIXME: There is some prior implicit support for `defaultElement` to be an element rather\n\t\t// than a selector. This continues that support but should eventually be removed.\n\t\treturn selector;\n\t}, null);\n}\n\n/**\n * Gets the element last focused within the container.\n *\n * @param   {String}       containerId  ID of container\n *\n * @returns {Node|String|null}               DOM Node last focused\n * @memberof spotlight/container\n * @public\n */\nfunction getContainerLastFocusedElement (containerId) {\n\tconst config = getContainerConfig(containerId);\n\n\tif (!config || !config.lastFocusedElement) {\n\t\treturn null;\n\t}\n\n\t// lastFocusedElement may be a container ID so try to convert it to a node to test navigability\n\tconst {lastFocusedElement} = config;\n\tlet node = lastFocusedElement;\n\tif (typeof node === 'string') {\n\t\tnode = getContainerNode(lastFocusedElement);\n\t}\n\n\treturn isNavigable(node, containerId, true) ? lastFocusedElement : null;\n}\n\n/**\n * Sets the element last focused within the container\n *\n * @param   {Node}      node         DOM node last focused\n * @param   {String[]}  containerId  ID of container\n *\n * @returns {undefined}\n * @memberof spotlight/container\n * @public\n */\nfunction setContainerLastFocusedElement (node, containerIds) {\n\tlet lastFocusedElement = node;\n\tfor (let i = containerIds.length - 1; i > -1; i--) {\n\t\tconst id = containerIds[i];\n\t\tconfigureContainer(id, {lastFocusedElement});\n\n\t\t// If any container in the stack is controlling entering focus, use its container id as the\n\t\t// lastFocusedElement instead of the node\n\t\tconst config = getContainerConfig(id);\n\t\tif (config.enterTo) {\n\t\t\tlastFocusedElement = id;\n\t\t}\n\t}\n}\n\n/**\n * Returns all navigable nodes (spottable nodes or containers) visible from outside the container.\n * If the container is restricting navigation into itself via `enterTo`, this method will attempt to\n * return that element as the only element in an array. If that fails or if navigation is not\n * restricted, it will return an array of all possible navigable nodes.\n *\n * @param   {String}                             containerId        Container ID\n * @param   {('last-focused'|'default-element')} [preferredEnterTo] Prefer the given enterTo\n *                                                                  configuration\n *\n * @returns {Node[]}             Navigable elements within container\n * @memberof spotlight/container\n * @public\n */\nfunction getContainerNavigableElements (containerId, preferredEnterTo) {\n\tif (!isContainer(containerId)) {\n\t\treturn [];\n\t}\n\n\tconst config = getContainerConfig(containerId);\n\tconst {enterTo, overflow} = config;\n\n\tconst enterLast = preferredEnterTo === 'last-focused' || (enterTo === 'last-focused' && !preferredEnterTo);\n\tlet next;\n\n\t// if the container has a preferred entry point, try to find it first\n\tif (enterLast) {\n\t\tnext = getContainerLastFocusedElement(containerId);\n\t}\n\n\t// try default element if last focused can't be focused\n\tif (!next) {\n\t\tnext = getContainerDefaultElement(containerId, preferredEnterTo);\n\t}\n\n\tif (!next) {\n\t\tlet spottables = overflow ?\n\t\t\t// overflow requires deep recursion to handle selecting the children of unrestricted\n\t\t\t// containers or restricted containers larger than the container\n\t\t\tgetDeepSpottableDescendants(containerId) :\n\t\t\tgetSpottableDescendants(containerId);\n\n\t\t// if there isn't a preferred entry on an overflow container, filter the visible elements\n\t\tif (overflow) {\n\t\t\tconst containerRect = getContainerRect(containerId);\n\t\t\tnext = containerRect && spottables.filter(element => {\n\t\t\t\tconst elementRect = getRect(element);\n\t\t\t\tif (isContainer(element)) {\n\t\t\t\t\treturn intersects(containerRect, elementRect);\n\t\t\t\t}\n\n\t\t\t\treturn contains(containerRect, getRect(element));\n\t\t\t});\n\t\t}\n\n\t\t// otherwise, return all spottables within the container\n\t\tif (!next) {\n\t\t\tnext = spottables;\n\t\t}\n\t}\n\n\treturn next ? coerceArray(next) : [];\n}\n\n/**\n * Determines the preferred focus target, traversing any sub-containers as necessary, for the given\n * container.\n *\n * @param   {String}                             containerId        ID of container\n * @param   {('last-focused'|'default-element')} [preferredEnterTo] Prefer the given enterTo\n *                                                                  configuration\n *\n * @returns {Node}                 Preferred target as either a DOM node or container-id\n * @memberof spotlight/container\n * @public\n */\nfunction getContainerFocusTarget (containerId, preferredEnterTo) {\n\t// deferring restoration until it's requested to allow containers to prepare first\n\trestoreLastFocusedElement(containerId);\n\n\tlet next = getContainerNavigableElements(containerId, preferredEnterTo);\n\t// If multiple candidates returned, we need to find the first viable target since some may\n\t// be empty containers which should be skipped.\n\treturn next.reduce((result, element) => {\n\t\tif (result) {\n\t\t\treturn result;\n\t\t} else if (isContainer(element)) {\n\t\t\tconst nextId = isContainerNode(element) ? getContainerId(element) : element;\n\t\t\treturn getContainerFocusTarget(nextId);\n\t\t}\n\n\t\treturn element;\n\t}, null) || null;\n}\n\nfunction getContainerPreviousTarget (containerId, direction, destination) {\n\tconst config = getContainerConfig(containerId);\n\n\tif (config &&\n\t\tconfig.rememberSource &&\n\t\tconfig.previous &&\n\t\tconfig.previous.reverse === direction &&\n\t\tconfig.previous.destination === destination\n\t) {\n\t\treturn config.previous.target;\n\t}\n}\n\nfunction setContainerPreviousTarget (containerId, direction, destination, target) {\n\tconst config = getContainerConfig(containerId);\n\n\tif (config && config.rememberSource) {\n\t\tconfigureContainer(containerId, {\n\t\t\tprevious: {\n\t\t\t\ttarget,\n\t\t\t\tdestination,\n\t\t\t\treverse: reverseDirections[direction]\n\t\t\t}\n\t\t});\n\t}\n}\n\n/**\n * Saves the last focused element into `lastFocusedKey` using a container-defined serialization\n * method configured in `lastFocusedPersist`.\n *\n * @param   {String}     containerId  ID of container\n *\n * @returns {undefined}\n * @memberof spotlight/container\n * @public\n */\nfunction persistLastFocusedElement (containerId) {\n\tconst cfg = getContainerConfig(containerId);\n\tif (cfg) {\n\t\tconst {lastFocusedElement} = cfg;\n\t\tif (lastFocusedElement) {\n\t\t\tconst all = getDeepSpottableDescendants(containerId);\n\t\t\tconst lastFocusedKey = cfg.lastFocusedPersist(lastFocusedElement, all);\n\n\t\t\t// store lastFocusedKey and release node reference to lastFocusedElement\n\t\t\tcfg.lastFocusedKey = lastFocusedKey;\n\t\t\tcfg.lastFocusedElement = null;\n\t\t}\n\t}\n}\n\n/**\n * Restores the last focused element from `lastFocusedKey` using a container-defined deserialization\n * method configured in `lastFocusedRestore`.\n *\n * @param   {String}     containerId  ID of container\n *\n * @returns {undefined}\n * @memberof spotlight/container\n * @public\n */\nfunction restoreLastFocusedElement (containerId) {\n\tconst cfg = getContainerConfig(containerId);\n\tif (cfg && cfg.lastFocusedKey) {\n\t\tconst all = getDeepSpottableDescendants(containerId);\n\t\tconst lastFocusedElement = cfg.lastFocusedRestore(cfg.lastFocusedKey, all);\n\n\t\t// restore lastFocusedElement and release lastFocusedKey\n\t\tcfg.lastFocusedKey = null;\n\t\tcfg.lastFocusedElement = lastFocusedElement;\n\t}\n}\n\nfunction unmountContainer (containerId) {\n\tconst config = getContainerConfig(containerId);\n\n\tif (config) {\n\t\tconfig.active = false;\n\t\tpersistLastFocusedElement(containerId);\n\n\t\tif (typeof config.defaultElement !== 'string') {\n\t\t\tconfig.defaultElement = null;\n\t\t}\n\t}\n}\n\nfunction isActiveContainer (containerId) {\n\tconst config = getContainerConfig(containerId);\n\treturn config && config.active;\n}\n\n/**\n * Determines if the provided container has a configured restriction.\n *\n * By default, returns `true` for `'self-only'` restrictions but the type of restriction can be\n * passed as well.\n *\n * @param {String} containerId The container id\n * @param {String} [restrict] The container restriction defaulted to `'self-only'`\n * @returns {Boolean} `true` if the container has the specified restriction\n * @private\n */\nfunction isRestrictedContainer (containerId, restrict = 'self-only') {\n\tconst config = getContainerConfig(containerId);\n\n\treturn Boolean(config && config.restrict === restrict);\n}\n\n/**\n * Determines if `innerContainerId` is inside `outerContainerId`.\n *\n * @param {String} outerContainerId The outer container id\n * @param {String} innerContainerId The inner container id\n * @returns {Boolean} `true` if both containers exist and `innerContainerId` is within\n *                    `outerContainerId`\n * @private\n */\nfunction containsContainer (outerContainerId, innerContainerId) {\n\tconst outer = getContainerNode(outerContainerId);\n\tconst inner = getContainerNode(innerContainerId);\n\n\treturn Boolean(outer && inner && outer.contains(inner));\n}\n\n/**\n * Determines if `containerId` may become the active container.\n *\n * @param {String} containerId Spotlight container to which focus is leaving\n * @returns\t{Boolean} `true` if the active container can change to `containerId`\n * @private\n */\nfunction mayActivateContainer (containerId) {\n\tconst currentContainerId = getLastContainer();\n\n\t// If the current container is restricted to 'self-only' and if the next container to be\n\t// activated is not inside the currently activated container, the next container should not be\n\t// activated.\n\treturn (\n\t\t!isRestrictedContainer(currentContainerId) ||\n\t\tcontainsContainer(currentContainerId, containerId)\n\t);\n}\n\nfunction getDefaultContainer () {\n\treturn isActiveContainer(_defaultContainerId) ? _defaultContainerId : '';\n}\n\nfunction setDefaultContainer (containerId) {\n\tif (!containerId) {\n\t\t_defaultContainerId = '';\n\t} else if (!getContainerConfig(containerId)) {\n\t\tthrow new Error('Container \"' + containerId + '\" doesn\\'t exist!');\n\t} else {\n\t\t_defaultContainerId = containerId;\n\t}\n}\n\nfunction getLastContainer () {\n\treturn isActiveContainer(_lastContainerId) ? _lastContainerId : '';\n}\n\nfunction setLastContainer (containerId) {\n\t_lastContainerId = containerId || '';\n}\n\n/**\n * Updates the last container based on the current focus and target focus.\n *\n * @param {Node} current Currently focused node\n * @param {Node} target  Target node. May or may not be focusable\n * @memberof spotlight/container\n * @public\n */\nfunction setLastContainerFromTarget (current, target) {\n\tconst currentContainers = getNavigableContainersForNode(current);\n\tconst currentOuterContainerId = currentContainers[0];\n\tconst currentContainerConfig = getContainerConfig(currentOuterContainerId);\n\tconst targetContainers = getContainersForNode(target);\n\tconst targetInnerContainer = last(targetContainers);\n\n\tconst sharedContainer = last(intersection(currentContainers, targetContainers));\n\n\tif (sharedContainer || !currentContainerConfig || currentContainerConfig.restrict !== 'self-only') {\n\t\t// If the target shares a container with the current container stack or the current\n\t\t// element isn't within a self-only container, use the target's nearest container\n\t\tsetLastContainer(targetInnerContainer);\n\t} else {\n\t\t// Otherwise, the target is not within the current container stack and the current\n\t\t// element was within a 'self-only' container, use the current's outer container\n\t\tsetLastContainer(currentOuterContainerId);\n\t}\n}\n\nfunction isWithinOverflowContainer (target, containerIds = getContainersForNode(target)) {\n\treturn containerIds\n\t\t// ignore the root container id which is set to overflow by the root decorator\n\t\t.filter(id => id !== rootContainerId)\n\t\t// get the config for each container\n\t\t.map(getContainerConfig)\n\t\t// and check if any are set to overflow\n\t\t.some(config => config && config.overflow);\n}\n\n/**\n * Notifies any affected containers that focus has left one of their children for another container\n *\n * @param {String} direction up/down/left/right\n * @param {Node} current currently focused element\n * @param {String[]} currentContainerIds Containers for current\n * @param {Node} next To be focused element\n * @param {String[]} nextContainerIds Containers for next\n * @private\n */\nfunction notifyLeaveContainer (direction, current, currentContainerIds, next, nextContainerIds) {\n\tcurrentContainerIds.forEach(containerId => {\n\t\tif (!nextContainerIds.includes(containerId)) {\n\t\t\tconst config = getContainerConfig(containerId);\n\n\t\t\tif (config && config.onLeaveContainer) {\n\t\t\t\tconfig.onLeaveContainer({\n\t\t\t\t\ttype: 'onLeaveContainer',\n\t\t\t\t\tdirection,\n\t\t\t\t\ttarget: current,\n\t\t\t\t\trelatedTarget: next\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n}\n\n/**\n * Notifies any containers that focus attempted to move but failed to find a target\n *\n * @param {String} direction up/down/left/right\n * @param {Node} current currently focused element\n * @param {String[]} currentContainerIds Containers for current\n * @private\n */\nfunction notifyLeaveContainerFail (direction, current, currentContainerIds) {\n\tcurrentContainerIds.forEach(containerId => {\n\t\tconst config = getContainerConfig(containerId);\n\n\t\tif (config && config.onLeaveContainerFail) {\n\t\t\tconfig.onLeaveContainerFail({\n\t\t\t\ttype: 'onLeaveContainerFail',\n\t\t\t\tdirection,\n\t\t\t\ttarget: current\n\t\t\t});\n\t\t}\n\t});\n}\n\n/**\n * Notifies any affected containers that one of their children has received focus.\n *\n * @param {String} direction up/down/left/right\n * @param {Node} previous Previously focused element\n * @param {String[]} previousContainerIds Containers for previous\n * @param {Node} current Currently focused element\n * @param {String[]} currentContainerIds Containers for current\n * @private\n */\nfunction notifyEnterContainer (direction, previous, previousContainerIds, current, currentContainerIds) {\n\tcurrentContainerIds.forEach(containerId => {\n\t\tif (!previousContainerIds.includes(containerId)) {\n\t\t\tconst config = getContainerConfig(containerId);\n\n\t\t\tif (config && config.onEnterContainer) {\n\t\t\t\tconfig.onEnterContainer({\n\t\t\t\t\ttype: 'onEnterContainer',\n\t\t\t\t\tdirection,\n\t\t\t\t\ttarget: current,\n\t\t\t\t\trelatedTarget: previous\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n}\n\nexport {\n\t// Remove\n\tgetAllContainerIds,\n\tgetContainerNode,\n\n\t// Maybe\n\tgetContainerConfig,\n\tgetContainerDefaultElement,\n\tgetContainerLastFocusedElement,\n\tgetContainerNavigableElements,\n\tgetContainersForNode,\n\tisContainer5WayHoldable,\n\tsetContainerLastFocusedElement,\n\n\t// Keep\n\taddContainer,\n\tcontainerAttribute,\n\tconfigureDefaults,\n\tconfigureContainer,\n\tgetContainerFocusTarget,\n\tgetContainerId,\n\tgetContainerPreviousTarget,\n\tgetDeepSpottableDescendants,\n\tgetDefaultContainer,\n\tgetLastContainer,\n\tgetNavigableContainersForNode,\n\tgetSpottableDescendants,\n\tisContainer,\n\tisNavigable,\n\tisWithinOverflowContainer,\n\tmayActivateContainer,\n\tnotifyLeaveContainer,\n\tnotifyLeaveContainerFail,\n\tnotifyEnterContainer,\n\tremoveAllContainers,\n\tremoveContainer,\n\trootContainerId,\n\tsetContainerPreviousTarget,\n\tsetDefaultContainer,\n\tsetLastContainer,\n\tsetLastContainerFromTarget,\n\tunmountContainer\n};\n","import 'core-js';\nimport {addParameters, addDecorator} from '@storybook/react';\nimport {create} from '@storybook/theming';\nimport {withInfo} from '@enact/storybook-utils/addons/info';\nimport configure from '../src/configure';\n\nconst stories = require.context('../stories/default', false, /.js$/);\n\naddParameters({\n\toptions: {\n\t\ttheme: create({\n\t\t\tbase: 'dark',\n\t\t\tbrandTitle: 'AGATE SAMPLER',\n\t\t\tbrandUrl: 'http://enactjs.com/',\n\t\t\tbrandImage: 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MDAiIGhlaWdodD0iNzAwIiB2aWV3Qm94PSIwIDAgNzAwIDcwMCI+PGRlZnM+PHN0eWxlPi5hLC5ie2ZpbGw6I2ZmZjt9LmJ7b3BhY2l0eTowLjg7fTwvc3R5bGU+PC9kZWZzPjxwb2x5Z29uIGNsYXNzPSJhIiBwb2ludHM9IjM0OS45IDUyNy44IDE5OS45IDQyOS44IDE5OS45IDM3NC40IDM1MC4xIDQ3Mi43IDM0OS45IDM0OC41IDE5OS45IDI2MS4xIDE5OS45IDIwOS4zIDM1MCAyOTMuNiAzNTAgMjkzLjYgMzUwLjIgMjkzLjcgMzQ5LjkgMTY5LjMgMTAyLjcgNDguNSAxMDIuNyA0NzIuNiAzNTAuMSA2NTEuNiAzNDkuOSA1MjcuOCIvPjxwb2x5Z29uIGNsYXNzPSJiIiBwb2ludHM9IjM1MC4xIDY1MS42IDU5Ny4zIDQ3Mi44IDU5Ny4zIDM2Ni4zIDM0OS45IDUyNy44IDM1MC4xIDY1MS42Ii8+PHBvbHlnb24gY2xhc3M9ImIiIHBvaW50cz0iMzUwLjEgNDcyLjcgNTIzLjUgMzU5LjMgNTIzLjUgMjQ3LjQgMzQ5LjkgMzQ4LjUgMzUwLjEgNDcyLjciLz48cG9seWdvbiBjbGFzcz0iYiIgcG9pbnRzPSIzNTAgMjkzLjYgMzUwIDI5My42IDM1MC4yIDI5My43IDU5Ny4zIDE1NC44IDU5Ny4zIDQ4LjQgMzQ5LjkgMTY5LjMgMzUwIDI5My42Ii8+PC9zdmc+'\n\t\t}),\n\t\tisFullscreen: false,\n\t\tpanelPosition: 'bottom',\n\t\tshowNav: true,\n\t\tshowPanel: true\n\t}\n});\n\naddDecorator(withInfo());\n\nconfigure(stories, module);\n","import {forProp, handle, not, stop} from '@enact/core/handle';\n\nimport {hasPointerMoved} from '../src/pointer';\nimport Spotlight from '../src/spotlight';\n\nconst isNewPointerPosition = (ev) => hasPointerMoved(ev.clientX, ev.clientY);\n\nclass SpotlightContainer {\n\t// set up context and props so we can use handle binding\n\tcontext = {};\n\tprops = {};\n\n\tconstructor ({containerConfig, navigableFilter, preserveId}) {\n\t\t// spotlight id - set either via props or generated by Spotlight\n\t\tthis.id = null;\n\n\t\t// Preserve the spotlight id across instances when it is set via props and preserveId is set\n\t\tthis.canPreserveId = preserveId;\n\t\tthis.preserveId = false;\n\n\t\t// container config - set once when the container is added\n\t\tthis.config = containerConfig;\n\n\t\t// optional filter function to limit the spottable candidates for this container\n\t\tthis.filter = navigableFilter;\n\n\t\t// private hash of spotlight DOM attributes\n\t\tthis.attr = {\n\t\t\t'data-spotlight-container': true\n\t\t};\n\n\t\t// Used to indicate that we want to stop propagation on blur events that occur as a\n\t\t// result of this component imperatively blurring itself on focus when spotlightDisabled\n\t\tthis.shouldPreventBlur = false;\n\t}\n\n\tget attributes () {\n\t\treturn this.attr;\n\t}\n\n\tsetProps (props) {\n\t\tconst {disabled, id, muted, restrict} = props;\n\t\tthis.props = props;\n\n\t\tif (this.id == null || (id && this.id !== id)) {\n\t\t\tif (this.id) {\n\t\t\t\tthis.releaseContainer(this.id);\n\t\t\t}\n\n\t\t\tthis.id = Spotlight.add({\n\t\t\t\t...this.config,\n\t\t\t\tid,\n\t\t\t\trestrict,\n\t\t\t\tnavigableFilter: this.navigableFilter\n\t\t\t});\n\t\t\tthis.preserveId = this.canPreserveId && this.id === id;\n\t\t} else {\n\t\t\tSpotlight.set(this.id, {restrict});\n\t\t}\n\n\t\tthis.attr['data-spotlight-id'] = this.id;\n\t\tthis.attr['data-spotlight-container-disabled'] = disabled;\n\t\tthis.attr['data-spotlight-container-muted'] = muted;\n\t}\n\n\tunload () {\n\t\tthis.releaseContainer();\n\t}\n\n\treleaseContainer () {\n\t\tif (this.preserveId) {\n\t\t\tSpotlight.unmount(this.id);\n\t\t} else {\n\t\t\tSpotlight.remove(this.id);\n\t\t}\n\t}\n\n\tnavigableFilter = (elem) => {\n\t\t// If the component to which this was applied specified a navigableFilter, run it\n\t\tif (typeof this.filter === 'function') {\n\t\t\tif (this.filter(elem) === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tsilentBlur ({target}) {\n\t\tthis.shouldPreventBlur = true;\n\t\ttarget.blur();\n\t\tthis.shouldPreventBlur = false;\n\t}\n\n\tonBlurCapture = (ev) => {\n\t\tif (this.shouldPreventBlur) {\n\t\t\tstop(ev);\n\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tonFocusCapture = (ev) => {\n\t\tif (this.props.disabled === true) {\n\t\t\tstop(ev);\n\t\t\tthis.silentBlur(ev);\n\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tonPointerEnter = handle(\n\t\tisNewPointerPosition,\n\t\t() => Spotlight.setActiveContainer(this.id)\n\t).bindAs(this, 'onPointerEnter');\n\n\tonPointerLeave = handle(\n\t\tnot(forProp('restrict', 'self-only')),\n\t\tisNewPointerPosition,\n\t\t(ev) => {\n\t\t\tconst parentContainer = ev.currentTarget.parentNode.closest('[data-spotlight-container]');\n\t\t\tlet activeContainer = Spotlight.getActiveContainer();\n\n\t\t\t// if this container is wrapped by another and this is the currently active\n\t\t\t// container, move the active container to the parent\n\t\t\tif (parentContainer && activeContainer === this.id) {\n\t\t\t\tactiveContainer = parentContainer.dataset.spotlightId;\n\t\t\t\tSpotlight.setActiveContainer(activeContainer);\n\t\t\t}\n\t\t}\n\t).bindAs(this, 'onPointerLeave');\n}\n\nexport default SpotlightContainer;\nexport {\n\tSpotlightContainer\n};\n","import useClass from '@enact/core/useClass';\nimport React from 'react';\n\nimport SpotlightContainer from './SpotlightContainer';\n\n/**\n * Configuration for `useSpotlightContainer`\n *\n * @typedef {Object} useSpotlightContainerConfig\n * @memberof spotlight/SpotlightContainerDecorator\n * @property {Object}   [containerConfig]                   Spotlight container configuration. This\n *                                                          is a design-time configuration and only\n *                                                          applied once on first render.\n * @property {Function} [navigableFilter]                   Called to determine if a spottable\n *                                                          component is accessible. This is a\n *                                                          design-time configuration and only\n *                                                          applied once on first render.\n * @property {Boolean}  [preserveId]                        Preserves the spotlight `id`, if\n *                                                          specified, when the component unmounts.\n * @property {Boolean}  [disabled]                          Prevents controls in the container from\n *                                                          being navigable. This is a design-time\n *                                                          configuration and only applied once on\n *                                                          first render.\n * @property {Boolean}  [muted]                             Suppresses appearance of focus within\n *                                                          the container while still allowing the\n *                                                          component to gain focus. The components\n *                                                          within the container are responsible for\n *                                                          adjusting their visual appearance based\n *                                                          on the presence of the\n *                                                          `data-spotlight-container-muted`\n *                                                          attribute on an ancestor container.\n * @property {String}   [id]                                Identifies this component within the\n *                                                          Spotlight system. If unset, an id will\n *                                                          be generated.\n * @property {('self-only'|'self-first'|'none')} [restrict] Restricts or prioritizes navigation when\n *                                                          focus attempts to leave the container.\n *                                                          It can be either 'none', 'self-first',\n *                                                          or 'self-only'. Specifying 'self-first'\n *                                                          indicates that elements within the\n *                                                          container will have a higher likelihood\n *                                                          to be chosen as the next navigable\n *                                                          element. Specifying 'self-only'\n *                                                          indicates that elements in other\n *                                                          containers cannot be navigated to by\n *                                                          using 5-way navigation - however,\n *                                                          elements in other containers can still\n *                                                          receive focus by calling\n *                                                          `Spotlight.focus(elem)` explicitly.\n *                                                          Specifying 'none' indicates there should\n *                                                          be no restrictions when 5-way navigating\n *                                                          the container.\n * @private\n */\n\n/**\n * Object returned by `useSpotlightContainer`.\n *\n * @typedef {Object} useSpotlightContainerInterface\n * @memberof spotlight/SpotlightContainerDecorator\n * @property {Function} onBlurCapture    Callback to notify hook when an node was blurred within the\n *                                       container. Must be called during the capture phase of the\n *                                       event flow.\n * @property {Function} onFocusCapture   Callback to notify hook when an node was focused within the\n *                                       container. Must be called during the capture phase of the\n *                                       event flow.\n * @property {String}   attributes       An object of DOM attributes of representing the current\n *                                       spotlight container metadata. Must be passed onto the\n *                                       container node.\n * @property {Function} onPointerEnter   Callback to notify hook when the pointer enters the\n *                                       container. Must be called during the capture phase of the\n *                                       event flow.\n * @property {Function} onPointerLeave   Callback to notify hook when the pointer leaves the\n *                                       container. Must be called during the capture phase of the\n *                                       event flow.\n * @private\n */\n\n/**\n * Support Spotlight container\n *\n * @param {useSpotlightContainerConfig} [config] Configuration options\n * @returns {useSpotlightContainerInterface}\n * @private\n */\nfunction useSpotlightContainer (config = {}) {\n\tconst {disabled, id, muted, restrict, ...rest} = config;\n\n\tconst spotlightContainer = useClass(SpotlightContainer, rest);\n\tspotlightContainer.setProps({\n\t\tdisabled,\n\t\tid,\n\t\tmuted,\n\t\trestrict\n\t});\n\n\tReact.useEffect(() => {\n\t\treturn () => {\n\t\t\tspotlightContainer.unload();\n\t\t};\n\t}, [spotlightContainer]);\n\n\treturn {\n\t\tattributes: spotlightContainer.attributes,\n\t\tonBlurCapture: spotlightContainer.onBlurCapture,\n\t\tonFocusCapture: spotlightContainer.onFocusCapture,\n\t\tonPointerEnter: spotlightContainer.onPointerEnter,\n\t\tonPointerLeave: spotlightContainer.onPointerLeave\n\t};\n}\n\nexport default useSpotlightContainer;\nexport {\n\tuseSpotlightContainer\n};\n","/**\n * A component for managing groups of spottable components.\n *\n * @module spotlight/SpotlightContainerDecorator\n * @exports SpotlightContainerDecorator\n */\n\nimport handle, {forward} from '@enact/core/handle';\nimport useHandlers from '@enact/core/useHandlers';\nimport hoc from '@enact/core/hoc';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport useSpotlightContainer from './useSpotlightContainer';\n\nconst callContext = (name) => (ev, props, context) => context[name](ev, props);\nconst containerHandlers = {\n\tonMouseEnter: handle(\n\t\tforward('onMouseEnter'),\n\t\tcallContext('onPointerEnter')\n\t),\n\tonMouseLeave: handle(\n\t\tforward('onMouseLeave'),\n\t\tcallContext('onPointerLeave')\n\t),\n\tonFocusCapture: handle(\n\t\tcallContext('onFocusCapture'),\n\t\tforward('onFocusCapture')\n\t),\n\tonBlurCapture: handle(\n\t\tcallContext('onBlurCapture'),\n\t\tforward('onBlurCapture')\n\t)\n};\n\n/**\n * The class name to apply to the default component to focus in a container.\n *\n * @memberof spotlight/SpotlightContainerDecorator\n * @public\n */\nconst spotlightDefaultClass = 'spottable-default';\n\n/**\n * Default config for {@link spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator}\n *\n * @memberof spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * When `true`, allows focus to move outside the container to the next spottable element when\n\t * holding 5 way keys.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @memberof spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator.defaultConfig\n\t * @public\n\t */\n\tcontinue5WayHold: false,\n\n\t/**\n\t * The selector for the default spottable element within the container.\n\t *\n\t * @type {String}\n\t * @default '.spottable-default'\n\t * @memberof spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator.defaultConfig\n\t * @public\n\t */\n\tdefaultElement: `.${spotlightDefaultClass}`,\n\n\t/**\n\t * Directs which element receives focus when gaining focus from another container. If\n\t * `'default-element'`, the default focused item will be selected. If `'last-focused'`, the\n\t * container will focus the last focused item; if the container has never had focus, the default\n\t * element will receive focus. If `null`, the default 5-way behavior will be applied.\n\t *\n\t * @type {String}\n\t * @default null\n\t * @memberof spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator.defaultConfig\n\t * @public\n\t */\n\tenterTo: null,\n\n\t/**\n\t * Filter the navigable elements.\n\t *\n\t * @type {Function}\n\t * @memberof spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator.defaultConfig\n\t * @public\n\t */\n\tnavigableFilter: null,\n\n\t/**\n\t * Whether the container will preserve the specified `spotlightId` when it unmounts.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @memberof spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator.defaultConfig\n\t * @public\n\t */\n\tpreserveId: false\n};\n\n/**\n * Constructs a higher-order component that allows Spotlight focus to be passed to its own\n * configurable hierarchy of spottable child controls.\n *\n * Note: This HoC passes a number of props to the wrapped component that should be passed to the\n * main DOM node.\n *\n * Example:\n * ```\n *\tconst Component = ({myProp, ...rest}) => (\n *\t\t<div {...rest}>{myProp}</div>\n *\t);\n *\t...\n *\tconst DefaultContainer = SpotlightContainerDecorator(Component);\n *\tconst FocusDefaultContainer = SpotlightContainerDecorator({enterTo: 'default-element'}, Component);\n * ```\n *\n * To specify a default element to spot in a container, utilize the `spotlightDefaultClass`.\n *\n * Example:\n * ```\n *\timport Spotlight from '@enact/spotlight';\n *\timport SpotlightContainerDecorator from '@enact/spotlight/SpotlightContainerDecorator';\n *\tconst ContainerComponent = SpotlightContainerDecorator(Component);\n *\tconst View = kind({\n *\t\trender: () => {\n *\t\t\t<ContainerComponent>\n *\t\t\t\t<SpottableComponent>foo</SpottableComponent>\n *\t\t\t\t<SpottableComponent className={spotlightDefaultClass}>spot me first</SpottableComponent>\n *\t\t\t</ContainerComponent>\n *\t\t}\n *\t});\n * ```\n * @param  {Object}    defaultConfig  Set of default configuration parameters. Additional parameters\n *                                    are passed as configuration to {@link spotlight/Spotlight.set}\n * @param  {Function} higher-order component\n *\n * @returns {Function} SpotlightContainerDecorator\n * @class SpotlightContainerDecorator\n * @memberof spotlight/SpotlightContainerDecorator\n * @hoc\n */\nconst SpotlightContainerDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {navigableFilter, preserveId, ...containerConfig} = config;\n\n\t// eslint-disable-next-line no-shadow\n\tfunction SpotlightContainerDecorator (props) {\n\t\tconst {spotlightDisabled, spotlightId, spotlightMuted, spotlightRestrict, ...rest} = props;\n\n\t\tconst spotlightContainer = useSpotlightContainer({\n\t\t\tid: spotlightId,\n\t\t\tmuted: spotlightMuted,\n\t\t\tdisabled: spotlightDisabled,\n\t\t\trestrict: spotlightRestrict,\n\n\t\t\tcontainerConfig, // continue5WayHold, defaultElement, and enterTo can be in the containerConfig object.\n\t\t\tnavigableFilter,\n\t\t\tpreserveId\n\t\t});\n\t\tconst handlers = useHandlers(containerHandlers, props, spotlightContainer);\n\n\t\treturn (\n\t\t\t<Wrapped {...rest} {...spotlightContainer.attributes} {...handlers} />\n\t\t);\n\t}\n\n\tSpotlightContainerDecorator.propTypes = /** @lends spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator.prototype */ {\n\t\t/**\n\t\t * When `true`, controls in the container cannot be navigated.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tspotlightDisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Used to identify this component within the Spotlight system.\n\t\t *\n\t\t * If the value is `null`, an id will be generated.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tspotlightId: PropTypes.string,\n\n\t\t/**\n\t\t * Whether or not the container is in muted mode.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tspotlightMuted: PropTypes.bool,\n\n\t\t/**\n\t\t * Restricts or prioritizes navigation when focus attempts to leave the container. It\n\t\t * can be either 'none', 'self-first', or 'self-only'. Specifying 'self-first' indicates that\n\t\t * elements within the container will have a higher likelihood to be chosen as the next\n\t\t * navigable element. Specifying 'self-only' indicates that elements in other containers\n\t\t * cannot be navigated to by using 5-way navigation - however, elements in other containers\n\t\t * can still receive focus by calling `Spotlight.focus(elem)` explicitly. Specifying 'none'\n\t\t * indicates there should be no restrictions when 5-way navigating the container.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tspotlightRestrict: PropTypes.oneOf(['none', 'self-first', 'self-only'])\n\t};\n\n\tSpotlightContainerDecorator.defaultProps = {\n\t\tspotlightDisabled: false,\n\t\tspotlightMuted: false,\n\t\tspotlightRestrict: 'self-first'\n\t};\n\n\t// Wrapping with a React.Component to maintain ref support\n\treturn class SpotlightContainerDecoratorAdapter extends React.Component {\n\t\trender () {\n\t\t\treturn (\n\t\t\t\t<SpotlightContainerDecorator {...this.props} />\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default SpotlightContainerDecorator;\nexport {\n\tSpotlightContainerDecorator,\n\tspotlightDefaultClass,\n\tuseSpotlightContainer\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panels\":\"Panels_panels__3pD3m\",\"viewport\":\"Panels_viewport__c1fSf\",\"controls\":\"Panels_controls__ab0t2\",\"breadcrumbPanels\":\"Panels_breadcrumbPanels__2VcPj\",\"breadcrumbs\":\"Panels_breadcrumbs__3tRlp\",\"breadcrumb\":\"Panels_breadcrumb__Nz15I\",\"breadcrumbContent\":\"Panels_breadcrumbContent__2V_JC\",\"partial\":\"Panels_partial__34_K4\",\"transitioning\":\"Panels_transitioning__3vA9G\"};"],"sourceRoot":""}