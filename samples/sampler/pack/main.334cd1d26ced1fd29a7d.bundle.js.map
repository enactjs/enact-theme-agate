{"version":3,"sources":["webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Skinnable/util.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Skinnable/useSkins.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Skinnable/Skinnable.js","webpack:////Users/yb.sung/Documents/_Work/agate/Skinnable/Skinnable.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useControlledState/useControlledState.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Toggleable/Toggle.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Toggleable/useToggle.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Toggleable/Toggleable.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Resizable/Resizable.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/Pause/Pause.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/src/pointer.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Touchable/Drag.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Touchable/Flick.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Touchable/Hold.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Touchable/config.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Touchable/state.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Touchable/ClickAllow.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Touchable/Touchable.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/dispatcher/listeners.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/dispatcher/dispatcher.js","webpack:////Users/yb.sung/Documents/_Work/agate/Icon/IconList.js","webpack:////Users/yb.sung/Documents/_Work/agate/Icon/Icon.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ComponentOverride/ComponentOverride.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/src/wrapIlibCallback.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/I18nDecorator/getI18nClasses.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/I18nDecorator/windowFocus.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/I18nDecorator/I18n.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/I18nDecorator/useI18n.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/I18nDecorator/useI18nContext.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/I18nDecorator/I18nDecorator.js","webpack:///./node_modules/nested-object-assign/lib sync ^\\.\\/.*$","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/ScrollAnimator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/useScroll.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/LabeledIcon/LabeledIcon.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/ScrollbarTrack.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/Scrollbar.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Layout/Cell.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Layout/Layout.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ViewManager/Arranger.js","webpack:////Users/yb.sung/Documents/_Work/agate/internal/Picker/Picker.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ViewManager/TransitionGroup.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ViewManager/View.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ViewManager/ViewManager.js","webpack:////Users/yb.sung/Documents/_Work/agate/BodyText/BodyText.js","webpack:////Users/yb.sung/Documents/_Work/agate/Slider/Slider.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Transition/Transition.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/FloatingLayer/FloatingLayerDecorator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/FloatingLayer/Scrim.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/FloatingLayer/FloatingLayer.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/FloatingLayer/index.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Button/Button.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/BodyText/BodyText.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/platform/platform.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/resolution/resolution.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/resolution/ResolutionDecorator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/resolution/index.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/src/dates.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/src/packedbuffer.js","webpack:////Users/yb.sung/Documents/_Work/agate/Scroller/useEvent.js","webpack:////Users/yb.sung/Documents/_Work/agate/Scroller/useThemeScroller.js","webpack:////Users/yb.sung/Documents/_Work/agate/Scroller/useSpotlight.js","webpack:////Users/yb.sung/Documents/_Work/agate/Scroller/Scroller.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Marquee/MarqueeController.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Marquee/MarqueeDecorator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Marquee/index.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Breadcrumb.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Arrangers.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Breadcrumbs.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/BreadcrumbDecorator.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/BreadcrumbPanels.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Panel.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/index.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ImageItem/ImageItem.js","webpack:////Users/yb.sung/Documents/_Work/agate/ImageItem/ImageItem.js","webpack:////Users/yb.sung/Documents/_Work/agate/Dropdown/Dropdown.js","webpack:///./stories/default sync nonrecursive .js$","webpack:///./stories/default/BodyText.js","webpack:///./stories/default/Button.js","webpack:///./stories/default/Checkbox.js","webpack:///./stories/default/CheckboxItem.js","webpack:///./stories/default/ColorPicker.js","webpack:///./stories/default/ContextualPopupDecorator.js","webpack:///./stories/default/DateTimePicker.js","webpack:///./stories/default/Drawer.js","webpack:///./stories/default/Dropdown.js","webpack:///./stories/default/Header.js","webpack:///./stories/default/Heading.js","webpack:///./stories/default/Icon.js","webpack:///./stories/default/ImageItem.js","webpack:///./stories/default/ImageItemKitchenSink.js","webpack:///./stories/default/IncrementSlider.js","webpack:////Users/yb.sung/Documents/_Work/agate/Item/Item.js","webpack:///./stories/default/Input.js","webpack:///./stories/default/Item.js","webpack:///./stories/default/ItemKitchenSink.js","webpack:///./stories/default/LabeledIcon.js","webpack:///./stories/default/LabeledIconButton.js","webpack:///./stories/default/Picker.js","webpack:///./stories/default/Popup.js","webpack:///./stories/default/PopupMenu.js","webpack:///./stories/default/ProgressBar.js","webpack:///./stories/default/RadioItem.js","webpack:///./stories/default/RangePicker.js","webpack:///./stories/default/Scroller.js","webpack:///./stories/default/Slider.js","webpack:///./stories/default/SliderButton.js","webpack:///./stories/default/Spinner.js","webpack:///./stories/default/SwitchItem.js","webpack:///./stories/default/TabbedPanels.js","webpack:///./stories/default/Thumbnail.js","webpack:///./stories/default/ThumbnailItem.js","webpack:///./stories/default/ToggleButton.js","webpack:///./stories/default/TooltipDecorator.js","webpack:///./stories/default/VirtualList.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/ApplicationCloseButton.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Controls.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Viewport.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Panels.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/internal/deprecate/deprecate.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/internal/prop-types/prop-types.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/locale/locale.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Slider/utils.js","webpack:////Users/yb.sung/Documents/_Work/agate/Slider/utils.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/useEvent.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/useScrollbar.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/useSpotlight.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/useScroll.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/useThemeScrollContentHandle.js","webpack:////Users/yb.sung/Documents/_Work/agate/ToggleButton/ToggleButton.js","webpack:////Users/yb.sung/Documents/_Work/agate/ThumbnailItem/ThumbnailItem.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/ScrollButton.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/ScrollButtons.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/ScrollbarTrack.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/Scrollbar.js","webpack:////Users/yb.sung/Documents/_Work/agate/ContextualPopupDecorator/ContextualPopup.module.less?6dc4","webpack:////Users/yb.sung/Documents/_Work/agate/Button/Button.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/SharedStateDecorator.js","webpack:////Users/yb.sung/Documents/_Work/agate/LabeledIconButton/LabeledIconButton.js","webpack:////Users/yb.sung/Documents/_Work/agate/Input/InputDecoratorIcon.js","webpack:////Users/yb.sung/Documents/_Work/agate/Input/pointer.js","webpack:////Users/yb.sung/Documents/_Work/agate/Input/InputSpotlightDecorator.js","webpack:////Users/yb.sung/Documents/_Work/agate/Input/Input.js","webpack:////Users/yb.sung/Documents/_Work/agate/Input/util.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/VirtualList/UiVirtualListBase.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/VirtualList/VirtualListBasic.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/VirtualList/VirtualList.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/useScroll.module.less?7187","webpack:////Users/yb.sung/Documents/_Work/agate/internal/Picker/Picker.module.less?a18f","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/VirtualList/VirtualList.module.less?671f","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/keymap/keymap.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/keymap/index.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/src/case.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Icon/Icon.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/Scrollbar.module.less?6940","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ProgressBar/ProgressBar.js","webpack:////Users/yb.sung/Documents/_Work/agate/Popup/PopupState.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Repeater/Repeater.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/internal/selection/selection.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Group/GroupItem.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Group/Group.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/src/resBundle.js","webpack:////Users/yb.sung/Documents/_Work/agate/LabeledIcon/LabeledIcon.js","webpack:////Users/yb.sung/Documents/_Work/agate/Checkbox/Checkbox.js","webpack:////Users/yb.sung/Documents/_Work/agate/CheckboxItem/CheckboxItem.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Item/Item.js","webpack:////Users/yb.sung/Documents/_Work/agate/RadioItem/RadioItem.js","webpack:////Users/yb.sung/Documents/_Work/agate/TooltipDecorator/Tooltip.module.less?7803","webpack:////Users/yb.sung/Documents/_Work/agate/TimePicker/TimePicker.module.less?7568","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/VirtualList/UiVirtualList.module.less?9da6","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Marquee/MarqueeBase.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/internal/validators/validators.js","webpack:////Users/yb.sung/Documents/_Work/agate/RangePicker/RangePicker.js","webpack:////Users/yb.sung/Documents/_Work/agate/Picker/Picker.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Spinner/Spinner.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/FloatingLayer/Scrim.module.less?a1f8","webpack:///./src/ThemeEnvironment/ThemeEnvironment.module.less?f24b","webpack:////Users/yb.sung/Documents/_Work/agate/DatePicker/DatePicker.module.less?3fde","webpack:////Users/yb.sung/Documents/_Work/agate/Drawer/Drawer.js","webpack:////Users/yb.sung/Documents/_Work/agate/Header/Header.js","webpack:////Users/yb.sung/Documents/_Work/agate/IncrementSlider/IncrementSlider.module.less?5fc2","webpack:////Users/yb.sung/Documents/_Work/agate/ProgressBar/ProgressBar.js","webpack:////Users/yb.sung/Documents/_Work/agate/SliderButton/SliderButton.js","webpack:////Users/yb.sung/Documents/_Work/agate/Spinner/Spinner.js","webpack:////Users/yb.sung/Documents/_Work/agate/ColorPicker/SwatchButton.js","webpack:////Users/yb.sung/Documents/_Work/agate/ColorPicker/ColorPicker.js","webpack:////Users/yb.sung/Documents/_Work/agate/IncrementSlider/IncrementSliderButton.js","webpack:////Users/yb.sung/Documents/_Work/agate/IncrementSlider/IncrementSlider.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/Spottable/Spottable.js","webpack:////Users/yb.sung/Documents/_Work/agate/TabGroup/TabGroup.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/TabbedPanels.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/utilEvent.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/useHandlers/useHandlers.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/useClass/useClass.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/useHandlers/Handlers.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Layout/Layout.module.less?b312","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/snapshot/snapshot.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/Accelerator/Accelerator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Measurable/Measurable.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/IdProvider.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/CancelDecorator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Slider/Slider.module.less?a412","webpack:////Users/yb.sung/Documents/_Work/agate/Slider/SliderBehaviorDecorator.js","webpack:////Users/yb.sung/Documents/_Work/agate/internal/DateComponentPicker/DateComponentPicker.module.less?70c7","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Image/Image.js","webpack:////Users/yb.sung/Documents/_Work/agate/Image/Image.js","webpack:////Users/yb.sung/Documents/_Work/agate/Input/Input.module.less?e6ef","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Scroller/ScrollerBasic.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Scroller/UiScrollerBase.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Scroller/Scroller.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Slider/Knob.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Slider/PositionDecorator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Slider/Slider.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/internal/IdProvider/Provider.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/internal/IdProvider/useId.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/internal/IdProvider/IdProvider.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Cancelable/cancelHandler.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Cancelable/modalHandler.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Cancelable/Cancelable.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ToggleIcon/ToggleIcon.js","webpack:////Users/yb.sung/Documents/_Work/agate/internal/ToggleIcon/ToggleIcon.js","webpack:////Users/yb.sung/Documents/_Work/agate/Popup/Popup.js","webpack:////Users/yb.sung/Documents/_Work/agate/SliderButton/SliderButton.module.less?ce15","webpack:////Users/yb.sung/Documents/_Work/agate/internal/DateTime/DateTime.js","webpack:////Users/yb.sung/Documents/_Work/agate/internal/DateTime/DateTimeDecorator.js","webpack:////Users/yb.sung/Documents/_Work/agate/internal/DateTime/index.js","webpack:////Users/yb.sung/Documents/_Work/agate/internal/DateComponentPicker/DateComponentPicker.js","webpack:////Users/yb.sung/Documents/_Work/agate/internal/DateComponentPicker/DateComponentRangePicker.js","webpack:////Users/yb.sung/Documents/_Work/agate/DatePicker/DatePickerBase.js","webpack:////Users/yb.sung/Documents/_Work/agate/DatePicker/DatePicker.js","webpack:////Users/yb.sung/Documents/_Work/agate/TimePicker/TimePickerBase.js","webpack:////Users/yb.sung/Documents/_Work/agate/TimePicker/TimePicker.js","webpack:////Users/yb.sung/Documents/_Work/agate/DateTimePicker/DateTimePicker.js","webpack:////Users/yb.sung/Documents/_Work/agate/Switch/Switch.js","webpack:////Users/yb.sung/Documents/_Work/agate/SwitchItem/SwitchItem.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/hoc/hoc.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/internal/Pure/Pure.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/util/Job.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/util/util.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/src/utils.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/handle/handle.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/src/Loader.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/src/glue.js","webpack:////Users/yb.sung/Documents/_Work/agate/ThemeDecorator/ThemeDecorator.module.less?1ec2","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Panel.module.less?6586","webpack:////Users/yb.sung/Documents/_Work/agate/ToggleButton/ToggleButton.module.less?8011","webpack:////Users/yb.sung/Documents/_Work/agate/TabGroup/TabGroup.module.less?7cb1","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/ScrollbarTrack.module.less?291c","webpack:////Users/yb.sung/Documents/_Work/agate/Item/Item.module.less?5510","webpack:////Users/yb.sung/Documents/_Work/agate/DateTimePicker/DateTimePicker.module.less?87ce","webpack:///./stories/default/Heading.module.less?4fff","webpack:////Users/yb.sung/Documents/_Work/agate/Popup/Popup.module.less?1d41","webpack:////Users/yb.sung/Documents/_Work/agate/PopupMenu/PopupMenu.js","webpack:////Users/yb.sung/Documents/_Work/agate/Spinner/Spinner.module.less?5039","webpack:////Users/yb.sung/Documents/_Work/agate/VirtualList/useEvent.js","webpack:////Users/yb.sung/Documents/_Work/agate/VirtualList/usePreventScroll.js","webpack:////Users/yb.sung/Documents/_Work/agate/VirtualList/useSpotlight.js","webpack:////Users/yb.sung/Documents/_Work/agate/VirtualList/useThemeVirtualList.js","webpack:////Users/yb.sung/Documents/_Work/agate/VirtualList/VirtualList.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Heading/Heading.js","webpack:////Users/yb.sung/Documents/_Work/agate/Heading/Heading.js","webpack:////Users/yb.sung/Documents/_Work/agate/internal/$L/$L.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Slottable/useSlots.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Slottable/Slottable.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/src/spotlight.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Changeable/Changeable.js","webpack:///./node_modules/ilib/lib sync ^$","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/src/zoneinfo.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Heading/Heading.module.less?90c3","webpack:////Users/yb.sung/Documents/_Work/agate/Heading/Heading.module.less?62cf","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/utilDOM.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Icon/Icon.module.less?1a1d","webpack:////Users/yb.sung/Documents/_Work/agate/Icon/Icon.module.less?abdd","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Button/Button.module.less?3e42","webpack:////Users/yb.sung/Documents/_Work/agate/Button/Button.module.less?85be","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/LabeledIcon/LabeledIcon.module.less?108b","webpack:////Users/yb.sung/Documents/_Work/agate/LabeledIcon/LabeledIcon.module.less?f742","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/TabbedPanels.module.less?316e","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/Scrollbar.module.less?4850","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Scroller/Scroller.module.less?e9c0","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Scroller/UiScroller.module.less?fb3c","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/BodyText/BodyText.module.less?39f0","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Marquee/Marquee.module.less?e750","webpack:////Users/yb.sung/Documents/_Work/agate/BodyText/BodyText.module.less?3ea6","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/kind/computed.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/kind/util.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/kind/styles.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/kind/kind.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ToggleIcon/ToggleIcon.module.less?b665","webpack:////Users/yb.sung/Documents/_Work/agate/Checkbox/Checkbox.module.less?d1a9","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Item/Item.module.less?c6d3","webpack:////Users/yb.sung/Documents/_Work/agate/CheckboxItem/CheckboxItem.module.less?b035","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Transition/Transition.module.less?c38e","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ProgressBar/ProgressBar.module.less?779e","webpack:////Users/yb.sung/Documents/_Work/agate/Slider/Slider.module.less?845f","webpack:////Users/yb.sung/Documents/_Work/agate/ColorPicker/SwatchButton.module.less?172c","webpack:////Users/yb.sung/Documents/_Work/agate/ColorPicker/ColorPicker.module.less?2bb0","webpack:////Users/yb.sung/Documents/_Work/agate/ContextualPopupDecorator/ContextualPopupDecorator.module.less?68ab","webpack:////Users/yb.sung/Documents/_Work/agate/internal/DateTime/DateTime.module.less?8764","webpack:////Users/yb.sung/Documents/_Work/agate/Drawer/Drawer.module.less?cce8","webpack:///./stories/default/Drawer.module.less?1415","webpack:////Users/yb.sung/Documents/_Work/agate/RadioItem/RadioItem.module.less?aa0e","webpack:////Users/yb.sung/Documents/_Work/agate/Dropdown/Dropdown.module.less?fec5","webpack:////Users/yb.sung/Documents/_Work/agate/Header/Header.module.less?a67e","webpack:///./images/icon-enact-docs.png","webpack:///./images/icon-enact-factory.svg","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ForwardRef/ForwardRef.js","webpack:///./images/icon-enact-logo.svg","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Image/Image.module.less?50dc","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ImageItem/ImageItem.module.less?bdaf","webpack:////Users/yb.sung/Documents/_Work/agate/Image/Image.module.less?f956","webpack:////Users/yb.sung/Documents/_Work/agate/ImageItem/ImageItem.module.less?f23f","webpack:////Users/yb.sung/Documents/_Work/agate/IncrementSlider/IncrementSliderButton.module.less?d0b5","webpack:////Users/yb.sung/Documents/_Work/agate/LabeledIconButton/LabeledIconButton.module.less?b354","webpack:////Users/yb.sung/Documents/_Work/agate/PopupMenu/PopupMenu.module.less?4d23","webpack:///./stories/default/PopupMenu.module.less?1865","webpack:////Users/yb.sung/Documents/_Work/agate/ProgressBar/ProgressBar.module.less?c5f1","webpack:///./stories/default/icons.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Spinner/Spinner.module.less?1e82","webpack:////Users/yb.sung/Documents/_Work/agate/Switch/Switch.module.less?aa78","webpack:////Users/yb.sung/Documents/_Work/agate/SwitchItem/SwitchItem.module.less?f49b","webpack:////Users/yb.sung/Documents/_Work/agate/ThumbnailItem/ThumbnailItem.module.less?81de","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/util/util.js","webpack:////Users/yb.sung/Documents/_Work/agate/TooltipDecorator/TooltipLabel.js","webpack:////Users/yb.sung/Documents/_Work/agate/TooltipDecorator/Tooltip.js","webpack:////Users/yb.sung/Documents/_Work/agate/TooltipDecorator/util.js","webpack:////Users/yb.sung/Documents/_Work/agate/TooltipDecorator/TooltipDecorator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/SpotlightRootDecorator/SpotlightRootDecorator.js","webpack:////Users/yb.sung/Documents/_Work/agate/ThemeDecorator/ThemeDecorator.js","webpack:///./src/ThemeEnvironment/ThemeEnvironment.js","webpack:///./src/configure.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/internal/ApiDecorator/ApiDecorator.js","webpack:////Users/yb.sung/Documents/_Work/agate/ContextualPopupDecorator/ContextualPopup.js","webpack:////Users/yb.sung/Documents/_Work/agate/ContextualPopupDecorator/ContextualPopupDecorator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/src/navigate.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/src/target.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/src/container.js","webpack:///./.storybook/config.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/SpotlightContainerDecorator/SpotlightContainer.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/SpotlightContainerDecorator/useSpotlightContainer.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/SpotlightContainerDecorator/SpotlightContainerDecorator.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Panels.module.less?b66c"],"names":["objectify","arg","split","Array","reduce","obj","a","SkinContext","React","createContext","useSkins","config","defaultSkin","defaultVariants","skin","skins","skinVariants","variants","parentSkin","parentVariants","useContext","effectiveSkin","determineSkin","authorSkin","effectiveVariants","useMemo","determineVariants","allowedVariants","authorVariants","mergedObj","Object","keys","forEach","key","b","preferDefined","includes","className","getClassName","classnames","value","provideSkins","useCallback","children","Provider","Skinnable","hoc","variantsProp","prop","Wrapped","rest","hook","allClassNames","propTypes","PropTypes","string","oneOfType","array","object","carbon","cobalt","copper","electro","gallium","silicon","titanium","UiSkinnable","nop","createHandler","onChange","currentValue","controlled","calcValue","defaultValue","propValue","stateValue","undefined","useControlledState","isControlled","useRef","useState","memoOnChange","current","isEnabled","not","forProp","makeEvent","Toggle","constructor","handleActivate","handle","adaptEvent","ev","props","forward","returnsTrue","context","onToggle","bindAs","this","handleDeactivate","handleToggle","setContext","Boolean","useToggle","defaultSelected","selected","toggle","useClass","state","disabled","activate","deactivate","ToggleableHOC","eventProps","toggleProp","defaultPropKey","cap","forwardWithEventProps","eventName","pick","forwardActivate","forwardDeactivate","forwardToggle","forwardToggleProp","toggleHandlers","onActivate","onDeactivate","Toggleable","updated","propSelected","handlers","useHandlers","instance","bool","func","defaultProps","ResizeContext","filter","resize","invariant","Component","handleResize","call","bind","componentDidMount","resizeRegistry","componentWillUnmount","unregister","invalidateBounds","notify","action","render","assign","displayName","contextType","paused","pause","resume","isPaused","Pause","name","toString","_pointerMode","setPointerMode","pointerMode","getPointerMode","_pointerX","_pointerY","hasPointerMoved","x","y","getLastPointerPosition","hidePointerJob","Job","callback","notifyPointerMove","target","priorPointerMode","updatePointerPosition","contains","notifyKeyDown","keyCode","palmSystem","window","PalmSystem","is","start","cursor","visibility","Tracking","Drag","dragConfig","isDragging","setContainerBounds","node","global","isGlobal","boxSizing","bounds","minX","minY","maxX","innerWidth","maxY","innerHeight","getBoundingClientRect","computedStyle","getComputedStyle","left","parseInt","paddingLeft","top","paddingTop","right","paddingRight","bottom","paddingBottom","updatePosition","clientX","clientY","clamp","begin","noResume","onDrag","onDragEnd","onDragStart","coords","tracking","startX","startY","move","updateProps","moveTolerance","dx","dy","Math","sqrt","type","blur","end","enter","leave","defaultDragConfig","dragConfigPropType","shape","number","Flick","maxDuration","maxMoves","minVelocity","onFlick","cancelJob","startAfter","moves","length","flickConfig","push","t","performance","now","shift","cancel","stop","last","m","i","dt","vx","vy","abs","v","vertical","direction","velocityX","velocityY","velocity","isTracking","defaultFlickConfig","flickConfigPropType","maxVelocity","Hold","isHolding","holdConfig","isWithinTolerance","defaultConfig","onHold","onHoldEnd","onHoldPulse","events","slice","sort","time","pulsing","next","holdStart","startJob","cancelOnMove","shouldEnd","suspend","clearInterval","holdJob","handlePulse","holdTime","n","frequency","setInterval","defaultHoldConfig","holdConfigPropType","arrayOf","allowedDragKeys","allowedFlickKeys","allowedHoldKeys","clone","o","mergeGestureConfig","update","allowed","cfg","indexOf","mergeConfig","merged","drag","flick","hold","map","configure","States","setActive","active","_lastTouchEnd","timeStamp","ClickAllow","lastTouchEndTime","lastMouseUpTime","setLastTouchEnd","setLastMouseUp","shouldAllowMouseEvent","platform","ios","shouldAllowMouseDown","shouldAllowTap","getEventCoordinates","targetTouches","makeTouchableEvent","currentTarget","pageX","pageY","changedTouches","handleDown","forwardWithPrevent","named","handleUp","finally","handleEnter","handleLeave","oneOf","handleMouseDown","handleMouseEnter","handleMouseMove","handleMouseLeave","handleMouseUp","handleClick","handleTouchStart","handleTouchMove","handleTouchEnd","complement","handleGlobalUp","handleGlobalMove","handleBlur","Touchable","activeProp","super","prevDisabled","targetHadFocus","clickAllow","touch","on","document","componentDidUpdate","prevProps","clearTarget","off","setTarget","setState","startTouch","preventDefault","targetBounds","endTouch","startGesture","activeElement","moveGesture","enterGesture","leaveGesture","blurGesture","endGesture","hasFocus","hasTouchLeftTarget","from","hasLeft","containsCurrentTarget","addHandlers","onClick","onMouseDown","onMouseLeave","onMouseMove","onMouseEnter","onMouseUp","onBlur","onTouchStart","onTouchMove","onTouchEnd","onDown","onTap","onUp","targets","getListeners","targetIndex","listeners","getDefaultTarget","invoker","curry","fn","e","console","error","message","dispatcher","inv","addListener","addEventListener","index","splice","removeEventListener","iconList","circlelarge","squarelarge","triangleup","plus","minus","arrowup","arrowdown","arrowleftturn","arrowrightturn","arrowharpoonright","ellipsis","check","arrowstraightup","arrowuturn","arrowlargedown","arrowlargeup","arrowlargeleft","arrowlargeright","closex","search","bluetooth2","bluetoothoff","bright1","bright2","bluetooth","usb","volume0","volume1","volume2","wifi","happyface","notification","pairing","user","calendar","edit","gallery","internet","music","video","circle","previous","pairingdisplay","box","play","previoustrack","nexttrack","repeat","shuffle","setting","popupstop","accept","decline","carspeaker","speaker","earphone","detail","install","send","netbook","pad","mobile","backapp","uninstall","rain","raindrops","raincloud","snow","cloud","ice","fog","sun","profileA1","profileA2","profileA3","profileA4","profileB1","profileB2","profileB3","profileB4","profileC1","profileC2","profileC3","profileC4","ac","auto","airmode","airdown","airright","airup","heatseatleft","heatseatright","aircirculation","fan","defrosterfront","defrosterback","airflow","home","temperature","compass","phone","fanoff","datetime","display","seatbelt","apps","climate","dashboard","expand","radio","rearscreen","weather","fullscreen","menu","history","browser","lock","search2","bookmark","star","starhollow","starhalf","refresh","pausebold","playbold","controls","diagnostics","mapbox","displaycontrol","controlleft","controlright","mainpage","playlist","trailer","plusbold","minusbold","iconListSilicon","arrowleft","arrowturnleft","arrowturnright","backspace","triangle","trianglehollow","rewind","rewindprevious","stopsquare","fastforwardnext","fastforward","callaccept","calldecline","calldialing","callmissed","callreceiving","devicesetting","headset","keypad","mic","micmute","car1","car2","carupdate","cardiagnostics","carcharging","carvalet","garagemode","cone","chargingstation","gps","replay","backward10","forward10","remote","light","thumbs","games","unlock","trash","coffee","payment","mail","screenshare","photo","add","userchange","seatcool","fanhigh","fanlow","zoomin","zoomout","headset2","headsetbluetooth","data","data5g","datalte","calling","contact","bluetoothmusic","bluetoothsignalnone","bluetoothsignal1","bluetoothsignal2","bluetoothsignal3","bluetoothsignal4","battery0","battery1","battery2","battery3","battery4","batteryalert","batterycharging","IconBase","kind","css","size","spriteCount","styles","componentCss","computed","styler","append","style","UiIcon","inline","Icon","compose","Pure","IconDecorator","ComponentOverride","component","isValidElement","cloneElement","invoke","options","onLoad","result","wrapIlibCallback","sync","Promise","resolve","base","all","fns","complete","done","getI18nClasses","LocaleInfo","li","getClassesForLocale","locale","getLocale","latinLanguageOverrides","nonLatinLanguageOverrides","isNonLatinLocale","isNonLatin","isRtlLocale","isRtl","classes","scriptName","getScript","getLanguage","getRegion","join","focused","queue","Set","flush","onWindowReady","I18n","resources","handleLocaleChange","handler","updateLocale","newLocale","loadResources","_locale","_ready","_onLoadResources","loadResourceJob","normalizeResources","onLoadResources","isArray","res","resource","load","unload","spec","rtl","bundle","createResBundle","loaded","setResBundle","then","rtlResult","classNameResult","bundleResult","userResources","promise","useI18n","ilibLocale","ilib","i18n","useEffect","I18nContext","useI18nContext","I18nDecorator","i18nClassName","I18nContextDecorator","localeProp","rtlProp","updateLocaleProp","loadedProp","i18nContext","webpackContext","req","id","webpackContextResolve","__webpack_require__","Error","code","webpackContextKeys","module","exports","timingFunctions","source","duration","curTime","clampVelocity","ScrollAnimator","rAFId","timingFunction","simulate","sourceX","sourceY","stepX","stepY","deltaX","deltaY","targetX","targetY","animate","rAFCallbackFuntion","rAF","requestAnimationFrame","startTimeStamp","perfNow","isAnimating","cAF","cancelAnimationFrame","constants","animationDuration","epsilon","isPageDown","isPageUp","overscrollTypeNone","overscrollTypeHold","overscrollTypeOnce","overscrollTypeDone","overscrollVelocityFactor","paginationPageMultiplier","scrollStopWaiting","scrollWheelPageMultiplierForMaxPixel","TouchableDiv","ForwardRef","componentRef","ref","useScrollBase","childProps","clientSize","voiceDisabled","voiceFocused","voiceGroupLabel","assignProperties","dataSize","horizontalScrollbar","horizontalScrollbarHandle","itemRenderer","itemSize","itemSizes","noScrollByDrag","noScrollByWheel","overhang","overscrollEffectOn","pageScroll","role","scrollContainerRef","scrollContentHandle","scrollContentRef","scrollMode","setScrollContainerHandle","spacing","spotlightContainerDisabled","verticalScrollbar","verticalScrollbarHandle","wrap","scrollClasses","classNames","scroll","addEventListeners","applyOverscrollEffect","cbScrollTo","clearOverscrollEffect","handleResizeWindow","onKeyDown","onScroll","onScrollStart","onScrollStop","onWheel","removeEventListeners","scrollStopOnScroll","scrollTo","forceUpdate","useReducer","isHorizontalScrollbarVisible","setIsHorizontalScrollbarVisible","isVerticalScrollbarVisible","setIsVerticalScrollbarVisible","mutableRef","overscrollEnabled","animationInfo","pixelPerLine","scrollWheelMultiplierForDeltaPixel","deferScrollTo","isScrollAnimationTargetAccumulated","lastInputType","overscrollStatus","horizontal","before","ratio","after","clientWidth","clientHeight","scrollWidth","scrollHeight","maxTop","maxLeft","wheelDirection","isTouching","scrolling","scrollLeft","scrollTop","scrollToInfo","animator","accumulatedTargetX","accumulatedTargetY","flickTarget","dragStartX","dragStartY","scrollStopJob","prevState","useLayoutEffect","calculateDistanceByWheel","canScrollHorizontally","canScrollVertically","checkAndApplyOverscrollEffect","getScrollBounds","val","scrollToAccumulatedTarget","setOverscrollStatus","showScrollbarTrack","startHidingScrollbarTrack","containerRef","ResizeObserver","resizeObserver","syncClientSize","observe","disconnect","parent","forwardScrollEvent","getReachedEdgeInfo","utilEvent","passive","scrollBehavior","enqueueForceUpdate","calculateMetrics","propsHandleResizeWindow","setTimeout","position","scrollToPosition","getRtlX","deltaMode","delta","maxPixel","ri","scale","stopPropagation","canScrollH","canScrollV","eventDeltaMode","eventDelta","wheelDeltaY","dir","sign","wheel","overscrollEffectRequired","needToHideScrollbarTrack","getContainerRef","utilDOM","containsDangerously","scrollStartOnScroll","safari","setScrollLeft","setScrollTop","didScroll","scrollByPage","pageDistance","pageKey","overscrollEffect","getEdgeFromPosition","maxPosition","orientation","edge","overscrollEffectType","status","getOverscrollStatus","isVertical","curPos","maxPos","clearAllOverscrollEffects","applyOverscrollEffectOnDrag","targetPosition","oppositeEdge","calculateOverscrollRatio","baseSize","overDistance","min","checkAndApplyOverscrollEffectOnDrag","checkAndApplyOverscrollEffectOnScroll","checkAndApplyOverscrollEffectOnStart","reachedEdgeInfo","moreInfo","getMoreInfo","updateScrollbarTrack","doScrollStop","updatedAnimationInfo","setScrollPositionTarget","scrollAnimation","toBeContinued","curTargetX","curTargetY","setScrollPosition","stopForTranslate","stopForNative","opt","getPositionForScrollTo","itemPos","align","getItemPosition","stickTo","offset","nodeType","getNodePosition","setScrollToPositionTarget","isNaN","scrollbarRef","updateScrollbarTrackSize","curHorizontalScrollbarVisible","curVerticalScrollbarVisible","updatedBounds","Registry","create","hasDataSizeChanged","clampScrollPosition","updateScrollbars","scrollInnerContainer","scrollContentWrapper","scrollContentWrapperNative","voiceProps","scrollFill","handleScroll","getRtlPositionX","scrollContainerContainsDangerously","corner","register","assignPropertiesOf","properties","property","useScroll","itemRefs","collectionOfProperties","scrollbarHandle","LabeledIconBase","flip","icon","EnactPropTypes","renderableOverride","iconComponent","labelPosition","publicClassNames","iconClassName","LayoutBase","CellBase","shrink","iconCell","label","LabeledIconDecorator","Slottable","slots","LabeledIcon","ScrollbarTrack","forwardRef","scrollbarTrack","setCSSVariable","element","variable","ReactDOM","findDOMNode","setProperty","useScrollbar","minThumbSize","scrollbarContainerRef","scrollbarTrackRef","hideScrollbarTrackJob","hideScrollbarTrack","classList","remove","removeClass","scrollbarTrackShown","addClass","primaryDimension","trackSize","scrollViewSize","scrollContentSize","scrollbarThumbSizeRatioBase","scrollbarThumbProgressRatio","scrollbarThumbSizeRatio","max","restProps","scrollbarProps","scrollbar","scrollbarTrackProps","Scrollbar","memo","isRequired","toFlexAlign","any","renderable","grow","unit","cellSize","alignSelf","flexBasis","Cell","CellDecorator","nowrap","wrapReverse","alignParts","alignItems","justifyContent","LayoutDecorator","Layout","Column","Row","slideInOut","total","p","arrange","reverse","keyframes","fill","SlideArranger","amount","transform","stay","SlideRightArranger","SlideBottomArranger","PickerRoot","PickerButtonItem","Spottable","handleChange","step","increment","decrement","PickerBase","decrementAriaLabel","incrementAriaLabel","handleDecrement","handleFlick","forEventProp","handleIncrement","activeClassName","currentValueText","valueText","values","$L","valueId","decrementValue","incrementValue","isFirst","isLast","aria-controls","aria-disabled","aria-label","itemDecrement","aria-valuetext","itemIncrement","PickerDecorator","IdProvider","generateProp","Changeable","Picker","indexOfChild","useWith","findIndex","propEq","identity","mapChildren","Children","toArray","c","mergeChildren","unionWith","eqBy","forwardOnAppear","forwardOnEnter","forwardOnLeave","forwardOnStay","forwardOnTransition","forwardOnWillTransition","TransitionGroup","performAppear","currentlyTransitioningKeys","groupRefs","componentWillAppear","_handleDoneAppearing","componentDidAppear","view","completeTransition","noForwarding","currentChildMapping","find","child","performLeave","performEnter","componentWillEnter","_handleDoneEntering","componentDidEnter","performStay","componentWillStay","_handleDoneStaying","componentDidStay","componentWillLeave","_handleDoneLeaving","componentDidLeave","storeRefs","firstRender","hasMounted","keysToEnter","keysToLeave","keysToStay","activeChildren","reconcileUnmountedChildren","reconcileChildren","prevChildMapping","nextChildMapping","nextChildKeys","prevActiveChildMapping","nextActiveChildMapping","prevChildKeys","droppedKeys","hasNext","isRendered","childrenToRender","isLeaving","currentIndex","childFactory","leaving","appearing","onAppear","onEnter","onLeave","onStay","onTransition","onWillTransition","createElement","clearEntering","entering","View","enteringJob","prepareTransition","arranger","noAnimation","previousIndex","reverseTransition","animation","playState","changeDirection","to","onfinish","finish","shouldComponentUpdate","nextProps","enteringDelay","enteringProp","startRafAfter","only","ViewManagerBase","handleTransition","handleWillTransition","prevIndex","makeTransitionEvent","childCount","views","ViewManager","ViewManagerDecorator","MarqueeBodyText","MarqueeDecorator","UiBodyText","BodyTextBase","centered","noWrap","marqueeOn","alignment","BodyText","BodyTextDecorator","SliderBase","activateOnFocus","knobStep","onKeyUp","progressAnchor","anyPass","forKey","progressBarComponent","Slider","SliderBehaviorDecorator","SliderDecorator","forwardTransitionEnd","forwardOnShow","forwardOnHide","TransitionBase","childRef","clipHeight","clipWidth","visible","innerStyle","width","overflow","height","transitionDuration","inner","TRANSITION_STATE","Transition","measuringJob","renderState","initialHeight","measureInner","handleTransitionEnd","childNode","initialWidth","prevVisible","idle","nextState","onHide","onShow","textSize","onTransitionEnd","forAction","FloatingLayerContext","FloatingLayerDecorator","floatLayerId","wrappedClassName","getFloatingLayer","floatingLayer","getElementById","handleNotify","setFloatingLayer","registry","notifyMount","handleCloseAll","transparentClassName","scrim","transparent","translucentClassName","translucent","scrimStack","removeTranslucentScrim","pop","show","Scrim","hide","pushTranslucentScrim","forwardWithType","forwardDismiss","forwardClose","forwardOpen","FloatingLayerBase","handleClose","nativeEvent","stopImmediatePropagation","nodeRendered","controller","scrimType","open","renderNode","removeChild","isNewLayer","floatLayerClassName","zIndex","appendChild","noAutoDismiss","onClose","onDismiss","onOpen","createPortal","handleCancel","FloatingLayer","Cancelable","modal","onCancel","ButtonBase","decoration","componentOverride","iconFlip","minWidth","pressed","hasIcon","bg","client","ButtonDecorator","Button","platforms","regex","forceVersion","extra","silk","luneos","legacy","_platform","detect","gesture","unknown","userAgent","navigator","plat","msMaxTouchPoints","maxTouchPoints","msManipulationViewsEnabled","touchscreen","PointerEvent","matchMedia","matches","exec","Number","platformName","parseUserAgent","uniq","defineProperty","enumerable","get","baseScreen","riRatio","screenType","screenTypeObject","workspaceBounds","screenTypes","pxPerRem","aspectRatioName","unitToPixelFactors","getScreenTypeObject","elem","defineScreenTypes","types","init","getScreenType","rez","bestMatch","swap","calculateFontSize","scrObj","orientationHandling","getResolutionClasses","toLowerCase","getRiRatio","getUnitToPixelFactors","getAspectRatio","getAspectRatioName","px","pixels","toUnit","substr","scaleToRem","selectSrc","src","newSrc","fhd","uhd","hd","args","measurementNode","updateWorkspaceBounds","rem","updateBaseFontSize","documentElement","fontSize","ResolutionDecorator","dynamic","didClassesChange","resolutionClasses","rootNode","prevClassNames","require","PackedBuffer","buffer","prototype","getLongs","num","longnum","getLong","longs","getBytes","bytenum","getByte","bytes","getUnsignedBytes","getString","arr","str","String","fromCharCode","skip","useEventKey","addGlobalKeyDownEventListener","capture","removeGlobalKeyDownEventListener","useSpottable","instances","handleLeaveContainer","scrollBounds","scrollPos","isVerticalDirection","pos","scrollAndFocusScrollbarButton","configureSpotlight","Spotlight","set","spotlightId","onLeaveContainer","onLeaveContainerFail","useSpotlightConfig","setContainerDisabled","dataset","getSpotlightContainerForNode","spotlightContainer","expandableContainer","parentNode","calculateScrollTop","item","threshold","calcItemAtStart","ib","sb","st","d","calcItemInView","sh","isItemBeforeView","roundToStart","isItemAfterView","roundToEnd","calcItemAtEnd","container","scrollerBounds","scrollTopDelta","containerBounds","calculateScrollLeft","scrollPosition","scrollContentNode","itemLeft","itemWidth","getFocusedItemBounds","rtlDirection","containerLeft","scrollLastPosition","currentScrollLeft","newItemLeft","nextScrollLeft","onUpdate","calculatePositionOnFocus","containerNode","isHorizontal","containerRect","getRect","itemRect","focusOnNode","focus","useThemeScroller","scrollContainerHandle","setThemeScrollContentHandle","Scroller","ScrollContentWrapper","resizeContextProps","scrollContainerProps","scrollInnerContainerProps","scrollContentWrapperProps","scrollContentProps","verticalScrollbarProps","horizontalScrollbarProps","themeScrollContentProps","focusableScrollbar","preventBubblingOnKeyDown","scrollDownAriaLabel","scrollLeftAriaLabel","scrollRightAriaLabel","scrollUpAriaLabel","SpotlightContainerDecorator","preserveId","restrict","STATE","MarqueeControllerContext","MarqueeController","marqueeOnFocus","forwardBlur","forwardFocus","doCancel","handleRegister","needsStart","allInactive","isFocused","dispatch","handleUnregister","wasRunning","anyRunning","handleStart","markAll","isHovered","handleComplete","markReady","handleFocus","childContext","controlledComponent","onFocus","MarqueeBase","invalidateProps","marqueeDirection","TimerState","configClassName","MarqueeComponent","forwardEnter","forwardLeave","determineTextDirection","forceDirection","textContent","promoteJob","contentFits","promoted","demoteJob","animating","delay","marqueeDelay","marqueeDisabled","clearTimeout","demote","tryStartingAnimation","timerState","startAnimation","promote","restartAnimation","resetAnimation","marqueeResetDelay","cancelAnimation","invalidateMetrics","handleMarqueeComplete","handleUnhover","handlePointerHide","cacheNode","distance","validateTextDirection","marqueeOnRenderDelay","shallowEqual","marqueeSpacing","marqueeSpeed","forceRestartMarquee","propList","prev","shouldStartMarquee","timer","moveChildren","childNodes","measureWidths","wrapper","getSpacing","calculateDistance","shouldAnimate","calculateTextOverflow","test","parseFloat","renderMarquee","marqueeOnHover","marqueeOnRender","marqueeCentered","remeasure","clientRef","onMarqueeComplete","speed","willAnimate","renderWrapped","Consumer","Marquee","SpottableDiv","BreadcrumbBase","onSelect","data-index","breadcrumbContent","animationOptions","easing","offsetForBreadcrumbs","PanelsArranger","positionBreadcrumb","crumbIndex","BreadcrumbArranger","Breadcrumbs","breadcrumbs","Breadcrumb","BreadcrumbDecorator","panelArranger","cfgClassName","calcMax","coerceFunction","Decorator","generateId","onSelectBreadcrumb","handleBreadcrumbWillTransition","getCurrent","querySelector","updatedChildProps","ariaOwns","unshift","count","CancelDecorator","BreadcrumbPanels","Measurable","refProp","measurementProp","BreadcrumbPanelsDecorator","PanelsBase","panelId","PanelBase","autoFocus","header","hideChildren","spotOnRender","enterTo","defaultElement","bodyClassName","body","noHeader","headerId","aria-labelledby","Panel","continue5WayHold","spotlightDefaultClass","Panels","ImageOverride","imageComponent","ImageItemBase","placeholder","Image","image","caption","MarqueeImageItem","UiImageItem","captionPosition","captionOverlay","marqueeProps","ImageBase","ImageItem","ImageItemDecorator","ContainerDiv","DropdownBase","title","buttonClassName","transitionContainerClassname","transitionContainer","openTransitionContainer","upTransitionContainer","dropdownButtonClassname","dropdownButton","upDropdownButton","dropdownListClassname","dropdownList","dropdownListWithScroller","isSelectedValid","transitionDirection","hasChildren","opened","DropDownButton","wrapperProps","groupProps","childComponent","RadioItem","itemProps","dropDownListItem","selectedProp","Item","slot","spotlightDisabled","spotlightRestrict","scroller","group","Dropdown","change","DropdownDecorator","Config","mergeComponentMetadata","storiesOf","boolean","select","text","UiButton","casing","colors","icons","joinedPosition","animateOnRender","animationDelay","backgroundOpacity","badge","badgeColor","highlighted","Checkbox","info","CheckboxItem","ColorPicker","ColorPickerBase","presets","StoryOptions","groupId","ContextualButton","ContextualPopupDecorator","renderPopup","textAlign","marginTop","popupComponent","showCloseButton","DateTimePicker","removeProps","Drawer","DrawerBase","HeadingConfig","Heading","HeadingBase","headingValues","sizes","spacings","drawerColors","opacityRange","range","noDrawerAnimation","drawerBackgroundColor","drawerBackgroundOpacity","drawerStyle","hex","opacity","background","convert","rgb","galliumNote","color","showLine","href","itemCount","items","Header","HeaderBase","Fragment","childrenSelection","hideLine","subtitle","titleAbove","knobProps","spacingIndicator","spacingNote","SkinnedIcon","iconNames","emptify","docs","factory","logo","showline","IncrementSlider","IncrementSliderBase","decrementIcon","decrementIcons","incrementIcon","incrementIcons","noFill","ItemContent","content","hasLabel","labelAbove","labelAfter","labelBefore","labelBelow","contentElement","ItemBase","slotAfter","slotBefore","UiItemDecorator","ItemDecorator","InputBase","Input","dismissOnEnter","iconAfter","iconBefore","invalid","invalidMessage","UiItemBase","UiItem","slotBeforeIcon","slotAfterIcon","subText","UiLabeledIconBase","UiLabeledIcon","LabeledIconButton","padding","PopupBase","closeButton","PopupMenu","Story","menuOpen","setMenuOpen","closeButtonLabel","cannotClose","ProgressBar","UiProgressBar","ProgressBarBase","progress","RangePicker","ScrollerConfig","UiScrollerBasic","noScroller","SliderButton","SliderButtonBase","3","5","Spinner","UiSpinnerBase","UiSpinner","SpinnerBase","outline","backgroundColor","borderBottomWidth","fontWeight","fontStyle","blockClickOn","SwitchItem","offText","onText","TabbedPanelsBase","panelIndex","setIndex","noCloseButton","tabPosition","tabs","ThumbnailItem","ToggleButton","UIButtonBase","UIButton","ToggleButtonBase","toggleOffLabel","toggleOnLabel","underline","TooltipButton","TooltipDecorator","tooltipDestinationProp","tooltipText","wrapOption","false","true","updateDataSize","itemNumberDigits","headingZeros","VirtualListConfig","UiVirtualListBasic","VirtualList","itemStyle","borderBottom","ApplicationCloseButton","onApplicationClose","ariaLabel","ControlsBase","closeButtonAriaLabel","close","Controls","ViewportBase","addTransitioningClass","transitioning","removeTransitioningClass","getArranger","VerticalArranger","HorizontalArranger","getEnteringProp","delete","mappedChildren","viewport","SharedState","Viewport","SharedStateDecorator","getControlsId","controlsMeasurements","controlsRef","cover","noSharedState","onBack","controlsId","owns","viewportId","PanelsDecorator","deprecate","thing","componentName","location","propFullName","isRenderable","deprecated","warn","includesLocale","localeList","ScriptInfo","script","getScriptDirection","_load","manifest","ilibData","cache","resBundleData","setLocale","initCaseMappers","calcProportion","emitChange","newValue","s","calcStep","proportion","isActive","either","atMinimum","atMaximum","forwardOnlyType","forwardSpotlightEvents","lastPointer","useEventFocus","spottable","themeScrollContentHandle","alertScrollbarTrack","calculateAndScrollTo","positionFn","spotItem","lastPos","lastScrollPositionOnFocus","contentRect","scrollHorizontally","scrollVertically","animateOnFocus","startScrollOnFocus","shouldPreventScrollByFocus","isWheeling","indexToFocus","setLastFocusedNode","scrollers","Map","pointerTracker","pageKeyHandler","elementFromPoint","scrollByPageOnPointerMode","useEventMonitor","lastPointerProp","pageKeyHandlerObj","useEventVoice","onScrollbarButtonClick","isVoiceControl","voiceControlDirection","isReachedEdge","ltrBound","rtlBound","bound","handleVoice","verticalDirection","horizontalDirection","webOSVoiceReportActionResult","voiceUi","exception","isPreviousScrollButton","isVerticalScrollBar","addVoiceEventListener","webos","setAttribute","removeVoiceEventListener","removeAttribute","stopVoice","scrollContainerNode","viewportBounds","spotItemBounds","nodes","getSpottableDescendants","first","nodeBounds","updateFocusAfterVoiceControl","isScrollButtonFocused","isOneOfScrollButtonsFocused","canScrollingVertically","focusOnScrollButton","focusOnButton","cbAlertScrollbarTrack","onNextScroll","onPrevScroll","navigableFilter","scrollbarCss","scrollButton","reverseDirections","down","up","dataIndexAttribute","getIntersectingElement","intersects","isIntersecting","getTargetInViewByDirectionFromPosition","getTargetByDirectionFromPosition","getActiveContainer","useThemeScroll","contextSharedState","nodeToFocus","pointToFocus","restoreScrollPosition","useSpotlightRestore","handleWheel","focusedItem","handleWheelNative","useEventWheel","handleKeyDown","isContent","isUp","directionFactor","scrollPossible","contentNode","clientRect","yAdjust","pauseSpotlight","getDirection","handleDragEnd","handleDragStart","isFlicked","useEventMouse","instnaces","useEventTouch","focusOnItem","focusByIndex","elemFromPoint","closest","spottableClass","handleScrollerUpdate","downButtonAriaLabel","upButtonAriaLabel","rightButtonAriaLabel","leftButtonAriaLabel","useThemeScrollContentHandle","scrollProps","focusableScrollButtons","nextButtonAriaLabel","onKeyDownButton","previousButtonAriaLabel","aria-pressed","ThumbnailItemBase","thumbnail","ScrollButtonBase","ScrollButton","prepareButton","isPrev","preparePrevButton","prepareNextButton","consumeEvent","useScrollButtons","prevButtonDisabled","setPrevButtonDisabled","nextButtonDisabled","setNextButtonDisabled","nextButtonRef","createRef","prevButtonRef","onKeyDownNext","onKeyDownPrev","onClickPrev","onClickNext","preventBubbling","isNextButton","isPrevButton","nextButton","click","prevButton","currentButton","oppositeButton","isDown","isLeftMovement","isRightMovement","fromNextToPrev","fromPrevToNext","focusOnOppositeScrollButton","buttonNode","directionToContent","isLeavingDown","isLeavingUp","isLeavingLeft","isLeavingRight","getTargetByDirectionFromElement","nextIcon","prevIcon","updateButtons","currentPos","shouldDisablePrevButton","shouldDisableNextButton","updateNextButton","ScrollbarBase","scrollbarButtonsProps","useScrollbarBase","useThemeScrollbar","uiUpdate","data-spotlight-overflow","UiButtonBase","UiButtonDecorator","idProp","updateOnMount","sharedState","initSharedState","loadFromContext","isUpdateable","LabeledIconButtonBase","UiLabeledIconDecorator","LabeledIconButtonDecorator","InputDecoratorIconBase","InputDecoratorIcon","onlyUpdateForKeys","capturedDown","shouldCapture","isCapturing","setCapturing","capturing","handlePointerDown","handlePointerUp","handleTap","releasePointer","isBubbling","SELECTABLE_TYPES","isSelectionAtLocation","selectionStart","InputSpotlightDecorator","noLockPointer","emulateMouse","forwardMouseDown","forwardKeyUp","updateFocus","focusDecorator","decorator","focusInput","relatedTarget","setDownTarget","downTarget","_","onSpotlightDisappear","isLeft","isRight","shouldSpotlightMove","stopImmediate","inputProps","extractInputProps","input","tabIndex","gridListItemSizeShape","minHeight","VirtualListBaseFactory","VirtualListCore","firstVisibleIndex","lastVisibleIndex","primary","secondary","isPrimaryDirectionVertical","isItemSized","shouldUpdateBounds","dimensionToExtent","maxFirstIndex","curDataSize","cc","scrollPositionTarget","itemPositions","indexToScrollIntoView","updateScrollPosition","getItemBottomPosition","itemPosition","gridSize","getItemTopPositionFromPreviousItemBottomPosition","getGridPosition","primaryPosition","gridPositionToItemPosition","secondaryPosition","getXY","getClientSize","getStatesAndUpdateBounds","firstIndex","updateStatesAndBounds","numOfItems","ceil","wasFirstIndexMax","dataSizeDiff","newFirstIndex","calculateScrollBounds","updateMoreInfo","calculateFirstIndex","setContainerSize","contentRef","getItemNode","itemContainerRef","applyStyleToNewNode","getComponentProps","itemElement","componentProps","listItem","composeStyle","applyStyleToHideNode","getScrollHeight","getVirtualScrollDimension","getScrollWidth","prevChildProps","prevFirstIndex","updateFrom","updateTo","shouldInvalidate","diff","emitUpdateItems","adjustItemPositionWithItemSize","itemBounds","equals","newState","xMax","yMax","extent","floor","firstIndexInExtent","calculateAndCacheItemPosition","lastIndex","heightInfo","minItemSize","widthInfo","thresholdBase","Infinity","maxOfMin","numOfUpperLine","firstIndexFromPosition","expectedFirstIndex","syncThreshold","newThresholdMin","newThresholdMax","overhangBefore","firstRenderedIndex","diffToFirstIndex","firstExtent","applyItemPositionToDOMElement","updateThresholdWithItemPosition","updateScrollBoundsWithItemPositions","scrollBoundsDimension","acc","cur","endPosition","positionItems","hideTo","j","getContainerClasses","containerClass","virtualList","getContentClasses","itemsRenderer","containerClasses","contentClasses","onUpdateItems","data-webos-voice-focused","data-webos-voice-group-label","VirtualListBase","itemSizesShape","minSize","VirtualListBasic","scrollToPositionTarget","optionalOffset","itemNode","itemContainerRefs","getAffordance","placeholderRenderer","scrollModeNative","native","data-webos-voice-disabled","VirtualGridList","forEachObj","oneOrArray","addOne","removeOne","addAll","pageUp","pageDown","toLowerCaseMapper","toUpperCaseMapper","CaseMapper","toUpperCase","inString","mergeStyle","backgroundImage","dingbat","iconProps","iconProp","fromCodePoint","isUri","aria-hidden","progressToProportion","calcBarStyle","anchor","startProp","endProp","backgroundProgress","fillOverHalf","loadOverHalf","bar","OpenState","forwardHide","PopupState","handleFloatingLayerOpen","popupOpen","handlePopupHide","floatLayerOpen","activator","prevOpen","RepeaterBase","childProp","indexProp","Repeater","RepeaterDecorator","isSelected","mode","GroupItemBase","handleSelect","$$GroupItem","selectedEventProp","selectItem","childSelect","GroupBase","pickGroupItemProps","GroupItem","Group","resBundle","opts","lengthen","ResBundle","getIStringFromBundle","rb","isObject","IString","ToggleIcon","ToggleIconDecorator","ToggleIconBase","CheckboxBase","CheckboxItemBase","aria-checked","data-webos-voice-intent","CheckboxItemDecorator","RadioItemBase","RadioItemDecorator","applyOffset","IntersectionObserver","root","entries","observer","boundingClientRect","rootLeft","rootRight","rootBounds","aria","clientClassName","clientStyle","rtlDirectionMultiplier","textOverflow","duplicate","validateRangeOnce","valueName","minName","maxName","validateSteppedOnce","stepName","RangePickerBase","running","scrimClassName","spinnerContainerClassName","spinnerContainer","SpinnerDecorator","footer","drawerTransitionContainer","DrawerDecorator","standard","subtitleComponent","titleAboveComponent","titleContainer","endSlot","defaultSlot","SliderKnob","tooltipComponent","SliderProgress","knobComponent","SliderButtonDecorator","SpinnerCore","spinnerNodes","aria-live","SwatchButtonBase","colorSwatchStyle","colorSwatch","SwatchButton","SwatchButtonDecorator","convertToHSL","charAt","hsl","extended","onHueChanged","onLightnessChanged","onSaturationChanged","onToggleExtended","sliderValues","palette","swatch","sliders","ColorPickerExtended","buildValue","h","l","clickedOutsidePalette","handleToggleExtended","handleSlider","sliderValue","defaultExtended","ColorPickerDecorator","IncrementSliderButtonBase","IncrementSliderButton","OnlyUpdate","onDecrementSpotlightDisappear","onIncrementSpotlightDisappear","onSpotlightDirection","onSpotlightDown","onSpotlightLeft","onSpotlightRight","onSpotlightUp","onDecrement","onIncrement","slider","isIncrement","incrementButton","isDecrement","decrementButton","decrementDisabled","incrementDisabled","ariaHidden","ariaProps","extractAriaProps","prefix","emitSpotlightEvents","IncrementSliderDecorator","isSpottable","lastSelectTarget","selectCancelled","shouldEmulateMouse","which","selectionKeys","keyboardAccessible","nodeName","isKeyboardAccessible","forwardAndResetLastSelectTarget","notPrevented","defaultPrevented","allow","isActionable","handleKeyUp","shouldPreventBlur","focusedWhenDisabled","isMuted","containers","getContainersForNode","containerId","TabBase","tabLabel","labeledIcon","Tab","TabGroupBase","afterTabs","beforeTabs","selectedIndex","tab","tabEnds","tabGroup","TabGroup","viewProps","column","tabOrientation","panels","TabbedPanels","param","Handlers","Ctor","_handlers","windowCallbacks","isWindowReady","Accelerator","processKey","event","reset","Date","canceled","elapsedTime","seconds","toSkip","accelerating","skipped","isAccelerating","configHoc","MeasurableHoc","measurement","setMeasurement","refToMeasure","entry","MutationObserver","mutationObserver","mutationsList","mutation","attributeName","attributes","childList","subtree","useMeasurable","measurementProps","GlobalId","idPrefix","onUnmount","ids","useHintOnActive","useHintText","toggleActive","handleSpotlightEvents","dragging","prevValue","getValueText","ariaValueText","verticalHint","horizontalHint","alt","onError","sizing","bgImage","imageSrc","imgSrc","img","draggable","ResponsiveImageDecorator","ImageDecorator","ScrollerBasic","nodeLeft","nodeTop","nodeHeight","nodeWidth","containerTop","mergedStyle","overflowX","overflowY","ScrollerBase","Knob","PositionDecorator","handleDrag","emitChangeForPosition","offsetX","offsetY","updateBounds","updateOffset","knob","rect","centerX","centerY","percent","generate","useIdProvider","provider","useId","cancelHandlers","forCancel","ok","modals","dispatchToModals","handled","onCancelIsString","onCancelIsFunction","dispatchCancelToConfig","stopped","cancelEvent","isFirstRender","removeModal","renderUnwrapped","renderModal","iconClasses","IconComponent","TransitionContainer","buttons","withCloseButton","withTitle","transitionType","wideLayout","popupTransitionContainer","Popup","PopupDecorator","DateTimeBase","pickers","toTime","date","getTime","DateTimeDecorator","customProps","defaultOrder","memoizedI18nConfig","memoize","updateValue","day","month","year","maxDays","cal","getMonLength","DateFactory","getTimeExtended","changed","getJSDate","handlePickerChange","toIDate","initialValue","pickerValue","unixtime","timezone","order","i18nConfig","instanceOf","DateTime","DateComponentPickerBase","mapAndFilterChildren","DateComponentPicker","DateComponentRangePickerBase","DateComponentRangePicker","DatePickerBase","maxMonths","dayAriaLabel","maxYear","minYear","monthAriaLabel","onChangeDate","onChangeMonth","onChangeYear","yearAriaLabel","picker","getLabelFormatter","DateFmt","useNative","dateTimeConfig","getYears","getMonths","getDays","formatter","getNumMonths","toLocalYear","getTemplate","replace","match","julianday","getJulianDay","DatePicker","hours24","hours12","HourPicker","hasMeridiem","hours","TimePickerBase","hour","meridiem","minute","hourAriaLabel","meridiemAriaLabel","meridiems","minuteAriaLabel","onChangeHour","onChangeMeridiem","onChangeMinute","meridiemPickerWidth","hourPicker","minutePicker","meridiemPicker","toMinutes","colon","substring","calcMeridiemRange","meridiemLabels","meridiemEnabled","minutes","getHours","getMinutes","indexOfMeridiem","meridiemRanges","currentTime","currentHour","template","getMeridiemsRange","getClock","TimePicker","DateTimePickerBase","dateTimePicker","SwitchBase","animated","Switch","SwitchItemBase","switchIcon","SwitchItemDecorator","mergeFn","userValue","hawk","defaults","maybeWrapped","mergeDeepWithKey","propComparators","hasChanged","comparators","propKeys","nextKeys","hasOwn","hasOwnProperty","comp","timeout","run","cancelIdleCallback","throttle","throttleUntil","idleUntil","requestIdleCallback","startRaf","timestamp","apply","unless","isType","Function","always","coerceArray","tag","ReactIs","mergeClassNameMaps","baseMap","additiveMap","allowedClassNames","elementMatchesSelector","selector","matchedNodes","querySelectorAll","Element","matchesSelector","mozMatchesSelector","webkitMatchesSelector","msMatchesSelector","oMatchesSelector","matchSelector","parseSelector","ex","testIntersection","elementRect","L","R","T","B","r","aroundV","aroundH","cr","center","getPointRect","getRects","candidates","getContainerRect","getContainerNode","getViewportRect","makeHandler","hasPropsAndContext","decorateHandleFunction","_outer","prepareHandleArgs","caller","cleanup","handleWithFinally","cond","callOnEvent","methodName","prevented","wrappedEvent","forKeyCode","log","method","adapter","forwardCustom","getImpl","url","XMLHttpRequest","xhr","beforeSend","err","resp","statusCode","response","json","JSON","parse","getSync","reject","iLibBase","ILIB_BASE_PATH","iLibResources","ILIB_RESOURCES_PATH","cacheID","ILIB_CACHE_ID","EnyoLoader","Loader","_createZoneFile","path","zone","ZoneInfoFile","getIlibZoneInfo","_pathjoin","_root","subpath","_loadFilesAsync","params","rootPath","cacheItem","loadManifests","isAvailable","localeBase","defaultInfo","_loadFilesCache","paths","_validateCache","localStorage","stored","getItem","stringify","removeItem","_storeFilesCache","setItem","_cacheValidated","cachePrefix","loadFiles","ret","locdata","found","loadManifestsSync","results","_handleManifest","dirpath","filepath","files","_loadManifest","cachedManifest","setLoaderCallback","UILocale","PopupMenuBase","PopupMenuDecorator","isEnter","getNumberValue","findSpottableItem","indexFrom","indexTo","getNextIndex","row","isDownKey","isUpKey","isNextRow","isNextAdjacent","isBackward","isWrapped","nextIndex","handle5WayKeyUp","handleDirectionKeyDown","handlePageUpDownKeyDown","spotlightAcceleratorProcessKey","isNotItem","candidate","candidateIndex","directions","isScrollbarVisible","usePreventScroll","preventScroll","preservedIndex","lastSpotlightDirection","restoreLastFocused","restoreFocus","isPlaceholderFocused","vlPlaceholder","isScrolledByJump","foundLastFocused","handlePlaceholderFocus","handleRestoreLastFocus","setPreservedIndex","SpotlightAccelerator","SpotlightPlaceholder","isScrolledBy5way","isWrappedBy5way","lastFocusedIndex","lastFocusedPersist","lastFocusedRestore","el","obliqueMultiplier","eventType","onAcceleratedKeyDown","nextTargetIndex","handleGlobalKeyDown","nextRow","startBoundary","endBoundary","returnVal","offsetToClientEnd","focusedIndex","getAttribute","gridPosition","useThemeVirtualList","itemRest","data-vl-placeholder","Tag","UiHeading","HeadingDecorator","getResBundle","basePath","ILIB_AGATE_PATH","toIString","distributeChild","hasSlot","newProps","propNames","distribute","slotNames","remaining","useSlots","slotProps","k","distributed","dist","concat","_initialized","_duringFocusChange","_5WayKeyHold","_spotOnWindowFocus","_pointerMoveDuringKeyPress","evt","shouldPreventNavigation","getAllContainerIds","setPlatformPointerMode","focusElement","containerIds","fromPointer","setContainerLastFocusedElement","currentFocusedElement","focusOptions","isWithinOverflowContainer","silentFocus","focusChanged","setLastContainer","lastContainerId","getLastContainer","lastFocused","getContainerConfig","getNearestTargetFromPosition","getContainerLastFocusedElement","rootContainerId","spotNext","currentContainerIds","currentContainerId","nextContainerIds","isContainer5WayHoldable","notifyLeaveContainer","setContainerPreviousTarget","notifyEnterContainer","notifyLeaveContainerFail","handleWebOSMouseEvent","handleKeyboardStateChangeEvent","lastFocusedElement","isContainer","spotNextFromPoint","getNavigableTarget","setLastContainerFromTarget","onMouseOver","initialize","containerDefaults","configureDefaults","configureContainer","terminate","clear","removeAllContainers","setDefaultContainer","addContainer","unmount","unmountContainer","removeContainer","setActiveContainer","disableSelector","selectorDisabled","enableSelector","wasContainerId","getTargetByContainer","getTargetBySelector","getContainerId","nextContainerId","isNavigable","mayActivateContainer","isFocusable","PureComponent","oldValue","rendered","webpackEmptyContext","that","overrideMimeType","onload","byteArray","Uint8Array","charCodeAt","_parseInfo","onerror","packed","tzh_ttisgmtcnt","tzh_ttisstdcnt","tzh_leapcnt","tzh_timecnt","tzh_typecnt","tzh_charcnt","transitionTimes","ruleIndex","zoneInfo","isdst","abbreviationIndex","allAbbreviations","abbreviation","savings","tti","standardTime","daylightTime","defaultTime","bsearch","high","low","mid","usesDST","thisYear","nextYear","getRawOffset","getDSTSavings","getDSTStartDate","getFullYear","startDate","getDSTEndDate","endDate","getAbbreviation","abbr","getDSTAbbreviation","minutesToStr","unixtimeToJD","millis","f","datasetDangerously","getBoundingClientRectDangerously","getRectDangerously","removeAttributeDangerously","scrollLeftDangerously","scrollTopDangerously","setAttributeDangerously","optProps","renderComputed","addInternalProp","writable","configCss","renderStyles","cn","joinedClassName","NoContext","cfgComputed","functional","cfgStyles","renderKind","ctx","defaultPropKeys","handlerKeys","_props","withRef","listIcons","mediaIcons","arrowIcons","starIcons","iconsSilicon","rtlPattern","isRtlText","TooltipLabel","multi","TooltipBase","arrowAnchor","labelOffset","relative","tooltipRef","cappedPosition","absolute","tooltipAnchor","tooltipArrow","Tooltip","getLabelOffset","tooltipNode","tooltipDirection","tooltipPosition","tooltipWidth","isOverWide","isOverCenterLeft","isOverCenterRight","pixelOffset","percentageOffset","offsetBoundaryPercentage","getLabelUnavailableSpace","currentTooltip","screenEdgeKeepout","showTooltipJob","showing","setTooltipLayoutJob","setTooltipLayout","startTooltipLayoutJob","tooltipUpdateDelay","showTooltip","tooltipDelay","hideTooltip","handleMouseOver","handleMouseOut","getTooltipRef","clientNode","calcOverflow","edgeKeepout","windowWidth","windowHeight","clientHorizontalCenter","tooltipSafeWidth","tooltipCenterdSafeWidth","isTooltipWide","isOverTop","isOverBottom","isOverLeft","isOverRight","adjustDirection","adjustAnchor","getPosition","renderTooltip","tooltipRelative","tooltipProps","renderedTooltip","onMouseOut","SpotlightRootDecorator","noAutoFocus","customSkin","float","overlay","spotlight","CustomizableSkinStyle","accent","highlight","cssRules","accentObj","highlightObj","styleRules","rule","ThemeDecorator","bgClassName","App","pointerHide","pointerShow","SkinFrame","reloadPage","protocol","host","pathname","description","panel","storyBody","FullscreenBase","Agate","locales","getPropFromURL","propName","fallbackValue","encodeURI","locationParams","startIndex","keyIndex","valueIndex","decodeURIComponent","memory","StorybookDecorator","story","sample","defaultColors","skinFromURL","currentSkin","newSkin","accentFromURL","highlightFromURL","localeFromURL","currentLocale","allSkins","skinKnobs","Wrapper","parameters","trim","stories","mod","configureActions","addDecorator","withKnobs","loadStories","ApiDecorator","api","setProvider","configurable","setApiProvider","ContextualPopupArrow","arrow","viewBox","arrowFill","ContextualPopupRoot","ContextualPopupBase","arrowPosition","containerPosition","onCloseButtonClick","arrowDirection","fixedSize","reserveClose","contextualPopup","ContextualPopupContainer","ContextualPopup","noSkin","openProp","getContainerAdjustedPosition","adjustedDirection","positionContextualPopup","getArrowPosition","getContainerPosition","getClientNode","handleOpen","updateLeaveFor","spotPopupContent","hasSpottables","spotlessSpotlightModal","shouldSpotPopup","handleDirectionalKey","handleContainerKeyDown","spotActivator","spottableDescendants","popupSpotlightId","ARROW_OFFSET","ARROW_WIDTH","KEEPOUT","MARGIN","getSnapshotBeforeUpdate","snapshot","containerWidth","getContainerNodeWidth","shouldSpotActivator","leaveFor","centerContainerPosition","adjustRTL","containerHeight","tmpLeft","voiceExclusive","PopupComponent","popupClassName","popupProps","popupPropsRef","contextualPopupDecorator","data-webos-voice-exclusive","calcGroupId","calcNextGridPosition","partition","rects","targetRect","straightOverlapThreshold","getGroupId","groups","navigate","partitionRect","distanceFunction","generateDistancefunction","nearPlumbLineIsBetter","nearHorizonIsBetter","nearTargetBottomIsBetter","nearTargetLeftIsBetter","nearTargetRightIsBetter","nearTargetTopIsBetter","topIsBetter","bottomIsBetter","leftIsBetter","rightIsBetter","straightMultiplier","straightOnly","destRect","calcNextExtendedGridPosition","internalGroups","priorities","targetEdge","difference","minDistance","multiplier","destGroup","prioritize","destPriority","destDistance","destDifference","calcDistance","pow","verifySelector","getContainersToSearch","addRange","getDefaultContainer","getContainerFocusTarget","isRestrictedContainer","getSpottableDescendantsWithoutContainers","filterRects","elementRects","boundingRect","topUpdate","bottomUpdate","leftUpdate","rightUpdate","getContainerContainingRect","overlapping","getOverflowContainerRect","nextConfig","extSelector","getNavigableContainersForNode","reduceRight","elementContainerIds","getTargetInContainerByDirectionFromElement","elements","getContainerPreviousTarget","spotlightOverflow","overlappingContainerId","partitionContainer","lastNavigated","getLeaveForTarget","pointerRect","getTargetInContainerByDirectionFromPosition","positionRect","getNearestTargetInContainerFromPosition","getNearestTargetsInContainerFromPosition","getOffsetDistanceToTargetFromPosition","getDistanceToTargetFromPosition","containerConfigs","_ids","_defaultContainerId","_lastContainerId","GlobalConfig","lastFocusedKey","onEnterContainer","rememberSource","tabIndexIgnoreList","isContainerNode","mapContainers","nodeOrId","has","getContainerSelector","and","isContainerEnabled","spottableSelector","subContainerSelector","getSubContainerSelector","includeSelector","excludeSelector","include","exclude","getOwnedNodes","getDeepSpottableDescendants","excludedContainers","selfOnlyIndex","verify","offsetWidth","offsetHeight","isActiveContainer","getContainerNavigableElements","preferredEnterTo","getContainerDefaultElement","defaultElementSelector","spottables","restoreLastFocusedElement","destination","persistLastFocusedElement","containsContainer","outerContainerId","innerContainerId","outer","currentContainers","currentOuterContainerId","currentContainerConfig","targetContainers","targetInnerContainer","intersection","some","previousContainerIds","addParameters","theme","brandTitle","brandUrl","brandImage","isFullscreen","showNav","showPanel","panelPosition","withInfo","isNewPointerPosition","SpotlightContainer","containerConfig","onBlurCapture","onFocusCapture","silentBlur","onPointerEnter","onPointerLeave","parentContainer","activeContainer","canPreserveId","attr","setProps","muted","releaseContainer","useSpotlightContainer","callContext","containerHandlers","spotlightMuted","SpotlightContainerDecoratorAdapter"],"mappings":"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","file":"main.334cd1d26ced1fd29a7d.bundle.js","sourcesContent":["import classnames from 'classnames';\n\nconst objectify = (arg) => {\n\t// undefined, null, empty string case\n\t// bail early\n\tif (!arg) return {};\n\n\tif (typeof arg === 'string') {\n\t\t// String case, convert to array for processing\n\t\targ = arg.split(' ');\n\t}\n\n\tif (arg instanceof Array) {\n\t\t// Convert array values into object properties\n\t\treturn arg.reduce((obj, a) => {\n\t\t\tobj[a] = true;\n\t\t\treturn obj;\n\t\t}, {});\n\t} else if (typeof arg === 'object') {\n\t\t// Can just return objects as-is\n\t\treturn arg;\n\t} else {\n\t\t// Invalid, return an empty object\n\t\treturn {};\n\t}\n};\n\nconst preferDefined = (a, b) => ((a != null) ? a : b);\n\n/**\n * Determines the effective skin\n *\n * @param {String} defaultSkin The local default for this instance of useSkins\n * @param {String} authorSkin  The author-provided skin value\n * @param {String} parentSkin  The inherited skin value from an upstream useSkins\n * @private\n */\nfunction determineSkin (defaultSkin, authorSkin, parentSkin) {\n\treturn authorSkin || defaultSkin || parentSkin;\n}\n\n/**\n * Determines the effective skin variant\n *\n * @param {String|String[]} defaultVariants The local default variants for this instance\n * @param {String|String[]} allowedVariants The allowed variants for this instance\n * @param {String|String[]} authorVariants  The author-provided variants\n * @param {String|String[]} parentVariants  The inherited variants from an upstream useSkins\n * @private\n */\nfunction determineVariants (defaultVariants, allowedVariants, authorVariants, parentVariants) {\n\tif (!allowedVariants || !(allowedVariants instanceof Array)) {\n\t\t// There are no allowed variants, so just return an empty object, indicating that there are no viable determined variants.\n\t\treturn {};\n\t}\n\n\tdefaultVariants = objectify(defaultVariants);\n\tauthorVariants = objectify(authorVariants);\n\tparentVariants = objectify(parentVariants);\n\n\t// Merge all of the variants objects, preferring values in objects from left to right.\n\tconst mergedObj = [defaultVariants, parentVariants, authorVariants].reduce(\n\t\t(obj, a) => {\n\t\t\tif (a) {\n\t\t\t\tObject.keys(a).forEach(key => {\n\t\t\t\t\tobj[key] = preferDefined(a[key], obj[key]);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn obj;\n\t\t},\n\t\t{}\n\t);\n\n\t// Clean up the merged object\n\tfor (const key in mergedObj) {\n\t\t// Delete keys that are null or undefined and delete keys that aren't allowed\n\t\tif (mergedObj[key] == null || !allowedVariants.includes(key)) {\n\t\t\tdelete mergedObj[key];\n\t\t}\n\t}\n\n\treturn mergedObj;\n}\n\nfunction getClassName (skins, effectiveSkin, variants) {\n\tconst skin = skins && skins[effectiveSkin];\n\n\t// only apply the skin class if it's set and different from the \"current\" skin as\n\t// defined by the value in context\n\treturn classnames(skin, variants);\n}\n\n\nexport {\n\tdetermineSkin,\n\tdetermineVariants,\n\tgetClassName,\n\tobjectify,\n\tpreferDefined\n};\n","import React, {useMemo} from 'react';\n\nimport {determineSkin, determineVariants, getClassName} from './util';\n\n/**\n * Allows a component to respond to skin changes via the Context API\n *\n * Example:\n * ```\n * <App skin=\"dark\">\n * \t<Section>\n * \t\t<Button>Gray Button</Button>\n * \t<Section>\n * \t<Popup skin=\"light\">\n * \t\t<Button>White Button</Button>\n * \t</Popup>\n * </App>\n * ```\n *\n * @class SkinContext\n * @memberof ui/Skinnable\n * @private\n */\nconst SkinContext = React.createContext(null);\n\n/**\n * Configuration for `useSkins`\n *\n * @typedef {Object} useSkinsConfig\n * @memberof ui/Skinnable\n * @property {String}   defaultSkin       Default skin name when none has been specified or inherited.\n * @property {String[]} [defaultVariants] Default variants when none have been specified or inherited.\n * @property {String}   [skin]            Specific skin to apply to this instance which will take precedence over the default or the inherited value.\n * @property {String[]} skins             List of allowed skins\n * @property {String[]} [skinVariants]    Specific variants to apply to this instance which will take precedence over the default or the inherited value.\n * @property {String[]} [variants]        List of allowed variants\n * @private\n */\n\n/**\n * Object returned by `useSkins`\n *\n * @typedef {Object} useSkinsInterface\n * @memberof ui/Skinnable\n * @property {String}   className    CSS classes for the effective skin and variants.\n * @property {String}   skin         Effective skin based on the allowed skins, the configured.\n *                                   `skin`, the default skin, and the inherited `skin` from up the\n *                                   component tree.\n * @property {String[]} variants     Effective skins variant based on the allowed variants, the\n *                                   configured variants, the default variants, and the inherited\n *                                   variants from up the component tree.\n * @property {Function} provideSkins Wraps a component tree with a skin provider to allow that tree\n *                                   to inherit the effective skin configured at this level.\n * @private\n */\n\n/**\n * Determines the effective skin and skin variants for a component and provides a method to provide\n * those values to other contained components in this subtree.\n *\n * ```\n * function ComponentDecorator (props) {\n *   const skins = useSkins({\n *     defaultSkin: 'neutral',\n *     defaultVariants: [],\n *     skins: ['neutral', 'bold'],\n *     variants: ['highContrast'],\n *     skin: props.skin,\n *     skinVariants: props.skinVariants\n *   });\n *\n *   return skins.provideSkins(\n *     <Component className={classnames(props.className, skins.className)} />\n *   );\n * }\n * ```\n *\n * @param {useSkinsConfig} config Configuration options\n * @returns {useSkinsInterface}\n * @private\n */\nfunction useSkins (config) {\n\tconst {defaultSkin, defaultVariants, skin, skins, skinVariants, variants} = config;\n\n\tconst {parentSkin, parentVariants} = React.useContext(SkinContext) || {};\n\n\tconst effectiveSkin = determineSkin(defaultSkin, skin, parentSkin);\n\tconst effectiveVariants = useMemo(() => determineVariants(defaultVariants, variants, skinVariants, parentVariants), [defaultVariants, variants, skinVariants, parentVariants]);\n\tconst className = getClassName(skins, effectiveSkin, effectiveVariants);\n\tconst value = useMemo(() => ({parentSkin: effectiveSkin, parentVariants: effectiveVariants}), [effectiveSkin, effectiveVariants]);\n\n\tconst provideSkins = React.useCallback((children) => {\n\t\treturn (\n\t\t\t<SkinContext.Provider value={value}>\n\t\t\t\t{children}\n\t\t\t</SkinContext.Provider>\n\t\t);\n\t}, [value]);\n\n\treturn {\n\t\tclassName,\n\t\tskin: effectiveSkin,\n\t\tvariants: effectiveVariants,\n\t\tprovideSkins\n\t};\n}\n\nexport default useSkins;\nexport {\n\tuseSkins\n};\n","/**\n * A higher-order component for customizing the visual appearance throughout an application.\n *\n * This is the base-level implementation of this component. It will typically never be accessed\n * directly, and only be instantiated with a configuration once inside a visual library.\n * Interface libraries will supply a set of supported skins which will\n * be accessible to their components.\n *\n * @module ui/Skinnable\n * @exports Skinnable\n * @public\n */\n\nimport classnames from 'classnames';\nimport hoc from '@enact/core/hoc';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport useSkins from './useSkins';\nimport {objectify} from './util';\n\n/**\n * Default config for `Skinnable`.\n *\n * @memberof ui/Skinnable.Skinnable\n * @hocconfig\n * @public\n */\nconst defaultConfig = {\n\t/**\n\t * The prop in which to pass the skinVariants value to the wrapped component. The recommended\n\t * value is \"skinVariants\".\n\t *\n\t * If left unset, the skinVariant will not be passed to the wrapped component.\n\t *\n\t * @type {String}\n\t * @memberof ui/Skinnable.Skinnable.defaultConfig\n\t */\n\tvariantsProp: null,\n\n\t/**\n\t * The prop in which to pass the effective skin to the wrapped component.\n\t *\n\t * If left unset, the current skin will not be passed to the wrapped component.\n\t *\n\t * @type {String}\n\t * @memberof ui/Skinnable.Skinnable.defaultConfig\n\t */\n\tprop: null,\n\n\t/**\n\t * A hash mapping the available skin names to their CSS class name.\n\t *\n\t * The keys are accepted as the only valid values for the `skin` prop on the wrapped component.\n\t *\n\t * @type {Object}\n\t * @memberof ui/Skinnable.Skinnable.defaultConfig\n\t */\n\tskins: null,\n\n\t/**\n\t * Assign a default skin from the `skins` list.\n\t *\n\t * This will be used if the instantiator of the wrapped component provides no value to the\n\t * `skin` prop.\n\t *\n\t * @type {String}\n\t * @memberof ui/Skinnable.Skinnable.defaultConfig\n\t */\n\tdefaultSkin: null,\n\n\t/**\n\t * Initial collection of applied variants\n\t *\n\t * This will be used if the instantiator of the wrapped component provides no value to the\n\t * `skinVariants` prop.\n\t *\n\t * @type {String|String[]}\n\t * @memberof ui/Skinnable.Skinnable.defaultConfig\n\t */\n\tdefaultVariants: null,\n\n\t/**\n\t * A complete list of all supported variants.\n\t *\n\t * These will translate to CSS class names so should not conflict with any skin names.\n\t * CamelCase is recommended for the values.\n\t *\n\t * @type {String[]}\n\t * @memberof ui/Skinnable.Skinnable.defaultConfig\n\t */\n\tallowedVariants: null\n};\n\n/**\n * A higher-order component that assigns skinning classes for the purposes of styling children components.\n *\n * Use the config options to specify the skins your theme has. Set this up in your theme's decorator\n * component to establish your supported skins.\n *\n * Note: This HoC passes `className` to the wrapped component. It must be passed to the main DOM\n * node. Additionally, it can be configured to pass the skin and skin variant as props.\n *\n * Example:\n * ```\n * const MyApp = ({skinName, ...rest) => (<div {...props}>{skinName}</div>);\n * ...\n * App = Skinnable({\n * \tprop: 'skinName',\n * \tskins: {\n * \t\tdark: 'moonstone',\n * \t\tlight: 'moonstone-light'\n * \t},\n * \tdefaultTheme: 'dark'\n * \tdefaultVariants: ['highContrast'],\n * \tallowedVariants: ['highContrast', 'largeText', 'grayscale']\n * }, MyApp);\n * ```\n *\n * @class Skinnable\n * @memberof ui/Skinnable\n * @hoc\n * @public\n */\nconst Skinnable = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {prop, skins, defaultSkin, allowedVariants: variants, variantsProp} = config;\n\tconst defaultVariants = objectify(config.defaultVariants);\n\n\t// eslint-disable-next-line no-shadow\n\tfunction Skinnable ({className, skin, skinVariants, ...rest}) {\n\t\tconst hook = useSkins({\n\t\t\tdefaultSkin,\n\t\t\tdefaultVariants,\n\t\t\tskin,\n\t\t\tskins,\n\t\t\tskinVariants,\n\t\t\tvariants\n\t\t});\n\n\t\tconst allClassNames = classnames(hook.className, className);\n\t\tif (allClassNames) {\n\t\t\trest.className = allClassNames;\n\t\t}\n\n\t\tif (prop) {\n\t\t\trest[prop] = hook.skin;\n\t\t}\n\n\t\tif (variantsProp) {\n\t\t\trest[variantsProp] = hook.variants;\n\t\t}\n\n\t\treturn hook.provideSkins(\n\t\t\t<Wrapped {...rest} />\n\t\t);\n\t}\n\n\tSkinnable.propTypes = /** @lends ui/Skinnable.Skinnable.prototype */ {\n\t\t/**\n\t\t * The name of the skin a component should use to render itself. Available skins are\n\t\t * defined in the \"defaultConfig\" for this HOC.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tskin: PropTypes.string,\n\n\t\t/**\n\t\t * The variant(s) on a skin that a component should use when rendering. These will\n\t\t * typically alter the appearance of a skin's existing definition in a way that does not\n\t\t * override that skin's general styling.\n\t\t *\n\t\t * Multiple data types are supported by this prop, which afford different conveniences\n\t\t * and abilities. String and Array are effectively the same, supporting just additions\n\t\t * to the variants being applied to a component, and are much more convenient. Objects\n\t\t * may also be used, and have the ability to disable variants being passed by their\n\t\t * ancestors. Objects take the format of a basic hash, with variants as key names and\n\t\t * true/false Booleans as values, depicting their state. If a variant is excluded from\n\t\t * any version of data type used to set this prop, that variant will ignored, falling\n\t\t * back to the defaultVariant or parent variant, in that order.\n\t\t *\n\t\t * skinVariants examples:\n\t\t * ```\n\t\t *  // String\n\t\t *  skinVariants=\"highContrast\"\n\t\t *\n\t\t *  // Array\n\t\t *  skinVariants={['highContrast']}\n\t\t *\n\t\t *  // Object\n\t\t *  skinVariants={{\n\t\t *  \thighContrast: true,\n\t\t *  \tgrayscale: false\n\t\t *  }}\n\t\t * ```\n\t\t *\n\t\t * @type {String|String[]|Object}\n\t\t * @public\n\t\t */\n\t\tskinVariants: PropTypes.oneOfType([\n\t\t\tPropTypes.string,\n\t\t\tPropTypes.array,\n\t\t\tPropTypes.object\n\t\t])\n\t};\n\n\treturn Skinnable;\n});\n\nexport default Skinnable;\nexport {\n\tSkinnable,\n\tuseSkins\n};\n","/**\n * Exports the {@link agate/Skinnable.Skinnable} Higher-order Component (HOC).\n *\n * @module agate/Skinnable\n * @exports Skinnable\n * @public\n */\n\nimport hoc from '@enact/core/hoc';\nimport UiSkinnable from '@enact/ui/Skinnable';\n\nconst defaultConfig = {\n\tskins: {\n\t\tcarbon: 'carbon',\n\t\tcobalt: 'cobalt',\n\t\tcopper: 'copper',\n\t\telectro: 'electro',\n\t\tgallium: 'gallium',\n\t\tsilicon: 'silicon',\n\t\ttitanium: 'titanium'\n\t},\n\tallowedVariants: ['night', 'highContrast'],\n\tdefaultVariants: null\n};\n\n/**\n * This Higher-order Component is based on [ui/Skinnable]{@link ui/Skinnable.Skinnable} and comes\n * pre-configured for Agate's supported skins: 'carbon', 'cobalt', 'copper', 'electro', 'gallium',\n * 'silicon', and 'titanium'. It is used to apply the relevant skinning classes to each component\n * and has been used to pre-select specific skins for some components.\n *\n * @class Skinnable\n * @memberof agate/Skinnable\n * @hoc\n * @public\n */\nconst Skinnable = hoc(defaultConfig, UiSkinnable);\n\n/**\n * Select a skin by name by specifying this property. This may be changed at runtime. All components\n * already use their defaults, but a skin may be changed via this prop or by using\n * {@link agate/Skinnable} directly and a config object.\n *\n * Example:\n * ```\n * <Button skin=\"gallium\" />\n * ```\n *\n * @name skin\n * @type {String}\n * @memberof agate/Skinnable.Skinnable\n * @instance\n * @public\n */\n\nexport default Skinnable;\nexport {\n\tSkinnable\n};\n","import React from 'react';\n\nfunction nop () {}\n\n// Generate a handler that hides the controlled value from users, supports functional callbacks,\n// and is memoized by the onChange provided by useState\nfunction createHandler () {\n\treturn (onChange, currentValue, controlled) => {\n\t\tif (controlled) {\n\t\t\treturn nop;\n\t\t}\n\n\t\treturn (value) => {\n\t\t\tif (value !== currentValue) {\n\t\t\t\tonChange(value);\n\t\t\t}\n\t\t};\n\t};\n}\n\n// always return the prop value when controlled and the state value when not\nfunction calcValue (defaultValue, propValue, stateValue, controlled) {\n\tif (!controlled) {\n\t\treturn stateValue;\n\t}\n\n\t// eslint-disable-next-line no-undefined\n\treturn propValue !== undefined ? propValue : defaultValue;\n}\n\nfunction useControlledState (defaultValue, propValue, controlled) {\n\tconst isControlled = React.useRef(controlled);\n\n\t// Store both the value and the \"controlled\" flag in a state hook\n\tconst [value, onChange] = React.useState(defaultValue);\n\n\tconst memoOnChange = React.useMemo(\n\t\tcreateHandler, [onChange, value, isControlled.current]\n\t);\n\n\treturn [\n\t\tcalcValue(defaultValue, propValue, value, isControlled.current),\n\t\tmemoOnChange(onChange, value, isControlled.current)\n\t];\n}\n\nexport default useControlledState;\nexport {\n\tuseControlledState\n};\n","import {adaptEvent, forProp, forward, handle, not, returnsTrue} from '@enact/core/handle';\n\nconst isEnabled = not(forProp('disabled', true));\nconst makeEvent = (config, value) => ({\n\t[config.prop || 'selected']: value\n});\n\nclass Toggle {\n\tconstructor (config) {\n\t\t// remapping to props for better compatibility with core/handle and binding\n\t\tthis.props = config;\n\t\tthis.context = {};\n\t}\n\n\tsetContext (props, value, onToggle) {\n\t\tthis.props = {...this.props, ...props};\n\t\tthis.context.value = value;\n\t\tthis.context.onToggle = onToggle;\n\t}\n\n\tget value () {\n\t\treturn Boolean(this.context.value);\n\t}\n\n\thandleActivate = handle(\n\t\tisEnabled,\n\t\tadaptEvent((ev, props) => makeEvent(props, true), forward('onToggle')),\n\t\treturnsTrue((ev, props, context) => context.onToggle(true))\n\t).bindAs(this, 'handleActivate');\n\n\thandleDeactivate = handle(\n\t\tisEnabled,\n\t\tadaptEvent((ev, props) => makeEvent(props, false), forward('onToggle')),\n\t\treturnsTrue((ev, props, context) => context.onToggle(false))\n\t).bindAs(this, 'handleDeactivate');\n\n\thandleToggle = handle(\n\t\tisEnabled,\n\t\tadaptEvent((ev, props, {value}) => makeEvent(props, !value), forward('onToggle')),\n\t\treturnsTrue((ev, props, {onToggle, value}) => onToggle(!value))\n\t).bindAs(this, 'handleToggle');\n}\n\nexport default Toggle;\nexport {\n\tToggle\n};\n","import useClass from '@enact/core/useClass';\n\nimport useControlledState from '../useControlledState';\n\nimport Toggle from './Toggle';\n\n/**\n * Configuration for `useToggle`\n *\n * @typedef {Object} useToggleConfig\n * @memberof ui/Toggleable\n * @property {Boolean}  [defaultSelected = false] Initial state of the toggle\n * @property {Boolean}  [disabled = false]        Disables updating the state\n * @property {Boolean}  [prop = \"selected\"]       The key used to pass the current value back\n *                                                through the `onToggle` callback.\n * @property {Boolean}  [selected = false]        Current state of the toggle\n * @property {Function} [onToggle]                Called when the state is changed\n * @private\n */\n\n/**\n * Object returned by `useToggle`\n *\n * @typedef {Object} useToggleInterface\n * @memberof ui/Toggleable\n * @property {Boolean}  selected   Current state of the toggle\n * @property {Function} activate   Sets the current state to `true`\n * @property {Function} deactivate Sets the current state to `false`\n * @property {Function} toggle     Toggles the current state to the opposite value\n * @private\n */\n\n/**\n * Manages a boolean state value.\n *\n * The value may either be toggled via the `onToggle` or explicitly set via `onActivate` and\n * `onDeactivate`. The initial value can be set using the `defaultSelected` option.\n *\n * @param {useToggleConfig} config Configuration options\n * @returns {useToggleInterface}\n * @private\n */\nfunction useToggle ({defaultSelected, selected, ...config} = {}) {\n\tconst toggle = useClass(Toggle, config);\n\tconst state = useControlledState(\n\t\tdefaultSelected,\n\t\tselected,\n\t\ttypeof selected !== 'undefined'\n\t);\n\n\tconst props = {disabled: config.disabled, onToggle: config.onToggle};\n\ttoggle.setContext(props, ...state);\n\n\treturn {\n\t\tactivate: toggle.handleActivate,\n\t\tdeactivate: toggle.handleDeactivate,\n\t\ttoggle: toggle.handleToggle,\n\t\tselected: toggle.value\n\t};\n}\n\nexport default useToggle;\nexport {\n\tuseToggle\n};\n","/**\n * A higher-order component at handles toggle state.\n *\n * @module ui/Toggleable\n * @exports Toggleable\n */\n\nimport handle, {adaptEvent, forward} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport useHandlers from '@enact/core/useHandlers';\nimport {cap} from '@enact/core/util';\nimport PropTypes from 'prop-types';\nimport pick from 'ramda/src/pick';\nimport React from 'react';\nimport warning from 'warning';\n\nimport {useToggle} from './useToggle';\n\n/**\n * Default config for `Toggleable`.\n *\n * @memberof ui/Toggleable.Toggleable\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Configures the event name that activates the component.\n\t *\n\t * **Note**: When using `activate`/`deactivate`, the event payload will only forward the original\n\t * event and not include toggled `prop` value. Use `toggle` to receive toggled value from the\n\t * event payload.\n\t *\n\t * Example:\n\t * ```\n\t * const ToggleItem = Toggleable({activate: 'onFocus', deactivate: 'onBlur'}, Item);\n\t *\n\t * handleEvent = (ev) => {\n\t * \t// do something with `ev.selected` here\n\t * }\n\t *\n\t * <ToggleItem onToggle={handleEvent}>This is a toggle item</Item>\n\t *\n\t * @type {String}\n\t * @memberof ui/Toggleable.Toggleable.defaultConfig\n\t */\n\tactivate: null,\n\n\t/**\n\t * Configures the event name that deactivates the component.\n\t *\n\t * **Note**: When using `activate`/`deactivate`, the event payload will only forward the original\n\t * event and not include toggled `prop` value. Use `toggle` to receive toggled value from the\n\t * event payload.\n\t *\n\t * Example:\n\t * ```\n\t * const ToggleItem = Toggleable({activate: 'onFocus', deactivate: 'onBlur'}, Item);\n\t *\n\t * handleEvent = (ev) => {\n\t * \t// do something with `ev.selected` here\n\t * }\n\t *\n\t * <ToggleItem onToggle={handleEvent}>This is a toggle item</Item>\n\t * ```\n\t * @type {String}\n\t * @memberof ui/Toggleable.Toggleable.defaultConfig\n\t */\n\tdeactivate: null,\n\n\t/**\n\t * Configures additional props to attach to the event that is sent when toggled.\n\t *\n\t * @type {String[]}\n\t * @default []\n\t * @memberof ui/Toggleable.Toggleable.defaultConfig\n\t */\n\teventProps: [],\n\n\t/**\n\t * Configures the property that is passed to the wrapped component when toggled.\n\t *\n\t * @type {String}\n\t * @default 'selected'\n\t * @memberof ui/Toggleable.Toggleable.defaultConfig\n\t */\n\tprop: 'selected',\n\n\t/**\n\t * Configures the event name that toggles the component.\n\t *\n\t * The payload includes a toggled Boolean value of `prop`.\n\t *\n\t * **Note**: The payload will override the original event. If a native event is set, then the native\n\t * event payload will be lost.\n\t *\n\t * @type {String}\n\t * @default 'onToggle'\n\t * @memberof ui/Toggleable.Toggleable.defaultConfig\n\t */\n\ttoggle: 'onToggle',\n\n\t/**\n\t * Allows you to remap the incoming `toggle` callback to an event name of your choosing.\n\t *\n\t * For example, run `onToggle` when the wrapped component has an `onClick` property and you've specified\n\t * `onClick` here.\n\t *\n\t * @type {String}\n\t * @default null\n\t * @memberof ui/Toggleable.Toggleable.defaultConfig\n\t */\n\ttoggleProp: null\n};\n\n/**\n * A higher-order component that applies a 'toggleable' behavior to its wrapped component.\n *\n * Its default event and property can be configured when applied to a component.\n *\n * Note: This HoC passes a number of props to the wrapped component that should be passed to the\n * main DOM node or consumed by the wrapped component.\n *\n * Example:\n * ```\n * const Item = ({selected, ...rest}) => (<div {...rest}>{selected}</div>);\n * ...\n * const ToggleItem = Toggleable({toggleProp: 'onClick'}, Item);\n * ```\n *\n * @class Toggleable\n * @memberof ui/Toggleable\n * @hoc\n * @public\n */\nconst ToggleableHOC = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {activate, deactivate, eventProps, prop, toggle, toggleProp} = config;\n\tconst defaultPropKey = 'default' + cap(prop);\n\n\tconst forwardWithEventProps = eventName => adaptEvent(\n\t\t(ev, props) => ({...pick(eventProps, props), ...ev}),\n\t\tforward(eventName)\n\t);\n\tconst forwardActivate = forwardWithEventProps(activate);\n\tconst forwardDeactivate = forwardWithEventProps(deactivate);\n\tconst forwardToggle = forwardWithEventProps(toggle);\n\tconst forwardToggleProp = forwardWithEventProps(toggleProp);\n\n\tconst toggleHandlers = {\n\t\tonToggle: handle(\n\t\t\t(ev, props, context) => (context.toggle()),\n\t\t\tforwardToggleProp\n\t\t),\n\t\tonActivate: handle(\n\t\t\t(ev, props, context) => (context.activate()),\n\t\t\tforwardActivate\n\t\t),\n\t\tonDeactivate: handle(\n\t\t\t(ev, props, context) => (context.deactivate()),\n\t\t\tforwardDeactivate\n\t\t)\n\t};\n\n\tfunction Toggleable (props) {\n\t\tconst updated = {...props};\n\t\tconst propSelected = props[prop];\n\n\t\tconst hook = useToggle({\n\t\t\tdefaultSelected: props[defaultPropKey],\n\t\t\tdisabled: props.disabled,\n\t\t\tonToggle: (ev) => forwardToggle(ev, props),\n\t\t\tprop,\n\n\t\t\t// FIXME: Current behavior for Toggleable treats `null` as undefined so we coerce it\n\t\t\t// here to maintain that behavior while using useControlledState.\n\t\t\t// eslint-disable-next-line no-undefined\n\t\t\tselected: propSelected == null ? undefined : propSelected\n\t\t});\n\t\tconst handlers = useHandlers(toggleHandlers, props, hook);\n\n\t\twarning(\n\t\t\t!(prop in props && defaultPropKey in props),\n\t\t\t`Do not specify both '${prop}' and '${defaultPropKey}' for Toggleable instances.\n\t\t\t'${defaultPropKey}' will be ignored unless '${prop}' is 'null' or 'undefined'.`\n\t\t);\n\n\t\t// FIXME: Current behavior is to use `false` when switching from a truthy value to\n\t\t// either null or undefined. The ternary below enforces that but we don't want to\n\t\t// continue this exception in the future and should sunset it with this HOC.\n\t\tconst {current: instance} = React.useRef({selected: null});\n\t\tconst selected = (instance.selected && propSelected == null) ? false : hook.selected;\n\t\tinstance.selected = propSelected;\n\n\t\tif (prop) {\n\t\t\tupdated[prop] = selected;\n\t\t}\n\n\t\tif (toggleProp || toggle) {\n\t\t\tupdated[toggleProp || toggle] = handlers.onToggle;\n\t\t}\n\n\t\tif (activate) {\n\t\t\tupdated[activate] = handlers.onActivate;\n\t\t}\n\n\t\tif (deactivate) {\n\t\t\tupdated[deactivate] = handlers.onDeactivate;\n\t\t}\n\n\t\tdelete updated[defaultPropKey];\n\n\t\treturn (\n\t\t\t<Wrapped {...updated} />\n\t\t);\n\t}\n\n\tToggleable.propTypes = {\n\t\t/**\n\t\t * Default toggled state applied at construction when the toggled prop is `undefined` or\n\t\t * `null`.\n\t\t *\n\t\t * @name defaultSelected\n\t\t * @memberof ui/Toggleable.Toggleable.prototype\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\t[defaultPropKey]: PropTypes.bool,\n\n\t\t/**\n\t\t * Whether or not the component is in a disabled state.\n\t\t *\n\t\t * @memberof ui/Toggleable.Toggleable.prototype\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Current toggled state.\n\t\t *\n\t\t * When set at construction, the component is considered 'controlled' and will only\n\t\t * update its internal value when updated by new props. If undefined, the component\n\t\t * is 'uncontrolled' and `Toggleable` will manage the toggled state using callbacks\n\t\t * defined by its configuration.\n\t\t *\n\t\t * @name selected\n\t\t * @memberof ui/Toggleable.Toggleable.prototype\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\t[prop]: PropTypes.bool,\n\n\t\t/**\n\t\t * Event callback to notify that state should be toggled.\n\t\t *\n\t\t * @name onToggle\n\t\t * @memberof ui/Toggleable.Toggleable.prototype\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\t[toggle]: PropTypes.func\n\t};\n\n\tToggleable.defaultProps = {\n\t\tdisabled: false\n\t};\n\n\treturn Toggleable;\n});\n\nexport default ToggleableHOC;\nexport {\n\tToggleableHOC as Toggleable,\n\tuseToggle\n};\n","/**\n * A higher-order component that handles component resize event.\n *\n * @module ui/Resizable\n * @exports Resizable\n */\n\nimport {call, forward, handle} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport invariant from 'invariant';\nimport React from 'react';\n\n/**\n * Used internally for things to notify children that they need to resize because of a parent\n * update.\n *\n * @type Object\n * @private\n */\nconst ResizeContext = React.createContext();\n\n/**\n * Default config for `Resizable`.\n *\n * @memberof ui/Resizable.Resizable\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * A handler to process the `resize` event.\n\t *\n\t * It should return a truthy value if the event should trigger a resize.\n\t *\n\t * @type {Function}\n\t * @default null\n\t * @see {@link core/handle}\n\t * @memberof ui/Resizable.Resizable.defaultConfig\n\t */\n\tfilter: null,\n\n\t/**\n\t * The name of the event on the wrapped component to listen to for size changes.\n\t *\n\t * This event name will be passed to the wrapped component and will also be forwarded (if\n\t * needed) to the parent component.\n\t *\n\t * @type {String}\n\t * @required\n\t * @memberof ui/Resizable.Resizable.defaultConfig\n\t */\n\tresize: null\n};\n\n/**\n * A higher-order component that notifies a container that the wrapped component has been resized.\n *\n * It may be useful in cases where a component may need to update itself as a result of its children\n * changing in size, such as a [Scroller]{@link ui/Scroller}.\n *\n * Containers must provide an `invalidateBounds` method via React's context in order for `Resizable`\n * instances to notify it of resize.\n *\n * The wrapped component must respond to the configured\n * [resize]{@link ui/Resizable.Resizable.defaultConfig.resize} event.\n *\n * @class Resizable\n * @memberof ui/Resizable\n * @hoc\n * @public\n */\nconst Resizable = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {filter, resize} = config;\n\n\tinvariant(resize, `resize is required by Resizable but was omitted when applied to ${Wrapped.displayName}`);\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'Resizable';\n\n\t\tstatic contextType = ResizeContext;\n\n\t\tcomponentDidMount () {\n\t\t\tif (this.context && typeof this.context === 'function') {\n\t\t\t\t// Registry requires a callback but (for now at least) Resizable doesn't respond to\n\t\t\t\t// upstream events so we're initializing a no-op function to \"handle\" callbacks\n\t\t\t\tthis.resizeRegistry = this.context(() => {});\n\t\t\t}\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tif (this.resizeRegistry) {\n\t\t\t\tthis.resizeRegistry.unregister();\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t * Notifies a container that a resize is necessary\n\t\t *\n\t\t * @returns {undefined}\n\t\t * @private\n\t\t */\n\t\tinvalidateBounds () {\n\t\t\tif (this.resizeRegistry) {\n\t\t\t\tthis.resizeRegistry.notify({action: 'invalidateBounds'});\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t * Handles the event that indicates a resize is necessary\n\t\t *\n\t\t * @param   {Object}    ev  Event payload\n\t\t *\n\t\t * @returns {undefined}\n\t\t * @private\n\t\t */\n\t\thandleResize = handle(\n\t\t\tforward(resize),\n\t\t\t// optionally filter the event before notifying the container\n\t\t\tfilter,\n\t\t\tcall('invalidateBounds')\n\t\t).bind(this);\n\n\t\trender () {\n\t\t\tconst props = Object.assign({}, this.props);\n\t\t\tprops[resize] = this.handleResize;\n\n\t\t\treturn <Wrapped {...props} />;\n\t\t}\n\t};\n});\n\nexport default Resizable;\nexport {\n\tResizable,\n\tResizeContext\n};\n","/**\n * Provides a class which allows consumers to safely pause and resume spotlight without resuming\n * another consumer's pause.\n *\n * When multiple components attempt to pause and resume spotlight at overlapping times using\n * [Spotlight.pause()]{@link spotlight.Spotlight.pause} and\n * [Spotlight.resume()]{@link spotlight.Spotlight.resume}, one component might resume spotlight when\n * another expected it to still be paused.\n *\n * `Pause` helps to address this by setting a \"soft lock\" on the pause which informs other instances\n * that the spotlight pause state is being controlled. When pause is locked, it can only be resumed\n * by the instance that locked it. Subsequent calls to `pause` and `resume` on another instance of\n * `Pause` have no effect.\n *\n * *Note:* The top-level [Spotlight.pause()]{@link spotlight.Spotlight.pause} and\n * [Spotlight.resume()]{@link spotlight.Spotlight.resume} do not respect the pause locks and act as\n * a user-space escape hatch.\n *\n * ```\n * import Pause from '@enact/spotlight/Pause';\n *\n * const paused1 = new Pause('paused 1');\n * const paused2 = new Pause('paused 2');\n *\n * // pauses spotlight\n * paused1.pause();\n *\n * // has no effect because pause1 is in control\n * paused2.pause();\n *\n * // has no effect because pause1 is in control\n * paused2.resume();\n *\n * // resumes spotlight\n * paused1.resume();\n *\n * ```\n *\n * @module spotlight/Pause\n * @exports Pause\n * @exports isPaused\n * @exports pause\n * @exports resume\n */\n\nlet paused = false;\n\n// Private, exported methods used by Spotlight to set and query the pause state from its public API\n\nfunction pause () {\n\tpaused = true;\n}\n\nfunction resume () {\n\tpaused = false;\n}\n\nfunction isPaused () {\n\treturn paused !== false;\n}\n\n/**\n * Acts as a semaphore for Spotlight pause state ensuring that only the last Pause instance can\n * resume Spotlight.\n *\n * *Note* {@link spotlight/Spotlight.resume} will always resume spotlight regardless of what last\n * paused spotlight and can be used as an escape hatch to force resumption.\n *\n * @class Pause\n * @memberof spotlight/Pause\n * @public\n */\nclass Pause {\n\n\t/**\n\t * Accepts a name for the instance\n\t *\n\t * The `name` is not used but may be useful for debugging which instance has currently paused\n\t * Spotlight.\n\t *\n\t * @param {String} name The name of the pause instance\n\t * @memberof spotlight/Pause.Pause.prototype\n\t * @constructor\n\t * @public\n\t */\n\tconstructor (name) {\n\t\tthis.name = name;\n\t}\n\n\ttoString () {\n\t\treturn `Pause<${this.name}>`;\n\t}\n\n\t/**\n\t * Returns `true` when Spotlight is paused by this instance\n\t *\n\t * @returns {Boolean}\n\t * @memberof spotlight/Pause.Pause.prototype\n\t * @public\n\t */\n\tisPaused () {\n\t\treturn paused === this;\n\t}\n\n\t/**\n\t * Pauses spotlight if not currently paused\n\t *\n\t * @returns {undefined}\n\t * @memberof spotlight/Pause.Pause.prototype\n\t * @public\n\t */\n\tpause () {\n\t\tif (!isPaused()) {\n\t\t\tpaused = this;\n\t\t}\n\t}\n\n\t/**\n\t * Resumes spotlight if this instance was the last to pause spotlight\n\t *\n\t * @returns {Boolean} `true` if spotlight was resumed\n\t * @memberof spotlight/Pause.Pause.prototype\n\t * @public\n\t */\n\tresume () {\n\t\tif (this.isPaused()) {\n\t\t\tresume();\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n}\n\nexport default Pause;\nexport {\n\tPause,\n\tisPaused,\n\tpause,\n\tresume\n};\n","/**\n * Exports methods and members for working with pointer events in spotlight\n *\n * @module spotlight/pointer\n * @private\n */\n\nimport {is} from '@enact/core/keymap';\nimport {Job} from '@enact/core/util';\n\n/*\n * Whether Spotlight is in pointer mode (as opposed to 5-way mode).\n *\n * @type {Boolean}\n * @default true\n * @private\n */\nlet _pointerMode = true;\n\n/**\n * Sets the current pointer mode\n *\n * @param   {Boolean} pointerMode `true` to enable pointer mode; `false` to disable pointer mode\n * @memberof spotlight/pointer\n * @private\n */\nconst setPointerMode = (pointerMode) => {\n\t_pointerMode = pointerMode;\n};\n\n/**\n * Gets the current pointer mode\n *\n * @returns {Boolean} The current state of pointer mode\n * @memberof spotlight/pointer\n * @private\n */\nconst getPointerMode = () => {\n\treturn _pointerMode;\n};\n\n// Cached pointer position\nlet _pointerX = null;\nlet _pointerY = null;\n\n/**\n * Returns whether or not the current pointer position matches the provided coordinates\n *\n * @param   {Number} x Pointer position relative to the left side of the viewport\n * @param   {Number} y Pointer position relative to the top side of the viewport\n *\n * @returns {Boolean}   `true` if the position was changed\n * @memberof spotlight/pointer\n * @private\n */\nconst hasPointerMoved = (x, y) => (\n\tx !== _pointerX || y !== _pointerY\n);\n\n/**\n * Updates the cached pointer position, updating the current pointer mode when the position has\n * changed.\n *\n * @param   {Number} x Pointer position relative to the left side of the viewport\n * @param   {Number} y Pointer position relative to the top side of the viewport\n *\n * @returns {Boolean}   `true` if the position was updated\n * @memberof spotlight/pointer\n * @private\n */\nconst updatePointerPosition = (x, y) => {\n\t// Chrome emits mousemove on scroll, but client coordinates do not change.\n\tif (hasPointerMoved(x, y)) {\n\t\tsetPointerMode(true);\n\t\t_pointerX = x;\n\t\t_pointerY = y;\n\n\t\treturn true;\n\t}\n\n\treturn false;\n};\n\n/**\n * Returns the last known position of the pointer\n *\n * @returns {Object} Contains `x` and `y` coordinates for the pointer\n * @memberof spotlight/pointer\n * @private\n */\nconst getLastPointerPosition = () => {\n\treturn {\n\t\tx: _pointerX,\n\t\ty: _pointerY\n\t};\n};\n\n// 30ms (_pointerHiddenToKeyTimeout) is semi-arbitrary, to account for the time it takes for the\n// following directional key event to fire, and to prevent momentary spotting of the last\n// focused item - needs to be a value large enough to account for the potentially-trailing\n// event, but not too large that another unrelated event can be fired inside the window\nconst hidePointerJob = new Job(function (callback) {\n\tsetPointerMode(false);\n\tif (callback) {\n\t\tcallback();\n\t}\n}, 30);\n\n\n/**\n * Notifies spotlight of a change in the pointer position\n *\n * @param   {Node}     target   Node under the pointer\n * @param   {Number}   x        Horizontal position relative to the left side of the viewport\n * @param   {Number}   y        Vertical position relative to the top side of the viewport\n *\n * @returns {Boolean}           `true` if the change in position results in a change in focus\n * @memberof spotlight/pointer\n * @private\n */\nconst notifyPointerMove = (current, target, x, y) => {\n\tconst priorPointerMode = getPointerMode();\n\n\tif (updatePointerPosition(x, y)) {\n\t\t// if we're entering pointer mode and the target element isn't within the currently\n\t\t// focused element, there may be a new navigable target\n\t\treturn !priorPointerMode || !current || !current.contains(target);\n\t}\n\n\t// the pointer hasn't actually moved (surprise!)\n\treturn false;\n};\n\n/**\n * Notifies the pointer module of key events. If the pointer should be hidden, a timer is set and\n * `callback` is invoked after the timer has expired and pointer mode has been disabled. For any\n * other type of key event, pointer mode is disabled and `false` is returned.\n *\n * @param   {Number}    keyCode     Key event key code\n * @param   {Function}  [callback]  Optional callback to invoke upon hiding the pointer.\n *\n * @returns {Boolean}               `true` for pointer hide or show key events\n * @memberof spotlight/pointer\n * @private\n */\nconst notifyKeyDown = (keyCode, callback) => {\n\tconst palmSystem = window.PalmSystem;\n\n\t// for hide/show pointer events, handle them and return true\n\tif (is('pointerHide', keyCode)) {\n\t\thidePointerJob.start(callback);\n\t\treturn true;\n\t} else if (is('pointerShow', keyCode)) {\n\t\tsetPointerMode(true);\n\t\treturn true;\n\t} else if (\n\t\t!is('nonModal', keyCode) &&\n\t\t!is('cancel', keyCode) &&\n\t\t!(is('enter', keyCode) && palmSystem && palmSystem.cursor && palmSystem.cursor.visibility)\n\t) {\n\t\tsetPointerMode(false);\n\t}\n\n\treturn false;\n};\n\nexport {\n\tgetLastPointerPosition,\n\tgetPointerMode,\n\thasPointerMoved,\n\tnotifyKeyDown,\n\tnotifyPointerMove,\n\tsetPointerMode,\n\tupdatePointerPosition\n};\n","import clamp from 'ramda/src/clamp';\nimport PropTypes from 'prop-types';\n\nconst Tracking = {\n\tUntracked: 0,\n\tActive: 1,\n\tPaused: 2\n};\n\nclass Drag {\n\tdragConfig = null;\n\n\tisDragging = () => this.dragConfig != null;\n\n\tsetContainerBounds = (node) => {\n\t\tconst {global: isGlobal, boxSizing} = this.dragConfig;\n\t\tlet bounds = null;\n\n\t\tif (!node) return;\n\n\t\tif (isGlobal) {\n\t\t\tbounds = {\n\t\t\t\tminX: 0,\n\t\t\t\tminY: 0,\n\t\t\t\tmaxX: window.innerWidth,\n\t\t\t\tmaxY: window.innerHeight\n\t\t\t};\n\t\t} else {\n\t\t\tbounds = node.getBoundingClientRect();\n\n\t\t\t// adjust for padding when using content-box\n\t\t\tif (boxSizing === 'content-box') {\n\t\t\t\tconst computedStyle = window.getComputedStyle(node);\n\t\t\t\tbounds = {\n\t\t\t\t\tminX: bounds.left + parseInt(computedStyle.paddingLeft),\n\t\t\t\t\tminY: bounds.top + parseInt(computedStyle.paddingTop),\n\t\t\t\t\tmaxX: bounds.right - parseInt(computedStyle.paddingRight),\n\t\t\t\t\tmaxY: bounds.bottom - parseInt(computedStyle.paddingBottom)\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tthis.bounds = bounds;\n\t};\n\n\tupdatePosition = (clientX, clientY) => {\n\t\tconst {maxX, maxY, minX, minY} = this.bounds;\n\n\t\tconst x = clamp(minX, maxX, clientX) - minX;\n\t\tconst y = clamp(minY, maxY, clientY) - minY;\n\n\t\tif (x !== this.x || y !== this.y) {\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\tbegin = (config, {noResume, onDrag, onDragEnd, onDragStart}, coords, node) => {\n\t\tif (!onDrag && !onDragStart && !onDragEnd) return;\n\n\t\tconst {x, y} = coords;\n\n\t\tthis.tracking = Tracking.Untracked;\n\t\tthis.startX = x;\n\t\tthis.startY = y;\n\n\t\tthis.dragConfig = {\n\t\t\t...config,\n\t\t\tnode,\n\t\t\tonDragStart,\n\t\t\tonDragEnd,\n\t\t\tonDrag,\n\t\t\tresume: !noResume\n\t\t};\n\n\t\tthis.setContainerBounds(node);\n\t\tthis.move(coords);\n\t};\n\n\t// This method will get the `onDrag`, `onDragEnd`, `onDragStart` props in the existing `dragConfig`.\n\tupdateProps = ({onDrag, onDragEnd, onDragStart}) => {\n\t\t// Check `isDragging` gesture is not in progress. Check if gesture exists before updating the references to the `dragConfig`\n\t\tif (!this.isDragging()) return;\n\n\t\t// This will update the `dragConfig` with the new value\n\t\tthis.dragConfig.onDragStart = onDragStart;\n\t\tthis.dragConfig.onDrag = onDrag;\n\t\tthis.dragConfig.onDragEnd = onDragEnd;\n\t};\n\n\tmove = (coords) => {\n\t\tif (!this.isDragging()) return;\n\n\t\tconst {moveTolerance, onDrag, onDragStart} = this.dragConfig;\n\n\t\tif (this.tracking === Tracking.Untracked) {\n\t\t\tconst dx = coords.x - this.startX;\n\t\t\tconst dy = coords.y - this.startY;\n\n\t\t\tif (Math.sqrt(dx * dx + dy * dy) >= moveTolerance) {\n\t\t\t\tthis.tracking = Tracking.Active;\n\n\t\t\t\tif (onDragStart) {\n\t\t\t\t\tonDragStart({\n\t\t\t\t\t\ttype: 'onDragStart',\n\t\t\t\t\t\t...coords\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (onDrag && this.tracking === Tracking.Active && this.updatePosition(coords)) {\n\t\t\tonDrag({\n\t\t\t\ttype: 'onDrag',\n\t\t\t\t...coords\n\t\t\t});\n\t\t}\n\t};\n\n\tblur = () => {\n\t\tif (!this.isDragging()) return;\n\n\t\tif (!this.dragConfig.global) {\n\t\t\tthis.end();\n\t\t}\n\t};\n\n\tend = () => {\n\t\tif (!this.isDragging()) return;\n\n\t\tconst {onDragEnd} = this.dragConfig;\n\t\tif (onDragEnd && this.tracking !== Tracking.Untracked) {\n\t\t\tonDragEnd({type: 'onDragEnd'});\n\t\t}\n\n\t\tthis.tracking = Tracking.Untracked;\n\t\tthis.dragConfig = null;\n\t};\n\n\tenter = () => {\n\t\tif (!this.isDragging()) return;\n\n\t\tif (this.dragConfig.resume && this.tracking === Tracking.Paused) {\n\t\t\tthis.tracking = Tracking.Active;\n\t\t}\n\t};\n\n\tleave = () => {\n\t\tif (!this.isDragging()) return;\n\n\t\tif (!this.dragConfig.global && this.tracking === Tracking.Active) {\n\t\t\tthis.tracking = Tracking.Paused;\n\t\t}\n\t};\n\n}\n\nconst defaultDragConfig = {\n\tboxSizing: 'border-box',\n\tglobal: false,\n\tmoveTolerance: 16\n};\n\nconst dragConfigPropType = PropTypes.shape({\n\tboxSizing: PropTypes.string,\n\tglobal: PropTypes.bool,\n\tmoveTolerance: PropTypes.number\n});\n\nexport default Drag;\nexport {\n\tdefaultDragConfig,\n\tDrag,\n\tdragConfigPropType\n};\n","import {Job} from '@enact/core/util';\nimport PropTypes from 'prop-types';\n\nclass Flick {\n\tconstructor () {\n\t\tthis.tracking = false;\n\t\tthis.moves = [];\n\t}\n\n\tisTracking () {\n\t\treturn this.tracking;\n\t}\n\n\tbegin = ({maxDuration, maxMoves, minVelocity}, {onFlick}, coords) => {\n\t\tthis.minVelocity = minVelocity;\n\t\tthis.maxMoves = maxMoves;\n\n\t\tif (maxDuration !== null) {\n\t\t\tthis.cancelJob.startAfter(maxDuration);\n\t\t}\n\t\tthis.tracking = !!onFlick;\n\t\tthis.moves.length = 0;\n\t\tthis.onFlick = onFlick;\n\n\t\tthis.move(coords);\n\t};\n\n\t// This method will get the `onFlick` props in the existing `flickConfig` values.\n\tupdateProps = ({onFlick}) => {\n\t\t// Check `tracking` gesture is not in progress. Check if gesture exists before updating the references to the `flickConfig`\n\t\tif (!this.tracking) return;\n\n\t\t// This will update the `flickConfig` with the new value\n\t\tthis.flickConfig.onFlick = onFlick;\n\t};\n\n\tmove = ({x, y}) => {\n\t\tif (!this.tracking) return;\n\n\t\tthis.moves.push({\n\t\t\tx,\n\t\t\ty,\n\t\t\tt: window.performance.now()\n\t\t});\n\n\t\t// track specified # of points\n\t\tif (this.moves.length > this.maxMoves) {\n\t\t\tthis.moves.shift();\n\t\t}\n\t};\n\n\tblur = () => {\n\t\tthis.end();\n\t};\n\n\tcancel = () => {\n\t\tthis.tracking = false;\n\t};\n\n\tcancelJob = new Job(this.cancel);\n\n\tend = () => {\n\t\tif (!this.tracking) return;\n\n\t\tthis.cancelJob.stop();\n\n\t\tconst moves = this.moves;\n\t\tif (moves.length > 1) {\n\t\t\t// note: important to use up time to reduce flick\n\t\t\t// velocity based on time between move and up.\n\t\t\tconst last = moves[moves.length - 1];\n\t\t\tconst t = window.performance.now();\n\n\t\t\tlet x = 0, y = 0;\n\n\t\t\t// take the greatest of flick between each tracked move and last move\n\t\t\tfor (let i = moves.length - 2, m; (m = moves[i]); i--) {\n\t\t\t\t// this flick (this move - last move) / (this time - last time)\n\t\t\t\tconst dt = t - m.t;\n\t\t\t\tconst vx = (last.x - m.x) / dt;\n\t\t\t\tconst vy = (last.y - m.y) / dt;\n\n\t\t\t\t// if either axis is a greater flick than previously recorded use this one\n\t\t\t\tif (Math.abs(vx) > Math.abs(x) || Math.abs(vy) > Math.abs(y)) {\n\t\t\t\t\tx = vx;\n\t\t\t\t\ty = vy;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst v = Math.sqrt(x * x + y * y);\n\t\t\tif (v > this.minVelocity) {\n\t\t\t\tconst vertical = Math.abs(y) > Math.abs(x);\n\t\t\t\t// generate the flick using the start event so it has those coordinates\n\t\t\t\t// this.sendFlick(ti.startEvent, x, y, v);\n\t\t\t\tthis.onFlick({\n\t\t\t\t\ttype: 'onFlick',\n\t\t\t\t\tdirection: vertical ? 'vertical' : 'horizontal',\n\t\t\t\t\tvelocityX: x,\n\t\t\t\t\tvelocityY: y,\n\t\t\t\t\tvelocity: v\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tthis.tracking = false;\n\t};\n}\n\nconst defaultFlickConfig = {\n\tmaxDuration: 250,\n\tmaxMoves: 5,\n\tminVelocity: 0.1\n};\n\nconst flickConfigPropType = PropTypes.shape({\n\tmaxDuration: PropTypes.number,\n\tmaxMoves: PropTypes.number,\n\tmaxVelocity: PropTypes.number\n});\n\nexport default Flick;\nexport {\n\tdefaultFlickConfig,\n\tFlick,\n\tflickConfigPropType\n};\n","import PropTypes from 'prop-types';\n\nclass Hold {\n\tconstructor () {\n\t\tthis.holdJob = null;\n\t\tthis.holdStart = null;\n\t\tthis.pulsing = false;\n\t\tthis.next = null;\n\t}\n\n\tisHolding = () => this.holdConfig != null;\n\n\tisWithinTolerance = ({x, y}) => {\n\t\tconst {moveTolerance} = this.holdConfig;\n\t\tconst dx = this.startX - x;\n\t\tconst dy = this.startY - y;\n\n\t\treturn Math.sqrt(dx * dx + dy * dy) < moveTolerance;\n\t};\n\n\tbegin = (defaultConfig, {holdConfig, noResume, onHold, onHoldEnd, onHoldPulse}, {x, y}) => {\n\t\tif (!onHold && !onHoldPulse) return;\n\n\t\tthis.startX = x;\n\t\tthis.startY = y;\n\n\t\tthis.holdConfig = {\n\t\t\t...defaultConfig,\n\t\t\t...holdConfig,\n\t\t\tonHold,\n\t\t\tonHoldEnd,\n\t\t\tonHoldPulse,\n\t\t\tresume: !noResume\n\t\t};\n\n\t\t// copy the events array since it is mutated for each hold\n\t\tthis.holdConfig.events = this.holdConfig.events.slice();\n\t\tthis.holdConfig.events.sort((a, b) => {\n\t\t\tif (a.time < b.time) return -1;\n\t\t\tif (a.time > b.time) return 1;\n\t\t\treturn 0;\n\t\t});\n\n\t\tthis.pulsing = false;\n\t\tthis.next = this.holdConfig.events.shift();\n\t\tif (this.next) {\n\t\t\tthis.holdStart = window.performance.now();\n\t\t\tthis.startJob();\n\t\t}\n\t};\n\n\t// This method will get the `onHold`, `onHoldEnd`, `onHoldPulse` props and update in the existing `holdConfig`.\n\tupdateProps = ({onHold, onHoldEnd, onHoldPulse}) => {\n\t\t// check `isHolding` gesture is not in progress. Check if gesture exists before updating the references to the `holdConfig`\n\t\tif (!this.isHolding()) return;\n\n\t\t// Update the original values with new values of the gestures\n\t\tthis.holdConfig.onHoldPulse = onHoldPulse;\n\t\tthis.holdConfig.onHold = onHold;\n\t\tthis.holdConfig.onHoldEnd = onHoldEnd;\n\t};\n\n\tmove = (coords) => {\n\t\tif (!this.isHolding()) return;\n\n\t\tconst {cancelOnMove, resume} = this.holdConfig;\n\n\t\tif (cancelOnMove) {\n\t\t\tconst shouldEnd = !this.isWithinTolerance(coords);\n\n\t\t\tif (shouldEnd) {\n\t\t\t\tif (resume) {\n\t\t\t\t\tthis.suspend();\n\t\t\t\t} else {\n\t\t\t\t\tthis.end();\n\t\t\t\t}\n\t\t\t} else if (resume && !shouldEnd) {\n\t\t\t\tthis.resume();\n\t\t\t}\n\t\t}\n\t};\n\n\tblur = () => {\n\t\tif (!this.isHolding()) return;\n\n\t\tif (!this.holdConfig.global) {\n\t\t\tthis.end();\n\t\t}\n\t};\n\n\tend = () => {\n\t\tif (!this.isHolding()) return;\n\n\t\tconst {onHoldEnd} = this.holdConfig;\n\t\tif (this.pulsing && onHoldEnd) {\n\t\t\tconst time = window.performance.now() - this.holdStart;\n\t\t\tonHoldEnd({\n\t\t\t\ttype: 'onHoldEnd',\n\t\t\t\ttime\n\t\t\t});\n\t\t}\n\n\t\tthis.suspend();\n\t\tthis.pulsing = false;\n\t\tthis.holdConfig = null;\n\t};\n\n\tenter = () => {\n\t\tif (!this.isHolding()) return;\n\n\t\tconst {cancelOnMove, resume} = this.holdConfig;\n\n\t\tif (resume && !cancelOnMove) {\n\t\t\tthis.resume();\n\t\t}\n\t};\n\n\tleave = () => {\n\t\tif (!this.isHolding()) return;\n\n\t\tconst {global: isGlobal, resume} = this.holdConfig;\n\n\t\tif (isGlobal) return;\n\n\t\tif (resume) {\n\t\t\tthis.suspend();\n\t\t} else {\n\t\t\tthis.end();\n\t\t}\n\t};\n\n\tsuspend = () => {\n\t\tclearInterval(this.holdJob);\n\t\tthis.holdJob = null;\n\t};\n\n\tresume = () => {\n\t\tif (this.holdJob !== null) return;\n\n\t\tthis.handlePulse();\n\t\tthis.startJob();\n\t};\n\n\tstartJob () {\n\t\tconst {frequency} = this.holdConfig;\n\n\t\tif (!this.holdJob) {\n\t\t\tthis.holdJob = setInterval(this.handlePulse, frequency);\n\t\t}\n\t}\n\n\thandlePulse = () => {\n\t\tconst holdTime = window.performance.now() - this.holdStart;\n\n\t\tlet n = this.next;\n\t\twhile (n && n.time <= holdTime) {\n\t\t\tconst {events, onHold} = this.holdConfig;\n\t\t\tthis.pulsing = true;\n\t\t\tif (onHold) {\n\t\t\t\tonHold({\n\t\t\t\t\ttype: 'onHold',\n\t\t\t\t\t...n\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// if the hold is canceled from the onHold handler, we should bail early and prevent\n\t\t\t// additional hold/pulse events\n\t\t\tif (!this.isHolding()) {\n\t\t\t\tthis.pulsing = false;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tn = this.next = events && events.shift();\n\t\t}\n\n\t\tif (this.pulsing) {\n\t\t\tconst {onHoldPulse} = this.holdConfig;\n\n\t\t\tif (onHoldPulse) {\n\t\t\t\tonHoldPulse({\n\t\t\t\t\ttype: 'onHoldPulse',\n\t\t\t\t\ttime: holdTime\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n}\n\nconst defaultHoldConfig = {\n\tcancelOnMove: false,\n\tevents: [\n\t\t{name: 'hold', time: 200}\n\t],\n\tfrequency: 200,\n\tglobal: false,\n\tmoveTolerance: 16\n};\n\nconst holdConfigPropType = PropTypes.shape({\n\tcancelOnMove: PropTypes.bool,\n\tevents: PropTypes.arrayOf(\n\t\tPropTypes.shape({\n\t\t\tname: PropTypes.string,\n\t\t\ttime: PropTypes.number\n\t\t})\n\t),\n\tfrequency: PropTypes.number,\n\tglobal: PropTypes.bool,\n\tmoveTolerance: PropTypes.number\n});\n\nexport default Hold;\nexport {\n\tdefaultHoldConfig,\n\tHold,\n\tholdConfigPropType\n};\n","import {defaultDragConfig} from './Drag.js';\nimport {defaultFlickConfig} from './Flick.js';\nimport {defaultHoldConfig} from './Hold.js';\n\nconst allowedDragKeys = Object.keys(defaultDragConfig);\nconst allowedFlickKeys = Object.keys(defaultFlickConfig);\nconst allowedHoldKeys = Object.keys(defaultHoldConfig);\n\n/**\n * The Global Gesture Configuration Object\n *\n * @private\n * @memberof ui/Touchable\n */\nlet config = {};\n\n// map-friendly clone method\nconst clone = o => Object.assign({}, o);\n\n// Merges two configuation objects while retaining only the allowed keys\nconst mergeGestureConfig = (current, update, allowed) => {\n\tconst cfg = {...current, ...update};\n\n\tObject.keys(cfg).forEach(key => {\n\t\tif (allowed.indexOf(key) === -1) {\n\t\t\tdelete cfg[key];\n\t\t}\n\t});\n\n\treturn cfg;\n};\n\n// Merges the current global config with the provided `cfg` and returns the result\nconst mergeConfig = (cfg) => {\n\tconst merged = {\n\t\tdrag: mergeGestureConfig(config.drag, cfg.drag, allowedDragKeys),\n\t\tflick: mergeGestureConfig(config.flick, cfg.flick, allowedFlickKeys),\n\t\thold: mergeGestureConfig(config.hold, cfg.hold, allowedHoldKeys)\n\t};\n\n\tmerged.hold.events = merged.hold.events.map(clone);\n\n\treturn merged;\n};\n\n/**\n * Configures the global gesture configuration for the application.\n *\n * Example:\n * ```\n * // Updates the `maxMoves`, `moveTolerance`, and `frequency` configurations while retaining the\n * // current value of all other configurations\n * configure({\n *     flick: {\n *         maxMoves: 10\n *     },\n *     hold: {\n *         moveTolerance: 32,\n *         frequency: 400\n *     }\n * });\n * ```\n *\n * Each type of gesture has its own set of configuration properties grouped within a separate object\n * keyed by the name of the gesture. Partial configurations may be passed and will be merged with\n * the current configuration.\n *\n * `drag`\n *\n *   * `boxSizing` - The part of the component's box model is used as the bounds of the constraint.\n *     Only applies when `global` is `false`.\n *     * `'border-box'` - the default, includes the padding and border but excludes the margin.\n *     * `'content-box'` - excludes the padding, border, and margin.\n *   * `global` - When `true`, drag gestures will continue when leaving the bounds of the component\n *      or blurring the component.\n *   * `moveTolerance` - The number of pixels from the start position of the drag that the pointer\n *     may move before cancelling the drag. Defaults to `16`.\n *\n * `flick`\n *\n *   * `maxDuration` - The amount of time, in milliseconds, to complete a flick gesture before it\n *     is cancelled. Defaults to 250.\n *   * `maxMoves` - The number of moves tracked to determine if a flick occurred. Defaults to `5`.\n *   * `minVelocity` - The minimum threshold, measured as the change in pixels over the change in\n *     time per move, that must be exceeded to generate a `onFlick` event.\n *\n * `hold`\n *\n *   * `cancelOnMove` - When `true`, the hold is cancelled when moving beyond the `moveTolerance`.\n *     Defaults to `false`\n *   * `global` - When `true`, hold gestures will continue when leaving the bounds of the component\n *      or blurring the component.\n *   * `moveTolerance` - The number of pixels from the start position of the hold that the pointer\n *     may move before cancelling the hold. Ignored when `cancelOnMove` is `false`. Defaults to\n *     `16`.\n *   * `frequency` - The time, in milliseconds, to poll for hold events. Defaults to `200`.\n *   * `events` - An array of `onHold` events which each contain a `name` and `time`. The `time`\n *     controls the amount of time that must pass before this `onHold` event is fired and should\n *     be a multiple of `frequency`.\n *\n * @function\n * @param   {Object}     cfg  A partial or complete configuration object\n *\n * @returns {undefined}\n * @public\n * @memberof ui/Touchable\n */\nconst configure = (cfg) => {\n\tconfig = mergeConfig(cfg);\n};\n\nconst getConfig = () => config;\n\nconst resetDefaultConfig = () => configure({\n\tdrag: defaultDragConfig,\n\thold: defaultHoldConfig,\n\tflick: defaultFlickConfig\n});\n\nresetDefaultConfig();\n\nexport default configure;\nexport {\n\tconfigure,\n\tgetConfig,\n\tmergeConfig,\n\tresetDefaultConfig\n};\n","const States = {\n\tInactive: 0,\n\tPaused: 1,\n\tActive: 2\n};\n\nconst setActive = (state) => ({active}) => active !== state ? {active: state} : null;\n\n// State management functions\nconst activate = setActive(States.Active);\nconst deactivate = setActive(States.Inactive);\nconst pause = ({active}) => active === States.Active ? {active: States.Paused} : null;\n\nexport {\n\tactivate,\n\tdeactivate,\n\tpause,\n\tStates\n};\n","import {platform} from '@enact/core/platform';\n\n// It's possible that emitting `onTap` will cause a DOM change before the mousedown fires resulting\n// in multiple tap/click events for the same user action. To avoid this, we store the last touchend\n// target and timestamp to compare against the next mouse down. If the timestamp is different (e.g\n// we're on a hybrid device that emitted a touch event but the next was a mouse event) or the target\n// is the same (or no previous target was set if no touch events have been emitted), we allow the\n// mousedown *across Touchable instances*.\nlet _lastTouchEnd = {\n\ttarget: null,\n\ttimeStamp: 0\n};\n\nconst shouldAllowMouseDown = (ev) => {\n\treturn ev.timeStamp !== _lastTouchEnd.timeStamp || (\n\t\tev.target === _lastTouchEnd.target ||\n\t\t_lastTouchEnd.target === null\n\t);\n};\n\nclass ClickAllow {\n\tconstructor () {\n\t\tthis.lastTouchEndTime = 0;\n\t\tthis.lastMouseUpTime = 0;\n\t}\n\n\tsetLastTouchEnd (ev) {\n\t\tif (ev && ev.type === 'touchend') {\n\t\t\tthis.lastTouchEndTime = ev.timeStamp;\n\t\t\t_lastTouchEnd.timeStamp = ev.timeStamp;\n\t\t\t_lastTouchEnd.target = ev.target;\n\t\t}\n\t}\n\n\tsetLastMouseUp (ev) {\n\t\tif (ev && ev.type === 'mouseup') {\n\t\t\tthis.lastMouseUpTime = ev.timeStamp;\n\t\t}\n\t}\n\n\tshouldAllowMouseEvent (ev) {\n\t\tconst {timeStamp} = ev;\n\n\t\t// iOS Safari sends both touch and mouse events (with differing timestamps)\n\t\treturn !platform.ios && this.lastTouchEndTime !== timeStamp && shouldAllowMouseDown(ev);\n\t}\n\n\tshouldAllowTap (ev) {\n\t\tconst {type, timeStamp} = ev;\n\n\t\t// Allow the custom tap event for a “click” when it’s actually a click and it’s not from the\n\t\t// last mouseup event which would have fired the click for us\n\t\treturn type === 'click' && this.lastMouseUpTime !== timeStamp;\n\t}\n}\n\nexport default ClickAllow;\nexport {\n\tClickAllow\n};\n","/**\n * Application support for gestures.\n *\n * @module ui/Touchable\n * @exports Touchable\n * @exports configure\n */\n\nimport {adaptEvent, call, forward, forwardWithPrevent, forProp, handle, oneOf, preventDefault, returnsTrue} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport {on, off} from '@enact/core/dispatcher';\nimport complement from 'ramda/src/complement';\nimport platform from '@enact/core/platform';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {configure, mergeConfig} from './config';\nimport {activate, deactivate, pause, States} from './state';\nimport ClickAllow from './ClickAllow';\n\nimport {Drag, dragConfigPropType} from './Drag';\nimport {Flick, flickConfigPropType} from './Flick';\nimport {Hold, holdConfigPropType} from './Hold';\n\nconst getEventCoordinates = (ev) => {\n\tlet {clientX: x, clientY: y, type} = ev;\n\tif (type.indexOf('touch') === 0) {\n\t\tx = ev.targetTouches[0].clientX;\n\t\ty = ev.targetTouches[0].clientY;\n\t}\n\n\treturn {x, y};\n};\n\n// Establish a standard payload for onDown/onUp/onTap events and pass it along to a handler\nconst makeTouchableEvent = (type) => (ev) => {\n\tconst {target, currentTarget} = ev;\n\tlet {clientX, clientY, pageX, pageY} = ev;\n\n\tif (ev.changedTouches) {\n\t\tclientX = ev.changedTouches[0].clientX;\n\t\tclientY = ev.changedTouches[0].clientY;\n\t\tpageX = ev.changedTouches[0].pageX;\n\t\tpageY = ev.changedTouches[0].pageY;\n\t}\n\n\treturn {\n\t\ttype,\n\t\ttarget,\n\t\tcurrentTarget,\n\t\tclientX,\n\t\tclientY,\n\t\tpageX,\n\t\tpageY\n\t};\n};\n\nconst isEnabled = forProp('disabled', false);\n\nconst handleDown = handle(\n\tisEnabled,\n\tadaptEvent(makeTouchableEvent('onDown'), forwardWithPrevent('onDown')),\n\tcall('activate'),\n\tcall('startGesture')\n).named('handleDown');\n\nconst handleUp = handle(\n\tisEnabled,\n\tcall('endGesture'),\n\tcall('isTracking'),\n\tadaptEvent(makeTouchableEvent('onUp'), forwardWithPrevent('onUp')),\n\tadaptEvent(makeTouchableEvent('onTap'), forward('onTap'))\n).finally(call('deactivate')).named('handleUp');\n\nconst handleEnter = handle(\n\tisEnabled,\n\tforProp('noResume', false),\n\tcall('enterGesture'),\n\tcall('isPaused'),\n\tcall('activate')\n).named('handleEnter');\n\nconst handleLeave = handle(\n\tisEnabled,\n\tcall('leaveGesture'),\n\toneOf(\n\t\t[forProp('noResume', false), call('pause')],\n\t\t[returnsTrue, call('deactivate')]\n\t)\n).named('handleLeave');\n\n// Mouse event handlers\n\nconst handleMouseDown = handle(\n\tforward('onMouseDown'),\n\tcall('shouldAllowMouseEvent'),\n\thandleDown\n);\n\nconst handleMouseEnter = handle(\n\tforward('onMouseEnter'),\n\thandleEnter\n);\n\nconst handleMouseMove = handle(\n\tforward('onMouseMove'),\n\tcall('moveGesture')\n);\n\nconst handleMouseLeave = handle(\n\tforward('onMouseLeave'),\n\thandleLeave\n);\n\nconst handleMouseUp = handle(\n\treturnsTrue(call('setLastMouseUp')),\n\tforward('onMouseUp'),\n\thandleUp\n);\n\nconst handleClick = handle(\n\tisEnabled,\n\t// wrapping another handler to always forward onClick but, if onTap should occur, it should\n\t// occur first to keep in sync with the up handler which emits onTap first\n\thandle(\n\t\tcall('shouldAllowTap'),\n\t\tcall('activate'),\n\t\thandleUp\n\t).finally(forward('onClick'))\n);\n\n// Touch event handlers\n\nconst handleTouchStart = handle(\n\tforward('onTouchStart'),\n\treturnsTrue(call('startTouch')),\n\thandleDown\n);\n\nconst handleTouchMove = handle(\n\tforward('onTouchMove'),\n\tcall('isTracking'),\n\t// we don't receive enter/leave events during a touch so we have to simulate them by\n\t// detecting when the touch leaves the boundary. oneOf returns the value of whichever\n\t// branch it follows so we append moveHold to either to handle moves that aren't\n\t// entering or leaving\n\tadaptEvent(makeTouchableEvent('onMove'), forward('onMove')),\n\toneOf(\n\t\t[call('hasTouchLeftTarget'), handleLeave],\n\t\t[returnsTrue, handleEnter]\n\t).finally(call('moveGesture'))\n);\n\nconst handleTouchEnd = handle(\n\tforward('onTouchEnd'),\n\t// block the next mousedown to prevent duplicate touchable events\n\treturnsTrue(call('setLastTouchEnd')),\n\tcall('isTracking'),\n\tcomplement(call('hasTouchLeftTarget')),\n\treturnsTrue(call('endTouch')),\n\thandleUp\n);\n\n// Global touchend/mouseup event handler to deactivate the component\nconst handleGlobalUp = handle(\n\tcall('isTracking'),\n\tcall('deactivate')\n).finally(call('endGesture'));\n\nconst handleGlobalMove = handle(\n\tcall('isTracking'),\n\tcall('containsCurrentTarget'),\n\tcall('moveGesture')\n);\n\nconst handleBlur = handle(\n\tforward('onBlur'),\n\tcall('hasFocus'),\n\tcall('blurGesture')\n);\n\n/**\n * Default config for `Touchable`.\n *\n * @memberof ui/Touchable.Touchable\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Configures the prop name to pass the active state to the wrapped component\n\t *\n\t * @type {String}\n\t * @default null\n\t * @memberof ui/Touchable.Touchable.defaultConfig\n\t */\n\tactiveProp: null\n};\n\n/**\n * A higher-order component that provides a consistent set of pointer events -- `onDown`, `onUp`,\n * and `onTap` -- across mouse and touch interfaces along with support for common gestures including\n * `onFlick`, `onDrag`, `onHold`, and `onHoldPulse`.\n *\n * Note: This HoC passes a number of props to the wrapped component that should be passed to the\n * main DOM node or consumed by the wrapped component.\n *\n * @class Touchable\n * @memberof ui/Touchable\n * @hoc\n * @public\n */\nconst Touchable = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {\n\t\tactiveProp\n\t} = config;\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'Touchable';\n\n\t\tstatic propTypes = /** @lends ui/Touchable.Touchable.prototype */ {\n\t\t\t/**\n\t\t\t * Disables the component.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tdisabled: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Instance-specific overrides of the drag configuration.\n\t\t\t *\n\t\t\t * @see {@link ui/Touchable.configure}\n\t\t\t * @type {Object}\n\t\t\t * @public\n\t\t\t */\n\t\t\tdragConfig: dragConfigPropType,\n\n\t\t\t/**\n\t\t\t * Instance-specific overrides of the flick configuration.\n\t\t\t *\n\t\t\t * @see {@link ui/Touchable.configure}\n\t\t\t * @type {Object}\n\t\t\t * @public\n\t\t\t */\n\t\t\tflickConfig: flickConfigPropType,\n\n\t\t\t/**\n\t\t\t * Instance-specific overrides of the hold configuration.\n\t\t\t *\n\t\t\t * @see {@link ui/Touchable.configure}\n\t\t\t * @type {Object}\n\t\t\t * @public\n\t\t\t */\n\t\t\tholdConfig: holdConfigPropType,\n\n\t\t\t/**\n\t\t\t * Prevents resuming the touch events and gestures when re-entering the component.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tnoResume: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Event handler for 'down' pointer events.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonDown: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for a drag gesture.\n\t\t\t *\n \t\t\t * Event payload includes:\n\t\t\t *\n\t\t\t * * `type` - Type of event, `'onDrag'`\n\t\t\t * * `x` - Horizontal position of the drag, relative to the viewport\n\t\t\t * * `y` - Vertical position of the drag, relative to the viewport\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonDrag: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for the end of a drag gesture.\n\t\t\t *\n \t\t\t * Event payload includes:\n\t\t\t *\n\t\t\t * * `type` - Type of event, `'onDragEnd'`\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonDragEnd: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for the start of a drag gesture.\n\t\t\t *\n \t\t\t * Event payload includes:\n\t\t\t *\n\t\t\t * * `type` - Type of event, `'onDragStart'`\n\t\t\t * * `x` - Horizontal position of the drag, relative to the viewport\n\t\t\t * * `y` - Vertical position of the drag, relative to the viewport\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonDragStart: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for a flick gesture.\n\t\t\t *\n\t\t\t * Event payload includes:\n\t\t\t *\n\t\t\t * * `type` - Type of event, `'onFlick'`\n\t\t\t * * `direction` - Primary direction of the flick, either `'horizontal'` or `'vertical'`\n\t\t\t * * `velocity` - Velocity of flick\n\t\t\t * * `velocityX` - Velocity of flick along te horizontal axis\n\t\t\t * * `velocityY` - Velocity of flick along te vertical axis\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonFlick: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for hold events.\n\t\t\t *\n\t\t\t * Event payload includes:\n\t\t\t *\n\t\t\t * * `type` - Type of event, `'onHold'`\n\t\t\t * * `name` - The name of the hold as configured in the events list\n\t\t\t * * `time` - Time, in milliseconds, configured for this hold which may vary slightly\n\t\t\t *            from time since the hold began\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonHold: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for the end of hold events.\n\t\t\t *\n\t\t\t * Event payload includes:\n\t\t\t *\n\t\t\t * * `type` - Type of event, `'onHoldEnd'`\n\t\t\t * * `time` - Time, in milliseconds, since the hold began\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonHoldEnd: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for hold pulse events\n\t\t\t *\n\t\t\t * Event payload includes:\n\t\t\t *\n\t\t\t * * `type` - Type of event, `'onHoldPulse'`\n\t\t\t * * `time` - Time, in milliseconds, since the hold began\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonHoldPulse: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for 'tap' pointer events\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonTap: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for 'up' pointer events\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonUp: PropTypes.func\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\tdisabled: false,\n\t\t\tnoResume: false\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.state = {\n\t\t\t\tactive: States.Inactive,\n\t\t\t\tprevDisabled: props.disabled\n\t\t\t};\n\n\t\t\tthis.config = mergeConfig({\n\t\t\t\tdrag: props.dragConfig,\n\t\t\t\tflick: props.flickConfig,\n\t\t\t\thold: props.holdConfig\n\t\t\t});\n\n\t\t\tthis.target = null;\n\t\t\tthis.targetHadFocus = false;\n\t\t\tthis.handle = handle.bind(this);\n\t\t\tthis.drag = new Drag();\n\t\t\tthis.flick = new Flick();\n\t\t\tthis.hold = new Hold();\n\n\t\t\tthis.clickAllow = new ClickAllow();\n\n\t\t\thandleClick.bindAs(this, 'handleClick');\n\t\t\thandleBlur.bindAs(this, 'handleBlur');\n\t\t\thandleMouseDown.bindAs(this, 'handleMouseDown');\n\t\t\thandleMouseEnter.bindAs(this, 'handleMouseEnter');\n\t\t\thandleMouseMove.bindAs(this, 'handleMouseMove');\n\t\t\thandleMouseLeave.bindAs(this, 'handleMouseLeave');\n\t\t\thandleMouseUp.bindAs(this, 'handleMouseUp');\n\t\t\thandleTouchStart.bindAs(this, 'handleTouchStart');\n\t\t\thandleTouchMove.bindAs(this, 'handleTouchMove');\n\t\t\thandleTouchEnd.bindAs(this, 'handleTouchEnd');\n\t\t\thandleGlobalUp.bindAs(this, 'handleGlobalUp');\n\t\t\thandleGlobalMove.bindAs(this, 'handleGlobalMove');\n\t\t}\n\n\t\tstatic getDerivedStateFromProps (props, state) {\n\t\t\tconst {disabled} = props;\n\t\t\tconst {prevDisabled} = state;\n\n\t\t\tif (prevDisabled !== disabled) {\n\t\t\t\treturn {\n\t\t\t\t\t...(activeProp && !prevDisabled && disabled && deactivate(state)),\n\t\t\t\t\tprevDisabled: disabled\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\t// ensure we clean up our internal state\n\t\t\tif (platform.touch) {\n\t\t\t\ton('touchend', this.handleGlobalUp, document);\n\t\t\t}\n\t\t\ton('mouseup', this.handleGlobalUp, document);\n\t\t\ton('mousemove', this.handleGlobalMove, document);\n\t\t}\n\n\t\tcomponentDidUpdate (prevProps) {\n\t\t\tif (!prevProps.disabled && this.props.disabled) {\n\t\t\t\tthis.clearTarget();\n\t\t\t\tthis.hold.end();\n\t\t\t}\n\n\t\t\tthis.config = mergeConfig({\n\t\t\t\tdrag: this.props.dragConfig,\n\t\t\t\tflick: this.props.flickConfig,\n\t\t\t\thold: this.props.holdConfig\n\t\t\t});\n\n\t\t\t// Update the props onHold, onHoldEnd, onHoldPulse on any gesture (hold, flick, drag).\n\t\t\tthis.hold.updateProps(this.props);\n\t\t\tthis.flick.updateProps(this.props);\n\t\t\tthis.drag.updateProps(this.props);\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tthis.clearTarget();\n\t\t\tthis.hold.end();\n\n\t\t\tif (platform.touch) {\n\t\t\t\toff('touchend', this.handleGlobalUp, document);\n\t\t\t}\n\t\t\toff('mouseup', this.handleGlobalUp, document);\n\t\t\toff('mousemove', this.handleGlobalMove, document);\n\t\t}\n\n\t\t// State Management\n\n\t\tsetTarget (target) {\n\t\t\tthis.target = target;\n\t\t}\n\n\t\tclearTarget () {\n\t\t\tthis.target = null;\n\t\t}\n\n\t\tactivate (ev) {\n\t\t\tthis.setTarget(ev.currentTarget);\n\t\t\tif (activeProp) {\n\t\t\t\tthis.setState(activate);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\tdeactivate () {\n\t\t\tthis.clearTarget();\n\t\t\tif (activeProp) {\n\t\t\t\tthis.setState(deactivate);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\tpause () {\n\t\t\tif (activeProp) {\n\t\t\t\tthis.setState(pause);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\t// Gesture Support\n\n\t\tstartTouch ({currentTarget}) {\n\t\t\ton('contextmenu', preventDefault);\n\t\t\tthis.targetBounds = currentTarget.getBoundingClientRect();\n\t\t}\n\n\t\tendTouch () {\n\t\t\toff('contextmenu', preventDefault);\n\t\t\tthis.targetBounds = null;\n\t\t}\n\n\t\tstartGesture (ev, props) {\n\t\t\tconst coords = getEventCoordinates(ev);\n\t\t\tlet {hold, flick, drag} = this.config;\n\n\t\t\tthis.hold.begin(hold, props, coords);\n\t\t\tthis.flick.begin(flick, props, coords);\n\t\t\tthis.drag.begin(drag, props, coords, this.target);\n\n\t\t\tthis.targetHadFocus = this.target === document.activeElement;\n\n\t\t\treturn true;\n\t\t}\n\n\t\tmoveGesture (ev) {\n\t\t\tconst coords = getEventCoordinates(ev);\n\n\t\t\tthis.hold.move(coords);\n\t\t\tthis.flick.move(coords);\n\t\t\tthis.drag.move(coords);\n\n\t\t\treturn true;\n\t\t}\n\n\t\tenterGesture () {\n\t\t\tthis.drag.enter();\n\t\t\tthis.hold.enter();\n\n\t\t\treturn true;\n\t\t}\n\n\t\tleaveGesture () {\n\t\t\tthis.drag.leave();\n\t\t\tthis.hold.leave();\n\n\t\t\treturn true;\n\t\t}\n\n\t\tblurGesture () {\n\t\t\tthis.targetHadFocus = false;\n\n\t\t\tthis.hold.blur();\n\t\t\tthis.flick.blur();\n\t\t\tthis.drag.blur();\n\n\t\t\treturn true;\n\t\t}\n\n\t\tendGesture () {\n\t\t\tthis.targetHadFocus = false;\n\n\t\t\tthis.hold.end();\n\t\t\tthis.flick.end();\n\t\t\tthis.drag.end();\n\n\t\t\treturn true;\n\t\t}\n\n\t\t// Event handler utilities\n\n\t\tisTracking () {\n\t\t\t// verify we had a target and the up target is still within the current node\n\t\t\treturn this.target;\n\t\t}\n\n\t\tisPaused () {\n\t\t\treturn this.state.active === States.Paused;\n\t\t}\n\n\t\thasFocus () {\n\t\t\treturn this.targetHadFocus;\n\t\t}\n\n\t\thasTouchLeftTarget (ev) {\n\t\t\treturn Array.from(ev.changedTouches).reduce((hasLeft, {pageX, pageY}) => {\n\t\t\t\tconst {left, right, top, bottom} = this.targetBounds;\n\t\t\t\treturn hasLeft && left > pageX || right < pageX || top > pageY || bottom < pageY;\n\t\t\t}, true);\n\t\t}\n\n\t\tcontainsCurrentTarget ({target}) {\n\t\t\treturn !this.target.contains(target);\n\t\t}\n\n\t\tshouldAllowMouseEvent (ev) {\n\t\t\treturn this.clickAllow.shouldAllowMouseEvent(ev);\n\t\t}\n\n\t\tshouldAllowTap (ev) {\n\t\t\treturn this.clickAllow.shouldAllowTap(ev);\n\t\t}\n\n\t\tsetLastMouseUp (ev) {\n\t\t\tthis.clickAllow.setLastMouseUp(ev);\n\t\t}\n\n\t\tsetLastTouchEnd (ev) {\n\t\t\tthis.clickAllow.setLastTouchEnd(ev);\n\t\t}\n\n\t\taddHandlers (props) {\n\t\t\tprops.onClick = this.handleClick;\n\t\t\tprops.onMouseDown = this.handleMouseDown;\n\t\t\tprops.onMouseLeave = this.handleMouseLeave;\n\t\t\tprops.onMouseMove = this.handleMouseMove;\n\t\t\tprops.onMouseEnter = this.handleMouseEnter;\n\t\t\tprops.onMouseUp = this.handleMouseUp;\n\t\t\tprops.onBlur = this.handleBlur;\n\n\t\t\tif (platform.touch) {\n\t\t\t\tprops.onTouchStart = this.handleTouchStart;\n\t\t\t\tprops.onTouchMove = this.handleTouchMove;\n\t\t\t\tprops.onTouchEnd = this.handleTouchEnd;\n\t\t\t}\n\t\t}\n\n\t\trender () {\n\t\t\tconst props = Object.assign({}, this.props);\n\n\t\t\tthis.addHandlers(props);\n\n\t\t\tdelete props.dragConfig;\n\t\t\tdelete props.flickConfig;\n\t\t\tdelete props.holdConfig;\n\t\t\tdelete props.noResume;\n\t\t\tdelete props.onDown;\n\t\t\tdelete props.onFlick;\n\t\t\tdelete props.onHold;\n\t\t\tdelete props.onHoldEnd;\n\t\t\tdelete props.onHoldPulse;\n\t\t\tdelete props.onTap;\n\t\t\tdelete props.onUp;\n\n\t\t\tif (activeProp) {\n\t\t\t\tprops[activeProp] = this.state.active !== States.Inactive;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Wrapped {...props} />\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default Touchable;\nexport {\n\tconfigure,\n\tTouchable\n};\n","// Simple Map polyfill mapping targets to a hash of names->handler[]\nconst targets = [];\nconst events = [];\n\nconst getListeners = function (target, name) {\n\tlet targetIndex = targets.indexOf(target);\n\tif (targetIndex === -1) {\n\t\ttargetIndex = targets.push(target) - 1;\n\t}\n\tconst listeners = events[targetIndex] = events[targetIndex] || {};\n\treturn (listeners[name] = listeners[name] || []);\n};\n\nconst addListener = function (target, name, fn) {\n\tconst listeners = getListeners(target, name);\n\n\tif (listeners.indexOf(fn) === -1) {\n\t\tlisteners.push(fn);\n\t\treturn true;\n\t}\n\treturn false;\n};\n\nexport default getListeners;\nexport {getListeners, addListener};\n","/**\n * Provides methods to add and remove global event listeners.\n *\n * @module core/dispatcher\n * @exports off\n * @exports on\n * @exports once\n */\n\nimport curry from 'ramda/src/curry';\n\nimport {getListeners, addListener} from './listeners';\n\n/*\n * Checks if the default target of `document` exists before returning it, otherwise returns `false`.\n *\n * @function\n *\n * @returns {Node|Boolean}\n * @memberof core/dispatcher\n * @private\n */\nconst getDefaultTarget = () => typeof document !== 'undefined' && document;\n\n/*\n * Wraps event callbacks with a try-catch block to prevent unrelated code from blocking.\n *\n * @function\n * @param\t{Event}\t\tev\tEvent payload\n * @param\t{Function}\tfn\tEvent callback\n *\n * @returns\t{undefined}\n * @memberof core/dispatcher\n * @private\n */\nconst invoker = curry(function (ev, fn) {\n\ttry {\n\t\tfn(ev);\n\t} catch (e) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error(`A ${e.name} occurred during event handling with the message '${e.message}'`);\n\t}\n});\n\n/*\n * Dispatches an event to the registered handlers.\n *\n * @function\n * @param\t{Event}\t\tev\tEvent payload\n *\n * @returns {undefined}\n * @memberof core/dispatcher\n * @private\n */\nconst dispatcher = function (ev) {\n\tconst name = ev.type;\n\tconst listeners = getListeners(ev.currentTarget, name);\n\n\tif (listeners) {\n\t\tconst inv = invoker(ev);\n\t\tlisteners.forEach(inv);\n\t}\n};\n\n/**\n * Adds a new global event listener. Duplicate event handlers will be discarded.\n *\n * @function\n * @param\t{String}\tname\t\t\t\tEvent name\n * @param\t{Function}\tfn\t\t\t\t\tEvent handler\n * @param\t{Node}\t\t[target='document']\tEvent listener target\n *\n * @returns {undefined}\n * @memberof core/dispatcher\n * @public\n */\nconst on = function (name, fn, target = getDefaultTarget()) {\n\tif (target) {\n\t\tconst added = addListener(target, name, fn);\n\n\t\tif (added && getListeners(target, name).length === 1) {\n\t\t\ttarget.addEventListener(name, dispatcher);\n\t\t}\n\t}\n};\n\n/**\n * Removes a global event listener.\n *\n * @function\n * @param\t{String}\tname\t\t\t\tEvent name\n * @param\t{Function}\tfn\t\t\t\t\tEvent handler\n * @param\t{Node}\t\t[target=`document`]\tEvent listener target\n *\n * @returns {undefined}\n * @memberof core/dispatcher\n * @public\n */\nconst off = function (name, fn, target = getDefaultTarget()) {\n\tif (target) {\n\t\tconst listeners = getListeners(target, name);\n\t\tconst index = listeners.indexOf(fn);\n\n\t\tif (index >= 0) {\n\t\t\tlisteners.splice(index, 1);\n\t\t\tif (listeners.length === 0) {\n\t\t\t\ttarget.removeEventListener(name, dispatcher);\n\t\t\t}\n\t\t}\n\t}\n};\n\n/**\n * Adds a new global event listener that removes itself after handling one event.\n *\n * @function\n * @param\t{String}\tname\t\tEvent name\n * @param\t{Function}\tfn\t\t\tEvent handler\n * @param\t{Node}\t\t[target]\tEvent listener target\n *\n * @returns {Function}\t\t\t\tThe single-use handler. To remove the handler manually, call\n *\t\t\t\t\t\t\t\t\tthe `off()` function with this as the 2nd parameter.\n * @memberof core/dispatcher\n * @public\n */\nconst once = function (name, fn, target) {\n\tconst onceFn = function (ev) {\n\t\tfn(ev);\n\t\toff(name, onceFn, target);\n\t};\n\n\ton(name, onceFn, target);\n\n\treturn onceFn;\n};\n\nexport {\n\toff,\n\ton,\n\tonce\n};\n","// Full List (Hash) of Agate Supported Icons\n//\n\n// Agate Common Icons\nconst iconList = {\n\tcirclelarge       : 0x0025EF, // shape: LARGE CIRCLE\n\tsquarelarge       : 0x002B1B, // shape: BLACK SQUARE LARGE\n\ttriangleup        : 0x0025B2, // shape: BLACK UP-POINTING TRIANGLE\n\tplus              : 0x00002B, // plus\n\tminus             : 0x00002D, // hyphen\n\tarrowup           : 0x002191, // arrowup\n\tarrowdown         : 0x002193, // arrowdown\n\tarrowleftturn     : 0x0021B6, // arrowleftturn\n\tarrowrightturn    : 0x0021B7, // arrowrightturn\n\tarrowharpoonright : 0x0021C0, // arrowharpoonright\n\tellipsis          : 0x0022EF, // ellipsis\n\tcheck             : 0x002713, // checkmark\n\tarrowstraightup   : 0x0EFFEB, // arrowstraightup\n\tarrowuturn        : 0x0EFFEC, // arrowuturn\n\tarrowlargedown    : 0x0EFFED, // caret_down_large\n\tarrowlargeup      : 0x0EFFEE, // caret_up_large\n\tarrowlargeleft    : 0x0EFFEF, // caret_left_large\n\tarrowlargeright   : 0x0EFFF0, // caret_right_large\n\tclosex            : 0x0EFFF5, // close\n\tsearch            : 0x0EFFF6, // search\n\tbluetooth2        : 0x0F000A, // bluetooth2\n\tbluetoothoff      : 0x0F000B, // bluetoothoff\n\tbright1           : 0x0F000C, // bright01\n\tbright2           : 0x0F000D, // bright02\n\tbluetooth         : 0x0F000E, // bluetooth\n\tusb               : 0x0F000F, // usb\n\tvolume0           : 0x0F0010, // volume00\n\tvolume1           : 0x0F0011, // volume01\n\tvolume2           : 0x0F0012, // volume02\n\twifi              : 0x0F0013, // wifi\n\thappyface         : 0x0F0014, // happyface\n\tnotification      : 0x0F0015, // notification\n\tpairing           : 0x0F0016, // pairing\n\tuser              : 0x0F0017, // user\n\tcalendar          : 0x0F0018, // calendar\n\tedit              : 0x0F0019, // edit\n\tgallery           : 0x0F001A, // gallery\n\tinternet          : 0x0F001B, // internet\n\tmap               : 0x0F001C, // map\n\tmusic             : 0x0F001D, // music\n\tvideo             : 0x0F001E, // video\n\tcircle            : 0x0F001F, // circle\n\tprevious          : 0x0F0020, // previous\n\tpairingdisplay    : 0x0F0021, // pairingdisplay\n\tbox               : 0x0F0022, // box\n\tplay              : 0x0F0023, // playicon\n\tprevioustrack     : 0x0F0024, // previoustrack\n\tpause             : 0x0F0025, // pause\n\tnexttrack         : 0x0F0026, // nexttrack\n\trepeat            : 0x0F0027, // repeat\n\tshuffle           : 0x0F0028, // shuffle\n\terror             : 0x0F002A, // error\n\tsetting           : 0x0F002B, // setting\n\tpopupstop         : 0x0F0035, // popupstop\n\taccept            : 0x0F0036, // accept\n\tdecline           : 0x0F0037, // decline\n\tstop              : 0x0F0038, // stop\n\tcancel            : 0x0F0039, // cancel\n\tcarspeaker        : 0x0F003A, // carspeaker\n\tspeaker           : 0x0F003B, // speaker\n\tearphone          : 0x0F003C, // earphone\n\tdetail            : 0x0F003D, // detail\n\tinstall           : 0x0F003E, // install\n\tsend              : 0x0F003F, // send\n\tnetbook           : 0x0F0040, // netbook\n\tpad               : 0x0F0041, // pad\n\tmobile            : 0x0F0042, // mobile\n\tupdate            : 0x0F0043, // update\n\tbackapp           : 0x0F0044, // backapp\n\tuninstall         : 0x0F0045, // uninstall\n\train              : 0x0F0060, // rain\n\traindrops         : 0x0F0061, // raindrops\n\traincloud         : 0x0F0062, // raincloud\n\tsnow              : 0x0F0063, // snow\n\tcloud             : 0x0F0064, // cloud\n\tice               : 0x0F0065, // ice\n\tfog               : 0x0F0066, // fog\n\tsun               : 0x0F0067, // sun\n\tprofileA1         : 0x0F008A, // profileA1\n\tprofileA2         : 0x0F008B, // profileA2\n\tprofileA3         : 0x0F008C, // profileA3\n\tprofileA4         : 0x0F008D, // profileA4\n\tprofileB1         : 0x0F008E, // profileB1\n\tprofileB2         : 0x0F008F, // profileB2\n\tprofileB3         : 0x0F0090, // profileB3\n\tprofileB4         : 0x0F0091, // profileB4\n\tprofileC1         : 0x0F0092, // profileC1\n\tprofileC2         : 0x0F0093, // profileC2\n\tprofileC3         : 0x0F0094, // profileC3\n\tprofileC4         : 0x0F0095, // profileC4\n\tac                : 0x0F00B2, // ac\n\tauto              : 0x0F00B3, // auto\n\tairmode           : 0x0F00B4, // air_mode\n\tairdown           : 0x0F00B5, // air_down\n\tairright          : 0x0F00B6, // air_right\n\tairup             : 0x0F00B7, // air_up\n\theatseatleft      : 0x0F00B8, // seat_heat_left\n\theatseatright     : 0x0F00B9, // seat_heat_right\n\taircirculation    : 0x0F00BA, // air_circulation\n\tfan               : 0x0F00BB, // fan\n\tdefrosterfront    : 0x0F00BC, // defroster_front\n\tdefrosterback     : 0x0F00BD, // defroster_back\n\tairflow           : 0x0F00BE, // airflow\n\thome              : 0x0F00BF, // home\n\ttemperature       : 0x0F00C0, // temperature_icon\n\tcompass           : 0x0F00C1, // compass\n\tphone             : 0x0F00C2, // phone\n\tfanoff            : 0x0F00C9, // fan_off\n\tdatetime          : 0x0F00CB, // date_time\n\tdisplay           : 0x0F00CC, // display\n\tseatbelt          : 0x0F00CD, // seat_belt\n\tapps              : 0x0F00CF, // apps\n\tclimate           : 0x0F00D0, // climate\n\tdashboard         : 0x0F00D1, // dashboard\n\texpand            : 0x0F00D3, // expand\n\tradio             : 0x0F00D4, // radio\n\trearscreen        : 0x0F00D5, // rear_screen\n\tweather           : 0x0F00D6, // weather\n\tfullscreen        : 0x0F00E1, // fullscreen\n\tmenu              : 0x0F00E2, // menu\n\thistory           : 0x0F00E3, // history\n\tbrowser           : 0x0F00E4, // browser\n\tlock              : 0x0F00E5, // lock\n\tsearch2           : 0x0F00E6, // search2\n\tbookmark          : 0x0F00E7, // bookmark\n\tstar              : 0x0F00E8, // star_full\n\tstarhollow        : 0x0F00E9, // star_empty\n\tstarhalf          : 0x0F00EA, // star_half\n\trefresh           : 0x0F00EB, // refresh\n\ttime              : 0x0F00E3, // time\n\tpausebold         : 0x0F002D, // pause2\n\tplaybold          : 0x0F002E, // play2\n\tcontrols          : 0x0F00EC, // controls\n\tdiagnostics       : 0x0F00ED, // diagnostics\n\tmapbox            : 0x0F00EE, // mapbox\n\tdisplaycontrol    : 0x0F00EF, // displaycontrol\n\tcontrolleft       : 0x0F00F0, // controlleft\n\tcontrolright      : 0x0F00F1, // controlright\n\tmainpage          : 0x0F00F2, // mainpage\n\tplaylist          : 0x0F00F3, // playlist\n\tresume            : 0x0F00F4, // resume\n\ttrailer           : 0x0F00F5, // trailer\n\tplusbold          : 0x0F00F6, // plus2\n\tminusbold         : 0x0F00F7  // minus2\n};\n\n// Silicon-specific Icons\n// The common icons are layered into the @font-face definition in the font definition file.\nconst iconListSilicon = {\n\t...iconList,\n\tarrowleft         : 0x002190, // arrowleft\n\tarrowturnleft     : 0x0021B0, // arrowturnleft\n\tarrowturnright    : 0x0021B1, // arrowturnright\n\tbackspace         : 0x002408, // backspace\n\ttriangle          : 0x0025B2, // triangle\n\ttrianglehollow    : 0x0025B3, // trianglehollow\n\trewind            : 0x0F0030, // rewind\n\trewindprevious    : 0x0F0031, // rewindprevious\n\tstopsquare        : 0x0F0032, // stopsquare\n\tfastforwardnext   : 0x0F0033, // fastforwardnext\n\tfastforward       : 0x0F0034, // fastforward\n\tcallaccept        : 0x0F00FE, // callaccept\n\tcalldecline       : 0x0F00FF, // calldecline\n\tcalldialing       : 0x0F0100, // calldialing\n\tcallmissed        : 0x0F0101, // callmissed\n\tcallreceiving     : 0x0F0102, // callreceiving\n\tdevicesetting     : 0x0F0103, // devicesetting\n\theadset           : 0x0F0104, // headset\n\tkeypad            : 0x0F0105, // keypad\n\tmic               : 0x0F0106, // mic\n\tmicmute           : 0x0F0107, // micmute\n\tcar1              : 0x0F0108, // car1\n\tcar2              : 0x0F0109, // car2\n\tcarupdate         : 0x0F010A, // carupdate\n\tcardiagnostics    : 0x0F010B, // cardiagnostics\n\tcarcharging       : 0x0F010C, // carcharging\n\tcarvalet          : 0x0F010D, // carvalet\n\tgaragemode        : 0x0F010E, // garagemode\n\tcone              : 0x0F010F, // cone\n\tchargingstation   : 0x0F0110, // chargingstation\n\tgps               : 0x0F0111, // gps\n\treplay            : 0x0F0112, // replay\n\tbackward10        : 0x0F0113, // backward10\n\tforward10         : 0x0F0114, // forward10\n\tremote            : 0x0F0116, // remote\n\tlight             : 0x0F0118, // light\n\tthumbs            : 0x0F0119, // thumbs\n\tgames             : 0x0F011A, // games\n\tunlock            : 0x0F011D, // unlock\n\ttrash             : 0x0F011E, // trash\n\tcoffee            : 0x0F011F, // coffee\n\tmessage           : 0x0F0122, // message\n\tpayment           : 0x0F0123, // payment\n\tmail              : 0x0F0124, // mail\n\tscreenshare       : 0x0F0125, // screenshare\n\tphoto             : 0x0F0126, // photo\n\tadd               : 0x0F012A, // add\n\tuserchange        : 0x0F012C, // userchange\n\tseatcool          : 0x0F012D, // seatcool\n\tfanhigh           : 0x0F012E, // fanhigh\n\tfanlow            : 0x0F012F, // fanlow\n\tzoomin            : 0x0F0130, // zoomin\n\tzoomout           : 0x0F0131, // zoomout\n\theadset2          : 0x0F0150, // headset2\n\theadsetbluetooth  : 0x0F0151, // headsetbluetooth\n\tdata              : 0x0F0152, // data\n\tdata5g            : 0x0F0153, // data5g\n\tdatalte           : 0x0F0154, // datalte\n\tcalling           : 0x0F0155, // calling\n\tcontact           : 0x0F0156, // contact\n\tbluetoothmusic    : 0x0F0157, // bluetoothmusic\n\tbluetoothsignalnone: 0x0F0158, // bluetoothsignalnone\n\tbluetoothsignal1  : 0x0F0159, // bluetoothsignal1\n\tbluetoothsignal2  : 0x0F015A, // bluetoothsignal2\n\tbluetoothsignal3  : 0x0F015B, // bluetoothsignal3\n\tbluetoothsignal4  : 0x0F015C, // bluetoothsignal4\n\tbattery0          : 0x0F015D, // battery0\n\tbattery1          : 0x0F015E, // battery1\n\tbattery2          : 0x0F015F, // battery2\n\tbattery3          : 0x0F0160, // battery3\n\tbattery4          : 0x0F0161, // battery4\n\tbatteryalert      : 0x0F0162, // batteryalert\n\tbatterycharging   : 0x0F0163  // batterycharging\n};\n\n// Deprecated icon list from `Moonstone-Agate.ttf` for reference\n\n// export default {\n// \tplus              : 0x00002B, // plus\n// \tminus             : 0x00002D, // hyphen\n// \tarrowhookleft     : 0x0021A9, // LeftArrowHook\n// \tarrowhookright    : 0x0021AA, // RightArrowHook\n// \tellipsis          : 0x0022EF, // ellipsis\n// \tcheck             : 0x002713, // checkmark\n// \tcircle            : 0x0EFFDB, // record\n// \tstop              : 0x0EFFDC, // stop\n// \tplay              : 0x0EFFDD, // play\n// \tpause             : 0x0EFFDE, // pause\n// \tforward           : 0x0EFFDF, // forward\n// \tbackward          : 0x0EFFE0, // rewind\n// \tskipforward       : 0x0EFFE1, // skip_forward\n// \tskipbackward      : 0x0EFFE2, // skip_backwards\n// \tpauseforward      : 0x0EFFE3, // indicator_forward\n// \tpausebackward     : 0x0EFFE4, // indicator_backward\n// \tpausejumpforward  : 0x0EFFE5, // indicator_skip_forward\n// \tpausejumpbackward : 0x0EFFE6, // indicator_skip_backward\n// \tjumpforward       : 0x0EFFE7, // indicator_end\n// \tjumpbackward      : 0x0EFFE8, // indicator_begin\n// \tdenselist         : 0x0EFFE9, // list_big\n// \tbulletlist        : 0x0EFFEA, // list_bullets\n// \tlist              : 0x0EFFEB, // list_simple\n// \tdrawer            : 0x0EFFEC, // list_actions\n// \tarrowlargedown    : 0x0EFFED, // caret_down_large\n// \tarrowlargeup      : 0x0EFFEE, // caret_up_large\n// \tarrowlargeleft    : 0x0EFFEF, // caret_left_large\n// \tarrowlargeright   : 0x0EFFF0, // caret_right_large\n// \tarrowsmallup      : 0x0EFFF1, // caret_up_small\n// \tarrowsmalldown    : 0x0EFFF2, // caret_down_small\n// \tarrowsmallleft    : 0x0EFFF3, // caret_left_small\n// \tarrowsmallright   : 0x0EFFF4, // caret_right_small\n// \tclosex            : 0x0EFFF5, // close_x\n// \tsearch            : 0x0EFFF6, // magnify\n// \trollforward       : 0x0EFFF7, // redo\n// \trollbackward      : 0x0EFFF8, // undo\n// \texitfullscreen    : 0x0EFFF9, // minimize\n// \tfullscreen        : 0x0EFFFA, // maximize\n// \tarrowshrinkleft   : 0x0EFFFB, // shrink_panel_left\n// \tarrowshrinkright  : 0x0EFFFC, // shrink_panel_right\n// \tarrowextend       : 0x0F0021, // arrow_left\n// \tarrowshrink       : 0x0F0022, // arrow_right\n// \tflag              : 0x0F0023, // flag\n// \tfunnel            : 0x0F0024, // filter\n// \ttrash             : 0x0F0025, // trash\n// \tstar              : 0x0F0028, // star_full\n// \thollowstar        : 0x0F0029, // star_empty\n// \thalfstar          : 0x0F002A, // star_half\n// \tgear              : 0x0F002B, // gear\n// \tplug              : 0x0F002C, // input\n// \tlock              : 0x0F002D, // lock\n// \tforward15         : 0x0F0041, // forward15\n// \tback15            : 0x0F0042, // back15\n// \tcontinousplay     : 0x0F0043, // continous_play\n// \tplaylist          : 0x0F0044, // playlist\n// \tresumeplay        : 0x0F0045, // resume_play\n// \timage             : 0x0F0046, // image\n// \taudio             : 0x0F0061, // audio\n// \tmusic             : 0x0F0062, // music\n// \tlanguages         : 0x0F0081, // languages\n// \tcc                : 0x0F0082, // cc\n// \tccon              : 0x0F0083, // cc_on\n// \tccoff             : 0x0F0084, // cc_off\n// \tsub               : 0x0F0085, // sub\n// \trecordings        : 0x0F00A1, // recordings\n// \tlivezoom          : 0x0F00A2, // live_zoom\n// \tliveplayback      : 0x0F00A3, // live_playback\n// \tliveplaybackoff   : 0x0F00A4, // live_playback_off\n// \trepeat            : 0x0F00A5, // repeat\n// \trepeatoff         : 0x0F00A6, // repeat_off\n// \tseries            : 0x0F00A7, // series\n// \trepeatdownload    : 0x0F00A8, // repeat_download\n// \tview360           : 0x0F00A9, // view_360\n// \tview360off        : 0x0F00AA, // view_360_off\n// \tinfo              : 0x0F00AB, // info\n// \tairdown           : 0x0F00B5, // air_down\n// \tairright          : 0x0F00B6, // air_right\n// \tairup             : 0x0F00B7, // air_up\n// \theatseatleft      : 0x0F00B8, // seat_heat_left\n// \theatseatright     : 0x0F00B9, // seat_heat_right\n// \taircirculation    : 0x0F00BA, // air_circulation\n// \tfan               : 0x0F00BB, // fan\n// \tdefrosterfront    : 0x0F00BC, // defroster_front\n// \tdefrosterback     : 0x0F00BD, // defroster_back\n// \tuser              : 0x0F00BE, // users\n// \thome              : 0x0F00BF, // home\n// \ttemperature       : 0x0F00C0, // temperature_icon\n// \tcompass           : 0x0F00C1, // compass\n// \tphone             : 0x0F00C2, // phone\n// \tfanoff            : 0x0F00C9, // fan_off\n// \tbluetooth         : 0x0F00CA, // bluetooth\n// \tdatetime          : 0x0F00CB, // date_time\n// \tdisplay           : 0x0F00CC, // display\n// \tseatbelt          : 0x0F00CD, // seat_belt\n// \twifi              : 0x0F00CE, // wifi\n// \tapps              : 0x0F00CF, // apps\n// \tclimate           : 0x0F00D0, // climate\n// \tdashboard         : 0x0F00D1, // dashboard\n// \tedit              : 0x0F00D2, // edit\n// \texpand            : 0x0F00D3, // expand\n// \tradio             : 0x0F00D4, // radio\n// \trearscreen        : 0x0F00D5, // rear_screen\n// \tweather           : 0x0F00D6  // weather\n// };\n\nexport default iconList;\nexport {\n\ticonList,\n\ticonListSilicon\n};\n","/**\n * Provides Agate styled icon components and behaviors.\n *\n * @example\n * <Icon>flag</Icon>\n *\n * @module agate/Icon\n * @exports Icon\n * @exports IconBase\n * @exports IconDecorator\n * @exports icons\n */\n\nimport kind from '@enact/core/kind';\nimport UiIcon from '@enact/ui/Icon';\nimport Pure from '@enact/ui/internal/Pure';\nimport compose from 'ramda/src/compose';\nimport PropTypes from 'prop-types';\n\nimport Skinnable from '../Skinnable';\n\nimport iconList, {iconListSilicon} from './IconList.js';\n\nimport componentCss from './Icon.module.less';\n\n/**\n * Renders an Agate-styled icon without any behavior.\n *\n * @class IconBase\n * @memberof agate/Icon\n * @extends ui/Icon.Icon\n * @ui\n * @public\n */\nconst IconBase = kind({\n\tname: 'Icon',\n\n\tpropTypes: /** @lends agate/Icon.Icon.prototype */ {\n\t\t/**\n\t\t * The icon content.\n\t\t *\n\t\t * May be specified as either:\n\t\t *\n\t\t * * A string that represents an icon from the [iconList]{@link ui/Icon.Icon.iconList},\n\t\t * * An HTML entity string, Unicode reference or hex value (in the form '0x...'),\n\t\t * * A URL specifying path to an icon image, or\n\t\t * * An object representing a resolution independent resource (See {@link ui/resolution}).\n\t\t *\n\t\t * @type {String|Object}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `icon` - The root class name\n\t\t * * `dingbat` - Applied to dingbat icon\n\t\t * * `focus` - Applied when icon is focused\n\t\t * * `huge` - Applied to a `size='huge'` icon\n\t\t * * `small` - Applied to a `size='small'` icon\n\t\t * * `smallest` - Applied to a `size='smallest'` icon\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The size of the icon.\n\t\t *\n\t\t * @type {('smallest'|'small'|'large'|'huge')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['smallest', 'small', 'large', 'huge']),\n\n\t\t/**\n\t\t * The current skin.\n\t\t *\n\t\t * @type {String}\n\t\t * @private\n\t\t */\n\t\tskin: PropTypes.string,\n\n\t\t/**\n\t\t * The amount of sprite \"cells\" in the src image.\n\t\t *\n\t\t * This property only affects image-based icons, not icon glyphs.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t * @public\n\t\t */\n\t\tspriteCount: PropTypes.number\n\t},\n\n\tdefaultProps: {\n\t\tsize: 'large',\n\t\tspriteCount: 1\n\t},\n\n\tstyles: {\n\t\tcss: componentCss\n\t},\n\n\tcomputed: {\n\t\tclassName: ({size, styler}) => styler.append(\n\t\t\tsize\n\t\t),\n\t\tstyle: ({spriteCount, style}) => ({\n\t\t\t...style,\n\t\t\t'--agate-icon-sprite-count': spriteCount\n\t\t})\n\t},\n\n\trender: ({css, skin, ...rest}) => {\n\t\tdelete rest.spriteCount;\n\n\t\treturn UiIcon.inline({\n\t\t\t...rest,\n\t\t\tcss: css,\n\t\t\ticonList: (skin === 'silicon' ? iconListSilicon : iconList)\n\t\t});\n\t}\n});\n\n// Let's find a way to import this list directly, and bonus feature, render our icons in the docs\n// next to their names.\n/**\n * An object whose keys can be used as the child of an [Icon]{@link agate/Icon.Icon} component.\n *\n * List of Icons:\n * ```\n * circlelarge\n * squarelarge\n * triangleup\n * plus\n * minus\n * arrowup\n * arrowdown\n * arrowleftturn\n * arrowrightturn\n * arrowharpoonright\n * ellipsis\n * check\n * arrowstraightup\n * arrowuturn\n * arrowlargedown\n * arrowlargeup\n * arrowlargeleft\n * arrowlargeright\n * closex\n * search\n * bluetooth2\n * bluetoothoff\n * bright1\n * bright2\n * bluetooth\n * usb\n * volume0\n * volume1\n * volume2\n * wifi\n * happyface\n * notification\n * pairing\n * user\n * calendar\n * edit\n * gallery\n * internet\n * map\n * music\n * video\n * circle\n * previous\n * pairingdisplay\n * box\n * play\n * previoustrack\n * pause\n * nexttrack\n * repeat\n * shuffle\n * error\n * setting\n * popupstop\n * accept\n * decline\n * stop\n * cancel\n * carspeaker\n * speaker\n * earphone\n * detail\n * install\n * send\n * netbook\n * pad\n * mobile\n * update\n * backapp\n * uninstall\n * rain\n * raindrops\n * raincloud\n * snow\n * cloud\n * ice\n * fog\n * sun\n * profileA1\n * profileA2\n * profileA3\n * profileA4\n * profileB1\n * profileB2\n * profileB3\n * profileB4\n * profileC1\n * profileC2\n * profileC3\n * profileC4\n * ac\n * auto\n * airmode\n * airdown\n * airright\n * airup\n * heatseatleft\n * heatseatright\n * aircirculation\n * fan\n * defrosterfront\n * defrosterback\n * airflow\n * home\n * temperature\n * compass\n * phone\n * fanoff\n * datetime\n * display\n * seatbelt\n * apps\n * climate\n * dashboard\n * expand\n * radio\n * rearscreen\n * weather\n * fullscreen\n * menu\n * history\n * browser\n * lock\n * search2\n * bookmark\n * star\n * hollowstar\n * halfstar\n * refresh\n * time\n * pausebold\n * playbold\n * controls\n * diagnostics\n * mapbox\n * displaycontrol\n * controlleft\n * controlright\n * mainpage\n * playlist\n * resume\n * trailer\n * plusbold\n * minusbold\n * ```\n *\n * @name iconList\n * @memberof agate/Icon\n * @constant\n * @type {Object}\n * @public\n */\n\n/**\n * Agate-specific behaviors to apply to [IconBase]{@link agate/Icon.IconBase}.\n *\n * @hoc\n * @memberof agate/Icon\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst IconDecorator = compose(\n\tPure,\n\tSkinnable({prop: 'skin'})\n);\n\n/**\n * An Agate-styled icon.\n *\n * @class Icon\n * @memberof agate/Icon\n * @extends agate/Icon.IconBase\n * @mixes agate/Icon.IconDecorator\n * @ui\n * @public\n */\nconst Icon = IconDecorator(IconBase);\n\nexport default Icon;\nexport {\n\tIcon,\n\tIconBase,\n\tIconDecorator,\n\ticonList as icons,\n\ticonListSilicon as iconsSilicon\n};\n","/**\n * A utility component that either clones or creates a component instance based on the\n * incoming `component` prop value.\n *\n * This allows you to supply JSX as the component used in your prop\n * allowing you to add your own properties. They'll get mixed onto the component when it's used in\n * the parent component.\n *\n * @module ui/ComponentOverride\n * @exports ComponentOverride\n */\n\nimport React from 'react';\n\n/**\n * Utility to either create or clone a component instance with the given set of props.\n *\n * `ComponentOverride` can be used to support props that either accept a type, (e.g. `Button`) or an\n * element (e.g. `<Button customProp=\"value\" />`) and return a new element which includes the\n * remaining props specified.\n *\n * Example:\n * ```\n * const LabeledIconButton = ({iconComponent, label, ...rest}) => {\n *   return (\n *     <div {...rest}>\n *       <ComponentOverride\n *         component={iconComponent}\n *         icon=\"house\"\n *       />\n *       <span>{label}</span>\n *     </div>\n *   );\n * };\n *\n * // Usage\n *\n * // Only the props defined by LabeledIconButton will be passed to CustomIcon\n * <LabeledIconButton\n *   label=\"Home\"\n *   iconComponent={CustomIcon}\n * />\n *\n * // The color prop along with props defined by LabeledIconButton will be passed to CustomIcon\n * <LabeledIconButton\n *   label=\"Home\"\n *   iconComponent={\n *     <CustomIcon color=\"green\" />\n *   }\n * />\n * ```\n *\n * @class\n * @memberof ui/ComponentOverride\n * @ui\n * @public\n */\nconst ComponentOverride = ({component: Component, ...props}) => {\n\treturn Component && (\n\t\t(typeof Component === 'function' || typeof Component === 'string') && (\n\t\t\t<Component {...props} />\n\t\t) || React.isValidElement(Component) && (\n\t\t\tReact.cloneElement(Component, props)\n\t\t)\n\t) || null;\n};\n\nexport default ComponentOverride;\nexport {\n\tComponentOverride\n};\n","\nconst invoke = (fn, options, callback) => {\n\tconst {onLoad} = options;\n\n\tfn({\n\t\t...options,\n\t\tonLoad: (result) => {\n\t\t\tcallback(result);\n\t\t\tif (onLoad) onLoad(result);\n\t\t}\n\t});\n};\n\nconst wrapIlibCallback = (fn, options = {}) => {\n\tconst {sync = false} = options;\n\n\tif (!fn) {\n\t\treturn sync ? null : Promise.resolve(null);\n\t}\n\n\tif (sync) {\n\t\tlet value = null;\n\t\tinvoke(fn, options, (v) => (value = v));\n\n\t\treturn value;\n\t}\n\n\treturn new Promise(resolve => invoke(fn, options, resolve));\n};\n\nexport default wrapIlibCallback;\nexport {\n\twrapIlibCallback\n};\n","import LocaleInfo from 'ilib/lib/LocaleInfo';\n\nimport {isNonLatinLocale, isRtlLocale} from '../locale';\n\nconst base = 'enact-locale-';\n\n// Callback-friendly version of Promise.all()\nfunction all (fns, callback) {\n\tconst result = [];\n\tlet complete = 0;\n\n\tconst done = (index) => (value) => {\n\t\tresult[index] = value;\n\t\tcomplete++;\n\n\t\tif (complete === fns.length) {\n\t\t\tcallback(result);\n\t\t}\n\t};\n\n\tfns.forEach((fn, index) => fn(done(index)));\n}\n\nfunction getClassesForLocale (li, options) {\n\tconst locale = li.getLocale();\n\n\tconst {latinLanguageOverrides, nonLatinLanguageOverrides, ...rest} = options;\n\n\tall([\n\t\t// allow enact to define other fonts for non-Latin languages, or for certain\n\t\t// Latin-based languages where the characters with some accents don't appear in the\n\t\t// regular fonts, creating a strange 'ransom note' look with a mix of fonts in the\n\t\t// same word. So, treat it like a non-Latin language in order to get all the characters\n\t\t// to display with the same font.\n\t\t(done) => isNonLatinLocale(locale, {\n\t\t\t...rest,\n\t\t\tlatinLanguageOverrides,\n\t\t\tnonLatinLanguageOverrides,\n\t\t\tonLoad: (isNonLatin) => done(isNonLatin ? base + 'non-latin' : '')\n\t\t}),\n\t\t// allow enact to apply right-to-left styles to the app and widgets if necessary\n\t\t(done) => isRtlLocale({\n\t\t\t...rest,\n\t\t\tonLoad: (isRtl) => done(isRtl ? base + 'right-to-left' : '')\n\t\t})\n\t], function (classes) {\n\t\tconst scriptName = li.getScript();\n\t\tif (scriptName !== 'Latn' && scriptName !== 'Cyrl' && scriptName !== 'Grek') {\n\t\t\t// GF-45884: allow enact to avoid setting italic fonts for those scripts that do not\n\t\t\t// commonly use italics\n\t\t\tclasses.push(base + 'non-italic');\n\t\t}\n\n\t\t// allow enact or the apps to give CSS classes that are specific to the language, country, or script\n\t\tif (locale.getLanguage()) {\n\t\t\tclasses.push(base + locale.getLanguage());\n\t\t\tif (locale.getScript()) {\n\t\t\t\tclasses.push(base + locale.getLanguage() + '-' + locale.getScript());\n\t\t\t\tif (locale.getRegion()) {\n\t\t\t\t\tclasses.push(base + locale.getLanguage() + '-' + locale.getScript() + '-' + locale.getRegion());\n\t\t\t\t}\n\t\t\t} else if (locale.getRegion()) {\n\t\t\t\tclasses.push(base + locale.getLanguage() + '-' + locale.getRegion());\n\t\t\t}\n\t\t}\n\t\tif (locale.getScript()) {\n\t\t\tclasses.push(base + locale.getScript());\n\t\t}\n\t\tif (locale.getRegion()) {\n\t\t\tclasses.push(base + locale.getRegion());\n\t\t}\n\n\t\toptions.onLoad(classes.filter(Boolean).join(' '));\n\t});\n}\n\n/*\n * A function that returns locale in class name.\n *\n * @memberof i18n/I18nDecorator\n * @param {options.sync} Perform a synchronous request for the classes\n * @param {options.onLoad} Called with a string of i18n classes\n * @param {options.latinLanguageOverrides} Array of locales to treat as latin\n * @param {options.nonLatinLanguageOverrides} Array of locales to treat as non-latin\n * @private\n */\nfunction getI18nClasses (options = {}) {\n\tconst {sync, onLoad} = options;\n\tif (!onLoad) return;\n\n\t// eslint-disable-next-line no-new,no-undefined\n\tnew LocaleInfo(undefined, {\n\t\tsync,\n\t\tonLoad: (li) => getClassesForLocale(li, {\n\t\t\t...options,\n\t\t\tonLoad\n\t\t})\n\t}); // for the current locale\n}\n\nexport default getI18nClasses;\n","import {on} from '@enact/core/dispatcher';\nimport {onWindowReady} from '@enact/core/snapshot';\n\nlet focused = false;\nconst queue = new Set();\n\nconst invoke = (fn) => {\n\ttry {\n\t\tfn();\n\t} catch (e) {\n\t\t// failing silently\n\t}\n};\n\nconst flush = () => queue.forEach(invoke);\n\nconst onWindowFocus = (handler) => {\n\tif (focused) {\n\t\thandler();\n\t} else {\n\t\tqueue.add(handler);\n\t}\n};\n\nonWindowReady(() => {\n\tfocused = true;\t// Treat window as initially focused once ready\n\tflush();\n\ton('focus', () => {\n\t\tfocused = true;\n\t\tflush();\n\t}, window);\n\n\ton('blur', () => {\n\t\tfocused = false;\n\t}, window);\n});\n\nexport {\n\tonWindowFocus\n};\n","import {on, off} from '@enact/core/dispatcher';\nimport {Job} from '@enact/core/util';\n\nimport {isRtlLocale, updateLocale} from '../locale';\nimport {createResBundle, setResBundle} from '../src/resBundle';\nimport wrapIlibCallback from '../src/wrapIlibCallback';\n\nimport getI18nClasses from './getI18nClasses';\nimport {onWindowFocus} from './windowFocus';\n\n/**\n * Manages i18n resource loading.\n *\n * @class I18n\n * @private\n */\nclass I18n {\n\tconstructor ({\n\t\tlatinLanguageOverrides,\n\t\tnonLatinLanguageOverrides,\n\t\tresources,\n\t\tsync = true\n\t}) {\n\t\tthis._locale = null;\n\t\tthis._ready = sync;\n\t\tthis._onLoadResources = () => {};\n\t\tthis.loadResourceJob = null;\n\n\t\tthis.latinLanguageOverrides = latinLanguageOverrides;\n\t\tthis.nonLatinLanguageOverrides = nonLatinLanguageOverrides;\n\t\tthis.resources = this.normalizeResources(resources);\n\t\tthis.sync = sync;\n\t}\n\n\t/**\n\t * Sets the current locale and load callback.\n\t *\n\t * Changing the locale will request new resource files for that locale.\n\t *\n\t * @type {String}\n\t * @public\n\t */\n\tsetContext (locale, onLoadResources) {\n\t\tthis.loadResourceJob = new Job(onLoadResources);\n\t\tthis._onLoadResources = onLoadResources;\n\n\t\tif (this._locale !== locale) {\n\t\t\tthis._locale = locale;\n\n\t\t\tthis.loadResources(locale);\n\t\t}\n\t}\n\n\t/**\n\t * Normalize the structure of the external resources to be an array of resource/onLoad pairs.\n\t *\n\t * @private\n\t */\n\tnormalizeResources (resources) {\n\t\treturn Array.isArray(resources) ? resources.map(res => {\n\t\t\tif (!res) return;\n\n\t\t\tconst fn = res.resource || res;\n\t\t\tconst onLoad = res.onLoad;\n\n\t\t\tif (typeof fn !== 'function') return;\n\n\t\t\treturn {resource: fn, onLoad};\n\t\t}).filter(Boolean) : [];\n\t}\n\n\t/**\n\t * Adds the `languagechange` event listener and initiates async resource retrieval.\n\t *\n\t * Should only be called after `window` is available and the DOM is ready.\n\t *\n\t * @public\n\t */\n\tload () {\n\t\tthis._ready = true;\n\n\t\tif (typeof window === 'object') {\n\t\t\ton('languagechange', this.handleLocaleChange, window);\n\t\t}\n\n\t\t// When async, we defer loading resources until DOM is ready\n\t\tif (!this.sync) {\n\t\t\tthis.loadResources(this._locale);\n\t\t}\n\t}\n\n\t/**\n\t * Cleans up resource retrieval and event listeners.\n\t *\n\t * @public\n\t */\n\tunload () {\n\t\tthis._ready = false;\n\n\t\tthis.loadResourceJob.stop();\n\t\tif (typeof window === 'object') {\n\t\t\toff('languagechange', this.handleLocaleChange, window);\n\t\t}\n\t}\n\n\t/**\n\t * Loads the resources for the given locale.\n\t *\n\t * @private\n\t */\n\tloadResources (spec) {\n\t\tif (!this._ready) return;\n\n\t\tconst locale = updateLocale(spec);\n\t\tconst options = {sync: this.sync, locale};\n\t\tconst rtl = wrapIlibCallback(isRtlLocale, options);\n\t\tconst className = wrapIlibCallback(getI18nClasses, {\n\t\t\t...options,\n\t\t\tlatinLanguageOverrides: this.latinLanguageOverrides,\n\t\t\tnonLatinLanguageOverrides: this.nonLatinLanguageOverrides\n\t\t});\n\t\tconst bundle = wrapIlibCallback(createResBundle, options);\n\n\t\tif (this.sync) {\n\t\t\tconst state = {\n\t\t\t\tclassName,\n\t\t\t\tloaded: true,\n\t\t\t\tlocale,\n\t\t\t\trtl\n\t\t\t};\n\n\t\t\tsetResBundle(bundle);\n\n\t\t\tthis.resources.forEach(({resource, onLoad}) => {\n\t\t\t\tconst result = resource(options);\n\t\t\t\tif (onLoad) onLoad(result);\n\t\t\t});\n\n\t\t\tthis._onLoadResources(state);\n\t\t} else {\n\t\t\tconst resources = Promise.all([\n\t\t\t\trtl,\n\t\t\t\tclassName,\n\t\t\t\t// move updating into a new method with call to setState\n\t\t\t\tbundle,\n\t\t\t\t...this.resources.map(res => wrapIlibCallback(res.resource, options))\n\t\t\t]).then(([rtlResult, classNameResult, bundleResult, ...userResources]) => {\n\t\t\t\tsetResBundle(bundleResult);\n\t\t\t\tthis.resources.forEach(({onLoad}, i) => onLoad && onLoad(userResources[i]));\n\n\t\t\t\treturn {\n\t\t\t\t\tclassName: classNameResult,\n\t\t\t\t\tloaded: true,\n\t\t\t\t\tlocale,\n\t\t\t\t\trtl: rtlResult\n\t\t\t\t};\n\t\t\t});\n\t\t\t// TODO: Resolve how to handle failed resource requests\n\t\t\t// .catch(...);\n\n\t\t\tthis.loadResourceJob.promise(resources);\n\t\t}\n\t}\n\n\t/**\n\t * Called when the `languagechange` event fires.\n\t */\n\thandleLocaleChange = () => {\n\t\tonWindowFocus(this.updateLocale);\n\t};\n\n\t/**\n\t * Updates the locale for the application.\n\t *\n\t * If `newLocale` is omitted, the locale will be reset to the device's default locale.\n\t *\n\t * @param   {String}    newLocale   Locale identifier string\n\t *\n\t * @returns {undefined}\n\t * @public\n\t */\n\tupdateLocale = (newLocale) => {\n\t\tthis.loadResources(newLocale);\n\t};\n}\n\nexport default I18n;\nexport {\n\tI18n\n};\n","import useClass from '@enact/core/useClass';\nimport React from 'react';\n\nimport ilib from '../src/index.js';\n\nimport I18n from './I18n';\n\n/**\n * Configuration for `useI18n`\n *\n * @typedef {Object} useI18nConfig\n * @memberof i18n/I18nDecorator\n * @property {String[]}   [latinLanguageOverrides]    Locales that should be treated as latin\n * @property {String[]}   [nonLatinLanguageOverrides] Locales that should be treated as non-latin\n * @property {Function}   [onLoadResources]           Called when resources have been loaded after a\n *                                                    locale change\n * @property {Function[]} [resources]                 Additional resource callbacks to be invoked\n *                                                    during a locale change\n * @property {Boolean}    [sync = false]              Load the resources synchronously\n * @private\n */\n\n/**\n * Object returned by `useI18n`\n *\n * @typedef {Object} useI18nInterface\n * @property {String}  className CSS classes that should be applied to the root node\n * @property {Boolean} loaded    Indicates if resources have been loaded\n * @property {String}  locale    Current locale\n * @property {Boolean} rtl       Indicates the current locale uses right-to-left text direction\n * @private\n */\n\n/**\n * Adds internationalization support\n *\n * @param {useI18nConfig} config Configuration options\n * @returns {useI18nInterface}\n * @private\n */\nfunction useI18n ({locale, ...config} = {}) {\n\tconst ilibLocale = ilib.getLocale();\n\tlocale = locale && locale !== ilibLocale ? locale : ilibLocale;\n\n\tconst [state, setState] = React.useState({\n\t\tlocale,\n\t\tloaded: Boolean(config.sync)\n\t});\n\n\tconst i18n = useClass(I18n, config);\n\ti18n.setContext(locale, setState);\n\n\t// Add/remove listeners on mount/unmount\n\tReact.useEffect(() => {\n\t\ti18n.load();\n\n\t\treturn () => i18n.unload();\n\t}, [i18n]);\n\n\treturn {\n\t\t...state,\n\t\tupdateLocale: i18n.updateLocale\n\t};\n}\n\nexport default useI18n;\nexport {\n\tuseI18n\n};\n","import React from 'react';\n\nconst I18nContext = React.createContext(null);\n\n/**\n * Object returned by `useI18nContext`\n *\n * @typedef {Object} useI18nContextInterface\n * @memberof i18n/I18nDecorator\n * @property {Boolean}  loaded       `true` when external resource files have been loaded\n * @property {Boolean}  rtl          `true` for locales with right-to-left reading order\n * @property {Function} updateLocale Updates the locale\n * @property {String}   locale       Current locale\n * @private\n */\n\n/**\n * Retrieves the current locale and a method to update the current locale\n *\n * @returns {useI18nContextInterface}\n * @private\n */\nfunction useI18nContext () {\n\t// This isn't adding much value but does allow a layer of abstraction so we don't have to export\n\t// the I18nContext object and can add private API if needed later.\n\treturn React.useContext(I18nContext);\n}\n\nexport default useI18nContext;\nexport {\n\tuseI18nContext,\n\tI18nContext\n};\n","/**\n * Adds Internationalization (I18N) support to an application using ilib.\n *\n * @module i18n/I18nDecorator\n * @exports I18nDecorator\n * @exports I18nContextDecorator\n */\n\nimport hoc from '@enact/core/hoc';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport '../src/glue';\n\nimport useI18n from './useI18n';\nimport {useI18nContext, I18nContext} from './useI18nContext';\n\nconst join = (a, b) => a && b ? a + ' ' + b : (a || b || '');\n\n/**\n * Default config for `I18nDecorator`.\n *\n * @memberof i18n/I18nDecorator.I18nDecorator\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Array of locales that should be treated as latin regardless of their script.\n\t *\n\t * @type {String[]}\n\t * @default\tnull\n\t * @public\n\t * @memberof i18n/I18nDecorator.I18nDecorator.defaultConfig\n\t */\n\tlatinLanguageOverrides: null,\n\n\t/**\n\t * Array of locales that should be treated as non-latin regardless of their script.\n\t *\n\t * @type {String[]}\n\t * @default null\n\t * @public\n\t * @memberof i18n/I18nDecorator.I18nDecorator.defaultConfig\n\t */\n\tnonLatinLanguageOverrides: null,\n\n\t/**\n\t * Array of resource loaders to be invoked after a locale change.\n\t *\n\t * Each loader must be a function which accepts an object and returns either the resource when\n\t * `options.sync` is `true` or a `Promise` for the resource when `options.sync` is `false`.\n\t *\n\t * ```\n\t * resources: [\n\t *   (options) => new Promise((resolve, reject) => {\n\t *     fetchResource({onLoad: resolve, onError: reject});\n\t *   })\n\t * ]\n\t * ```\n\t *\n\t * If you need to handle the resource in some way on load, you can pass an object with an\n\t * `onLoad` member that will be called once all resources have been loaded. This should be used\n\t * if loading a resource has side effects that should only be applied once all loading has\n\t * completed.\n\t *\n\t * ```\n\t * resources: [\n\t *   {resource: (options) => { ... fetch ... }, onLoad: (res) => { ... apply side effect ... }}\n\t * ]\n\t * ```\n\t *\n\t * @type {Array<Function|Object>}\n\t * @default null\n\t * @public\n\t * @memberof i18n/I18nDecorator.I18nDecorator.defaultConfig\n\t */\n\tresources: null,\n\n\t/**\n\t * Retrieve i18n resource files synchronously\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t * @memberof i18n/I18nDecorator.I18nDecorator.defaultConfig\n\t */\n\tsync: false\n};\n\n/**\n * A higher-order component that is used to wrap the root element in an app. It provides an `rtl`\n * member on the context of the wrapped component, allowing the children to check the current text\n * directionality as well as an `updateLocale` method that can be used to update the current locale.\n *\n * There are no configurable options on this HOC.\n *\n * Note: This HoC passes `className` to the wrapped component. It must be passed to the main DOM\n * node.\n *\n * @class I18nDecorator\n * @memberof i18n/I18nDecorator\n * @hoc\n * @public\n */\nconst I18nDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\t// eslint-disable-next-line no-shadow\n\tfunction I18nDecorator (props) {\n\t\tconst {locale, ...rest} = props;\n\t\tconst {className: i18nClassName, ...i18n} = useI18n({\n\t\t\tlocale,\n\t\t\t...config\n\t\t});\n\n\t\tconst className = join(i18nClassName, props.className);\n\n\t\treturn (\n\t\t\t<I18nContext.Provider value={i18n}>\n\t\t\t\t<Wrapped {...rest} className={className} />\n\t\t\t</I18nContext.Provider>\n\t\t);\n\t}\n\n\tI18nDecorator.propTypes = /** @lends i18n/I18nDecorator.I18nDecorator.prototype */ {\n\t\t/**\n\t\t * Classes to apply to the wrapped component.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tclassName: PropTypes.string,\n\n\t\t/**\n\t\t * The locale to use.\n\t\t *\n\t\t * A string with a {@link https://tools.ietf.org/html/rfc5646|BCP 47 language tag}. The\n\t\t * system locale will be used by default.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tlocale: PropTypes.string\n\t};\n\n\treturn I18nDecorator;\n});\n\nconst contextDefaultConfig = {\n\tlocaleProp: null,\n\trtlProp: null,\n\tupdateLocaleProp: null\n};\n\nconst I18nContextDecorator = hoc(contextDefaultConfig, (config, Wrapped) => {\n\tconst {loadedProp, localeProp, rtlProp, updateLocaleProp} = config;\n\n\t// eslint-disable-next-line no-shadow\n\treturn function I18nContextDecorator (props) {\n\t\tconst i18nContext = useI18nContext();\n\n\t\tif (i18nContext) {\n\t\t\tconst {loaded, locale, rtl, updateLocale} = i18nContext;\n\n\t\t\tprops = {...props};\n\t\t\tif (loadedProp) {\n\t\t\t\tprops[loadedProp] = loaded;\n\t\t\t}\n\n\t\t\tif (localeProp) {\n\t\t\t\tprops[localeProp] = locale;\n\t\t\t}\n\n\t\t\tif (rtlProp) {\n\t\t\t\tprops[rtlProp] = rtl;\n\t\t\t}\n\n\t\t\tif (updateLocaleProp) {\n\t\t\t\tprops[updateLocaleProp] = updateLocale;\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<Wrapped {...props} />\n\t\t);\n\t};\n});\n\nexport default I18nDecorator;\nexport {\n\tI18nContext,\n\tI18nContextDecorator,\n\tI18nDecorator,\n\tuseI18n,\n\tuseI18nContext\n};\n","var map = {\n\t\"./nestedObjectAssign\": 657,\n\t\"./nestedObjectAssign.js\": 657\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1266;","import {perfNow} from '@enact/core/util';\nimport clamp from 'ramda/src/clamp';\n\nconst\n\t// Use eases library\n\ttimingFunctions = {\n\t\t'linear': function (source, target, duration, curTime) {\n\t\t\tcurTime /= duration;\n\t\t\treturn (target - source) * curTime + source;\n\t\t},\n\t\t'ease-in': function (source, target, duration, curTime) {\n\t\t\tcurTime /= duration;\n\t\t\treturn (target - source) * curTime * curTime * curTime * curTime + source;\n\t\t},\n\t\t'ease-out': function (source, target, duration, curTime) {\n\t\t\tcurTime /= duration;\n\t\t\tcurTime--;\n\t\t\treturn (target - source) * (curTime * curTime * curTime * curTime * curTime + 1) + source;\n\t\t},\n\t\t'ease-in-out': function (source, target, duration, curTime) {\n\t\t\tcurTime /= duration / 2;\n\t\t\tif (curTime < 1) {\n\t\t\t\treturn (target - source) / 2 * curTime * curTime * curTime * curTime + source;\n\t\t\t} else {\n\t\t\t\tcurTime -= 2;\n\t\t\t}\n\t\t\treturn (source - target) / 2 * (curTime * curTime * curTime * curTime - 2) + source;\n\t\t}\n\t},\n\n\t// for simulate()\n\tframeTime = 16.0,         // time for one frame\n\tmaxVelocity = 100,        // speed cap\n\tstopVelocity = 0.04,      // velocity to stop\n\tvelocityFriction = 0.95,  // velocity decreasing factor\n\tclampVelocity = clamp(-maxVelocity, maxVelocity);\n\n/**\n * The class to scroll a list or a scroller with animation.\n *\n * @class ScrollAnimator\n * @memberof ui/useScroll\n * @private\n */\nclass ScrollAnimator {\n\trAFId = null;\n\ttype = 'ease-out';\n\n\t/**\n\t * @param {String|null} type - Timing function type for list scroll animation.  Must be one of\n\t *\t`'linear'`, `'ease-in'`, `'ease-out'`, or `'ease-in-out'`, or null. If `null`, defaults to\n\t *\t`'ease-out'`.\n\t * @constructor\n\t * @memberof ui/useScroll.ScrollAnimator\n\t */\n\tconstructor (type) {\n\t\tthis.timingFunction = timingFunctions[type || this.type];\n\t}\n\n\tsimulate (sourceX, sourceY, velocityX, velocityY) {\n\t\tlet\n\t\t\tstepX = clampVelocity(velocityX * frameTime),\n\t\t\tstepY = clampVelocity(velocityY * frameTime),\n\t\t\tdeltaX = 0,\n\t\t\tdeltaY = 0,\n\t\t\tduration = 0;\n\n\t\tdo {\n\t\t\tstepX *= velocityFriction;\n\t\t\tstepY *= velocityFriction;\n\t\t\tdeltaX += stepX;\n\t\t\tdeltaY += stepY;\n\t\t\tduration += frameTime;\n\t\t} while ((stepX * stepX + stepY * stepY) > stopVelocity);\n\n\t\treturn {\n\t\t\ttargetX: sourceX + deltaX,\n\t\t\ttargetY: sourceY + deltaY,\n\t\t\tduration\n\t\t};\n\t}\n\n\tanimate (rAFCallbackFuntion) {\n\t\tconst\n\t\t\trAF = window.requestAnimationFrame,\n\t\t\tstartTimeStamp = perfNow(),\n\t\t\tfn = () => {\n\t\t\t\tconst\n\t\t\t\t\t// schedule next frame\n\t\t\t\t\trAFId = rAF(fn),\n\t\t\t\t\t// current timestamp\n\t\t\t\t\tcurTimeStamp = perfNow(),\n\t\t\t\t\t// current time if 0 at starting position\n\t\t\t\t\tcurTime = curTimeStamp - startTimeStamp;\n\n\t\t\t\tthis.rAFId = rAFId;\n\t\t\t\trAFCallbackFuntion(curTime);\n\t\t\t};\n\n\t\tthis.rAFId = rAF(fn);\n\t}\n\n\tisAnimating () {\n\t\treturn this.rAFId !== null;\n\t}\n\n\tstop () {\n\t\tconst cAF = window.cancelAnimationFrame;\n\n\t\tif (this.rAFId !== null ) {\n\t\t\tcAF(this.rAFId);\n\t\t\tthis.rAFId = null;\n\t\t}\n\t}\n}\n\nexport default ScrollAnimator;\nexport {\n\tScrollAnimator\n};\n","/* global ResizeObserver */\n/**\n * Unstyled scrollable hook and behaviors to be customized by a theme or application.\n *\n * @module ui/useScroll\n * @exports assignPropertiesOf\n * @exports constants\n * @exports useScroll\n * @exports useScrollBase\n * @private\n */\n\nimport classNames from 'classnames';\nimport {forward, forwardWithPrevent} from '@enact/core/handle';\nimport {is} from '@enact/core/keymap';\nimport {platform} from '@enact/core/platform'; // scrollMode 'native'\nimport Registry from '@enact/core/internal/Registry';\nimport {Job} from '@enact/core/util';\nimport clamp from 'ramda/src/clamp';\nimport React, {useCallback, useContext, useEffect, useLayoutEffect, useReducer, useRef, useState} from 'react';\nimport warning from 'warning';\n\nimport ForwardRef from '../ForwardRef';\nimport {ResizeContext} from '../Resizable';\nimport ri from '../resolution';\nimport Touchable from '../Touchable';\n\nimport ScrollAnimator from './ScrollAnimator';\nimport utilDOM from './utilDOM';\nimport utilEvent from './utilEvent';\n\nimport css from './useScroll.module.less';\n\nconst\n\tconstants = {\n\t\tanimationDuration: 1000,\n\t\tepsilon: 1,\n\t\tflickConfig: {maxDuration: null},\n\t\tisPageDown: is('pageDown'),\n\t\tisPageUp: is('pageUp'),\n\t\tnop: () => {},\n\t\toverscrollTypeNone: 0,\n\t\toverscrollTypeHold: 1,\n\t\toverscrollTypeOnce: 2,\n\t\toverscrollTypeDone: 9,\n\t\toverscrollVelocityFactor: 300, // scrollMode 'native'\n\t\tpaginationPageMultiplier: 0.66,\n\t\tscrollStopWaiting: 200,\n\t\tscrollWheelPageMultiplierForMaxPixel: 0.2 // The ratio of the maximum distance scrolled by wheel to the size of the viewport.\n\t},\n\t{\n\t\tanimationDuration,\n\t\tepsilon,\n\t\tflickConfig,\n\t\tisPageDown,\n\t\tisPageUp,\n\t\toverscrollTypeDone,\n\t\toverscrollTypeHold,\n\t\toverscrollTypeNone,\n\t\toverscrollTypeOnce,\n\t\toverscrollVelocityFactor,\n\t\tpaginationPageMultiplier,\n\t\tscrollStopWaiting,\n\t\tscrollWheelPageMultiplierForMaxPixel\n\t} = constants;\n\nconst TouchableDiv = ForwardRef({prop: 'componentRef'}, Touchable(\n\t({componentRef, ...rest}) => (<div {...rest} ref={componentRef} />)\n));\n\nconst useForceUpdate = () => (useReducer(x => x + 1, 0));\n\n/**\n * A custom hook that passes scrollable behavior information as its render prop.\n *\n * @class\n * @memberof ui/useScroll\n * @ui\n * @private\n */\nconst useScrollBase = (props) => {\n\tconst\n\t\t{\n\t\t\tchildProps,\n\t\t\tchildren,\n\t\t\tclassName,\n\t\t\tclientSize,\n\t\t\t'data-webos-voice-disabled': voiceDisabled,\n\t\t\t'data-webos-voice-focused': voiceFocused,\n\t\t\t'data-webos-voice-group-label': voiceGroupLabel,\n\t\t\tassignProperties,\n\t\t\tdataSize,\n\t\t\tdirection,\n\t\t\thorizontalScrollbar,\n\t\t\thorizontalScrollbarHandle,\n\t\t\titemRenderer,\n\t\t\titemSize,\n\t\t\titemSizes,\n\t\t\tnoScrollByDrag,\n\t\t\tnoScrollByWheel,\n\t\t\toverhang,\n\t\t\toverscrollEffectOn,\n\t\t\tpageScroll,\n\t\t\trole,\n\t\t\trtl,\n\t\t\tscrollContainerRef,\n\t\t\tscrollContentHandle,\n\t\t\tscrollContentRef,\n\t\t\tscrollMode,\n\t\t\tsetScrollContainerHandle,\n\t\t\tspacing,\n\t\t\tspotlightContainerDisabled,\n\t\t\tverticalScrollbar,\n\t\t\tverticalScrollbarHandle,\n\t\t\twrap,\n\t\t\t...rest\n\t\t} = props,\n\t\tscrollClasses = classNames(css.scroll, className);\n\n\t// The following props are the one having the same naming function in this scope.\n\t// So it is better to use props[propName]\n\t// instead of extracting it from the `props` and renaming it\n\tdelete rest.addEventListeners;\n\tdelete rest.applyOverscrollEffect;\n\tdelete rest.cbScrollTo;\n\tdelete rest.clearOverscrollEffect;\n\tdelete rest.handleResizeWindow;\n\tdelete rest.onFlick;\n\tdelete rest.onKeyDown;\n\tdelete rest.onMouseDown;\n\tdelete rest.onScroll;\n\tdelete rest.onScrollStart;\n\tdelete rest.onScrollStop;\n\tdelete rest.onWheel;\n\tdelete rest.removeEventListeners;\n\tdelete rest.scrollStopOnScroll; // scrollMode 'native'\n\tdelete rest.scrollTo;\n\tdelete rest.start; // scrollMode 'native'\n\tdelete rest.stop; // scrollMode 'translate'\n\n\t// Mutable value and Hooks\n\n\tconst [, forceUpdate] = useForceUpdate();\n\n\tconst context = useContext(ResizeContext);\n\n\tconst [isHorizontalScrollbarVisible, setIsHorizontalScrollbarVisible] = useState(horizontalScrollbar === 'visible');\n\tconst [isVerticalScrollbarVisible, setIsVerticalScrollbarVisible] = useState(verticalScrollbar === 'visible');\n\n\tconst mutableRef = useRef({\n\t\toverscrollEnabled: !!(props.applyOverscrollEffect),\n\n\t\t// Enable the early bail out of repeated scrolling to the same position\n\t\tanimationInfo: null,\n\n\t\tresizeRegistry: null,\n\n\t\t// constants\n\t\tpixelPerLine: 39,\n\t\tscrollWheelMultiplierForDeltaPixel: 1.5, // The ratio of wheel 'delta' units to pixels scrolled.\n\n\t\t// status\n\t\tdeferScrollTo: true,\n\t\tisScrollAnimationTargetAccumulated: false,\n\n\t\t// overscroll\n\t\tlastInputType: null,\n\t\toverscrollStatus: {\n\t\t\thorizontal: {\n\t\t\t\tbefore: {type: overscrollTypeNone, ratio: 0},\n\t\t\t\tafter: {type: overscrollTypeNone, ratio: 0}\n\t\t\t},\n\t\t\tvertical: {\n\t\t\t\tbefore: {type: overscrollTypeNone, ratio: 0},\n\t\t\t\tafter: {type: overscrollTypeNone, ratio: 0}\n\t\t\t}\n\t\t},\n\n\t\t// bounds info\n\t\tbounds: {\n\t\t\tclientWidth: 0,\n\t\t\tclientHeight: 0,\n\t\t\tscrollWidth: 0,\n\t\t\tscrollHeight: 0,\n\t\t\tmaxTop: 0,\n\t\t\tmaxLeft: 0\n\t\t},\n\n\t\t// wheel/drag/flick info\n\t\twheelDirection: 0,\n\t\tisDragging: false,\n\t\tisTouching: false, // scrollMode 'native'\n\n\t\t// scroll info\n\t\tscrolling: false,\n\t\tscrollLeft: 0,\n\t\tscrollTop: 0,\n\t\tscrollToInfo: null,\n\n\t\t// scroll animator\n\t\tanimator: null,\n\n\t\t// non-declared-variable.\n\t\taccumulatedTargetX: null,\n\t\taccumulatedTargetY: null,\n\t\tflickTarget: null,\n\t\tdragStartX: null,\n\t\tdragStartY: null,\n\t\tscrollStopJob: null,\n\n\t\tprevState: {isHorizontalScrollbarVisible, isVerticalScrollbarVisible}\n\t});\n\n\tif (mutableRef.current.animator == null) {\n\t\tmutableRef.current.animator = new ScrollAnimator();\n\t}\n\n\tuseLayoutEffect(() => {\n\t\tif (setScrollContainerHandle) {\n\t\t\tsetScrollContainerHandle({\n\t\t\t\tanimator: mutableRef.current.animator,\n\t\t\t\tapplyOverscrollEffect,\n\t\t\t\tbounds: mutableRef.current.bounds,\n\t\t\t\tcalculateDistanceByWheel,\n\t\t\t\tcanScrollHorizontally,\n\t\t\t\tcanScrollVertically,\n\t\t\t\tcheckAndApplyOverscrollEffect,\n\t\t\t\tgetScrollBounds,\n\t\t\t\tget isDragging () {\n\t\t\t\t\treturn mutableRef.current.isDragging;\n\t\t\t\t},\n\t\t\t\tset isDragging (val) {\n\t\t\t\t\tmutableRef.current.isDragging = val;\n\t\t\t\t},\n\t\t\t\tget isScrollAnimationTargetAccumulated () {\n\t\t\t\t\treturn mutableRef.current.isScrollAnimationTargetAccumulated;\n\t\t\t\t},\n\t\t\t\tset isScrollAnimationTargetAccumulated (val) {\n\t\t\t\t\tmutableRef.current.isScrollAnimationTargetAccumulated = val;\n\t\t\t\t},\n\t\t\t\tget lastInputType () {\n\t\t\t\t\treturn mutableRef.current.lastInputType;\n\t\t\t\t},\n\t\t\t\tset lastInputType (val) {\n\t\t\t\t\tmutableRef.current.lastInputType = val;\n\t\t\t\t},\n\t\t\t\tget rtl () {\n\t\t\t\t\treturn rtl;\n\t\t\t\t},\n\t\t\t\tget scrollBounds () {\n\t\t\t\t\treturn getScrollBounds();\n\t\t\t\t},\n\t\t\t\tget scrollHeight () {\n\t\t\t\t\treturn mutableRef.current.bounds.scrollHeight;\n\t\t\t\t},\n\t\t\t\tget scrolling () {\n\t\t\t\t\treturn mutableRef.current.scrolling;\n\t\t\t\t},\n\t\t\t\tget scrollLeft () {\n\t\t\t\t\treturn mutableRef.current.scrollLeft;\n\t\t\t\t},\n\t\t\t\tscrollTo,\n\t\t\t\tscrollToAccumulatedTarget,\n\t\t\t\tget scrollToInfo () {\n\t\t\t\t\treturn mutableRef.current.scrollToInfo;\n\t\t\t\t},\n\t\t\t\tget scrollTop () {\n\t\t\t\t\treturn mutableRef.current.scrollTop;\n\t\t\t\t},\n\t\t\t\tsetOverscrollStatus,\n\t\t\t\tshowScrollbarTrack,\n\t\t\t\tstart,\n\t\t\t\tstartHidingScrollbarTrack,\n\t\t\t\tstop,\n\t\t\t\tget wheelDirection () {\n\t\t\t\t\treturn mutableRef.current.wheelDirection;\n\t\t\t\t},\n\t\t\t\tset wheelDirection (val) {\n\t\t\t\t\tmutableRef.current.wheelDirection = val;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\tuseLayoutEffect(() => {\n\t\tif (props.cbScrollTo) {\n\t\t\tprops.cbScrollTo(scrollTo);\n\t\t}\n\t}, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n\tuseLayoutEffect(() => {\n\t\tconst containerRef = scrollContainerRef.current;\n\t\tif (!containerRef) {\n\t\t\treturn;\n\t\t}\n\t\tif (typeof ResizeObserver === 'function') {\n\t\t\tlet resizeObserver = new ResizeObserver(() => {\n\t\t\t\tif (scrollContentHandle.current && scrollContentHandle.current.syncClientSize) {\n\t\t\t\t\tscrollContentHandle.current.syncClientSize();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tresizeObserver.observe(containerRef);\n\n\t\t\treturn () => {\n\t\t\t\tif (resizeObserver) {\n\t\t\t\t\tresizeObserver.disconnect();\n\t\t\t\t\tresizeObserver = null;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n\tuseEffect(() => {\n\t\tmutableRef.current.resizeRegistry.parent = context;\n\n\t\t// componentWillUnmount\n\t\treturn () => {\n\t\t\tconst {animator, resizeRegistry, scrolling, scrollStopJob} = mutableRef.current; // eslint-disable-line react-hooks/exhaustive-deps\n\n\t\t\tresizeRegistry.parent = null;\n\n\t\t\t// Before call cancelAnimationFrame, you must send scrollStop Event.\n\t\t\tif (scrolling) {\n\t\t\t\tforwardScrollEvent('onScrollStop', getReachedEdgeInfo());\n\t\t\t}\n\n\t\t\tscrollStopJob.stop();\n\n\t\t\t// scrollMode 'translate' [\n\t\t\tif (animator.isAnimating()) {\n\t\t\t\tanimator.stop();\n\t\t\t}\n\t\t\t// scrollMode 'translate' ]\n\t\t};\n\n\t}, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n\tuseEffect(() => {\n\t\taddEventListeners();\n\t\treturn () => {\n\t\t\tremoveEventListeners();\n\t\t};\n\t});\n\n\t// scrollMode 'translate' [[\n\t// TODO: consider replacing forceUpdate() by storing bounds in state rather than a non-\n\t// state member.\n\tconst enqueueForceUpdate = useCallback(() => {\n\t\tscrollContentHandle.current.calculateMetrics(scrollContentHandle.current.props);\n\t\tforceUpdate();\n\t}, [forceUpdate, scrollContentHandle]);\n\n\tfunction handleResizeWindow () {\n\t\tconst propsHandleResizeWindow = props.handleResizeWindow;\n\n\t\t// `handleSize` in `ui/resolution.ResolutionDecorator` should be executed first.\n\t\tsetTimeout(() => {\n\t\t\tif (propsHandleResizeWindow) {\n\t\t\t\tpropsHandleResizeWindow();\n\t\t\t}\n\t\t\tif (scrollMode === 'translate') {\n\t\t\t\tscrollTo({position: {x: 0, y: 0}, animate: false});\n\t\t\t} else {\n\t\t\t\tscrollContentRef.current.style.scrollBehavior = null;\n\t\t\t\tscrollContentHandle.current.scrollToPosition(0, 0);\n\t\t\t\tscrollContentRef.current.style.scrollBehavior = 'smooth';\n\t\t\t}\n\n\t\t\tenqueueForceUpdate();\n\t\t});\n\t}\n\n\tconst handleResize = useCallback((ev) => {\n\t\tif (ev.action === 'invalidateBounds') {\n\t\t\tenqueueForceUpdate();\n\t\t}\n\t}, [enqueueForceUpdate]);\n\t// scrollMode 'translate' ]]\n\n\tif (mutableRef.current.resizeRegistry == null) {\n\t\tmutableRef.current.resizeRegistry = Registry.create(handleResize);\n\t}\n\n\tuseEffect(() => {\n\t\tconst ref = mutableRef.current;\n\n\t\tif (scrollMode === 'translate') {\n\t\t\tref.scrollStopJob = new Job(doScrollStop, scrollStopWaiting);\n\t\t} else {\n\t\t\tref.scrollStopJob = new Job(scrollStopOnScroll, scrollStopWaiting);\n\t\t}\n\n\t\treturn () => {\n\t\t\tref.scrollStopJob.stop();\n\t\t};\n\t}, [direction, isHorizontalScrollbarVisible, isVerticalScrollbarVisible, rtl, scrollMode, spotlightContainerDisabled]); // eslint-disable-line react-hooks/exhaustive-deps\n\n\tuseEffect(() => {\n\t\tconst\n\t\t\t{hasDataSizeChanged} = scrollContentHandle.current,\n\t\t\t{prevState, resizeRegistry, scrollToInfo} = mutableRef.current;\n\n\t\t// Need to sync calculated client size if it is different from the real size\n\t\tif (scrollContentHandle.current.syncClientSize) {\n\t\t\t// If we actually synced, we need to reset scroll position.\n\t\t\tif (scrollContentHandle.current.syncClientSize()) {\n\t\t\t\tsetScrollLeft(0);\n\t\t\t\tsetScrollTop(0);\n\t\t\t}\n\t\t}\n\n\t\tclampScrollPosition(); // scrollMode 'translate'\n\n\t\tif (\n\t\t\thasDataSizeChanged === false &&\n\t\t\t(isHorizontalScrollbarVisible && !prevState.isHorizontalScrollbarVisible || isVerticalScrollbarVisible && !prevState.isVerticalScrollbarVisible)\n\t\t) {\n\t\t\tmutableRef.current.deferScrollTo = false;\n\t\t\tupdateScrollbarTrackSize();\n\t\t} else {\n\t\t\tupdateScrollbars();\n\t\t}\n\n\t\tif (scrollToInfo !== null) {\n\t\t\tif (!mutableRef.current.deferScrollTo) {\n\t\t\t\tscrollTo(scrollToInfo);\n\t\t\t}\n\t\t}\n\n\t\t// publish container resize changes\n\t\tconst horizontal = isHorizontalScrollbarVisible !== prevState.isHorizontalScrollbarVisible;\n\t\tconst vertical = isVerticalScrollbarVisible !== prevState.isVerticalScrollbarVisible;\n\t\tif (horizontal || vertical) {\n\t\t\tresizeRegistry.notify({});\n\t\t}\n\t});\n\n\t// scrollMode 'translate' [[\n\tfunction clampScrollPosition () {\n\t\tconst bounds = getScrollBounds();\n\n\t\tif (mutableRef.current.scrollTop > bounds.maxTop) {\n\t\t\tmutableRef.current.scrollTop = bounds.maxTop;\n\t\t}\n\n\t\tif (mutableRef.current.scrollLeft > bounds.maxLeft) {\n\t\t\tmutableRef.current.scrollLeft = bounds.maxLeft;\n\t\t}\n\t}\n\t// scrollMode 'translate' ]]\n\n\t// drag/flick event handlers\n\n\tfunction getRtlX (x) {\n\t\treturn (rtl ? -x : x);\n\t}\n\n\tfunction onMouseDown (ev) {\n\t\tif (forwardWithPrevent('onMouseDown', ev, props)) {\n\t\t\tstop();\n\t\t}\n\t}\n\n\t// scrollMode 'native' [[\n\tfunction onTouchStart () {\n\t\tmutableRef.current.isTouching = true;\n\t}\n\t// scrollMode 'native' ]]\n\n\tfunction onDragStart (ev) {\n\t\tif (scrollMode === 'translate' ) {\n\t\t\tif (ev.type === 'dragstart') return;\n\n\t\t\tforward('onDragStart', ev, props);\n\t\t\tstop();\n\t\t\tmutableRef.current.isDragging = true;\n\t\t\tmutableRef.current.dragStartX = mutableRef.current.scrollLeft + getRtlX(ev.x);\n\t\t\tmutableRef.current.dragStartY = mutableRef.current.scrollTop + ev.y;\n\t\t} else {\n\t\t\tif (!mutableRef.current.isTouching) {\n\t\t\t\tstop();\n\t\t\t\tmutableRef.current.isDragging = true;\n\t\t\t}\n\n\t\t\t// these values are used also for touch inputs\n\t\t\tmutableRef.current.dragStartX = mutableRef.current.scrollLeft + getRtlX(ev.x);\n\t\t\tmutableRef.current.dragStartY = mutableRef.current.scrollTop + ev.y;\n\t\t}\n\t}\n\n\tfunction onDrag (ev) {\n\t\tif (scrollMode === 'translate') {\n\t\t\tif (ev.type === 'drag') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tmutableRef.current.lastInputType = 'drag';\n\n\t\t\tforward('onDrag', ev, props);\n\t\t\tstart({\n\t\t\t\ttargetX: (direction === 'vertical') ? 0 : mutableRef.current.dragStartX - getRtlX(ev.x), // 'horizontal' or 'both'\n\t\t\t\ttargetY: (direction === 'horizontal') ? 0 : mutableRef.current.dragStartY - ev.y, // 'vertical' or 'both'\n\t\t\t\tanimate: false,\n\t\t\t\toverscrollEffect: overscrollEffectOn && overscrollEffectOn.drag\n\t\t\t});\n\t\t} else {\n\t\t\tconst\n\t\t\t\ttargetX = (direction === 'vertical') ? 0 : mutableRef.current.dragStartX - getRtlX(ev.x), // 'horizontal' or 'both'\n\t\t\t\ttargetY = (direction === 'horizontal') ? 0 : mutableRef.current.dragStartY - ev.y; // 'vertical' or 'both'\n\n\t\t\tmutableRef.current.lastInputType = 'drag';\n\n\t\t\tif (!mutableRef.current.isTouching) {\n\t\t\t\tstart({targetX, targetY, animate: false, overscrollEffect: overscrollEffectOn && overscrollEffectOn.drag});\n\t\t\t} else if (mutableRef.current.overscrollEnabled && overscrollEffectOn && overscrollEffectOn.drag) {\n\t\t\t\tcheckAndApplyOverscrollEffectOnDrag(targetX, targetY, overscrollTypeHold);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction onDragEnd (ev) {\n\t\tif (scrollMode === 'translate') {\n\t\t\tif (ev.type === 'dragend') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tmutableRef.current.isDragging = false;\n\n\t\t\tforward('onDragEnd', ev, props);\n\t\t\tif (mutableRef.current.flickTarget) {\n\t\t\t\tconst {targetX, targetY, duration} = mutableRef.current.flickTarget;\n\n\t\t\t\tmutableRef.current.lastInputType = 'drag';\n\n\t\t\t\tmutableRef.current.isScrollAnimationTargetAccumulated = false;\n\t\t\t\tstart({targetX, targetY, duration, overscrollEffect: overscrollEffectOn && overscrollEffectOn.drag});\n\t\t\t} else {\n\t\t\t\tstop();\n\t\t\t}\n\n\t\t\tif (mutableRef.current.overscrollEnabled) { // not check overscrollEffectOn && overscrollEffectOn.drag for safety\n\t\t\t\tclearAllOverscrollEffects();\n\t\t\t}\n\n\t\t\tmutableRef.current.flickTarget = null;\n\t\t} else {\n\t\t\tmutableRef.current.isDragging = false;\n\n\t\t\tmutableRef.current.lastInputType = 'drag';\n\n\t\t\tif (mutableRef.current.flickTarget) {\n\t\t\t\tconst {targetX, targetY} = mutableRef.current.flickTarget;\n\n\t\t\t\tif (!mutableRef.current.isTouching) {\n\t\t\t\t\tmutableRef.current.isScrollAnimationTargetAccumulated = false;\n\t\t\t\t\tstart({targetX, targetY, overscrollEffect: overscrollEffectOn && overscrollEffectOn.drag});\n\t\t\t\t} else if (mutableRef.current.overscrollEnabled && overscrollEffectOn && overscrollEffectOn.drag) {\n\t\t\t\t\tcheckAndApplyOverscrollEffectOnDrag(targetX, targetY, overscrollTypeOnce);\n\t\t\t\t}\n\t\t\t} else if (!mutableRef.current.isTouching) {\n\t\t\t\tstop();\n\t\t\t}\n\n\t\t\tif (mutableRef.current.overscrollEnabled) { // not check overscrollEffectOn && overscrollEffectOn.drag for safety\n\t\t\t\tclearAllOverscrollEffects();\n\t\t\t}\n\n\t\t\tmutableRef.current.isTouching = false;\n\t\t\tmutableRef.current.flickTarget = null;\n\t\t}\n\t}\n\n\tfunction onFlick (ev) {\n\t\tif (scrollMode === 'translate') {\n\t\t\tmutableRef.current.flickTarget = mutableRef.current.animator.simulate(\n\t\t\t\tmutableRef.current.scrollLeft,\n\t\t\t\tmutableRef.current.scrollTop,\n\t\t\t\t(direction !== 'vertical') ? getRtlX(-ev.velocityX) : 0,\n\t\t\t\t(direction !== 'horizontal') ? -ev.velocityY : 0\n\t\t\t);\n\t\t} else if (scrollMode === 'native') {\n\t\t\tif (!mutableRef.current.isTouching) {\n\t\t\t\tmutableRef.current.flickTarget = mutableRef.current.animator.simulate(\n\t\t\t\t\tmutableRef.current.scrollLeft,\n\t\t\t\t\tmutableRef.current.scrollTop,\n\t\t\t\t\t(direction !== 'vertical') ? getRtlX(-ev.velocityX) : 0,\n\t\t\t\t\t(direction !== 'horizontal') ? -ev.velocityY : 0\n\t\t\t\t);\n\t\t\t} else if (mutableRef.current.overscrollEnabled && overscrollEffectOn && overscrollEffectOn.drag) {\n\t\t\t\tmutableRef.current.flickTarget = {\n\t\t\t\t\ttargetX: mutableRef.current.scrollLeft + getRtlX(-ev.velocityX) * overscrollVelocityFactor, // 'horizontal' or 'both'\n\t\t\t\t\ttargetY: mutableRef.current.scrollTop + -ev.velocityY * overscrollVelocityFactor // 'vertical' or 'both'\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif (props.onFlick) {\n\t\t\tforward('onFlick', ev, props);\n\t\t}\n\t}\n\n\tfunction calculateDistanceByWheel (deltaMode, delta, maxPixel) {\n\t\tif (deltaMode === 0) {\n\t\t\tdelta = clamp(-maxPixel, maxPixel, ri.scale(delta * mutableRef.current.scrollWheelMultiplierForDeltaPixel));\n\t\t} else if (deltaMode === 1) { // line; firefox\n\t\t\tdelta = clamp(-maxPixel, maxPixel, ri.scale(delta * mutableRef.current.pixelPerLine * mutableRef.current.scrollWheelMultiplierForDeltaPixel));\n\t\t} else if (deltaMode === 2) { // page\n\t\t\tdelta = delta < 0 ? -maxPixel : maxPixel;\n\t\t}\n\n\t\treturn delta;\n\t}\n\n\t/*\n\t* wheel event handler;\n\t* - for horizontal scroll, supports wheel action on any children nodes since web engine cannot support this\n\t* - for vertical scroll, supports wheel action on scrollbars only\n\t*/\n\tfunction onWheel (ev) {\n\t\tif (mutableRef.current.isDragging) {\n\t\t\tev.preventDefault();\n\t\t\tev.stopPropagation();\n\t\t} else {\n\t\t\tconst\n\t\t\t\tbounds = getScrollBounds(),\n\t\t\t\tcanScrollH = canScrollHorizontally(bounds),\n\t\t\t\tcanScrollV = canScrollVertically(bounds),\n\t\t\t\teventDeltaMode = ev.deltaMode,\n\t\t\t\teventDelta = (-ev.wheelDeltaY || ev.deltaY);\n\t\t\tlet delta = 0;\n\n\t\t\tmutableRef.current.lastInputType = 'wheel';\n\n\t\t\tif (noScrollByWheel) {\n\t\t\t\tif (scrollMode === 'native' && canScrollV) {\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (scrollMode === 'translate') {\n\t\t\t\tif (canScrollV) {\n\t\t\t\t\tdelta = calculateDistanceByWheel(eventDeltaMode, eventDelta, bounds.clientHeight * scrollWheelPageMultiplierForMaxPixel);\n\t\t\t\t} else if (canScrollH) {\n\t\t\t\t\tdelta = calculateDistanceByWheel(eventDeltaMode, eventDelta, bounds.clientWidth * scrollWheelPageMultiplierForMaxPixel);\n\t\t\t\t}\n\n\t\t\t\tconst dir = Math.sign(delta);\n\n\t\t\t\tif (dir !== mutableRef.current.wheelDirection) {\n\t\t\t\t\tmutableRef.current.isScrollAnimationTargetAccumulated = false;\n\t\t\t\t\tmutableRef.current.wheelDirection = dir;\n\t\t\t\t}\n\n\t\t\t\tforward('onWheel', {delta, horizontalScrollbarHandle, verticalScrollbarHandle}, props);\n\n\t\t\t\tif (delta !== 0) {\n\t\t\t\t\tscrollToAccumulatedTarget(delta, canScrollV, overscrollEffectOn && overscrollEffectOn.wheel);\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t}\n\t\t\t} else { // scrollMode 'native'\n\t\t\t\tconst overscrollEffectRequired = mutableRef.current.overscrollEnabled && overscrollEffectOn && overscrollEffectOn.wheel;\n\t\t\t\tlet needToHideScrollbarTrack = false;\n\n\t\t\t\tif (props.onWheel) {\n\t\t\t\t\tforward('onWheel', ev, props);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tshowScrollbarTrack(bounds);\n\n\t\t\t\t// FIXME This routine is a temporary support for horizontal wheel scroll.\n\t\t\t\t// FIXME If web engine supports horizontal wheel, this routine should be refined or removed.\n\t\t\t\tif (canScrollV) { // This routine handles wheel events on scrollbars for vertical scroll.\n\t\t\t\t\tif (eventDelta < 0 && mutableRef.current.scrollTop > 0 || eventDelta > 0 && mutableRef.current.scrollTop < bounds.maxTop) {\n\t\t\t\t\t\t// Not to check if ev.target is a descendant of a wrapped component which may have a lot of nodes in it.\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\thorizontalScrollbarHandle.current && horizontalScrollbarHandle.current.getContainerRef && utilDOM.containsDangerously(horizontalScrollbarHandle.current.getContainerRef(), ev.target) ||\n\t\t\t\t\t\t\tverticalScrollbarHandle.current && verticalScrollbarHandle.current.getContainerRef && utilDOM.containsDangerously(verticalScrollbarHandle.current.getContainerRef(), ev.target)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tdelta = calculateDistanceByWheel(eventDeltaMode, eventDelta, bounds.clientHeight * scrollWheelPageMultiplierForMaxPixel);\n\t\t\t\t\t\t\tneedToHideScrollbarTrack = !delta;\n\n\t\t\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t\t} else if (overscrollEffectRequired) {\n\t\t\t\t\t\t\tcheckAndApplyOverscrollEffect('vertical', eventDelta > 0 ? 'after' : 'before', overscrollTypeOnce);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (overscrollEffectRequired && (eventDelta < 0 && mutableRef.current.scrollTop <= 0 || eventDelta > 0 && mutableRef.current.scrollTop >= bounds.maxTop)) {\n\t\t\t\t\t\t\tapplyOverscrollEffect('vertical', eventDelta > 0 ? 'after' : 'before', overscrollTypeOnce, 1);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tneedToHideScrollbarTrack = true;\n\t\t\t\t\t}\n\t\t\t\t} else if (canScrollH) { // this routine handles wheel events on any children for horizontal scroll.\n\t\t\t\t\tif (eventDelta < 0 && mutableRef.current.scrollLeft > 0 || eventDelta > 0 && mutableRef.current.scrollLeft < bounds.maxLeft) {\n\t\t\t\t\t\tdelta = calculateDistanceByWheel(eventDeltaMode, eventDelta, bounds.clientWidth * scrollWheelPageMultiplierForMaxPixel);\n\t\t\t\t\t\tneedToHideScrollbarTrack = !delta;\n\n\t\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (overscrollEffectRequired && (eventDelta < 0 && mutableRef.current.scrollLeft <= 0 || eventDelta > 0 && mutableRef.current.scrollLeft >= bounds.maxLeft)) {\n\t\t\t\t\t\t\tapplyOverscrollEffect('horizontal', eventDelta > 0 ? 'after' : 'before', overscrollTypeOnce, 1);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tneedToHideScrollbarTrack = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (delta !== 0) {\n\t\t\t\t\tconst dir = Math.sign(delta);\n\n\t\t\t\t\t// Not to accumulate scroll position if wheel direction is different from hold direction\n\t\t\t\t\tif (dir !== mutableRef.current.wheelDirection) {\n\t\t\t\t\t\tmutableRef.current.isScrollAnimationTargetAccumulated = false;\n\t\t\t\t\t\tmutableRef.current.wheelDirection = dir;\n\t\t\t\t\t}\n\n\t\t\t\t\tscrollToAccumulatedTarget(delta, canScrollV, overscrollEffectOn && overscrollEffectOn.wheel);\n\t\t\t\t}\n\n\t\t\t\tif (needToHideScrollbarTrack) {\n\t\t\t\t\tstartHidingScrollbarTrack();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// scrollMode 'translate' [[\n\tfunction scrollByPage (keyCode) {\n\t\tconst\n\t\t\tbounds = getScrollBounds(),\n\t\t\tcanScrollV = canScrollVertically(bounds),\n\t\t\tpageDistance = (isPageUp(keyCode) ? -1 : 1) * (canScrollV ? bounds.clientHeight : bounds.clientWidth) * paginationPageMultiplier;\n\n\t\tmutableRef.current.lastInputType = 'pageKey';\n\n\t\tscrollToAccumulatedTarget(pageDistance, canScrollV, overscrollEffectOn && overscrollEffectOn.pageKey);\n\t}\n\t// scrollMode 'translate' ]]\n\n\t// scrollMode 'native' [[\n\tfunction onScroll (ev) {\n\t\tlet {scrollLeft, scrollTop} = ev.target;\n\n\t\tconst\n\t\t\tbounds = getScrollBounds(),\n\t\t\tcanScrollH = canScrollHorizontally(bounds);\n\n\t\tif (!mutableRef.current.scrolling) {\n\t\t\tscrollStartOnScroll();\n\t\t}\n\n\t\tif (rtl && canScrollH) {\n\t\t\tscrollLeft = (platform.ios || platform.safari) ? -scrollLeft : bounds.maxLeft - scrollLeft;\n\t\t}\n\n\t\tif (scrollLeft !== mutableRef.current.scrollLeft) {\n\t\t\tsetScrollLeft(scrollLeft);\n\t\t}\n\t\tif (scrollTop !== mutableRef.current.scrollTop) {\n\t\t\tsetScrollTop(scrollTop);\n\t\t}\n\n\t\tif (scrollContentHandle.current.didScroll) {\n\t\t\tscrollContentHandle.current.didScroll(mutableRef.current.scrollLeft, mutableRef.current.scrollTop);\n\t\t}\n\n\t\tforwardScrollEvent('onScroll');\n\t\tmutableRef.current.scrollStopJob.start();\n\t}\n\t// scrollMode 'native' ]]\n\n\tfunction onKeyDown (ev) {\n\t\tif (scrollMode === 'translate') {\n\t\t\tif (props.onKeyDown) {\n\t\t\t\tforward('onKeyDown', ev, props);\n\t\t\t} else if ((isPageUp(ev.keyCode) || isPageDown(ev.keyCode))) {\n\t\t\t\tscrollByPage(ev.keyCode);\n\t\t\t}\n\t\t} else {\n\t\t\tforward('onKeyDown', ev, props);\n\t\t}\n\t}\n\n\tfunction scrollToAccumulatedTarget (delta, vertical, overscrollEffect) {\n\t\tif (!mutableRef.current.isScrollAnimationTargetAccumulated) {\n\t\t\tmutableRef.current.accumulatedTargetX = mutableRef.current.scrollLeft;\n\t\t\tmutableRef.current.accumulatedTargetY = mutableRef.current.scrollTop;\n\t\t\tmutableRef.current.isScrollAnimationTargetAccumulated = true;\n\t\t}\n\n\t\tif (vertical) {\n\t\t\tmutableRef.current.accumulatedTargetY += delta;\n\t\t} else {\n\t\t\tmutableRef.current.accumulatedTargetX += delta;\n\t\t}\n\n\t\tstart({targetX: mutableRef.current.accumulatedTargetX, targetY: mutableRef.current.accumulatedTargetY, overscrollEffect});\n\t}\n\n\t// overscroll effect\n\n\tfunction getEdgeFromPosition (position, maxPosition) {\n\t\tif (position <= 0) {\n\t\t\treturn 'before';\n\t\t/* If a scroll size or a client size is not integer,\n\t\t\tbrowser's max scroll position could be smaller than maxPos by 1 pixel.*/\n\t\t} else if (scrollMode === 'translate' && position >= maxPosition || scrollMode === 'native' && position >= maxPosition - 1) {\n\t\t\treturn 'after';\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tfunction setOverscrollStatus (orientation, edge, overscrollEffectType, ratio) {\n\t\tconst status = mutableRef.current.overscrollStatus[orientation][edge];\n\t\tstatus.type = overscrollEffectType;\n\t\tstatus.ratio = ratio;\n\t}\n\n\tfunction getOverscrollStatus (orientation, edge) {\n\t\treturn (mutableRef.current.overscrollStatus[orientation][edge]);\n\t}\n\n\tfunction calculateOverscrollRatio (orientation, position) {\n\t\tconst\n\t\t\tbounds = getScrollBounds(),\n\t\t\tisVertical = (orientation === 'vertical'),\n\t\t\tbaseSize = isVertical ? bounds.clientHeight : bounds.clientWidth,\n\t\t\tmaxPos = bounds[isVertical ? 'maxTop' : 'maxLeft'];\n\t\tlet overDistance = 0;\n\n\t\tif (position < 0) {\n\t\t\toverDistance = -position;\n\t\t} else if (position > maxPos) {\n\t\t\toverDistance = position - maxPos;\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn Math.min(1, 2 * overDistance / baseSize);\n\t}\n\n\tfunction applyOverscrollEffect (orientation, edge, overscrollEffectType, ratio) {\n\t\tprops.applyOverscrollEffect(orientation, edge, overscrollEffectType, ratio);\n\t\tsetOverscrollStatus(orientation, edge, overscrollEffectType === overscrollTypeOnce ? overscrollTypeDone : overscrollEffectType, ratio);\n\t}\n\n\tfunction checkAndApplyOverscrollEffect (orientation, edge, overscrollEffectType, ratio = 1) {\n\t\tconst\n\t\t\tisVertical = (orientation === 'vertical'),\n\t\t\tcurPos = isVertical ? mutableRef.current.scrollTop : mutableRef.current.scrollLeft,\n\t\t\tmaxPos = getScrollBounds()[isVertical ? 'maxTop' : 'maxLeft'];\n\n\t\tif (\n\t\t\tscrollMode === 'translate' && (edge === 'before' && curPos <= 0) || (edge === 'after' && curPos >= maxPos) ||\n\t\t\tscrollMode === 'native' && (edge === 'before' && curPos <= 0) || (edge === 'after' && curPos >= maxPos - 1)\n\t\t) { // Already on the edge\n\t\t\tapplyOverscrollEffect(orientation, edge, overscrollEffectType, ratio);\n\t\t} else {\n\t\t\tsetOverscrollStatus(orientation, edge, overscrollEffectType, ratio);\n\t\t}\n\t}\n\n\tfunction clearOverscrollEffect (orientation, edge) {\n\t\tif (getOverscrollStatus(orientation, edge).type !== overscrollTypeNone) {\n\t\t\tif (props.clearOverscrollEffect) {\n\t\t\t\tprops.clearOverscrollEffect(orientation, edge);\n\t\t\t} else {\n\t\t\t\tapplyOverscrollEffect(orientation, edge, overscrollTypeNone, 0);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction clearAllOverscrollEffects () {\n\t\t['horizontal', 'vertical'].forEach((orientation) => {\n\t\t\t['before', 'after'].forEach((edge) => {\n\t\t\t\tclearOverscrollEffect(orientation, edge);\n\t\t\t});\n\t\t});\n\t}\n\n\tfunction applyOverscrollEffectOnDrag (orientation, edge, targetPosition, overscrollEffectType) {\n\t\tif (edge) {\n\t\t\tconst\n\t\t\t\toppositeEdge = edge === 'before' ? 'after' : 'before',\n\t\t\t\tratio = calculateOverscrollRatio(orientation, targetPosition);\n\n\t\t\tapplyOverscrollEffect(orientation, edge, overscrollEffectType, ratio);\n\t\t\tclearOverscrollEffect(orientation, oppositeEdge);\n\t\t} else {\n\t\t\tclearOverscrollEffect(orientation, 'before');\n\t\t\tclearOverscrollEffect(orientation, 'after');\n\t\t}\n\t}\n\n\t// scrollMode 'native' [[\n\tfunction checkAndApplyOverscrollEffectOnDrag (targetX, targetY, overscrollEffectType) {\n\t\tconst bounds = getScrollBounds();\n\n\t\tif (canScrollHorizontally(bounds)) {\n\t\t\tapplyOverscrollEffectOnDrag('horizontal', getEdgeFromPosition(targetX, bounds.maxLeft), targetX, overscrollEffectType);\n\t\t}\n\n\t\tif (canScrollVertically(bounds)) {\n\t\t\tapplyOverscrollEffectOnDrag('vertical', getEdgeFromPosition(targetY, bounds.maxTop), targetY, overscrollEffectType);\n\t\t}\n\t}\n\t// scrollMode 'native' ]]\n\n\tfunction checkAndApplyOverscrollEffectOnScroll (orientation) {\n\t\t['before', 'after'].forEach((edge) => {\n\t\t\tconst {ratio, type: overscrollEffectType} = getOverscrollStatus(orientation, edge);\n\n\t\t\tif (overscrollEffectType === overscrollTypeOnce) {\n\t\t\t\tcheckAndApplyOverscrollEffect(orientation, edge, overscrollEffectType, ratio);\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction checkAndApplyOverscrollEffectOnStart (orientation, edge, targetPosition) {\n\t\tif (mutableRef.current.isDragging) {\n\t\t\tapplyOverscrollEffectOnDrag(orientation, edge, targetPosition, overscrollTypeHold);\n\t\t} else if (edge) {\n\t\t\tcheckAndApplyOverscrollEffect(orientation, edge, overscrollTypeOnce);\n\t\t}\n\t}\n\n\t// call scroll callbacks\n\n\tfunction forwardScrollEvent (overscrollEffectType, reachedEdgeInfo) {\n\t\tforward(overscrollEffectType, {scrollLeft: mutableRef.current.scrollLeft, scrollTop: mutableRef.current.scrollTop, moreInfo: getMoreInfo(), reachedEdgeInfo}, props);\n\t}\n\n\t// scrollMode 'native' [[\n\t// call scroll callbacks and update scrollbars for native scroll\n\n\tfunction scrollStartOnScroll () {\n\t\tmutableRef.current.scrolling = true;\n\t\tshowScrollbarTrack(getScrollBounds());\n\t\tforwardScrollEvent('onScrollStart');\n\t}\n\n\tfunction scrollStopOnScroll () {\n\t\tif (props.scrollStopOnScroll) {\n\t\t\tprops.scrollStopOnScroll();\n\t\t}\n\t\tif (mutableRef.current.overscrollEnabled && !mutableRef.current.isDragging) { // not check overscrollEffectOn && overscrollEffectOn for safety\n\t\t\tclearAllOverscrollEffects();\n\t\t}\n\t\tmutableRef.current.lastInputType = null;\n\t\tmutableRef.current.isScrollAnimationTargetAccumulated = false;\n\t\tmutableRef.current.scrolling = false;\n\t\tforwardScrollEvent('onScrollStop', getReachedEdgeInfo());\n\t\tstartHidingScrollbarTrack();\n\t}\n\t// scrollMode 'native' ]]\n\n\t// update scroll position\n\n\tfunction setScrollLeft (value) {\n\t\tconst bounds = getScrollBounds();\n\n\t\tmutableRef.current.scrollLeft = clamp(0, bounds.maxLeft, value);\n\n\t\tif (mutableRef.current.overscrollEnabled && overscrollEffectOn && overscrollEffectOn[mutableRef.current.lastInputType]) {\n\t\t\tcheckAndApplyOverscrollEffectOnScroll('horizontal');\n\t\t}\n\n\t\tif (isHorizontalScrollbarVisible) {\n\t\t\tupdateScrollbarTrack(horizontalScrollbarHandle, bounds);\n\t\t}\n\t}\n\n\tfunction setScrollTop (value) {\n\t\tconst bounds = getScrollBounds();\n\n\t\tmutableRef.current.scrollTop = clamp(0, bounds.maxTop, value);\n\n\t\tif (mutableRef.current.overscrollEnabled && overscrollEffectOn && overscrollEffectOn[mutableRef.current.lastInputType]) {\n\t\t\tcheckAndApplyOverscrollEffectOnScroll('vertical');\n\t\t}\n\n\t\tif (isVerticalScrollbarVisible) {\n\t\t\tupdateScrollbarTrack(verticalScrollbarHandle, bounds);\n\t\t}\n\t}\n\n\tfunction getReachedEdgeInfo () {\n\t\tconst\n\t\t\tbounds = getScrollBounds(),\n\t\t\treachedEdgeInfo = {bottom: false, left: false, right: false, top: false};\n\n\t\tif (canScrollHorizontally(bounds)) {\n\t\t\tconst edge = getEdgeFromPosition(mutableRef.current.scrollLeft, bounds.maxLeft);\n\n\t\t\tif (edge) { // if edge is null, no need to check which edge is reached.\n\t\t\t\tif ((edge === 'before' && !rtl) || (edge === 'after' && rtl)) {\n\t\t\t\t\treachedEdgeInfo.left = true;\n\t\t\t\t} else {\n\t\t\t\t\treachedEdgeInfo.right = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (canScrollVertically(bounds)) {\n\t\t\tconst edge = getEdgeFromPosition(mutableRef.current.scrollTop, bounds.maxTop);\n\n\t\t\tif (edge === 'before') {\n\t\t\t\treachedEdgeInfo.top = true;\n\t\t\t} else if (edge === 'after') {\n\t\t\t\treachedEdgeInfo.bottom = true;\n\t\t\t}\n\t\t}\n\n\t\treturn reachedEdgeInfo;\n\t}\n\n\t// scroll start/stop\n\n\t// scrollMode 'translate' [[\n\tfunction doScrollStop () {\n\t\tmutableRef.current.scrolling = false;\n\t\tforwardScrollEvent('onScrollStop', getReachedEdgeInfo());\n\t}\n\t// scrollMode 'translate' ]]\n\n\tfunction start ({targetX, targetY, animate = true, duration = animationDuration, overscrollEffect = false}) {\n\t\tconst\n\t\t\t{scrollLeft, scrollTop} = mutableRef.current,\n\t\t\tbounds = getScrollBounds(),\n\t\t\t{maxLeft, maxTop} = bounds;\n\n\t\tconst updatedAnimationInfo = scrollMode === 'translate' ?\n\t\t\t{\n\t\t\t\tsourceX: scrollLeft,\n\t\t\t\tsourceY: scrollTop,\n\t\t\t\ttargetX,\n\t\t\t\ttargetY,\n\t\t\t\tduration\n\t\t\t} :\n\t\t\t{\n\t\t\t\ttargetX,\n\t\t\t\ttargetY\n\t\t\t};\n\n\t\t// bail early when scrolling to the same position\n\t\tif (\n\t\t\t(scrollMode === 'translate' && mutableRef.current.animator.isAnimating() || scrollMode === 'native' && mutableRef.current.scrolling) &&\n\t\t\tmutableRef.current.animationInfo &&\n\t\t\tmutableRef.current.animationInfo.targetX === targetX &&\n\t\t\tmutableRef.current.animationInfo.targetY === targetY\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tmutableRef.current.animationInfo = updatedAnimationInfo;\n\n\t\tif (scrollMode === 'translate') {\n\t\t\tmutableRef.current.animator.stop();\n\n\t\t\tif (!mutableRef.current.scrolling) {\n\t\t\t\tmutableRef.current.scrolling = true;\n\t\t\t\tforwardScrollEvent('onScrollStart');\n\t\t\t}\n\n\t\t\tmutableRef.current.scrollStopJob.stop();\n\t\t}\n\n\t\tif (Math.abs(maxLeft - targetX) < epsilon) {\n\t\t\ttargetX = maxLeft;\n\t\t}\n\n\t\tif (Math.abs(maxTop - targetY) < epsilon) {\n\t\t\ttargetY = maxTop;\n\t\t}\n\n\t\tif (mutableRef.current.overscrollEnabled && overscrollEffect) {\n\t\t\tif (scrollLeft !== targetX && canScrollHorizontally(bounds)) {\n\t\t\t\tcheckAndApplyOverscrollEffectOnStart('horizontal', getEdgeFromPosition(targetX, maxLeft), targetX);\n\t\t\t}\n\t\t\tif (scrollTop !== targetY && canScrollVertically(bounds)) {\n\t\t\t\tcheckAndApplyOverscrollEffectOnStart('vertical', getEdgeFromPosition(targetY, maxTop), targetY);\n\t\t\t}\n\t\t}\n\n\t\tif (scrollMode === 'translate') {\n\t\t\tshowScrollbarTrack(bounds);\n\t\t\tif (scrollContentHandle.current && scrollContentHandle.current.setScrollPositionTarget) {\n\t\t\t\tscrollContentHandle.current.setScrollPositionTarget(targetX, targetY);\n\t\t\t}\n\n\t\t\tif (animate) {\n\t\t\t\tmutableRef.current.animator.animate(scrollAnimation(mutableRef.current.animationInfo));\n\t\t\t} else {\n\t\t\t\tscroll(targetX, targetY);\n\t\t\t\tstop();\n\t\t\t}\n\t\t} else { // scrollMode 'native'\n\t\t\tif (animate) {\n\t\t\t\tscrollContentHandle.current.scrollToPosition(targetX, targetY);\n\t\t\t} else {\n\t\t\t\tscrollContentRef.current.style.scrollBehavior = null;\n\t\t\t\tscrollContentHandle.current.scrollToPosition(targetX, targetY);\n\t\t\t\tscrollContentRef.current.style.scrollBehavior = 'smooth';\n\t\t\t}\n\n\t\t\tif (props.start) {\n\t\t\t\tprops.start(animate);\n\t\t\t}\n\t\t}\n\t}\n\n\t// scrollMode 'translate' [[\n\tfunction scrollAnimation (animationInfo) {\n\t\treturn (curTime) => {\n\t\t\tconst\n\t\t\t\t{sourceX, sourceY, targetX, targetY, duration} = animationInfo,\n\t\t\t\tbounds = getScrollBounds();\n\n\t\t\tif (curTime < duration) {\n\t\t\t\tlet\n\t\t\t\t\ttoBeContinued = false,\n\t\t\t\t\tcurTargetX = sourceX,\n\t\t\t\t\tcurTargetY = sourceY;\n\n\t\t\t\tif (canScrollHorizontally(bounds)) {\n\t\t\t\t\tcurTargetX = mutableRef.current.animator.timingFunction(sourceX, targetX, duration, curTime);\n\n\t\t\t\t\tif (Math.abs(curTargetX - targetX) < epsilon) {\n\t\t\t\t\t\tcurTargetX = targetX;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttoBeContinued = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (canScrollVertically(bounds)) {\n\t\t\t\t\tcurTargetY = mutableRef.current.animator.timingFunction(sourceY, targetY, duration, curTime);\n\n\t\t\t\t\tif (Math.abs(curTargetY - targetY) < epsilon) {\n\t\t\t\t\t\tcurTargetY = targetY;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttoBeContinued = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tscroll(curTargetX, curTargetY);\n\n\t\t\t\tif (!toBeContinued) {\n\t\t\t\t\tstop();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tscroll(targetX, targetY);\n\t\t\t\tstop();\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction scroll (left, top) {\n\t\tif (left !== mutableRef.current.scrollLeft) {\n\t\t\tsetScrollLeft(left);\n\t\t}\n\n\t\tif (top !== mutableRef.current.scrollTop) {\n\t\t\tsetScrollTop(top);\n\t\t}\n\n\t\tscrollContentHandle.current.setScrollPosition(mutableRef.current.scrollLeft, mutableRef.current.scrollTop, rtl);\n\t\tforwardScrollEvent('onScroll');\n\t}\n\t// scrollMode 'translate' ]]\n\n\tfunction stopForTranslate () {\n\t\tmutableRef.current.animator.stop();\n\t\tmutableRef.current.lastInputType = null;\n\t\tmutableRef.current.isScrollAnimationTargetAccumulated = false;\n\t\tstartHidingScrollbarTrack();\n\n\t\tif (mutableRef.current.overscrollEnabled && !mutableRef.current.isDragging) { // not check overscrollEffectOn && overscrollEffectOn for safety\n\t\t\tclearAllOverscrollEffects();\n\t\t}\n\n\t\tif (props.stop) {\n\t\t\tprops.stop();\n\t\t}\n\n\t\tif (mutableRef.current.scrolling) {\n\t\t\tmutableRef.current.scrollStopJob.start();\n\t\t}\n\t}\n\n\tfunction stopForNative () {\n\t\tscrollContentRef.current.style.scrollBehavior = null;\n\t\tscrollContentHandle.current.scrollToPosition(mutableRef.current.scrollLeft + (rtl ? -0.1 : 0.1), mutableRef.current.scrollTop + 0.1);\n\t\tscrollContentRef.current.style.scrollBehavior = 'smooth';\n\t}\n\n\tfunction stop () {\n\t\tif (scrollMode === 'translate') {\n\t\t\tstopForTranslate();\n\t\t} else {\n\t\t\tstopForNative();\n\t\t}\n\t}\n\n\t// scrollTo API\n\n\tfunction getPositionForScrollTo (opt) {\n\t\tconst\n\t\t\tbounds = getScrollBounds(),\n\t\t\tcanScrollH = canScrollHorizontally(bounds),\n\t\t\tcanScrollV = canScrollVertically(bounds);\n\t\tlet\n\t\t\titemPos,\n\t\t\tleft = null,\n\t\t\ttop = null;\n\n\t\tif (opt instanceof Object) {\n\t\t\tif (opt.position instanceof Object) {\n\t\t\t\tif (canScrollH) {\n\t\t\t\t\t// We need '!=' to check if opt.position.x is null or undefined\n\t\t\t\t\tleft = opt.position.x != null ? opt.position.x : mutableRef.current.scrollLeft;\n\t\t\t\t} else {\n\t\t\t\t\tleft = 0;\n\t\t\t\t}\n\n\t\t\t\tif (canScrollV) {\n\t\t\t\t\t// We need '!=' to check if opt.position.y is null or undefined\n\t\t\t\t\ttop = opt.position.y != null ? opt.position.y : mutableRef.current.scrollTop;\n\t\t\t\t} else {\n\t\t\t\t\ttop = 0;\n\t\t\t\t}\n\t\t\t} else if (typeof opt.align === 'string') {\n\t\t\t\tif (canScrollH) {\n\t\t\t\t\tif (opt.align.includes('left')) {\n\t\t\t\t\t\tleft = 0;\n\t\t\t\t\t} else if (opt.align.includes('right')) {\n\t\t\t\t\t\tleft = bounds.maxLeft;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (canScrollV) {\n\t\t\t\t\tif (opt.align.includes('top')) {\n\t\t\t\t\t\ttop = 0;\n\t\t\t\t\t} else if (opt.align.includes('bottom')) {\n\t\t\t\t\t\ttop = bounds.maxTop;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (typeof opt.index === 'number' && typeof scrollContentHandle.current.getItemPosition === 'function') {\n\t\t\t\t\titemPos = scrollContentHandle.current.getItemPosition(opt.index, opt.stickTo, opt.offset);\n\t\t\t\t} else if (opt.node instanceof Object) {\n\t\t\t\t\tif (opt.node.nodeType === 1 && typeof scrollContentHandle.current.getNodePosition === 'function') {\n\t\t\t\t\t\titemPos = scrollContentHandle.current.getNodePosition(opt.node);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (itemPos) {\n\t\t\t\t\tif (canScrollH) {\n\t\t\t\t\t\tleft = itemPos.left;\n\t\t\t\t\t}\n\t\t\t\t\tif (canScrollV) {\n\t\t\t\t\t\ttop = itemPos.top;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn {left, top};\n\t}\n\n\tfunction scrollTo (opt) {\n\t\tif (!mutableRef.current.deferScrollTo) {\n\t\t\tconst {left, top} = getPositionForScrollTo(opt);\n\t\t\tconst targetX = (left !== null) ? left : mutableRef.current.scrollLeft;\n\t\t\tconst targetY = (top !== null) ? top : mutableRef.current.scrollTop;\n\n\t\t\tif (props.scrollTo) {\n\t\t\t\tprops.scrollTo(opt);\n\t\t\t}\n\n\t\t\tmutableRef.current.scrollToInfo = null;\n\n\t\t\tif (scrollMode === 'native' && scrollContentHandle.current && scrollContentHandle.current.setScrollToPositionTarget) {\n\t\t\t\tscrollContentHandle.current.setScrollToPositionTarget(targetX, targetY);\n\t\t\t}\n\n\t\t\tstart({\n\t\t\t\ttargetX,\n\t\t\t\ttargetY,\n\t\t\t\tanimate: opt.animate\n\t\t\t});\n\t\t} else {\n\t\t\tmutableRef.current.scrollToInfo = opt;\n\t\t}\n\t}\n\n\tfunction canScrollHorizontally (bounds) {\n\t\treturn (direction === 'horizontal' || direction === 'both') && (bounds.scrollWidth > bounds.clientWidth) && !isNaN(bounds.scrollWidth);\n\t}\n\n\tfunction canScrollVertically (bounds) {\n\t\treturn (direction === 'vertical' || direction === 'both') && (bounds.scrollHeight > bounds.clientHeight) && !isNaN(bounds.scrollHeight);\n\t}\n\n\t// scroll bar\n\n\tfunction showScrollbarTrack (bounds) {\n\t\tif (isHorizontalScrollbarVisible && canScrollHorizontally(bounds) && horizontalScrollbarHandle.current) {\n\t\t\thorizontalScrollbarHandle.current.showScrollbarTrack();\n\t\t}\n\n\t\tif (isVerticalScrollbarVisible && canScrollVertically(bounds) && verticalScrollbarHandle.current) {\n\t\t\tverticalScrollbarHandle.current.showScrollbarTrack();\n\t\t}\n\t}\n\n\tfunction updateScrollbarTrack (scrollbarRef, bounds) {\n\t\tscrollbarRef.current.update({\n\t\t\t...bounds,\n\t\t\tscrollLeft: mutableRef.current.scrollLeft,\n\t\t\tscrollTop: mutableRef.current.scrollTop\n\t\t});\n\t}\n\n\tfunction startHidingScrollbarTrack () {\n\t\tif (isHorizontalScrollbarVisible && horizontalScrollbarHandle.current) {\n\t\t\thorizontalScrollbarHandle.current.startHidingScrollbarTrack();\n\t\t}\n\n\t\tif (isVerticalScrollbarVisible && verticalScrollbarHandle.current) {\n\t\t\tverticalScrollbarHandle.current.startHidingScrollbarTrack();\n\t\t}\n\t}\n\n\tfunction updateScrollbars () {\n\t\tconst\n\t\t\tbounds = getScrollBounds(),\n\t\t\tcanScrollH = canScrollHorizontally(bounds),\n\t\t\tcanScrollV = canScrollVertically(bounds),\n\t\t\tcurHorizontalScrollbarVisible = (horizontalScrollbar === 'auto') ? canScrollH : horizontalScrollbar === 'visible',\n\t\t\tcurVerticalScrollbarVisible = (verticalScrollbar === 'auto') ? canScrollV : verticalScrollbar === 'visible';\n\n\t\t// determine if we should hide or show any scrollbars\n\t\tconst\n\t\t\tisVisibilityChanged = (\n\t\t\t\tisHorizontalScrollbarVisible !== curHorizontalScrollbarVisible ||\n\t\t\t\tisVerticalScrollbarVisible !== curVerticalScrollbarVisible\n\t\t\t);\n\n\t\tif (isVisibilityChanged) {\n\t\t\t// one or both scrollbars have changed visibility\n\t\t\tsetIsHorizontalScrollbarVisible(curHorizontalScrollbarVisible);\n\t\t\tsetIsVerticalScrollbarVisible(curVerticalScrollbarVisible);\n\t\t} else {\n\t\t\tmutableRef.current.deferScrollTo = false;\n\t\t\tupdateScrollbarTrackSize();\n\t\t}\n\t}\n\n\tfunction updateScrollbarTrackSize () {\n\t\tconst\n\t\t\tbounds = getScrollBounds(),\n\t\t\tcanScrollH = canScrollHorizontally(bounds),\n\t\t\tcanScrollV = canScrollVertically(bounds),\n\t\t\tcurHorizontalScrollbarVisible = (horizontalScrollbar === 'auto') ? canScrollH : horizontalScrollbar === 'visible',\n\t\t\tcurVerticalScrollbarVisible = (verticalScrollbar === 'auto') ? canScrollV : verticalScrollbar === 'visible';\n\n\t\tif (curHorizontalScrollbarVisible || curVerticalScrollbarVisible) {\n\t\t\t// no visibility change but need to notify whichever scrollbars are visible of the\n\t\t\t// updated bounds and scroll position\n\t\t\tconst updatedBounds = {\n\t\t\t\t...bounds,\n\t\t\t\tscrollLeft: mutableRef.current.scrollLeft,\n\t\t\t\tscrollTop: mutableRef.current.scrollTop\n\t\t\t};\n\n\t\t\tif (curHorizontalScrollbarVisible && horizontalScrollbarHandle.current) {\n\t\t\t\thorizontalScrollbarHandle.current.update(updatedBounds);\n\t\t\t}\n\n\t\t\tif (curVerticalScrollbarVisible && verticalScrollbarHandle.current) {\n\t\t\t\tverticalScrollbarHandle.current.update(updatedBounds);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t// ref\n\n\tfunction getScrollBounds () {\n\t\tif (scrollContentHandle.current && typeof scrollContentHandle.current.getScrollBounds === 'function') {\n\t\t\treturn scrollContentHandle.current.getScrollBounds();\n\t\t}\n\t}\n\n\tfunction getMoreInfo () {\n\t\tif (scrollContentHandle.current && typeof scrollContentHandle.current.getMoreInfo === 'function') {\n\t\t\treturn scrollContentHandle.current.getMoreInfo();\n\t\t}\n\t}\n\n\t// FIXME setting event handlers directly to work on the V8 snapshot.\n\tfunction addEventListeners () {\n\t\tutilEvent('wheel').addEventListener(scrollContainerRef, onWheel);\n\t\tutilEvent('keydown').addEventListener(scrollContainerRef, onKeyDown);\n\t\tutilEvent('mousedown').addEventListener(scrollContainerRef, onMouseDown);\n\n\t\t// scrollMode 'native' [[\n\t\tif (scrollMode === 'native' && scrollContentRef.current) {\n\t\t\tutilEvent('scroll').addEventListener(scrollContentRef, onScroll, {passive: true});\n\t\t\tscrollContentRef.current.style.scrollBehavior = 'smooth';\n\t\t}\n\t\t// scrollMode 'native' ]]\n\n\t\tif (props.addEventListeners) {\n\t\t\tprops.addEventListeners(scrollContentRef);\n\t\t}\n\n\t\tif (window) {\n\t\t\tutilEvent('resize').addEventListener(window, handleResizeWindow);\n\t\t}\n\t}\n\n\t// FIXME setting event handlers directly to work on the V8 snapshot.\n\tfunction removeEventListeners () {\n\t\tutilEvent('wheel').removeEventListener(scrollContainerRef, onWheel);\n\t\tutilEvent('keydown').removeEventListener(scrollContainerRef, onKeyDown);\n\t\tutilEvent('mousedown').removeEventListener(scrollContainerRef, onMouseDown);\n\n\t\t// scrollMode 'native' [[\n\t\tutilEvent('scroll').removeEventListener(scrollContentRef, onScroll, {passive: true});\n\t\t// scrollMode 'native' ]]\n\n\t\tif (props.removeEventListeners) {\n\t\t\tprops.removeEventListeners(scrollContentRef);\n\t\t}\n\n\t\tutilEvent('resize').removeEventListener(window, handleResizeWindow);\n\t}\n\n\t// render\n\n\t// scrollMode 'translate' [[\n\tfunction handleScroll () {\n\t\t// Prevent scroll by focus.\n\t\t// VirtualList and VirtualGridList DO NOT receive `onscroll` event.\n\t\t// Only Scroller could get `onscroll` event.\n\t\tif (!mutableRef.current.animator.isAnimating() && scrollContentHandle.current && scrollContentRef.current && scrollContentHandle.current.getRtlPositionX) {\n\t\t\t// For Scroller\n\t\t\tscrollContentRef.current.scrollTop = mutableRef.current.scrollTop;\n\t\t\tscrollContentRef.current.scrollLeft = scrollContentHandle.current.getRtlPositionX(mutableRef.current.scrollLeft);\n\t\t}\n\t}\n\t// scrollMode 'translate' ]]\n\n\tfunction scrollContainerContainsDangerously (target) {\n\t\treturn utilDOM.containsDangerously(scrollContainerRef, target);\n\t}\n\n\tassignProperties('scrollContainerProps', {\n\t\t...rest,\n\t\tclassName: [scrollClasses]\n\t});\n\n\tassignProperties('scrollInnerContainerProps', {\n\t\tclassName: [css.scrollInnerContainer]\n\t});\n\n\tassignProperties('scrollContentWrapperProps', {\n\t\tclassName: scrollMode === 'translate' ? [css.scrollContentWrapper] : [css.scrollContentWrapper, css.scrollContentWrapperNative], // scrollMode 'native'\n\t\t...(!noScrollByDrag && {\n\t\t\tflickConfig,\n\t\t\tonDrag: onDrag,\n\t\t\tonDragEnd: onDragEnd,\n\t\t\tonDragStart: onDragStart,\n\t\t\tonFlick: onFlick,\n\t\t\tonTouchStart: scrollMode === 'native' ? onTouchStart : null // scrollMode 'native'\n\t\t})\n\t});\n\n\tconst voiceProps = {\n\t\t'data-webos-voice-disabled': voiceDisabled,\n\t\t'data-webos-voice-focused': voiceFocused,\n\t\t'data-webos-voice-group-label': voiceGroupLabel\n\t};\n\n\tconst scrollContentProps = props.itemRenderer ? // If the child component is a VirtualList\n\t\t{\n\t\t\tchildProps,\n\t\t\tclientSize,\n\t\t\tdataSize,\n\t\t\titemRenderer,\n\t\t\titemSize,\n\t\t\titemSizes,\n\t\t\toverhang,\n\t\t\tpageScroll,\n\t\t\tspacing,\n\t\t\twrap\n\t\t} :\n\t\t{children};\n\n\tassignProperties('scrollContentProps', {\n\t\t...scrollContentProps,\n\t\t...voiceProps,\n\t\tcbScrollTo: scrollTo,\n\t\tclassName: [css.scrollFill],\n\t\tdirection,\n\t\tget isHorizontalScrollbarVisible () {\n\t\t\treturn isHorizontalScrollbarVisible;\n\t\t},\n\t\tget isVerticalScrollbarVisible () {\n\t\t\treturn isVerticalScrollbarVisible;\n\t\t},\n\t\tonScroll: scrollMode === 'translate' ? handleScroll : null,\n\t\trole,\n\t\trtl,\n\t\tscrollContainerContainsDangerously,\n\t\tscrollMode\n\t});\n\n\tassignProperties('verticalScrollbarProps', {\n\t\tclientSize,\n\t\tdisabled: !isVerticalScrollbarVisible,\n\t\trtl,\n\t\tvertical: true\n\t});\n\n\tassignProperties('horizontalScrollbarProps', {\n\t\tclientSize,\n\t\tcorner: isVerticalScrollbarVisible,\n\t\tdisabled: !isHorizontalScrollbarVisible,\n\t\trtl,\n\t\tvertical: false\n\t});\n\n\tassignProperties('resizeContextProps', {\n\t\tvalue: mutableRef.current.resizeRegistry.register\n\t});\n\n\tmutableRef.current.deferScrollTo = true;\n\n\tmutableRef.current.prevState = {\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible\n\t};\n\n\treturn {\n\t\tscrollContentWrapper: noScrollByDrag ? 'div' : TouchableDiv,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible\n\t};\n};\n\nconst assignPropertiesOf = (instance) => (name, properties) => {\n\tif (!instance[name]) {\n\t\tinstance[name] = {};\n\t}\n\n\tif (typeof properties === 'object') {\n\t\tfor (const property in properties) {\n\t\t\tif (property === 'className') {\n\t\t\t\twarning(\n\t\t\t\t\tArray.isArray(properties.className),\n\t\t\t\t\t'Unsupported other types for `className` prop except Array'\n\t\t\t\t);\n\n\t\t\t\tinstance[name].className = classNames(instance[name].className, properties.className);\n\t\t\t} else {\n\t\t\t\twarning(\n\t\t\t\t\t!instance[name][property],\n\t\t\t\t\t'Unsupported to push value in the same ' + property + ' prop.'\n\t\t\t\t);\n\n\t\t\t\t// Override the previous value.\n\t\t\t\tinstance[name][property] = properties[property];\n\t\t\t}\n\t\t}\n\t}\n};\n\nconst useScroll = (props) => {\n\t// Mutable value\n\n\tconst scrollContainerRef = useRef({});\n\tconst scrollContentHandle = useRef({});\n\tconst scrollContentRef = useRef({});\n\tconst itemRefs = useRef([]);\n\tconst horizontalScrollbarHandle = useRef({});\n\tconst verticalScrollbarHandle = useRef({});\n\n\t// Hooks\n\n\tconst\n\t\tcollectionOfProperties = {},\n\t\tassignProperties = assignPropertiesOf(collectionOfProperties);\n\n\tconst {\n\t\tscrollContentWrapper,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible\n\t} = useScrollBase({\n\t\t...props,\n\t\tassignProperties,\n\t\thorizontalScrollbarHandle,\n\t\tscrollContainerRef,\n\t\tscrollContentHandle,\n\t\tscrollContentRef,\n\t\tverticalScrollbarHandle\n\t});\n\n\tassignProperties('scrollContainerProps', {ref: scrollContainerRef});\n\tassignProperties('scrollContentProps', {\n\t\t...(props.itemRenderer ? {itemRefs} : {}),\n\t\tscrollContentRef\n\t});\n\tassignProperties('verticalScrollbarProps', {scrollbarHandle: verticalScrollbarHandle});\n\tassignProperties('horizontalScrollbarProps', {scrollbarHandle: horizontalScrollbarHandle});\n\n\t// Return\n\n\treturn {\n\t\t...collectionOfProperties,\n\t\tscrollContentWrapper,\n\t\tscrollContentHandle,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible\n\t};\n};\n\nexport default useScroll;\nexport {\n\tassignPropertiesOf,\n\tconstants,\n\tuseScroll,\n\tuseScrollBase\n};\n","/**\n * Provides unstyled LabeledIcon components to be customized by a theme or application.\n *\n * @module ui/LabeledIcon\n * @exports LabeledIcon\n * @exports LabeledIconBase\n * @exports LabeledIconDecorator\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport ComponentOverride from '../ComponentOverride';\nimport {CellBase, LayoutBase} from '../Layout';\nimport Slottable from '../Slottable';\n\nimport componentCss from './LabeledIcon.module.less';\n\n/**\n * An icon component with a label.\n *\n * @class LabeledIconBase\n * @memberof ui/LabeledIcon\n * @ui\n * @public\n */\nconst LabeledIconBase = kind({\n\tname: 'ui:LabeledIcon',\n\n\tpropTypes: /** @lends ui/LabeledIcon.LabeledIconBase.prototype */ {\n\t\t/**\n\t\t * The label.\n\t\t *\n\t\t * This accepts strings, DOM, and Components, if you need more elaborate features. It may be\n\t\t * positioned using `labelPosition`.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `labeledIcon` - The root component class\n\t\t * * `icon` - The icon component class\n\t\t * * `iconCell` - Applied to the `iconComponent` directly, like `.icon`. If `icon` in a\n\t\t *                React component, this class is applied to the container of the icon,\n\t\t *                rather than the icon itself.\n\t\t * * `label` - The label component class\n\t\t * * `inline` - Applied when the inline prop is set\n\t\t * * `above` - Applied when the labelPosition prop is set to above\n\t\t * * `after` - Applied when the labelPosition prop is set to after\n\t\t * * `before` - Applied when the labelPosition prop is set to before\n\t\t * * `below` - Applied when the labelPosition prop is set to below\n\t\t * * `left` - Applied when the labelPosition prop is set to left\n\t\t * * `right` - Applied when the labelPosition prop is set to right\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Disables the component and becomes non-interactive.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Flip the icon horizontally, vertically or both.\n\t\t *\n\t\t * @type {('both'|'horizontal'|'vertical')}\n\t\t * @public\n\t\t */\n\t\tflip: PropTypes.string,\n\n\t\t/**\n\t\t * The icon.\n\t\t *\n\t\t * This will be passed as `children` to the `iconComponent`, unless you supply a React\n\t\t * element (like JSX) to this prop, directly or via the `<icon>` slot.\n\t\t *\n\t\t * @type {String|Element|Component}\n\t\t * @public\n\t\t */\n\t\ticon: EnactPropTypes.renderableOverride,\n\n\t\t/**\n\t\t * The component used to render the `icon`.\n\t\t *\n\t\t * This will receive the `icon` prop as `children` and should handle it appropriately. This\n\t\t * prop is ignored in the case of a component being passed into the `icon` prop. It will\n\t\t * also receive the `flip` and `size` props as set on the component.\n\t\t *\n\t\t * @type {Component}\n\t\t */\n\t\ticonComponent: EnactPropTypes.component,\n\n\t\t/**\n\t\t * Enables this component to be used in an \"inline\" context.\n\t\t *\n\t\t * This is useful for when you have several of these components in a row and are not using a\n\t\t * [Layout]{@link ui/Layout} or flex-box configuration.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tinline: PropTypes.bool,\n\n\t\t/**\n\t\t * The position of the label in relation to the icon element.\n\t\t *\n\t\t * Allowed values include:\n\t\t * * 'below' (default),\n\t\t * * 'above',\n\t\t * * 'left',\n\t\t * * 'right',\n\t\t * * 'before', and\n\t\t * * 'after'.\n\t\t *\n\t\t * The 'before' and 'after' values automatically swap sides when in an RTL locale context.\n\t\t *\n\t\t * @type {('above'|'after'|'before'|'below'|'left'|'right')}\n\t\t * @default 'below'\n\t\t * @public\n\t\t */\n\t\tlabelPosition: PropTypes.oneOf(['above', 'after', 'before', 'below', 'left', 'right']),\n\n\t\t/**\n\t\t * The size of the icon.\n\t\t *\n\t\t * Applies the CSS class which can be customized by\n\t\t * [theming]{@link /docs/developer-guide/theming/}.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tlabelPosition: 'below',\n\t\tinline: false,\n\t\tsize: 'large'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'labeledIcon',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({inline, labelPosition, styler}) => styler.append(labelPosition, {inline}),\n\t\torientation: ({labelPosition}) => {\n\t\t\tconst vertical = labelPosition === 'above' || labelPosition === 'below';\n\t\t\treturn vertical ? 'vertical' : 'horizontal';\n\t\t}\n\t},\n\n\trender: ({css, children, disabled, flip, icon, iconComponent: Icon, orientation, size, ...rest}) => {\n\t\tdelete rest.inline;\n\n\t\tlet iconClassName = css.icon;\n\n\t\t// Rearrange the props to support custom JSX components\n\t\t// `icon` is normally passed to `iconComponent` as children, but if `icon` is instead a\n\t\t// rendered JSX component, it should become a child of `Cell.icon` and iconComponent should\n\t\t// use Cell's default value. We must also reposition the `icon` class\n\t\tif (React.isValidElement(icon)) {\n\t\t\ticon = ComponentOverride({\n\t\t\t\tcomponent: icon,\n\t\t\t\tclassName: iconClassName,\n\t\t\t\tdisabled,\n\t\t\t\tsize\n\t\t\t});\n\t\t\t// Removing size and iconComponent from CellBase\n\t\t\t// eslint-disable-next-line no-undefined\n\t\t\tsize = Icon = undefined;\n\t\t\ticonClassName = null;\n\t\t}\n\n\t\tdelete rest.inline;\n\t\tdelete rest.labelPosition;\n\n\t\treturn LayoutBase.inline({\n\t\t\t...rest,\n\t\t\talign: 'center center',\n\t\t\tdisabled,\n\t\t\torientation,\n\t\t\tchildren: [\n\t\t\t\tCellBase.inline({\n\t\t\t\t\tkey: 'icon',\n\t\t\t\t\tshrink: true,\n\t\t\t\t\tsize: '100%',\n\t\t\t\t\tclassName: css.iconCell,\n\t\t\t\t\tchildren: Icon ?\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\tclassName={iconClassName}\n\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\tflip={flip}\n\t\t\t\t\t\t\tsize={size}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{icon}\n\t\t\t\t\t\t</Icon> : icon\n\t\t\t\t}),\n\t\t\t\tCellBase.inline({\n\t\t\t\t\tkey: 'label',\n\t\t\t\t\tshrink: true,\n\t\t\t\t\tcomponent: 'label',\n\t\t\t\t\tclassName: css.label,\n\t\t\t\t\tdisabled,\n\t\t\t\t\tchildren\n\t\t\t\t})\n\t\t\t]\n\t\t});\n\t}\n});\n\n/**\n * A higher-order component that adds [slot]{@link ui/Slottable.Slottable} support to [LabeledIconBase]{@link ui/LabeledIcon.LabeledIconBase}\n *\n * @hoc\n * @memberof ui/LabeledIcon\n * @mixes ui/Slottable.Slottable\n * @public\n */\nconst LabeledIconDecorator = compose(\n\tSlottable({slots: ['icon']})\n);\n\n/**\n * An icon component with a label without any behaviors applied to it.\n *\n * Usage:\n * ```\n * <LabeledIcon icon=\"star\" labelPosition=\"after\">\n *   Favorite\n * </LabeledIcon>\n * ```\n *\n * @class LabeledIcon\n * @memberof ui/LabeledIcon\n * @extends ui/LabeledIcon.LabeledIconBase\n * @mixes ui/LabeledIcon.LabeledIconDecorator\n * @ui\n * @public\n */\nconst LabeledIcon = LabeledIconDecorator(LabeledIconBase);\n\nexport default LabeledIcon;\nexport {\n\tLabeledIcon,\n\tLabeledIconBase,\n\tLabeledIconDecorator\n};\n","import classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, {forwardRef} from 'react';\n\nimport css from './ScrollbarTrack.module.less';\n\n/**\n * An unstyled scroll track without any behavior.\n *\n * @function ScrollbarTrack\n * @memberof ui/useScroll\n * @ui\n * @private\n */\nconst ScrollbarTrack = forwardRef((props, ref) => {\n\tconst\n\t\t{vertical, ...rest} = props,\n\t\tclassName = classNames(css.scrollbarTrack, vertical ? css.vertical : null);\n\n\treturn <div {...rest} className={className} ref={ref} />;\n});\n\nScrollbarTrack.displayName = 'ui:ScrollbarTrack';\n\nScrollbarTrack.propTypes = /** @lends ui/useScroll.ScrollbarTrack.prototype */ {\n\t/**\n\t * If `true`, the scrollbar will be oriented vertically.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @public\n\t */\n\tvertical: PropTypes.bool\n};\n\nScrollbarTrack.defaultProps = {\n\tvertical: true\n};\n\nexport default ScrollbarTrack;\nexport {\n\tScrollbarTrack,\n\tScrollbarTrack as ScrollbarTrackBase\n};\n","import classNames from 'classnames';\nimport {Job} from '@enact/core/util';\nimport PropTypes from 'prop-types';\nimport React, {memo, useEffect, useRef} from 'react';\nimport ReactDOM from 'react-dom';\n\nimport ri from '../resolution';\n\nimport ScrollbarTrack from './ScrollbarTrack';\n\nimport componentCss from './Scrollbar.module.less';\n\nconst scrollbarTrackHidingDelay = 900; // 900ms + 100ms(fade out duration) = 1000ms.\n\nconst addClass = (element, className) => {\n\tReactDOM.findDOMNode(element).classList.add(className); // eslint-disable-line react/no-find-dom-node\n};\n\nconst removeClass = (element, className) => {\n\tReactDOM.findDOMNode(element).classList.remove(className); // eslint-disable-line react/no-find-dom-node\n};\n\n/*\n * Set CSS Variable value.\n *\n * @method\n * @param {Node} element - Node.\n * @param {String} variable - CSS Variable property.\n * @param {String} value - CSS Variable value.\n */\nconst setCSSVariable = (element, variable, value) => {\n\tReactDOM.findDOMNode(element).style.setProperty(variable, value); // eslint-disable-line react/no-find-dom-node\n};\n\n/**\n * A custom hook that passes scrollbar behavior information as its render prop.\n *\n * @class\n * @memberof ui/useScroll\n * @ui\n * @private\n */\nconst useScrollbar = (props) => {\n\tconst {className, clientSize, corner, css, minThumbSize, scrollbarHandle, vertical, ...rest} = props;\n\t// Refs\n\tconst scrollbarContainerRef = useRef();\n\tconst scrollbarTrackRef = useRef();\n\tconst hideScrollbarTrackJob = useRef(null);\n\n\thideScrollbarTrackJob.current = hideScrollbarTrackJob.current || new Job(hideScrollbarTrack, scrollbarTrackHidingDelay);\n\n\tfunction hideScrollbarTrack () {\n\t\tremoveClass(scrollbarTrackRef.current, css.scrollbarTrackShown);\n\t}\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\thideScrollbarTrackJob.current.stop();\n\t\t};\n\t}, []);\n\n\tfunction getContainerRef () {\n\t\treturn scrollbarContainerRef;\n\t}\n\n\tfunction showScrollbarTrack () {\n\t\thideScrollbarTrackJob.current.stop();\n\t\taddClass(scrollbarTrackRef.current, css.scrollbarTrackShown);\n\t}\n\n\tfunction startHidingScrollbarTrack () {\n\t\thideScrollbarTrackJob.current.start();\n\t}\n\n\tfunction update (bounds) {\n\t\tconst\n\t\t\tprimaryDimension = vertical ? 'clientHeight' : 'clientWidth',\n\t\t\ttrackSize = clientSize ? clientSize[primaryDimension] : scrollbarContainerRef.current[primaryDimension],\n\t\t\tscrollViewSize = vertical ? bounds.clientHeight : bounds.clientWidth,\n\t\t\tscrollContentSize = vertical ? bounds.scrollHeight : bounds.scrollWidth,\n\t\t\tscrollOrigin = vertical ? bounds.scrollTop : bounds.scrollLeft,\n\t\t\tscrollbarThumbSizeRatioBase = (scrollViewSize / scrollContentSize),\n\t\t\tscrollbarThumbProgressRatio = (scrollOrigin / (scrollContentSize - scrollViewSize)),\n\t\t\tscrollbarThumbSizeRatio = Math.max(ri.scale(minThumbSize) / trackSize, Math.min(1, scrollbarThumbSizeRatioBase));\n\n\t\tsetCSSVariable(scrollbarTrackRef.current, '--scrollbar-thumb-size-ratio', scrollbarThumbSizeRatio);\n\t\tsetCSSVariable(scrollbarTrackRef.current, '--scrollbar-thumb-progress-ratio', scrollbarThumbProgressRatio);\n\t}\n\n\tscrollbarHandle.current = {\n\t\tgetContainerRef,\n\t\tshowScrollbarTrack,\n\t\tstartHidingScrollbarTrack,\n\t\tupdate\n\t};\n\n\treturn {\n\t\trestProps: rest,\n\t\tscrollbarProps: {\n\t\t\tclassName: classNames(\n\t\t\t\tclassName,\n\t\t\t\tcorner ? css.corner : null,\n\t\t\t\tcss.scrollbar,\n\t\t\t\tvertical ? css.vertical : css.horizontal\n\t\t\t),\n\t\t\tref: scrollbarContainerRef\n\t\t},\n\t\tscrollbarTrackProps: {\n\t\t\tref: scrollbarTrackRef,\n\t\t\tvertical\n\t\t}\n\t};\n};\n\n/**\n * An unstyled scroll bar.\n *\n * @class Scrollbar\n * @memberof ui/useScroll\n * @ui\n * @private\n */\nconst Scrollbar = memo((props) => {\n\tconst {\n\t\trestProps,\n\t\tscrollbarProps,\n\t\tscrollbarTrackProps\n\t} = useScrollbar(props);\n\n\treturn (\n\t\t<div {...restProps} {...scrollbarProps}>\n\t\t\t<ScrollbarTrack {...scrollbarTrackProps} />\n\t\t</div>\n\t);\n});\n\nScrollbar.displayName = 'ui:Scrollbar';\n\nScrollbar.propTypes = /** @lends ui/useScroll.Scrollbar.prototype */ {\n\t/**\n\t * Client size of the container; valid values are an object that has `clientWidth` and `clientHeight`.\n\t *\n\t * @type {Object}\n\t * @property {Number}    clientHeight    The client height of the list.\n\t * @property {Number}    clientWidth    The client width of the list.\n\t * @public\n\t */\n\tclientSize: PropTypes.shape({\n\t\tclientHeight: PropTypes.number.isRequired,\n\t\tclientWidth: PropTypes.number.isRequired\n\t}),\n\n\t/**\n\t * Adds a corner between the vertical and horizontal scrollbars.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tcorner: PropTypes.bool,\n\n\t/**\n\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t * corresponding internal elements and states of this component.\n\t *\n\t * The following classes are supported:\n\t *\n\t * * `scrollbar` - The scrollbar component class\n\t *\n\t * @type {Object}\n\t * @public\n\t */\n\tcss: PropTypes.object,\n\n\t/**\n\t * The minimum size of the thumb.\n\t *\n\t * This value will be scaled.\n\t *\n\t * @type {number}\n\t * @public\n\t */\n\tminThumbSize: PropTypes.number,\n\n\t/**\n\t * If `true`, the scrollbar will be oriented vertically.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @public\n\t */\n\tvertical: PropTypes.bool\n};\n\nScrollbar.defaultProps = {\n\tcorner: false,\n\tcss: componentCss,\n\tminThumbSize: 18,\n\tvertical: true\n};\n\nexport default Scrollbar;\nexport {\n\tScrollbar,\n\tScrollbar as ScrollbarBase,\n\tScrollbarTrack,\n\tuseScrollbar\n};\n","import EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ForwardRef from '../ForwardRef';\nimport ri from '../resolution';\n\nimport css from './Layout.module.less';\n\nconst toFlexAlign = (align) => (\n\talign === 'end' && 'flex-end' ||\n\talign === 'start' && 'flex-start' ||\n\talign\n);\n\n/**\n * A stateless component that provides a space for your content in a\n * [Layout]{@link ui/Layout.Layout}, without [CellDecorator](ui/Layout.CellDecorator) applied.\n *\n * @class CellBase\n * @memberof ui/Layout\n * @ui\n * @public\n */\nconst CellBase = kind({\n\tname: 'Cell',\n\n\tpropTypes: /** @lends ui/Layout.CellBase.prototype */ {\n\t\t/**\n\t\t * The alignment of `Cell`.\n\t\t *\n\t\t * Aligns this `Cell` vertically in the case of a horizontal layout or\n\t\t * horizontally in the case of a vertical layout. `\"start\"`, `\"center\"` and\n\t\t * `\"end\"` are the most commonly used, although all values of `align-self` are supported.\n\t\t * `\"start\"` refers to the top in a horizontal layout, and left in a vertical LTR layout\n\t\t * `\"end\"` refers to the bottom in a horizontal layout, and right in a vertical LTR layout\n\t\t * `\"start\"` and `\"end\"` reverse places when in a vertical layout in a RTL locale.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\talign: PropTypes.string,\n\n\t\t/**\n\t\t * Any valid [Node]{@link /docs/developer-guide/glossary/#node} that should be positioned in this `Cell`.\n\t\t *\n\t\t * @type {Any}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.any,\n\n\t\t/**\n\t\t * The type of component to use to render as the `Cell`. May be a DOM node name (e.g 'div',\n\t\t * 'span', etc.) or a custom component.\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @default 'div'\n\t\t * @public\n\t\t */\n\t\tcomponent:  EnactPropTypes.renderable,\n\n\t\t/**\n\t\t * Called with a reference to [component]{@link ui/Cell.Cell#component}\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @private\n\t\t */\n\t\tcomponentRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Sizes `Cell` to its contents.\n\t\t *\n\t\t * A `shrink`able cell will contract to its minimum size, according to the dimensions of its\n\t\t * contents. This is used when you want the size of this Cell's content to influence the\n\t\t * dimensions of this cell. `shrink` will not allow the contents of the Layout to be pushed\n\t\t * beyond its boundaries (overflowing). See the [size]{@link ui/Layout.Cell#size} property\n\t\t * for more details.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tshrink: PropTypes.bool,\n\n\t\t/**\n\t\t * Sets the desired size of the Cell using any valid CSS measurement value.\n\t\t *\n\t\t * When used in conjunction with [shrink]{@link ui/Layout.Cell#shrink}, the size will be\n\t\t * the maximum size, shrinking as necessary, to fit the content.\n\t\t *\n\t\t * E.g.\n\t\t * * `size=\"400px\"` -> cell will be 400px, regardless of the dimensions of your content\n\t\t * * `size=\"400px\" shrink` -> cell will be 400px if your content is greater than 400px,\n\t\t *   and will match your contents size if it's smaller\n\t\t *\n\t\t * This accepts any valid CSS measurement value string. If a numeric value is used, it will\n\t\t * be treated as a pixel value and converted to a\n\t\t * [relative unit]{@link ui/resolution.unit} based on the rules of\n\t\t * [resolution independence]{@link ui/resolution}.\n\t\t *\n\t\t * @type {String|Number}\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t},\n\n\tdefaultProps: {\n\t\tcomponent: 'div',\n\t\tshrink: false\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'cell'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({shrink, size, styler}) => styler.append({shrink, grow: (!shrink && !size)}),\n\t\tstyle: ({align, shrink, size, style}) => {\n\t\t\tif (typeof size === 'number') size = ri.unit(ri.scale(size), 'rem');\n\n\t\t\tlet cellSize = size;\n\t\t\tif (!size) {\n\t\t\t\tif (shrink) {\n\t\t\t\t\tcellSize = '100%';\n\t\t\t\t} else {\n\t\t\t\t\tcellSize = 'none';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...style,\n\t\t\t\talignSelf: toFlexAlign(align),\n\t\t\t\tflexBasis: (shrink ? null : size),\n\t\t\t\t// Setting 100% below in the presence of `shrink`` and absense of `size` prevents overflow\n\t\t\t\t'--cell-size': cellSize\n\t\t\t};\n\t\t}\n\t},\n\n\trender: ({component: Component, componentRef, ...rest}) => {\n\t\tdelete rest.align;\n\t\tdelete rest.shrink;\n\t\tdelete rest.size;\n\n\t\treturn <Component ref={componentRef} {...rest} />;\n\t}\n});\n\n/**\n * Applies Cell behaviors.\n *\n * @hoc\n * @memberof ui/Layout\n * @mixes ui/ForwardRef.ForwardRef\n * @public\n */\nconst CellDecorator = ForwardRef({prop: 'componentRef'});\n\n/**\n * A stateless component that provides a space for your content in a\n * [Layout]{@link ui/Layout.Layout}.\n *\n * @class Cell\n * @memberof ui/Layout\n * @extends ui/Layout.CellBase\n * @mixes ui/Layout.CellDecorator\n * @ui\n * @public\n */\nconst Cell = CellDecorator(CellBase);\n\nexport default Cell;\nexport {\n\tCell,\n\tCellBase,\n\tCellDecorator,\n\ttoFlexAlign\n};\n","/**\n * A convenient tool for laying-out content using `Layout`, `Cell`, `Row`, and `Column`.\n *\n * Layout is a powerful and versatile tool used for arranging content on the screen. On a conceptual\n * level, it mixes the best parts of HTML tables wtih the best parts of HTML framesets, both of\n * which were largely abandoned for their drawbacks, ignoring their strengths. A `Layout` is simply\n * a container for `Cell`, the only \"legal\" child. Conversely, `Cell` may only be used in a\n * `Layout`. Cells in a Layout can either be positioned next to each other (horizontally) or\n * above/below each other (vertically) in what we refer to as a [Row]{@link ui/Layout.Row} or\n * [Column]{@link ui/Layout.Column}, respectively.\n *\n * The `Row` and `Column` layout presets describe the direction of layout for their children. This\n * can sometimes cause confusion. A `Row` of children naturally forms a _layout_ whose children can\n * have the _appearance_ of columns. To keep things clear, think about the layout rather than the\n * what the children themselves represent.\n *\n * `Layout` is an implementation of flex-box, but with built-in rails, properties, and features to\n * help avoid common problems with flex-box; things like content overflowing, sizing quirks, and\n * positioning problems regarding content of unknown or undefined dimension.\n *\n * The following scenarios are some common cases where `Layout` can truly help out. A quality of\n * `Cell` you'll see below is that when a `Cell` has no defined size, it automatically sizes to fill\n * any remaining space in the `Layout`. If there are multiple auto-sizing `Cell` components, they\n * share the space, subdividing it equally among themselves. It's great to leverage this and only\n * apply sizes to `Cell`s which must have defined sizes. `shrink` is one of the ways you can impose\n * size guidelines on a `Cell`. It automatically fits the size of the Cell to the size of its\n * content.\n *\n * A row of cells where the last one should always attach to the right side, regardless of the size\n * of the main \"content\" cell:\n * ```\n * ┌───────┬─┐\n * │Main   │R│\n * └───────┴─┘\n * ```\n *\n * ```\n * <Row>\n * \t<Cell>Main Content</Cell>\n * \t<Cell shrink>Right Side</Cell>\n * </Row>\n * ```\n *\n * A \"two-column\" layout with equal sized cells using `Row`:\n * ```\n * ┌────┬────┐\n * │L   │R   │\n * └────┴────┘\n * ```\n *\n * ```\n * <Row style={{height: '100%'}}>\n * \t<Cell>Left Column</Cell>\n * \t<Cell>Right Column</Cell>\n * </Row>\n * ```\n * *Remember:* The cells of the `Row` are the columns in our layout. It's likely that in a complex\n * layout `Column` would be used inside the left and right cells to arrange the components, as in\n * the example below.\n *\n * A full-height sidebar with a header and body to the right:\n * ```\n * ┌──┬──────┐\n * │S │HEADER│\n * │  ├──────┤\n * │  │Body  │\n * │  │      │\n * └──┴──────┘\n * ```\n *\n * ```\n * <Row style={{height: '100%'}}>\n * \t<Cell size=\"20%\">Sidebar</Cell>\n * \t<Cell>\n * \t\t<Column>\n * \t\t\t<Cell size={90} component=\"header\">\n * \t\t\t\t<h1>HEADER</h1>\n * \t\t\t</Cell>\n * \t\t\t<Cell>\n * \t\t\t\t<p>Body area</p>\n * \t\t\t</Cell>\n * \t\t</Column>\n * \t</Cell>\n * </Row>\n * ```\n * *Note:* Here, we've set the height of `Row` so it fills the height of the screen, allowing the\n * Sidebar Cell and content Cell to stretch from the top to the bottom. We've also leveraged the\n * `component` prop on the header cell, which tells `Cell` to render itself as a \"header\" HTML tag\n * rather than its usual \"div\" tag.\n *\n * The example below produces a layout like the following:\n * ```\n * ┌─┬─────┬─┐\n * │o│Item │o│\n * └─┴─────┴─┘\n * ```\n *\n * You'll notice the use of some special classes in the example: `\"debug layout\"`. Adding these on\n * any element in your DOM hierarchy will enable borders in Layout and Cell to help visualize what\n * is happening in the layout. They automatically change color the deeper in the stack they go.\n *\n * @example\n * <Layout className=\"debug layout\">\n * \t<Cell shrink>\n * \t\t<button>First</button>\n * \t</Cell>\n * \t<Cell>\n * \t\t<div>A div with some long text in it</div>\n * \t</Cell>\n * \t<Cell shrink>\n * \t\t<button>Last</button>\n * \t</Cell>\n * </Layout>\n *\n * @module ui/Layout\n * @exports Cell\n * @exports CellBase\n * @exports CellDecorator\n * @exports Column\n * @exports Layout\n * @exports LayoutBase\n * @exports LayoutDecorator\n * @exports Row\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ForwardRef from '../ForwardRef';\n\nimport {Cell, CellBase, CellDecorator, toFlexAlign} from './Cell';\n\nimport css from './Layout.module.less';\n\n/**\n * A container for `Cell`s.\n *\n * A stateless component that acts as a containing area for [Cells]{@link ui/Layout.Cell} to be\n * positioned in a row or a column (horizontally or vertically, respectively. It supports an\n * [orientation]{@link ui/Layout.Layout#orientation} property for laying-out its contents\n * (`Cells`) in an organized, readable way.\n *\n * Example:\n * ```\n * import Input from '@enact/moonstone/Input';\n * import css from './LayoutExample.less';\n * ...\n * <fieldset>\n * \t<Layout align=\"center\">\n * \t\t<Cell component=\"label\" size=\"40%\" className={css.label} shrink>First Name</Cell>\n * \t\t<Cell component={Input} placeholder=\"First\" className={css.input} />\n * \t</Layout>\n * \t<Layout align=\"center\">\n * \t\t<Cell component=\"label\" size=\"40%\" className={css.label} shrink>Last Name</Cell>\n * \t\t<Cell component={Input} placeholder=\"Last\" className={css.input} />\n * \t</Layout>\n * </fieldset>\n * ```\n *\n * @class LayoutBase\n * @ui\n * @memberof ui/Layout\n * @public\n */\nconst LayoutBase = kind({\n\tname: 'LayoutBase',\n\n\tpropTypes: /** @lends ui/Layout.LayoutBase.prototype */ {\n\t\t/**\n\t\t * The alignment of children.\n\t\t *\n\t\t * Aligns the children [Cells]{@link ui/Layout.Cell} vertically in the case of a horizontal\n\t\t * layout or horizontally in the case of a vertical layout. `\"start\"`, `\"center\"` and\n\t\t * `\"end\"` are the most commonly used, although all values of `align-items` are supported.\n\t\t * `\"start\"` refers to the top in a horizontal layout, and left in a vertical LTR layout\n\t\t * `\"end\"` refers to the bottom in a horizontal layout, and right in a vertical LTR layout\n\t\t * `\"start\"` and `\"end\"` reverse places when in a vertical layout in a RTL locale.\n\t\t * This includes support for `align-parts` which is shorthand for combining `align-items`\n\t\t * and `justify-content` into a single property, separated by a space, in that order.\n\t\t * This allows you to specify both the horizontal and vertical alignment in one property,\n\t\t * separated by a space.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\talign: PropTypes.string,\n\n\t\t/**\n\t\t * Only [Cell]{@link ui/Layout.Cell} components are supported as children.\n\t\t *\n\t\t * @type {Cell|Cell[]}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.any,\n\n\t\t/**\n\t\t * The type of component to use to render as the `Layout`. May be a DOM node name (e.g 'div',\n\t\t * 'span', etc.) or a custom component.\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @default 'div'\n\t\t * @public\n\t\t */\n\t\tcomponent:  EnactPropTypes.renderable,\n\n\t\t/**\n\t\t * Called with a reference to [component]{@link ui/Layout.Layout#component}\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @private\n\t\t */\n\t\tcomponentRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Allows this `Layout` to have following siblings drawn on the same line as itself\n\t\t * instead of carving out the entire horizontal space for itself.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tinline: PropTypes.bool,\n\n\t\t/**\n\t\t * The orientation of the `Layout`, i.e. how the children [Cells]{@link ui/Layout.Cell} are\n\t\t * positioned on the screen. Must be either `'horizontal'` or `'vertical'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'horizontal'\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t/**\n\t\t * Sets the Layout's `flex-wrap` values.\n\t\t *\n\t\t * Determines how a Layout handles its cells if there are more than fit in the available\n\t\t * space. This works like a normal `Boolean` prop, but also accepts strings for customization\n\t\t * beyond the basic on/off support. In addition to `true` and `false`, the following strings\n\t\t * are supported: 'wrap', 'nowrap', 'reverse'. 'reverse' performs standard line wrapping but\n\t\t * additional lines are placed above/before the preceding line instead of below/after.\n\t\t *\n\t\t * @type {Boolean|String}\n\t\t * @public\n\t\t */\n\t\twrap: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf(['reverse', 'nowrap', 'wrap'])])\n\t},\n\n\tdefaultProps: {\n\t\tcomponent: 'div',\n\t\tinline: false,\n\t\torientation: 'horizontal',\n\t\twrap: false\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'layout'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({inline, orientation, wrap, styler}) => {\n\t\t\treturn styler.append(\n\t\t\t\torientation,\n\t\t\t\t{\n\t\t\t\t\tinline,\n\t\t\t\t\tnowrap: wrap === false || wrap === 'nowrap',\n\t\t\t\t\twrap: wrap === true || wrap === 'wrap',\n\t\t\t\t\twrapReverse: wrap === 'wrapReverse'\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\tstyle: ({align, style}) => {\n\t\t\tif (!align) return style;\n\n\t\t\t// This is effectively a polyfill for the upcoming `place-items` prop which is shorthand\n\t\t\t// for align-items and justify-items together\n\t\t\tconst alignParts = align.split(' ');\n\n\t\t\treturn {\n\t\t\t\t...style,\n\t\t\t\talignItems: toFlexAlign(alignParts[0]),\n\t\t\t\tjustifyContent: toFlexAlign(alignParts[1])\n\t\t\t};\n\t\t}\n\t},\n\n\trender: ({component: Component, componentRef, ...rest}) => {\n\t\tdelete rest.align;\n\t\tdelete rest.inline;\n\t\tdelete rest.orientation;\n\t\tdelete rest.wrap;\n\n\t\treturn <Component ref={componentRef} {...rest} />;\n\t}\n});\n\n/**\n * Applies Layout behaviors.\n *\n * @hoc\n * @memberof ui/Layout\n * @mixes ui/ForwardRef.ForwardRef\n * @public\n */\nconst LayoutDecorator = ForwardRef({prop: 'componentRef'});\n\n/**\n * A container for `Cell`s.\n *\n * A stateless component that acts as a containing area for [Cells]{@link ui/Layout.Cell} to be\n * positioned in a row or a column (horizontally or vertically, respectively. It supports an\n * [orientation]{@link ui/Layout.Layout#orientation} property for laying-out its contents\n * (`Cells`) in an organized, readable way.\n *\n * Example:\n * ```\n * import Input from '@enact/moonstone/Input';\n * import css from './LayoutExample.less';\n * ...\n * <fieldset>\n * \t<Layout align=\"center\">\n * \t\t<Cell component=\"label\" size=\"40%\" className={css.label} shrink>First Name</Cell>\n * \t\t<Cell component={Input} placeholder=\"First\" className={css.input} />\n * \t</Layout>\n * \t<Layout align=\"center\">\n * \t\t<Cell component=\"label\" size=\"40%\" className={css.label} shrink>Last Name</Cell>\n * \t\t<Cell component={Input} placeholder=\"Last\" className={css.input} />\n * \t</Layout>\n * </fieldset>\n * ```\n *\n * @class Layout\n * @memberof ui/Layout\n * @extends ui/Layout.LayoutBase\n * @mixes ui/ForwardRef.ForwardRef\n * @ui\n * @public\n */\nconst Layout = LayoutDecorator(LayoutBase);\n\n/**\n * Shorthand for `<Layout orientation=\"vertical\">`, which positions its\n * [Cells]{@link ui/Layout.Cell} vertically.\n * ```\n * ┌────┐\n * ├────┤\n * ├────┤\n * ├────┤\n * └────┘\n * ```\n *\n * @class Column\n * @memberof ui/Layout\n * @extends ui/Layout.Layout\n * @mixes ui/ForwardRef.ForwardRef\n * @ui\n * @public\n */\nconst Column = LayoutDecorator((props) => (\n\tLayoutBase.inline({\n\t\t...props,\n\t\torientation: 'vertical'\n\t})\n));\nColumn.displayName = 'Column';\n\n/**\n * Shorthand for `<Layout orientation=\"horizontal\">`, which positions its\n * [Cells]{@link ui/Layout.Cell} horizontally.\n * ```\n * ┌─┬─┬─┬─┐\n * │ │ │ │ │\n * └─┴─┴─┴─┘\n * ```\n *\n * @class Row\n * @memberof ui/Layout\n * @extends ui/Layout.Layout\n * @mixes ui/ForwardRef.ForwardRef\n * @ui\n * @public\n */\nconst Row = LayoutDecorator((props) => (\n\tLayoutBase.inline({\n\t\t...props,\n\n\t\torientation: 'horizontal'\n\t})\n));\nRow.displayName = 'Row';\n\nexport default Layout;\nexport {\n\tCell,\n\tCellBase,\n\tCellDecorator,\n\tColumn,\n\tLayout,\n\tLayoutBase,\n\tLayoutDecorator,\n\tRow\n};\n","/*\n * Exports a number of pre-defined arrangers for use with {@link ui/ViewManager}.\n * note: not jsdoc on purpose\n */\n\nimport PropTypes from 'prop-types';\n\nconst slideInOut = (direction, total, orientation) => {\n\tconst p = direction === 'out' ? total : -total;\n\n\treturn\torientation === 'top'    && 'translateY(' + -p + '%)' ||\n\t\t\torientation === 'bottom' && 'translateY(' + p + '%)'  ||\n\t\t\torientation === 'left'   && 'translateX(' + -p + '%)' ||\n\t\t\torientation === 'right'  && 'translateX(' + p + '%)';\n};\n\nexport const arrange = ({duration, node, reverse}, keyframes, options) => {\n\treturn node.animate(keyframes, {\n\t\tduration,\n\t\tdirection: reverse ? 'reverse' : 'normal',\n\t\tfill: 'forwards',\n\t\t...options\n\t});\n};\n\n/**\n * A function that generates an animation for a given transition configuration\n *\n * @callback ArrangerCallback\n * @param {Object} config                                      - Animation configuration object.\n * @param {Number} config.duration                             - Duration of the animation in ms.\n * @param {('forwards'|'backwards'|'both'|'none')} config.fill - Animation effect should be\n *                                                               reflected by previous state or\n *                                                               retained after animation.\n * @param {Number} config.from                                 - Index from which the ViewManager is\n *                                                               transitioning.\n * @param {Node} config.node                                   - DOM node to be animated.\n * @param {Boolean} config.reverse                             - `true` when the animation should be\n *                                                               reversed.\n * @param {Boolean} config.rtl                                 - `true` when the ViewManager was\n *                                                                configured with `rtl` for locales\n *                                                                that use right-to-left reading\n *                                                                order.\n * @param {Number} config.to                                   - Index to which the ViewManager is\n *                                                               transitioning.\n * @returns {Animation} An `Animation`-compatible object\n * @public\n * @memberof ui/ViewManager\n */\n\n/**\n * An object with callback functions to arrange views within {@link ui/ViewManager.ViewManager}.\n *\n * @typedef {Object} Arranger\n * @property {ArrangerCallback} enter  - Returns an array of keyframes describing the animation when\n *                                       a view is entering the viewport.\n * @property {ArrangerCallback} leave  - Returns an array of keyframes describing the animation when\n *                                       a view is leaving the viewport.\n * @property {ArrangerCallback} [stay] - Returns an array of keyframes describing the animation when\n *                                       a view is remaining in the viewport.\n * @public\n * @memberof ui/ViewManager\n */\n\n/**\n * A basic arranger factory that must be configured with `direction` and optionally an `amount`.\n *\n * @function\n * @memberof ui/ViewManager\n * @param {Object}                          config              - Configuration object.\n * @param {Object}                          [config.amount=100] - Amount, as a whole number, to\n *                                                                \"slide\" where 100 is the entire\n *                                                                size of the node along the axis of\n *                                                                the `direction`.\n * @param {('bottom'|'left'|'right'|'top')} config.direction    - Direction from which the view will\n *                                                                transition.\n * @returns {Arranger}            An arranger\n * @public\n */\nexport const SlideArranger = ({amount = 100, direction}) => ({\n\tenter: (config) => arrange(config, [\n\t\t{transform: slideInOut('in', amount, direction)},\n\t\t{transform: slideInOut('in', 0, direction)}\n\t]),\n\tleave: (config) => arrange(config, [\n\t\t{transform: slideInOut('out', 0, direction)},\n\t\t{transform: slideInOut('out', amount, direction)}\n\t]),\n\tstay: (config) => arrange(config, [\n\t\t{transform: slideInOut('in', 0, direction)},\n\t\t{transform: slideInOut('in', 0, direction)}\n\t])\n});\n\n/**\n * An arranger that enters from the left and leaves to the right.\n *\n * @type {Arranger}\n * @memberof ui/ViewManager\n * @public\n */\nexport const SlideRightArranger = SlideArranger({direction: 'right'});\n\n/**\n * An arranger that enters from the right and leaves to the left..\n *\n * @type {Arranger}\n * @memberof ui/ViewManager\n * @public\n */\nexport const SlideLeftArranger = SlideArranger({direction: 'left'});\n\n/**\n * An arranger that enters from the bottom and leaves to the top..\n *\n * @type {Arranger}\n * @memberof ui/ViewManager\n * @public\n */\nexport const SlideTopArranger = SlideArranger({direction: 'top'});\n\n/**\n * An arranger that enters from the top and leaves to the bottom..\n *\n * @type {Arranger}\n * @memberof ui/ViewManager\n * @public\n */\nexport const SlideBottomArranger = SlideArranger({direction: 'bottom'});\n\n/**\n * propType validation for Arranger transitions\n * @memberof ui/ViewManager\n * @private\n */\nexport const shape = PropTypes.shape({\n\tenter: PropTypes.func,\n\tleave: PropTypes.func\n});\n","/**\n * A internal Picker component.\n *\n * @module agate/internal/Picker\n * @exports Picker\n * @exports PickerDecorator\n */\n\nimport {adaptEvent, forEventProp, forward, handle, oneOf} from '@enact/core/handle';\nimport kind from '@enact/core/kind';\nimport Spottable from '@enact/spotlight/Spottable';\nimport Changeable from '@enact/ui/Changeable';\nimport IdProvider from '@enact/ui/internal/IdProvider';\nimport Touchable from '@enact/ui/Touchable';\nimport PropTypes from 'prop-types';\nimport clamp from 'ramda/src/clamp';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport $L from '../$L';\nimport Skinnable from '../../Skinnable';\n\nimport css from './Picker.module.less';\n\nconst PickerRoot = Touchable('div');\nconst PickerButtonItem = Spottable('div');\n\nconst handleChange = direction => handle(\n\tadaptEvent(\n\t\t(ev, {min, max, step, value}) => ({\n\t\t\tvalue: clamp(min, max, value + (direction * step))\n\t\t}),\n\t\tforward('onChange')\n\t)\n);\n\nconst increment = handleChange(1);\nconst decrement = handleChange(-1);\n\n/**\n * The base component for {@link agate/internal/Picker.Picker}.\n *\n * @class Picker\n * @memberof agate/internal/Picker\n * @ui\n * @private\n */\nconst PickerBase = kind({\n\tname: 'Picker',\n\n\tpropTypes: /** @lends agate/internal/Picker.Picker.prototype */ {\n\t\t/**\n\t\t * The maximum value selectable by the picker (inclusive).\n\t\t *\n\t\t * The range between `min` and `max` should be evenly divisible by\n\t\t * [step]{@link agate/internal/Picker.Picker.step}.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tmax: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The minimum value selectable by the picker (inclusive).\n\t\t *\n\t\t * The range between `min` and `max` should be evenly divisible by\n\t\t * [step]{@link agate/internal/Picker.Picker.step}.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tmin: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * Overrides the `aria-valuetext` for the picker. By default, `aria-valuetext` is set\n\t\t * to the current value. This should only be used when the parent controls the value of\n\t\t * the picker directly through the props.\n\t\t *\n\t\t * @type {String|Number}\n\t\t * @memberof agate/internal/Picker.Picker.prototype\n\t\t * @public\n\t\t */\n\t\t'aria-valuetext': PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n\t\t/**\n\t\t * Children from which to pick\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Class name for component.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tclassName: PropTypes.string,\n\n\t\t/**\n\t\t * Sets the hint string read when focusing the decrement button.\n\t\t *\n\t\t * @default 'previous item'\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tdecrementAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * Disables the picker.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * The picker id reference for setting aria-controls.\n\t\t *\n\t\t * @type {String}\n\t\t * @private\n\t\t */\n\t\tid: PropTypes.string,\n\n\t\t/**\n\t\t * Sets the hint string read when focusing the increment button.\n\t\t *\n\t\t * @default 'next item'\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tincrementAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * A function to run when the control should increment or decrement.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChange: PropTypes.func,\n\n\t\t/**\n\t\t * Orientation of the picker.\n\t\t *\n\t\t * Controls whether the buttons are arranged horizontally or vertically around the value.\n\t\t *\n\t\t * * Values: `'horizontal'`, `'vertical'`\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'vertical'\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t/**\n\t\t * Allow the picker to only increment or decrement by a given value.\n\t\t *\n\t\t * A step of `2` would cause a picker to increment from 10 to 12 to 14, etc. It must evenly\n\t\t * divide into the range designated by `min` and `max`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t * @public\n\t\t */\n\t\tstep: PropTypes.number,\n\n\t\t/**\n\t\t * Index of the selected child.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.number\n\t},\n\n\tdefaultProps: {\n\t\torientation: 'vertical',\n\t\tstep: 1,\n\t\tvalue: 0\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'picker',\n\t\tpublicClassNames: true\n\t},\n\n\thandlers: {\n\t\thandleDecrement: decrement,\n\t\thandleFlick: handle(\n\t\t\tforEventProp('direction', 'vertical'),\n\t\t\t// ignore \"slow\" flicks by filtering out velocity below a threshold\n\t\t\toneOf(\n\t\t\t\t[({velocityY}) => velocityY < 0, increment],\n\t\t\t\t[({velocityY}) => velocityY > 0, decrement]\n\t\t\t)\n\t\t),\n\t\thandleIncrement: increment\n\t},\n\n\tcomputed: {\n\t\tactiveClassName: ({styler}) => styler.join('active', 'item'),\n\t\tclassName: ({orientation, styler}) => styler.append(orientation),\n\t\tcurrentValueText: ({'aria-valuetext': valueText, children: values, value}) => {\n\t\t\tif (Array.isArray(values)) {\n\t\t\t\treturn `${typeof valueText !== 'undefined' ? valueText : values[value]}`;\n\t\t\t} else {\n\t\t\t\treturn `${typeof valueText !== 'undefined' ? valueText : value}`;\n\t\t\t}\n\t\t},\n\t\tdecrementAriaLabel: ({'aria-valuetext': valueText, children: values, decrementAriaLabel = $L('previous item'), value}) => {\n\t\t\tif (Array.isArray(values)) {\n\t\t\t\treturn `${valueText != null ? valueText : values[value]} ${decrementAriaLabel}`;\n\t\t\t} else {\n\t\t\t\treturn `${valueText != null ? valueText : value} ${decrementAriaLabel}`;\n\t\t\t}\n\n\t\t},\n\t\tincrementAriaLabel: ({'aria-valuetext': valueText, children: values, incrementAriaLabel = $L('next item'), value}) => {\n\t\t\tif (Array.isArray(values)) {\n\t\t\t\treturn `${valueText != null ? valueText : values[value]} ${incrementAriaLabel}`;\n\t\t\t} else {\n\t\t\t\treturn `${valueText != null ? valueText : value} ${incrementAriaLabel}`;\n\t\t\t}\n\t\t},\n\t\tvalueId: ({id}) => `${id}_value`\n\t},\n\n\trender: (props) => {\n\t\tconst {\n\t\t\tactiveClassName,\n\t\t\tchildren: values,\n\t\t\tcurrentValueText,\n\t\t\tdecrementAriaLabel,\n\t\t\thandleDecrement,\n\t\t\thandleFlick,\n\t\t\thandleIncrement,\n\t\t\tincrementAriaLabel,\n\t\t\tmin,\n\t\t\tmax,\n\t\t\tstep,\n\t\t\tvalue,\n\t\t\tvalueId,\n\t\t\t...rest\n\t\t} = props;\n\t\tconst currentValue = Array.isArray(values) ? values[value] : value;\n\t\tconst decrementValue = clamp(min, max, Array.isArray(values) ? values[value - step] : value - step);\n\t\tconst incrementValue = clamp(min, max, Array.isArray(values) ? values[value + step] : value + step);\n\t\tconst isFirst = value <= min;\n\t\tconst isLast = value >= max;\n\n\t\treturn (\n\t\t\t<PickerRoot {...rest} onFlick={handleFlick}>\n\t\t\t\t<PickerButtonItem\n\t\t\t\t\taria-controls={valueId}\n\t\t\t\t\taria-disabled={isFirst}\n\t\t\t\t\taria-label={decrementAriaLabel}\n\t\t\t\t\tclassName={css.itemDecrement}\n\t\t\t\t\tdisabled={isFirst}\n\t\t\t\t\tonClick={handleDecrement}\n\t\t\t\t>\n\t\t\t\t\t<div className={css.label}>\n\t\t\t\t\t\t{isFirst ? '' : decrementValue}\n\t\t\t\t\t</div>\n\t\t\t\t</PickerButtonItem>\n\t\t\t\t<div\n\t\t\t\t\taria-valuetext={currentValueText}\n\t\t\t\t\tclassName={activeClassName}\n\t\t\t\t\tid={valueId}\n\t\t\t\t\trole=\"spinbutton\"\n\t\t\t\t>\n\t\t\t\t\t<div className={css.label}>\n\t\t\t\t\t\t{currentValue}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<PickerButtonItem\n\t\t\t\t\taria-controls={valueId}\n\t\t\t\t\taria-disabled={isLast}\n\t\t\t\t\taria-label={incrementAriaLabel}\n\t\t\t\t\tclassName={css.itemIncrement}\n\t\t\t\t\tdisabled={isLast}\n\t\t\t\t\tonClick={handleIncrement}\n\t\t\t\t>\n\t\t\t\t\t<div className={css.label}>\n\t\t\t\t\t\t{isLast ? '' : incrementValue}\n\t\t\t\t\t</div>\n\t\t\t\t</PickerButtonItem>\n\t\t\t</PickerRoot>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [PickerBase]{@link agate/Picker.PickerBase}.\n *\n * @hoc\n * @memberof agate/internal/Picker\n * @mixes ui/Changeable.Changeable\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst PickerDecorator = compose(\n\tIdProvider({generateProp: null}),\n\tChangeable,\n\tSkinnable\n);\n\nconst Picker = PickerDecorator(PickerBase);\n\nexport default Picker;\nexport {\n\tPicker,\n\tPickerBase,\n\tPickerDecorator\n};\n","/*\n * Exports the {@link ui/ViewManager.TransitionGroup} component.\n */\n\n// Using string refs from the source code of ReactTransitionGroup\n/* eslint-disable react/no-string-refs */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport {forward} from '@enact/core/handle';\nimport PropTypes from 'prop-types';\nimport eqBy from 'ramda/src/eqBy';\nimport findIndex from 'ramda/src/findIndex';\nimport identity from 'ramda/src/identity';\nimport prop from 'ramda/src/prop';\nimport propEq from 'ramda/src/propEq';\nimport remove from 'ramda/src/remove';\nimport unionWith from 'ramda/src/unionWith';\nimport useWith from 'ramda/src/useWith';\nimport React from 'react';\n\n/**\n * Returns the index of a child in an array found by `key` matching\n *\n * @param {Object} child React element to find\n * @param {Object[]} children Array of React elements\n * @returns {Number} Index of child\n * @method\n * @private\n */\n// eslint-disable-next-line react-hooks/rules-of-hooks\nconst indexOfChild = useWith(findIndex, [propEq('key'), identity]);\n\n/**\n * Returns an array of non-null children\n *\n * @param  {Object[]} children Array of React children\n *\n * @returns {Object[]}          Array of children\n * @private\n */\nconst mapChildren = function (children) {\n\tconst result = children && React.Children.toArray(children);\n\treturn result ? result.filter(c => !!c) : [];\n};\n\n/**\n * Merges two arrays of children without any duplicates (by `key`)\n *\n * @param {Object[]} a Set of children\n * @param {Object[]} b Set of children\n * @returns {Object[]} Merged set of children\n * @method\n * @private\n */\nconst mergeChildren = unionWith(eqBy(prop('key')));\n\n// Cached event forwarders\nconst forwardOnAppear = forward('onAppear');\nconst forwardOnEnter = forward('onEnter');\nconst forwardOnLeave = forward('onLeave');\nconst forwardOnStay = forward('onStay');\nconst forwardOnTransition = forward('onTransition');\nconst forwardOnWillTransition = forward('onWillTransition');\n\n/**\n * Manages the transition of added and removed child components. Children that are added are\n * transitioned in and those removed are transition out via optional callbacks on the child.\n *\n * Ported from [ReactTransitionGroup]\n * (https://facebook.github.io/react/docs/animation.html#low-level-api-reacttransitiongroup).\n * Currently somewhat specialized for the purposes of ViewManager.\n *\n * @class TransitionGroup\n * @memberof ui/ViewManager\n * @private\n */\n\nclass TransitionGroup extends React.Component {\n\tstatic propTypes = /** @lends ui/ViewManager.TransitionGroup.prototype */ {\n\t\tchildren: PropTypes.node.isRequired,\n\n\t\t/**\n\t\t * Adapts children to be compatible with TransitionGroup\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tchildFactory: PropTypes.func,\n\n\t\t/**\n\t\t * Type of component wrapping the children.\n\t\t *\n\t\t * May be a DOM node or a custom React component.\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @default 'div'\n\t\t */\n\t\tcomponent: EnactPropTypes.renderable,\n\n\t\t/**\n\t\t * Called with a reference to [component]{@link ui/ViewManager.TransitionGroup#component}\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @private\n\t\t */\n\t\tcomponentRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Current Index the ViewManager is on\n\t\t *\n\t\t * @type {Number}\n\t\t */\n\t\tcurrentIndex: PropTypes.number,\n\n\t\t/**\n\t\t * Called when each view is rendered during initial construction.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonAppear: PropTypes.func,\n\n\t\t/**\n\t\t * Called when each view completes its transition into the viewport.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonEnter: PropTypes.func,\n\n\t\t/**\n\t\t * Called when each view completes its transition out of the viewport.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonLeave: PropTypes.func,\n\n\t\t/**\n\t\t * Called when each view completes its transition within the viewport.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonStay: PropTypes.func,\n\n\t\t/**\n\t\t * Called once when all views have completed their transition.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonTransition: PropTypes.func,\n\n\t\t/**\n\t\t * Called once before views begin their transition.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonWillTransition: PropTypes.func,\n\n\t\t/**\n\t\t * Maximum number of rendered children.\n\t\t *\n\t\t * Used to limit how many visible transitions are active at any time.\n\t\t * A value of 1 would prevent any exit transitions whereas a value of 2,\n\t\t * the default, would ensure that only 1 view is transitioning on and 1 view is\n\t\t * transitioning off at a time.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 2\n\t\t */\n\t\tsize: PropTypes.number\n\t};\n\n\tstatic defaultProps = {\n\t\tchildFactory: identity,\n\t\tcomponent: 'div',\n\t\tsize: 2\n\t};\n\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tfirstRender: true,\n\t\t\tchildren: []\n\t\t};\n\n\t\tthis.hasMounted = false;\n\t\tthis.currentlyTransitioningKeys = {};\n\t\tthis.keysToEnter = [];\n\t\tthis.keysToLeave = [];\n\t\tthis.keysToStay = [];\n\t\tthis.groupRefs = {};\n\t}\n\n\tstatic getDerivedStateFromProps (props, state) {\n\t\tconst children = mapChildren(props.children).slice(0, props.size);\n\n\t\tif (state.firstRender) {\n\t\t\treturn {\n\t\t\t\tactiveChildren: children,\n\t\t\t\tchildren,\n\t\t\t\tfirstRender: false\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tactiveChildren: children,\n\t\t\tchildren: mergeChildren(children, state.children).slice(0, props.size)\n\t\t};\n\t}\n\n\tcomponentDidMount () {\n\t\tthis.hasMounted = true;\n\n\t\t// this isn't used by ViewManager or View at the moment but leaving it around for future\n\t\t// flexibility\n\t\tthis.state.children.forEach(child => this.performAppear(child.key));\n\t}\n\n\tcomponentDidUpdate (prevProps, prevState) {\n\t\tthis.reconcileUnmountedChildren(prevState.children, this.state.children);\n\t\tthis.reconcileChildren(prevState.activeChildren, this.state.activeChildren);\n\t}\n\n\treconcileUnmountedChildren (prevChildMapping, nextChildMapping) {\n\t\tconst nextChildKeys = nextChildMapping.map(c => c.key);\n\t\tconst prevChildKeys = prevChildMapping.map(c => c.key);\n\n\t\t// `state.children` represents the mounted children. if a view change happens during a\n\t\t// transition causing the View to be unmounted before it fires its callback, the\n\t\t// currentlyTransitioningKeys map will be out of sync. To manage that, we check for keys\n\t\t// that have fallen out of the `children` array and manually clean them up from the map.\n\t\tprevChildKeys\n\t\t\t.filter(key => !nextChildKeys.includes(key))\n\t\t\t.forEach(key => this.completeTransition({key}));\n\t}\n\n\treconcileChildren (prevActiveChildMapping, nextActiveChildMapping) {\n\t\tconst {size} = this.props;\n\n\t\tconst nextChildKeys = nextActiveChildMapping.map(c => c.key);\n\t\tconst prevChildKeys = prevActiveChildMapping.map(c => c.key);\n\t\tconst droppedKeys = prevChildKeys.filter(key => !nextChildKeys.includes(key));\n\n\t\t// if children haven't changed, there's nothing to reconcile\n\t\tif (prevActiveChildMapping.length === nextActiveChildMapping.length && droppedKeys.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\t// remove any \"dropped\" children from the list of transitioning children\n\t\tdroppedKeys.forEach(key => this.completeTransition({key}));\n\n\t\t// mark any new child as entering\n\t\tnextChildKeys.forEach((key, index) => {\n\t\t\tconst hasPrev = prevChildKeys.includes(key);\n\n\t\t\tif (!hasPrev || this.currentlyTransitioningKeys[key]) {\n\t\t\t\t// flag a view to enter if it's new (!hasPrev), or if it's not new (hasPrev) but is\n\t\t\t\t// re-entering (is currently transitioning)\n\t\t\t\tthis.keysToEnter.push(key);\n\t\t\t} else if (index < size - 1) {\n\t\t\t\t// keep views that are less than size minus the \"transition out\" buffer\n\t\t\t\tthis.keysToStay.push(key);\n\t\t\t} else {\n\t\t\t\t// everything else is leaving\n\t\t\t\tthis.keysToLeave.push(key);\n\t\t\t}\n\t\t});\n\n\t\t// mark any previous child not remaining as leaving\n\t\tprevChildKeys.forEach(key => {\n\t\t\tconst hasNext = nextChildKeys.includes(key);\n\t\t\tconst isRendered = Boolean(this.groupRefs[key]);\n\t\t\t// flag a view to leave if it isn't in the new set (!hasNext) and it exists (isRendered)\n\t\t\tif (!hasNext && isRendered) {\n\t\t\t\tthis.keysToLeave.push(key);\n\t\t\t}\n\t\t});\n\n\t\tif (this.keysToEnter.length || this.keysToLeave.length) {\n\t\t\tforwardOnWillTransition(null, this.props);\n\t\t}\n\n\t\t// once the component has been updated, start the enter transition for new children,\n\t\tconst keysToEnter = this.keysToEnter;\n\t\tthis.keysToEnter = [];\n\t\tkeysToEnter.forEach(this.performEnter);\n\n\t\t// ... the stay transition for any children remaining,\n\t\tconst keysToStay = this.keysToStay;\n\t\tthis.keysToStay = [];\n\t\tkeysToStay.forEach(this.performStay);\n\n\t\t// ... and the leave transition for departing children\n\t\tconst keysToLeave = this.keysToLeave;\n\t\tthis.keysToLeave = [];\n\t\tkeysToLeave.forEach(this.performLeave);\n\t}\n\n\tcompleteTransition ({key, noForwarding = false}) {\n\t\tif (key in this.currentlyTransitioningKeys) {\n\t\t\tdelete this.currentlyTransitioningKeys[key];\n\n\t\t\tif (!noForwarding && Object.keys(this.currentlyTransitioningKeys).length === 0) {\n\t\t\t\tforwardOnTransition(null, this.props);\n\t\t\t}\n\t\t}\n\t}\n\n\tperformAppear = (key) => {\n\t\tthis.currentlyTransitioningKeys[key] = true;\n\n\t\tconst component = this.groupRefs[key];\n\n\t\tif (component.componentWillAppear) {\n\t\t\tcomponent.componentWillAppear(\n\t\t\t\tthis._handleDoneAppearing.bind(this, key)\n\t\t\t);\n\t\t} else {\n\t\t\tthis._handleDoneAppearing(key);\n\t\t}\n\t};\n\n\t_handleDoneAppearing = (key) => {\n\t\tconst component = this.groupRefs[key];\n\t\tif (component.componentDidAppear) {\n\t\t\tcomponent.componentDidAppear();\n\t\t}\n\n\t\tforwardOnAppear({\n\t\t\tview: component\n\t\t}, this.props);\n\n\t\tthis.completeTransition({key, noForwarding: true});\n\n\t\tlet currentChildMapping = mapChildren(this.props.children);\n\n\t\tif (!currentChildMapping || !currentChildMapping.find(child => child.key === key)) {\n\t\t\t// This was removed before it had fully appeared. Remove it.\n\t\t\tthis.performLeave(key);\n\t\t}\n\t};\n\n\tperformEnter = (key) => {\n\t\tthis.currentlyTransitioningKeys[key] = true;\n\n\t\tconst component = this.groupRefs[key];\n\n\t\tif (component.componentWillEnter) {\n\t\t\tcomponent.componentWillEnter(\n\t\t\t\tthis._handleDoneEntering.bind(this, key)\n\t\t\t);\n\t\t} else {\n\t\t\tthis._handleDoneEntering(key);\n\t\t}\n\t};\n\n\t_handleDoneEntering = (key) => {\n\t\tconst component = this.groupRefs[key];\n\t\tif (component.componentDidEnter) {\n\t\t\tcomponent.componentDidEnter();\n\t\t}\n\n\t\tforwardOnEnter({\n\t\t\tview: component\n\t\t}, this.props);\n\n\t\tthis.completeTransition({key});\n\t};\n\n\tperformStay = (key) => {\n\t\tconst component = this.groupRefs[key];\n\n\t\tif (component.componentWillStay) {\n\t\t\tcomponent.componentWillStay(\n\t\t\t\tthis._handleDoneStaying.bind(this, key)\n\t\t\t);\n\t\t} else {\n\t\t\tthis._handleDoneStaying(key);\n\t\t}\n\t};\n\n\t_handleDoneStaying = (key) => {\n\t\tconst component = this.groupRefs[key];\n\t\tif (component.componentDidStay) {\n\t\t\tcomponent.componentDidStay();\n\t\t}\n\n\t\tforwardOnStay({\n\t\t\tview: component\n\t\t}, this.props);\n\t};\n\n\tperformLeave = (key) => {\n\t\tthis.currentlyTransitioningKeys[key] = true;\n\n\t\tconst component = this.groupRefs[key];\n\t\tif (component.componentWillLeave) {\n\t\t\tcomponent.componentWillLeave(this._handleDoneLeaving.bind(this, key));\n\t\t} else {\n\t\t\t// Note that this is somewhat dangerous b/c it calls setState()\n\t\t\t// again, effectively mutating the component before all the work\n\t\t\t// is done.\n\t\t\tthis._handleDoneLeaving(key);\n\t\t}\n\t};\n\n\t_handleDoneLeaving = (key) => {\n\t\tconst component = this.groupRefs[key];\n\n\t\tif (component.componentDidLeave) {\n\t\t\tcomponent.componentDidLeave();\n\t\t}\n\n\t\tforwardOnLeave({\n\t\t\tview: component\n\t\t}, this.props);\n\n\t\tthis.completeTransition({key});\n\n\t\tthis.setState(function (state) {\n\t\t\tconst index = indexOfChild(key, state.children);\n\t\t\treturn {children: remove(index, 1, state.children)};\n\t\t});\n\t};\n\n\tstoreRefs = key => node => {\n\t\tthis.groupRefs[key] = node;\n\t};\n\n\trender () {\n\t\t// support wrapping arbitrary children with a component that supports the necessary\n\t\t// lifecycle methods to animate transitions\n\t\tconst childrenToRender = this.state.children.map(child => {\n\t\t\tconst isLeaving = child.props['data-index'] !== this.props.currentIndex && typeof child.props['data-index'] !== 'undefined';\n\n\t\t\treturn React.cloneElement(\n\t\t\t\tthis.props.childFactory(child),\n\t\t\t\t{key: child.key, ref: this.storeRefs(child.key), leaving: isLeaving, appearing: !this.hasMounted}\n\t\t\t);\n\t\t});\n\n\t\t// Do not forward TransitionGroup props to primitive DOM nodes\n\t\tconst props = Object.assign({}, this.props);\n\t\tprops.ref = this.props.componentRef;\n\t\tdelete props.childFactory;\n\t\tdelete props.component;\n\t\tdelete props.componentRef;\n\t\tdelete props.currentIndex;\n\t\tdelete props.onAppear;\n\t\tdelete props.onAppear;\n\t\tdelete props.onEnter;\n\t\tdelete props.onLeave;\n\t\tdelete props.onStay;\n\t\tdelete props.onTransition;\n\t\tdelete props.onWillTransition;\n\t\tdelete props.size;\n\n\t\treturn React.createElement(\n\t\t\tthis.props.component,\n\t\t\tprops,\n\t\t\tchildrenToRender\n\t\t);\n\t}\n}\n\nexport default TransitionGroup;\nexport {TransitionGroup};\n","/*\n * Exports the {@link ui/ViewManager.View} component.\n */\n\nimport {Job} from '@enact/core/util';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\n\nimport {shape} from './Arranger';\n\n// If the View was \"appearing\", then entering will always be false and this will not result in a\n// re-render. If the view should enter, state.enter will be true and this will toggle it to false\n// causing a re-render.\nconst clearEntering = ({entering}) => {\n\treturn entering ? {entering: false} : null;\n};\n\n/**\n * A `View` wraps a set of children for {@link ui/ViewManager.ViewManager}.\n * It is not intended to be used directly\n *\n * @class View\n * @memberof ui/ViewManager\n * @private\n */\nclass View extends React.Component {\n\n\tstatic propTypes = /** @lends ui/ViewManager.View.prototype */ {\n\t\tchildren: PropTypes.node.isRequired,\n\n\t\t/**\n\t\t * Time in milliseconds to complete a transition\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tduration: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * Set to `true` when the View should 'appear' without transitioning into the viewport\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tappearing: PropTypes.bool,\n\n\t\t/**\n\t\t * Arranger to control the animation\n\t\t *\n\t\t * @type {Arranger}\n\t\t * @public\n\t\t */\n\t\tarranger: shape,\n\n\t\t/**\n\t\t * An object containing properties to be passed to each child.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tchildProps: PropTypes.object,\n\n\t\t/**\n\t\t * Time, in milliseconds, to wait after a view has entered to inform it by passing the\n\t\t * `enteringProp` as `false`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tenteringDelay: PropTypes.number,\n\n\t\t/**\n\t\t * Name of the property to pass to the wrapped view to indicate when it is entering the\n\t\t * viewport. When `true`, the view has been created but has not transitioned into place.\n\t\t * When `false`, the view has finished its transition.\n\t\t *\n\t\t * The notification can be delayed by setting `enteringDelay`. If not set, the view will not\n\t\t * be notified of the change in transition.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tenteringProp: PropTypes.string,\n\n\t\t/**\n\t\t * Index of the currently 'active' view.\n\t\t *\n\t\t * @type {Number}\n\t\t */\n\t\tindex: PropTypes.number,\n\n\t\t/**\n\t\t * When `true`, indicates if a view is currently leaving.\n\t\t *\n\t\t * @type {Boolean}\n\t\t */\n\t\tleaving: PropTypes.bool,\n\n\t\t/**\n\t\t * When `true`, indicates if the transition should be animated\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default true\n\t\t * @public\n\t\t */\n\t\tnoAnimation: PropTypes.bool,\n\n\t\t/**\n\t\t * Index of the previously 'active' view.\n\t\t *\n\t\t * @type {Number}\n\t\t */\n\t\tpreviousIndex: PropTypes.number,\n\n\t\t/**\n\t\t * When `true`, indicates if the transition should be reversed. The effect depends on how the provided\n\t\t * `arranger` handles reversal.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t */\n\t\treverseTransition: PropTypes.bool,\n\n\t\t/**\n\t\t * When `true`, indicates the current locale uses right-to-left reading order.\n\t\t *\n\t\t * The effect depends on how the provided `arranger` handles this option.\n\t\t *\n\t\t * @type {Boolean}\n\t\t */\n\t\trtl: PropTypes.bool\n\t};\n\n\tstatic defaultProps = {\n\t\tappearing: false,\n\t\tenteringDelay: 0,\n\t\tindex: 0,\n\t\treverseTransition: false\n\t};\n\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.animation = null;\n\t\tthis.state = {\n\t\t\tentering: !props.appearing\n\t\t};\n\t}\n\n\tshouldComponentUpdate (nextProps) {\n\t\tif (nextProps.leaving) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tcomponentDidUpdate (prevProps) {\n\t\tthis.changeDirection = this.animation ? this.props.reverseTransition !== prevProps.reverseTransition : false;\n\t}\n\n\tcomponentWillUnmount () {\n\t\tthis.enteringJob.stop();\n\t\tthis.node = null;\n\t\tif (this.animation) {\n\t\t\tthis.animation.cancel();\n\t\t}\n\t}\n\n\tenteringJob = new Job(() => {\n\t\tthis.setState(clearEntering);\n\t});\n\n\tcomponentWillAppear (callback) {\n\t\tconst {arranger} = this.props;\n\t\tif (arranger && arranger.stay) {\n\t\t\tthis.prepareTransition(arranger.stay, callback, true);\n\t\t} else {\n\t\t\tcallback();\n\t\t}\n\t}\n\n\tcomponentDidAppear () {\n\t\tthis.setState(clearEntering);\n\t}\n\n\t// This is called at the same time as componentDidMount() for components added to an existing\n\t// TransitionGroup. It will block other animations from occurring until callback is called. It\n\t// will not be called on the initial render of a TransitionGroup.\n\tcomponentWillEnter (callback) {\n\t\tconst {arranger, reverseTransition} = this.props;\n\t\tif (arranger) {\n\t\t\tthis.prepareTransition(reverseTransition ? arranger.leave : arranger.enter, callback);\n\t\t} else {\n\t\t\tcallback();\n\t\t}\n\t}\n\n\tcomponentDidEnter () {\n\t\tconst {enteringDelay, enteringProp} = this.props;\n\n\t\tif (enteringProp) {\n\t\t\t// FIXME: `startRafAfter` is a temporary solution using rAF. We need a better way to handle\n\t\t\t// transition cycle and component life cycle to be in sync. See ENYO-4835.\n\t\t\tthis.enteringJob.startRafAfter(enteringDelay);\n\t\t}\n\t}\n\n\tcomponentWillStay (callback) {\n\t\tconst {arranger} = this.props;\n\t\tif (arranger && arranger.stay) {\n\t\t\tthis.prepareTransition(arranger.stay, callback);\n\t\t} else {\n\t\t\tcallback();\n\t\t}\n\t}\n\n\t// This is called when the child has been removed from the ReactTransitionGroup. Though the\n\t// child has been removed, ReactTransitionGroup will keep it in the DOM until callback is\n\t// called.\n\tcomponentWillLeave (callback) {\n\t\tconst {arranger, reverseTransition} = this.props;\n\t\tthis.enteringJob.stop();\n\t\tif (arranger) {\n\t\t\tthis.prepareTransition(reverseTransition ? arranger.enter : arranger.leave, callback);\n\t\t} else {\n\t\t\tcallback();\n\t\t}\n\t}\n\n\t/**\n\t * Initiates a new transition\n\t *\n\t * @param\t{Function}\tarranger\t\tArranger function to call (enter, leave)\n\t * @param\t{Function}\tcallback\t\tCompletion callback\n\t * @param\t{Boolean}\t[noAnimation]\t`true` to disable animation for this transition\n\t * @returns {undefined}\n\t * @private\n\t */\n\tprepareTransition = (arranger, callback, noAnimation) => {\n\t\tconst {duration, index, previousIndex = index, reverseTransition, rtl} = this.props;\n\n\t\t// Need to ensure that we have a valid node reference before we animation. Sometimes, React\n\t\t// will replace the node after mount causing a reference cached there to be invalid.\n\t\t// eslint-disable-next-line react/no-find-dom-node\n\t\tthis.node = ReactDOM.findDOMNode(this);\n\n\t\tif (this.animation && this.animation.playState !== 'finished' && this.changeDirection) {\n\t\t\tthis.animation.reverse();\n\t\t} else {\n\t\t\tthis.animation = arranger({\n\t\t\t\tfrom: previousIndex,\n\t\t\t\tnode: this.node,\n\t\t\t\treverse: reverseTransition,\n\t\t\t\trtl,\n\t\t\t\tto: index,\n\t\t\t\tfill: 'forwards',\n\t\t\t\tduration\n\t\t\t});\n\t\t}\n\n\t\t// Must set a new handler here to ensure the right callback is invoked\n\t\tthis.animation.onfinish = () => {\n\t\t\tthis.animation = null;\n\t\t\t// Possible for the animation callback to still be fired after the node has been\n\t\t\t// umounted if it finished before the unmount can cancel it so we check for that.\n\t\t\tif (this.node) {\n\t\t\t\tcallback();\n\t\t\t}\n\t\t};\n\n\t\t// disable animation when the instance or props flag is true\n\t\tif (noAnimation || this.props.noAnimation) {\n\t\t\tthis.animation.finish();\n\t\t}\n\t};\n\n\trender () {\n\t\tconst {enteringProp, children, childProps} = this.props;\n\n\t\tif (enteringProp || childProps) {\n\t\t\tconst props = Object.assign({}, childProps);\n\t\t\tif (enteringProp) {\n\t\t\t\tprops[enteringProp] = this.state.entering;\n\t\t\t}\n\n\t\t\treturn React.cloneElement(children, props);\n\t\t} else {\n\t\t\treturn React.Children.only(children);\n\t\t}\n\t}\n}\n\n// Not a true render method but instead a wrapper for TransitionGroup to wrap arbitrary children\n// with a TransitionGroup-compatible child that supports animation\n//\n// eslint-disable-next-line enact/display-name\nconst wrapWithView = (config) => (child) => {\n\treturn <View {...config}>{child}</View>;\n};\n\nexport default View;\nexport {View, wrapWithView};\n","/**\n * A component that manages the transitions of views.\n *\n * @module ui/ViewManager\n * @exports shape\n * @exports SlideArranger\n * @exports SlideBottomArranger\n * @exports SlideLeftArranger\n * @exports SlideRightArranger\n * @exports SlideTopArranger\n * @exports ViewManager\n * @exports ViewManagerBase\n * @exports ViewManagerDecorator\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport handle, {adaptEvent, call, forward} from '@enact/core/handle';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ForwardRef from '../ForwardRef';\n\nimport {shape} from './Arranger';\nimport TransitionGroup from './TransitionGroup';\nimport {wrapWithView} from './View';\n\n/**\n * The base `ViewManager` component, without\n * [ViewManagerDecorator]{@link ui/ViewManager.ViewManagerDecorator} applied.\n *\n * @class ViewManagerBase\n * @memberof ui/ViewManager\n * @ui\n * @public\n */\nconst ViewManagerBase = class extends React.Component {\n\tstatic displayName = 'ViewManager';\n\n\tstatic propTypes = /** @lends ui/ViewManager.ViewManagerBase.prototype */ {\n\t\t/**\n\t\t * Arranger to control the animation\n\t\t *\n\t\t * @type {Arranger}\n\t\t */\n\t\tarranger: shape,\n\n\t\t/**\n\t\t * An object containing properties to be passed to each child.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tchildProps: PropTypes.object,\n\n\t\t/**\n\t\t * Views to be managed.\n\t\t *\n\t\t * May be any renderable component including custom React components or primitive DOM nodes.\n\t\t *\n\t\t * @type {Node}\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Type of component wrapping the children. May be a DOM node or a custom React component.\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @default 'div'\n\t\t */\n\t\tcomponent: EnactPropTypes.renderable,\n\n\t\t/**\n\t\t * Called with a reference to [component]{@link ui/ViewManager.ViewManager#component}\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @private\n\t\t */\n\t\tcomponentRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Time in milliseconds to complete a transition\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 300\n\t\t */\n\t\tduration: PropTypes.number,\n\n\t\t/**\n\t\t * Index of last visible view.\n\t\t *\n\t\t * Defaults to the current value of `index`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default value of index\n\t\t */\n\t\tend: PropTypes.number,\n\n\t\t/**\n\t\t * Time, in milliseconds, to wait after a view has entered to inform it by pass the\n\t\t * `enteringProp` as false.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t */\n\t\tenteringDelay: PropTypes.number,\n\n\t\t/**\n\t\t * Name of the property to pass to the wrapped view to indicate when it is entering the\n\t\t * viewport.\n\t\t *\n\t\t * When `true`, the view has been created but has not transitioned into place.\n\t\t * When `false`, the view has finished its transition.\n\t\t *\n\t\t * The notification can be delayed by setting `enteringDelay`. If not set, the view will not\n\t\t * be notified of the change in transition.\n\t\t *\n\t\t * @type {String}\n\t\t */\n\t\tenteringProp: PropTypes.string,\n\n\t\t/**\n\t\t * Index of active view\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t */\n\t\tindex: PropTypes.number,\n\n\t\t/**\n\t\t * Indicates if the transition should be animated\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t */\n\t\tnoAnimation: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when each view is rendered during initial construction.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonAppear: PropTypes.func,\n\n\t\t/**\n\t\t * Called when each view completes its transition into the viewport.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonEnter: PropTypes.func,\n\n\t\t/**\n\t\t * Called when each view completes its transition out of the viewport.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonLeave: PropTypes.func,\n\n\t\t/**\n\t\t * Called when each view completes its transition within the viewport.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonStay: PropTypes.func,\n\n\t\t/**\n\t\t * Called once when all views have completed their transition.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonTransition: PropTypes.func,\n\n\t\t/**\n\t\t * Called once before views begin their transition.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonWillTransition: PropTypes.func,\n\n\t\t/**\n\t\t * Explicitly sets the transition direction.\n\t\t *\n\t\t * If omitted, the direction is determined automaticallly based on the change of index or a\n\t\t * string comparison of the first child's key.\n\t\t *\n\t\t * @type {Boolean}\n\t\t */\n\t\treverseTransition: PropTypes.bool,\n\n\t\t/**\n\t\t * Indicates the current locale uses right-to-left reading order.\n\t\t *\n\t\t * `rtl` is passed to the `arranger` in order to alter the animation (e.g. reversing the\n\t\t * horizontal direction).\n\t\t *\n\t\t * @type {Boolean}\n\t\t */\n\t\trtl: PropTypes.bool,\n\n\t\t/**\n\t\t * Index of first visible view. Defaults to the current value of `index`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default value of index\n\t\t */\n\t\tstart: PropTypes.number\n\t};\n\n\tstatic defaultProps = {\n\t\tcomponent: 'div',\n\t\tduration: 300,\n\t\tindex: 0\n\t};\n\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tprevIndex: null,\n\t\t\treverseTransition: null\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps (props, state) {\n\t\tif (props.reverseTransition != null) {\n\t\t\treturn {\n\t\t\t\treverseTransition: !!props.reverseTransition\n\t\t\t};\n\t\t} else if (props.index !== state.index) {\n\t\t\treturn {\n\t\t\t\tindex: props.index,\n\t\t\t\tprevIndex: state.index,\n\t\t\t\treverseTransition: state.index > props.index\n\t\t\t};\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tmakeTransitionEvent () {\n\t\treturn {index: this.props.index, previousIndex: this.state.prevIndex};\n\t}\n\n\thandleTransition = handle(\n\t\tadaptEvent(\n\t\t\tcall('makeTransitionEvent'),\n\t\t\tforward('onTransition')\n\t\t)\n\t).bindAs(this, 'handleTransition');\n\n\thandleWillTransition = handle(\n\t\tadaptEvent(\n\t\t\tcall('makeTransitionEvent'),\n\t\t\tforward('onWillTransition')\n\t\t)\n\t).bindAs(this, 'handleWillTransition');\n\n\trender () {\n\t\tconst {arranger, childProps, children, duration, index, noAnimation, enteringDelay, enteringProp, rtl, ...rest} = this.props;\n\t\tlet {end = index, start = index} = this.props;\n\t\tconst {prevIndex: previousIndex, reverseTransition} = this.state;\n\t\tconst childrenList = React.Children.toArray(children);\n\n\t\tif (index > end) end = index;\n\t\tif (index < start) start = index;\n\n\t\tconst childCount = end - start + 1;\n\t\tconst size = (noAnimation || !arranger) ? childCount : childCount + 1;\n\n\t\tconst views = childrenList.slice(start, start + childCount);\n\t\tconst childFactory = wrapWithView({\n\t\t\tarranger,\n\t\t\tduration,\n\t\t\tindex,\n\t\t\tnoAnimation,\n\t\t\tpreviousIndex,\n\t\t\treverseTransition,\n\t\t\tenteringDelay,\n\t\t\tenteringProp,\n\t\t\tchildProps,\n\t\t\trtl: Boolean(rtl)\n\t\t});\n\n\t\tdelete rest.end;\n\t\tdelete rest.reverseTransition;\n\t\tdelete rest.start;\n\n\t\treturn (\n\t\t\t<TransitionGroup\n\t\t\t\t{...rest}\n\t\t\t\tchildFactory={childFactory}\n\t\t\t\tcurrentIndex={index}\n\t\t\t\tonTransition={this.handleTransition}\n\t\t\t\tonWillTransition={this.handleWillTransition}\n\t\t\t\tsize={size}\n\t\t\t>\n\t\t\t\t{views}\n\t\t\t</TransitionGroup>\n\t\t);\n\t}\n};\n\n/**\n * Applies ViewManager behaviors.\n *\n * @hoc\n * @memberof ui/ViewManager\n * @mixes ui/ForwardRef.ForwardRef\n * @public\n */\nconst ViewManagerDecorator = ForwardRef({prop: 'componentRef'});\n\n/**\n * A `ViewManager` controls the visibility of a configurable number of views, allowing for them to be\n * transitioned on and off the viewport.\n *\n * @class ViewManager\n * @memberof ui/ViewManager\n * @extends ui/ViewManager.ViewManagerBase\n * @mixes ui/ViewManager.ViewManagerDecorator\n * @ui\n * @public\n */\nconst ViewManager = ViewManagerDecorator(ViewManagerBase);\n\nexport default ViewManager;\nexport {\n\tViewManager,\n\tViewManagerBase,\n\tViewManagerDecorator\n};\nexport * from './Arranger';\n","/**\n * Agate styled text block components and behaviors.\n *\n * @example\n * <BodyText centered>Hello Enact!</BodyText>\n *\n * @module agate/BodyText\n * @exports BodyText\n * @exports BodyTextBase\n * @exports BodyTextDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport UiBodyText from '@enact/ui/BodyText';\nimport Pure from '@enact/ui/internal/Pure';\n\nimport {MarqueeDecorator} from '@enact/ui/Marquee';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './BodyText.module.less';\n\n// Create a Marquee using BodyText as the base\nconst MarqueeBodyText = MarqueeDecorator(UiBodyText);\n\n/**\n * A simple text block component.\n *\n * This component is most often not used directly but may be composed within another component as it\n * is within [BodyText]{@link agate/BodyText.BodyText}.\n *\n * @class BodyTextBase\n * @memberof agate/BodyText\n * @extends ui/BodyText.BodyText\n * @ui\n * @public\n */\nconst BodyTextBase = kind({\n\tname: 'BodyText',\n\n\tpropTypes: /** @lends agate/BodyText.BodyTextBase.prototype */ {\n\t\t/**\n\t\t * Centers the contents.\n\t\t *\n\t\t * Applies the `centered` CSS class which can be customized by\n\t\t * [theming]{@link /docs/developer-guide/theming/}.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tcentered: PropTypes.bool,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `bodyText` - The root class name\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Toggles multi-line (`false`) vs single-line (`true`) behavior. `noWrap` mode\n\t\t * automatically enables {@link ui/Marquee} so long text isn't permanently occluded.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tnoWrap: PropTypes.bool,\n\n\t\t/**\n\t\t * Sets the text size to one of the preset sizes.\n\t\t * Available sizes: 'large' (default) and 'small'.\n\t\t *\n\t\t * @type {('small'|'large')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['small', 'large'])\n\t},\n\n\tdefaultProps: {\n\t\tcentered: false,\n\t\tnoWrap: false,\n\t\tsize: 'large'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tpublicClassNames: 'bodyText'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({noWrap, size, styler}) => styler.append(size, {noWrap})\n\t},\n\n\trender: ({centered, css, noWrap, ...rest}) => {\n\t\tdelete rest.size;\n\n\t\tif (noWrap) {\n\t\t\treturn (\n\t\t\t\t<MarqueeBodyText\n\t\t\t\t\tcomponent=\"div\" // Assign a new component to BodyText, since DIV is not allowed inside a P tag (the default for BodyText)\n\t\t\t\t\tmarqueeOn=\"render\"\n\t\t\t\t\t{...rest}\n\t\t\t\t\talignment={centered ? 'center' : null} // Centering Marquee\n\t\t\t\t\tcentered={centered} // Centering UiBodyText\n\t\t\t\t\tcss={css}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<UiBodyText\n\t\t\t\t{...rest}\n\t\t\t\tcentered={centered}\n\t\t\t\tcss={css}\n\t\t\t/>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [BodyText]{@link agate/BodyText.BodyTextBase}.\n *\n * @hoc\n * @memberof agate/BodyText\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst BodyTextDecorator = compose(\n\tPure,\n\tSkinnable\n);\n\n/**\n * A simple text block component, ready to use in Agate applications.\n *\n * `BodyText` may be used to display a block of text and is sized and spaced appropriately for a\n * Agate application.\n *\n * Usage:\n * ```\n * <BodyText>\n *  I have a Ham radio. There are many like it, but this one is mine.\n * </BodyText>\n * ```\n *\n * @class BodyText\n * @memberof agate/BodyText\n * @extends agate/BodyText.BodyTextBase\n * @mixes agate/BodyText.BodyTextDecorator\n * @ui\n * @public\n */\nconst BodyText = BodyTextDecorator(BodyTextBase);\n\nexport default BodyText;\nexport {\n\tBodyText,\n\tBodyTextBase,\n\tBodyTextDecorator\n};\n","/**\n * Provides Agate-themed slider components and behaviors.\n *\n * @example\n * <Slider\n *   defaultValue={-30}\n *   max={100}\n *   min={-100}\n *   step={10}\n * />\n *\n * @module agate/Slider\n * @exports Slider\n * @exports SliderBase\n * @exports SliderDecorator\n */\n\n// TODO: Add 'activated' styling for slider (If 5-way is needed)\n\nimport {forKey, forProp, forward, forwardWithPrevent, handle} from '@enact/core/handle';\nimport kind from '@enact/core/kind';\nimport Spottable from '@enact/spotlight/Spottable';\nimport Changeable from '@enact/ui/Changeable';\nimport ProgressBar from '@enact/ui/ProgressBar';\nimport Pure from '@enact/ui/internal/Pure';\nimport Slottable from '@enact/ui/Slottable';\nimport UiSlider from '@enact/ui/Slider';\nimport PropTypes from 'prop-types';\nimport anyPass from 'ramda/src/anyPass';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport Skinnable from '../Skinnable';\n\nimport SliderBehaviorDecorator from './SliderBehaviorDecorator';\nimport {\n\thandleDecrement,\n\thandleIncrement\n} from './utils';\n\nimport componentCss from './Slider.module.less';\n\n/**\n * Range-selection input component.\n *\n * @class SliderBase\n * @extends ui/Slider.SliderBase\n * @memberof agate/Slider\n * @ui\n * @public\n */\nconst SliderBase = kind({\n\tname: 'Slider',\n\n\tpropTypes: /** @lends agate/Slider.SliderBase.prototype */ {\n\t\t/**\n\t\t * Activates the component when focused so that it may be manipulated via the directional\n\t\t * input keys.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tactivateOnFocus: PropTypes.bool,\n\n\t\t/**\n\t\t * Sets the knob to selected state and allows it to move via 5-way controls.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tactive: PropTypes.bool,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `slider` - The root component class\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Indicates that the slider has gained focus.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tfocused: PropTypes.bool,\n\n\t\t/**\n\t\t * The amount to increment or decrement the position of the knob via 5-way controls.\n\t\t *\n\t\t * If not specified, `step` is used for the default value.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tknobStep: PropTypes.number,\n\n\t\t/**\n\t\t * The maximum value of the slider.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 100\n\t\t * @public\n\t\t */\n\t\tmax: PropTypes.number,\n\n\t\t/**\n\t\t * The minimum value of the slider.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tmin: PropTypes.number,\n\n\t\t/**\n\t\t * Called when the knob is activated or deactivated by selecting it via 5-way\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonActivate: PropTypes.func,\n\n\t\t/**\n\t\t * Called when a key is pressed down while the slider is focused.\n\t\t *\n\t\t * When a directional key is pressed down and the knob is active (either by first\n\t\t * pressing enter or when `activateOnFocus` is enabled), the Slider will increment or\n\t\t * decrement the current value and emit an `onChange` event. This default behavior can be\n\t\t * prevented by calling `preventDefault()` on the event passed to this callback.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonKeyDown: PropTypes.func,\n\n\t\t/**\n\t\t * Called when a key is released while the slider is focused.\n\t\t *\n\t\t * When the enter key is released and `activateOnFocus` is not enabled, the slider will be\n\t\t * activated to enable incrementing or decrementing the value via directional keys. This\n\t\t * default behavior can be prevented by calling `preventDefault()` on the event passed to\n\t\t * this callback.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonKeyUp: PropTypes.func,\n\n\t\t/**\n\t\t * Sets the point, as a proportion between 0 and 1, from which the slider is filled.\n\t\t *\n\t\t * Applies to both the slider's `value` and `backgroundProgress`. In both cases,\n\t\t * setting the value of `progressAnchor` will cause the slider to fill from that point\n\t\t * down, when `value` or `backgroundProgress` is proportionally less than the anchor, or up,\n\t\t * when `value` or `backgroundProgress` is proportionally greater than the anchor, rather\n\t\t * than always from the start of the slider.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tprogressAnchor: PropTypes.number,\n\n\t\t/**\n\t\t * The amount to increment or decrement the value.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t * @public\n\t\t */\n\t\tstep: PropTypes.number,\n\n\t\t/**\n\t\t * The value of the slider.\n\t\t *\n\t\t * Defaults to the value of `min`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.number\n\t},\n\n\tdefaultProps: {\n\t\tactivateOnFocus: false,\n\t\tactive: false,\n\t\tdisabled: false,\n\t\tmax: 100,\n\t\tmin: 0,\n\t\tprogressAnchor: 0,\n\t\tstep: 1\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'slider',\n\t\tpublicClassNames: true\n\t},\n\n\thandlers: {\n\t\tonBlur: handle(\n\t\t\tforward('onBlur'),\n\t\t\tforProp('active', true),\n\t\t\tforward('onActivate')\n\t\t),\n\t\tonKeyDown: handle(\n\t\t\tforwardWithPrevent('onKeyDown'),\n\t\t\tanyPass([\n\t\t\t\thandleIncrement,\n\t\t\t\thandleDecrement\n\t\t\t])\n\t\t),\n\t\tonKeyUp: handle(\n\t\t\tforwardWithPrevent('onKeyUp'),\n\t\t\tforProp('activateOnFocus', false),\n\t\t\tforKey('enter'),\n\t\t\tforward('onActivate')\n\t\t)\n\t},\n\n\tcomputed: {\n\t\tclassName: ({activateOnFocus, active, styler}) => styler.append({\n\t\t\tactivateOnFocus,\n\t\t\tactive\n\t\t})\n\t},\n\n\trender: ({css, ...rest}) => {\n\t\tdelete rest.activateOnFocus;\n\t\tdelete rest.active;\n\t\tdelete rest.focused;\n\t\tdelete rest.knobStep;\n\t\tdelete rest.onActivate;\n\n\t\treturn (\n\t\t\t<UiSlider\n\t\t\t\t{...rest}\n\t\t\t\tcss={css}\n\t\t\t\tprogressBarComponent={\n\t\t\t\t\t<ProgressBar css={css} />\n\t\t\t\t}\n\t\t\t/>\n\t\t);\n\t}\n});\n\n/**\n * Agate-specific slider behaviors to apply to [SliderBase]{@link agate/Slider.SliderBase}.\n *\n * @hoc\n * @memberof agate/Slider\n * @mixes ui/Changeable.Changeable\n * @mixes spotlight/Spottable.Spottable\n * @mixes agate/Skinnable.Skinnable\n * @mixes ui/Slottable.Slottable\n * @mixes ui/Slider.SliderDecorator\n * @public\n */\nconst SliderDecorator = compose(\n\tPure,\n\tChangeable,\n\tSliderBehaviorDecorator,\n\tSpottable,\n\tSlottable({slots: ['knob']}),\n\tSkinnable\n);\n\n/**\n * Slider input with Agate styling, [`Spottable`]{@link spotlight/Spottable.Spottable},\n * [Touchable]{@link ui/Touchable} and [`SliderDecorator`]{@link agate/Slider.SliderDecorator}\n * applied.\n *\n * By default, `Slider` maintains the state of its `value` property. Supply the `defaultValue`\n * property to control its initial value. If you wish to directly control updates to the\n * component, supply a value to `value` at creation time and update it in response to `onChange`\n * events.\n *\n * @class Slider\n * @memberof agate/Slider\n * @mixes agate/Slider.SliderDecorator\n * @ui\n * @public\n */\n\n/**\n * Overrides the `aria-valuetext` for the slider.\n *\n * By default, `aria-valuetext` is set to the current value. This should only be used when\n * the parent controls the value of the slider directly through the props.\n *\n * @name aria-valuetext\n * @memberof agate/Slider.Slider.prototype\n * @type {String|Number}\n * @public\n */\n\nconst Slider = SliderDecorator(SliderBase);\n\nexport default Slider;\nexport {\n\tSlider,\n\tSliderBase,\n\tSliderDecorator\n};\n","/**\n * A component that can transition its children components onto the screen.\n *\n * Transitions whether that's from off the edge of the screen or hidden inside or behind an\n * already-on-screen component. You can switch types of transitions using the `type` property,\n * change the direction they come in from using the `direction` property, or even adjust the\n * transition timing function using `timingFunction`.\n *\n * @example\n * <Transition visible={true} type=\"slide\">\n * \t<div>Set `visible` above to `false` to hide this element.</div>\n * </Transition>\n *\n * @module ui/Transition\n * @exports Transition\n * @exports TransitionBase\n */\n\nimport {forward} from '@enact/core/handle';\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport {Job} from '@enact/core/util';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {ResizeContext} from '../Resizable';\n\nimport componentCss from './Transition.module.less';\n\nconst forwardTransitionEnd = forward('onTransitionEnd');\nconst forwardOnShow = forward('onShow');\nconst forwardOnHide = forward('onHide');\n\n/**\n * The stateless structure of the component.\n *\n * In case you want to provide all of the state yourself.\n * In general, you'll probably want to use the `Transition` instead of `TransitionBase`.\n *\n * @class TransitionBase\n * @ui\n * @memberof ui/Transition\n * @public\n */\nconst TransitionBase = kind({\n\tname: 'TransitionBase',\n\n\tpropTypes: /** @lends ui/Transition.TransitionBase.prototype */ {\n\t\t/**\n\t\t * Provide a function to get the reference to the child node (the one with the content) at\n\t\t * render time.\n\t\t *\n\t\t *Useful if you need to measure or interact with the node directly.\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @default null\n\t\t * @public\n\t\t */\n\t\tchildRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * The node to be transitioned.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * The height of the transition when `type` is set to `'clip'`, used when direction is\n\t\t * 'left' or 'right'.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default null\n\t\t * @public\n\t\t */\n\t\tclipHeight: PropTypes.number,\n\n\t\t/**\n\t\t * The width of the transition when `type` is set to `'clip'`, used when direction is 'left'\n\t\t * or 'right'.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default null\n\t\t * @public\n\t\t */\n\t\tclipWidth: PropTypes.number,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `transition`     - The root component class\n\t\t * * `inner`          - The element inside the transition. This is the container for the transitioning content.\n\t\t * * `shown`          - Applied when content is present (visible), related to the `visible` prop/state\n\t\t * * `hidden`         - Applied when content is not present (hiding), related to the `visible` prop/state\n\t\t * * `slide`          - Applied when the `slide` `type` is set\n\t\t * * `fade`           - Applied when the `fade` `type` is set\n\t\t * * `clip`           - Applied when the `clip` `type` is set\n\t\t * * `up`             - Applied when the `direction` `up` is set\n\t\t * * `right`          - Applied when the `direction` `right` is set\n\t\t * * `down`           - Applied when the `direction` `down` is set\n\t\t * * `left`           - Applied when the `direction` `left` is set\n\t\t * * `short`          - Applied when the `duration` `short` is set\n\t\t * * `medium`         - Applied when the `duration` `medium` is set\n\t\t * * `long`           - Applied when the `duration` `long` is set\n\t\t * * `ease`           - Applied when the `timingFunction` `ease` is set\n\t\t * * `ease-in`        - Applied when the `timingFunction` `ease-in` is set\n\t\t * * `ease-out`       - Applied when the `timingFunction` `ease-out` is set\n\t\t * * `ease-in-out`    - Applied when the `timingFunction` `ease-in-out` is set\n\t\t * * `ease-in-quart`  - Applied when the `timingFunction` `ease-in-quart` is set\n\t\t * * `ease-out-quart` - Applied when the `timingFunction` `ease-out-quart` is set\n\t\t * * `linear`         - Applied when the `timingFunction` `linear` is set\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Sets the direction of transition. Where the component will move *to*; the destination.\n\t\t * Supported directions are: `'up'`, `'right'`, `'down'`, `'left'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'up'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['up', 'right', 'down', 'left']),\n\n\t\t/**\n\t\t * Controls how long the transition should take.\n\t\t * Supported preset durations are: `'short'` (250ms), `'medium'` (500ms), and `'long'` (1s).\n\t\t * `'medium'` (500ms) is default when no others are specified.\n\t\t * Any valid CSS duration value is also accepted, e.g. \"200ms\" or \"3s\". Pure numeric values\n\t\t * are also supported and treated as milliseconds.\n\t\t *\n\t\t * @type {String|Number}\n\t\t * @default 'medium'\n\t\t * @public\n\t\t */\n\t\tduration: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n\t\t/**\n\t\t * Disables transition animation.\n\t\t *\n\t\t * When `false`, visibility changes animate.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tnoAnimation: PropTypes.bool,\n\n\t\t/**\n\t\t * The transition timing function.\n\t\t *\n\t\t * * Supported function names are: `ease`, `ease-in`, `ease-out`, `ease-in-out`, `ease-in-quart`,\n\t\t * `ease-out-quart`, and `linear`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'ease-in-out'\n\t\t * @public\n\t\t */\n\t\ttimingFunction: PropTypes.oneOf([\n\t\t\t'ease',\n\t\t\t'ease-in',\n\t\t\t'ease-out',\n\t\t\t'ease-in-out',\n\t\t\t'ease-in-quart',\n\t\t\t'ease-out-quart',\n\t\t\t'linear'\n\t\t]),\n\n\t\t/**\n\t\t * The type of transition to affect the content.\n\t\t *\n\t\t * * Supported types are: `'slide'`, `'clip'`, and `'fade'`.\n\t\t *\n\t\t * Details on types:\n\t\t *  * `'slide'` - Typically used for bringing something which is off the edge of the screen,\n\t\t *  \tand not visible, onto the screen. Think of a popup, toast, notification, dialog, or\n\t\t *  \tan overlaying menu. This requires no re-rendering or repainting of the screen during\n\t\t *  \tthe transition, making it very performant. However, this does not affect layout at\n\t\t *  \tall, which makes it less useful for transitioning from a place already on the\n\t\t *  \tscreen.\n\t\t *  * `'clip'` - This is useful for showing a component that transitions-in from a location\n\t\t *  \tthat is already on the screen. Examples would be an expanding header or an\n\t\t *  \taccordion. This type does affects layout, its current size will push other sibling\n\t\t *  \telements to make room for itself. Because of this, repainting the layout does happen\n\t\t *  \tduring transition.\n\t\t *  * `'fade'` - Fade the components onto the screen, from 0 opacity (completely invisible)\n\t\t *  \tto 1 (full visibility). Pretty basic, but useful for fading on/off a tooltip, a\n\t\t *  \tmenu, a panel, or even view contents. This does not affect layout at all.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'slide'\n\t\t * @public\n\t\t */\n\t\ttype: PropTypes.oneOf(['slide', 'clip', 'fade']),\n\n\t\t/**\n\t\t * Sets the visibility of the component, which determines whether it's on screen or off.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default true\n\t\t * @public\n\t\t */\n\t\tvisible: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tnoAnimation: false,\n\t\tdirection: 'up',\n\t\tduration: 'medium',\n\t\ttimingFunction: 'ease-in-out',\n\t\ttype: 'slide',\n\t\tvisible: true\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'transition',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({css, direction, duration, noAnimation, timingFunction, type, visible, styler}) => styler.append(\n\t\t\tvisible ? 'shown' : 'hidden',\n\t\t\tdirection && css[direction],\n\t\t\t!noAnimation && duration && css[duration],\n\t\t\t!noAnimation && timingFunction && css[timingFunction],\n\t\t\tcss[type]\n\t\t),\n\t\tinnerStyle: ({clipWidth, direction, type}) => {\n\t\t\tif (type === 'clip' && (direction === 'left' || direction === 'right')) {\n\t\t\t\treturn {\n\t\t\t\t\twidth: clipWidth\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\tstyle: ({css, clipHeight, direction, duration, type, visible, style}) => {\n\t\t\tif (type === 'clip') {\n\t\t\t\tstyle = {\n\t\t\t\t\t...style,\n\t\t\t\t\toverflow: 'hidden'\n\t\t\t\t};\n\n\t\t\t\tif (visible && (direction === 'up' || direction === 'down')) {\n\t\t\t\t\tstyle.height = clipHeight;\n\t\t\t\t}\n\t\t\t\t// If duration isn't a known named string, assume it is a CSS duration value\n\t\t\t\tif (duration && !css[duration]) {\n\t\t\t\t\t// If it's a number, assume it's miliseconds, if not, assume it's already a CSS duration string (like \"200ms\" or \"2s\")\n\t\t\t\t\tstyle.transitionDuration = (typeof duration === 'number' ? duration + 'ms' : duration);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn style;\n\t\t}\n\t},\n\n\trender: ({css, childRef, children, innerStyle, ...rest}) => {\n\t\tdelete rest.clipHeight;\n\t\tdelete rest.clipWidth;\n\t\tdelete rest.direction;\n\t\tdelete rest.duration;\n\t\tdelete rest.noAnimation;\n\t\tdelete rest.timingFunction;\n\t\tdelete rest.type;\n\t\tdelete rest.visible;\n\n\t\treturn (\n\t\t\t<div {...rest}>\n\t\t\t\t<div className={css.inner} style={innerStyle} ref={childRef}>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nconst TRANSITION_STATE = {\n\tINIT: 0,\t\t// closed and unmeasured\n\tMEASURE: 1,\t\t// open but need to measure\n\tREADY: 2\t\t// measured and ready\n};\n\n/**\n * A stateful component that allows for applying transitions to its child items via configurable\n * properties and events.\n *\n * @class Transition\n * @ui\n * @memberof ui/Transition\n * @public\n */\nclass Transition extends React.Component {\n\n\tstatic contextType = ResizeContext;\n\n\tstatic propTypes = /** @lends ui/Transition.Transition.prototype */ {\n\t\t/**\n\t\t * The node to be transitioned.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * The direction of transition (i.e. where the component will move *to*; the destination).\n\t\t *\n\t\t * * Supported directions are: `'up'`, `'right'`, `'down'`, `'left'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'up'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['up', 'right', 'down', 'left']),\n\n\t\t/**\n\t\t * Controls how long the transition should take.\n\t\t *\n\t\t * * Supported preset durations are: `'short'` (250ms), `'medium'` (500ms), and `'long'` (1s).\n\t\t * `'medium'` (500ms) is default when no others are specified.\n\t\t *\n\t\t * Any valid CSS duration value is also accepted, e.g. \"200ms\" or \"3s\". Pure numeric values\n\t\t * are also supported and treated as miliseconds.\n\t\t *\n\t\t * @type {String|Number}\n\t\t * @default 'medium'\n\t\t * @public\n\t\t */\n\t\tduration: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n\t\t/**\n\t\t * Disables transition animation.\n\t\t *\n\t\t * When `false`, visibility changes animate.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tnoAnimation: PropTypes.bool,\n\n\t\t/**\n\t\t * Called after transition for hiding is finished.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonHide: PropTypes.func,\n\n\t\t/**\n\t\t * Called after transition for showing is finished.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonShow: PropTypes.func,\n\n\t\t/**\n\t\t * The transition timing function.\n\t\t * Supported function names are: `ease`, `ease-in`, `ease-out`, `ease-in-out`, `ease-in-quart`,\n\t\t * `ease-out-quart`, and `linear`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'ease-in-out'\n\t\t * @public\n\t\t */\n\t\ttimingFunction: PropTypes.oneOf([\n\t\t\t'ease',\n\t\t\t'ease-in',\n\t\t\t'ease-out',\n\t\t\t'ease-in-out',\n\t\t\t'ease-in-quart',\n\t\t\t'ease-out-quart',\n\t\t\t'linear'\n\t\t]),\n\n\t\t/**\n\t\t * The type of transition to affect the content.\n\t\t *\n\t\t * * Supported types are: `'slide'`, `'clip'`, and `'fade'`.\n\t\t *\n\t\t * Details on types:\n\t\t *  * `'slide'` - Typically used for bringing something which is off the edge of the screen,\n\t\t *  \tand not visible, onto the screen. Think of a popup, toast, notification, dialog, or\n\t\t *  \tan overlaying menu. This requires no re-rendering or repainting of the screen during\n\t\t *  \tthe transition, making it very performant. However, this does not affect layout at\n\t\t *  \tall, which makes it less useful for transitioning from a place already on the\n\t\t *  \tscreen.\n\t\t *  * `'clip'` - This is useful for showing a component that transitions-in from a location\n\t\t *  \tthat is already on the screen. Examples would be an expanding header or an\n\t\t *  \taccordion. This type does affects layout, its current size will push other sibling\n\t\t *  \telements to make room for itself. Because of this, repainting the layout does happen\n\t\t *  \tduring transition.\n\t\t *  * `'fade'` - Fade the components onto the screen, from 0 opacity (completely invisible)\n\t\t *  \tto 1 (full visibility). Pretty basic, but useful for fading on/off a tooltip, a\n\t\t *  \tmenu, a panel, or even view contents. This does not affect layout at all.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'slide'\n\t\t * @public\n\t\t */\n\t\ttype: PropTypes.oneOf(['slide', 'clip', 'fade']),\n\n\t\t/**\n\t\t * The visibility of the component, which determines whether it's on the screen or off.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default true\n\t\t * @public\n\t\t */\n\t\tvisible: PropTypes.bool\n\t};\n\n\tstatic defaultProps = {\n\t\tdirection: 'up',\n\t\tduration: 'medium',\n\t\tnoAnimation: false,\n\t\ttimingFunction: 'ease-in-out',\n\t\ttype: 'slide',\n\t\tvisible: true\n\t};\n\n\tconstructor (props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tinitialHeight: null,\n\t\t\tinitialWidth: null,\n\t\t\tprevVisible: props.visible,\n\t\t\trenderState: props.visible ? TRANSITION_STATE.READY : TRANSITION_STATE.INIT\n\t\t};\n\t\tthis.resizeRegistry = null;\n\t}\n\n\tstatic getDerivedStateFromProps (props, state) {\n\t\tif (!state.prevVisible && props.visible) {\n\t\t\treturn {\n\t\t\t\tinitialHeight: null,\n\t\t\t\tinitialWidth: null,\n\t\t\t\tprevVisible: props.visible,\n\t\t\t\trenderState: TRANSITION_STATE.MEASURE\n\t\t\t};\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tcomponentDidMount () {\n\t\tif (!this.props.visible) {\n\t\t\tthis.measuringJob.idle();\n\t\t} else {\n\t\t\tthis.measureInner();\n\t\t}\n\n\t\tif (this.context && typeof this.context === 'function') {\n\t\t\tthis.resizeRegistry = this.context(this.handleResize);\n\t\t}\n\t}\n\n\tshouldComponentUpdate (nextProps, nextState) {\n\t\t// Don't update if only updating the height and we're not visible\n\t\treturn (this.state.initialHeight === nextState.initialHeight) || this.props.visible || nextProps.visible;\n\t}\n\n\tcomponentDidUpdate (prevProps, prevState) {\n\t\tconst {noAnimation, visible} = this.props;\n\t\tconst {initialHeight, renderState} = this.state;\n\n\t\tif (this.state.renderState === TRANSITION_STATE.MEASURE) {\n\t\t\tthis.measuringJob.stop();\n\t\t}\n\n\t\t// Checking that something changed that wasn't the visibility\n\t\t// or the initialHeight state or checking if component should be visible but doesn't have a height\n\t\tif ((visible === prevProps.visible &&\n\t\t\tinitialHeight === prevState.initialHeight &&\n\t\t\trenderState !== TRANSITION_STATE.INIT) ||\n\t\t\t(initialHeight == null && visible)) {\n\t\t\tthis.measureInner();\n\t\t}\n\n\t\tif (noAnimation) {\n\t\t\tif (!prevProps.visible && visible) {\n\t\t\t\tforwardOnShow({}, this.props);\n\t\t\t} else if (prevProps.visible && !visible) {\n\t\t\t\tforwardOnHide({}, this.props);\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillUnmount () {\n\t\tthis.measuringJob.stop();\n\t\tif (this.resizeRegistry) {\n\t\t\tthis.resizeRegistry.unregister();\n\t\t}\n\t}\n\n\tmeasuringJob = new Job(() => {\n\t\tthis.setState({\n\t\t\trenderState: TRANSITION_STATE.MEASURE\n\t\t});\n\t});\n\n\thandleResize = () => {\n\t\t// @TODO oddly, using the setState callback is required here to ensure that the bounds\n\t\t// are remeasured in a separate tick\n\t\tthis.setState({\n\t\t\tinitialHeight: null\n\t\t}, this.measureInner);\n\t};\n\n\thandleTransitionEnd = (ev) => {\n\t\tforwardTransitionEnd(ev, this.props);\n\n\t\tif (ev.target === this.childNode) {\n\t\t\tif (!this.props.visible) {\n\t\t\t\tforwardOnHide(ev, this.props);\n\t\t\t} else if (this.props.visible) {\n\t\t\t\tforwardOnShow(ev, this.props);\n\t\t\t}\n\t\t}\n\t};\n\n\tmeasureInner = () => {\n\t\tif (this.childNode) {\n\t\t\tconst initialHeight = this.childNode.scrollHeight;\n\t\t\tconst initialWidth = this.childNode.scrollWidth;\n\t\t\tif (initialHeight !== this.state.initialHeight || initialWidth !== this.state.initialWidth) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tinitialHeight,\n\t\t\t\t\tinitialWidth,\n\t\t\t\t\trenderState: TRANSITION_STATE.READY\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tchildRef = (node) => {\n\t\tthis.childNode = node;\n\t};\n\n\trender () {\n\t\tlet {visible, ...props} = this.props;\n\t\tdelete props.onHide;\n\t\tdelete props.onShow;\n\t\tdelete props.textSize;\n\n\t\tswitch (this.state.renderState) {\n\t\t\t// If we are deferring children, don't render any\n\t\t\tcase TRANSITION_STATE.INIT: return null;\n\n\t\t\t// If we're transitioning to visible but don't have a measurement yet, create the\n\t\t\t// transition container with its children so we can measure. Measuring will cause a\n\t\t\t// state change to trigger the animation.\n\t\t\tcase TRANSITION_STATE.MEASURE: return (\n\t\t\t\t<TransitionBase {...props} childRef={this.childRef} visible={false} />\n\t\t\t);\n\n\t\t\tcase TRANSITION_STATE.READY: return (\n\t\t\t\t<TransitionBase\n\t\t\t\t\t{...props}\n\t\t\t\t\tchildRef={this.childRef}\n\t\t\t\t\tvisible={visible}\n\t\t\t\t\tclipHeight={this.state.initialHeight}\n\t\t\t\t\tclipWidth={this.state.initialWidth}\n\t\t\t\t\tonTransitionEnd={this.handleTransitionEnd}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t}\n}\n\nexport default Transition;\nexport {Transition, TransitionBase};\n","/*\n * A higher-order component that adds a FloatingLayer adjacent to wrapped component.\n */\n\nimport {call, forEventProp, oneOf} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport Registry from '@enact/core/internal/Registry';\nimport React from 'react';\n\nconst forAction = forEventProp('action');\n\nconst FloatingLayerContext = React.createContext();\n\n/**\n * Default config for {@link ui/FloatingLayer.FloatingLayerDecorator}.\n *\n * @memberof ui/FloatingLayer.FloatingLayerDecorator\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Element Id of the floatLayer\n\t *\n\t * @type {String}\n\t * @default 'floatLayer'\n\t * @public\n\t * @memberof ui/FloatingLayer.FloatingLayerDecorator.defaultConfig\n\t */\n\tfloatLayerId: 'floatLayer',\n\n\t/**\n\t * Class name to be applied to wrapped component.\n\n\t * It can be used when you want to only apply\n\t * certain styles to the wrapped component and not to the float layer.\n\t *\n\t * @type {String}\n\t * @default ''\n\t * @public\n\t * @memberof ui/FloatingLayer.FloatingLayerDecorator.defaultConfig\n\t */\n\twrappedClassName: ''\n};\n\n/**\n * A higher-order component that adds a FloatingLayer adjacent to the wrapped component.\n *\n * Any classes passed to the FloatingLayerDecorator will be applied to a wrapper surrounding the\n * wrapped component and the floating layer. If specified in the config, `wrappedClassName` will be\n * passed as `className` to the wrapped component.\n *\n * @class FloatingLayerDecorator\n * @memberof ui/FloatingLayer\n * @hoc\n * @public\n */\nconst FloatingLayerDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {floatLayerId, wrappedClassName} = config;\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'FloatingLayerDecorator';\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tthis.registry = Registry.create(this.handleNotify);\n\t\t\tthis.floatingLayer = null;\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\tthis.notifyMount();\n\t\t}\n\n\t\tgetFloatingLayer = () => {\n\t\t\t// FIXME: if a component that resides in the floating layer is rendered at the same time\n\t\t\t// as the floating layer, this.floatingLayer may not have been initialized yet since\n\t\t\t// componentDidMount runs inside-out. As a fallback, we search by id but this could\n\t\t\t// introduce issues (e.g. for duplicate layer ids).\n\t\t\treturn (\n\t\t\t\tthis.floatingLayer ||\n\t\t\t\t(typeof document !== 'undefined' && document.getElementById(floatLayerId)) ||\n\t\t\t\tnull\n\t\t\t);\n\t\t};\n\n\t\thandleNotify = oneOf(\n\t\t\t[forAction('register'), call('notifyMount')],\n\t\t\t[forAction('closeAll'), call('handleCloseAll')]\n\t\t).bind(this);\n\n\t\thandleCloseAll () {\n\t\t\tthis.registry.notify({action: 'close'});\n\t\t}\n\n\t\tnotifyMount () {\n\t\t\tthis.registry.notify({\n\t\t\t\taction: 'mount',\n\t\t\t\tfloatingLayer: this.getFloatingLayer()\n\t\t\t});\n\t\t}\n\n\t\tsetFloatingLayer = (node) => {\n\t\t\tthis.floatingLayer = node;\n\t\t};\n\n\t\trender () {\n\t\t\tconst {className, ...rest} = this.props;\n\t\t\treturn (\n\t\t\t\t<FloatingLayerContext.Provider value={this.registry.register}>\n\t\t\t\t\t<div className={className}>\n\t\t\t\t\t\t<Wrapped key=\"floatWrapped\" {...rest} className={wrappedClassName} />\n\t\t\t\t\t\t<div id={floatLayerId} key=\"floatLayer\" ref={this.setFloatingLayer} />\n\t\t\t\t\t</div>\n\t\t\t\t</FloatingLayerContext.Provider>\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default FloatingLayerDecorator;\nexport {\n\tFloatingLayerContext,\n\tFloatingLayerDecorator\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport css from './Scrim.module.less';\n\nconst transparentClassName = css.scrim + ' enact-fit ' + css.transparent;\nconst translucentClassName = css.scrim + ' enact-fit ' + css.translucent;\n\n// Stores references to any Scrim instances whose type is translucent to ensure that only the top-\n// most Scrim is visible to avoid stacking scrims.\nconst scrimStack = [];\n\n/**\n * Pushes a translucent scrim to the top of the stack and hiding the previously top\n *\n * @param {ui/FloatingLayer.Scrim} scrim A scrim instance to add\n * @returns {undefined}\n * @private\n */\nfunction pushTranslucentScrim (scrim) {\n\tconst last = scrimStack.length - 1;\n\tif (last >= 0) {\n\t\t// if there are other translucent scrims, hide the topmost one assuming the others have been\n\t\t// hidden correctly by previous calls\n\t\tscrimStack[last].hide();\n\t}\n\n\tscrimStack.push(scrim);\n}\n\n/**\n * Removes a translucent scrim from the stack. If the scrim was the top-most, removing it will show\n * the next scrim. If not, it will just be removed\n *\n * @param {ui/FloatingLayer.Scrim} scrim A scrim instance to remove\n * @returns {undefined}\n * @private\n */\nfunction removeTranslucentScrim (scrim) {\n\tconst index = scrimStack.indexOf(scrim);\n\tconst last = scrimStack.length - 1;\n\tif (index === last) {\n\t\t// if scrim is the top of the stack (most likely case), show the one below it then pop it\n\t\tscrimStack.pop();\n\t\tif (scrimStack.length) {\n\t\t\tscrimStack[scrimStack.length - 1].show();\n\t\t}\n\t} else {\n\t\t// if it's in the middle of the stack, just remove it\n\t\tscrimStack.splice(index, 1);\n\t}\n}\n\n/**\n * {@link ui/FloatingLayer.Scrim} provides an overlay that will prevent taps from propagating\n * to the controls that it covers.\n *\n * @class Scrim\n * @memberof ui/FloatingLayer\n * @ui\n * @private\n */\nclass Scrim extends React.Component {\n\tstatic propTypes = /** @lends ui/FloatingLayer.Scrim.prototype */ {\n\t\t/**\n\t\t * Types of scrim. It can be either `'transparent'` or `'translucent'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default `translucent`\n\t\t * @public\n\t\t */\n\t\ttype: PropTypes.oneOf(['transparent', 'translucent'])\n\t};\n\n\tstatic defaultProps = {\n\t\ttype: 'translucent'\n\t};\n\n\tconstructor (props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tvisible: true\n\t\t};\n\n\t\tif (props.type === 'translucent') {\n\t\t\tpushTranslucentScrim(this);\n\t\t}\n\t}\n\n\tstatic getDerivedStateFromProps (props) {\n\t\tif (props.type !== 'translucent') {\n\t\t\treturn {\n\t\t\t\tvisible: true\n\t\t\t};\n\t\t}\n\t\treturn null;\n\t}\n\n\tcomponentDidUpdate (prevProps) {\n\t\tif (prevProps.type === 'translucent' && this.props.type !== 'translucent') {\n\t\t\tremoveTranslucentScrim(this);\n\t\t}\n\t}\n\n\tcomponentWillUnmount () {\n\t\tif (this.props.type === 'translucent') {\n\t\t\tremoveTranslucentScrim(this);\n\t\t}\n\t}\n\n\tshow = () => this.setState({visible: true});\n\n\thide = () => this.setState({visible: false});\n\n\trender () {\n\t\tif (this.state.visible) {\n\t\t\tconst {type, ...rest} = this.props;\n\t\t\tconst className = type === 'transparent' ? transparentClassName : translucentClassName;\n\n\t\t\treturn (\n\t\t\t\t<div {...rest} className={className} />\n\t\t\t);\n\t\t}\n\n\t\treturn null;\n\t}\n}\n\nexport default Scrim;\nexport {Scrim};\n","import {on, off} from '@enact/core/dispatcher';\nimport {adaptEvent, forward, forProp, handle, oneOf, stop, forEventProp, call} from '@enact/core/handle';\nimport invariant from 'invariant';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport Cancelable from '../Cancelable';\n\nimport {FloatingLayerContext} from './FloatingLayerDecorator';\nimport Scrim from './Scrim';\n\nconst forwardWithType = type => adaptEvent(\n\t() => ({type}),\n\tforward(type)\n);\n\nconst forwardDismiss = forwardWithType('onDismiss');\nconst forwardClose = forwardWithType('onClose');\nconst forwardOpen = forwardWithType('onOpen');\n\n/**\n * A component that creates an entry point to the new render tree.\n *\n * This is used for modal components such as popups.\n *\n * @class FloatingLayerBase\n * @memberof ui/FloatingLayer\n * @ui\n * @public\n */\nclass FloatingLayerBase extends React.Component {\n\tstatic displayName = 'FloatingLayer';\n\n\tstatic propTypes = /** @lends ui/FloatingLayer.FloatingLayerBase.prototype */ {\n\t\t/**\n\t\t * CSS classes for FloatingLayer.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'enact-fit enact-clip enact-untouchable'\n\t\t * @public\n\t\t */\n\t\tfloatLayerClassName: PropTypes.string,\n\n\t\t/**\n\t\t * Element id for floating layer.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'floatLayer'\n\t\t * @public\n\t\t */\n\t\tfloatLayerId: PropTypes.string,\n\n\t\t/**\n\t\t * Prevents FloatingLayer from hiding when the user presses `ESC` key.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tnoAutoDismiss: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when floating layer is closed.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonClose: PropTypes.func,\n\n\t\t/**\n\t\t * Called when a closing action is invoked.\n\t\t *\n\t\t * These actions may include pressing cancel/back (e.g. `ESC`) key or programmatically closing\n\t\t * by `FloatingLayerDecorator`. When cancel key is pressed, the function will only invoke if\n\t\t * `noAutoDismiss` is set to `false`.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonDismiss: PropTypes.func,\n\n\t\t/**\n\t\t * Called when floating layer is opened. It will only be invoked for the first render.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonOpen: PropTypes.func,\n\n\t\t/**\n\t\t * Renders the floating layer and its components.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\topen: PropTypes.bool,\n\n\t\t/**\n\t\t * The scrim type that overlays FloatingLayer.\n\t\t *\n\t\t * It can be either `'transparent'`, `'translucent'`, or `'none'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'translucent'\n\t\t * @public\n\t\t */\n\t\tscrimType: PropTypes.oneOf(['transparent', 'translucent', 'none'])\n\t};\n\n\tstatic contextType = FloatingLayerContext;\n\n\tstatic defaultProps = {\n\t\tfloatLayerClassName: 'enact-fit enact-clip enact-untouchable',\n\t\tfloatLayerId: 'floatLayer',\n\t\tnoAutoDismiss: false,\n\t\topen: false,\n\t\tscrimType: 'translucent'\n\t};\n\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.node = null;\n\t\tthis.state = {\n\t\t\tnodeRendered: false\n\t\t};\n\t}\n\n\tcomponentDidMount () {\n\t\t// Must register first in order to obtain the floating layer node reference before tryinging\n\t\t// to render into it\n\t\tif (this.context && typeof this.context === 'function') {\n\t\t\tthis.controller = this.context(this.handleNotify.bind(this));\n\t\t}\n\n\t\tif (this.props.scrimType === 'none' && this.props.open) {\n\t\t\ton('click', this.handleClick);\n\t\t}\n\t}\n\n\tcomponentDidUpdate (prevProps, prevState) {\n\t\tconst {open, scrimType} = this.props;\n\n\t\tif (prevProps.open && !open) {\n\t\t\t// when open changes to false, forward close\n\t\t\tforwardClose(null, this.props);\n\t\t} else if (!prevProps.open && open && !this.state.nodeRendered) {\n\t\t\t// when open changes to true and node hasn't rendered, render it\n\t\t\tthis.renderNode();\n\t\t} else if (this.state.nodeRendered &&\n\t\t\t(!prevState.nodeRendered || (prevState.nodeRendered && open && !prevProps.open))\n\t\t) {\n\t\t\t// when node has been rendered and either it was just rendered in this update cycle or\n\t\t\t// the open prop changed in this cycle, forward open\n\t\t\tforwardOpen(null, this.props);\n\t\t}\n\n\t\tif (scrimType === 'none') {\n\t\t\tif (!prevProps.open && open) {\n\t\t\t\ton('click', this.handleClick);\n\t\t\t} else if (prevProps.open && !open) {\n\t\t\t\toff('click', this.handleClick);\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillUnmount () {\n\t\tif (this.node && this.floatingLayer) {\n\t\t\tthis.floatingLayer.removeChild(this.node);\n\t\t\tthis.node = null;\n\t\t\tthis.floatingLayer = null;\n\t\t}\n\n\t\toff('click', this.handleClick);\n\n\t\tif (this.controller) {\n\t\t\tthis.controller.unregister();\n\t\t}\n\t}\n\n\thandleNotify = oneOf(\n\t\t[forEventProp('action', 'close'), call('handleClose')],\n\t\t[forEventProp('action', 'mount'), call('setFloatingLayer')]\n\t).bind(this);\n\n\tsetFloatingLayer ({floatingLayer}) {\n\t\tconst isNewLayer = !this.floatingLayer && floatingLayer;\n\t\tthis.floatingLayer = floatingLayer;\n\n\t\t// the first time we have a valid floating layer container and this instance is set to open,\n\t\t// we need to render the layer.\n\t\tif (isNewLayer && this.props.open && !this.state.nodeRendered) {\n\t\t\tthis.renderNode();\n\t\t}\n\t}\n\n\thandleClose = handle(\n\t\tforProp('open', true),\n\t\tforwardDismiss\n\t).bind(this);\n\n\thandleClick = handle(\n\t\tforProp('noAutoDismiss', false),\n\t\tforProp('open', true),\n\t\tforward('onDismiss')\n\t).bind(this);\n\n\thandleScroll = (ev) => {\n\t\tconst {currentTarget} = ev;\n\t\tcurrentTarget.scrollTop = 0;\n\t\tcurrentTarget.scrollLeft = 0;\n\t};\n\n\tstopPropagation = (ev) => {\n\t\tev.nativeEvent.stopImmediatePropagation();\n\n\t\tif (this.props.children.props.onClick) {\n\t\t\tthis.props.children.props.onClick();\n\t\t}\n\t};\n\n\trenderNode () {\n\t\tconst {floatLayerClassName} = this.props;\n\n\t\tif (this.node) return;\n\n\t\tinvariant(\n\t\t\tthis.floatingLayer,\n\t\t\t'FloatingLayer cannot be used outside the subtree of a FloatingLayerDecorator'\n\t\t);\n\n\t\tthis.node = document.createElement('div');\n\t\tthis.node.className = floatLayerClassName;\n\t\tthis.node.style.zIndex = 100;\n\n\t\tthis.floatingLayer.appendChild(this.node);\n\t\ton('scroll', this.handleScroll, this.node);\n\n\t\t// render children when this.node is inserted in the DOM tree.\n\t\tthis.setState({nodeRendered: true});\n\t}\n\n\trender () {\n\t\tconst {children, open, scrimType, ...rest} = this.props;\n\n\t\tdelete rest.floatLayerClassName;\n\t\tdelete rest.floatLayerId;\n\t\tdelete rest.noAutoDismiss;\n\t\tdelete rest.onClose;\n\t\tdelete rest.onDismiss;\n\t\tdelete rest.onOpen;\n\n\t\tif (open && this.state.nodeRendered) {\n\t\t\treturn ReactDOM.createPortal(\n\t\t\t\t<div {...rest}>\n\t\t\t\t\t{scrimType !== 'none' ? <Scrim type={scrimType} onClick={this.handleClick} /> : null}\n\t\t\t\t\t{React.cloneElement(children, {onClick: this.stopPropagation})}\n\t\t\t\t</div>,\n\t\t\t\tthis.node\n\t\t\t);\n\t\t}\n\n\t\treturn null;\n\t}\n}\n\nconst handleCancel = handle(\n\t// can't use forProp safely since either could be undefined ~= false\n\t(ev, {open, noAutoDismiss, onDismiss}) => open && !noAutoDismiss && onDismiss,\n\tforwardDismiss,\n\tstop\n);\n\n/**\n * FloatingLayer that mixes {@link ui/Cancelable.Cancelable} to handle FloatingLayer dismissal.\n *\n * This is used for modal components such as popups.\n *\n * @class FloatingLayer\n * @memberof ui/FloatingLayer\n * @ui\n * @extends ui/FloatingLayer.FloatingLayerBase\n * @mixes ui/Cancelable.Cancelable\n * @public\n */\nconst FloatingLayer = Cancelable({modal: true, onCancel: handleCancel}, FloatingLayerBase);\n\nexport default FloatingLayer;\nexport {FloatingLayer, FloatingLayerBase};\n","/**\n * FloatingLayer provides a way to render a component into a node outside of its parent component.\n *\n * This is used for modal components such as popups.\n *\n * @module ui/FloatingLayer\n * @exports FloatingLayer\n * @exports FloatingLayerBase\n * @exports FloatingLayerDecorator\n */\n\nimport {FloatingLayer, FloatingLayerBase} from './FloatingLayer';\nimport {FloatingLayerDecorator} from './FloatingLayerDecorator';\nimport {useFloatingLayer} from './useFloatingLayer';\n\nexport default FloatingLayer;\nexport {\n\tFloatingLayer,\n\tFloatingLayerBase,\n\tFloatingLayerDecorator,\n\tuseFloatingLayer\n};\n","/**\n * Unstyled button components and behaviors to be customized by a theme or application.\n *\n * @module ui/Button\n * @exports Button\n * @exports ButtonBase\n * @exports ButtonDecorator\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ComponentOverride from '../ComponentOverride';\nimport Touchable from '../Touchable';\n\nimport componentCss from './Button.module.less';\n\n/**\n * A basic button component structure without any behaviors applied to it.\n *\n * @class ButtonBase\n * @memberof ui/Button\n * @ui\n * @public\n */\nconst ButtonBase = kind({\n\tname: 'ui:Button',\n\n\tpropTypes: /** @lends ui/Button.ButtonBase.prototype */ {\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `button` - The root component class\n\t\t * * `bg` - The background node of the button\n\t\t * * `client` - The content node of the button\n\t\t * * `hasIcon` - Applied when there is an `icon` present\n\t\t * * `icon` - The icon node, when `icon` is set\n\t\t * * `large` - Applied when `size` prop is `'large'`\n\t\t * * `minWidth` - Applied when `minWidth` prop is `true`\n\t\t * * `pressed` - Applied when `pressed` prop is `true`\n\t\t * * `selected` - Applied when `selected` prop is `true`\n\t\t * * `small` - Applied when `size` prop is `'small'`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Additional DOM nodes which may be necessary for decorating the Button.\n\t\t *\n\t\t * @type {Node}\n\t\t * @private\n\t\t */\n\t\tdecoration: PropTypes.node,\n\n\t\t/**\n\t\t * Applies the `disabled` class.\n\t\t *\n\t\t * When `true`, the button is shown as disabled.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * The icon displayed within the Button.\n\t\t *\n\t\t * The icon will be displayed before the natural reading order of the text, regardless\n\t\t * of locale. Any string that is valid for its {@link ui/Button.Button.iconComponent} is\n\t\t * valid here. If `icon` is specified as a string and `iconButton` is undefined, the icon is\n\t\t * not rendered.\n\t\t *\n\t\t * This also supports a custom icon, in the form of a DOM node or a Component,\n\t\t * with the caveat that if you supply a custom icon, you are responsible for sizing and\n\t\t * locale positioning of the custom component.\n\t\t *\n\t\t * Setting this to `true` means the `iconComponent` will be rendered but with empty content.\n\t\t * This may be useful if you've customized the `iconComponent` to render the icon content\n\t\t * externally.\n\t\t *\n\t\t * @type {Node|Boolean}\n\t\t * @public\n\t\t */\n\t\ticon: PropTypes.oneOfType([PropTypes.node, PropTypes.bool]),\n\n\t\t/**\n\t\t * The component used to render the [icon]{@link ui/Button.ButtonBase.icon}.\n\t\t *\n\t\t * This component will receive the `icon` class to customize its styling.\n\t\t * If [icon]{@link ui/Button.ButtonBase.icon} is not assigned or is false, this component\n\t\t * will not be rendered.\n\t\t *\n\t\t * If this is a component rather than an HTML element string, this component will also\n\t\t * receive the `size` and `iconFlip` (as `flip`) properties and should be configured to\n\t\t * handle it.\n\t\t *\n\t\t * @type {Component|Node}\n\t\t * @public\n\t\t */\n\t\ticonComponent: EnactPropTypes.componentOverride,\n\n\t\t/**\n\t\t * Flips the icon.\n\t\t *\n\t\t * @see {@link ui/Icon.Icon#flip}\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\ticonFlip: PropTypes.string,\n\n\t\t/**\n\t\t * Enforces a minimum width for the component.\n\t\t *\n\t\t * Applies the `minWidth` CSS class which can be customized by\n\t\t * [theming]{@link /docs/developer-guide/theming/}.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default true\n\t\t * @public\n\t\t */\n\t\tminWidth: PropTypes.bool,\n\n\t\t/**\n\t\t * Indicates the component is depressed.\n\t\t *\n\t\t * Applies the `pressed` CSS class which can be customized by\n\t\t * [theming]{@link /docs/developer-guide/theming/}.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tpressed: PropTypes.bool,\n\n\t\t/**\n\t\t * Indicates the component is selected.\n\t\t *\n\t\t * Applies the `selected` CSS class which can be customized by\n\t\t * [theming]{@link /docs/developer-guide/theming/}.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool,\n\n\t\t/**\n\t\t * The size of the button.\n\t\t *\n\t\t * Applies the CSS class which can be customized by\n\t\t * [theming]{@link /docs/developer-guide/theming/}.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tdisabled: false,\n\t\tminWidth: true,\n\t\tpressed: false,\n\t\tselected: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'button',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({icon, minWidth, pressed, selected, size, styler}) => styler.append({\n\t\t\thasIcon: (!!icon),\n\t\t\tminWidth,\n\t\t\tpressed,\n\t\t\tselected\n\t\t}, size),\n\t\ticon: ({css, icon, iconComponent, iconFlip, size}) => {\n\t\t\tif (icon == null || icon === false) return;\n\n\t\t\t// Establish the base collection of props for the most basic `iconComponent` type, an\n\t\t\t// HTML element string.\n\t\t\tconst props = {\n\t\t\t\tclassName: css.icon,\n\t\t\t\tcomponent: iconComponent\n\t\t\t};\n\n\t\t\t// Add in additional props that any Component supplied to `iconComponent` should be\n\t\t\t// configured to handle.\n\t\t\tif (typeof iconComponent !== 'string') {\n\t\t\t\tprops.size = size;\n\t\t\t\t// the following inadvertently triggers a linting rule\n\t\t\t\t// eslint-disable-next-line enact/prop-types\n\t\t\t\tprops.flip = iconFlip;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<ComponentOverride {...props}>\n\t\t\t\t\t{icon}\n\t\t\t\t</ComponentOverride>\n\t\t\t);\n\t\t}\n\t},\n\n\trender: ({children, css, decoration, disabled, icon, ...rest}) => {\n\t\tdelete rest.iconComponent;\n\t\tdelete rest.iconFlip;\n\t\tdelete rest.minWidth;\n\t\tdelete rest.pressed;\n\t\tdelete rest.selected;\n\t\tdelete rest.size;\n\n\t\treturn (\n\t\t\t<div role=\"button\" {...rest} aria-disabled={disabled} disabled={disabled}>\n\t\t\t\t{decoration ? (\n\t\t\t\t\t<div className={css.decoration}>{decoration}</div>\n\t\t\t\t) : null}\n\t\t\t\t<div className={css.bg} />\n\t\t\t\t<div className={css.client}>{icon}{children}</div>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n/**\n * A higher-order component that adds touch support to a [ButtonBase]{@link ui/Button.ButtonBase}.\n *\n * @hoc\n * @memberof ui/Button\n * @mixes ui/Touchable.Touchable\n * @public\n */\nconst ButtonDecorator = Touchable({activeProp: 'pressed'});\n\n/**\n * A minimally-styled button component with touch support.\n *\n * @class Button\n * @extends ui/Button.ButtonBase\n * @memberof ui/Button\n * @mixes ui/Button.ButtonDecorator\n * @ui\n * @public\n */\nconst Button = ButtonDecorator(ButtonBase);\n\nexport default Button;\nexport {\n\tButton,\n\tButtonBase,\n\tButtonDecorator\n};\n","/**\n * Text block component to be customized by a theme or application.\n *\n * @module ui/BodyText\n * @exports BodyText\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ForwardRef from '../ForwardRef';\n\nimport componentCss from './BodyText.module.less';\n\n/**\n * A simple, unstyled text block component, without\n * [BodyTextDecorator](ui/BodyText.BodyTextDecorator) applied.\n *\n * @class BodyTextBase\n * @memberof ui/BodyText\n * @ui\n * @public\n */\nconst BodyTextBase = kind({\n\tname: 'ui:BodyText',\n\n\tpropTypes: /** @lends ui/BodyText.BodyTextBase.prototype */ {\n\t\t/**\n\t\t * Centers the contents.\n\t\t *\n\t\t * Applies the `centered` CSS class which can be customized by\n\t\t * [theming]{@link /docs/developer-guide/theming/}.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tcentered: PropTypes.bool,\n\n\t\t/**\n\t\t * The type of component to use to render the item. May be a DOM node name (e.g 'div',\n\t\t * 'p', etc.) or a custom component.\n\t\t *\n\t\t * @type {Component}\n\t\t * @default 'p'\n\t\t * @public\n\t\t */\n\t\tcomponent: EnactPropTypes.renderable,\n\n\t\t/**\n\t\t * Called with a reference to [component]{@link ui/BodyText.BodyText#component}\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @private\n\t\t */\n\t\tcomponentRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `bodyText` - The root class name\n\t\t * * `centered` - Applied when `centered` prop is `true`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object\n\t},\n\n\tdefaultProps: {\n\t\tcentered: false,\n\t\tcomponent: 'p'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'bodyText',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({centered, styler}) => styler.append({centered})\n\t},\n\n\trender: ({component: Component, componentRef, ...rest}) => {\n\t\tdelete rest.centered;\n\n\t\treturn (\n\t\t\t<Component\n\t\t\t\tref={componentRef}\n\t\t\t\t{...rest}\n\t\t\t/>\n\t\t);\n\t}\n});\n\n/**\n * Applies BodyText behaviors.\n *\n * @hoc\n * @memberof ui/BodyText\n * @mixes ui/ForwardRef.ForwardRef\n * @public\n */\nconst BodyTextDecorator = ForwardRef({prop: 'componentRef'});\n\n/**\n * A simple, unstyled text block component.\n *\n * @class BodyText\n * @memberof ui/BodyText\n * @ui\n * @public\n */\nconst BodyText = BodyTextDecorator(BodyTextBase);\n\nexport default BodyText;\nexport {\n\tBodyText,\n\tBodyTextBase,\n\tBodyTextDecorator\n};\n","/**\n * Utilities for detecting basic platform capabilities.\n *\n * @module core/platform\n * @exports detect\n * @exports platform\n * @public\n */\n\nimport uniq from 'ramda/src/uniq';\n\nconst hasGesture = () => {\n\treturn Boolean(\n\t\t('ongesturestart' in window) ||\n\t\t('onmsgesturestart' in window && (\n\t\t\twindow.navigator.msMaxTouchPoints > 1 ||\n\t\t\twindow.navigator.maxTouchPoints > 1\n\t\t))\n\t);\n};\n\nconst hasTouch = () => {\n\treturn Boolean(\n\t\t('TouchEvent' in window) ||\n\t\t('ontouchstart' in window) ||\n\t\twindow.navigator.msMaxTouchPoints ||\n\t\t(window.navigator.msManipulationViewsEnabled && window.navigator.maxTouchPoints)\n\t);\n};\n\n// Adapted from https://patrickhlauke.github.io/touch/touchscreen-detection/\n// I've omitted the touch event fallback since that is covered by hasTouch and we're less concerned\n// with legacy browsers used in touchscreen environments.\nconst hasTouchScreen = () => {\n\treturn (\n\t\t// if Pointer Events are supported, just check maxTouchPoints\n\t\t(window.PointerEvent && ('maxTouchPoints' in window.navigator) && window.navigator.maxTouchPoints > 0) ||\n\t\t// check for any-pointer:coarse which mostly means touchscreen\n\t\t(window.matchMedia && window.matchMedia('(any-pointer:coarse)').matches)\n\t);\n};\n\nconst platforms = [\n\t// Windows Phone 7 - 10\n\t{platform: 'windowsPhone', regex: /Windows Phone (?:OS )?(\\d+)[.\\d]+/},\n\t// Android 4+ using Chrome\n\t{platform: 'androidChrome', regex: /Android .* Chrome\\/(\\d+)[.\\d]+/},\n\t// Android 2 - 4\n\t{platform: 'android', regex: /Android(?:\\s|\\/)(\\d+)/},\n\t// Kindle Fire\n\t// Force version to 2, (desktop mode does not list android version)\n\t{platform: 'android', regex: /Silk\\/1./, forceVersion: 2, extra: {silk: 1}},\n\t// Kindle Fire HD (Silk versions 2 or 3)\n\t// Force version to 4\n\t{platform: 'android', regex: /Silk\\/2./, forceVersion: 4, extra: {silk: 2}},\n\t{platform: 'android', regex: /Silk\\/3./, forceVersion: 4, extra: {silk: 3}},\n\t// IE 8 - 10\n\t{platform: 'ie', regex: /MSIE (\\d+)/},\n\t// IE 11\n\t{platform: 'ie', regex: /Trident\\/.*; rv:(\\d+)/},\n\t// Edge\n\t{platform: 'edge', regex: /Edge\\/(\\d+)/},\n\t// iOS 3 - 5\n\t// Apple likes to make this complicated\n\t{platform: 'ios', regex: /iP(?:hone|ad;(?: U;)? CPU) OS (\\d+)/},\n\t// LG webOS\n\t{platform: 'webos', regex: /Web0S;.*Safari\\/537.41/, forceVersion: 1},\n\t{platform: 'webos', regex: /Web0S;.*Safari\\/538.2/, forceVersion: 2},\n\t{platform: 'webos', regex: /Web0S;.*Chrome\\/38/, forceVersion: 3},\n\t{platform: 'webos', regex: /Web0S;.*Chrome\\/53/, forceVersion: 4},\n\t{platform: 'webos', regex: /Web0S;.*Chrome\\/68/, forceVersion: 5},\n\t// LG webOS of indeterminate version\n\t{platform: 'webos', regex: /Web0S;/, forceVersion: -1},\n\t// LuneOS\n\t{platform: 'webos', regex: /LuneOS/, forceVersion: -1, extra: {luneos: 1}},\n\t// Palm/HP/Open webOS\n\t{platform: 'webos', regex: /WebAppManager|Isis|webOS\\./, forceVersion: -1, extra: {legacy: 4}},\n\t{platform: 'webos', regex: /(?:web|hpw)OS\\/1/, forceVersion: -1, extra: {legacy: 1}},\n\t{platform: 'webos', regex: /(?:web|hpw)OS\\/2/, forceVersion: -1, extra: {legacy: 2}},\n\t{platform: 'webos', regex: /(?:web|hpw)OS\\/3/, forceVersion: -1, extra: {legacy: 3}},\n\t// desktop Safari\n\t{platform: 'safari', regex: /Version\\/(\\d+)[.\\d]+\\s+Safari/},\n\t// desktop Chrome\n\t{platform: 'chrome', regex: /Chrome\\/(\\d+)[.\\d]+/},\n\t// Firefox on Android\n\t{platform: 'androidFirefox', regex: /Android;.*Firefox\\/(\\d+)/},\n\t// FirefoxOS\n\t{platform: 'firefoxOS', regex: /Mobile;.*Firefox\\/(\\d+)/},\n\t// desktop Firefox\n\t{platform: 'firefox', regex: /Firefox\\/(\\d+)/},\n\t// Blackberry Playbook\n\t{platform: 'blackberry', regex: /PlayBook/i, forceVersion: 2},\n\t// Blackberry 10+\n\t{platform: 'blackberry', regex: /BB1\\d;.*Version\\/(\\d+\\.\\d+)/},\n\t// Tizen\n\t{platform: 'tizen', regex: /Tizen (\\d+)/}\n];\n\nconst ua = () => {\n\treturn window.navigator ? window.navigator.userAgent : '';\n};\n\nlet _platform;\n\nconst parseUserAgent = (userAgent) => {\n\tlet plat = {\n\t\tgesture: hasGesture(),\n\t\tnode: false,\n\t\ttouch: hasTouch(),\n\t\ttouchscreen: hasTouchScreen(),\n\t\tunknown: true\n\t};\n\n\tfor (let i = 0, p, m, v; (p = platforms[i]); i++) {\n\t\tm = p.regex.exec(userAgent);\n\n\t\tif (m) {\n\t\t\tplat.unknown = false;\n\n\t\t\tif ('forceVersion' in p) {\n\t\t\t\tv = p.forceVersion;\n\t\t\t} else {\n\t\t\t\tv = Number(m[1]);\n\t\t\t}\n\t\t\tplat[p.platform] = v;\n\t\t\tif (p.extra) {\n\t\t\t\tplat = {\n\t\t\t\t\t...plat,\n\t\t\t\t\t...p.extra\n\t\t\t\t};\n\t\t\t}\n\t\t\tplat.platformName = p.platform;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn plat;\n};\n\n/**\n * @typedef {Object} PlatformDescription\n * @property {Object} [extra] - Additional information about the detected platform\n * @property {Boolean} gesture - `true` if the platform has native double-finger events\n * @property {Boolean} node - `true` only if `window` is `undefined`\n * @property {String} [platformName] - The name of the platform, if detected\n * @property {Boolean} touch - `true` if the platform has native single-finger events\n * @property {Boolean} touchsreen - `true` if the platform has a touch screen\n * @property {Boolean} unknown - `true` for any unknown system\n *\n * @memberof core/platform\n * @public\n */\n\n/**\n * Returns the {@link core/platform.platform} object.\n *\n * @function detect\n * @returns {PlatformDescription}     The {@link core/platform.platform} object\n * @memberof core/platform\n * @public\n */\nconst detect = () => {\n\tif (_platform) {\n\t\t// if we've already determined the platform, we'll use that determination\n\t\treturn _platform;\n\t} else if (typeof window === 'undefined') {\n\t\treturn {\n\t\t\tgesture: false,\n\t\t\tnode: true,\n\t\t\ttouch: false,\n\t\t\tunknown: true\n\t\t};\n\t}\n\n\tconst userAgent = ua();\n\n\treturn (_platform = parseUserAgent(userAgent));\n};\n\n/**\n * Provides basic information about the running platform.\n *\n * @type {PlatformDescription}\n * @memberof core/platform\n * @public\n */\nconst platform = {};\n\n[\n\t'gesture',\n\t'node',\n\t'platformName',\n\t'touch',\n\t'touchscreen',\n\t'unknown',\n\t...uniq(platforms.map(p => p.platform))\n].forEach(name => {\n\tObject.defineProperty(platform, name, {\n\t\tenumerable: true,\n\t\tget: () => {\n\t\t\tconst p = detect();\n\t\t\treturn p[name];\n\t\t}\n\t});\n});\n\nexport default platform;\nexport {\n\tdetect,\n\tparseUserAgent,\n\tplatform\n};\n","let baseScreen,\n\torientation,\n\triRatio,\n\tscreenType,\n\tworkspaceBounds = {\n\t\twidth: (typeof window === 'object') ? window.innerWidth : 1920,\n\t\theight: (typeof window === 'object') ? window.innerHeight : 1080\n\t},\n\tscreenTypes = [{\n\t\tname: 'standard',\n\t\tpxPerRem: 16,\n\t\twidth: workspaceBounds.width,\n\t\theight: workspaceBounds.height,\n\t\taspectRatioName: 'standard',\n\t\tbase: true\n\t}],\t// Assign one sane type in case defineScreenTypes is never run.\n\tscreenTypeObject,\n\tconfig;\n\n/**\n * Object that stores all of the pixel conversion factors to each keyed unit.\n *\n * @type {Object}\n * @memberof ui/resolution\n * @public\n */\nconst unitToPixelFactors = {\n\t'rem': 12,\n\t'in': 96\n};\n\nconst configDefaults = {\n\torientationHandling: 'normal'\n};\n\n/**\n * Update the common measured boundary object.\n *\n * This object is used as \"what size screen are we looking at\". Providing no arguments has no\n * effect and updates nothing.\n *\n * @function\n * @memberOf ui/resolution\n * @param {Node}    measurementNode    A standard DOM node or the `window` node.\n *\n * @returns {undefined}\n * @private\n */\nconst updateWorkspaceBounds = (measurementNode) => {\n\tif (measurementNode && (measurementNode.clientHeight || measurementNode.clientWidth)) {\n\t\tworkspaceBounds = {height: measurementNode.clientHeight, width: measurementNode.clientWidth};\n\t} else if (measurementNode && (measurementNode.innerHeight || measurementNode.innerWidth)) {\n\t\t// A backup for if measurementNode is actually `window` and not a normal node\n\t\tworkspaceBounds = {height: measurementNode.innerHeight, width: measurementNode.innerWidth};\n\t}\n};\n\n/**\n * Fetch the screenType object\n *\n * @function\n * @memberof ui/resolution\n * @param  {String}    type    The key string for the screen type object. If falsy, the current\n *                             screenType is used\n *\n * @returns {Object}           screenTypeObject\n * @private\n */\nfunction getScreenTypeObject (type) {\n\ttype = type || screenType;\n\tif (screenTypeObject && screenTypeObject.name === type) {\n\t\treturn screenTypeObject;\n\t}\n\treturn screenTypes.filter(function (elem) {\n\t\treturn (type === elem.name);\n\t})[0];\n}\n\n/**\n * Sets up screen resolution scaling capabilities by defining an array of all the screens\n * being used.\n *\n * These should be listed in order from smallest to largest, according to\n * width.\n *\n * The `name`, `pxPerRem`, `width`, and `aspectRatioName` properties are required for\n * each screen type in the array. Setting `base: true` on a screen type marks it as the\n * default resolution, upon which everything else will be based.\n *\n * Executing this method also initializes the rest of the resolution-independence code.\n *\n * Example:\n * ```\n * import ri from 'enact/ui/resolution';\n *\n * ri.defineScreenTypes([\n * \t{name: 'vga',     pxPerRem: 8,  width: 640,  height: 480,  aspectRatioName: 'standard'},\n * \t{name: 'xga',     pxPerRem: 16, width: 1024, height: 768,  aspectRatioName: 'standard'},\n * \t{name: 'hd',      pxPerRem: 16, width: 1280, height: 720,  aspectRatioName: 'hdtv'},\n * \t{name: 'fhd',     pxPerRem: 24, width: 1920, height: 1080, aspectRatioName: 'hdtv', base: true},\n * \t{name: 'uw-uxga', pxPerRem: 24, width: 2560, height: 1080, aspectRatioName: 'cinema'},\n * \t{name: 'uhd',     pxPerRem: 48, width: 3840, height: 2160, aspectRatioName: 'hdtv'}\n * ]);\n * ```\n *\n * @function\n * @memberof ui/resolution\n * @param {Object[]}    types    An array of objects containing screen configuration data, as in the\n *                            preceding example.\n * @returns {undefined}\n * @public\n */\nfunction defineScreenTypes (types) {\n\tif (types) screenTypes = types;\n\tfor (let i = 0; i < screenTypes.length; i++) {\n\t\tif (screenTypes[i]['base']) baseScreen = screenTypes[i];\n\t}\n\tinit();\n}\n\n/**\n * Fetches the name of the screen type that best matches the current screen size.\n *\n * The best match is defined as the screen type that is the closest to the screen resolution without\n * going over. (\"The Price is Right\" style.)\n *\n * @function\n * @memberof ui/resolution\n * @param {Object}    rez    Optional measurement scheme. Must include `height` and `width` properties.\n * @returns {String}         Screen type (e.g., `'fhd'`, `'uhd'`, etc.)\n * @public\n */\nfunction getScreenType (rez) {\n\trez = rez || workspaceBounds;\n\n\tconst types = screenTypes;\n\tlet bestMatch = types[types.length - 1].name; // Blindly set the first screen type, in case no matches are found later.\n\n\torientation = 'landscape';\n\n\tif (rez.height > rez.width) {\n\t\torientation = 'portrait';\n\t\tconst swap = rez.width;\n\t\trez.width = rez.height;\n\t\trez.height = swap;\n\t}\n\n\t// Loop through resolutions, last->first, largest->smallest\n\tfor (let i = types.length - 1; i >= 0; i--) {\n\t\t// Does the current resolution fit inside this screenType definition? If so, save it as the current best match.\n\t\tif (rez.height <= types[i].height && rez.width <= types[i].width) {\n\t\t\tbestMatch = types[i].name;\n\t\t}\n\t}\n\t// Return the name of the closest fitting set of dimensions.\n\treturn bestMatch;\n}\n\n/**\n * Calculate the base rem font size.\n *\n * This is how the magic happens. This accepts an optional `screenType` name. If one isn't provided,\n * the currently detected screen type is used. This uses the config option `orientationHandling`,\n * which when set to \"scale\" and the screen is in portrait orientation, will dynamically calculate\n * what the base font size should be, if the width were proportionally scaled down to fit in the portrait space.\n *\n * To use, put the following in your application code:\n * ```\n * import ri from '@enact/ui/resolution';\n *\n * ri.config.orientationHandling = 'scale';\n * ri.init();\n * ```\n *\n * This has no effect if the screen is in landscape, or if `orientationHandling` is unset.\n *\n * @function\n * @memberof ui/resolution\n * @param {String}    type    Screen type to base size the calculation on. If no\n *                            screen type is provided, the current screen type will be used.\n * @returns {String}          The calculated pixel size (with unit suffix. Ex: \"24px\").\n * @public\n */\nfunction calculateFontSize (type) {\n\tconst scrObj = getScreenTypeObject(type);\n\tlet size;\n\n\tif (orientation === 'portrait' && config.orientationHandling === 'scale') {\n\t\tsize = scrObj.height / scrObj.width * scrObj.pxPerRem;\n\t} else {\n\t\tsize = scrObj.pxPerRem;\n\t}\n\treturn size + 'px';\n}\n\n/**\n * @function\n * @memberof ui/resolution\n * @param {String}    size     A valid CSS measurement to be applied as the base document font size.\n * @private\n * @returns {undefined}\n */\nfunction updateBaseFontSize (size) {\n\tif (typeof window === 'object') {\n\t\tdocument.documentElement.style.fontSize = size;\n\t}\n}\n\n/**\n * Returns the CSS classes for the given `type`.\n *\n * @function\n * @memberof ui/resolution\n * @param {String}    type    Screen type\n * @returns {String}          CSS class names\n * @public\n */\nfunction getResolutionClasses (type = screenType) {\n\tconst classes = [];\n\tif (orientation) {\n\t\tclasses.push('enact-orientation-' + orientation);\n\t}\n\tif (type) {\n\t\tclasses.push('enact-res-' + type.toLowerCase());\n\t\tconst scrObj = getScreenTypeObject(type);\n\t\tif (scrObj.aspectRatioName) {\n\t\t\tclasses.push('enact-aspect-ratio-' + scrObj.aspectRatioName.toLowerCase());\n\t\t}\n\t}\n\treturn classes.join(' ');\n}\n\n/**\n * Returns the ratio of pixels per rem for the given `type` to the pixels per rem for the base type.\n *\n * @function\n * @memberof ui/resolution\n * @param  {String}    type    Screen type\n *\n * @returns {Number}           ratio\n */\nfunction getRiRatio (type = screenType) {\n\tif (type && baseScreen) {\n\t\tconst ratio = getUnitToPixelFactors(type) / getUnitToPixelFactors(baseScreen.name);\n\t\tif (type === screenType) {\n\t\t\t// cache this if it's for our current screen type.\n\t\t\triRatio = ratio;\n\t\t}\n\t\treturn ratio;\n\t}\n\treturn 1;\n}\n\n/**\n * Returns the pixels per rem for the given `type`.\n *\n * @memberof ui/resolution\n * @param {String}    type    Screen type\n *\n * @returns {Number}          pixels per rem\n */\nfunction getUnitToPixelFactors (type = screenType) {\n\tif (type) {\n\t\treturn getScreenTypeObject(type).pxPerRem;\n\t}\n\treturn 1;\n}\n\n/**\n * Calculates the aspect ratio of the specified screen type.\n *\n * If no screen type is provided, the current screen type is used.\n *\n * @function\n * @memberof ui/resolution\n * @param {String}    type    Screen type whose aspect ratio will be calculated. If no screen\n *                            type is provided, the current screen type is used.\n * @returns {Number}          The calculated screen ratio (e.g., `1.333`, `1.777`, `2.333`, etc.)\n * @public\n */\nfunction getAspectRatio (type) {\n\tconst scrObj = getScreenTypeObject(type);\n\tif (scrObj.width && scrObj.height) {\n\t\treturn (scrObj.width / scrObj.height);\n\t}\n\treturn 1;\n}\n\n/**\n * Returns the name of the aspect ratio for a specified screen type, or for the default\n * screen type if none is provided.\n *\n * @function\n * @memberof ui/resolution\n * @param {String}    type    Screen type whose aspect ratio name will be returned. If no\n *                            screen type is provided, the current screen type will be used.\n * @returns {String}          The name of the screen type's aspect ratio\n * @public\n */\nfunction getAspectRatioName (type) {\n\tconst scrObj = getScreenTypeObject(type);\n\treturn scrObj.aspectRatioName || 'standard';\n}\n\n/**\n * Takes a provided pixel value and performs a scaling operation based on the current\n * screen type.\n *\n * @function\n * @memberof ui/resolution\n * @param {Number}    px    The quantity of standard-resolution pixels to scale to the\n *                          current screen resolution.\n * @returns {Number}        The scaled value based on the current screen scaling factor\n * @public\n */\nfunction scale (px) {\n\treturn (riRatio || getRiRatio()) * px;\n}\n\n/**\n * Convert to various unit formats.\n *\n * Useful for converting pixels to a resolution-independent\n * measurement method, like \"rem\". Other units are available if defined in the\n * {@link ui/resolution.unitToPixelFactors} object.\n *\n * Example:\n * ```\n * import ri from '@enact/ui/resolution';\n *\n * // Do calculations and get back the desired CSS unit.\n * var frameWidth = 250,\n *     frameWithMarginInches = ri.unit( 10 + frameWidth + 10, 'in' ), // '2.8125in' == frameWithMarginInches\n *     frameWithMarginRems = ri.unit( 10 + frameWidth + 10, 'rem' ); // '22.5rem' == frameWithMarginRems\n * ```\n *\n * @function\n * @memberof ui/resolution\n * @param {String|Number}     pixels    The pixels or math to convert to the unit (\"px\" suffix in String\n *                                       format is permitted. ex: `'20px'`)\n * @param {String}            toUnit    The name of the unit to convert to.\n *\n * @returns {String|undefined}          Resulting conversion in CSS safe format, in case of malformed input, `undefined`\n * @public\n */\nfunction unit (pixels, toUnit) {\n\tif (!toUnit || !unitToPixelFactors[toUnit]) return;\n\tif (typeof pixels === 'string' && pixels.substr(-2) === 'px') pixels = parseInt(pixels.substr(0, pixels.length - 2));\n\tif (typeof pixels !== 'number') return;\n\n\treturn (pixels / unitToPixelFactors[toUnit]) + '' + toUnit;\n}\n\n/**\n * Shorthand for when you know you need to scale some pixel value and have it converted to \"rem\" for\n * proper scaling.\n *\n * This runs {@link ui/resolution.scale} and {@link ui/resolution.unit} together.\n *\n * @function\n * @memberof ui/resolution\n * @param {Number}    pixels    The quantity of standard-resolution pixels to scale to rems\n *\n * @returns {String|undefined}  Resulting conversion or, in case of malformed input, `undefined`\n * @public\n */\nconst scaleToRem = (pixels) => unit(scale(pixels), 'rem');\n\n/**\n * The default configurable options for {@link ui/resolution.selectSrc}. Additional resolutions\n * may be added.\n *\n * @typedef {Object} selectSrcOptions\n * @memberof ui/resolution\n * @property {String}    [hd]    HD / 720p Resolution image asset source URI/URL\n * @property {String}    [fhd]   FHD / 1080p Resolution image asset source URI/URL\n * @property {String}    [uhd]   UHD / 4K Resolution image asset source URI/URL\n */\n\n/**\n * Selects the ideal image asset from a set of assets, based on various screen\n * resolutions: HD (720p), FHD (1080p), UHD (4k).\n *\n * When a `src` argument is provided, `selectSrc()` will choose the best image with\n * respect to the current screen resolution. `src` may be either the traditional\n * string, which will pass straight through, or a hash/object of screen types and\n * their asset sources (keys:screen and values:src). The image sources will be used\n * when the screen resolution is less than or equal to the provided screen types.\n *\n * Example:\n * ```\n * // Take advantage of the multi-res mode\n * import {Image} from '@enact/ui/Image';\n *\n * const src = {\n *     'hd': 'http://lorempixel.com/64/64/city/1/',\n *     'fhd': 'http://lorempixel.com/128/128/city/1/',\n *     'uhd': 'http://lorempixel.com/256/256/city/1/'\n * };\n * ...\n * <Image src={src} ... />\n * ...\n * ```\n *\n * @function\n * @memberof ui/resolution\n * @param {String|ui/resolution.selectSrcSrcOptions} src       A string containing a single image\n *                                                             source or a key/value hash/object\n *                                                             containing keys representing screen\n *                                                             types (`'hd'`, `'fhd'`, `'uhd'`,\n *                                                             etc.) and values containing the asset\n *                                                             source for that target screen\n *                                                             resolution.\n *\n * @returns {String}                                           The chosen source, given the string\n *                                                             or hash provided\n * @public\n */\nfunction selectSrc (src) {\n\tif (typeof src != 'string' && src) {\n\t\tlet newSrc = src.fhd || src.uhd || src.hd;\n\t\tconst types = screenTypes;\n\n\t\t// loop through resolutions\n\t\tfor (let i = types.length - 1; i >= 0; i--) {\n\t\t\tlet t = types[i].name;\n\t\t\tif (screenType === t && src[t]) newSrc = src[t];\n\t\t}\n\t\tsrc = newSrc;\n\t}\n\treturn src;\n}\n\n/**\n * This will need to be re-run any time the screen size changes, so all the values can be re-cached.\n *\n * @function\n * @memberof ui/resolution\n * @param {Object}    args    A hash of options. The key `measurementNode` is used to as the node,\n *                            typically the root element, to measure and use as the dimensions for\n *                            the `screenType`.\n *\n * @returns {undefined}\n * @public\n */\nfunction init (args = {}) {\n\tconst {measurementNode} = args;\n\tupdateWorkspaceBounds(measurementNode);\n\tscreenType = getScreenType();\n\tscreenTypeObject = getScreenTypeObject();\n\tunitToPixelFactors.rem = getUnitToPixelFactors();\n\triRatio = getRiRatio();\n\tupdateBaseFontSize(calculateFontSize());\n}\n\n/**\n * The current configuration\n *\n * @type {Object}\n * @memberof ui/resolution\n * @private\n */\nconfig = Object.assign({}, configDefaults);\n\nexport {\n\tcalculateFontSize,\n\tconfig,\n\tdefineScreenTypes,\n\tgetAspectRatio,\n\tgetAspectRatioName,\n\tgetResolutionClasses,\n\tgetScreenTypeObject,\n\tgetScreenType,\n\tinit,\n\tscale,\n\tscaleToRem,\n\tselectSrc,\n\tunit,\n\tunitToPixelFactors\n};\n","/*\n * Exports the {@link ui/resolution.ResolutionDecorator} higher-order component (HOC).\n *\n * not jsdoc module on purpose\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport hoc from '@enact/core/hoc';\n\nimport {init, defineScreenTypes, getResolutionClasses} from './resolution';\n\n/**\n * Default config for `ResolutionDecorator`.\n *\n * @memberof ui/resolution.ResolutionDecorator\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Attaches an event listener to the window to listen for resize events.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @public\n\t * @memberof ui/resolution.ResolutionDecorator.defaultConfig\n\t */\n\tdynamic: true,\n\n\t/**\n\t * An array of objects containing declarations for screen types to add to the list of known\n\t * screen types.\n\t *\n\t * @type {Object[]}\n\t * @default null\n\t * @public\n\t * @memberof ui/resolution.ResolutionDecorator.defaultConfig\n\t */\n\tscreenTypes: null\n};\n\n/**\n * A higher-order component that configures resolution support for its wrapped component tree.\n *\n * Configuration options:\n *\t* `dynamic: true` - when `true`, updates the resolution classes when the window resizes\n *\t* `screenTypes: null` - defines a set of screen types to support\n *\n * Example:\n * ```\n *\t// Will have the resolution classes and will be updated when the window resizes\n *\tconst AppWithResolution = ResolutionDecorator(App);\n *\t// Will have the resolution classes for the screen at the time of render only\n *\tconst AppWithStaticResolution = ResolutionDecorator({dynamic: false}, App);\n *\tconst AppWithScreenTypes = ResolutionDecorator({screenTypes: [\n *\t\t{name: 'hd', pxPerRem: 16, width: 1280, height: 720, aspectRatioName: 'hdtv', base: true}\n *\t]}, App);\n * ```\n * @class ResolutionDecorator\n * @memberof ui/resolution\n * @hoc\n * @public\n */\nconst ResolutionDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tif (config.screenTypes) {\n\t\tdefineScreenTypes(config.screenTypes);\n\t}\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'ResolutionDecorator';\n\n\t\tstatic propTypes = /** @lends ui/resolution.ResolutionDecorator.prototype */ {\n\t\t\tclassName: PropTypes.string\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tinit({measurementNode: (typeof window !== 'undefined' && window)});\n\t\t\tthis.state = {\n\t\t\t\tresolutionClasses: ''\n\t\t\t};\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\tif (config.dynamic) window.addEventListener('resize', this.handleResize);\n\t\t\t// eslint-disable-next-line react/no-find-dom-node\n\t\t\tthis.rootNode = ReactDOM.findDOMNode(this);\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tif (config.dynamic) window.removeEventListener('resize', this.handleResize);\n\t\t}\n\n\t\thandleResize = () => {\n\t\t\tconst classNames = this.didClassesChange();\n\n\t\t\tif (classNames) {\n\t\t\t\tthis.setState({resolutionClasses: classNames});\n\t\t\t}\n\t\t};\n\n\t\t/*\n\t\t * Compare our current version of the resolved resolution class names with a fresh\n\t\t * initialization of RI.\n\t\t *\n\t\t * @returns {String|undefined} A string of new class names or undefined when there is no change.\n\t\t * @private\n\t\t */\n\t\tdidClassesChange () {\n\t\t\tconst prevClassNames = getResolutionClasses();\n\t\t\tinit({measurementNode: this.rootNode});\n\t\t\tconst classNames = getResolutionClasses();\n\t\t\tif (prevClassNames !== classNames) {\n\t\t\t\treturn classNames;\n\t\t\t}\n\t\t}\n\n\t\trender () {\n\t\t\t// Check if the classes are different from our previous classes\n\t\t\tlet classes = getResolutionClasses();\n\n\t\t\tif (this.props.className) classes += (classes ? ' ' : '') + this.props.className;\n\t\t\treturn <Wrapped {...this.props} className={classes} />;\n\t\t}\n\t};\n});\n\nexport default ResolutionDecorator;\nexport {ResolutionDecorator};\n","/**\n * Exports a number of useful methods for resolution independence.\n *\n * The default export is an object containing the resolution independence methods.\n *\n * @module ui/resolution\n * @exports ResolutionDecorator\n */\n\nimport * as ri from './resolution';\nimport ResolutionDecorator from './ResolutionDecorator';\n\nexport default ri;\nexport * from './resolution';\nexport {ResolutionDecorator};\n","// ilib doesn't load the non-Gregorian calendars and dates initially. To ensure they are packaged\n// by Enact CLI, we've added explicit requires for each Date (which in turn requires the relevant\n// Calendar). This is only necessary for builds not using the library-mode build of i18n which\n// would have included everything\n\nrequire('ilib/lib/GregorianDate');   // not required (rimshot) but included for completeness\nrequire('ilib/lib/CopticDate');\nrequire('ilib/lib/EthiopicDate');\nrequire('ilib/lib/GregorianDate');\nrequire('ilib/lib/HanDate');\nrequire('ilib/lib/HebrewDate');\nrequire('ilib/lib/IslamicDate');\nrequire('ilib/lib/JulianDate');\nrequire('ilib/lib/PersianDate');\nrequire('ilib/lib/PersianAlgoDate');\nrequire('ilib/lib/ThaiSolarDate');\n","/*\n * packedbuffer.js - represent a packed buffer of bytes\n *\n * Copyright © 2014 LG Electronics, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * Represents a binary buffer of unsigned bytes that will be parsed in various ways. The buffer\n * can be decoded by reading various lengths of bytes and interpreting them as longs\n * or unsigned bytes, etc. The bytes are interpreted in big-endian (network) format.\n * @constructor\n * @param {string} buffer the binary buffer represented as a string\n */\nconst PackedBuffer = function (buffer) {\n\tthis.buffer = buffer;\n\tthis.index = 0;\n};\n\n/**\n * Return the specified number of signed long integers from the current location in\n * the buffer as an array of numbers and advance the current pointer in the buffer.\n * This method will only return as many longs as are available in the rest of the\n * buffer.\n *\n * @param {number} num The number of longs to return\n * @returns {Array.<number>} the array of signed long integers\n */\nPackedBuffer.prototype.getLongs = function (num) {\n\tlet result;\n\tif (this.buffer && this.index < this.buffer.length) {\n\t\tresult = [];\n\t\tfor (let i = 0; i < num && this.index + 3 < this.buffer.length; i++) {\n\t\t\tlet longnum = this.buffer[this.index] << 24 |\n\t\t\t\tthis.buffer[this.index + 1] << 16 |\n\t\t\t\tthis.buffer[this.index + 2] << 8 |\n\t\t\t\tthis.buffer[this.index + 3];\n\t\t\tresult.push(longnum);\n\t\t\tthis.index += 4;\n\t\t}\n\t}\n\treturn result;\n};\n\n/**\n * Return a signed long integer from the current location in\n * the buffer as an array of numbers and advance the current pointer in the buffer.\n * This method will only return a long if it is available in the buffer, otherwise\n * it will return undefined.\n *\n * @returns {number} the long at the current point in the buffer, or undefined if\n * there is not enough bytes left in the buffer to form a long\n */\nPackedBuffer.prototype.getLong = function () {\n\tconst longs = this.getLongs(1);\n\tif (longs && longs.length > 0) {\n\t\treturn longs[0];\n\t}\n};\n\n/**\n * Return the specified number of signed byte integers from the current location in\n * the buffer as an array of numbers and advance the current pointer in the buffer.\n * This method will only return as many bytes as are available in the rest of the\n * buffer.\n *\n * @param {number|undefined} num The number of bytes to return\n * @returns {Array.<number>} the array of signed byte integers\n */\nPackedBuffer.prototype.getBytes = function (num) {\n\tlet result;\n\tif (this.buffer && this.index < this.buffer.length) {\n\t\tresult = [];\n\t\tfor (let i = 0; i < num && this.index < this.buffer.length; i++) {\n\t\t\tlet bytenum = this.buffer[this.index++];\n\t\t\tif (bytenum & 0x80) {\n\t\t\t\tbytenum -= 0x100;\n\t\t\t}\n\t\t\tresult.push(bytenum);\n\t\t}\n\t}\n\treturn result;\n};\n\n/**\n * Return a signed byte integer from the current location in\n * the buffer as an array of numbers and advance the current pointer in the buffer.\n * This method will only return a byte if it is available in the buffer, otherwise\n * it will return undefined.\n *\n * @returns {number} the byte at the current point in the buffer, or undefined if\n * there is not enough bytes left in the buffer to form a byte\n */\nPackedBuffer.prototype.getByte = function () {\n\tconst bytes = this.getBytes(1);\n\tif (bytes && bytes.length > 0) {\n\t\treturn bytes[0];\n\t}\n};\n\n/**\n * Return the specified number of unsigned byte integers from the current location in\n * the buffer as an array of numbers and advance the current pointer in the buffer.\n * This method will only return as many bytes as are available in the rest of the\n * buffer.\n *\n * @param {number} num The number of bytes to return\n * @returns {Array.<number>} the array of unsigned byte integers\n */\nPackedBuffer.prototype.getUnsignedBytes = function (num) {\n\tlet result;\n\tif (this.buffer && this.index < this.buffer.length) {\n\t\tresult = [];\n\t\tfor (let i = 0; i < num && this.index < this.buffer.length; i++) {\n\t\t\tresult.push(this.buffer[this.index++]);\n\t\t}\n\t}\n\treturn result;\n};\n\n/**\n * Return a string made out of the given number of bytes and convert\n * from UTF-8 to UTF-16.\n *\n * @param {number} num The number of bytes to make a string out of\n * @returns {string} a string made out of the given bytes\n */\nPackedBuffer.prototype.getString = function (num) {\n\tconst arr = this.getUnsignedBytes(num);\n\tlet str = '';\n\tfor (let i = 0; i < arr.length; i++) {\n\t\tstr += String.fromCharCode(arr[i]);\n\t}\n\treturn str;\n};\n\n/**\n * Advance the current pointer in the buffer by the specified number of\n * bytes in the string.\n *\n * @param {number} num The number of bytes to skip\n * @returns {void}\n */\nPackedBuffer.prototype.skip = function (num) {\n\tthis.index += num;\n};\n\nmodule.exports = PackedBuffer;\n","import utilEvent from '@enact/ui/useScroll/utilEvent';\nimport {useRef} from 'react';\n\nconst useEventKey = () => {\n\t// Mutable value\n\n\tconst mutableRef = useRef({\n\t\tfn: null\n\t});\n\n\t// Functions\n\n\tfunction addGlobalKeyDownEventListener (fn) {\n\t\tmutableRef.current.fn = fn;\n\t\tutilEvent('keydown').addEventListener(document, mutableRef.current.fn, {capture: true});\n\t}\n\n\tfunction removeGlobalKeyDownEventListener () {\n\t\tutilEvent('keydown').removeEventListener(document, mutableRef.current.fn, {capture: true});\n\t\tmutableRef.current.fn = null;\n\t}\n\n\t// Return\n\n\treturn {\n\t\taddGlobalKeyDownEventListener,\n\t\tremoveGlobalKeyDownEventListener\n\t};\n};\n\nexport default useEventKey;\nexport {\n\tuseEventKey\n};\n","import Spotlight from '@enact/spotlight';\nimport {getRect} from '@enact/spotlight/src/utils';\nimport ri from '@enact/ui/resolution';\nimport utilDOM from '@enact/ui/useScroll/utilDOM';\nimport {useCallback, useEffect} from 'react';\n\nimport {useEventKey} from './useEvent';\nimport {useSpotlightConfig} from './useSpotlight';\n\nconst useSpottable = (props, instances) => {\n\tconst {scrollContainerRef, scrollContentHandle, scrollContentRef} = instances;\n\n\t// Hooks\n\n\tuseSpotlightConfig(props, instances);\n\n\tconst {addGlobalKeyDownEventListener, removeGlobalKeyDownEventListener} = useEventKey();\n\n\tconst setContainerDisabled = useCallback((bool) => {\n\t\tif (scrollContainerRef.current) {\n\t\t\tscrollContainerRef.current.dataset.spotlightContainerDisabled = bool;\n\n\t\t\tif (bool) {\n\t\t\t\taddGlobalKeyDownEventListener(() => {\n\t\t\t\t\tsetContainerDisabled(false);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tremoveGlobalKeyDownEventListener();\n\t\t\t}\n\t\t}\n\t}, [addGlobalKeyDownEventListener, removeGlobalKeyDownEventListener, scrollContainerRef]);\n\n\tuseEffect(() => {\n\t\treturn () => setContainerDisabled(false);\n\t}, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n\tuseEffect(() => {\n\t\tconst {onUpdate} = props;\n\n\t\tif (onUpdate) {\n\t\t\tonUpdate();\n\t\t}\n\t});\n\n\t// Functions\n\n\t/**\n\t * Returns the first spotlight container between `node` and the scroller\n\t *\n\t * @param {Node} node A DOM node\n\t *\n\t * @returns {Node|Null} Spotlight container for `node`\n\t * @private\n\t */\n\tfunction getSpotlightContainerForNode (node) {\n\t\tdo {\n\t\t\tif (node.dataset.spotlightId && node.dataset.spotlightContainer && !node.dataset.expandableContainer) {\n\t\t\t\treturn node;\n\t\t\t}\n\t\t} while ((node = node.parentNode) && node !== scrollContentRef.current);\n\t}\n\n\t/**\n\t * Calculates the \"focus bounds\" of a node. If the node is within a spotlight container, that\n\t * container is scrolled into view rather than just the element.\n\t *\n\t * @param {Node} node Focused node\n\t *\n\t * @returns {Object} Bounds as returned by `getBoundingClientRect`\n\t * @private\n\t */\n\tfunction getFocusedItemBounds (node) {\n\t\tnode = getSpotlightContainerForNode(node) || node;\n\t\treturn node.getBoundingClientRect();\n\t}\n\n\t/**\n\t * Calculates the new `scrollTop`.\n\t *\n\t * @param {Node} item Focused item node\n\t *\n\t * @returns {Number} Calculated `scrollTop`\n\t * @private\n\t */\n\tfunction calculateScrollTop (item) {\n\t\tconst threshold = ri.scale(48);\n\t\tconst roundToStart = (sb, st) => {\n\t\t\t// round to start\n\t\t\tif (st < threshold) return 0;\n\n\t\t\treturn st;\n\t\t};\n\t\tconst roundToEnd = (sb, st, sh) => {\n\t\t\t// round to end\n\t\t\tif (sh - (st + sb.height) < threshold) return sh - sb.height;\n\n\t\t\treturn st;\n\t\t};\n\t\t// adding threshold into these determinations ensures that items that are within that are\n\t\t// near the bounds of the scroller cause the edge to be scrolled into view even when the\n\t\t// item itself is in view (e.g. due to margins)\n\t\tconst isItemBeforeView = (ib, sb, d) => ib.top + d - threshold < sb.top;\n\t\tconst isItemAfterView = (ib, sb, d) => ib.top + d + ib.height + threshold > sb.top + sb.height;\n\t\tconst canItemFit = (ib, sb) => ib.height <= sb.height;\n\t\tconst calcItemAtStart = (ib, sb, st, d) => ib.top + st + d - sb.top;\n\t\tconst calcItemAtEnd = (ib, sb, st, d) => ib.top + ib.height + st + d - (sb.top + sb.height);\n\t\tconst calcItemInView = (ib, sb, st, sh, d) => {\n\t\t\tif (isItemBeforeView(ib, sb, d)) {\n\t\t\t\treturn roundToStart(sb, calcItemAtStart(ib, sb, st, d));\n\t\t\t} else if (isItemAfterView(ib, sb, d)) {\n\t\t\t\treturn roundToEnd(sb, calcItemAtEnd(ib, sb, st, d), sh);\n\t\t\t}\n\t\t\treturn st;\n\t\t};\n\n\t\tconst container = getSpotlightContainerForNode(item);\n\t\tconst scrollerBounds = scrollContentRef.current.getBoundingClientRect();\n\t\tlet {scrollHeight, scrollTop} = scrollContentRef.current;\n\t\tlet scrollTopDelta = 0;\n\n\t\tconst adjustScrollTop = (v) => {\n\t\t\tscrollTopDelta = scrollTop - v;\n\t\t\tscrollTop = v;\n\t\t};\n\n\t\tif (container) {\n\t\t\tconst containerBounds = container.getBoundingClientRect();\n\n\t\t\t// if the entire container fits in the scroller, scroll it into view\n\t\t\tif (canItemFit(containerBounds, scrollerBounds)) {\n\t\t\t\treturn calcItemInView(containerBounds, scrollerBounds, scrollTop, scrollHeight, scrollTopDelta);\n\t\t\t}\n\n\t\t\t// if the container doesn't fit, adjust the scroll top ...\n\t\t\tif (containerBounds.top > scrollerBounds.top) {\n\t\t\t\t// ... to the top of the container if the top is below the top of the scroller\n\t\t\t\tadjustScrollTop(calcItemAtStart(containerBounds, scrollerBounds, scrollTop, scrollTopDelta));\n\t\t\t}\n\t\t\t// removing support for \"snap to bottom\" for 2.2.8\n\t\t\t// } else if (containerBounds.top + containerBounds.height < scrollerBounds.top + scrollerBounds.height) {\n\t\t\t// \t// ... to the bottom of the container if the bottom is above the bottom of the\n\t\t\t// \t// scroller\n\t\t\t// \tadjustScrollTop(calcItemAtEnd(containerBounds, scrollerBounds, scrollTop, scrollTopDelta));\n\t\t\t// }\n\n\t\t\t// N.B. if the container covers the scrollable area (its top is above the top of the\n\t\t\t// scroller and its bottom is below the bottom of the scroller), we need not adjust the\n\t\t\t// scroller to ensure the container is wholly in view.\n\t\t}\n\n\t\tconst itemBounds = item.getBoundingClientRect();\n\n\t\treturn calcItemInView(itemBounds, scrollerBounds, scrollTop, scrollHeight, scrollTopDelta);\n\t}\n\n\t/**\n\t * Calculates the new `scrollLeft`.\n\t *\n\t * @param {Node} focusedItem node\n\t * @param {Number} scrollPosition last target position, passed when scroll animation is ongoing\n\t *\n\t * @returns {Number} Calculated `scrollLeft`\n\t * @private\n\t */\n\tfunction calculateScrollLeft (item, scrollPosition) {\n\t\tconst scrollContentNode = scrollContentRef.current;\n\t\tconst {\n\t\t\tleft: itemLeft,\n\t\t\twidth: itemWidth\n\t\t} = getFocusedItemBounds(item);\n\n\t\tconst\n\t\t\t{rtl} = props,\n\t\t\t{clientWidth} = scrollContentHandle.current.scrollBounds,\n\t\t\trtlDirection = rtl ? -1 : 1,\n\t\t\t{left: containerLeft} = scrollContentNode.getBoundingClientRect(),\n\t\t\tscrollLastPosition = scrollPosition ? scrollPosition : scrollContentHandle.current.scrollPos.left,\n\t\t\tcurrentScrollLeft = rtl ? (scrollContentHandle.current.scrollBounds.maxLeft - scrollLastPosition) : scrollLastPosition,\n\t\t\t// calculation based on client position\n\t\t\tnewItemLeft = scrollContentNode.scrollLeft + (itemLeft - containerLeft);\n\t\tlet nextScrollLeft = scrollContentHandle.current.scrollPos.left;\n\n\t\tif (newItemLeft + itemWidth > (clientWidth + currentScrollLeft) && itemWidth < clientWidth) {\n\t\t\t// If focus is moved to an element outside of view area (to the right), scroller will move\n\t\t\t// to the right just enough to show the current `focusedItem`. This does not apply to\n\t\t\t// `focusedItem` that has a width that is bigger than `scrollBounds.clientWidth`.\n\t\t\tnextScrollLeft += rtlDirection * ((newItemLeft + itemWidth) - (clientWidth + currentScrollLeft));\n\t\t} else if (newItemLeft < currentScrollLeft) {\n\t\t\t// If focus is outside of the view area to the left, move scroller to the left accordingly.\n\t\t\tnextScrollLeft += rtlDirection * (newItemLeft - currentScrollLeft);\n\t\t}\n\n\t\treturn nextScrollLeft;\n\t}\n\n\t/**\n\t * Calculates the new top and left position for scroller based on focusedItem.\n\t *\n\t * @param {Node} item node\n\t * @param {Number} scrollPosition last target position, passed scroll animation is ongoing\n\t *\n\t * @returns {Object} with keys {top, left} containing calculated top and left positions for scroll.\n\t * @private\n\t */\n\tfunction calculatePositionOnFocus ({item, scrollPosition}) {\n\t\tconst containerNode = scrollContentRef.current;\n\t\tconst horizontal = scrollContentHandle.current.isHorizontal();\n\t\tconst vertical = scrollContentHandle.current.isVertical();\n\n\t\tif (!vertical && !horizontal || !item || !utilDOM.containsDangerously(containerNode, item)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst containerRect = getRect(containerNode);\n\t\tconst itemRect = getRect(item);\n\n\t\tif (horizontal && !(itemRect.left >= containerRect.left && itemRect.right <= containerRect.right)) {\n\t\t\tscrollContentHandle.current.scrollPos.left = calculateScrollLeft(item, scrollPosition);\n\t\t}\n\n\t\tif (vertical && !(itemRect.top >= containerRect.top && itemRect.bottom <= containerRect.bottom)) {\n\t\t\tscrollContentHandle.current.scrollPos.top = calculateScrollTop(item);\n\t\t}\n\n\t\treturn scrollContentHandle.current.scrollPos;\n\t}\n\n\tfunction focusOnNode (node) {\n\t\tif (node) {\n\t\t\tSpotlight.focus(node);\n\t\t}\n\t}\n\n\t// Return\n\n\treturn {\n\t\tcalculatePositionOnFocus,\n\t\tfocusOnNode,\n\t\tsetContainerDisabled\n\t};\n};\n\nconst useThemeScroller = (props) => {\n\tconst {scrollContainerRef, scrollContentHandle, ...rest} = props;\n\tconst {scrollContentRef} = rest;\n\n\tdelete rest.onUpdate;\n\tdelete rest.scrollAndFocusScrollbarButton;\n\tdelete rest.scrollContainerContainsDangerously;\n\tdelete rest.scrollContainerHandle;\n\tdelete rest.setThemeScrollContentHandle;\n\tdelete rest.spotlightId;\n\n\t// Hooks\n\n\tconst {calculatePositionOnFocus, focusOnNode, setContainerDisabled} = useSpottable(props, {scrollContainerRef, scrollContentHandle, scrollContentRef});\n\n\tprops.setThemeScrollContentHandle({\n\t\tcalculatePositionOnFocus,\n\t\tfocusOnNode,\n\t\tsetContainerDisabled\n\t});\n\n\t// Render\n\n\treturn rest;\n};\n\nexport default useThemeScroller;\nexport {\n\tuseThemeScroller\n};\n","import Spotlight from '@enact/spotlight';\nimport {useEffect} from 'react';\n\nconst useSpotlightConfig = (props, instances) => {\n\tconst {scrollContentHandle} = instances;\n\n\t// Hooks\n\n\tuseEffect(() => {\n\t\tfunction handleLeaveContainer ({direction, target}) {\n\t\t\t// ensure we only scroll to boundary from the contents and not a scroll button which\n\t\t\t// lie outside of scrollContentRef but within the spotlight container\n\t\t\tif (props.scrollContainerContainsDangerously(target)) {\n\t\t\t\tconst\n\t\t\t\t\t{scrollBounds: {maxLeft, maxTop}, scrollPos: {left, top}} = scrollContentHandle.current,\n\t\t\t\t\tisVerticalDirection = (direction === 'up' || direction === 'down'),\n\t\t\t\t\tpos = isVerticalDirection ? top : left,\n\t\t\t\t\tmax = isVerticalDirection ? maxTop : maxLeft;\n\n\t\t\t\t// If max is equal to 0, it means scroller can not scroll to the direction.\n\t\t\t\tif (pos >= 0 && pos <= max && max !== 0) {\n\t\t\t\t\tprops.scrollAndFocusScrollbarButton(direction);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction configureSpotlight () {\n\t\t\tSpotlight.set(props.spotlightId, {\n\t\t\t\tonLeaveContainer: handleLeaveContainer,\n\t\t\t\tonLeaveContainerFail: handleLeaveContainer\n\t\t\t});\n\t\t}\n\n\t\tconfigureSpotlight();\n\t}, [props, scrollContentHandle]);\n};\n\nexport {\n\tuseSpotlightConfig\n};\n","/**\n * Provides Agate-themed scroller components and behaviors.\n *\n * @example\n * <Scroller>\n * \t<div style={{height: '300px'}}>\n * \t\t<p>San Francisco</p>\n * \t\t<p>Seoul</p>\n * \t\t<p>Bangalore</p>\n * \t\t<p>New York</p>\n * \t\t<p>London</p>\n * \t</div>\n * </Scroller>\n *\n * @module agate/Scroller\n * @exports Scroller\n */\n\nimport {I18nContextDecorator} from '@enact/i18n/I18nDecorator';\nimport SpotlightContainerDecorator from '@enact/spotlight/SpotlightContainerDecorator';\nimport {ResizeContext} from '@enact/ui/Resizable';\nimport {ScrollerBasic as UiScrollerBasic} from '@enact/ui/Scroller';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport useScroll from '../useScroll';\nimport Scrollbar from '../useScroll/Scrollbar';\nimport Skinnable from '../Skinnable';\n\nimport useThemeScroller from './useThemeScroller';\n\nconst nop = () => {};\n\n/**\n * An Agate-styled Scroller, useScroll applied.\n *\n * Usage:\n * ```\n * <Scroller>Scroll me.</Scroller>\n * ```\n *\n * @class Scroller\n * @memberof agate/Scroller\n * @extends ui/Scroller.ScrollerBasic\n * @ui\n * @public\n */\nlet Scroller = (props) => {\n\t// Hooks\n\n\tconst {\n\t\tscrollContentWrapper: ScrollContentWrapper,\n\t\tscrollContentHandle,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible,\n\n\t\tresizeContextProps,\n\t\tscrollContainerProps,\n\t\tscrollInnerContainerProps,\n\t\tscrollContentWrapperProps,\n\t\tscrollContentProps,\n\t\tverticalScrollbarProps,\n\t\thorizontalScrollbarProps\n\t} = useScroll(props);\n\n\tconst themeScrollContentProps = useThemeScroller(scrollContentProps);\n\n\t// Render\n\treturn (\n\t\t<ResizeContext.Provider {...resizeContextProps}>\n\t\t\t<div {...scrollContainerProps}>\n\t\t\t\t<div {...scrollInnerContainerProps}>\n\t\t\t\t\t<ScrollContentWrapper {...scrollContentWrapperProps}>\n\t\t\t\t\t\t<UiScrollerBasic {...themeScrollContentProps} ref={scrollContentHandle} />\n\t\t\t\t\t</ScrollContentWrapper>\n\t\t\t\t\t{isVerticalScrollbarVisible ? <Scrollbar {...verticalScrollbarProps} /> : null}\n\t\t\t\t</div>\n\t\t\t\t{isHorizontalScrollbarVisible ? <Scrollbar {...horizontalScrollbarProps} /> : null}\n\t\t\t</div>\n\t\t</ResizeContext.Provider>\n\t);\n};\n\nScroller.displayName = 'Scroller';\n\nScroller.propTypes = /** @lends agate/Scroller.Scroller.prototype */ {\n\t/**\n\t * A callback function that receives a reference to the `scrollTo` feature.\n\t *\n\t * Once received, the `scrollTo` method can be called as an imperative interface.\n\t *\n\t * - {position: {x, y}} - Pixel value for x and/or y position\n\t * - {align} - Where the scroll area should be aligned. Values are:\n\t *   `'left'`, `'right'`, `'top'`, `'bottom'`,\n\t *   `'topleft'`, `'topright'`, `'bottomleft'`, and `'bottomright'`.\n\t * - {node} - Node to scroll into view\n\t * - {animate} - When `true`, scroll occurs with animation. When `false`, no\n\t *   animation occurs.\n\t * - {focus} - When `true`, attempts to focus item after scroll. Only valid when scrolling\n\t *   by `node`.\n\t * > Note: Only specify one of: `position`, `align`, `node`\n\t *\n\t * Example:\n\t * ```\n\t *\t// If you set cbScrollTo prop like below;\n\t *\tcbScrollTo: (fn) => {this.scrollTo = fn;}\n\t *\t// You can simply call like below;\n\t *\tthis.scrollTo({align: 'top'}); // scroll to the top\n\t * ```\n\t *\n\t * @type {Function}\n\t * @public\n\t */\n\tcbScrollTo: PropTypes.func,\n\n\t/**\n\t * This is set to `true` by SpotlightContainerDecorator\n\t *\n\t * @type {Boolean}\n\t * @private\n\t */\n\t'data-spotlight-container': PropTypes.bool,\n\n\t/**\n\t * `false` if the content of the scroller could get focus\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\t'data-spotlight-container-disabled': PropTypes.bool,\n\n\t/**\n\t * This is passed onto the wrapped component to allow\n\t * it to customize the spotlight container for its use case.\n\t *\n\t * @type {String}\n\t * @private\n\t */\n\t'data-spotlight-id': PropTypes.string,\n\n\t/**\n\t * Direction of the scroller.\n\t *\n\t * Valid values are:\n\t * * `'both'`,\n\t * * `'horizontal'`, and\n\t * * `'vertical'`.\n\t *\n\t * @type {String}\n\t * @default 'both'\n\t * @public\n\t */\n\tdirection: PropTypes.oneOf(['both', 'horizontal', 'vertical']),\n\n\t/**\n\t * Allows 5-way navigation to the scrollbar controls. By default, 5-way will\n\t * not move focus to the scrollbar controls.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tfocusableScrollbar: PropTypes.bool,\n\n\t/**\n\t * Specifies how to show horizontal scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {String}\n\t * @default 'auto'\n\t * @public\n\t */\n\thorizontalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n\n\t/**\n\t * Unique identifier for the component.\n\t *\n\t * When defined and when the `Scroller` is within a [Panel]{@link agate/Panels.Panel}, the\n\t * `Scroller` will store its scroll position and restore that position when returning to the\n\t * `Panel`.\n\t *\n\t * @type {String}\n\t * @public\n\t */\n\tid: PropTypes.string,\n\n\t/**\n\t * Prevents scroll by wheeling on the scroller.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tnoScrollByWheel: PropTypes.bool,\n\n\t/**\n\t * Called when scrolling.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`.\n\t * It is not recommended to set this prop since it can cause performance degradation.\n\t * Use `onScrollStart` or `onScrollStop` instead.\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @public\n\t */\n\tonScroll: PropTypes.func,\n\n\t/**\n\t * Called when scroll starts.\n\t *\n\t * Passes `scrollLeft` and `scrollTop`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStart = ({scrollLeft, scrollTop}) => {\n\t *     // do something with scrollLeft and scrollTop\n\t * }\n\t *\n\t * render = () => (\n\t *     <Scroller\n\t *         ...\n\t *         onScrollStart={this.onScrollStart}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @public\n\t */\n\tonScrollStart: PropTypes.func,\n\n\t/**\n\t * Called when scroll stops.\n\t *\n\t * Passes `scrollLeft` and `scrollTop`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStop = ({scrollLeft, scrollTop}) => {\n\t *     // do something with scrollLeft and scrollTop\n\t * }\n\t *\n\t * render = () => (\n\t *     <Scroller\n\t *         ...\n\t *         onScrollStop={this.onScrollStop}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @public\n\t */\n\tonScrollStop: PropTypes.func,\n\n\t/**\n\t * Specifies preventing keydown events from bubbling up to applications.\n\t * Valid values are `'none'`, and `'programmatic'`.\n\t *\n\t * When it is `'none'`, every keydown event is bubbled.\n\t * When it is `'programmatic'`, an event bubbling is not allowed for a keydown input\n\t * which invokes programmatic spotlight moving.\n\t *\n\t * @type {String}\n\t * @default 'none'\n\t * @private\n\t */\n\tpreventBubblingOnKeyDown: PropTypes.oneOf(['none', 'programmatic']),\n\n\t/**\n\t * Sets the hint string read when focusing the next button in the vertical scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll down')\n\t * @public\n\t */\n\tscrollDownAriaLabel: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the previous button in the horizontal scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll left')\n\t * @public\n\t */\n\tscrollLeftAriaLabel: PropTypes.string,\n\n\t/**\n\t * Specifies how to scroll.\n\t *\n\t * Valid values are:\n\t * * `'translate'`,\n\t * * `'native'`.\n\t *\n\t * @type {('native'|'translate')}\n\t * @default 'translate'\n\t * @public\n\t */\n\tscrollMode: PropTypes.oneOf(['native', 'translate']),\n\n\t/**\n\t * Sets the hint string read when focusing the next button in the horizontal scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll right')\n\t * @public\n\t */\n\tscrollRightAriaLabel: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the previous button in the vertical scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll up')\n\t * @public\n\t */\n\tscrollUpAriaLabel: PropTypes.string,\n\n\t/**\n\t * Specifies how to show vertical scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {String}\n\t * @default 'auto'\n\t * @public\n\t */\n\tverticalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden'])\n};\n\nScroller = Skinnable(\n\tSpotlightContainerDecorator(\n\t\t{\n\t\t\toverflow: true,\n\t\t\tpreserveId: true,\n\t\t\trestrict: 'self-first'\n\t\t},\n\t\tI18nContextDecorator(\n\t\t\t{rtlProp: 'rtl'},\n\t\t\tScroller\n\t\t)\n\t)\n);\n\nScroller.defaultProps = {\n\t'data-spotlight-container-disabled': false,\n\tcbScrollTo: nop,\n\tdirection: 'both',\n\tfocusableScrollbar: false,\n\thorizontalScrollbar: 'auto',\n\tnoScrollByWheel: false,\n\tonScroll: nop,\n\tonScrollStart: nop,\n\tonScrollStop: nop,\n\tpreventBubblingOnKeyDown: 'none',\n\tscrollMode: 'translate',\n\tverticalScrollbar: 'auto'\n};\n\nexport default Scroller;\nexport {\n\tScroller\n};\n","import {forward} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport {Job} from '@enact/core/util';\nimport React from 'react';\n\nconst STATE = {\n\tinactive: 0,\t// Marquee is not necessary (render or focus not happened)\n\tactive: 1,\t\t// Marquee in progress, awaiting complete\n\tready: 2\t\t// Marquee completed or not needed, but state is active\n};\n\nconst MarqueeControllerContext = React.createContext(null);\n\n/**\n * Default configuration parameters for {@link ui/Marquee.MarqueeController}.\n *\n * @type {Object}\n * @memberof ui/Marquee.MarqueeController\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * When `true`, any `onFocus` events that bubble to the controller will start the contained\n\t * `Marquee` instances. This is useful when a component contains `Marquee` instances that need to be\n\t * started when sibling components are focused.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @memberof ui/Marquee.MarqueeController.defaultConfig\n\t */\n\tmarqueeOnFocus: false\n};\n\n/**\n * A higher-order component that synchronizes contained `Marquee`s.\n *\n * @memberof ui/Marquee\n * @hoc\n * @public\n */\nconst MarqueeController = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {marqueeOnFocus} = config;\n\tconst forwardBlur = forward('onBlur');\n\tconst forwardFocus = forward('onFocus');\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'MarqueeController';\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.controlled = [];\n\t\t\tthis.isFocused = false;\n\t\t\tthis.childContext = {\n\t\t\t\tcancel: this.handleCancel,\n\t\t\t\tcomplete: this.handleComplete,\n\t\t\t\tenter: this.handleEnter,\n\t\t\t\tleave: this.handleLeave,\n\t\t\t\tregister: this.handleRegister,\n\t\t\t\tstart: this.handleStart,\n\t\t\t\tunregister: this.handleUnregister\n\t\t\t};\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tthis.cancelJob.stop();\n\t\t}\n\n\t\tcancelJob = new Job(() => this.doCancel(), 30);\n\n\t\t/*\n\t\t * Registers `component` with a set of handlers for `start` and `stop`.\n\t\t *\n\t\t * @param\t{Object}\tcomponent\tA component, typically a React component instance, on\n\t\t *\t\t\t\t\t\t\t\t\twhich handlers will be dispatched.\n\t\t * @param\t{Object}\thandlers\tAn object containing `start` and `stop` functions\n\t\t *\n\t\t * @returns {undefined}\n\t\t */\n\t\thandleRegister = (component, handlers) => {\n\t\t\tconst needsStart = !this.allInactive() || this.isFocused;\n\n\t\t\tthis.controlled.push({\n\t\t\t\t...handlers,\n\t\t\t\tstate: STATE.inactive,\n\t\t\t\tcomponent\n\t\t\t});\n\n\t\t\tif (needsStart) {\n\t\t\t\tthis.dispatch('start');\n\t\t\t}\n\t\t};\n\n\t\t/*\n\t\t * Unregisters `component` for synchronization\n\t\t *\n\t\t * @param\t{Object}\tcomponent\tA previously registered component\n\t\t *\n\t\t * @returns\t{undefined}\n\t\t */\n\t\thandleUnregister = (component) => {\n\t\t\tlet wasRunning = false;\n\t\t\tfor (let i = 0; i < this.controlled.length; i++) {\n\t\t\t\tif (this.controlled[i].component === component) {\n\t\t\t\t\twasRunning = this.controlled[i].state === STATE.active;\n\t\t\t\t\tthis.controlled.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (wasRunning && !this.anyRunning()) {\n\t\t\t\tthis.dispatch('start');\n\t\t\t}\n\t\t};\n\n\t\t/*\n\t\t * Handler for the `start` context function\n\t\t *\n\t\t * @param\t{Object}\tcomponent\tA previously registered component\n\t\t *\n\t\t * @returns\t{undefined}\n\t\t */\n\t\thandleStart = (component) => {\n\t\t\tthis.cancelJob.stop();\n\t\t\tif (!this.anyRunning()) {\n\t\t\t\tthis.markAll(STATE.ready);\n\t\t\t\tthis.dispatch('start', component);\n\t\t\t}\n\t\t};\n\n\t\t/*\n\t\t * Handler for the `cancel` context function\n\t\t *\n\t\t * @param\t{Object}\tcomponent\tA previously registered component\n\t\t *\n\t\t * @returns\t{undefined}\n\t\t */\n\t\thandleCancel = () => {\n\t\t\tif (this.anyRunning()) {\n\t\t\t\tthis.cancelJob.start();\n\t\t\t}\n\t\t};\n\n\t\tdoCancel = () => {\n\t\t\tif (this.isHovered || this.isFocused) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.markAll(STATE.inactive);\n\t\t\tthis.dispatch('stop');\n\t\t};\n\n\t\t/*\n\t\t * Handler for the `complete` context function\n\t\t *\n\t\t * @param\t{Object}\tcomponent\tA previously registered component\n\t\t *\n\t\t * @returns\t{undefined}\n\t\t */\n\t\thandleComplete = (component) => {\n\t\t\tconst complete = this.markReady(component);\n\t\t\tif (complete) {\n\t\t\t\tthis.markAll(STATE.ready);\n\t\t\t\tthis.dispatch('start');\n\t\t\t}\n\t\t};\n\n\t\thandleEnter = () => {\n\t\t\tthis.isHovered = true;\n\t\t\tif (!this.anyRunning()) {\n\t\t\t\tthis.dispatch('start');\n\t\t\t}\n\t\t\tthis.cancelJob.stop();\n\t\t};\n\n\t\thandleLeave = () => {\n\t\t\tthis.isHovered = false;\n\t\t\tthis.cancelJob.start();\n\t\t};\n\n\t\t/*\n\t\t * Handler for the focus event\n\t\t */\n\t\thandleFocus = (ev) => {\n\t\t\tthis.isFocused = true;\n\t\t\tif (!this.anyRunning()) {\n\t\t\t\tthis.dispatch('start');\n\t\t\t}\n\t\t\tthis.cancelJob.stop();\n\t\t\tforwardFocus(ev, this.props);\n\t\t};\n\n\t\t/*\n\t\t * Handler for the blur event\n\t\t */\n\t\thandleBlur = (ev) => {\n\t\t\tthis.isFocused = false;\n\t\t\tif (this.anyRunning()) {\n\t\t\t\tthis.cancelJob.start();\n\t\t\t}\n\t\t\tforwardBlur(ev, this.props);\n\t\t};\n\n\t\t/*\n\t\t * Invokes the `action` handler for each synchronized component except the invoking\n\t\t * `component`.\n\t\t *\n\t\t * @param\t{String}\taction\t\t`'start'` or `'stop'`\n\t\t * @param\t{Object}\tcomponent\tA previously registered component\n\t\t *\n\t\t * @returns\t{undefined}\n\t\t */\n\t\tdispatch (action, component) {\n\t\t\tthis.controlled.forEach((controlled) => {\n\t\t\t\tconst {component: controlledComponent, [action]: handler} = controlled;\n\t\t\t\tif (component !== controlledComponent && typeof handler === 'function') {\n\t\t\t\t\tconst complete = handler.call(controlledComponent);\n\n\t\t\t\t\t// Returning `true` from a start request means that the marqueeing is\n\t\t\t\t\t// unnecessary and is therefore not awaiting a finish\n\t\t\t\t\tif (action === 'start' && complete) {\n\t\t\t\t\t\tcontrolled.state = STATE.ready;\n\t\t\t\t\t} else if (action === 'start') {\n\t\t\t\t\t\tcontrolled.state = STATE.active;\n\t\t\t\t\t}\n\t\t\t\t} else if ((action === 'start') && (component === controlledComponent)) {\n\t\t\t\t\tcontrolled.state = STATE.active;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t/*\n\t\t * Marks all components with the passed-in state\n\t\t *\n\t\t * @param\t{Enum}\tstate\tThe state to set\n\t\t *\n\t\t * @returns\t{undefined}\n\t\t */\n\t\tmarkAll (state) {\n\t\t\tthis.controlled.forEach(c => {\n\t\t\t\tc.state = state;\n\t\t\t});\n\t\t}\n\n\t\t/*\n\t\t * Marks `component` as ready for next marquee action\n\t\t *\n\t\t * @param\t{Object}\tcomponent\tA previously registered component\n\t\t *\n\t\t * @returns\t{Boolean}\t\t\t\t`true` if no components are STATE.active\n\t\t */\n\t\tmarkReady (component) {\n\t\t\tlet complete = true;\n\t\t\tthis.controlled.forEach(c => {\n\t\t\t\tif (c.component === component) {\n\t\t\t\t\tc.state = STATE.ready;\n\t\t\t\t}\n\n\t\t\t\tcomplete = complete && (c.state !== STATE.active);\n\t\t\t});\n\n\t\t\treturn complete;\n\t\t}\n\n\t\t/*\n\t\t * Checks that all components are inactive\n\t\t *\n\t\t * @returns {Boolean} `true` if any components should be running\n\t\t */\n\t\tallInactive () {\n\t\t\tconst activeOrReady = this.controlled.reduce((res, component) => {\n\t\t\t\treturn res || !(component.state === STATE.inactive);\n\t\t\t}, false);\n\t\t\treturn !activeOrReady;\n\t\t}\n\n\t\t/*\n\t\t * Checks for any components currently marqueeing\n\t\t *\n\t\t * @returns {Boolean} `true` if any component is marqueeing\n\t\t */\n\t\tanyRunning () {\n\t\t\treturn this.controlled.reduce((res, component) => {\n\t\t\t\treturn res || (component.state === STATE.active);\n\t\t\t}, false);\n\t\t}\n\n\t\trender () {\n\t\t\tlet props = this.props;\n\n\t\t\tif (marqueeOnFocus) {\n\t\t\t\tprops = {\n\t\t\t\t\t...this.props,\n\t\t\t\t\tonBlur: this.handleBlur,\n\t\t\t\t\tonFocus: this.handleFocus\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<MarqueeControllerContext.Provider value={this.childContext}>\n\t\t\t\t\t<Wrapped {...props} />\n\t\t\t\t</MarqueeControllerContext.Provider>\n\t\t\t);\n\t\t}\n\t};\n\n});\n\nexport default MarqueeController;\nexport {\n\tMarqueeController,\n\tMarqueeControllerContext\n};\n","import direction from 'direction';\nimport {on, off} from '@enact/core/dispatcher';\nimport {forward} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport {is} from '@enact/core/keymap';\nimport {Job} from '@enact/core/util';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport shallowEqual from 'recompose/shallowEqual';\n\nimport {scale} from '../resolution';\nimport {ResizeContext} from '../Resizable';\n\nimport MarqueeBase from './MarqueeBase';\nimport {MarqueeControllerContext} from './MarqueeController';\n\n/**\n * Default configuration parameters for {@link ui/Marquee.MarqueeDecorator}\n *\n * @type {Object}\n * @memberof ui/Marquee.MarqueeDecorator\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Property containing the callback to stop the animation when `marqueeOn` is `'focus'`\n\t *\n\t * @type {String}\n\t * @default 'onBlur'\n\t * @memberof ui/Marquee.MarqueeDecorator.defaultConfig\n\t */\n\tblur: 'onBlur',\n\n\t/**\n\t * Optional CSS class name to customize the marquee `component`\n\t *\n\t * @type {String}\n\t * @default null\n\t * @memberof ui/Marquee.MarqueeDecorator.defaultConfig\n\t */\n\tclassName: null,\n\n\t/**\n\t * The base marquee component wrapping the content.\n\t *\n\t * @type {Component}\n\t * @default ui/Marquee.Marquee\n\t * @memberof ui/Marquee.MarqueeDecorator.defaultConfig\n\t */\n\tcomponent: MarqueeBase,\n\n\t/**\n\t * Property containing the callback to start the animation when `marqueeOn` is `'hover'`\n\t *\n\t * @type {String}\n\t * @default 'onMouseEnter'\n\t * @memberof ui/Marquee.MarqueeDecorator.defaultConfig\n\t */\n\tenter: 'onMouseEnter',\n\n\t/**\n\t * Property containing the callback to start the animation when `marqueeOn` is `'focus'`\n\t *\n\t * @type {String}\n\t * @default 'onFocus'\n\t * @memberof ui/Marquee.MarqueeDecorator.defaultConfig\n\t */\n\tfocus: 'onFocus',\n\n\t/**\n\t* Invalidate the distance if any property (like 'inline') changes.\n\t* Expects an array of props which on change trigger invalidateMetrics.\n\t*\n\t* @type {String[]}\n\t* @default ['remeasure']\n\t* @memberof ui/Marquee.MarqueeDecorator.defaultConfig\n\t*/\n\tinvalidateProps: ['remeasure'],\n\n\t/**\n\t * Property containing the callback to stop the animation when `marqueeOn` is `'hover'`\n\t *\n\t * @type {String}\n\t * @default 'onMouseLeave'\n\t * @memberof ui/Marquee.MarqueeDecorator.defaultConfig\n\t */\n\tleave: 'onMouseLeave',\n\n\t/**\n\t * A function that determines the text directionality of a string.\n\t *\n\t * Returns:\n\t * * `'rtl'` if the text should marquee to the right\n\t * * `'ltr'` if the text should marquee to the left\n\t *\n\t * @type {Function}\n\t * @kind member\n\t * @memberof ui/Marquee.MarqueeDecorator.defaultConfig\n\t */\n\tmarqueeDirection: (str) => direction(str) === 'rtl' ? 'rtl' : 'ltr'\n};\n\n/*\n * Checks whether any of the invalidateProps has changed or not\n *\n * @param {String[]} propList An array of invalidateProps\n * @param {Object} prev Previous props\n * @param {Object} next Next props\n * @returns {Boolean} `true` if any of the props changed\n * @private\n */\nconst didPropChange = (propList, prev, next) => {\n\tconst hasPropsChanged = propList.map(i => prev[i] !== next[i]);\n\treturn hasPropsChanged.indexOf(true) !== -1;\n};\n\n/*\n * There's only one timer shared for Marquee so we need to keep track of what we may be using it\n * for. We may need to clean up certain things as we move among states.\n */\nconst TimerState = {\n\tCLEAR: 0,\t\t\t\t// No timers pending\n\tSTART_PENDING: 1,\t\t// A start request is pending\n\tRESET_PENDING: 2,\t\t// Marquee finished, waiting for reset delay\n\tSYNCSTART_PENDING: 3\t// Waiting to alert Controller that we want to start marqueeing\n};\n\n/**\n * A higher-order component that provides marquee functionalities.\n *\n * Note: This HoC passes additional properties to the wrapped component and wraps the `children`\n * prop with an additional component necessary for rendering the marquee.\n *\n * @class MarqueeDecorator\n * @memberof ui/Marquee\n * @hoc\n * @public\n */\nconst MarqueeDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {blur, className: configClassName, component: MarqueeComponent, enter, focus, invalidateProps, leave, marqueeDirection} = config;\n\n\t// Generate functions to forward events to containers\n\tconst forwardBlur = forward(blur);\n\tconst forwardFocus = forward(focus);\n\tconst forwardEnter = forward(enter);\n\tconst forwardLeave = forward(leave);\n\n\tconst determineTextDirection = (node, rtl, forceDirection) => {\n\t\t// Text directionality is a function of locale direction (rtl), content (node.textContent),\n\t\t// and props (forceDirection) in increasing order of significance.\n\t\tif (forceDirection) {\n\t\t\trtl = forceDirection === 'rtl';\n\t\t} else if (node) {\n\t\t\trtl = marqueeDirection(node.textContent) === 'rtl';\n\t\t}\n\n\t\treturn rtl;\n\t};\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'ui:MarqueeDecorator';\n\n\t\tstatic propTypes = /** @lends ui/Marquee.MarqueeDecorator.prototype */ {\n\t\t\t/**\n\t\t\t * Text alignment value of the marquee. Valid values are `'left'`, `'right'` and `'center'`.\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\talignment: PropTypes.oneOf(['left', 'right', 'center']),\n\n\t\t\t/**\n\t\t\t * Children to be marqueed\n\t\t\t *\n\t\t\t * @type {Node}\n\t\t\t * @public\n\t\t\t */\n\t\t\tchildren: PropTypes.node,\n\n\t\t\t/**\n\t\t\t * Passed through to the wrapped component.\n\t\t\t *\n\t\t\t * Does not affect Marquee behavior except that components that are `marqueeOn=\"focus\"`\n\t\t\t * will be treated as if they were `marqueeOn=\"hover\"`, to allow disabled (and thus,\n\t\t\t * unfocusable) components to marquee.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @public\n\t\t\t */\n\t\t\tdisabled: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Forces the `direction` of the marquee.\n\t\t\t *\n\t\t\t * Valid values are `'rtl'` and `'ltr'`. This includes non-text elements as well.\n\t\t\t * The default behavior, if this prop is unset, is to evaluate the text content for\n\t\t\t * directionality using {@link i18n/util.isRtlText}.\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\tforceDirection: PropTypes.oneOf(['rtl', 'ltr']),\n\n\t\t\t/**\n\t\t\t * The current locale as a\n\t\t\t * {@link https://tools.ietf.org/html/rfc5646|BCP 47 language tag}.\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\tlocale: PropTypes.string,\n\n\t\t\t/**\n\t\t\t * Number of milliseconds to wait before starting marquee when `marqueeOn` is `'hover'` or\n\t\t\t * `'focus'` or before restarting any marquee.\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 1000\n\t\t\t * @public\n\t\t\t */\n\t\t\tmarqueeDelay: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * Disables all marquee behavior and removes supporting markup.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t */\n\t\t\tmarqueeDisabled: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Determines what triggers the marquee to start its animation.\n\t\t\t *\n\t\t\t * @type {('focus'|'hover'|'render')}\n\t\t\t * @default 'focus'\n\t\t\t * @public\n\t\t\t */\n\t\t\tmarqueeOn: PropTypes.oneOf(['focus', 'hover', 'render']),\n\n\t\t\t/**\n\t\t\t * Number of milliseconds to wait before starting marquee the first time.\n\t\t\t *\n\t\t\t * Has no effect if `marqueeOn` is not `'render'`\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 1000\n\t\t\t * @public\n\t\t\t */\n\t\t\tmarqueeOnRenderDelay: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * Number of milliseconds to wait before resetting the marquee position after it\n\t\t\t * finishes.\n\t\t\t *\n\t\t\t * A minimum of 40 milliseconds is enforced.\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 1000\n\t\t\t * @public\n\t\t\t */\n\t\t\tmarqueeResetDelay: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * Amount of spacing between the instances of the content when animating.\n\t\t\t *\n\t\t\t * May either be a number indicating the number of pixels or a string indicating the\n\t\t\t * percentage relative to the width of the component.\n\t\t\t *\n\t\t\t * *Note:* When using a number, the value should be based on 1920x1080 display and\n\t\t\t * will be scaled automatically for the current resolution using {@link ui/resolution}.\n\t\t\t *\n\t\t\t * @type {String | Number}\n\t\t\t * @default '50%'\n\t\t\t * @public\n\t\t\t */\n\t\t\tmarqueeSpacing: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n\t\t\t/**\n\t\t\t * Rate of marquee measured in pixels/second.\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 60\n\t\t\t * @public\n\t\t\t */\n\t\t\tmarqueeSpeed: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * Used to signal for a remeasurement inside of marquee.\n\t\t\t *\n\t\t\t * The value must change for the remeasurement to take place. The value\n\t\t\t * type is `any` because it does not matter. It is only used to check for changes.\n\t\t\t *\n\t\t\t * @private\n\t\t\t */\n\t\t\tremeasure: PropTypes.any,\n\n\t\t\t/**\n\t\t\t * Indicates the text directionality of the current locale is right-to-left\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\trtl: PropTypes.bool\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\tmarqueeDelay: 1000,\n\t\t\tmarqueeOn: 'focus',\n\t\t\tmarqueeOnRenderDelay: 1000,\n\t\t\tmarqueeResetDelay: 1000,\n\t\t\tmarqueeSpacing: '50%',\n\t\t\tmarqueeSpeed: 60\n\t\t};\n\n\t\tstatic contextType = MarqueeControllerContext;\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tthis.state = {\n\t\t\t\tanimating: false,\n\t\t\t\toverflow: 'ellipsis',\n\t\t\t\tpromoted: false,\n\t\t\t\trtl: determineTextDirection(null, props.rtl, props.forceDirection)\n\t\t\t};\n\t\t\tthis.sync = false;\n\t\t\tthis.timerState = TimerState.CLEAR;\n\t\t\tthis.distance = null;\n\t\t\tthis.contentFits = false;\n\t\t\tthis.resizeRegistry = null;\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\tif (this.context && this.context.register) {\n\t\t\t\tthis.sync = true;\n\t\t\t\tthis.context.register(this, {\n\t\t\t\t\tstart: this.start,\n\t\t\t\t\tstop: this.stop\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.validateTextDirection();\n\t\t\tif (this.props.marqueeOn === 'render') {\n\t\t\t\tthis.startAnimation(this.props.marqueeOnRenderDelay);\n\t\t\t}\n\t\t\ton('keydown', this.handlePointerHide);\n\t\t}\n\n\t\tshouldComponentUpdate (nextProps, nextState) {\n\t\t\treturn (\n\t\t\t\t!shallowEqual(this.state, nextState) ||\n\t\t\t\t!shallowEqual(this.props, nextProps)\n\t\t\t);\n\t\t}\n\n\t\tcomponentDidUpdate (prevProps) {\n\t\t\tconst {children, disabled, forceDirection, locale, marqueeOn, marqueeDisabled, marqueeSpacing, marqueeSpeed, rtl} = this.props;\n\n\t\t\tlet forceRestartMarquee = false;\n\n\t\t\tif (\n\t\t\t\tprevProps.locale !== locale ||\n\t\t\t\tprevProps.rtl !== rtl ||\n\t\t\t\tprevProps.marqueeSpacing !== marqueeSpacing ||\n\t\t\t\t!shallowEqual(prevProps.children, children) ||\n\t\t\t\t(invalidateProps && didPropChange(invalidateProps, prevProps, this.props))\n\t\t\t) {\n\t\t\t\t// restart marqueeOn=\"render\" marquees or synced marquees that were animating\n\t\t\t\tforceRestartMarquee = marqueeOn === 'render' || (\n\t\t\t\t\tthis.sync && (this.state.animating || this.timerState > TimerState.CLEAR)\n\t\t\t\t);\n\n\t\t\t\tthis.invalidateMetrics();\n\t\t\t\tthis.cancelAnimation();\n\t\t\t} else if (\n\t\t\t\tprevProps.marqueeOn !== marqueeOn ||\n\t\t\t\tprevProps.marqueeDisabled !== marqueeDisabled ||\n\t\t\t\tprevProps.marqueeSpeed !== marqueeSpeed ||\n\t\t\t\tprevProps.forceDirection !== forceDirection\n\t\t\t) {\n\t\t\t\tthis.cancelAnimation();\n\t\t\t} else if (disabled && this.isHovered && marqueeOn === 'focus' && this.sync) {\n\t\t\t\tthis.context.enter(this);\n\t\t\t}\n\n\t\t\tthis.validateTextDirection();\n\t\t\tif (forceRestartMarquee || this.shouldStartMarquee()) {\n\t\t\t\tthis.tryStartingAnimation(this.props.marqueeOn === 'render' ? this.props.marqueeOnRenderDelay : this.props.marqueeDelay);\n\t\t\t}\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tthis.clearTimeout();\n\t\t\tthis.promoteJob.stop();\n\t\t\tthis.demoteJob.stop();\n\t\t\tif (this.sync) {\n\t\t\t\tthis.context.unregister(this);\n\t\t\t}\n\n\t\t\tif (this.resizeRegistry) {\n\t\t\t\tthis.resizeRegistry.unregister(this.handleResize);\n\t\t\t}\n\n\t\t\toff('keydown', this.handlePointerHide);\n\t\t}\n\n\t\tpromoteJob = new Job(() => {\n\t\t\tif (!this.contentFits) {\n\t\t\t\tthis.setState(state => state.promoted ? null : {promoted: true});\n\t\t\t}\n\t\t});\n\n\t\tdemoteJob = new Job(() => {\n\t\t\tthis.setState(state => (!state.animating && state.promoted) ? {promoted: false} : null);\n\t\t});\n\n\t\tdemote () {\n\t\t\tthis.promoteJob.stop();\n\t\t\tif (this.state.promoted) {\n\t\t\t\tthis.demoteJob.idle();\n\t\t\t}\n\t\t}\n\n\t\tpromote (delay = this.props.marqueeDelay) {\n\t\t\tthis.demoteJob.stop();\n\t\t\tthis.promoteJob.startAfter(Math.max(0, delay - 200));\n\t\t}\n\n\t\t/*\n\t\t * Clears the timer\n\t\t *\n\t\t * @returns {undefined}\n\t\t */\n\t\tclearTimeout () {\n\t\t\tif (window && this.timer) {\n\t\t\t\twindow.clearTimeout(this.timer);\n\t\t\t\tthis.timer = null;\n\t\t\t}\n\t\t\tthis.timerState = TimerState.CLEAR;\n\t\t}\n\n\t\t/*\n\t\t * Starts a new timer\n\t\t *\n\t\t * @param {Function} fn   Callback\n\t\t * @param {Number}   time Delay in milliseconds\n\t\t * @returns {undefined}\n\t\t */\n\t\tsetTimeout (fn, time = 0, state = TimerState.CLEAR) {\n\t\t\tthis.clearTimeout();\n\t\t\tif (window) {\n\t\t\t\tthis.timerState = state;\n\t\t\t\tthis.timer = window.setTimeout(() => {\n\t\t\t\t\tthis.timerState = TimerState.CLEAR;\n\t\t\t\t\tfn();\n\t\t\t\t}, time);\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t * Checks to see if the children changed during a condition that should cause us to re-check\n\t\t * the animation state\n\t\t *\n\t\t * @returns {Boolean} - `true` if a possible marquee condition exists\n\t\t */\n\t\tshouldStartMarquee () {\n\t\t\tconst {disabled, marqueeDisabled, marqueeOn} = this.props;\n\t\t\treturn !marqueeDisabled && (\n\t\t\t\tmarqueeOn === 'render' ||\n\t\t\t\t!this.sync && (\n\t\t\t\t\t(this.isFocused && marqueeOn === 'focus' && !disabled) ||\n\t\t\t\t\t(this.isHovered && (marqueeOn === 'hover' || marqueeOn === 'focus' && disabled))\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\t/*\n\t\t * Invalidates marquee metrics requiring them to be recalculated\n\t\t *\n\t\t * @returns {undefined}\n\t\t */\n\t\tinvalidateMetrics () {\n\t\t\tthis.spacing = 0;\n\t\t\t// Null distance is the special value to allow recalculation\n\t\t\tthis.distance = null;\n\t\t\t// Assume the marquee does not fit until calculations show otherwise\n\t\t\tthis.contentFits = false;\n\n\t\t\tthis.setState(state => {\n\t\t\t\tif (state.overflow === 'ellipsis' && state.promoted === false) return null;\n\n\t\t\t\treturn {\n\t\t\t\t\toverflow: 'ellipsis',\n\t\t\t\t\tpromoted: false\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\n\t\tmoveChildren (from, to) {\n\t\t\twhile (from.childNodes.length) {\n\t\t\t\tto.appendChild(from.childNodes.item(0));\n\t\t\t}\n\t\t}\n\n\t\tmeasureWidths () {\n\t\t\t// move all the children into the wrapper node ...\n\t\t\tconst wrapper = document.createElement('span');\n\t\t\tthis.moveChildren(this.node, wrapper);\n\t\t\tthis.node.appendChild(wrapper);\n\n\t\t\t// measure it to find the precise floating point width of the content ...\n\t\t\tconst {width: scrollWidth} = wrapper.getBoundingClientRect();\n\t\t\tconst {width} = this.node.getBoundingClientRect();\n\n\t\t\t// and move all the children back and remove the wrapper\n\t\t\tthis.node.removeChild(wrapper);\n\t\t\tthis.moveChildren(wrapper, this.node);\n\n\t\t\treturn {scrollWidth, width};\n\t\t}\n\n\t\t/*\n\t\t* Determines if the component should marquee and the distance to animate\n\t\t*\n\t\t* @returns {undefined}\n\t\t*/\n\t\tcalculateMetrics () {\n\t\t\tconst node = this.node;\n\n\t\t\t// TODO: absolute showing check (or assume that it won't be rendered if it isn't showing?)\n\t\t\tif (node && this.distance == null && !this.props.marqueeDisabled) {\n\t\t\t\tconst {width, scrollWidth} = this.measureWidths();\n\n\t\t\t\tthis.spacing = this.getSpacing(width);\n\t\t\t\tthis.distance = this.calculateDistance(width, scrollWidth, this.spacing);\n\t\t\t\tthis.contentFits = !this.shouldAnimate(this.distance);\n\n\t\t\t\tconst overflow = this.calculateTextOverflow(this.distance);\n\t\t\t\tthis.setState(state => {\n\t\t\t\t\treturn state.overflow === overflow ? null : {overflow};\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t * Calculates the distance the marquee must travel to reveal all of the content\n\t\t *\n\t\t * @param\t{Number}  width        Width of the node\n\t\t * @param\t{Number}  scrollWidth  Width of the node if it were unbounded\n\t\t * @param\t{Number}  spacing      Horizontal spacing\n\t\t * @returns\t{Number}               Distance to travel in pixels\n\t\t */\n\t\tcalculateDistance (width, scrollWidth, spacing) {\n\t\t\tconst overflow = scrollWidth - width;\n\n\t\t\tif (this.shouldAnimate(overflow)) {\n\t\t\t\treturn scrollWidth + spacing;\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t}\n\n\t\t/*\n\t\t * A custom overflow-determining method to reflect real-world truncation/ellipsis\n\t\t * calculation. This catches an edge case that the browser typically does not, where the\n\t\t * size of the text area is the same size as the container (zero distance difference), but\n\t\t * the browser still inserts an ellipsis due to a non-visible part of the last glyph's\n\t\t * render box overflowing the parent container size.\n\t\t * This scenario should not induce a marquee animation or ellipsis, so we directly set\n\t\t * Marquee to not use an ellipsis, and instead just clip the non-visible part of the glyph.\n\t\t *\n\t\t * @param\t{Number}\tdistance\tAmount of overflow in pixels\n\t\t * @returns\t{String}\t\t\t\ttext-overflow value\n\t\t */\n\t\tcalculateTextOverflow (distance) {\n\t\t\treturn distance === 0 ? 'clip' : 'ellipsis';\n\t\t}\n\n\t\tgetSpacing (width) {\n\t\t\tconst {marqueeSpacing} = this.props;\n\n\t\t\tif (typeof marqueeSpacing === 'string') {\n\t\t\t\tif (/^\\d+(\\.\\d+)?%$/.test(marqueeSpacing)) {\n\t\t\t\t\treturn width * Number.parseFloat(marqueeSpacing) / 100;\n\t\t\t\t}\n\n\t\t\t\t// warning for invalid string value;\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\treturn scale(marqueeSpacing);\n\t\t}\n\n\t\t/*\n\t\t * Calculates if the marquee should animate\n\t\t *\n\t\t * @param\t{Number}\tdistance\tAmount of overflow in pixels\n\t\t * @returns\t{Boolean}\t\t\t\t`true` if it should animated\n\t\t */\n\t\tshouldAnimate (distance) {\n\t\t\treturn distance > 0;\n\t\t}\n\n\t\t/*\n\t\t * Starts the animation without synchronizing\n\t\t *\n\t\t * @param\t{Number}\t[delay]\tMilliseconds to wait before animating\n\t\t * @returns\t{undefined}\n\t\t */\n\t\tstart = (delay = this.props.marqueeDelay) => {\n\t\t\tif (this.props.marqueeDisabled) {\n\t\t\t\t// if marquee isn't necessary, do not set `animating` but return `true` to mark it\n\t\t\t\t// complete if it's synchronized so it doesn't block other instances.\n\t\t\t\treturn true;\n\t\t\t} else if (!this.state.animating) {\n\t\t\t\t// Don't need to worry about this.timerState because if we're sync, we were just\n\t\t\t\t// told to start, so our state is correct already. If we're not sync, this will\n\t\t\t\t// restart us anyhow. If we were waiting to tell sync to start us, someone else in\n\t\t\t\t// our group already did it.\n\t\t\t\tthis.setTimeout(() => {\n\t\t\t\t\tthis.calculateMetrics();\n\t\t\t\t\tif (!this.contentFits) {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tpromoted: true,\n\t\t\t\t\t\t\tanimating: true\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (this.sync) {\n\t\t\t\t\t\tthis.context.complete(this);\n\t\t\t\t\t}\n\t\t\t\t}, delay, TimerState.START_PENDING);\n\t\t\t}\n\t\t};\n\n\t\t/*\n\t\t * Stops the animation\n\t\t *\n\t\t * @returns\t{undefined}\n\t\t */\n\t\tstop = () => {\n\t\t\tthis.clearTimeout();\n\n\t\t\tif (this.state.animating) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tanimating: false\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.demote();\n\t\t};\n\n\t\t/*\n\t\t * Starts marquee animation with synchronization, if not already animating and a timer is\n\t\t * not already active to start.\n\t\t *\n\t\t * @param {Number} [delay] Milliseconds to wait before animating\n\t\t * @returns {undefined}\n\t\t */\n\t\ttryStartingAnimation = (delay) => {\n\t\t\tif (this.state.animating || this.timerState !== TimerState.CLEAR) return;\n\n\t\t\tthis.startAnimation(delay);\n\t\t};\n\n\t\t/*\n\t\t * Starts marquee animation with synchronization\n\t\t *\n\t\t * @param {Number} [delay] Milliseconds to wait before animating\n\t\t * @returns {undefined}\n\t\t */\n\t\tstartAnimation = (delay) => {\n\t\t\tthis.promote(delay);\n\t\t\tif (this.sync) {\n\t\t\t\t// If we're running a timer for anything, we should let that finish, unless it's\n\t\t\t\t// another syncstart request.  We should probably check to see if the start request\n\t\t\t\t// is further in the future than we are so we can choose the nearer one. But, we're\n\t\t\t\t// assuming the condition is we're waiting on render delay and someone just hovered\n\t\t\t\t// us, so we can start with the (hopefully) faster hover delay.\n\t\t\t\tif (this.timerState !== TimerState.CLEAR &&\n\t\t\t\t\t\tthis.timerState !== TimerState.SYNCSTART_PENDING) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.setTimeout(() => {\n\t\t\t\t\tthis.context.start();\n\t\t\t\t}, delay, TimerState.SYNCSTART_PENDING);\n\t\t\t} else {\n\t\t\t\tthis.start(delay);\n\t\t\t}\n\t\t};\n\n\t\t/*\n\t\t * Resets the marquee and restarts it after `marqueeDelay` milliseconds.\n\t\t *\n\t\t * @returns {undefined}\n\t\t */\n\t\trestartAnimation = (delay) => {\n\t\t\tthis.setState({\n\t\t\t\tanimating: false\n\t\t\t});\n\t\t\t// synchronized Marquees defer to the controller to restart them\n\t\t\tif (this.sync) {\n\t\t\t\tthis.context.complete(this);\n\t\t\t} else if (!this.state.animating) {\n\t\t\t\tthis.startAnimation(delay);\n\t\t\t}\n\t\t};\n\n\t\t/*\n\t\t * Resets and restarts the marquee after `marqueeResetDelay` milliseconds\n\t\t *\n\t\t * @returns {undefined}\n\t\t */\n\t\tresetAnimation = () => {\n\t\t\tconst delay = Math.max(40, this.props.marqueeResetDelay + this.props.marqueeDelay);\n\t\t\t// If we're already timing a start action, don't reset.  Start actions will clear us if\n\t\t\t// sync.\n\t\t\tif (this.timerState === TimerState.CLEAR) {\n\t\t\t\t// If invoked immediately, the setState call in restartAnimation is batched and will\n\t\t\t\t// break any non-marquee-on-render instances because the subsequent startAnimation\n\t\t\t\t// isn't invoked. By setting a brief timeout, we decouple from the `onTransitionEnd`\n\t\t\t\t// event and setState is synchronous allowing the startAnimation to be called\n\t\t\t\t// immediately.\n\t\t\t\t//\n\t\t\t\t// This would be better moved into componentDidUpdate with more expansive state\n\t\t\t\t// values to indicate we need to reset an animation vs starting fresh.\n\t\t\t\tthis.setTimeout(() => {\n\t\t\t\t\tthis.restartAnimation(delay);\n\t\t\t\t}, 0, TimerState.RESET_PENDING);\n\t\t\t}\n\t\t};\n\n\t\t/*\n\t\t * Cancels the marquee\n\t\t *\n\t\t * @returns {undefined}\n\t\t */\n\t\tcancelAnimation = () => {\n\t\t\tif (this.sync) {\n\t\t\t\tthis.context.cancel(this);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.stop();\n\t\t};\n\n\t\thandleResize = () => {\n\t\t\tif (this.node && !this.props.marqueeDisabled) {\n\t\t\t\tthis.invalidateMetrics();\n\t\t\t\tif (this.state.animating) {\n\t\t\t\t\tthis.cancelAnimation();\n\t\t\t\t\tthis.resetAnimation();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\thandleMarqueeComplete = () => {\n\t\t\tthis.resetAnimation();\n\t\t};\n\n\t\thandleFocus = (ev) => {\n\t\t\tthis.isFocused = true;\n\t\t\tif (!this.sync) {\n\t\t\t\tif (!this.state.animating) {\n\t\t\t\t\tthis.startAnimation();\n\t\t\t\t}\n\t\t\t}\n\t\t\tforwardFocus(ev, this.props);\n\t\t};\n\n\t\thandleBlur = (ev) => {\n\t\t\tthis.promoteJob.stop();\n\t\t\tforwardBlur(ev, this.props);\n\t\t\tif (this.isFocused) {\n\t\t\t\tthis.isFocused = false;\n\t\t\t\tif (!this.sync && !(this.isHovered && this.props.marqueeOn === 'hover')) {\n\t\t\t\t\tthis.cancelAnimation();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\thandleEnter = (ev) => {\n\t\t\tthis.isHovered = true;\n\t\t\tif (this.props.marqueeOn === 'hover') {\n\t\t\t\tif (this.sync) {\n\t\t\t\t\tthis.context.enter(this);\n\t\t\t\t} else if (!this.state.animating) {\n\t\t\t\t\tthis.startAnimation();\n\t\t\t\t}\n\t\t\t}\n\t\t\tforwardEnter(ev, this.props);\n\t\t};\n\n\t\thandleLeave = (ev) => {\n\t\t\tthis.promoteJob.stop();\n\t\t\tthis.handleUnhover();\n\t\t\tforwardLeave(ev, this.props);\n\t\t};\n\n\t\thandlePointerHide = ({keyCode}) => {\n\t\t\tif (is('pointerHide', keyCode)) {\n\t\t\t\tthis.handleUnhover();\n\t\t\t}\n\t\t};\n\n\t\thandleUnhover () {\n\t\t\tthis.isHovered = false;\n\t\t\tif (this.props.marqueeOn === 'hover') {\n\t\t\t\tif (this.sync) {\n\t\t\t\t\tthis.context.leave(this);\n\t\t\t\t} else {\n\t\t\t\t\tthis.cancelAnimation();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcacheNode = (node) => {\n\t\t\tthis.node = node;\n\t\t};\n\n\t\tvalidateTextDirection () {\n\t\t\tthis.setState((state, props) => {\n\t\t\t\tconst rtl = determineTextDirection(this.node, props.rtl, props.forceDirection);\n\t\t\t\treturn state.rtl === rtl ? null : {rtl};\n\t\t\t});\n\t\t}\n\n\t\trenderMarquee () {\n\t\t\tconst {\n\t\t\t\talignment,\n\t\t\t\tchildren,\n\t\t\t\tdisabled,\n\t\t\t\tmarqueeOn,\n\t\t\t\tmarqueeSpeed,\n\t\t\t\t...rest\n\t\t\t} = this.props;\n\n\t\t\tconst marqueeOnFocus = marqueeOn === 'focus';\n\t\t\tconst marqueeOnHover = marqueeOn === 'hover';\n\t\t\tconst marqueeOnRender = marqueeOn === 'render';\n\n\t\t\tif (marqueeOnFocus) {\n\t\t\t\trest[focus] = this.handleFocus;\n\t\t\t}\n\n\t\t\t// TODO: cancel others on hover\n\t\t\tif (marqueeOnHover || marqueeOnFocus) {\n\t\t\t\trest[enter] = this.handleEnter;\n\t\t\t\trest[leave] = this.handleLeave;\n\t\t\t}\n\n\t\t\tif (marqueeOnRender) {\n\t\t\t\trest[enter] = this.handleEnter;\n\t\t\t}\n\n\t\t\tdelete rest.forceDirection;\n\t\t\tdelete rest.locale;\n\t\t\tdelete rest.marqueeCentered;\n\t\t\tdelete rest.marqueeDelay;\n\t\t\tdelete rest.marqueeDisabled;\n\t\t\tdelete rest.marqueeOnRenderDelay;\n\t\t\tdelete rest.marqueeSpacing;\n\t\t\tdelete rest.marqueeResetDelay;\n\t\t\tdelete rest.marqueeSpeed;\n\t\t\tdelete rest.remeasure;\n\t\t\tdelete rest.rtl;\n\n\t\t\treturn (\n\t\t\t\t<Wrapped {...rest} onBlur={this.handleBlur} disabled={disabled}>\n\t\t\t\t\t<MarqueeComponent\n\t\t\t\t\t\talignment={alignment}\n\t\t\t\t\t\tanimating={this.state.animating}\n\t\t\t\t\t\tclassName={configClassName}\n\t\t\t\t\t\tclientRef={this.cacheNode}\n\t\t\t\t\t\tdistance={this.distance}\n\t\t\t\t\t\tonMarqueeComplete={this.handleMarqueeComplete}\n\t\t\t\t\t\toverflow={this.state.overflow}\n\t\t\t\t\t\tspacing={this.spacing}\n\t\t\t\t\t\trtl={this.state.rtl}\n\t\t\t\t\t\tspeed={marqueeSpeed}\n\t\t\t\t\t\twillAnimate={this.state.promoted}\n\t\t\t\t\t>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</MarqueeComponent>\n\t\t\t\t</Wrapped>\n\t\t\t);\n\t\t}\n\n\t\trenderWrapped () {\n\t\t\tconst props = Object.assign({}, this.props);\n\n\t\t\tdelete props.alignment;\n\t\t\tdelete props.forceDirection;\n\t\t\tdelete props.locale;\n\t\t\tdelete props.marqueeCentered;\n\t\t\tdelete props.marqueeDelay;\n\t\t\tdelete props.marqueeDisabled;\n\t\t\tdelete props.marqueeOn;\n\t\t\tdelete props.marqueeOnRenderDelay;\n\t\t\tdelete props.marqueeSpacing;\n\t\t\tdelete props.marqueeResetDelay;\n\t\t\tdelete props.marqueeSpeed;\n\t\t\tdelete props.remeasure;\n\t\t\tdelete props.rtl;\n\n\t\t\treturn <Wrapped {...props} />;\n\t\t}\n\n\t\trender () {\n\t\t\treturn (\n\t\t\t\t<ResizeContext.Consumer>\n\t\t\t\t\t{(register) => {\n\t\t\t\t\t\tif (!this.resizeRegistry && register) {\n\t\t\t\t\t\t\tthis.resizeRegistry = register(this.handleResize);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (this.props.marqueeDisabled) {\n\t\t\t\t\t\t\treturn this.renderWrapped();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn this.renderMarquee();\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t</ResizeContext.Consumer>\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default MarqueeDecorator;\nexport {\n\tMarqueeDecorator\n};\n","/**\n * A component that will marquee its overflowing contents.\n *\n * @module ui/Marquee\n * @exports Marquee\n * @exports MarqueeBase\n * @exports MarqueeController\n * @exports MarqueeDecorator\n */\n\n// Marquee is unique in the framework in that its base component, Marquee, is used by its behavioral\n// HOC, MarqueeDecorator. In other cases, the behavioral HOC would receive the base component as\n// Wrapped but in this case is designed to receive a third-party component instead.\n//\n// This file avoids circular dependencies between Marquee.js (which would normally import its\n// decorator) and MarqueeDecorator (which needs to import Marquee.js).\n\nimport MarqueeBase from './MarqueeBase';\nimport {MarqueeController} from './MarqueeController';\nimport MarqueeDecorator from './MarqueeDecorator';\n\n/**\n * A minimally-styled marquee component.\n *\n * @class Marquee\n * @extends ui/Marquee.MarqueeBase\n * @memberof ui/Marquee\n * @mixes ui/Marquee.MarqueeDecorator\n * @ui\n * @public\n */\nconst Marquee = MarqueeDecorator({component: MarqueeBase}, 'div');\n\nexport default Marquee;\nexport {\n\tMarquee,\n\tMarqueeBase,\n\tMarqueeController,\n\tMarqueeDecorator\n};\n","import {handle, forward, adaptEvent} from '@enact/core/handle';\nimport kind from '@enact/core/kind';\nimport Spottable from '@enact/spotlight/Spottable';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport $L from '../internal/$L';\n\nimport css from './Panels.module.less';\n\n// Since we expose `onSelect` to handle breadcrumb selection, we need that handler to be set on a\n// component that proxies mouse events for key events so we create a spottable div that will\n// get the right classes as well as handle events correctly.\nconst SpottableDiv = Spottable('div');\n\n/**\n * The width of a breadcrumb which may be used to allocate space for it in a panels layout.\n *\n * @type {Number}\n * @default 105;\n * @private\n * @memberof agate/Panels\n */\nexport const breadcrumbWidth = 105;\n\n/**\n * Vertical, transparent bar used to navigate to a prior Panel.\n *\n * [`BreadcrumbPanels`]{@link agate/Panels.BreadcrumbPanels} has one breadcrumb.\n *\n * @class Breadcrumb\n * @memberof agate/Panels\n * @ui\n * @public\n */\nconst BreadcrumbBase = kind({\n\tname: 'Breadcrumb',\n\n\tpropTypes: /** @lends agate/Panels.Breadcrumb.prototype */ {\n\t\t/**\n\t\t * Index of the associated panel.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t */\n\t\tindex: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * Called when the breadcrumb is clicked.\n\t\t *\n\t\t * @private\n\t\t * @type {Function}\n\t\t */\n\t\tonClick: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the breadcrumb is clicked.\n\t\t *\n\t\t * The index of the clicked breadcrumb is passed in the event data.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonSelect: PropTypes.func\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'breadcrumb'\n\t},\n\n\thandlers: {\n\t\tonSelect: handle(\n\t\t\tforward('onClick'),\n\t\t\tadaptEvent((ev, {index}) => ({type: 'onSelect', index}), forward('onSelect'))\n\t\t)\n\t},\n\n\trender: ({children, index, onSelect, ...rest}) => (\n\t\t<SpottableDiv\n\t\t\t{...rest}\n\t\t\taria-label={$L('GO TO PREVIOUS')}\n\t\t\tdata-index={index}\n\t\t\tonClick={onSelect}\n\t\t>\n\t\t\t<div className={css.breadcrumbContent}>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</SpottableDiv>\n\t)\n});\n\nexport default BreadcrumbBase;\nexport {\n\tBreadcrumbBase as Breadcrumb,\n\tBreadcrumbBase\n};\n","import {scale, unit} from '@enact/ui/resolution';\nimport {arrange} from '@enact/ui/ViewManager/Arranger';\n\nimport {breadcrumbWidth} from './Breadcrumb';\n\nconst quadInOut = 'cubic-bezier(0.455, 0.030, 0.515, 0.955)';\nconst animationOptions = {easing: quadInOut};\n\n// Actvity Arranger\n\n/*\n * Appends a transform that accounts for a single breadcrumb\n *\n * @param  {Node} node      DOM Node\n *\n * @returns {undefined}\n * @private\n */\nconst offsetForBreadcrumbs = (node) => {\n\tconst isFirst = node && node.dataset && node.dataset.index === '0';\n\n\treturn `translateX(${isFirst ? 0 : unit(scale(breadcrumbWidth), 'rem')})`;\n};\n\n/**\n * Arranger that slides panels in from the right and out to the left allowing space for the single\n * breadcrumb when `to` index is greater than zero.\n *\n * @type {Arranger}\n * @private\n */\nconst PanelsArranger = {\n\tenter: (config) => {\n\t\tconst {node} = config;\n\n\t\treturn arrange(config, [\n\t\t\t{transform: `${offsetForBreadcrumbs(node)} translateX(100%)`},\n\t\t\t{transform: offsetForBreadcrumbs(node)}\n\t\t], animationOptions);\n\t},\n\tleave: (config) => {\n\t\tconst {node} = config;\n\n\t\treturn arrange(config, [\n\t\t\t{transform: offsetForBreadcrumbs(node)},\n\t\t\t{transform: 'translateX(-100%)'}\n\t\t], animationOptions);\n\t},\n\tstay: (config) => {\n\t\tconst {node} = config;\n\n\t\treturn arrange(config, [\n\t\t\t{transform: offsetForBreadcrumbs(node)},\n\t\t\t{transform: offsetForBreadcrumbs(node)}\n\t\t], animationOptions);\n\t}\n};\n\n/**\n * Positions a breadcrumb based on its `data-index` and the current index, `to`\n *\n * @param  {Object} config  Arrangement configuration object\n * @returns {undefined}\n * @method\n * @private\n */\nconst positionBreadcrumb = (node, index) => {\n\tconst crumbIndex = node.dataset.index;\n\tconst x = (index - crumbIndex);\n\tconst percentX = x * -100;\n\n\treturn `translateX(${percentX}%)`;\n};\n\nconst enter = (config) => {\n\tconst {node, from, to, reverse} = config;\n\tconst keyframes = reverse ? [\n\t\t{transform: positionBreadcrumb(node, to)},\n\t\t{transform: positionBreadcrumb(node, from)}\n\t] : [\n\t\t{transform: positionBreadcrumb(node, from)},\n\t\t{transform: positionBreadcrumb(node, to)}\n\t];\n\n\treturn arrange(config, keyframes, animationOptions);\n};\n\n/**\n * Arranger for panel breadcrumbs\n *\n * @type {Arranger}\n * @private\n */\nconst BreadcrumbArranger = {\n\tenter: enter,\n\tstay: enter,\n\tleave: enter\n};\n\nexport {\n\tBreadcrumbArranger,\n\tPanelsArranger\n};\n","import React from 'react';\n\nimport Icon from '../Icon';\n\nimport Breadcrumb from './Breadcrumb';\n\n/**\n * Generates an array of at most `max` breadcrumbs\n *\n * @param {Number} index      Index of active breadcrumb\n * @param {Number} max        Maximum number of breadcrumbs to dispaly\n * @param {Function} onSelect Handler for selecting a breadcrumb\n * @returns {React.element[]} Array of breadcrumbs\n * @private\n */\nconst Breadcrumbs = (id, index, max, onSelect) => {\n\tconst breadcrumbs = new Array(index < max ? index : max);\n\tconst start = Math.max(index - max, 0);\n\n\tfor (let i = start; i < index; i++) {\n\t\tbreadcrumbs[index - i - 1] = (\n\t\t\t<Breadcrumb\n\t\t\t\tonSelect={onSelect}\n\t\t\t\tid={`${id}_bc_${i}`}\n\t\t\t\tindex={i}\n\t\t\t\tkey={i}\n\t\t\t>\n\t\t\t\t<Icon>arrowlargeleft</Icon>\n\t\t\t</Breadcrumb>\n\t\t);\n\t}\n\n\treturn breadcrumbs;\n};\n\nexport default Breadcrumbs;\nexport {\n\tBreadcrumbs\n};\n","import hoc from '@enact/core/hoc';\nimport kind from '@enact/core/kind';\nimport {coerceFunction} from '@enact/core/util';\nimport Spotlight from '@enact/spotlight';\nimport ViewManager from '@enact/ui/ViewManager';\nimport invariant from 'invariant';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Skinnable from '../Skinnable';\n\nimport IdProvider from './IdProvider';\nimport {BreadcrumbArranger} from './Arrangers';\nimport Breadcrumb from './Breadcrumb';\nimport Breadcrumbs from './Breadcrumbs';\nimport CancelDecorator from './CancelDecorator';\n\nimport css from './Panels.module.less';\n\n// TODO: Figure out how to document private sub-module members\n\n/**\n * Default config for {@link agate/Panels.BreadcrumbDecorator}\n * @hocconfig\n * @memberof agate/Panels.BreadcrumbDecorator\n */\nconst defaultConfig = {\n\t/**\n\t * Classes to be added to the root node\n\t *\n\t * @type {String}\n\t * @default null\n\t * @memberof agate/Panels.BreadcrumbDecorator.defaultConfig\n\t */\n\tclassName: null,\n\n\t/**\n\t * Maximum number of breadcrumbs to display. If a function, it will be called on render to\n\t * calculate the number of breadcrumbs\n\t *\n\t * @type {Number|Function}\n\t * @default 0\n\t * @memberof agate/Panels.BreadcrumbDecorator.defaultConfig\n\t */\n\tmax: 0,\n\n\t/**\n\t * Arranger for Panels\n\t *\n\t * @type {Object}\n\t * @default null\n\t * @memberof agate/Panels.BreadcrumbDecorator.defaultConfig\n\t */\n\tpanelArranger: null\n};\n\n\n/**\n * A higher-order component that adds breadcrumbs to a Panels component\n *\n * @class BreadcrumbDecorator\n * @type {Function}\n * @hoc\n * @private\n * @memberof agate/Panels\n */\nconst BreadcrumbDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {max, panelArranger, className: cfgClassName} = config;\n\tconst calcMax = coerceFunction(max);\n\n\tconst Decorator = kind({\n\t\tname: 'BreadcrumbDecorator',\n\n\t\tpropTypes: /** @lends agate/Panels.BreadcrumbDecorator.prototype */ {\n\t\t\t/**\n\t\t\t * Array of breadcrumbs or a function that generates an array of breadcrumbs\n\t\t\t *\n\t\t\t * @type {Function|Node[]}\n\t\t\t * @default Breadcrumbs\n\t\t\t */\n\t\t\tbreadcrumbs: PropTypes.oneOfType([\n\t\t\t\tPropTypes.func,\t\t\t\t\t\t// generator\n\t\t\t\tPropTypes.arrayOf(PropTypes.node)\t// static array of breadcrumbs\n\t\t\t]),\n\n\t\t\t/**\n\t\t\t * An object containing properties to be passed to each child. `aria-owns` will be added\n\t\t\t * or updated to this object to add the breadcrumbs to the accessibility tree of each\n\t\t\t * panel.\n\t\t\t *\n\t\t\t * @type {Object}\n\t\t\t * @public\n\t\t\t */\n\t\t\tchildProps: PropTypes.object,\n\n\t\t\t/**\n\t\t\t * Panels to be rendered\n\t\t\t *\n\t\t\t * @type {Node}\n\t\t\t */\n\t\t\tchildren: PropTypes.node,\n\n\t\t\t/**\n\t\t\t * Function that generates unique identifiers for Panel instances\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @required\n\t\t\t * @private\n\t\t\t */\n\t\t\tgenerateId: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Unique identifier for the Panels instance\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\tid: PropTypes.string,\n\n\t\t\t/**\n\t\t\t * Index of the active panel\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 0\n\t\t\t */\n\t\t\tindex: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * Disable breadcrumb transitions.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t */\n\t\t\tnoAnimation: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Called when a breadcrumb is clicked. The payload includes the `index` of the selected\n\t\t\t * breadcrumb\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t */\n\t\t\tonSelectBreadcrumb: PropTypes.func\n\t\t},\n\n\t\tdefaultProps: {\n\t\t\tbreadcrumbs: Breadcrumbs,\n\t\t\tindex: 0,\n\t\t\tnoAnimation: false\n\t\t},\n\n\t\tstyles: {\n\t\t\tcss,\n\t\t\tclassName: cfgClassName\n\t\t},\n\n\t\thandlers: {\n\t\t\thandleBreadcrumbWillTransition: (ev, {id}) => {\n\t\t\t\tconst current = Spotlight.getCurrent();\n\t\t\t\tif (!current) return;\n\n\t\t\t\tconst breadcrumbs = document.querySelector(`#${id} .${css.breadcrumbs}`);\n\t\t\t\tif (breadcrumbs && breadcrumbs.contains(current)) {\n\t\t\t\t\tcurrent.blur();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tcomputed: {\n\t\t\t// Invokes the breadcrumb generator, if provided\n\t\t\tbreadcrumbs: ({breadcrumbs, id, index, onSelectBreadcrumb}) => {\n\t\t\t\tconst x = calcMax(index);\n\t\t\t\tif (Array.isArray(breadcrumbs)) {\n\t\t\t\t\t// limit the number of breadcrumbs based on the index and config.max\n\t\t\t\t\tconst start = Math.max(index - x, 0);\n\t\t\t\t\tconst children = React.Children.toArray(breadcrumbs).slice(start, start + x);\n\n\t\t\t\t\t// map over the children to either clone it with the appropriate props or to\n\t\t\t\t\t// create a Breadcrumb if passed an array of renderable primitives\n\t\t\t\t\treturn React.Children.map(children, (child, i) => {\n\t\t\t\t\t\tconst props = {\n\t\t\t\t\t\t\tid: `${id}_bc_${i}`,\n\t\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\t\tonSelect: onSelectBreadcrumb\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (React.isValidElement(child)) {\n\t\t\t\t\t\t\treturn React.cloneElement(child, props);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn React.createElement(Breadcrumb, props, child);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturn breadcrumbs(id, index, x, onSelectBreadcrumb);\n\t\t\t\t}\n\t\t\t},\n\t\t\tchildProps: ({childProps, id, index}) => {\n\t\t\t\tif (!id || index === 0) {\n\t\t\t\t\treturn childProps;\n\t\t\t\t}\n\n\t\t\t\tconst start = Math.max(index - calcMax(index), 0);\n\t\t\t\tconst updatedChildProps = Object.assign({}, childProps);\n\t\t\t\tconst ariaOwns = [];\n\t\t\t\tfor (let i = start; i < index; i++) {\n\t\t\t\t\tariaOwns.push(`${id}_bc_${i}`);\n\t\t\t\t}\n\n\t\t\t\tif (updatedChildProps['aria-owns']) {\n\t\t\t\t\tariaOwns.unshift(updatedChildProps['aria-owns']);\n\t\t\t\t}\n\n\t\t\t\tupdatedChildProps['aria-owns'] = ariaOwns.join(' ');\n\n\t\t\t\treturn updatedChildProps;\n\t\t\t}\n\t\t},\n\n\t\trender: ({breadcrumbs, childProps, children, className, generateId, handleBreadcrumbWillTransition, id, index, noAnimation, ...rest}) => {\n\t\t\tdelete rest.onSelectBreadcrumb;\n\n\t\t\tconst count = React.Children.count(children);\n\t\t\tinvariant(\n\t\t\t\tindex === 0 && count === 0 || index < count,\n\t\t\t\t`Panels index, ${index}, is invalid for number of children, ${count}`\n\t\t\t);\n\n\t\t\treturn (\n\t\t\t\t<div className={className} data-index={index} id={id}>\n\t\t\t\t\t<ViewManager\n\t\t\t\t\t\tarranger={BreadcrumbArranger}\n\t\t\t\t\t\tclassName={css.breadcrumbs}\n\t\t\t\t\t\tduration={300}\n\t\t\t\t\t\tend={calcMax()}\n\t\t\t\t\t\tindex={index - 1}\n\t\t\t\t\t\tnoAnimation={noAnimation}\n\t\t\t\t\t\tonWillTransition={handleBreadcrumbWillTransition}\n\t\t\t\t\t\tstart={0}\n\t\t\t\t\t>\n\t\t\t\t\t\t{breadcrumbs}\n\t\t\t\t\t</ViewManager>\n\t\t\t\t\t<Wrapped\n\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\tarranger={panelArranger}\n\t\t\t\t\t\tchildProps={childProps}\n\t\t\t\t\t\tgenerateId={generateId}\n\t\t\t\t\t\tid={`${id}_panels`}\n\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\tnoAnimation={noAnimation}\n\n\t\t\t\t\t>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</Wrapped>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t});\n\n\treturn CancelDecorator(\n\t\t{cancel: 'onSelectBreadcrumb'},\n\t\tIdProvider(\n\t\t\tSkinnable(\n\t\t\t\tDecorator\n\t\t\t)\n\t\t)\n\t);\n});\n\nexport default BreadcrumbDecorator;\nexport {\n\tBreadcrumbDecorator\n};\n","import Measurable from '@enact/ui/Measurable';\nimport Slottable from '@enact/ui/Slottable';\nimport compose from 'ramda/src/compose';\n\nimport Skinnable from '../Skinnable/Skinnable';\n\nimport {PanelsArranger} from './Arrangers';\nimport BreadcrumbDecorator from './BreadcrumbDecorator';\nimport {PanelsBase} from './Panels';\n\nconst BreadcrumbPanelsDecorator = compose(\n\tSlottable({slots: ['controls']}),\n\tMeasurable({refProp: 'controlsRef', measurementProp: 'controlsMeasurements'}),\n\tSkinnable,\n\tBreadcrumbDecorator({\n\t\tclassName: 'panels breadcrumbPanels enact-fit',\n\t\tmax: 1,\n\t\tpanelArranger: PanelsArranger\n\t})\n);\n\n/**\n * An instance of Panels in which the Panel uses the entire viewable screen with a single breadcrumb\n * for the previous panel when viewing any panel beyond the first.\n *\n * **Note** BreadcrumbPanels requires that the `data-index` property that all panels variations add to\n * its children be applied to the root DOM node of each child in order to manage layout correctly.\n * It is recommended that you spread any extra props on the root node but you may also handle this\n * property explicitly if necessary.\n *\n * @class BreadcrumbPanels\n * @memberof agate/Panels\n * @ui\n * @public\n */\nconst BreadcrumbPanels = BreadcrumbPanelsDecorator(PanelsBase);\nBreadcrumbPanels.displayName = 'BreadcrumbPanels';\n\nexport default BreadcrumbPanels;\nexport {\n\tBreadcrumbPanels\n};\n","import {forward, handle} from '@enact/core/handle';\nimport kind from '@enact/core/kind';\nimport Slottable from '@enact/ui/Slottable';\nimport Spotlight from '@enact/spotlight';\nimport SpotlightContainerDecorator, {spotlightDefaultClass} from '@enact/spotlight/SpotlightContainerDecorator';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './Panel.module.less';\n\nlet panelId = 0;\n\n/**\n * A Panel is the standard view container used inside a [Panels]{@link agate/Panels.Panels} view\n * manager instance. [Panels]{@link agate/Panels.Panels} will typically contain several\n * instances of these and transition between them.\n *\n * @class Panel\n * @memberof agate/Panels\n * @ui\n * @public\n */\nconst PanelBase = kind({\n\n\tname: 'Panel',\n\n\tpropTypes: /** @lends agate/Panels.Panel.prototype */ {\n\t\t/**\n\t\t * By default, the panel will be labeled by its [Header]{@link agate/Header.Header}.\n\t\t * When `aria-label` is set, it will be used instead to provide an accessibility label for\n\t\t * the panel.\n\t\t *\n\t\t * @memberof agate/Panels.Panel.prototype\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\t'aria-label': PropTypes.string,\n\n\t\t/**\n\t\t * Sets the strategy used to automatically focus an element within the panel upon render.\n\t\t *\n\t\t * * \"none\" - Automatic focus is disabled\n\t\t * * \"last-focused\" - The element last focused in the panel with be restored\n\t\t * * \"default-element\" - The first spottable component within the body will be focused\n\t\t * * Custom Selector - A custom CSS selector may also be provided which will be used to find\n\t\t *   the target within the Panel\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'last-focused'\n\t\t * @public\n\t\t */\n\t\tautoFocus: PropTypes.string,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `panel` - The root class name\n\t\t * * `body` - Applied to the <section> element that displays the `children` of the `Panel`\n\t\t * * `header` - Applied to the header element\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Header for the panel.\n\t\t *\n\t\t * This is usually passed by the [Slottable]{@link ui/Slottable.Slottable} API by using a\n\t\t * [Header]{@link agate/Header.Header} component as a child of the Panel.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\theader: PropTypes.node,\n\n\t\t/**\n\t\t * Hides the body components.\n\t\t *\n\t\t * When a Panel is used within [`Panels`]{@link agate/Panels.Panels},\n\t\t * [`BreadcrumbPanels`]{@link agate/Panels.BreadcrumbPanels}, or\n\t\t * [`TabbedPanels`]{@link agate/Panels.TabbedPanels},\n\t\t * this property will be set automatically to `true` on render and `false` after animating\n\t\t * into view.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\thideChildren: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tautoFocus: 'last-focused',\n\t\thideChildren: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'panel',\n\t\tpublicClassNames: true\n\t},\n\n\thandlers: {\n\t\tonScroll: handle(\n\t\t\tforward('onScroll'),\n\t\t\t({currentTarget}) => {\n\t\t\t\tcurrentTarget.scrollTop = 0;\n\t\t\t\tcurrentTarget.scrollLeft = 0;\n\t\t\t}\n\t\t),\n\t\tspotOnRender: (node, {autoFocus}) => {\n\t\t\tif (node && !Spotlight.getCurrent()) {\n\t\t\t\tconst {spotlightId} = node.dataset;\n\t\t\t\tconst config = {\n\t\t\t\t\tenterTo: 'last-focused'\n\t\t\t\t};\n\n\t\t\t\tif (autoFocus !== 'last-focused') {\n\t\t\t\t\tconfig.enterTo = 'default-element';\n\n\t\t\t\t\tif (autoFocus !== 'default-element') {\n\t\t\t\t\t\tconfig.defaultElement = autoFocus;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tSpotlight.set(spotlightId, config);\n\t\t\t\tSpotlight.focus(spotlightId);\n\t\t\t}\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tspotOnRender: ({autoFocus, hideChildren, spotOnRender}) => {\n\t\t\t// In order to spot the body components, we defer spotting until !hideChildren. If the\n\t\t\t// Panel opts out of hideChildren support by explicitly setting it to false, it'll spot\n\t\t\t// on first render.\n\t\t\tif (hideChildren || autoFocus === 'none') {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn spotOnRender;\n\t\t},\n\t\tchildren: ({children, hideChildren}) => hideChildren ? null : children,\n\t\tbodyClassName: ({header, hideChildren, styler}) => styler.join({\n\t\t\tbody: true,\n\t\t\tnoHeader: !header,\n\t\t\tvisible: !hideChildren\n\t\t}),\n\t\t// nulling headerId prevents the aria-labelledby relationship which is necessary to allow\n\t\t// aria-label to take precedence\n\t\t// (see https://www.w3.org/TR/wai-aria/states_and_properties#aria-labelledby)\n\t\theaderId: ({'aria-label': label}) => label ? null : `panel_${++panelId}_header`\n\t},\n\n\trender: ({bodyClassName, css, children, header, headerId, spotOnRender, ...rest}) => {\n\t\tdelete rest.autoFocus;\n\t\tdelete rest.hideChildren;\n\n\t\treturn (\n\t\t\t<article role=\"region\" {...rest} aria-labelledby={headerId} ref={spotOnRender}>\n\t\t\t\t{header ? <div className={css.header} id={headerId}>{header}</div> : null}\n\t\t\t\t<section className={bodyClassName}>{children}</section>\n\t\t\t</article>\n\t\t);\n\t}\n});\n\nconst Panel = SpotlightContainerDecorator(\n\t{\n\t\t// prefer any spottable within the panel body for first render\n\t\tcontinue5WayHold: true,\n\t\tdefaultElement: [`.${spotlightDefaultClass}`, `.${componentCss.body} *`],\n\t\tenterTo: 'last-focused',\n\t\tpreserveId: true\n\t},\n\tSlottable(\n\t\t{slots: ['header']},\n\t\tSkinnable(\n\t\t\tPanelBase\n\t\t)\n\t)\n);\n\nexport default Panel;\nexport {\n\tPanel,\n\tPanelBase\n};\n","/**\n * Panels provides a way to manage different screens of an app.\n *\n * @module agate/Panels\n * @exports BreadcrumbPanels\n * @exports Breadcrumb\n * @exports Panel\n * @exports Panels\n * @exports PanelsBase\n * @exports TabbedPanels\n */\n\nimport Breadcrumb from './Breadcrumb';\nimport BreadcrumbPanels from './BreadcrumbPanels';\nimport Panel from './Panel';\nimport {Panels, PanelsBase} from './Panels';\nimport TabbedPanels from './TabbedPanels';\n\nexport default Panels;\nexport {\n\tBreadcrumbPanels,\n\tBreadcrumb,\n\tPanel,\n\tPanels,\n\tPanelsBase,\n\tTabbedPanels\n};\n","/**\n * Unstyled image item components and behaviors to be customized by a theme or application.\n *\n * @module ui/ImageItem\n * @exports ImageItem\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ComponentOverride from '../ComponentOverride';\nimport Image from '../Image';\nimport {Cell, Column, Row} from '../Layout';\n\nimport componentCss from './ImageItem.module.less';\n\n// Adapts ComponentOverride to work within Cell since both use the component prop\nfunction ImageOverride ({imageComponent, ...rest}) {\n\treturn ComponentOverride({\n\t\tcomponent: imageComponent,\n\t\t...rest\n\t});\n}\n\n/**\n * A basic image item without any behavior.\n *\n * @class ImageItem\n * @memberof ui/ImageItem\n * @ui\n * @public\n */\nconst ImageItemBase = kind({\n\tname: 'ui:ImageItem',\n\n\tpropTypes: /** @lends ui/ImageItem.ImageItem.prototype */ {\n\t\t/**\n\t\t * The caption displayed with the image.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `imageItem` - The root component class\n\t\t * * `caption` - The caption component class\n\t\t * * `horizontal` - Applied when `orientation=\"horizontal\"\n\t\t * * `image` - The image component class\n\t\t * * `selected` - Applied when `selected` prop is `true`\n\t\t * * `vertical` - Applied when `orientation=\"vertical\"\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The component used to render the image component.\n\t\t *\n\t\t * @type {Component|Element}\n\t\t * @public\n\t\t */\n\t\timageComponent: EnactPropTypes.componentOverride,\n\n\t\t/**\n\t\t * The layout orientation of the component.\n\t\t *\n\t\t * @type {('horizontal'|'vertical')}\n\t\t * @default 'vertical'\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t/**\n\t\t * A placeholder image to be displayed before the image is loaded.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tplaceholder: PropTypes.string,\n\n\t\t/**\n\t\t * Applies a selected visual effect to the image.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool,\n\n\t\t/**\n\t\t * String value or Object of values used to determine which image will appear on a specific\n\t\t * screenSize.\n\t\t *\n\t\t * @type {String|Object}\n\t\t * @public\n\t\t */\n\t\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n\t},\n\n\tdefaultProps: {\n\t\timageComponent: Image,\n\t\torientation: 'vertical',\n\t\tselected: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'imageItem',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({orientation, selected, styler}) => styler.append({\n\t\t\tselected,\n\t\t\thorizontal: orientation === 'horizontal',\n\t\t\tvertical: orientation === 'vertical'\n\t\t})\n\t},\n\n\trender: ({children, css, imageComponent, orientation, placeholder, src, ...rest}) => {\n\t\tdelete rest.selected;\n\n\t\tconst isHorizontal = orientation === 'horizontal';\n\t\tconst Component = isHorizontal ? Row : Column;\n\n\t\treturn (\n\t\t\t<Component {...rest}>\n\t\t\t\t<Cell\n\t\t\t\t\tclassName={css.image}\n\t\t\t\t\tcomponent={ImageOverride}\n\t\t\t\t\timageComponent={imageComponent}\n\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\tshrink={isHorizontal}\n\t\t\t\t\tsrc={src}\n\t\t\t\t/>\n\t\t\t\t{children ? (\n\t\t\t\t\t<Cell\n\t\t\t\t\t\tclassName={css.caption}\n\t\t\t\t\t\tshrink={!isHorizontal}\n\t\t\t\t\t\t// eslint-disable-next-line no-undefined\n\t\t\t\t\t\talign={isHorizontal ? 'center' : undefined}\n\t\t\t\t\t>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</Cell>\n\t\t\t\t) : null}\n\t\t\t</Component>\n\t\t);\n\t}\n});\n\nexport default ImageItemBase;\nexport {\n\tImageItemBase as ImageItem,\n\tImageItemBase\n};\n","/**\n * Agate styled ImageItem.\n *\n * @module agate/ImageItem\n * @exports ImageItem\n * @exports ImageItemBase\n * @exports ImageItemDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport {ImageItem as UiImageItem} from '@enact/ui/ImageItem';\nimport {MarqueeDecorator, MarqueeController} from '@enact/ui/Marquee';\nimport Spottable from '@enact/spotlight/Spottable';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport ImageBase from '../Image';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './ImageItem.module.less';\n\nconst MarqueeImageItem = MarqueeDecorator(UiImageItem);\n\n/**\n * An Agate styled ImageItem.\n *\n * @class ImageItemBase\n * @memberof agate/ImageItem\n * @extends ui/ImageItem.ImageItem\n * @ui\n * @public\n */\nconst ImageItemBase = kind({\n\tname: 'ImageItem',\n\n\tpropTypes: /** @lends agate/ImageItem.ImageItemBase.prototype */ {\n\t\t/**\n\t\t * Sets the position for caption.\n\t\t * Available positions: 'below' (default) and 'overlay'.\n\t\t *\n\t\t * @type {('below'|'overlay')}\n\t\t * @default 'below'\n\t\t * @public\n\t\t */\n\t\tcaptionPosition: PropTypes.oneOf(['below', 'overlay']),\n\n\t\t/**\n\t\t * The caption displayed with the image.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `imageItem` - The root component class\n\t\t * * `caption` - The caption component class\n\t\t * * `horizontal` - Applied when `orientation=\"horizontal\"`\n\t\t * * `image` - The image component class\n\t\t * * `vertical` - Applied when `orientation=\"vertical\"`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The layout orientation of the component.\n\t\t *\n\t\t * @type {('horizontal'|'vertical')}\n\t\t * @default 'vertical'\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t/**\n\t\t * String value or Object of values used to determine which image will appear on a specific\n\t\t * screenSize.\n\t\t *\n\t\t * @type {String|Object}\n\t\t * @public\n\t\t */\n\t\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n\t},\n\n\tdefaultProps: {\n\t\torientation: 'vertical',\n\t\tcaptionPosition: 'below'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'imageItem'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({captionPosition, styler}) => styler.append({\n\t\t\tcaptionOverlay: captionPosition === 'overlay'\n\t\t})\n\t},\n\n\trender: ({captionPosition, children, css,  src, ...rest}) => {\n\t\tconst [Component, marqueeProps] = (children && (captionPosition === 'below')) ? [MarqueeImageItem, {\n\t\t\talignment: 'center'\n\t\t}] : [UiImageItem, null];\n\n\t\treturn (\n\t\t\t<Component\n\t\t\t\t{...rest}\n\t\t\t\t{...marqueeProps}\n\t\t\t\tcss={css}\n\t\t\t\timageComponent={ImageBase}\n\t\t\t\tsrc={src}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</Component>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [ImageItemBase]{@link agate/ImageItem.ImageItemBase}\n *\n * @hoc\n * @memberof agate/ImageItem\n * @mixes ui/Marquee.MarqueeController\n * @mixes agate/Skinnable.Skinnable\n * @mixes spotlight/Spottable.Spottable\n * @public\n */\nconst ImageItemDecorator = compose(\n\tMarqueeController({marqueeOnFocus: true}),\n\tSkinnable,\n\tSpottable\n);\n\n/**\n * An Agate styled ImageItem with built-in support for marqueed text, and Spotlight focus.\n *\n * @class ImageItem\n * @memberof agate/ImageItem\n * @extends agate/ImageItem.ImageItemBase\n * @mixes agate/ImageItem.ImageItemDecorator\n * @public\n */\nconst ImageItem = ImageItemDecorator(ImageItemBase);\n\nexport default ImageItem;\nexport {\n\tImageItem,\n\tImageItemBase,\n\tImageItemDecorator\n};\n","/**\n * Agate styled Dropdown.\n *\n * @example\n * <Dropdown\n * \t\tdefaultSelected={2}\n *\t\ttitle=\"Dropdown\"\n * >\n *   {['Option 1', 'Option 2', 'Option 3', 'Option 4']}\n * </Dropdown>\n *\n * @module agate/Dropdown\n * @exports Dropdown\n * @exports DropdownBase\n * @exports DropdownDecorator\n */\n\nimport {handle, forward, forProp} from '@enact/core/handle';\nimport kind from '@enact/core/kind';\nimport SpotlightContainerDecorator from '@enact/spotlight/SpotlightContainerDecorator';\nimport Changeable from '@enact/ui/Changeable';\nimport Group from '@enact/ui/Group';\nimport Toggleable from '@enact/ui/Toggleable';\nimport Transition from '@enact/ui/Transition';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport Button from '../Button';\nimport Icon from '../Icon';\nimport Item from '../Item';\nimport RadioItem from '../RadioItem';\nimport Scroller from '../Scroller';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './Dropdown.module.less';\n\nconst ContainerDiv = SpotlightContainerDecorator({enterTo: 'last-focused'}, 'div');\nconst isSelectedValid = ({children, selected}) => Array.isArray(children) && children[selected] != null;\n\n/**\n * A stateless Dropdown component.\n *\n * @class DropdownBase\n * @memberof agate/Dropdown\n * @ui\n * @public\n */\nconst DropdownBase = kind({\n\tname: 'Dropdown',\n\n\tpropTypes: /** @lends agate/Dropdown.DropdownBase.prototype */ {\n\t\t/**\n\t\t * The selections for Dropdown\n\t\t *\n\t\t * @type {String[]|Array.<{key: (Number|String), children: (String|Component)}>}\n\t\t */\n\t\tchildren: PropTypes.array,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * @type {Object}\n\t\t * @private\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The direction where the dropdown list appears.\n\t\t *\n\t\t * @type {('left'|'right'|'down'|'up')}\n\t\t * @default 'down'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['down', 'left', 'right', 'up']),\n\n\t\t/**\n\t\t * Disables Dropdown and becomes non-interactive.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when the Dropdown is closing.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonClose: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the Dropdown is opening.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonOpen: PropTypes.func,\n\n\t\t/**\n\t\t * Called when an item is selected.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonSelect: PropTypes.func,\n\n\t\t/**\n\t\t * Displays the items.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\topen: PropTypes.bool,\n\n\t\t/**\n\t\t * Index of the selected item.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.number,\n\n\t\t/**\n\t\t * The current skin for this component.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tskin: PropTypes.string,\n\n\t\t/**\n\t\t * The primary title text of Dropdown.\n\t\t *\n\t\t * The title will be replaced with the selected item, if set.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\ttitle: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tdirection: 'down',\n\t\topen: false\n\t},\n\n\thandlers: {\n\t\tonSelect: handle(\n\t\t\tforward('onSelect'),\n\t\t\tforward('onClose')\n\t\t),\n\t\tonOpen: handle(\n\t\t\tforProp('open', false),\n\t\t\tforward('onOpen')\n\t\t)\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'dropdown',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tbuttonClassName: ({open, styler}) => styler.append({open}),\n\t\ttransitionContainerClassname: ({css, open, direction, styler}) => styler.join(css.transitionContainer, {openTransitionContainer: open, upTransitionContainer: direction === 'up'} ),\n\t\tdropdownButtonClassname: ({css, direction, styler}) => styler.join(css.dropdownButton, {upDropdownButton: direction === 'up'} ),\n\t\tdropdownListClassname: ({children, css, styler}) => styler.join(css.dropdownList, {dropdownListWithScroller: children.length > 4}),\n\t\ttitle: ({children, selected, title}) => {\n\t\t\tif (isSelectedValid({children, selected})) {\n\t\t\t\tconst child = children[selected];\n\t\t\t\treturn typeof child === 'object' ? child.children : child;\n\t\t\t}\n\n\t\t\treturn title;\n\t\t},\n\t\ttransitionDirection: ({direction}) => {\n\t\t\tswitch (direction) {\n\t\t\t\tcase 'left':\n\t\t\t\t\treturn 'right';\n\t\t\t\tcase 'right':\n\t\t\t\t\treturn 'left';\n\t\t\t\tcase 'up':\n\t\t\t\t\treturn 'down';\n\t\t\t\tcase 'down':\n\t\t\t\tdefault:\n\t\t\t\t\treturn 'up';\n\t\t\t}\n\t\t},\n\t\thasChildren: ({children}) => {\n\t\t\treturn children.length > 0;\n\t\t}\n\t},\n\n\trender: ({buttonClassName, children, css, dropdownButtonClassname, dropdownListClassname, disabled, hasChildren, onClose, onOpen, onSelect, open, selected, skin, transitionContainerClassname, transitionDirection, title, ...rest}) => {\n\t\tconst opened = !disabled && open;\n\t\tconst [DropDownButton, wrapperProps, skinVariants, groupProps] = (skin === 'silicon') ? [\n\t\t\tButton,\n\t\t\t{className: dropdownButtonClassname},\n\t\t\t{'night': false},\n\t\t\t{childComponent: RadioItem, itemProps: {size: 'small', className: css.dropDownListItem, css}, selectedProp: 'selected'}\n\t\t] : [\n\t\t\tItem,\n\t\t\t{},\n\t\t\t{},\n\t\t\t{childComponent: Item, itemProps: {size: 'small'}}\n\t\t];\n\n\t\treturn (\n\t\t\t<div {...rest} >\n\t\t\t\t<div {...wrapperProps}>\n\t\t\t\t\t<DropDownButton\n\t\t\t\t\t\tclassName={buttonClassName}\n\t\t\t\t\t\tcss={css}\n\t\t\t\t\t\tdisabled={hasChildren ? disabled : true}\n\t\t\t\t\t\tonClick={opened ? onClose : onOpen}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon slot=\"slotAfter\" className={css.icon} size=\"small\">{open ? 'arrowlargeup' : 'arrowlargedown'}</Icon>\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</DropDownButton>\n\t\t\t\t\t<Transition\n\t\t\t\t\t\tclassName={transitionContainerClassname}\n\t\t\t\t\t\tvisible={opened}\n\t\t\t\t\t\tdirection={transitionDirection}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ContainerDiv className={dropdownListClassname} spotlightDisabled={!open} spotlightRestrict=\"self-only\">\n\t\t\t\t\t\t\t<Scroller skinVariants={skinVariants} className={css.scroller}>\n\t\t\t\t\t\t\t\t<Group\n\t\t\t\t\t\t\t\t\tclassName={css.group}\n\t\t\t\t\t\t\t\t\tonSelect={onSelect}\n\t\t\t\t\t\t\t\t\tselected={selected}\n\t\t\t\t\t\t\t\t\t{...groupProps}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{children || []}\n\t\t\t\t\t\t\t\t</Group>\n\t\t\t\t\t\t\t</Scroller>\n\t\t\t\t\t\t</ContainerDiv>\n\t\t\t\t\t</Transition>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [DropdownBase]{@link agate/Dropdown.DropdownBase}.\n *\n * @hoc\n * @memberof agate/Dropdown\n * @mixes agate/Dropdown.DropdownDecorator\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst DropdownDecorator = compose(\n\tToggleable({toggle: null, prop: 'open', activate: 'onOpen', deactivate: 'onClose'}),\n\tChangeable({change: 'onSelect', prop: 'selected'}),\n\tSkinnable({prop: 'skin'})\n);\n\n/**\n * An Agate Dropdown component.\n *\n * By default, `Dropdown` maintains the state of its `selected` property. Supply the\n * `defaultSelected` property to control its initial value. If you wish to directly control updates\n * to the component, supply a value to `selected` at creation time and update it in response to\n * `onSelect` events.\n *\n * @class Dropdown\n * @memberof agate/Dropdown\n * @extends agate/Dropdown.DropdownBase\n * @mixes agate/Dropdown.DropdownDecorator\n * @ui\n * @public\n */\nconst Dropdown = DropdownDecorator(DropdownBase);\n\nexport default Dropdown;\nexport {\n\tDropdown,\n\tDropdownBase,\n\tDropdownDecorator\n};\n","var map = {\n\t\"./BodyText.js\": 1964,\n\t\"./Button.js\": 1966,\n\t\"./Checkbox.js\": 1967,\n\t\"./CheckboxItem.js\": 1968,\n\t\"./ColorPicker.js\": 1969,\n\t\"./ContextualPopupDecorator.js\": 1983,\n\t\"./DateTimePicker.js\": 1984,\n\t\"./Drawer.js\": 1985,\n\t\"./Dropdown.js\": 1988,\n\t\"./Header.js\": 1989,\n\t\"./Heading.js\": 1990,\n\t\"./Icon.js\": 1991,\n\t\"./ImageItem.js\": 1992,\n\t\"./ImageItemKitchenSink.js\": 1993,\n\t\"./IncrementSlider.js\": 1994,\n\t\"./Input.js\": 2002,\n\t\"./Item.js\": 2003,\n\t\"./ItemKitchenSink.js\": 2004,\n\t\"./LabeledIcon.js\": 2005,\n\t\"./LabeledIconButton.js\": 2006,\n\t\"./Picker.js\": 2007,\n\t\"./Popup.js\": 2008,\n\t\"./PopupMenu.js\": 2009,\n\t\"./ProgressBar.js\": 2010,\n\t\"./RadioItem.js\": 2011,\n\t\"./RangePicker.js\": 2012,\n\t\"./Scroller.js\": 2013,\n\t\"./Slider.js\": 2014,\n\t\"./SliderButton.js\": 2015,\n\t\"./Spinner.js\": 2016,\n\t\"./SwitchItem.js\": 2017,\n\t\"./TabbedPanels.js\": 2018,\n\t\"./Thumbnail.js\": 2019,\n\t\"./ThumbnailItem.js\": 2020,\n\t\"./ToggleButton.js\": 2021,\n\t\"./TooltipDecorator.js\": 2022,\n\t\"./VirtualList.js\": 2023,\n\t\"./icons.js\": 83\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1963;","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport UiBodyText from '@enact/ui/BodyText';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport BodyText, {BodyTextBase} from '@enact/agate/BodyText';\n\nBodyText.displayName = 'BodyText';\nconst Config = mergeComponentMetadata('BodyText', UiBodyText, BodyText, BodyTextBase);\n\nconst prop = {\n\tsizes: ['', 'large', 'small']\n};\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'BodyText',\n\t\t() => (\n\t\t\t<BodyText\n\t\t\t\tcentered={boolean('centered', Config)}\n\t\t\t\tnoWrap={boolean('noWrap', Config)}\n\t\t\t\tsize={select('size', prop.sizes, Config)}\n\t\t\t>\n\t\t\t\t{text('children', BodyText, 'This is a body text')}\n\t\t\t</BodyText>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic Body Text'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, text, number} from '@enact/storybook-utils/addons/knobs';\nimport UiButton from '@enact/ui/Button';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Button, {ButtonBase} from '@enact/agate/Button';\n\nimport icons from './icons';\n\nButton.displayName = 'Button';\nconst Config = mergeComponentMetadata('Button', UiButton, ButtonBase, Button);\n\n// Set up some defaults for info and knobs\nconst prop = {\n\tcasing: ['preserve', 'sentence', 'word', 'upper'],\n\tcolors: ['', '#E6444B', '#FDC902', '#986AAD', '#4E75E1', '#30CC83', '#44C8D5', '#47439B', '#2D32A6', '#4E75E1'],\n\ticons: ['', ...icons],\n\tjoinedPosition: ['', 'left', 'center', 'right']\n};\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Button',\n\t\t() => (\n\t\t\t<Button\n\t\t\t\tanimateOnRender={boolean('animateOnRender', Config)}\n\t\t\t\tanimationDelay={number('animationDelay', Config)}\n\t\t\t\tbackgroundOpacity={select('backgroundOpacity', ['opaque', 'lightOpaque', 'transparent'], Config)}\n\t\t\t\tbadge={text('badge', Config)}\n\t\t\t\tbadgeColor={select('badgeColor', prop.colors, Config)}\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\thighlighted={boolean('highlighted', Config)}\n\t\t\t\ticon={select('icon', prop.icons, Config)}\n\t\t\t\tjoinedPosition={select('joinedPosition', prop.joinedPosition, Config)}\n\t\t\t\tonClick={action('onClick')}\n\t\t\t\tselected={boolean('selected', Config)}\n\t\t\t\tsize={select('size', ['smallest', 'small', 'large', 'huge'], Config)}\n\t\t\t\ttype={select('type', ['standard', 'grid'], Config)}\n\t\t\t>\n\t\t\t\t{text('children', Button, 'Click me')}\n\t\t\t</Button>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic Button'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Checkbox from '@enact/agate/Checkbox';\n\nCheckbox.displayName = 'Checkbox';\nconst Config = mergeComponentMetadata('Checkbox', Checkbox);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Checkbox',\n\t\t() => (\n\t\t\t<Checkbox\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\tlabel={text('label', Config, '')}\n\t\t\t\tonToggle={action('onToggle')}\n\t\t\t/>\n\t\t),\n\t\t{\n\t\t\tinfo: {\n\t\t\t\ttext: 'Basic usage of Checkbox'\n\t\t\t}\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport CheckboxItem from '@enact/agate/CheckboxItem';\n\nCheckboxItem.displayName = 'CheckboxItem';\nconst Config = mergeComponentMetadata('CheckboxItem', CheckboxItem);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'CheckboxItem',\n\t\t() => (\n\t\t\t<CheckboxItem\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\tinline={boolean('inline', Config)}\n\t\t\t\tlabel={text('label', Config, '')}\n\t\t\t\tlabelPosition={select('labelPosition', ['', 'above', 'after', 'before', 'below'], Config, '')}\n\t\t\t\tonToggle={action('onToggle')}\n\t\t\t>\n\t\t\t\t{text('children', Config, 'Hello CheckboxItem')}\n\t\t\t</CheckboxItem>\n\t\t),\n\t\t{\n\t\t\tinfo: {\n\t\t\t\ttext: 'Basic usage of CheckboxItem'\n\t\t\t}\n\t\t}\n\t);\n","import {action} from '@enact/storybook-utils/addons/actions';\nimport {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {select} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport ColorPicker, {ColorPickerBase} from '@enact/agate/ColorPicker';\n\nColorPicker.displayName = 'ColorPicker';\nconst Config = mergeComponentMetadata('ColorPicker', ColorPicker, ColorPickerBase);\n\nconst prop = {\n\tdirection: ['up', 'right', 'down', 'left'],\n\tpresets: {\n\t\t'Default': ['green', 'yellow', 'orange', 'red', 'black', 'gray', 'white', '#cc5500', 'maroon', 'brown'],\n\t\t'Duck Tales': ['lavender', 'red', 'blue', 'green']\n\t}\n};\n\nconst StoryOptions = {\n\tgroupId: 'Story Options'\n};\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'ColorPicker',\n\t\t() => {\n\t\t\tconst direction = select('direction', prop.direction, Config, 'right'); // moved out of component to force order of knobs in the story\n\t\t\tconst colors = prop.presets[\n\t\t\t\tselect('color palette', Object.keys(prop.presets), StoryOptions, 'Default')\n\t\t\t];\n\t\t\treturn (\n\t\t\t\t<ColorPicker\n\t\t\t\t\tdirection={direction}\n\t\t\t\t\tonChange={action('onChange')}\n\t\t\t\t\tdefaultValue={colors[0]}\n\t\t\t\t>\n\t\t\t\t\t{colors}\n\t\t\t\t</ColorPicker>\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\ttext: 'The basic ColorPicker'\n\t\t}\n\t);\n","import {ContextualPopupDecorator} from '@enact/agate/ContextualPopupDecorator';\nimport BodyText from '@enact/agate/BodyText';\nimport Button from '@enact/agate/Button';\nimport ri from '@enact/ui/resolution';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\n\nconst ContextualButton = ContextualPopupDecorator(Button);\nContextualButton.displayName = 'ContextualButton';\n\nconst Config = mergeComponentMetadata('ContextualPopupDecorator', Button, ContextualButton);\n\n// NOTE: Something about the HOC is inhibiting accessing its defaultProps, so we're adding them here\n// manually. This can (should) be revisited later to find out why and a solution.\nConfig.defaultProps = {\n\tdirection: 'below center',\n\topen: false,\n\tspotlightRestrict: 'self-first'\n};\n\nconst renderPopup = () => (\n\t<div>{text('popup string', {groupId: 'Popup'}, 'Hello Contextual Popup')}</div>\n);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'ContextualPopupDecorator',\n\t\t() => (\n\t\t\t<div style={{textAlign: 'center', marginTop: ri.scaleToRem(99)}}>\n\t\t\t\t<ContextualButton\n\t\t\t\t\tdirection={select('direction', ['above', 'above center', 'above left', 'above right', 'below', 'below center', 'below left', 'below right', 'left middle', 'left top', 'left bottom', 'right middle', 'right top', 'right bottom'], Config)}\n\t\t\t\t\tnoAutoDismiss={boolean('noAutoDismiss', Config)}\n\t\t\t\t\tonClose={action('onClose')}\n\t\t\t\t\topen={boolean('open', Config)}\n\t\t\t\t\tpopupComponent={renderPopup}\n\t\t\t\t\tshowCloseButton={boolean('showCloseButton', Config)}\n\t\t\t\t\tspotlightRestrict={select('spotlightRestrict', ['none', 'self-first', 'self-only'], Config)}\n\t\t\t\t>\n\t\t\t\t\t{text('button string', Config, 'Hello Contextual Button')}\n\t\t\t\t</ContextualButton>\n\t\t\t\t<BodyText centered>Use KNOBS to interact with the ContextualPopup.</BodyText>\n\t\t\t</div>\n\t\t),\n\t\t{\n\t\t\tinfo: {\n\t\t\t\ttext: 'Basic usage of ContextualPopupDecorator'\n\t\t\t}\n\t\t}\n\t);\n","import {mergeComponentMetadata, removeProps} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport DateTimePicker from '@enact/agate/DateTimePicker';\n\nconst Config = mergeComponentMetadata('DateTimePicker', DateTimePicker);\nremoveProps(Config, 'year defaultOpen day maxDays maxMonths month onChangeDate onChangeMonth onChangeYear order');\n\nDateTimePicker.displayName = 'DateTimePicker';\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'DateTimePicker',\n\t\t() => (\n\t\t\t<DateTimePicker\n\t\t\t\tonChange={action('onChange')}\n\t\t\t/>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic DateTimePicker'\n\t\t}\n\t);\n","import {action} from '@enact/storybook-utils/addons/actions';\nimport BodyText from '@enact/ui/BodyText';\nimport {boolean, number, select, text} from '@enact/storybook-utils/addons/knobs';\nimport convert from 'color-convert';\nimport {mergeComponentMetadata} from '@enact/storybook-utils';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Drawer, {DrawerBase} from '@enact/agate/Drawer';\nimport Heading, {HeadingBase} from '@enact/agate/Heading';\n\nimport css from './Drawer.module.less';\n\nDrawer.displayName = 'Drawer';\nconst Config = mergeComponentMetadata('Drawer', Drawer, DrawerBase);\nconst HeadingConfig = mergeComponentMetadata('Heading', Heading, HeadingBase);\n\nconst StoryOptions = {\n\tgroupId: 'Story Options'\n};\n\nconst headingValues = {\n\tcolors: ['', '#E6444B', '#FDC902', '#986AAD', '#4E75E1', '#30CC83', '#44C8D5', '#47439B', '#2D32A6', '#4E75E1'],\n\tsizes: ['', 'title', 'subtitle', 'large', 'medium', 'small', 'tiny'],\n\tspacings: ['', 'auto', 'title', 'large', 'medium', 'small', 'none']\n};\n\nconst {colors: drawerColors} = headingValues;\n\nconst opacityRange = {\n\trange: true,\n\tmin: 0,\n\tmax: 1,\n\tstep: 0.1\n};\n\nconst convertToRGBa = (hex, opacity) => `rgba(${convert.hex.rgb(hex)},${opacity})`;\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Drawer',\n\t\t() => {\n\t\t\tconst noDrawerAnimation = boolean('noAnimation', Config); // moved out of component to force order of knobs in the story\n\t\t\tconst drawerBackgroundColor = select('Drawer background color', drawerColors, StoryOptions);\n\t\t\tconst drawerBackgroundOpacity = number('Drawer background opacity', StoryOptions, opacityRange, 0.85);\n\t\t\tconst drawerStyle = {};\n\n\t\t\tif (drawerBackgroundColor && drawerBackgroundOpacity) {\n\t\t\t\tdrawerStyle.background = convertToRGBa(drawerBackgroundColor, drawerBackgroundOpacity);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<BodyText>\n\t\t\t\t\tUse the <em>open</em> knob to show or hide the Drawer.<br />\n\t\t\t\t\t<br />\n\t\t\t\t\t<span className={css.galliumNote}>\n\t\t\t\t\t\tThe styling in the Gallium skin does not set a background color for the Drawer,\n\t\t\t\t\t\ttherefore it will inherit the value that &lt;body&gt; has.  In some cases it\n\t\t\t\t\t\tmay be difficult to see the contents clearly.<br />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tYou can override the background color for the Drawer in the Story Options or\n\t\t\t\t\t\tchoose a different skin (or night mode🌛) from the Global Knobs to see!\n\t\t\t\t\t</span>\n\t\t\t\t\t<Drawer\n\t\t\t\t\t\tnoAnimation={noDrawerAnimation}\n\t\t\t\t\t\tonHide={action('onHide')}\n\t\t\t\t\t\topen={boolean('open', Config)}\n\t\t\t\t\t\tstyle={drawerStyle}\n\t\t\t\t\t>\n\t\t\t\t\t\t<header>\n\t\t\t\t\t\t\t<Heading\n\t\t\t\t\t\t\t\tcolor={select('color', headingValues.colors, HeadingConfig, '')}\n\t\t\t\t\t\t\t\tshowLine={boolean('showLine', HeadingConfig)}\n\t\t\t\t\t\t\t\tsize={select('size', headingValues.sizes, HeadingConfig, '')}\n\t\t\t\t\t\t\t\tspacing={select('spacing', headingValues.spacings, HeadingConfig, '')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{text('header', Config, '[insert witty header text]')}\n\t\t\t\t\t\t\t</Heading>\n\t\t\t\t\t\t</header>\n\t\t\t\t\t\t<BodyText>\n\t\t\t\t\t\t\tThis Drawer is using a <a href=\"./?path=/story/agate--heading\">Heading</a> component\n\t\t\t\t\t\t\tin the <em>header</em> slot and plain text for the <em>footer</em> slot.<br />\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\tThe Heading props can be adjusted in Story Options.\n\t\t\t\t\t\t</BodyText>\n\t\t\t\t\t\t<footer>\n\t\t\t\t\t\t\t{text('footer', Config, '')}\n\t\t\t\t\t\t</footer>\n\t\t\t\t\t</Drawer>\n\t\t\t\t</BodyText>\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\ttext: 'The basic Drawer'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, number, text} from  '@enact/storybook-utils/addons/knobs';\nimport {action} from '@storybook/addon-actions';\nimport {storiesOf} from '@storybook/react';\nimport React from 'react';\n\nimport Dropdown, {DropdownBase} from '@enact/agate/Dropdown';\nimport ri from '@enact/ui/resolution';\n\nconst Config = mergeComponentMetadata('Dropdown', Dropdown, DropdownBase);\nDropdown.displayName = 'Dropdown';\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Dropdown',\n\t\t() => {\n\t\t\tconst itemCount = number('items', Config, {range: true, min: 0, max: 50}, 5);\n\t\t\tconst items = (new Array(itemCount)).fill().map((i, index) => `Option ${index + 1}`);\n\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\t\t\tonSelect={action('onSelect')}\n\t\t\t\t\t\ttitle={text('title', Config, 'Please select')}\n\t\t\t\t\t>\n\t\t\t\t\t\t{items}\n\t\t\t\t\t</Dropdown>\n\t\t\t\t</div>\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\ttext: 'The basic Dropdown'\n\t\t}\n\t);\n\nstoriesOf('Agate QA.Dropdown', module)\n\t.add(\n\t\t'with 4 directions',\n\t\t() => {\n\t\t\tconst itemCount = number('items', Config, {range: true, min: 0, max: 50}, 5);\n\t\t\tconst items = (new Array(itemCount)).fill().map((i, index) => `Option ${index + 1}`);\n\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tdirection=\"left\"\n\t\t\t\t\t\tonSelect={action('onSelect')}\n\t\t\t\t\t\tstyle={{position: 'absolute', top: 0, right: 0, width:'25%'}}\n\t\t\t\t\t\ttitle=\"Left dropdown\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{items}\n\t\t\t\t\t</Dropdown>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tdirection=\"right\"\n\t\t\t\t\t\tonSelect={action('onSelect')}\n\t\t\t\t\t\tstyle={{position: 'absolute', top: 0, left: 0, width:'25%'}}\n\t\t\t\t\t\ttitle=\"Right dropdown\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{items}\n\t\t\t\t\t</Dropdown>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tdirection=\"down\"\n\t\t\t\t\t\tonSelect={action('onSelect')}\n\t\t\t\t\t\tstyle={{position: 'absolute', top: 0, left: '50%', transform: 'translateX(-50%)', width:'25%'}}\n\t\t\t\t\t\ttitle=\"Down dropdown\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{items}\n\t\t\t\t\t</Dropdown>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tdirection=\"up\"\n\t\t\t\t\t\tonSelect={action('onSelect')}\n\t\t\t\t\t\tstyle={{position: 'absolute', top: ri.scaleToRem(440),  width:'25%'}}\n\t\t\t\t\t\ttitle=\"Up dropdown\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{items}\n\t\t\t\t\t</Dropdown>\n\t\t\t\t</>\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\ttext: 'The basic Dropdown'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Button from '@enact/agate/Button';\nimport {Header, HeaderBase} from '@enact/agate/Header';\n\nHeader.displayName = 'Header';\nconst Config = mergeComponentMetadata('Header', HeaderBase, Header);\n\n// Set up some defaults for children knob\nconst prop = {\n\tchildren: {\n\t\t'no buttons': null,\n\t\t'1 button': <Button icon=\"home\" />,\n\t\t'2 buttons': (\n\t\t\t<React.Fragment>\n\t\t\t\t<Button>A Button</Button>\n\t\t\t\t<Button icon=\"home\" />\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n};\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Header',\n\t\t() => {\n\t\t\tconst childrenSelection = select('children', ['no buttons', '1 button', '2 buttons'], Config);\n\t\t\tconst children = prop.children[childrenSelection];\n\n\t\t\tconst story = (\n\t\t\t\t<Header\n\t\t\t\t\thideLine={boolean('hideLine', Config)}\n\t\t\t\t\tsubtitle={text('subtitle', Config, 'Sub Title')}\n\t\t\t\t\ttitle={text('title', Config, 'Main Title')}\n\t\t\t\t\ttitleAbove={text('titleAbove', Config, '')}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</Header>\n\t\t\t);\n\t\t\treturn story;\n\t\t},\n\t\t{\n\t\t\ttext: 'A block to use as a screen\\'s title and description. Supports additional buttons, subtitle and title above.'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport BodyText from '@enact/ui/BodyText';\nimport Heading, {HeadingBase} from '@enact/agate/Heading';\n\nimport css from './Heading.module.less';\n\nHeading.displayName = 'Heading';\nconst Config = mergeComponentMetadata('Heading', Heading, HeadingBase);\n\nconst prop = {\n\tcolors: ['', '#E6444B', '#FDC902', '#986AAD', '#4E75E1', '#30CC83', '#44C8D5', '#47439B', '#2D32A6', '#4E75E1'],\n\tsizes: ['', 'title', 'subtitle', 'large', 'medium', 'small', 'tiny'],\n\tspacings: ['', 'auto', 'title', 'large', 'medium', 'small', 'none']\n};\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Heading',\n\t\t() => {\n\t\t\tconst knobProps = {\n\t\t\t\tcolor: select('color', prop.colors, Config),\n\t\t\t\tshowLine: boolean('showLine', Config),\n\t\t\t\tsize: select('size', prop.sizes, Config),\n\t\t\t\tspacing: select('spacing', prop.spacings, Config)\n\t\t\t};\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<Heading {...knobProps}>\n\t\t\t\t\t\t{text('children', Heading, 'Heading Text')}\n\t\t\t\t\t</Heading>\n\t\t\t\t\t<BodyText\n\t\t\t\t\t\tcentered\n\t\t\t\t\t\tclassName={css.spacingIndicator}\n\t\t\t\t\t>\n\t\t\t\t\t\tThis <a href=\"https://enactjs.com/docs/modules/ui/BodyText/\">BodyText</a> component is rendered immediately after the Heading component and is<br />\n\t\t\t\t\t\tmeant to provide a visual indicator of the effects of changing the <code>spacing</code> prop.\n\t\t\t\t\t\t<span className={css.spacingNote}>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<strong>Note</strong>: The <code>spacing</code> prop will have no effect when using the Gallium skin.\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\tChoose a different skin from the Global Knobs to see!\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{(knobProps.size === 'title' || typeof knobProps.color === 'undefined') ? null : (\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<strong>Note</strong>: The <code>color</code> prop only applies when the <code>size</code> prop is &quot;title&quot;.\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</BodyText>\n\t\t\t\t</>\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\ttext: 'The basic Heading'\n\t\t}\n\t);\n","import {emptify, mergeComponentMetadata} from '@enact/storybook-utils';\nimport {select, text, number} from '@enact/storybook-utils/addons/knobs';\nimport UiIcon from '@enact/ui/Icon';\nimport {iconList, iconListSilicon} from './icons';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Skinnable from '@enact/agate/Skinnable';\nimport Icon, {IconBase} from '@enact/agate/Icon';\nimport Heading from '@enact/agate/Heading';\n\n// import icons\nimport docs from '../../images/icon-enact-docs.png';\nimport factory from '../../images/icon-enact-factory.svg';\nimport logo from '../../images/icon-enact-logo.svg';\n\nIcon.displayName = 'Icon';\nconst Config = mergeComponentMetadata('Icon', UiIcon, IconBase, Icon);\n\nconst SkinnedIcon = Skinnable(\n\t{prop: 'skin'},\n\t({skin, ...rest}) => {\n\t\tlet iconNames;\n\t\tconst flip = select('flip', ['', 'both', 'horizontal', 'vertical'], Config, '');\n\t\tconst size = select('size', ['smallest', 'small', 'large', 'huge'], Config, 'large');\n\t\tconst spriteCount = number('spriteCount', Config, {min: 1}, 1);\n\n\t\tswitch (skin) {\n\t\t\tcase 'silicon':  {\n\t\t\t\ticonNames = iconListSilicon; break;\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\ticonNames = iconList;\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Icon\n\t\t\t\t\t{...rest}\n\t\t\t\t\tflip={flip}\n\t\t\t\t\tsize={size}\n\t\t\t\t\tspriteCount={spriteCount}\n\t\t\t\t>\n\t\t\t\t\t{emptify(select('src', ['', docs, factory, logo], Icon, '')) + emptify(select('icon', ['', ...iconNames], Icon, 'home')) + emptify(text('custom icon', Icon, ''))}\n\t\t\t\t</Icon>\n\t\t\t\t<br />\n\t\t\t\t<br />\n\t\t\t\t<Heading>All Icons</Heading>\n\t\t\t\t{iconNames.map((icon, index) => <Icon key={index} size={size} title={icon}>{icon}</Icon>)}\n\t\t\t</>\n\t\t);\n\t}\n);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Icon',\n\t\t() => (\n\t\t\t<SkinnedIcon />\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of Icon'\n\t\t}\n\t);\n","import ri from '@enact/ui/resolution';\nimport {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {text, select} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport ImageItem, {ImageItemBase} from '@enact/agate/ImageItem';\n\nImageItem.displayName = 'ImageItem';\n\nconst Config = mergeComponentMetadata('ImageItem', ImageItem, ImageItemBase);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'ImageItem',\n\t\t() => (\n\t\t\t<div style={{width: ri.scaleToRem(400), height: ri.scaleToRem(300)}}>\n\t\t\t\t<ImageItem\n\t\t\t\t\tsrc=\"http://placehold.it/300x400/9037ab/ffffff&text=Image0\"\n\t\t\t\t\torientation={select('orientation', ['horizontal', 'vertical'], Config)}\n\t\t\t\t\tcaptionPosition={select('captionPosition', ['below', 'overlay'], Config)}\n\t\t\t\t>\n\t\t\t\t\t{text('children', Config, 'caption')}\n\t\t\t\t</ImageItem>\n\t\t\t</div>\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of ImageItem'\n\t\t}\n\t);\n\nstoriesOf('Agate QA.Image', module)\n\t.add(\n\t\t'without children',\n\t\t() => (\n\t\t\t<div style={{width: ri.scaleToRem(400), height: ri.scaleToRem(300)}}>\n\t\t\t\t<ImageItem\n\t\t\t\t\tsrc=\"http://placehold.it/300x400/9037ab/ffffff&text=Image0\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t);\n","import ri from '@enact/ui/resolution';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Heading from '@enact/agate/Heading';\nimport ImageItem from '@enact/agate/ImageItem';\n\nImageItem.displayName = 'ImageItem';\n\nstoriesOf('Agate QA.ImageItem', module)\n\t.add(\n\t\t'Kitchen Sink',\n\t\t() => (\n\t\t\t<div style={{width: ri.scaleToRem(400), height: ri.scaleToRem(300)}}>\n\t\t\t\t<Heading showline>ImageItem</Heading>\n\t\t\t\t<ImageItem src=\"http://placehold.it/300x400/9037ab/ffffff&text=Image0\" />\n\t\t\t</div>\n\t\t)\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, number} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport IncrementSlider, {IncrementSliderBase} from '@enact/agate/IncrementSlider';\n\nimport {decrementIcons, incrementIcons} from './icons';\n\nIncrementSlider.displayName = 'IncrementSlider';\nconst Config = mergeComponentMetadata('IncrementSlider', IncrementSliderBase, IncrementSlider);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'IncrementSlider',\n\t\t() => (\n\t\t\t<IncrementSlider\n\t\t\t\tactive={boolean('active', Config)}\n\t\t\t\tdecrementIcon={select('decrementIcon', decrementIcons, Config)}\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\tfocused={boolean('focused', Config)}\n\t\t\t\tincrementIcon={select('incrementIcon', incrementIcons, Config)}\n\t\t\t\tknobStep={number('knobStep', Config)}\n\t\t\t\tmax={number('max', Config)}\n\t\t\t\tmin={number('min', Config)}\n\t\t\t\tnoFill={boolean('noFill', Config)}\n\t\t\t\tonActivate={action('onActivate')}\n\t\t\t\tonChange={action('onChange')}\n\t\t\t\tonDragEnd={action('onDragEnd')}\n\t\t\t\tonDragStart={action('onDragStart')}\n\t\t\t\torientation={select('orientation', ['horizontal', 'vertical'], Config)}\n\t\t\t\tprogressAnchor={number('progressAnchor', Config, {range: true, min: 0, max: 1, step: 0.1}, 0)}\n\t\t\t\tsize={select('size', ['small', 'large'], Config)}\n\t\t\t\tstep={number('step', Config)}\n\t\t\t/>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic IncrementSlider'\n\t\t}\n\t);\n","/**\n * Provides Agate-themed item components and behaviors. Useful for content in lists.\n *\n * @example\n * <Item>Hello Enact!</Item>\n *\n * @module agate/Item\n * @exports Item\n * @exports ItemBase\n * @exports ItemDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport Spottable from '@enact/spotlight/Spottable';\nimport ForwardRef from '@enact/ui/ForwardRef';\nimport Slottable from '@enact/ui/Slottable';\nimport {ItemBase as UiItemBase, ItemDecorator as UiItemDecorator} from '@enact/ui/Item';\nimport {Cell, Layout, Row} from '@enact/ui/Layout';\nimport {Marquee, MarqueeController} from '@enact/ui/Marquee';\nimport Pure from '@enact/ui/internal/Pure';\nimport compose from 'ramda/src/compose';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport componentCss from './Item.module.less';\nimport Skinnable from '../Skinnable';\n\nconst ItemContent = kind({\n\tname: 'ItemContent',\n\tpropTypes: {\n\t\tcontent: PropTypes.any,\n\t\tcss: PropTypes.object,\n\t\tlabel: PropTypes.any,\n\t\tlabelPosition: PropTypes.any\n\t},\n\tdefaultProps: {\n\t\tlabelPosition: 'below'\n\t},\n\tstyles: {\n\t\tclassName: 'itemContent',\n\t\tcss: componentCss,\n\t\tpublicClassNames: ['label']\n\t},\n\tcomputed: {\n\t\tclassName: ({label, labelPosition, styler}) => styler.append({\n\t\t\thasLabel: Boolean(label),\n\t\t\tlabelAbove: labelPosition === 'above',\n\t\t\tlabelAfter: labelPosition === 'after',\n\t\t\tlabelBefore: labelPosition === 'before',\n\t\t\tlabelBelow: labelPosition === 'below'\n\t\t}),\n\t\torientation: ({labelPosition}) => {\n\t\t\treturn (labelPosition === 'above' || labelPosition === 'below') ? 'vertical' : 'horizontal';\n\t\t}\n\t},\n\trender: ({orientation, content, css, label, ...rest}) => {\n\t\tdelete rest.labelPosition;\n\n\t\t// Due to flex-box sizing (used in Layout/Cell), in a vertical orientation with no height\n\t\t// specified, all of the cells should be set to `shrink` so their height is summed to define\n\t\t// the height of the entire Layout. Without this, a cell will collapse, causing unwanted overlap.\n\t\tconst contentElement = (\n\t\t\t<Cell component={Marquee} className={css.content} shrink={(label != null && orientation === 'vertical')}>\n\t\t\t\t{content}\n\t\t\t</Cell>\n\t\t);\n\n\t\tif (label == null) return contentElement;\n\n\t\treturn (\n\t\t\t<Cell {...rest}>\n\t\t\t\t<Layout orientation={orientation}>\n\t\t\t\t\t{contentElement}\n\t\t\t\t\t<Cell component={Marquee} className={css.label} shrink>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</Cell>\n\t\t\t\t</Layout>\n\t\t\t</Cell>\n\t\t);\n\t}\n});\n\n/**\n * Renders an Agate-styled Item without any behavior.\n *\n * @class ItemBase\n * @memberof agate/Item\n * @ui\n * @public\n */\nconst ItemBase = kind({\n\tname: 'Item',\n\tpropTypes: /** @lends agate/Item.ItemBase.prototype */ {\n\t\tcomponentRef: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n\t\tcss: PropTypes.object,\n\t\tlabel: PropTypes.node,\n\t\tlabelPosition: PropTypes.oneOf(['above', 'after', 'before', 'below']),\n\t\tselected: PropTypes.bool,\n\t\tslotAfter: PropTypes.node,\n\t\tslotBefore: PropTypes.node\n\t},\n\tstyles: {\n\t\tcss: componentCss,\n\t\tpublicClassNames: ['item', 'label', 'slotAfter', 'slotBefore']\n\t},\n\tcomputed: {\n\t\tclassName: ({selected, styler}) => styler.append({selected})\n\t},\n\trender: ({children, componentRef, css, label, labelPosition, slotAfter, slotBefore, ...rest}) => {\n\t\treturn (\n\t\t\t<UiItemBase {...rest} css={css} align=\"center\" component={Row} ref={componentRef}>\n\t\t\t\t{slotBefore ? (\n\t\t\t\t\t<Cell className={css.slotBefore} shrink>\n\t\t\t\t\t\t{slotBefore}\n\t\t\t\t\t</Cell>\n\t\t\t\t) : null}\n\t\t\t\t<ItemContent\n\t\t\t\t\tcontent={children}\n\t\t\t\t\tcss={css}\n\t\t\t\t\tlabel={label}\n\t\t\t\t\tlabelPosition={labelPosition}\n\t\t\t\t/>\n\t\t\t\t{slotAfter ? (\n\t\t\t\t\t<Cell className={css.slotAfter} shrink>\n\t\t\t\t\t\t{slotAfter}\n\t\t\t\t\t</Cell>\n\t\t\t\t) : null}\n\t\t\t</UiItemBase>\n\t\t);\n\t}\n});\n\n/**\n * Agate specific behaviors to apply to [Item]{@link agate/Item.ItemBase}.\n *\n * @hoc\n * @memberof agate/Item\n * @mixes ui/Item.ItemDecorator\n * @mixes spotlight/Spottable.Spottable\n * @mixes ui/Marquee.MarqueeController\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst ItemDecorator = compose(\n\tForwardRef({prop: 'componentRef'}),\n\tSlottable({slots: ['label', 'slotAfter', 'slotBefore']}),\n\tPure,\n\tUiItemDecorator,\n\tSpottable,\n\tMarqueeController({marqueeOnFocus: true}),\n\tSkinnable\n);\n\n/**\n * An item component with Agate behaviors applied.\n *\n * @class Item\n * @memberof agate/Item\n * @extends agate/Item.ItemBase\n * @mixes agate/Item.ItemDecorator\n * @ui\n * @public\n */\nconst Item = ItemDecorator(ItemBase);\n\nexport default Item;\nexport {\n\tItem,\n\tItemBase,\n\tItemDecorator\n};\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport icons from './icons';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Input, {InputBase} from '@enact/agate/Input';\n\nconst iconNames = ['', ...icons];\n\nconst Config = mergeComponentMetadata('Input', InputBase, Input);\nInput.displayName = 'Input';\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Input',\n\t\t() => (\n\t\t\t<Input\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\tdismissOnEnter={boolean('dismissOnEnter', Config)}\n\t\t\t\ticonAfter={select('iconAfter', iconNames, Config)}\n\t\t\t\ticonBefore={select('iconBefore', iconNames, Config)}\n\t\t\t\tinvalid={boolean('invalid', Config)}\n\t\t\t\tinvalidMessage={text('invalidMessage', Config)}\n\t\t\t\tonBlur={action('onBlur')}\n\t\t\t\tonChange={action('onChange')}\n\t\t\t\tonFocus={action('onFocus')}\n\t\t\t\tplaceholder={text('placeholder', Config, 'Input text here')}\n\t\t\t\tsize={select('size', ['small', 'large'], Config)}\n\t\t\t\ttype={text('type', Config)}\n\t\t\t/>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic Input'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport UiItem, {ItemBase as UiItemBase} from '@enact/ui/Item';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Icon, {icons} from '@enact/agate/Icon';\nimport Item, {ItemBase} from '@enact/agate/Item';\n\nconst Config = mergeComponentMetadata('Item', UiItemBase, UiItem, ItemBase, Item);\nItem.displayName = 'Item';\n\nconst iconList = [null, ...Object.keys(icons)];\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Item',\n\t\t() => {\n\t\t\tconst slotBeforeIcon = select('slotBefore Icon', iconList, Config);\n\t\t\tconst slotAfterIcon = select('slotAfter Icon', iconList, Config);\n\t\t\treturn (\n\t\t\t\t<Item\n\t\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\t\tinline={boolean('inline', Config)}\n\t\t\t\t\tlabel={text('label', Config)}\n\t\t\t\t\tlabelPosition={select('labelPosition', ['above', 'after', 'before', 'below'], Config, 'below')}\n\t\t\t\t\tselected={boolean('selected', Config)}\n\t\t\t\t>\n\t\t\t\t\t{slotBeforeIcon ? <slotBefore>\n\t\t\t\t\t\t<Icon>{slotBeforeIcon}</Icon>\n\t\t\t\t\t</slotBefore> : null}\n\t\t\t\t\t{text('children', Config, 'Hello Item')}\n\t\t\t\t\t{slotAfterIcon ? <slotAfter>\n\t\t\t\t\t\t<Icon>{slotAfterIcon}</Icon>\n\t\t\t\t\t</slotAfter> : null}\n\t\t\t\t</Item>\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\ttext: 'Basic usage of Item'\n\t\t}\n\t);\n\nstoriesOf('Agate QA.Item', module)\n\t.add(\n\t\t'with icons and a text in slotAfter',\n\t\t() => {\n\t\t\tconst slotBeforeIcon = select('slotBefore Icon', iconList, Config);\n\t\t\tconst slotAfter = [\n\t\t\t\tselect('slotAfter Icon 1', iconList, Config),\n\t\t\t\tselect('slotAfter Icon 2', iconList, Config),\n\t\t\t\ttext('slotAfter Text', Config, 'Sub Text')\n\t\t\t].filter(subText => !!subText).map(subText => (iconList.indexOf(subText) > 0 ? <Icon key={subText}>{subText}</Icon> : subText));\n\n\t\t\treturn (\n\t\t\t\t<Item\n\t\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\t\tinline={boolean('inline', Config)}\n\t\t\t\t\tlabel={text('label', Config)}\n\t\t\t\t\tlabelPosition={select('labelPosition', ['above', 'after', 'before', 'below'], Config, 'below')}\n\t\t\t\t\tselected={boolean('selected', Config)}\n\t\t\t\t>\n\t\t\t\t\t{slotBeforeIcon ? <slotBefore>\n\t\t\t\t\t\t<Icon>{slotBeforeIcon}</Icon>\n\t\t\t\t\t</slotBefore> : null}\n\t\t\t\t\t{text('children', Config, 'Hello Item')}\n\t\t\t\t\t{slotAfter.length > 0 ? <slotAfter>\n\t\t\t\t\t\t{slotAfter}\n\t\t\t\t\t</slotAfter> : null}\n\t\t\t\t</Item>\n\t\t\t);\n\t\t}\n\t);\n","import React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Heading from '@enact/agate/Heading';\nimport Icon from '@enact/agate/Icon';\nimport Item from '@enact/agate/Item';\n\nItem.displayName = 'Item';\n\nstoriesOf('Agate QA.Item', module)\n\t.add(\n\t\t'Kitchen Sink',\n\t\t() => (\n\t\t\t<>\n\t\t\t\t<Heading showLine>Item variations</Heading>\n\t\t\t\t<Item>Default Item</Item>\n\t\t\t\t<Item label=\"label above\" labelPosition=\"above\">Item</Item>\n\t\t\t\t<Item label=\"label below\" labelPosition=\"below\">Item</Item>\n\t\t\t\t<Item label=\"label before\" labelPosition=\"before\">Item</Item>\n\t\t\t\t<Item label=\"label after\" labelPosition=\"after\">Item</Item>\n\t\t\t\t<Heading showLine>Item with labels and slot before</Heading>\n\t\t\t\t<Item label=\"label above\" labelPosition=\"above\" slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label below\" labelPosition=\"below\" slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label before\" labelPosition=\"before\" slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label after\" labelPosition=\"after\" slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Heading showLine>Item with labels and slot after</Heading>\n\t\t\t\t<Item label=\"label above\" labelPosition=\"above\" slotAfter={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label below\" labelPosition=\"below\" slotAfter={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label before\" labelPosition=\"before\" slotAfter={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label after\" labelPosition=\"after\" slotAfter={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Heading showLine>Item with labels, slot after, and slot before</Heading>\n\t\t\t\t<Item label=\"label above\" labelPosition=\"above\" slotAfter={<Icon>home</Icon>} slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label below\" labelPosition=\"below\" slotAfter={<Icon>home</Icon>} slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label before\" labelPosition=\"before\" slotAfter={<Icon>home</Icon>} slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label after\" labelPosition=\"after\" slotAfter={<Icon>home</Icon>} slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Heading showLine>All Items inlined</Heading>\n\t\t\t\t<Item inline>Default Item</Item>\n\t\t\t\t<Item inline label=\"label above\" labelPosition=\"above\">Item</Item>\n\t\t\t\t<Item inline label=\"label below\" labelPosition=\"below\">Item</Item>\n\t\t\t\t<Item inline label=\"label before\" labelPosition=\"before\">Item</Item>\n\t\t\t\t<Item inline label=\"label after\" labelPosition=\"after\">Item</Item>\n\t\t\t\t<Heading showLine>Item with labels and slot before</Heading>\n\t\t\t\t<Item inline label=\"label above\" labelPosition=\"above\" slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label below\" labelPosition=\"below\" slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label before\" labelPosition=\"before\" slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label after\" labelPosition=\"after\" slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Heading showLine>Item with labels and slot after</Heading>\n\t\t\t\t<Item inline label=\"label above\" labelPosition=\"above\" slotAfter={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label below\" labelPosition=\"below\" slotAfter={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label before\" labelPosition=\"before\" slotAfter={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label after\" labelPosition=\"after\" slotAfter={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Heading showLine>Item with labels, slot after, and slot before</Heading>\n\t\t\t\t<Item inline label=\"label above\" labelPosition=\"above\" slotAfter={<Icon>home</Icon>} slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label below\" labelPosition=\"below\" slotAfter={<Icon>home</Icon>} slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label before\" labelPosition=\"before\" slotAfter={<Icon>home</Icon>} slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label after\" labelPosition=\"after\" slotAfter={<Icon>home</Icon>} slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t</>\n\t\t),\n\t\t{\n\t\t\ttext: 'Item Kitchen Sink'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport UiIcon from '@enact/ui/Icon';\nimport {LabeledIconBase as UiLabeledIconBase, LabeledIcon as UiLabeledIcon} from '@enact/ui/LabeledIcon';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Icon, {IconBase} from '@enact/agate/Icon';\nimport LabeledIcon from '@enact/agate/LabeledIcon';\n\nimport iconNames from './icons';\n\nLabeledIcon.displayName = 'LabeledIcon';\n\nconst Config = mergeComponentMetadata('LabeledIcon', UiLabeledIconBase, UiLabeledIcon, UiIcon, IconBase, Icon, LabeledIcon);\nstoriesOf('Agate', module)\n\t.add(\n\t\t'LabeledIcon',\n\t\t() => (\n\t\t\t<LabeledIcon\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\tflip={select('flip', ['', 'both', 'horizontal', 'vertical'], Config, '')}\n\t\t\t\ticon={select('icon', ['', ...iconNames], Config, 'temperature')}\n\t\t\t\tinline={boolean('inline', Config)}\n\t\t\t\tlabelPosition={select('labelPosition', ['above', 'after', 'before', 'below', 'left', 'right'], Config)}\n\t\t\t\tsize={select('size', ['small', 'large'], Config)}\n\t\t\t>\n\t\t\t\t{text('children', Config, 'Hello LabeledIcon')}\n\t\t\t</LabeledIcon>\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of LabeledIcon'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, text, number} from '@enact/storybook-utils/addons/knobs';\nimport {LabeledIconBase as UiLabeledIconBase, LabeledIcon as UiLabeledIcon} from '@enact/ui/LabeledIcon';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport LabeledIconButton from '@enact/agate/LabeledIconButton';\n\nimport iconNames from './icons';\n\nconst Config = mergeComponentMetadata('LabeledIconButton', UiLabeledIconBase, UiLabeledIcon, LabeledIconButton);\nConfig.displayName = 'LabeledIconButton';\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'LabeledIconButton',\n\t\t() => (\n\t\t\t<LabeledIconButton\n\t\t\t\tbackgroundOpacity={select('backgroundOpacity', ['', 'opaque', 'lightOpaque', 'transparent'], Config, '')}\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\thighlighted={boolean('highlighted', Config)}\n\t\t\t\ticon={select('icon', ['', ...iconNames], Config, 'temperature')}\n\t\t\t\tinline={boolean('inline', Config)}\n\t\t\t\tlabelPosition={select('labelPosition', ['above', 'after', 'before', 'below', 'left', 'right'], Config)}\n\t\t\t\tselected={boolean('selected', Config)}\n\t\t\t\tsize={select('size', ['smallest', 'small', 'large', 'huge'], Config)}\n\t\t\t\tspriteCount={number('spriteCount', Config, {min: 1}, 1)}\n\t\t\t>\n\t\t\t\t{text('children', Config, 'Hello LabeledIconButton')}\n\t\t\t</LabeledIconButton>\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of LabeledIconButton'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport {PickerBase} from '@enact/agate/internal/Picker';\nimport Picker from '@enact/agate/Picker';\n\nconst Config = mergeComponentMetadata('Picker', Picker, PickerBase);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Picker',\n\t\t() => (\n\t\t\t<div style={{padding: '0 20%'}}>\n\t\t\t\t<Picker\n\t\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\t\tonChange={action('onChange')}\n\t\t\t\t\torientation={select('orientation', ['vertical', 'horizontal'], Config)}\n\t\t\t\t>\n\t\t\t\t\t{['LO', '16\\xB0', '17\\xB0', '18\\xB0', '19\\xB0', 'HI']}\n\t\t\t\t</Picker>\n\t\t\t</div>\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of Picker'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Button from '@enact/agate/Button';\nimport {Popup, PopupBase} from '@enact/agate/Popup';\n\nconst Config = mergeComponentMetadata('Popup', PopupBase);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Popup',\n\t\t() => (\n\t\t\t<div>\n\t\t\t\t<Popup\n\t\t\t\t\tcentered={boolean('centered', Config)}\n\t\t\t\t\tcloseButton={boolean('closeButton', Config)}\n\t\t\t\t\tnoAnimation={boolean('noAnimation', Config)}\n\t\t\t\t\tnoAutoDismiss={boolean('noAutoDismiss', Config)}\n\t\t\t\t\tonClose={action('onClose')}\n\t\t\t\t\tonHide={action('onHide')}\n\t\t\t\t\topen={boolean('open', Config)}\n\t\t\t\t\tposition={select('position', ['center', 'top'], Config)}\n\t\t\t\t\tscrimType={select('scrimType', ['none', 'translucent', 'transparent'], Config, 'translucent')}\n\t\t\t\t\tspotlightRestrict={select('spotlightRestrict', ['self-first', 'self-only'], Config, 'self-only')}\n\t\t\t\t\ttitle={text('title', Config, 'Title')}\n\t\t\t\t>\n\t\t\t\t\t<div>{text('children', Config, 'Hello Popup')}</div>\n\t\t\t\t</Popup>\n\t\t\t\tUse KNOBS to interact with Popup.\n\t\t\t</div>\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of Popup'\n\t\t}\n\t);\n\nstoriesOf('Agate QA.Popup', module)\n\t.add(\n\t\t'with buttons',\n\t\t() => (\n\t\t\t<div>\n\t\t\t\t<Button>Button</Button>\n\t\t\t\t<Popup\n\t\t\t\t\tcentered={boolean('centered', Config)}\n\t\t\t\t\tcloseButton={boolean('closeButton', Config)}\n\t\t\t\t\tnoAnimation={boolean('noAnimation', Config)}\n\t\t\t\t\tnoAutoDismiss={boolean('noAutoDismiss', Config)}\n\t\t\t\t\tonClose={action('onClose')}\n\t\t\t\t\tonHide={action('onHide')}\n\t\t\t\t\topen={boolean('open', Config)}\n\t\t\t\t\tposition={select('position', ['center', 'top'], Config)}\n\t\t\t\t\tscrimType={select('scrimType', ['none', 'translucent', 'transparent'], Config, 'translucent')}\n\t\t\t\t\tspotlightRestrict={select('spotlightRestrict', ['self-first', 'self-only'], Config, 'self-only')}\n\t\t\t\t>\n\t\t\t\t\t<div>{text('children', Config, 'Hello Popup')}</div>\n\t\t\t\t\t<buttons>\n\t\t\t\t\t\t<Button>NO</Button>\n\t\t\t\t\t\t<Button>YES</Button>\n\t\t\t\t\t</buttons>\n\t\t\t\t</Popup>\n\t\t\t\tUse KNOBS to interact with Popup.\n\t\t\t</div>\n\t\t)\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport React, {useState} from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Button from '@enact/agate/Button';\nimport CheckboxItem from '@enact/agate/CheckboxItem';\nimport Input from '@enact/agate/Input';\nimport Picker from '@enact/agate/Picker';\nimport PopupMenu from '@enact/agate/PopupMenu';\n\nimport css from './PopupMenu.module.less';\n\nconst Config = mergeComponentMetadata('PopupMenu', PopupMenu);\n\nconst Story = ({children: {props, type: Component}, ...rest}) => {\n\tconst [menuOpen, setMenuOpen] = useState(false);\n\n\tfunction onClose () {\n\t\tsetMenuOpen(false);\n\t}\n\n\tfunction onOpen () {\n\t\tsetMenuOpen(true);\n\t}\n\n\treturn (\n\t\t<div {...rest}>\n\t\t\t{menuOpen ? null : (<Button onClick={onOpen}>Open Menu</Button>)}\n\t\t\t<Component\n\t\t\t\t{...props}\n\t\t\t\tonClose={onClose}\n\t\t\t\topen={menuOpen}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nstoriesOf('Agate', module).add(\n\t'PopupMenu',\n\t() => {\n\t\tconst closeButton = boolean('closeButton', Config);\n\t\tconst noAutoDismiss = boolean('noAutoDismiss', Config);\n\n\t\treturn (\n\t\t\t<Story>\n\t\t\t\t<PopupMenu\n\t\t\t\t\tcloseButton={closeButton}\n\t\t\t\t\tcloseButtonLabel={text('closeButtonLabel', Config)}\n\t\t\t\t\tnoAnimation={boolean('noAnimation', Config)}\n\t\t\t\t\tnoAutoDismiss={noAutoDismiss}\n\t\t\t\t\tonClose={action('onClose')}\n\t\t\t\t\tonHide={action('onHide')}\n\t\t\t\t\topen={boolean('open', Config)}\n\t\t\t\t\torientation={select('orientation', ['horizontal'], Config)}\n\t\t\t\t\tscrimType={select('scrimType', ['none', 'translucent', 'transparent'], Config, 'translucent')}\n\t\t\t\t\tspotlightRestrict={select('spotlightRestrict', ['self-first', 'self-only'], Config, 'self-only')}\n\t\t\t\t\ttitle={text('title', Config, 'Title')}\n\t\t\t\t>\n\t\t\t\t\t{!(noAutoDismiss && !closeButton) ? null : (\n\t\t\t\t\t\t<h2 className={css.cannotClose}>\n\t\t\t\t\t\t\tWarning! With <code>closeButton=false</code> and <code>noAutoDismiss=true</code> it will be impossible to close this menu.\n\t\t\t\t\t\t</h2>)}\n\t\t\t\t\t<Picker>\n\t\t\t\t\t\t{['Crunchy', 'Smooth']}\n\t\t\t\t\t</Picker>\n\t\t\t\t\t<Input placeholder=\"How many?\" type=\"number\" />\n\t\t\t\t\t<CheckboxItem>\n\t\t\t\t\t\tRush delivery\n\t\t\t\t\t</CheckboxItem>\n\t\t\t\t</PopupMenu>\n\t\t\t</Story>\n\t\t);\n\t},\n\t{\n\t\ttext: 'Basic usage of PopupMenu'\n\t}\n);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, number} from '@enact/storybook-utils/addons/knobs';\nimport UiProgressBar from '@enact/ui/ProgressBar';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport ProgressBar, {ProgressBarBase} from '@enact/agate/ProgressBar';\n\nProgressBar.displayName = 'ProgressBar';\nconst Config = mergeComponentMetadata('ProgressBar', UiProgressBar, ProgressBarBase, ProgressBar);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'ProgressBar',\n\t\t() => (\n\t\t\t<ProgressBar\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\torientation={select('orientation', ['horizontal', 'vertical'], Config)}\n\t\t\t\tprogress={number('progress', Config, {range: true, min: 0, max: 1, step: 0.01}, 0.4)}\n\t\t\t\tsize={select('size', ['small', 'large'], Config)}\n\t\t\t/>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic ProgressBar'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport RadioItem from '@enact/agate/RadioItem';\n\nimport iconNames from './icons';\n\nconst Config = mergeComponentMetadata('RadioItem', RadioItem);\nRadioItem.displayName = 'RadioItem';\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'RadioItem',\n\t\t() => (\n\t\t\t<div>\n\t\t\t\t<RadioItem\n\t\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\t\ticon={select('icon', ['', ...iconNames], Config)}\n\t\t\t\t>\n\t\t\t\t\t{text('children', Config, 'Sound')}\n\t\t\t\t</RadioItem>\n\t\t\t</div>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic RadioItem'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, number, select} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport {PickerBase} from '@enact/agate/internal/Picker';\nimport RangePicker from '@enact/agate/RangePicker';\n\nconst Config = mergeComponentMetadata('RangePicker', RangePicker, PickerBase);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'RangePicker',\n\t\t() => (\n\t\t\t<RangePicker\n\t\t\t\tdefaultValue={5}\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\tmax={number('max', Config, 20)}\n\t\t\t\tmin={number('min', Config, 0)}\n\t\t\t\tonChange={action('onChange')}\n\t\t\t\torientation={select('orientation', ['vertical', 'horizontal'], Config)}\n\t\t\t\tstep={number('step', Config)}\n\t\t\t/>\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of RangePicker'\n\t\t}\n\t);\n","import {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select} from '@enact/storybook-utils/addons/knobs';\nimport {mergeComponentMetadata} from '@enact/storybook-utils';\nimport React from 'react';\nimport ri from '@enact/ui/resolution';\nimport {ScrollerBasic as UiScrollerBasic} from '@enact/ui/Scroller';\nimport {storiesOf} from '@storybook/react';\n\nimport BodyText from '@enact/agate/BodyText';\nimport Scroller from '@enact/agate/Scroller';\n\nconst prop = {\n\tdirection: ['both', 'horizontal', 'vertical'],\n\tscrollbarOption: ['auto', 'hidden', 'visible'],\n\tscrollModeOption: ['native', 'translate']\n};\n\nconst ScrollerConfig = mergeComponentMetadata('Scroller', UiScrollerBasic, Scroller);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Scroller',\n\t\t() => (\n\t\t\t<Scroller\n\t\t\t\tdirection={select('direction', prop.direction, ScrollerConfig)}\n\t\t\t\tfocusableScrollbar={boolean('focusableScrollbar', ScrollerConfig)}\n\t\t\t\thorizontalScrollbar={select('horizontalScrollbar', prop.scrollbarOption, ScrollerConfig)}\n\t\t\t\tkey={select('scrollMode', prop.scrollModeOption, ScrollerConfig)}\n\t\t\t\tnoScrollByWheel={boolean('noScrollByWheel', ScrollerConfig)}\n\t\t\t\tonScrollStart={action('onScrollStart')}\n\t\t\t\tonScrollStop={action('onScrollStop')}\n\t\t\t\tscrollMode={select('scrollMode', prop.scrollModeOption, ScrollerConfig)}\n\t\t\t\tspotlightDisabled={boolean('spotlightDisabled', ScrollerConfig, false)}\n\t\t\t\tverticalScrollbar={select('verticalScrollbar', prop.scrollbarOption, ScrollerConfig)}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\theight: ri.scaleToRem(2004),\n\t\t\t\t\t\twidth: ri.scaleToRem(4002)\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<BodyText>\n\t\t\t\t\t\tLorem ipsum dolor sit amet, consectetur adipiscing elit.<br />\n\t\t\t\t\t\tAenean id blandit nunc. Donec lacinia nisi vitae mi dictum, eget pulvinar nunc tincidunt. Integer vehicula tempus rutrum. Sed efficitur neque in arcu dignissim cursus.\n\t\t\t\t\t</BodyText>\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tmarginTop: ri.scaleToRem(1602)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<BodyText>\n\t\t\t\t\t\t\tMauris blandit sollicitudin mattis. Fusce commodo arcu vitae risus consectetur sollicitudin. Aliquam eget posuere orci. Cras pellentesque lobortis sapien non lacinia.\n\t\t\t\t\t\t</BodyText>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Scroller>\n\t\t),\n\t\t{\n\t\t\tprops: {\n\t\t\t\tnoScroller: true\n\t\t\t},\n\t\t\ttext: 'Basic usage of Scroller'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, number} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Slider, {SliderBase} from '@enact/agate/Slider';\n\nSlider.displayName = 'Slider';\nconst Config = mergeComponentMetadata('Slider', SliderBase, Slider);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Slider',\n\t\t() => (\n\t\t\t<Slider\n\t\t\t\tactivateOnFocus={boolean('activateOnFocus', Config)}\n\t\t\t\tactive={boolean('active', Config)}\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\tfocused={boolean('focused', Config)}\n\t\t\t\tknobStep={number('knobStep', Config)}\n\t\t\t\tmax={number('max', Config)}\n\t\t\t\tmin={number('min', Config)}\n\t\t\t\tonActivate={action('onActivate')}\n\t\t\t\tonKeyDown={action('onKeyDown')}\n\t\t\t\tonKeyUp={action('onKeyUp')}\n\t\t\t\torientation={select('orientation', ['horizontal', 'vertical'], Config, 'horizontal')}\n\t\t\t\tprogressAnchor={number('progressAnchor', Config, {range: true, min: 0, max: 1, step: 0.1}, 0)}\n\t\t\t\tstep={number('step', Config)}\n\t\t\t/>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic Slider'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport SliderButton, {SliderButtonBase} from '@enact/agate/SliderButton';\nimport {icons} from '@enact/agate/Icon';\n\nSliderButton.displayName = 'SliderButton';\nconst Config = mergeComponentMetadata('SliderButton', SliderButtonBase, SliderButton);\n\n// Set up some defaults for info and knobs\nconst prop = {\n\ticons: ['', ...Object.keys(icons)],\n\t3: [\n\t\t'Light Speed',\n\t\t'Ridiculous Speed',\n\t\t'Ludicrous Speed'\n\t],\n\t5: [\n\t\t'Light Speed',\n\t\t'Ridiculous Speed',\n\t\t'Ludicrous Speed',\n\t\t'Bananas Speed',\n\t\t'OK Enough Speed'\n\t]\n};\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'SliderButton',\n\t\t() => (\n\t\t\t<SliderButton\n\t\t\t\tonChange={action('onChange')}\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t>\n\t\t\t\t{prop[select('options', [3, 5], Config, '3')]}\n\t\t\t</SliderButton>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic SliderButton'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select} from '@enact/storybook-utils/addons/knobs';\nimport UiSpinner, {SpinnerBase as UiSpinnerBase} from '@enact/ui/Spinner';\nimport ri from '@enact/ui/resolution';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Spinner, {SpinnerBase} from '@enact/agate/Spinner';\n\nSpinner.displayName = 'Spinner';\nconst Config = mergeComponentMetadata('Spinner', UiSpinnerBase, UiSpinner, SpinnerBase, Spinner);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Spinner',\n\t\t() => (\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\toutline: 'teal dashed 1px',\n\t\t\t\t\tposition: 'relative',\n\t\t\t\t\tpadding: ri.unit(90, 'rem'),\n\t\t\t\t\tbackgroundColor: 'rgba(0, 187, 187, 0.5)'\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: 0\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\toutline: 'teal dashed 1px',\n\t\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t\theight: ri.unit(180, 'rem')\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<label\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\toutline: 'teal dashed 1px',\n\t\t\t\t\t\t\tbackgroundColor: 'rgba(0, 128, 128, 0.5)',\n\t\t\t\t\t\t\tcolor: '#0bb',\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\ttransform: 'translateY(-100%)',\n\t\t\t\t\t\t\tborderBottomWidth: 0,\n\t\t\t\t\t\t\tpadding: '0.1em 1em',\n\t\t\t\t\t\t\tfontWeight: 100,\n\t\t\t\t\t\t\tfontStyle: 'italic',\n\t\t\t\t\t\t\tfontSize: ri.unit(15, 'rem')\n\t\t\t\t\t\t}}\n\t\t\t\t\t>Container</label>\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\twidth: '100%'\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Spinner\n\t\t\t\t\t\tblockClickOn={select('blockClickOn', [null, 'container', 'screen'], Config)}\n\t\t\t\t\t\tcentered={boolean('centered', Config)}\n\t\t\t\t\t\tcolor={select('color', ['dark', 'light'], Config, 'light')}\n\t\t\t\t\t\tpaused={boolean('paused', Config)}\n\t\t\t\t\t\tscrim={boolean('scrim', Config)}\n\t\t\t\t\t\tsize={select('size', ['huge', 'large', 'small', 'smallest'], Config)}\n\t\t\t\t\t\ttype={select('type', ['loading', 'searching'], Config, 'searching')}\n\t\t\t\t\t\ttransparent={boolean('transparent', Config)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of Spinner'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport SwitchItem from '@enact/agate/SwitchItem';\n\nimport iconNames from './icons';\n\nconst Config = mergeComponentMetadata('SwitchItem', SwitchItem);\nSwitchItem.displayName = 'SwitchItem';\n\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'SwitchItem',\n\t\t() => (\n\t\t\t<div>\n\t\t\t\t<SwitchItem\n\t\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\t\ticon={select('icon', ['', ...iconNames], Config, 'music')}\n\t\t\t\t\toffText={text('offText', Config)}\n\t\t\t\t\tonText={text('onText', Config)}\n\t\t\t\t>\n\t\t\t\t\t{text('children', Config, 'Sound')}\n\t\t\t\t</SwitchItem>\n\t\t\t</div>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic SwitchItem'\n\t\t}\n\t);\n","import {action} from '@enact/storybook-utils/addons/actions';\nimport {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, number, select} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Button from '@enact/agate/Button';\nimport Icon from '@enact/agate/Icon';\nimport Item from '@enact/agate/Item';\nimport LabeledIconButton from '@enact/agate/LabeledIconButton';\nimport {Panel, TabbedPanels} from '@enact/agate/Panels';\nimport {TabbedPanelsBase} from '@enact/agate/Panels/TabbedPanels';\n\nconst Config = mergeComponentMetadata('TabbedPanels', TabbedPanelsBase);\n// `paddingBottom: '56.25%'` is a trick to impose 16:9 aspect ratio on the component, since padding percentage is based on the width, not the height.\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'TabbedPanels',\n\t\t() => {\n\t\t\tconst [panelIndex, setIndex] = React.useState(Config.defaultProps.index || 0);\n\t\t\tconst onSelect = (e) => {\n\t\t\t\tsetIndex(e.index);\n\t\t\t\taction('onSelect')(e);\n\t\t\t};\n\t\t\tconst onBeforeTabs = () => {\n\t\t\t\tsetIndex(Math.max(panelIndex - 1, 0));\n\t\t\t};\n\t\t\tconst onAfterTabs = () => {\n\t\t\t\tsetIndex(Math.min(panelIndex + 1, 2));\n\t\t\t};\n\t\t\treturn (\n\t\t\t\t<div style={{paddingBottom: '56.25%'}}>\n\t\t\t\t\t<TabbedPanels\n\t\t\t\t\t\tduration={number('duration', Config, 500)}\n\t\t\t\t\t\tonClick={action('onClick')}\n\t\t\t\t\t\tindex={panelIndex}\n\t\t\t\t\t\tnoCloseButton={boolean('noCloseButton', Config)}\n\t\t\t\t\t\tonSelect={onSelect} // eslint-disable-line react/jsx-no-bind\n\t\t\t\t\t\torientation={select('orientation', ['vertical', 'horizontal'], Config, 'vertical')}\n\t\t\t\t\t\ttabPosition={select('tabPosition', ['before', 'after'], Config, 'before')}\n\t\t\t\t\t\ttabs={[\n\t\t\t\t\t\t\t{title: 'Button', icon: 'netbook'},\n\t\t\t\t\t\t\t{title: 'Item', icon: 'aircirculation'},\n\t\t\t\t\t\t\t{title: 'LabeledIconButton', icon: 'temperature'}\n\t\t\t\t\t\t]}\n\t\t\t\t\t>\n\t\t\t\t\t\t<beforeTabs>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ticon=\"arrowlargeleft\"\n\t\t\t\t\t\t\t\tonClick={onBeforeTabs} // eslint-disable-line react/jsx-no-bind\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\ttype=\"grid\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</beforeTabs>\n\t\t\t\t\t\t<afterTabs>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ticon=\"arrowlargeright\"\n\t\t\t\t\t\t\t\tonClick={onAfterTabs} // eslint-disable-line react/jsx-no-bind\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\ttype=\"grid\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</afterTabs>\n\t\t\t\t\t\t<Panel>\n\t\t\t\t\t\t\t<Button icon=\"netbook\">Click me!</Button>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t\t<Panel>\n\t\t\t\t\t\t\t<Item label=\"label\" labelPosition=\"before\" slotBefore={<Icon>aircirculation</Icon>}>Hello Item</Item>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t\t<Panel className=\"enact-fit\">\n\t\t\t\t\t\t\t<LabeledIconButton\n\t\t\t\t\t\t\t\tlabelPosition=\"after\"\n\t\t\t\t\t\t\t\ticon=\"temperature\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tHello LabeledIconButton\n\t\t\t\t\t\t\t</LabeledIconButton>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t\t<Panel>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\tA simple view with no associated tab\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t</TabbedPanels>\n\t\t\t\t</div>\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\ttext: 'The basic TabbedPanels'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {text} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport ThumbnailItem from '@enact/agate/ThumbnailItem';\n\nconst Config = mergeComponentMetadata('ThumbnailItem', ThumbnailItem);\nThumbnailItem.displayName = 'ThumbnailItem';\n\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'ThumbnailItem',\n\t\t() => (\n\t\t\t<div>\n\t\t\t\t<ThumbnailItem\n\t\t\t\t\tsrc={text('src', Config, 'https://dummyimage.com/64/e048e0/0011ff')}\n\t\t\t\t>\n\t\t\t\t\tAn image!\n\t\t\t\t</ThumbnailItem>\n\t\t\t</div>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic ThumbnailItem'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {text, select, boolean} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport ThumbnailItem from '@enact/agate/ThumbnailItem';\n\nThumbnailItem.displayName = 'ThumbnailItem';\n\nconst Config = mergeComponentMetadata('ThumbnailItem', ThumbnailItem);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'ThumbnailItem',\n\t\t() => (\n\t\t\t<ThumbnailItem\n\t\t\t\tsrc=\"https://dummyimage.com/64/e048e0/0011ff\"\n\t\t\t\tlabel={text('label', Config, 'Sub Content')}\n\t\t\t\ttype={select('type', ['normal', 'styled'], Config)}\n\t\t\t\tselected={boolean('selected', Config)}\n\t\t\t>\n\t\t\t\t{text('children', Config, 'Main Content')}\n\t\t\t</ThumbnailItem>\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of ThumbnailItem'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport UIButton, {ButtonBase as UIButtonBase} from '@enact/ui/Button';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Button, {ButtonBase} from '@enact/agate/Button';\nimport ToggleButton, {ToggleButtonBase} from '@enact/agate/ToggleButton';\n\nimport iconNames from './icons';\n\nToggleButton.displayName = 'ToggleButton';\nconst Config = mergeComponentMetadata('ToggleButton', UIButtonBase, UIButton, ButtonBase, Button, ToggleButtonBase, ToggleButton);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'ToggleButton',\n\t\t() => (\n\t\t\t<ToggleButton\n\t\t\t\tbackgroundOpacity={select('backgroundOpacity', ['opaque', 'lightOpaque', 'transparent'], Config)}\n\t\t\t\tdefaultSelected={boolean('defaultSelected', Config, true)}\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\ticon={select('icon', ['', ...iconNames], Config)}\n\t\t\t\tonClick={action('onClick')}\n\t\t\t\tonToggle={action('onToggle')}\n\t\t\t\tsize={select('size', ['smallest', 'small', 'large', 'huge'], Config)}\n\t\t\t\ttoggleOffLabel={text('toggleOffLabel', Config, 'Off')}\n\t\t\t\ttoggleOnLabel={text('toggleOnLabel', Config, 'On')}\n\t\t\t\ttype={select('type', ['grid', 'standard'], Config, 'standard')}\n\t\t\t\tunderline={boolean('underline', Config, true)}\n\t\t\t>\n\t\t\t\t{text('children', ToggleButton, 'Click me')}\n\t\t\t</ToggleButton>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic ToggleButton'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport {storiesOf} from '@storybook/react';\nimport Button, {ButtonBase} from '@enact/agate/Button';\nimport TooltipDecorator from '@enact/agate/TooltipDecorator';\nimport UiButton from '@enact/ui/Button';\nimport React from 'react';\n\nButton.displayName = 'TooltipDecorator';\nconst Config = mergeComponentMetadata('TooltipDecorator', UiButton, ButtonBase, Button);\nconst TooltipButton = TooltipDecorator({tooltipDestinationProp: 'decoration'}, Button);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'TooltipDecorator',\n\t\t() => (\n\t\t\t<TooltipButton\n\t\t\t\tbackgroundOpacity={select('backgroundOpacity', ['opaque', 'lightOpaque', 'transparent'], Config)}\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\tonClick={action('onClick')}\n\t\t\t\tselected={boolean('selected', Config)}\n\t\t\t\tsize={select('size', ['smallest', 'small', 'large', 'huge'], Config)}\n\t\t\t\ttooltipText={text('tooltip', Config, 'Tooltip')}\n\t\t\t>\n\t\t\t\t{text('children', Button, 'Click me')}\n\t\t\t</TooltipButton>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic TooltipDecorator'\n\t\t}\n\t);\n","import {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, number, select} from '@enact/storybook-utils/addons/knobs';\nimport {mergeComponentMetadata} from '@enact/storybook-utils';\nimport React from 'react';\nimport ri from '@enact/ui/resolution';\nimport {storiesOf} from '@storybook/react';\nimport {VirtualListBasic as UiVirtualListBasic} from '@enact/ui/VirtualList';\n\nimport Item from '@enact/agate/Item';\nimport VirtualList from '@enact/agate/VirtualList';\n\nconst\n\twrapOption = {\n\t\tfalse: false,\n\t\ttrue: true,\n\t\t'&quot;noAnimation&quot;': 'noAnimation'\n\t},\n\tprop = {\n\t\tscrollbarOption: ['auto', 'hidden', 'visible'],\n\t\tscrollModeOption: ['native', 'translate']\n\t},\n\titems = [],\n\tdefaultDataSize = 1000,\n\t// eslint-disable-next-line enact/prop-types, enact/display-name\n\trenderItem = (size) => ({index, ...rest}) => {\n\t\tconst itemStyle = {\n\t\t\tborderBottom: ri.unit(6, 'rem') + ' solid #202328',\n\t\t\tboxSizing: 'border-box',\n\t\t\theight: ri.unit(size, 'rem')\n\t\t};\n\n\t\treturn (\n\t\t\t<Item {...rest} style={itemStyle}>\n\t\t\t\t{items[index]}\n\t\t\t</Item>\n\t\t);\n\t};\n\nconst updateDataSize = (dataSize) => {\n\tconst\n\t\titemNumberDigits = dataSize > 0 ? ((dataSize - 1) + '').length : 0,\n\t\theadingZeros = Array(itemNumberDigits).join('0');\n\n\titems.length = 0;\n\n\tfor (let i = 0; i < dataSize; i++) {\n\t\titems.push('Item ' + (headingZeros + i).slice(-itemNumberDigits));\n\t}\n\n\treturn dataSize;\n};\n\nupdateDataSize(defaultDataSize);\n\nconst VirtualListConfig = mergeComponentMetadata('VirtualList', UiVirtualListBasic, VirtualList);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'VirtualList',\n\t\t() => {\n\t\t\treturn (\n\t\t\t\t<VirtualList\n\t\t\t\t\tdataSize={updateDataSize(number('dataSize', VirtualListConfig, defaultDataSize))}\n\t\t\t\t\tfocusableScrollbar={boolean('focusableScrollbar', VirtualListConfig)}\n\t\t\t\t\thorizontalScrollbar={select('horizontalScrollbar', prop.scrollbarOption, VirtualListConfig)}\n\t\t\t\t\titemRenderer={renderItem(ri.scale(number('itemSize', VirtualListConfig, 144)))}\n\t\t\t\t\titemSize={ri.scale(number('itemSize', VirtualListConfig, 144))}\n\t\t\t\t\tkey={select('scrollMode', prop.scrollModeOption, VirtualListConfig)}\n\t\t\t\t\tnoScrollByWheel={boolean('noScrollByWheel', VirtualListConfig)}\n\t\t\t\t\tonScrollStart={action('onScrollStart')}\n\t\t\t\t\tonScrollStop={action('onScrollStop')}\n\t\t\t\t\tscrollMode={select('scrollMode', prop.scrollModeOption, VirtualListConfig)}\n\t\t\t\t\tspacing={ri.scale(number('spacing', VirtualListConfig))}\n\t\t\t\t\tspotlightDisabled={boolean('spotlightDisabled', VirtualListConfig, false)}\n\t\t\t\t\tverticalScrollbar={select('verticalScrollbar', prop.scrollbarOption, VirtualListConfig)}\n\t\t\t\t\twrap={wrapOption[select('wrap', ['false', 'true', '\"noAnimation\"'], VirtualListConfig)]}\n\t\t\t\t/>\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\tprops: {\n\t\t\t\tnoScroller: true\n\t\t\t},\n\t\t\ttext: 'Basic usage of VirtualList'\n\t\t}\n\t);\n","import kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport $L from '../internal/$L';\nimport Button from '../Button';\n\n/**\n * An {@link agate/ApplicationCloseButton.ApplicationCloseButton} with `closex` icon. It is used in\n * {@link agate/Panels.Panels} positioned at the top right corner.\n * `onApplicationClose` callback function should be specified to close your app. The recommended\n * action to take with the event is `window.close()`, but you may also want to also do operations\n * like save user work or close database connections.\n *\n * @class ApplicationCloseButton\n * @memberof agate/Panels\n * @private\n */\nconst ApplicationCloseButton = kind({\n\tname: 'ApplicationCloseButton',\n\n\tpropTypes: /** @lends agate/Panels.ApplicationCloseButton.prototype */ {\n\t\t/**\n\t\t * Sets the hint string read when focusing the application close button.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'Exit app'\n\t\t * @memberof agate/Panels.ApplicationCloseButton.prototype\n\t\t * @public\n\t\t */\n\t\t'aria-label': PropTypes.string,\n\n\t\t/**\n\t\t * A function to run when app close button is clicked\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonApplicationClose: PropTypes.func\n\t},\n\n\tcomputed: {\n\t\t'aria-label': ({'aria-label': ariaLabel}) => ariaLabel == null ? $L('Exit app') : ariaLabel\n\t},\n\n\trender: ({onApplicationClose, ...rest}) => {\n\t\treturn (\n\t\t\t<Button\n\t\t\t\t{...rest}\n\t\t\t\tonTap={onApplicationClose}\n\t\t\t\tsize=\"small\"\n\t\t\t\ticon=\"closex\"\n\t\t\t/>\n\t\t);\n\t}\n});\n\nexport default ApplicationCloseButton;\nexport {\n\tApplicationCloseButton\n};\n","import kind from '@enact/core/kind';\nimport SpotlightContainerDecorator from '@enact/spotlight/SpotlightContainerDecorator';\nimport ForwardRef from '@enact/ui/ForwardRef';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ApplicationCloseButton from './ApplicationCloseButton';\n\nimport css from './Panels.module.less';\n\n/**\n * Group of controls shared across Panel instances\n *\n * @class ControlsBase\n * @memberof agate/Panels\n * @ui\n * @private\n */\nconst ControlsBase = kind({\n\tname: 'Controls',\n\n\tpropTypes: /** @lends agate/Panels.ControlsBase.prototype */ {\n\t\t/**\n\t\t * Additional controls displayed before the close button.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Sets the hint string read when focusing the application close button.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tcloseButtonAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * Called with a reference to the root DOM node of this component.\n\t\t *\n\t\t * @type {Function|Object}\n\t\t * @public\n\t\t */\n\t\tforwardRef: PropTypes.oneOfType([\n\t\t\tPropTypes.func,\n\t\t\tPropTypes.shape({current: PropTypes.any})\n\t\t]),\n\n\t\t/**\n\t\t * Indicates the close button will not be rendered on the top right corner.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tnoCloseButton: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when the app close button is clicked.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonApplicationClose: PropTypes.func\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'controls'\n\t},\n\n\trender: ({children, closeButtonAriaLabel, forwardRef, noCloseButton, onApplicationClose, ...rest}) => {\n\t\tif (!children && noCloseButton) return null;\n\n\t\treturn (\n\t\t\t<div {...rest} ref={forwardRef}>\n\t\t\t\t{children}\n\t\t\t\t{noCloseButton ? null : (\n\t\t\t\t\t<ApplicationCloseButton\n\t\t\t\t\t\taria-label={closeButtonAriaLabel}\n\t\t\t\t\t\tclassName={css.close}\n\t\t\t\t\t\tonApplicationClose={onApplicationClose}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n/**\n * Group of controls shared across Panel instances.\n *\n * ```\n * // remove the close button and use a star icon button\n * <Controls noCloseButton>\n *   <Button icon=\"star\" />\n * </Controls>\n * ```\n *\n * @class Controls\n * @mixes spotlight/SpotlightContainerDecorator\n * @memberof agate/Panels\n * @ui\n * @private\n */\nconst Controls = ForwardRef(SpotlightContainerDecorator(ControlsBase));\n\nexport default Controls;\nexport {\n\tControls,\n\tControlsBase\n};\n","import classnames from 'classnames';\nimport {forward, handle} from '@enact/core/handle';\nimport Spotlight from '@enact/spotlight';\nimport Pause from '@enact/spotlight/Pause';\nimport ViewManager, {shape, SlideBottomArranger as VerticalArranger, SlideRightArranger as HorizontalArranger} from '@enact/ui/ViewManager';\nimport invariant from 'invariant';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport SharedStateDecorator, {SharedState} from './SharedStateDecorator';\n\nimport css from './Panels.module.less';\n\n/**\n * The container for a set of Panels\n *\n * @class Viewport\n * @memberof agate/Panels\n * @private\n */\nconst ViewportBase = class extends React.Component {\n\tstatic displayName = 'Viewport';\n\n\tstatic contextType = SharedState;\n\n\tstatic propTypes = /** @lends agate/Panels.Viewport.prototype */ {\n\n\t\t/**\n\t\t * A function that generates a globally-unique identifier for a panel index\n\t\t *\n\t\t * @type {Function}\n\t\t * @required\n\t\t */\n\t\tgenerateId: PropTypes.func.isRequired,\n\n\t\t/**\n\t\t * Set of functions that control how the panels are transitioned into and out of the\n\t\t * viewport\n\t\t *\n\t\t * @type {Arranger}\n\t\t */\n\t\tarranger: shape,\n\n\t\t/**\n\t\t * Panels to be rendered\n\t\t *\n\t\t * @type {Panel}\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Duration of the animation (in ms) when transitioning between `Panel` components.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 500\n\t\t * @public\n\t\t */\n\t\tduration: PropTypes.number,\n\n\t\t/**\n\t\t * Index of the active panel\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t */\n\t\tindex: PropTypes.number,\n\n\t\t/**\n\t\t * Disable panel transitions\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t */\n\t\tnoAnimation: PropTypes.bool,\n\n\t\t/**\n\t\t * Direction of the animation when transitioning between `Panel` components.\n\t\t *\n\t\t * This is only applied when no arranger has been set. When using `'horizontal'`, a `SlideRightArranger` is used.\n\t\t * When using `'vertical'`, a `SlideBottomArranger` is used.\n\t\t *\n\t\t * Valid values are:\n\t\t * * `'horizontal'`, and\n\t\t * * `'vertical'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.string\n\t};\n\n\tstatic defaultProps = {\n\t\tduration: 500,\n\t\tindex: 0,\n\t\tnoAnimation: false\n\t};\n\n\tconstructor () {\n\t\tsuper();\n\n\t\tthis.paused = new Pause('Viewport');\n\t\tthis.state = {\n\t\t\tprevIndex: -1,\n\t\t\tdirection: 'forward'\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps (props, state) {\n\t\treturn {\n\t\t\tprevIndex: props.index,\n\t\t\tdirection: state.prevIndex > props.index ? 'backward' : 'forward'\n\t\t};\n\t}\n\n\tcomponentDidMount () {\n\t\t// eslint-disable-next-line react/no-find-dom-node\n\t\tthis.node = ReactDOM.findDOMNode(this);\n\t}\n\n\tcomponentDidUpdate (prevProps) {\n\t\tfor (let i = prevProps.index; this.context && i > this.props.index; i--) {\n\t\t\tthis.context.delete(i);\n\t\t}\n\t}\n\n\tcomponentWillUnmount () {\n\t\tthis.paused.resume();\n\t}\n\n\taddTransitioningClass = () => {\n\t\tif (this.node) {\n\t\t\tthis.node.classList.add(css.transitioning);\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tremoveTransitioningClass = () => {\n\t\tif (this.node) {\n\t\t\tthis.node.classList.remove(css.transitioning);\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tpause = () => this.paused.pause();\n\n\tresume = () => this.paused.resume();\n\n\thandle = handle.bind(this);\n\n\thandleTransition = this.handle(\n\t\tforward('onTransition'),\n\t\tthis.removeTransitioningClass,\n\t\tthis.resume\n\t);\n\n\thandleWillTransition = this.handle(\n\t\tforward('onWillTransition'),\n\t\tthis.addTransitioningClass,\n\t\tthis.pause\n\t);\n\n\tmapChildren = (children, generateId) => React.Children.map(children, (child, index) => {\n\t\tif (child) {\n\t\t\tconst {spotlightId = generateId(index, 'panel-container', Spotlight.remove)} = child.props;\n\t\t\tconst props = {\n\t\t\t\tspotlightId,\n\t\t\t\t'data-index': index\n\t\t\t};\n\n\t\t\tif (child.props.autoFocus == null && this.state.direction === 'forward') {\n\t\t\t\tprops.autoFocus = 'default-element';\n\t\t\t}\n\n\t\t\treturn React.cloneElement(child, props);\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t});\n\n\tgetArranger = () => {\n\t\tconst {arranger, orientation} = this.props;\n\n\t\tif (arranger) return arranger;\n\t\tif (orientation === 'vertical') return VerticalArranger;\n\t\telse return HorizontalArranger;\n\t};\n\n\tgetEnteringProp = (noAnimation) => noAnimation ? null : 'hideChildren';\n\n\trender () {\n\t\tconst {children, duration, generateId, index, noAnimation, ...rest} = this.props;\n\t\tconst arranger = this.getArranger();\n\t\tconst enteringProp = this.getEnteringProp(noAnimation);\n\t\tconst mappedChildren = this.mapChildren(children, generateId);\n\t\tconst className = classnames(css.viewport, rest.className);\n\n\t\tconst count = React.Children.count(mappedChildren);\n\t\tinvariant(\n\t\t\tindex === 0 && count === 0 || index < count,\n\t\t\t`Panels index, ${index}, is invalid for number of children, ${count}`\n\t\t);\n\n\t\tdelete rest.arranger;\n\t\tdelete rest.orientation;\n\n\t\treturn (\n\t\t\t<ViewManager\n\t\t\t\t{...rest}\n\t\t\t\tarranger={arranger}\n\t\t\t\tclassName={className}\n\t\t\t\tcomponent=\"main\"\n\t\t\t\tduration={duration}\n\t\t\t\tenteringDelay={100} // TODO: Can we remove this?\n\t\t\t\tenteringProp={enteringProp}\n\t\t\t\tindex={index}\n\t\t\t\tnoAnimation={noAnimation}\n\t\t\t\tonTransition={this.handleTransition}\n\t\t\t\tonWillTransition={this.handleWillTransition}\n\t\t\t>\n\t\t\t\t{mappedChildren}\n\t\t\t</ViewManager>\n\t\t);\n\t}\n};\n\nconst Viewport = SharedStateDecorator(ViewportBase);\n\nexport default Viewport;\nexport {\n\tViewport,\n\tViewportBase\n};\n","import kind from '@enact/core/kind';\nimport Measurable from '@enact/ui/Measurable';\nimport Slottable from '@enact/ui/Slottable';\nimport {shape} from '@enact/ui/ViewManager';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport Skinnable from '../Skinnable';\n\nimport CancelDecorator from './CancelDecorator';\nimport Controls from './Controls';\nimport IdProvider from './IdProvider';\nimport Viewport from './Viewport';\n\nimport componentCss from './Panels.module.less';\n\nconst getControlsId = (id) => id && `${id}-controls`;\n\n/**\n * Basic Panels component without breadcrumbs or default [arranger]{@link ui/ViewManager.Arranger}\n *\n * @class Panels\n * @memberof agate/Panels\n * @ui\n * @public\n */\nconst PanelsBase = kind({\n\tname: 'Panels',\n\n\tpropTypes: /** @lends agate/Panels.Panels.prototype */ {\n\t\t/**\n\t\t * Function that generates unique identifiers for Panel instances.\n\t\t *\n\t\t * @type {Function}\n\t\t * @required\n\t\t * @private\n\t\t */\n\t\tgenerateId: PropTypes.func.isRequired,\n\n\t\t/**\n\t\t * Set of functions that control how the panels are transitioned into and out of the\n\t\t * viewport.\n\t\t *\n\t\t * @see {@link ui/ViewManager.SlideRightArranger}\n\t\t * @type {ui/ViewManager.Arranger}\n\t\t * @public\n\t\t */\n\t\tarranger: shape,\n\n\t\t/**\n\t\t * An object whose keys will used as props for each child\n\t\t */\n\t\tchildProps: PropTypes.object,\n\n\t\t/**\n\t\t * Sets the hint string read when focusing the application close button.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'Exit app'\n\t\t * @public\n\t\t */\n\t\tcloseButtonAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * A slot to insert additional Panels-level buttons into the global-navigation area.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tcontrols: PropTypes.node,\n\n\t\t/**\n\t\t * The measurement bounds of the controls node\n\t\t *\n\t\t * @type {Object}\n\t\t * @private\n\t\t */\n\t\tcontrolsMeasurements: PropTypes.object,\n\n\t\t/**\n\t\t * The method which receives the reference node to the controls element, used to determine\n\t\t * the `controlsMeasurements`.\n\t\t *\n\t\t * @type {Function|Object}\n\t\t * @private\n\t\t */\n\t\tcontrolsRef: PropTypes.oneOfType([\n\t\t\tPropTypes.func,\n\t\t\tPropTypes.shape({current: PropTypes.any})\n\t\t]),\n\n\t\t/**\n\t\t * The portion of the screen that this `Panels` instance should cover.\n\t\t *\n\t\t * @type {('full'|'partial')}\n\t\t * @default 'full'\n\t\t * @public\n\t\t */\n\t\tcover: PropTypes.oneOf(['full', 'partial']),\n\n\t\t/**\n\t\t * Duration of the animation (in ms) when transitioning between `Panel` components.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 500\n\t\t * @public\n\t\t */\n\t\tduration: PropTypes.number,\n\n\t\t/**\n\t\t * Unique identifier for the Panels instance.\n\t\t *\n\t\t * When defined, `Panels` will manage the presentation state of `Panel` instances in order\n\t\t * to restore it when returning to the `Panel`. See\n\t\t * [noSharedState]{@link agate/Panels.Panels.noSharedState} for more details on shared\n\t\t * state.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tid: PropTypes.string,\n\n\t\t/**\n\t\t * Index of the active panel\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tindex: PropTypes.number,\n\n\t\t/**\n\t\t * Disables panel transitions.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tnoAnimation: PropTypes.bool,\n\n\t\t/**\n\t\t * Indicates the close button will not be rendered on the top right corner.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tnoCloseButton: PropTypes.bool,\n\n\t\t/**\n\t\t * Prevents maintaining shared state for framework components within this `Panels` instance.\n\t\t *\n\t\t * When `false`, each `Panel` will track the state of some framework components in order to\n\t\t * restore that state when the Panel is recreated. For example, the scroll position of a\n\t\t * `agate/Scroller` within a `Panel` will be saved and restored when returning to that\n\t\t * `Panel`.\n\t\t *\n\t\t * This only applied when navigating \"back\" (to a lower index) to `Panel`. When navigating\n\t\t * \"forwards\" (to a higher index), the `Panel` and its contained components will use their\n\t\t * default state.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tnoSharedState: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when the app close button is clicked.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonApplicationClose: PropTypes.func,\n\n\t\t/**\n\t\t * Called with cancel/back key events.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonBack: PropTypes.func,\n\n\t\t/**\n\t\t * Direction of the animation when transitioning between `Panel` components.\n\t\t *\n\t\t * This is only applied when no arranger has been set. When using `'horizontal'`, a `SlideRightArranger` is used.\n\t\t * When using `'vertical'`, a `SlideBottomArranger` is used.\n\t\t *\n\t\t * Valid values are:\n\t\t * * `'horizontal'`, and\n\t\t * * `'vertical'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical'])\n\t},\n\n\tdefaultProps: {\n\t\tcover: 'full',\n\t\tduration: 500,\n\t\tindex: 0,\n\t\tnoAnimation: false,\n\t\tnoCloseButton: false,\n\t\tnoSharedState: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'panels',\n\t\tpublicClassNames: 'panels enact-fit'\n\t},\n\n\tcomputed: {\n\t\tchildProps: ({childProps, controls, id, noCloseButton}) => {\n\t\t\tif ((noCloseButton && !controls) || !id) {\n\t\t\t\treturn childProps;\n\t\t\t}\n\n\t\t\tconst updatedChildProps = Object.assign({}, childProps);\n\t\t\tconst controlsId = getControlsId(id);\n\t\t\tconst owns = updatedChildProps['aria-owns'];\n\n\t\t\tif (owns) {\n\t\t\t\tupdatedChildProps['aria-owns'] = `${owns} ${controlsId}`;\n\t\t\t} else {\n\t\t\t\tupdatedChildProps['aria-owns'] = controlsId;\n\t\t\t}\n\n\t\t\treturn updatedChildProps;\n\t\t},\n\n\t\tclassName: ({controls, cover, noCloseButton, styler}) => styler.append(cover, {\n\t\t\t'agate-panels-hasControls': (!noCloseButton || !!controls) // If there is a close button or controls were specified\n\t\t}),\n\n\t\tstyle: ({controlsMeasurements, style = {}}) => (controlsMeasurements ? {\n\t\t\t...style,\n\t\t\t'--agate-panels-controls-width': controlsMeasurements.width + 'px'\n\t\t} : style),\n\n\t\tviewportId: ({id}) => id && `${id}-viewport`\n\t},\n\n\trender: ({\n\t\tarranger,\n\t\tchildProps,\n\t\tchildren,\n\t\tcloseButtonAriaLabel,\n\t\tcontrols,\n\t\tcontrolsRef,\n\t\tduration,\n\t\tgenerateId,\n\t\tid,\n\t\tindex,\n\t\tnoAnimation,\n\t\tnoCloseButton,\n\t\tnoSharedState,\n\t\tonApplicationClose,\n\t\torientation,\n\t\tviewportId,\n\t\t...rest\n\t}) => {\n\t\tdelete rest.controlsMeasurements;\n\t\tdelete rest.cover;\n\t\tdelete rest.onBack;\n\n\t\tconst controlsId = getControlsId(id);\n\n\t\treturn (\n\t\t\t<div {...rest} id={id}>\n\t\t\t\t<Controls\n\t\t\t\t\tcloseButtonAriaLabel={closeButtonAriaLabel}\n\t\t\t\t\tid={controlsId}\n\t\t\t\t\tspotlightId={controlsId}\n\t\t\t\t\tnoCloseButton={noCloseButton}\n\t\t\t\t\tonApplicationClose={onApplicationClose}\n\t\t\t\t\tref={controlsRef}\n\t\t\t\t>\n\t\t\t\t\t{controls}\n\t\t\t\t</Controls>\n\t\t\t\t<Viewport\n\t\t\t\t\tarranger={arranger}\n\t\t\t\t\tchildProps={childProps}\n\t\t\t\t\tduration={duration}\n\t\t\t\t\tgenerateId={generateId}\n\t\t\t\t\tid={viewportId}\n\t\t\t\t\tindex={index}\n\t\t\t\t\tnoAnimation={noAnimation}\n\t\t\t\t\tnoSharedState={noSharedState}\n\t\t\t\t\torientation={orientation}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</Viewport>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nconst PanelsDecorator = compose(\n\tSlottable({slots: ['controls']}),\n\tCancelDecorator({cancel: 'onBack'}),\n\tMeasurable({refProp: 'controlsRef', measurementProp: 'controlsMeasurements'}),\n\tIdProvider,\n\tSkinnable\n);\n\nconst Panels = PanelsDecorator(PanelsBase);\n\nexport default Panels;\nexport {\n\tPanels,\n\tPanelsBase\n};\n","/**\n * Provides the `deprecate` method\n *\n * @module core/internal/deprecate\n * @private\n */\n\n// Utility method to format deprecate message\nconst formatMsg = ({message, name, until, replacedBy, since}) => {\n\tlet msg = 'DEPRECATED:';\n\n\tif (name) {\n\t\tmsg += ` ${name}`;\n\t}\n\tif (since) {\n\t\tmsg += ` since ${since}`;\n\t}\n\tif (until) {\n\t\tif (name || since) {\n\t\t\tmsg += '.';\n\t\t}\n\t\tmsg += ` Will be removed in ${until}`;\n\t}\n\tif (replacedBy) {\n\t\tif (name || since || until) {\n\t\t\tmsg += '.';\n\t\t}\n\t\tmsg += ` Replaced by ${replacedBy}`;\n\t}\n\tif (name || since || until || replacedBy) {\n\t\tmsg += '.';\n\t}\n\tif (message) {\n\t\tmsg += ` ${message}.`;\n\t}\n\treturn msg;\n};\n\n// Utility method for console warning\nconst warn = (msg) => {\n\tif (typeof console !== 'undefined') {\n\t\tconsole.warn(msg);\t// eslint-disable-line no-console\n\t}\n};\n\n/**\n * Marks a function, component or property (via `propTypes`) as deprecated. Deprecated items will\n * log a message on first invocation. Can also be used 'stand-alone' to issue a deprecation warning.\n * In stand-alone mode it currently will log every time.  In production mode, the deprecation\n * warning disappears.\n *\n * @function\n * @param {*} thing - The thing to be wrapped, or the deprecation config in stand-alone\n * @param {Object?} config - The deprecation config\n * @param {String?} config.name - An optional name for the deprecated item\n * @param {String?} config.message - An optional message to display\n * @param {String?} config.since - The version where deprecation started (optional)\n * @param {String?} config.until - The version where the functionality will be removed (optional)\n * @param {String?} config.replacedBy - An optional alternative\n * @param {Boolean?} config.alwaysWarn - If `true`, a warning will be issued for every access\n * @returns {*} Either a wrapped version of `thing` or an unwrapped version of `thing` in\n *\tproduction or stand-alone mode\n * @memberof core/internal/deprecate\n * @private\n */\nconst deprecate = function (thing, config) {\n\tif (__DEV__) {\n\t\tif (!config) {\t// If no config, config only invocation, just log message\n\t\t\tconst msg = formatMsg(thing);\n\t\t\twarn(msg);\n\t\t\treturn thing;\n\t\t} else {\n\t\t\tlet displayed, msg;\n\t\t\treturn (...args) => {\n\t\t\t\tif (!displayed || config.alwaysWarn) {\n\t\t\t\t\tif (!msg) {\n\t\t\t\t\t\tmsg = formatMsg(config);\n\t\t\t\t\t}\n\t\t\t\t\twarn(msg);\n\t\t\t\t\tdisplayed = true;\n\t\t\t\t}\n\t\t\t\treturn thing(...args);\n\t\t\t};\n\t\t}\n\t} else {\n\t\treturn thing;\n\t}\n};\n\nexport default deprecate;\nexport {deprecate};\n","import PropTypes from 'prop-types';\n\nimport {isRenderable} from '../../util';\n\nimport deprecate from '../deprecate';\n\nconst isRequired = (fn) => {\n\tfn.isRequired = function (props, key, componentName, location, propFullName, ...rest) {\n\t\tconst propValue = props[key];\n\t\tif (typeof propValue === 'undefined') {\n\t\t\treturn new Error(\n\t\t\t\t`'${propFullName}' is required for '${componentName}' but was undefined.`\n\t\t\t);\n\t\t}\n\n\t\treturn fn(propValue, key, componentName, location, propFullName, ...rest);\n\t};\n\n\treturn fn;\n};\n\nconst renderable = isRequired(function (props, key, componentName) {\n\tconst propValue = props[key];\n\tif (propValue && !isRenderable(propValue)) {\n\t\treturn new Error(\n\t\t\t`Invalid prop '${key}' supplied to '${componentName}'. ` +\n\t\t\t`Expected a renderable value but received '${typeof propValue}' instead.`\n\t\t);\n\t}\n});\n\nconst component = isRequired(function (props, key, componentName) {\n\tconst propValue = props[key];\n\tif (propValue && (typeof propValue === 'string' || !isRenderable(propValue))) {\n\t\treturn new Error(\n\t\t\t`Invalid prop '${key}' supplied to '${componentName}'. ` +\n\t\t\t`Expected a function but received '${typeof propValue}' instead.`\n\t\t);\n\t}\n});\n\nconst renderableOverride = PropTypes.oneOfType([\n\tPropTypes.element,\n\trenderable\n]);\n\nconst componentOverride = PropTypes.oneOfType([\n\tPropTypes.element,\n\tcomponent\n]);\n\nconst ref = PropTypes.oneOfType([PropTypes.shape({\n\tcurrent: PropTypes.any\n}), PropTypes.func]);\n\n/*\n * Wrap a prop type validator with a deprecation warning when the prop has a non-null value\n *\n * @param {Function} base Prop type validator\n * @param {Object} config deprecatioon configuration\n */\nconst deprecated = (base, config) => {\n\t// Wrap in a no-op so deprecate only warns once\n\tconst warn = deprecate(() => true, config);\n\treturn (props, key, ...rest) => {\n\t\t// Warn on a non-null value for the prop\n\t\tif (props[key] != null) warn();\n\n\t\t// Pass on to the prop type validator\n\t\treturn base(props, key, ...rest);\n\t};\n};\n\nconst EnactPropTypes = {\n\tcomponent,\n\tcomponentOverride,\n\tref,\n\tdeprecated,\n\trenderable,\n\trenderableOverride\n};\n\nexport default EnactPropTypes;\n","/**\n * Exports the {@link i18n/locale.isNonLatinLocale}, {@link i18n/locale.isRtlLocale} and\n * {@link i18n/locale.updateLocale} functions.\n *\n * @module i18n/locale\n * @private\n */\n\nimport ilib from 'ilib';\nimport LocaleInfo from 'ilib/lib/LocaleInfo';\nimport ScriptInfo from 'ilib/lib/ScriptInfo';\n\nimport {initCaseMappers} from '../src/case';\n\n// Returns `true` if a locale list is provided and it includes either the language (the first part\n// of the spec e.g. ko) or the entire spec (e.g. ko-KR)\nconst includesLocale = (localeList, locale) => Array.isArray(localeList) && (\n\tlocaleList.includes(locale.getLanguage()) ||\n\tlocaleList.includes(locale.toString())\n);\n\n/**\n * Tell whether or not the given locale is considered a non-Latin locale for webOS purposes. This\n * controls which fonts are used in various places to show the various languages. An undefined spec\n * parameter means to test the current locale.\n *\n * @memberof i18n/locale\n * @param {ilib.Locale|string|undefined} spec locale specifier or locale object of the locale to\n *\ttest, or undefined to test the current locale\n * @param {Object} [options] An object configuring the request. Must include an `onLoad` member to\n *                           receive the result.\n */\nfunction isNonLatinLocale (spec, options = {}) {\n\tconst {onLoad, latinLanguageOverrides, nonLatinLanguageOverrides, ...rest} = options;\n\n\tif (!onLoad) return;\n\n\t// eslint-disable-next-line no-new\n\tnew LocaleInfo(spec, {\n\t\t...rest,\n\t\tonLoad: (li) => {\n\t\t\tconst locale = li.getLocale();\n\n\t\t\tonLoad(\n\t\t\t\t// the language actually is non-latin and should not be treated as latin\n\t\t\t\t(li.getScript() !== 'Latn' && !includesLocale(latinLanguageOverrides, locale)) ||\n\t\t\t\t// the language is latin but should be treated as non-latin\n\t\t\t\tincludesLocale(nonLatinLanguageOverrides, locale)\n\t\t\t);\n\t\t}\n\t});\n}\n\n/**\n * Determines if current locale is a right-to-left locale.\n *\n * @memberof i18n/locale\n * @param {Object} [options] An object configuring the request. Must include an `onLoad` member to\n *                           receive the result.\n */\nfunction isRtlLocale (options = {}) {\n\tconst {onLoad, sync} = options;\n\n\tif (!onLoad) return;\n\n\t// eslint-disable-next-line no-new\n\tnew LocaleInfo(ilib.getLocale(), {\n\t\t...options,\n\t\tonLoad: (li) => {\n\t\t\tconst scriptName = li.getScript();\n\t\t\t// eslint-disable-next-line no-new\n\t\t\tnew ScriptInfo(scriptName, {\n\t\t\t\tsync,\n\t\t\t\tonLoad: (script) => {\n\t\t\t\t\tonLoad(script.getScriptDirection() === 'rtl');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n}\n\n/**\n * This Enact hook lets us know that the system locale has changed and gives\n * us a chance to update the iLib locale before Enact broadcasts its\n * `onlocalechange` signal.\n * Provide a locale string, like 'en-US' or 'ja-JP', to conveniently set\n * that locale immediately. Provide nothing, and reset the locale back to the\n * browser's default language.\n *\n * @memberof i18n/locale\n * @param {String} locale Locale identifier\n * @returns {undefined}\n */\nconst updateLocale = function (locale) {\n\t// blow away the cache to force it to reload the manifest files for the new app\n\t// eslint-disable-next-line no-undefined\n\tif (ilib._load) ilib._load.manifest = undefined;\n\t// remove the cache of the platform name to allow transition between snapshot and browser\n\tdelete ilib._platform;\n\t// load any external ilib/resbundle data\n\tilib.data = global.ilibData || ilib.data;\n\tilib.data.cache = ilib.data.cache || {};\n\tilib.data.cache['ResBundle-strings'] = global.resBundleData || {};\n\t// ilib handles falsy values and automatically uses local locale when encountered which\n\t// is expected and desired\n\tilib.setLocale(locale);\n\tconst newLocale = ilib.getLocale();\n\t// Recreate the case mappers to use the just-recently-set locale\n\tinitCaseMappers();\n\n\treturn newLocale;\n};\n\nexport {\n\tisNonLatinLocale,\n\tisRtlLocale,\n\tupdateLocale\n};\n","const calcProportion = (min, max, value) => {\n\tif (value <= min) {\n\t\treturn 0;\n\t} else if (value >= max) {\n\t\treturn 1;\n\t} else {\n\t\treturn (value - min) / (max - min);\n\t}\n};\n\nexport {\n\tcalcProportion\n};\n","import clamp from 'ramda/src/clamp';\nimport {adaptEvent, forKey, forProp, forward, handle, oneOf, stop} from '@enact/core/handle';\nimport {is} from '@enact/core/keymap';\nimport {calcProportion} from '@enact/ui/Slider/utils';\n\nconst calcStep = (knobStep, step) => {\n\tlet s;\n\n\tif (knobStep != null) {\n\t\ts = knobStep;\n\t} else if (step != null) {\n\t\ts = step;\n\t}\n\n\t// default to a step of 1 if neither are set or are set to 0\n\t// otherwise, increment/decrement would be no-ops\n\treturn s || 1;\n};\n\nconst isIncrement = ({keyCode}, {orientation}) => {\n\treturn orientation === 'vertical' ? is('up', keyCode) : is('right', keyCode);\n};\n\nconst isDecrement = ({keyCode}, {orientation}) => {\n\treturn orientation === 'vertical' ? is('down', keyCode) : is('left', keyCode);\n};\n\nconst isNotMax = (ev, {value, max}) => {\n\treturn value !== max;\n};\n\nconst isNotMin = (ev, {min, value = min}) => {\n\treturn value !== min;\n};\n\nconst emitChange = (direction) =>  adaptEvent(\n\t(ev, {knobStep, max, min, step, value = min}) => {\n\t\tconst newValue = clamp(min, max, value + (calcStep(knobStep, step) * direction));\n\n\t\treturn {\n\t\t\tvalue: newValue,\n\t\t\tproportion: calcProportion(min, max, newValue),\n\t\t\ttype: 'onChange'\n\t\t};\n\t},\n\tforward('onChange')\n);\n\nconst isActive = (ev, props) => {\n\treturn props.active || props.activateOnFocus;\n};\n\nconst handleIncrement = handle(\n\tisActive,\n\tisIncrement,\n\tstop,\n\tisNotMax,\n\temitChange(1)\n);\n\nconst handleDecrement = handle(\n\tisActive,\n\tisDecrement,\n\tstop,\n\tisNotMin,\n\temitChange(-1)\n);\n\nconst either = (a, b) => (...args) => a(...args) || b(...args);\nconst atMinimum = (ev, {min, value = min}) => value <= min;\nconst atMaximum = (ev, {max, min, value = min}) => value >= max;\nconst forwardOnlyType = (type) => adaptEvent(() => ({type}), forward(type));\n\nconst forwardSpotlightEvents = oneOf(\n\t[forKey('left'), handle(\n\t\teither(forProp('orientation', 'vertical'), atMinimum),\n\t\tforwardOnlyType('onSpotlightLeft')\n\t)],\n\t[forKey('right'), handle(\n\t\teither(forProp('orientation', 'vertical'), atMaximum),\n\t\tforwardOnlyType('onSpotlightRight')\n\t)],\n\t[forKey('down'), handle(\n\t\teither(forProp('orientation', 'horizontal'), atMinimum),\n\t\tforwardOnlyType('onSpotlightDown')\n\t)],\n\t[forKey('up'), handle(\n\t\teither(forProp('orientation', 'horizontal'), atMaximum),\n\t\tforwardOnlyType('onSpotlightUp')\n\t)]\n);\n\nexport {\n\tforwardSpotlightEvents,\n\temitChange,\n\thandleDecrement,\n\thandleIncrement\n};\n","import {forward} from '@enact/core/handle';\nimport platform from '@enact/core/platform';\nimport {onWindowReady} from '@enact/core/snapshot';\nimport {clamp} from '@enact/core/util';\nimport Spotlight, {getDirection} from '@enact/spotlight';\nimport {getRect} from '@enact/spotlight/src/utils';\nimport {constants} from '@enact/ui/useScroll';\nimport utilEvent from '@enact/ui/useScroll/utilEvent';\nimport utilDOM from '@enact/ui/useScroll/utilDOM';\nimport {useEffect, useRef} from 'react';\n\nconst {animationDuration, epsilon, isPageDown, isPageUp, paginationPageMultiplier, scrollWheelPageMultiplierForMaxPixel} = constants;\nlet lastPointer = {x: 0, y: 0};\n\nconst useEventFocus = (props, instances, context) => {\n\tconst {scrollMode} = props;\n\tconst {scrollContainerHandle, scrollContainerRef, scrollContentRef, spottable, themeScrollContentHandle} = instances;\n\tconst {alertScrollbarTrack} = context;\n\n\t// Functions\n\n\tconst startScrollOnFocus = (pos) => {\n\t\tif (pos) {\n\t\t\tconst\n\t\t\t\t{top, left} = pos,\n\t\t\t\tbounds = scrollContainerHandle.current.getScrollBounds();\n\n\t\t\tif (scrollMode === 'translate') {\n\t\t\t\tconst\n\t\t\t\t\tscrollHorizontally = bounds.maxLeft > 0 && left !== scrollContainerHandle.current.scrollLeft,\n\t\t\t\t\tscrollVertically = bounds.maxTop > 0 && top !== scrollContainerHandle.current.scrollTop;\n\n\t\t\t\tif (scrollHorizontally || scrollVertically) {\n\t\t\t\t\tscrollContainerHandle.current.start({\n\t\t\t\t\t\ttargetX: left,\n\t\t\t\t\t\ttargetY: top,\n\t\t\t\t\t\tanimate: (animationDuration > 0) && spottable.current.animateOnFocus\n\t\t\t\t\t});\n\t\t\t\t\tspottable.current.lastScrollPositionOnFocus = pos;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst\n\t\t\t\t\tscrollHorizontally = bounds.maxLeft > 0 && Math.abs(left - scrollContainerHandle.current.scrollLeft) > epsilon,\n\t\t\t\t\tscrollVertically = bounds.maxTop > 0 && Math.abs(top - scrollContainerHandle.current.scrollTop) > epsilon;\n\n\t\t\t\tif (scrollHorizontally || scrollVertically) {\n\t\t\t\t\tscrollContainerHandle.current.start({\n\t\t\t\t\t\ttargetX: left,\n\t\t\t\t\t\ttargetY: top,\n\t\t\t\t\t\tanimate: spottable.current.animateOnFocus\n\t\t\t\t\t});\n\t\t\t\t\tspottable.current.lastScrollPositionOnFocus = pos;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tfunction calculateAndScrollTo () {\n\t\tconst\n\t\t\tpositionFn = themeScrollContentHandle.current.calculatePositionOnFocus,\n\t\t\tscrollContentNode = scrollContentRef.current,\n\t\t\tspotItem = Spotlight.getCurrent();\n\n\t\tif (spotItem && positionFn && utilDOM.containsDangerously(scrollContentNode, spotItem)) {\n\t\t\tconst lastPos = spottable.current.lastScrollPositionOnFocus;\n\t\t\tlet pos;\n\n\t\t\t// If scroll animation is ongoing, we need to pass last target position to\n\t\t\t// determine correct scroll position.\n\t\t\tif (lastPos & (\n\t\t\t\tscrollMode === 'translate' && scrollContainerHandle.current.animator.isAnimating() ||\n\t\t\t\tscrollMode === 'native' && scrollContainerHandle.current.scrolling\n\t\t\t)) {\n\t\t\t\tconst\n\t\t\t\t\tcontentRect = getRect(scrollContentNode),\n\t\t\t\t\titemRect = getRect(spotItem);\n\t\t\t\tlet scrollPosition;\n\n\t\t\t\tif (props.direction === 'horizontal' || props.direction === 'both' && !(itemRect.left >= contentRect.left && itemRect.right <= contentRect.right)) {\n\t\t\t\t\tscrollPosition = lastPos.left;\n\t\t\t\t} else if (props.direction === 'vertical' || props.direction === 'both' && !(itemRect.top >= contentRect.top && itemRect.bottom <= contentRect.bottom)) {\n\t\t\t\t\tscrollPosition = lastPos.top;\n\t\t\t\t}\n\n\t\t\t\tpos = positionFn({item: spotItem, scrollPosition});\n\t\t\t} else {\n\t\t\t\tpos = positionFn({item: spotItem});\n\t\t\t}\n\n\t\t\tif (pos && (pos.left !== scrollContainerHandle.current.scrollLeft || pos.top !== scrollContainerHandle.current.scrollTop)) {\n\t\t\t\tstartScrollOnFocus(pos);\n\t\t\t}\n\n\t\t\t// update `scrollHeight`\n\t\t\tscrollContainerHandle.current.bounds.scrollHeight = scrollContainerHandle.current.getScrollBounds().scrollHeight;\n\t\t}\n\t}\n\n\tfunction handleFocus (ev) {\n\t\tconst shouldPreventScrollByFocus = themeScrollContentHandle.current.shouldPreventScrollByFocus ?\n\t\t\tthemeScrollContentHandle.current.shouldPreventScrollByFocus() :\n\t\t\tfalse;\n\n\t\tif (spottable.current.isWheeling) {\n\t\t\tscrollContainerHandle.current.stop();\n\t\t\tif (scrollMode === 'translate') {\n\t\t\t\tspottable.current.animateOnFocus = false;\n\t\t\t}\n\t\t}\n\n\t\tif (!Spotlight.getPointerMode()) {\n\t\t\talertScrollbarTrack();\n\t\t}\n\n\t\tif (!(shouldPreventScrollByFocus || Spotlight.getPointerMode() || scrollContainerHandle.current.isDragging || spottable.current.indexToFocus)) {\n\t\t\tconst\n\t\t\t\titem = ev.target,\n\t\t\t\tspotItem = Spotlight.getCurrent();\n\n\t\t\tif (item && item === spotItem) {\n\t\t\t\tcalculateAndScrollTo();\n\t\t\t}\n\t\t} else if (themeScrollContentHandle.current.setLastFocusedNode) {\n\t\t\tthemeScrollContentHandle.current.setLastFocusedNode(ev.target);\n\t\t}\n\t}\n\n\tfunction hasFocus () {\n\t\tconst current = Spotlight.getCurrent();\n\n\t\tif (current && scrollContainerRef.current) {\n\t\t\treturn utilDOM.containsDangerously(scrollContainerRef, current);\n\t\t}\n\t}\n\n\t// Return\n\n\treturn {\n\t\tcalculateAndScrollTo,\n\t\thandleFocus,\n\t\thasFocus\n\t};\n};\n\nconst useEventKey = (props, instances, context) => {\n\tconst {scrollMode} = props;\n\tconst {themeScrollContentHandle, spottable, scrollContentRef, scrollContainerHandle} = instances;\n\tconst {hasFocus, isContent} = context;\n\n\t// Functions\n\n\tfunction handleKeyDown (ev) {\n\t\tconst {keyCode, repeat, target} = ev;\n\n\t\tforward('onKeyDown', ev, props);\n\n\t\tif (isPageUp(keyCode) || isPageDown(keyCode)) {\n\t\t\tev.preventDefault();\n\t\t}\n\n\t\tspottable.current.animateOnFocus = true;\n\n\t\tif (!repeat && hasFocus()) {\n\t\t\tlet direction = null;\n\n\t\t\tif (isPageUp(keyCode) || isPageDown(keyCode)) {\n\t\t\t\tif (props.direction === 'vertical' || props.direction === 'both') {\n\t\t\t\t\tdirection = isPageUp(keyCode) ? 'up' : 'down';\n\n\t\t\t\t\tif (isContent(target)) {\n\t\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\t\tscrollByPage(direction);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (getDirection(keyCode) && (scrollMode === 'translate' || scrollMode === 'native' && !Spotlight.getPointerMode())) {\n\t\t\t\tscrollContainerHandle.current.lastInputType = 'arrowKey';\n\t\t\t\tdirection = getDirection(keyCode);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction scrollByPage (direction) {\n\t\tconst\n\t\t\t{scrollTop} = scrollContainerHandle.current,\n\t\t\tfocusedItem = Spotlight.getCurrent(),\n\t\t\tbounds = scrollContainerHandle.current.getScrollBounds(),\n\t\t\tisUp = direction === 'up',\n\t\t\tdirectionFactor = isUp ? -1 : 1,\n\t\t\tpageDistance = directionFactor * bounds.clientHeight * paginationPageMultiplier;\n\t\tlet scrollPossible = false;\n\n\t\tif (scrollMode === 'translate') {\n\t\t\tscrollPossible = isUp ? scrollTop > 0 : bounds.maxTop > scrollTop;\n\t\t} else {\n\t\t\tscrollPossible = isUp ? scrollTop > 0 : bounds.maxTop - scrollTop > epsilon;\n\t\t}\n\n\t\tscrollContainerHandle.current.lastInputType = 'pageKey';\n\n\t\tif (directionFactor !== scrollContainerHandle.current.wheelDirection) {\n\t\t\tscrollContainerHandle.current.isScrollAnimationTargetAccumulated = false;\n\t\t\tscrollContainerHandle.current.wheelDirection = directionFactor;\n\t\t}\n\n\t\tif (scrollPossible) {\n\t\t\tif (focusedItem) {\n\t\t\t\tconst contentNode = scrollContentRef.current;\n\n\t\t\t\t// Should do nothing when focusedItem is paging control button of Scrollbar\n\t\t\t\tif (utilDOM.containsDangerously(contentNode, focusedItem)) {\n\t\t\t\t\tconst\n\t\t\t\t\t\tcontentRect = contentNode.getBoundingClientRect(),\n\t\t\t\t\t\tclientRect = focusedItem.getBoundingClientRect(),\n\t\t\t\t\t\tyAdjust = isUp ? 1 : -1,\n\t\t\t\t\t\tx = clamp(contentRect.left, contentRect.right, (clientRect.right + clientRect.left) / 2);\n\t\t\t\t\tlet y = 0;\n\n\t\t\t\t\tif (scrollMode === 'translate') {\n\t\t\t\t\t\ty = bounds.maxTop <= scrollTop + pageDistance || 0 >= scrollTop + pageDistance ?\n\t\t\t\t\t\t\tcontentRect[isUp ? 'top' : 'bottom'] + yAdjust :\n\t\t\t\t\t\t\tclamp(contentRect.top, contentRect.bottom, (clientRect.bottom + clientRect.top) / 2);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ty = bounds.maxTop - epsilon < scrollTop + pageDistance || epsilon > scrollTop + pageDistance ?\n\t\t\t\t\t\t\tcontentNode.getBoundingClientRect()[isUp ? 'top' : 'bottom'] + yAdjust :\n\t\t\t\t\t\t\tclamp(contentRect.top, contentRect.bottom, (clientRect.bottom + clientRect.top) / 2);\n\t\t\t\t\t}\n\n\t\t\t\t\tfocusedItem.blur();\n\n\t\t\t\t\tif (!props['data-spotlight-container-disabled']) {\n\t\t\t\t\t\tthemeScrollContentHandle.current.setContainerDisabled(true);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (themeScrollContentHandle.current.pauseSpotlight) {\n\t\t\t\t\t\tthemeScrollContentHandle.current.pauseSpotlight(true);\n\t\t\t\t\t}\n\n\t\t\t\t\tspottable.current.pointToFocus = {direction, x, y};\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tspottable.current.pointToFocus = {direction, x: lastPointer.x, y: lastPointer.y};\n\t\t\t}\n\n\t\t\tscrollContainerHandle.current.scrollToAccumulatedTarget(pageDistance, true);\n\t\t}\n\t}\n\n\tfunction scrollByPageOnPointerMode (ev) {\n\t\tconst {keyCode, repeat} = ev;\n\n\t\tforward('onKeyDown', ev, props);\n\t\tev.preventDefault();\n\n\t\tspottable.current.animateOnFocus = true;\n\n\t\tif (!repeat && (props.direction === 'vertical' || props.direction === 'both')) {\n\t\t\tconst direction = isPageUp(keyCode) ? 'up' : 'down';\n\n\t\t\tscrollByPage(direction);\n\n\t\t\treturn true; // means consumed\n\t\t}\n\n\t\treturn false; // means to be propagated\n\t}\n\n\t// Return\n\n\treturn {\n\t\thandleKeyDown,\n\t\tlastPointer,\n\t\tscrollByPageOnPointerMode\n\t};\n};\n\n/*\n * Track the last position of the pointer to check if a list should scroll by\n * page up/down keys when the pointer is on a list without any focused node.\n * `keydown` event does not occur if there is no focus on the node and\n * its descendants, we add `keydown` handler to `document` also.\n */\nconst scrollers = new Map();\n\n// An app could have lists and/or scrollers more than one,\n// so we should test all of them when page up/down key is pressed.\nconst pointerTracker = (ev) => {\n\tlastPointer.x = ev.clientX;\n\tlastPointer.y = ev.clientY;\n};\n\nconst pageKeyHandler = (ev) => {\n\tconst {keyCode} = ev;\n\n\tif (Spotlight.getPointerMode() && !Spotlight.getCurrent() && (isPageUp(keyCode) || isPageDown(keyCode))) {\n\t\tconst\n\t\t\t{x, y} = lastPointer,\n\t\t\telem = document.elementFromPoint(x, y);\n\n\t\tif (elem) {\n\t\t\tfor (const [key, value] of scrollers) {\n\t\t\t\tif (utilDOM.containsDangerously(value, elem)) {\n\t\t\t\t\t/* To handle page keys in nested scrollable components,\n\t\t\t\t\t * break the loop only when `scrollByPageOnPointerMode` returns `true`.\n\t\t\t\t\t * This approach assumes that an inner scrollable component is\n\t\t\t\t\t * mounted earlier than an outer scrollable component.\n\t\t\t\t\t */\n\t\t\t\t\tif (key.scrollByPageOnPointerMode(ev)) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\nconst useEventMonitor = (props, instances, context) => {\n\tconst {scrollContainerRef} = instances;\n\tconst {lastPointer: lastPointerProp, scrollByPageOnPointerMode} = context;\n\n\t// Mutable value\n\n\tconst mutableRef = useRef({pageKeyHandlerObj: {scrollByPageOnPointerMode}});\n\n\tlastPointer = lastPointerProp;\n\n\t// Hooks\n\n\tuseEffect(() => {\n\t\tconst setMonitorEventTarget = (target) => {\n\t\t\tscrollers.set(mutableRef.current.pageKeyHandlerObj, target);\n\t\t};\n\n\t\tconst deleteMonitorEventTarget = () => {\n\t\t\tscrollers.delete(mutableRef.current.pageKeyHandlerObj);\n\t\t};\n\n\t\tsetMonitorEventTarget(scrollContainerRef.current);\n\n\t\treturn () => {\n\t\t\t// TODO: Replace `this` to something.\n\t\t\tdeleteMonitorEventTarget();\n\t\t};\n\t}, [scrollContainerRef]);\n};\n\nonWindowReady(() => {\n\tutilEvent('mousemove').addEventListener(document, pointerTracker);\n\tutilEvent('keydown').addEventListener(document, pageKeyHandler);\n});\n\nconst useEventMouse = (props, instances, context) => {\n\tconst {scrollMode} = props;\n\tconst {themeScrollContentHandle, scrollContainerHandle} = instances;\n\tconst {isScrollButtonFocused} = context;\n\n\t// Functions\n\n\tfunction handleDragEnd () {\n\t\tscrollContainerHandle.current.isDragging = false;\n\n\t\tif (!scrollContainerHandle.current.isFlicked) {\n\t\t\tthemeScrollContentHandle.current.setContainerDisabled(false);\n\t\t}\n\t}\n\n\tfunction handleDragStart () {\n\t\tscrollContainerHandle.current.isDragging = true;\n\t\tthemeScrollContentHandle.current.setContainerDisabled(true);\n\t}\n\n\tfunction handleFlick ({direction}) {\n\t\tconst\n\t\t\t{canScrollHorizontally, canScrollVertically} = scrollContainerHandle.current,\n\t\t\tbounds = scrollContainerHandle.current.getScrollBounds(),\n\t\t\tfocusedItem = Spotlight.getCurrent();\n\n\t\tscrollContainerHandle.current.isFlicked = true;\n\n\t\tif (focusedItem) {\n\t\t\tfocusedItem.blur();\n\t\t}\n\n\t\tif ((\n\t\t\tdirection === 'vertical' && canScrollVertically(bounds) ||\n\t\t\tdirection === 'horizontal' && canScrollHorizontally(bounds)\n\t\t) && !props['data-spotlight-container-disabled']) {\n\t\t\tthemeScrollContentHandle.current.setContainerDisabled(true);\n\t\t}\n\t}\n\n\tfunction handleMouseDown (ev) {\n\t\tif (isScrollButtonFocused()) {\n\t\t\tev.preventDefault();\n\t\t}\n\n\t\tif (props['data-spotlight-container-disabled']) {\n\t\t\tev.preventDefault();\n\t\t} else if (scrollMode === 'native') {\n\t\t\tthemeScrollContentHandle.current.setContainerDisabled(false);\n\t\t}\n\t}\n\n\t// Return\n\n\treturn {\n\t\thandleDragEnd,\n\t\thandleDragStart,\n\t\thandleFlick,\n\t\thandleMouseDown\n\t};\n};\n\nconst useEventTouch = (props, instnaces, context) => {\n\tconst {isScrollButtonFocused} = context;\n\n\t// Functions\n\n\tfunction handleTouchStart () {\n\t\tconst focusedItem = Spotlight.getCurrent();\n\n\t\tif (!Spotlight.isPaused() && focusedItem && !isScrollButtonFocused()) {\n\t\t\tfocusedItem.blur();\n\t\t}\n\t}\n\n\t// Return\n\n\treturn {\n\t\thandleTouchStart\n\t};\n};\n\nconst useEventVoice = (props, instances, context) => {\n\tconst {scrollContainerRef, scrollContainerHandle} = instances;\n\tconst {onScrollbarButtonClick} = context;\n\n\t// Mutable value\n\n\tconst mutableRef = useRef({\n\t\tisVoiceControl: false,\n\t\tvoiceControlDirection: 'vertical'\n\t});\n\n\t// Functions\n\n\tconst updateFocusAfterVoiceControl = () => {\n\t\tconst\n\t\t\tspotItem = Spotlight.getCurrent(),\n\t\t\tscrollContainerNode = scrollContainerRef.current;\n\n\t\tif (utilDOM.containsDangerously(scrollContainerNode, spotItem)) {\n\t\t\tconst\n\t\t\t\tviewportBounds = scrollContainerNode.getBoundingClientRect(),\n\t\t\t\tspotItemBounds = spotItem.getBoundingClientRect(),\n\t\t\t\tnodes = Spotlight.getSpottableDescendants(scrollContainerNode.dataset.spotlightId),\n\t\t\t\tfirst = mutableRef.current.voiceControlDirection === 'vertical' ? 'top' : 'left',\n\t\t\t\tlast = mutableRef.current.voiceControlDirection === 'vertical' ? 'bottom' : 'right';\n\n\t\t\tif (spotItemBounds[last] < viewportBounds[first] || spotItemBounds[first] > viewportBounds[last]) {\n\t\t\t\tfor (let i = 0; i < nodes.length; i++) {\n\t\t\t\t\tconst nodeBounds = nodes[i].getBoundingClientRect();\n\n\t\t\t\t\tif (nodeBounds[first] > viewportBounds[first] && nodeBounds[last] < viewportBounds[last]) {\n\t\t\t\t\t\tSpotlight.focus(nodes[i]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tfunction stopVoice () {\n\t\tif (mutableRef.current.isVoiceControl) {\n\t\t\tmutableRef.current.isVoiceControl = false;\n\t\t\tupdateFocusAfterVoiceControl();\n\t\t}\n\t}\n\n\tconst isReachedEdge = (scrollPos, ltrBound, rtlBound, isRtl = false) => {\n\t\tconst bound = isRtl ? rtlBound : ltrBound;\n\t\treturn (bound === 0 && scrollPos === 0) || (bound > 0 && scrollPos >= bound - 1);\n\t};\n\n\tconst handleVoice = (e) => {\n\t\tconst\n\t\t\tisHorizontal = (props.direction === 'horizontal'),\n\t\t\tisRtl = scrollContainerHandle.current.rtl,\n\t\t\t{scrollTop, scrollLeft} = scrollContainerHandle.current,\n\t\t\t{maxLeft, maxTop} = scrollContainerHandle.current.getScrollBounds(),\n\t\t\tverticalDirection = ['up', 'down', 'top', 'bottom'],\n\t\t\thorizontalDirection = isRtl ? ['right', 'left', 'rightmost', 'leftmost'] : ['left', 'right', 'leftmost', 'rightmost'],\n\t\t\tmovement = ['previous', 'next', 'first', 'last'];\n\t\tlet\n\t\t\tscroll = e && e.detail && e.detail.scroll,\n\t\t\tindex = movement.indexOf(scroll);\n\n\t\tif (index > -1) {\n\t\t\tscroll = isHorizontal ? horizontalDirection[index] : verticalDirection[index];\n\t\t}\n\n\t\tmutableRef.current.voiceControlDirection = verticalDirection.includes(scroll) && 'vertical' || horizontalDirection.includes(scroll) && 'horizontal' || null;\n\n\t\t// Case 1. Invalid direction\n\t\tif (mutableRef.current.voiceControlDirection === null) {\n\t\t\tmutableRef.current.isVoiceControl = false;\n\t\t// Case 2. Cannot scroll\n\t\t} else if (\n\t\t\t(['up', 'top'].includes(scroll) && isReachedEdge(scrollTop, 0)) ||\n\t\t\t(['down', 'bottom'].includes(scroll) && isReachedEdge(scrollTop, maxTop)) ||\n\t\t\t(['left', 'leftmost'].includes(scroll) && isReachedEdge(scrollLeft, 0, maxLeft, isRtl)) ||\n\t\t\t(['right', 'rightmost'].includes(scroll) && isReachedEdge(scrollLeft, maxLeft, 0, isRtl))\n\t\t) {\n\t\t\tif (window.webOSVoiceReportActionResult) {\n\t\t\t\twindow.webOSVoiceReportActionResult({voiceUi: {exception: 'alreadyCompleted'}});\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t// Case 3. Can scroll\n\t\t} else {\n\t\t\tmutableRef.current.isVoiceControl = true;\n\n\t\t\tif (['up', 'down', 'left', 'right'].includes(scroll)) {\n\t\t\t\tconst isPreviousScrollButton = (scroll === 'up') || (scroll === 'left' && !isRtl) || (scroll === 'right' && isRtl);\n\t\t\t\tonScrollbarButtonClick({isPreviousScrollButton, isVerticalScrollBar: verticalDirection.includes(scroll)});\n\t\t\t} else { // ['top', 'bottom', 'leftmost', 'rightmost'].includes(scroll)\n\t\t\t\tscrollContainerHandle.current.scrollTo({align: verticalDirection.includes(scroll) && scroll || (scroll === 'leftmost' && isRtl || scroll === 'rightmost' && !isRtl) && 'right' || 'left'});\n\t\t\t}\n\n\t\t\te.preventDefault();\n\t\t}\n\t};\n\n\tfunction addVoiceEventListener (scrollContentRef) {\n\t\tif (platform.webos) {\n\t\t\tutilEvent('webOSVoice').addEventListener(scrollContentRef, handleVoice);\n\t\t\tscrollContentRef.current.setAttribute('data-webos-voice-intent', 'Scroll');\n\t\t}\n\t}\n\n\tfunction removeVoiceEventListener (scrollContentRef) {\n\t\tif (platform.webos) {\n\t\t\tutilEvent('webOSVoice').removeEventListener(scrollContentRef, handleVoice);\n\t\t\tscrollContentRef.current.removeAttribute('data-webos-voice-intent');\n\t\t}\n\t}\n\n\t// Return\n\n\treturn {\n\t\taddVoiceEventListener,\n\t\tremoveVoiceEventListener,\n\t\tstopVoice\n\t};\n};\n\nconst useEventWheel = (props, instances, context) => {\n\tconst {scrollMode} = props;\n\tconst {themeScrollContentHandle, horizontalScrollbarHandle, scrollContainerHandle, verticalScrollbarHandle, spottable} = instances;\n\tconst {isScrollButtonFocused} = context;\n\n\t// Functions\n\n\tfunction handleWheel ({delta}) {\n\t\tconst focusedItem = Spotlight.getCurrent();\n\n\t\tif (focusedItem && !isScrollButtonFocused()) {\n\t\t\tfocusedItem.blur();\n\t\t}\n\n\t\tif (delta !== 0) {\n\t\t\tspottable.current.isWheeling = true;\n\t\t\tif (!props['data-spotlight-container-disabled']) {\n\t\t\t\tthemeScrollContentHandle.current.setContainerDisabled(true);\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * wheel event handler;\n\t * - for horizontal scroll, supports wheel action on any children nodes since web engine cannot support this\n\t * - for vertical scroll, supports wheel action on scrollbars only\n\t */\n\tfunction handleWheelNative (ev) {\n\t\tconst\n\t\t\tbounds = scrollContainerHandle.current.getScrollBounds(),\n\t\t\tcanScrollHorizontally = scrollContainerHandle.current.canScrollHorizontally(bounds),\n\t\t\tcanScrollVertically = scrollContainerHandle.current.canScrollVertically(bounds),\n\t\t\teventDeltaMode = ev.deltaMode,\n\t\t\teventDelta = (-ev.wheelDeltaY || ev.deltaY);\n\t\tlet\n\t\t\tdelta = 0,\n\t\t\tneedToHideScrollbarTrack = false;\n\n\t\tif (typeof window !== 'undefined') {\n\t\t\twindow.document.activeElement.blur();\n\t\t}\n\n\t\tscrollContainerHandle.current.showScrollbarTrack(bounds);\n\n\t\t// FIXME This routine is a temporary support for horizontal wheel scroll.\n\t\t// FIXME If web engine supports horizontal wheel, this routine should be refined or removed.\n\t\tif (canScrollVertically) { // This routine handles wheel events on scrollbars for vertical scroll.\n\t\t\tif (eventDelta < 0 && scrollContainerHandle.current.scrollTop > 0 || eventDelta > 0 && scrollContainerHandle.current.scrollTop < bounds.maxTop) {\n\t\t\t\tif (!spottable.current.isWheeling) {\n\t\t\t\t\tif (!props['data-spotlight-container-disabled']) {\n\t\t\t\t\t\tthemeScrollContentHandle.current.setContainerDisabled(true);\n\t\t\t\t\t}\n\t\t\t\t\tspottable.current.isWheeling = true;\n\t\t\t\t}\n\n\t\t\t\t// Not to check if ev.target is a descendant of a wrapped component which may have a lot of nodes in it.\n\t\t\t\tif ((horizontalScrollbarHandle.current && utilDOM.containsDangerously(horizontalScrollbarHandle.current.getContainerRef(), ev.target)) ||\n\t\t\t\t\t(verticalScrollbarHandle.current && utilDOM.containsDangerously(verticalScrollbarHandle.current.getContainerRef(), ev.target))) {\n\t\t\t\t\tdelta = scrollContainerHandle.current.calculateDistanceByWheel(eventDeltaMode, eventDelta, bounds.clientHeight * scrollWheelPageMultiplierForMaxPixel);\n\t\t\t\t\tneedToHideScrollbarTrack = !delta;\n\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t}\n\n\t\t\t\tev.stopPropagation();\n\t\t\t} else {\n\t\t\t\tneedToHideScrollbarTrack = true;\n\t\t\t}\n\t\t} else if (canScrollHorizontally) { // this routine handles wheel events on any children for horizontal scroll.\n\t\t\tif (eventDelta < 0 && scrollContainerHandle.current.scrollLeft > 0 || eventDelta > 0 && scrollContainerHandle.current.scrollLeft < bounds.maxLeft) {\n\t\t\t\tif (!spottable.current.isWheeling) {\n\t\t\t\t\tif (!props['data-spotlight-container-disabled']) {\n\t\t\t\t\t\tthemeScrollContentHandle.current.setContainerDisabled(true);\n\t\t\t\t\t}\n\n\t\t\t\t\tspottable.current.isWheeling = true;\n\t\t\t\t}\n\n\t\t\t\tdelta = scrollContainerHandle.current.calculateDistanceByWheel(eventDeltaMode, eventDelta, bounds.clientWidth * scrollWheelPageMultiplierForMaxPixel);\n\t\t\t\tneedToHideScrollbarTrack = !delta;\n\n\t\t\t\tev.preventDefault();\n\t\t\t\tev.stopPropagation();\n\t\t\t} else {\n\t\t\t\tneedToHideScrollbarTrack = true;\n\t\t\t}\n\t\t}\n\n\t\tif (delta !== 0) {\n\t\t\t/* prevent native scrolling feature for vertical direction */\n\t\t\tev.preventDefault();\n\n\t\t\tconst direction = Math.sign(delta);\n\n\t\t\t// Not to accumulate scroll position if wheel direction is different from hold direction\n\t\t\tif (direction !== scrollContainerHandle.current.wheelDirection) {\n\t\t\t\tscrollContainerHandle.current.isScrollAnimationTargetAccumulated = false;\n\t\t\t\tscrollContainerHandle.current.wheelDirection = direction;\n\t\t\t}\n\n\t\t\tscrollContainerHandle.current.scrollToAccumulatedTarget(delta, canScrollVertically);\n\t\t}\n\n\t\tif (needToHideScrollbarTrack) {\n\t\t\tscrollContainerHandle.current.startHidingScrollbarTrack();\n\t\t}\n\t}\n\n\t// Return\n\n\treturn {\n\t\thandleWheel: scrollMode === 'translate' ? handleWheel : handleWheelNative\n\t};\n};\n\nexport {\n\tuseEventFocus,\n\tuseEventKey,\n\tuseEventMonitor,\n\tuseEventMouse,\n\tuseEventTouch,\n\tuseEventVoice,\n\tuseEventWheel\n};\n","import {constants} from '@enact/ui/useScroll';\n\nconst {paginationPageMultiplier} = constants;\n\nconst useScrollbar = (props, instances) => {\n\tconst {horizontalScrollbarHandle, scrollContainerHandle, verticalScrollbarHandle} = instances;\n\n\tconst scrollbarProps = {\n\t\tcbAlertScrollbarTrack: alertScrollbarTrack,\n\t\tonNextScroll: onScrollbarButtonClick,\n\t\tonPrevScroll: onScrollbarButtonClick\n\t};\n\n\t// Functions\n\n\tfunction isScrollButtonFocused () {\n\t\treturn (\n\t\t\thorizontalScrollbarHandle.current && horizontalScrollbarHandle.current.isOneOfScrollButtonsFocused() ||\n\t\t\tverticalScrollbarHandle.current && verticalScrollbarHandle.current.isOneOfScrollButtonsFocused()\n\t\t);\n\t}\n\n\tfunction onScrollbarButtonClick ({isPreviousScrollButton, isVerticalScrollBar}) {\n\t\tconst\n\t\t\t{wheelDirection} = scrollContainerHandle.current,\n\t\t\tbounds = scrollContainerHandle.current.getScrollBounds(),\n\t\t\tdirection = isPreviousScrollButton ? -1 : 1,\n\t\t\tpageDistance = direction * (isVerticalScrollBar ? bounds.clientHeight : bounds.clientWidth) * paginationPageMultiplier;\n\n\t\tscrollContainerHandle.current.lastInputType = 'scrollbarButton';\n\n\t\tif (direction !== wheelDirection) {\n\t\t\tscrollContainerHandle.current.isScrollAnimationTargetAccumulated = false;\n\t\t\tscrollContainerHandle.current.wheelDirection = direction;\n\t\t}\n\n\t\tscrollContainerHandle.current.scrollToAccumulatedTarget(pageDistance, isVerticalScrollBar);\n\t}\n\n\tfunction focusOnScrollButton (scrollbarHandle, isPreviousScrollButton) {\n\t\tif (scrollbarHandle.current) {\n\t\t\tscrollbarHandle.current.focusOnButton(isPreviousScrollButton);\n\t\t}\n\t}\n\n\tfunction scrollAndFocusScrollbarButton (direction) {\n\t\tif (scrollContainerHandle.current) {\n\t\t\tconst\n\t\t\t\t{rtl} = scrollContainerHandle.current,\n\t\t\t\tisPreviousScrollButton = direction === 'up' || (rtl ? direction === 'right' : direction === 'left'),\n\t\t\t\tisHorizontalDirection = direction === 'left' || direction === 'right',\n\t\t\t\tisVerticalDirection = direction === 'up' || direction === 'down',\n\t\t\t\tcanScrollHorizontally = isHorizontalDirection && (props.direction === 'horizontal' || props.direction === 'both'),\n\t\t\t\tcanScrollingVertically = isVerticalDirection && (props.direction === 'vertical' || props.direction === 'both');\n\n\t\t\tif (canScrollHorizontally || canScrollingVertically) {\n\t\t\t\tonScrollbarButtonClick({\n\t\t\t\t\tisPreviousScrollButton,\n\t\t\t\t\tisVerticalScrollBar: canScrollingVertically\n\t\t\t\t});\n\n\t\t\t\tif (props.focusableScrollbar) {\n\t\t\t\t\tfocusOnScrollButton(\n\t\t\t\t\t\tcanScrollingVertically ? verticalScrollbarHandle : horizontalScrollbarHandle,\n\t\t\t\t\t\tisPreviousScrollButton\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction alertScrollbarTrack () {\n\t\tconst bounds = scrollContainerHandle.current.getScrollBounds();\n\n\t\tscrollContainerHandle.current.showScrollbarTrack(bounds);\n\t\tscrollContainerHandle.current.startHidingScrollbarTrack();\n\t}\n\n\t// Return\n\n\treturn {\n\t\talertScrollbarTrack,\n\t\tisScrollButtonFocused,\n\t\tonScrollbarButtonClick,\n\t\tscrollAndFocusScrollbarButton,\n\t\tscrollbarProps\n\t};\n};\n\nexport default useScrollbar;\nexport {\n\tuseScrollbar\n};\n","import Spotlight from '@enact/spotlight';\nimport utilDOM from '@enact/ui/useScroll/utilDOM';\nimport {useContext, useEffect, useLayoutEffect} from 'react';\n\nimport {SharedState} from '../Panels/SharedStateDecorator';\n\nimport scrollbarCss from './Scrollbar.module.less';\n\nconst navigableFilter = (elem) => {\n\tif (\n\t\t!Spotlight.getPointerMode() &&\n\t\t// ignore containers passed as their id\n\t\ttypeof elem !== 'string' &&\n\t\tutilDOM.containsDangerously(elem.classList, scrollbarCss.scrollButton)\n\t) {\n\t\treturn false;\n\t}\n};\n\nconst useSpotlightConfig = (props) => {\n\t// Hooks\n\n\tuseLayoutEffect(() => {\n\t\tfunction configureSpotlight () {\n\t\t\tSpotlight.set(props['data-spotlight-id'], {\n\t\t\t\tnavigableFilter: props.focusableScrollbar ? null : navigableFilter\n\t\t\t});\n\t\t}\n\n\t\tconfigureSpotlight();\n\t}, [props]);\n};\n\nconst useSpotlightRestore = (props, instances) => {\n\tconst {scrollContainerHandle} = instances;\n\tconst context = useContext(SharedState);\n\n\t// Hooks\n\n\tuseEffect(() => {\n\t\t// Only intended to be used within componentDidMount, this method will fetch the last stored\n\t\t// scroll position from SharedState and scroll (without animation) to that position\n\t\tfunction restoreScrollPosition () {\n\t\t\tconst {id} = props;\n\t\t\tif (id && context && context.get) {\n\t\t\t\tconst scrollPosition = context.get(`${id}.scrollPosition`);\n\n\t\t\t\tif (scrollPosition) {\n\t\t\t\t\tscrollContainerHandle.current.scrollTo({\n\t\t\t\t\t\tposition: scrollPosition,\n\t\t\t\t\t\tanimate: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\trestoreScrollPosition();\n\t}, []); // eslint-disable-line react-hooks/exhaustive-deps\n};\n\nexport {\n\tuseSpotlightConfig,\n\tuseSpotlightRestore\n};\n","/**\n * Agate-themed scrollable hook and behaviors.\n *\n * @module agate/useScroll\n * @exports dataIndexAttribute\n * @exports useScroll\n * @private\n */\n\nimport {forward} from '@enact/core/handle';\nimport platform from '@enact/core/platform';\nimport Spotlight from '@enact/spotlight';\nimport {spottableClass} from '@enact/spotlight/Spottable';\nimport {getTargetByDirectionFromPosition} from '@enact/spotlight/src/target';\nimport {getRect, intersects} from '@enact/spotlight/src/utils';\nimport {useScrollBase} from '@enact/ui/useScroll';\nimport {assignPropertiesOf} from '@enact/ui/useScroll';\nimport utilDOM from '@enact/ui/useScroll/utilDOM';\nimport utilEvent from '@enact/ui/useScroll/utilEvent';\nimport {useContext, useRef} from 'react';\n\nimport $L from '../internal/$L';\nimport {SharedState} from '../Panels/SharedStateDecorator';\n\nimport {useThemeScrollContentHandle} from './useThemeScrollContentHandle';\nimport {\n\tuseEventFocus, useEventKey, useEventMonitor, useEventMouse,\n\tuseEventTouch, useEventVoice, useEventWheel\n} from './useEvent';\nimport useScrollbar from './useScrollbar';\nimport {useSpotlightConfig, useSpotlightRestore} from './useSpotlight';\n\nconst\n\treverseDirections = {\n\t\tdown: 'up',\n\t\tup: 'down'\n\t};\n\n/**\n * The name of a custom attribute which indicates the index of an item in\n * [VirtualList]{@link agate/VirtualList.VirtualList} or\n * [VirtualGridList]{@link agate/VirtualList.VirtualGridList}.\n *\n * @constant dataIndexAttribute\n * @memberof agate/useScroll\n * @type {String}\n * @private\n */\nconst dataIndexAttribute = 'data-index';\n\nconst isIntersecting = (elem, container) => elem && intersects(getRect(container), getRect(elem));\nconst getIntersectingElement = (elem, container) => isIntersecting(elem, container) && elem;\nconst getTargetInViewByDirectionFromPosition = (direction, position, container) => {\n\tconst target = getTargetByDirectionFromPosition(direction, position, Spotlight.getActiveContainer());\n\treturn getIntersectingElement(target, container);\n};\n\nconst useThemeScroll = (props, instances) => {\n\tconst {scrollMode} = props;\n\tconst {themeScrollContentHandle, scrollContentRef, scrollContainerHandle, scrollContainerRef} = instances;\n\tconst contextSharedState = useContext(SharedState);\n\n\t// Mutable value\n\n\tconst mutableRef = useRef({\n\t\tanimateOnFocus: false,\n\t\tindexToFocus: null,\n\t\tisWheeling: false,\n\t\tlastScrollPositionOnFocus: null,\n\t\tnodeToFocus: null,\n\t\tpointToFocus: null\n\t});\n\n\t// Hooks\n\n\tconst {\n\t\talertScrollbarTrack,\n\t\tisScrollButtonFocused,\n\t\tonScrollbarButtonClick,\n\t\tscrollAndFocusScrollbarButton,\n\t\tscrollbarProps\n\t} = useScrollbar(props, instances);\n\n\tuseSpotlightConfig(props);\n\n\tuseSpotlightRestore(props, instances);\n\n\tconst {handleWheel} = useEventWheel(props, {...instances, spottable: mutableRef}, {isScrollButtonFocused});\n\n\tconst {calculateAndScrollTo, handleFocus, hasFocus} = useEventFocus(props, {...instances, spottable: mutableRef}, {alertScrollbarTrack});\n\n\tconst {handleKeyDown, lastPointer, scrollByPageOnPointerMode} = useEventKey(props, {...instances, spottable: mutableRef}, {hasFocus, isContent});\n\n\tuseEventMonitor({}, instances, {lastPointer, scrollByPageOnPointerMode});\n\n\tconst {handleDragEnd, handleDragStart, handleFlick, handleMouseDown} = useEventMouse({}, instances, {isScrollButtonFocused});\n\n\tconst {handleTouchStart} = useEventTouch({}, instances, {isScrollButtonFocused});\n\n\tconst {\n\t\taddVoiceEventListener,\n\t\tremoveVoiceEventListener,\n\t\tstopVoice\n\t} = useEventVoice(props, instances, {onScrollbarButtonClick});\n\n\t// Functions\n\n\tfunction isContent (element) {\n\t\treturn (element && utilDOM.containsDangerously(scrollContentRef, element));\n\t}\n\n\tfunction scrollTo (opt) {\n\t\tmutableRef.current.indexToFocus = (opt.focus && typeof opt.index === 'number') ? opt.index : null;\n\t\tmutableRef.current.nodeToFocus = (opt.focus && opt.node instanceof Object && opt.node.nodeType === 1) ? opt.node : null;\n\t}\n\n\tfunction start (animate) {\n\t\tif (scrollMode === 'native' && !animate) {\n\t\t\tfocusOnItem();\n\t\t}\n\t}\n\n\tfunction stop () {\n\t\tif (mutableRef.current.isDragging && !mutableRef.current.isFlicked) return;\n\n\t\tif (!props['data-spotlight-container-disabled'] || mutableRef.current.isFlicked || mutableRef.current.isWheeling) {\n\t\t\tthemeScrollContentHandle.current.setContainerDisabled(false);\n\t\t}\n\n\t\tif (themeScrollContentHandle.current.pauseSpotlight) {\n\t\t\tthemeScrollContentHandle.current.pauseSpotlight(false);\n\t\t}\n\n\t\tfocusOnItem();\n\t\tmutableRef.current.lastScrollPositionOnFocus = null;\n\t\tmutableRef.current.isFlicked = false;\n\t\tmutableRef.current.isWheeling = false;\n\t\tstopVoice();\n\t}\n\n\tfunction scrollStopOnScroll () {\n\t\tstop();\n\t}\n\n\tfunction focusOnItem () {\n\t\tif (mutableRef.current.indexToFocus !== null && typeof themeScrollContentHandle.current.focusByIndex === 'function') {\n\t\t\tthemeScrollContentHandle.current.focusByIndex(mutableRef.current.indexToFocus);\n\t\t\tmutableRef.current.indexToFocus = null;\n\t\t}\n\n\t\tif (mutableRef.current.nodeToFocus !== null && typeof themeScrollContentHandle.current.focusOnNode === 'function') {\n\t\t\tthemeScrollContentHandle.current.focusOnNode(mutableRef.current.nodeToFocus);\n\t\t\tmutableRef.current.nodeToFocus = null;\n\t\t}\n\n\t\tif (mutableRef.current.pointToFocus !== null) {\n\t\t\t// no need to focus on pointer mode\n\t\t\tif (!Spotlight.getPointerMode()) {\n\t\t\t\tconst\n\t\t\t\t\t{direction, x, y} = mutableRef.current.pointToFocus,\n\t\t\t\t\tposition = {x, y},\n\t\t\t\t\telemFromPoint = document.elementFromPoint(x, y),\n\t\t\t\t\ttarget =\n\t\t\t\t\t\telemFromPoint && elemFromPoint.closest && getIntersectingElement(elemFromPoint.closest(`.${spottableClass}`), scrollContainerRef.current) ||\n\t\t\t\t\t\tgetTargetInViewByDirectionFromPosition(direction, position, scrollContainerRef.current) ||\n\t\t\t\t\t\tgetTargetInViewByDirectionFromPosition(reverseDirections[direction], position, scrollContainerRef.current);\n\n\t\t\t\tif (target) {\n\t\t\t\t\tSpotlight.focus(target);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tmutableRef.current.pointToFocus = null;\n\t\t}\n\t}\n\n\tfunction handleScroll (ev) {\n\t\tconst\n\t\t\t{scrollLeft: x, scrollTop: y} = ev,\n\t\t\t{id} = props;\n\n\t\tforward('onScroll', ev, props);\n\n\t\tif (id && contextSharedState && contextSharedState.set) {\n\t\t\tcontextSharedState.set(ev, props);\n\t\t\tcontextSharedState.set(`${id}.scrollPosition`, {x, y});\n\t\t}\n\t}\n\n\t// Callback for scroller updates; calculate and, if needed, scroll to new position based on focused item.\n\tfunction handleScrollerUpdate () {\n\t\tif (scrollContainerHandle.current.scrollToInfo === null) {\n\t\t\tconst scrollHeight = scrollContainerHandle.current.getScrollBounds().scrollHeight;\n\n\t\t\tif (scrollHeight !== scrollContainerHandle.current.bounds.scrollHeight) {\n\t\t\t\tcalculateAndScrollTo();\n\t\t\t}\n\t\t}\n\n\t\t// oddly, Scroller manages scrollContainerHandle.current.bounds so if we don't update it here (it is also\n\t\t// updated in calculateAndScrollTo but we might not have made it to that point), it will be\n\t\t// out of date when we land back in this method next time.\n\t\tscrollContainerHandle.current.bounds.scrollHeight = scrollContainerHandle.current.getScrollBounds().scrollHeight;\n\t}\n\n\tfunction handleResizeWindow () {\n\t\tconst focusedItem = Spotlight.getCurrent();\n\n\t\tif (focusedItem) {\n\t\t\tfocusedItem.blur();\n\t\t}\n\t}\n\n\t// FIXME setting event handlers directly to work on the V8 snapshot.\n\tfunction addEventListeners (ref) { // `ref` is always `scrollContentRef`.\n\t\tutilEvent('focusin').addEventListener(ref, handleFocus);\n\n\t\tif (ref.current) {\n\t\t\taddVoiceEventListener(ref);\n\t\t}\n\t}\n\n\t// FIXME setting event handlers directly to work on the V8 snapshot.\n\tfunction removeEventListeners (ref) { // `ref` is always `scrollContentRef`.\n\t\tutilEvent('focusin').removeEventListener(ref, handleFocus);\n\n\t\tif (ref.current) {\n\t\t\tremoveVoiceEventListener(ref);\n\t\t}\n\t}\n\n\t// Return\n\n\treturn {\n\t\taddEventListeners,\n\t\thandleDragEnd,\n\t\thandleDragStart,\n\t\thandleFlick,\n\t\thandleKeyDown,\n\t\thandleMouseDown,\n\t\thandleResizeWindow,\n\t\thandleScroll,\n\t\thandleScrollerUpdate,\n\t\thandleTouchStart,\n\t\thandleWheel,\n\t\tremoveEventListeners,\n\t\tscrollAndFocusScrollbarButton,\n\t\tscrollbarProps,\n\t\tscrollStopOnScroll,\n\t\tscrollTo,\n\t\tstart,\n\t\tstop\n\t};\n};\n\n/**\n * A custom hook that passes Agate-themed scrollable behavior information as its render prop.\n *\n * @class\n * @memberof agate/useScroll\n * @ui\n * @private\n */\nconst useScroll = (props) => {\n\tconst\n\t\t{\n\t\t\t'data-spotlight-container': spotlightContainer,\n\t\t\t'data-spotlight-container-disabled': spotlightContainerDisabled,\n\t\t\t'data-spotlight-id': spotlightId,\n\t\t\tfocusableScrollbar,\n\t\t\tpreventBubblingOnKeyDown,\n\t\t\tscrollDownAriaLabel,\n\t\t\tscrollLeftAriaLabel,\n\t\t\tscrollMode,\n\t\t\tscrollRightAriaLabel,\n\t\t\tscrollUpAriaLabel,\n\t\t\t...rest\n\t\t} = props,\n\t\tdownButtonAriaLabel = scrollDownAriaLabel == null ? $L('scroll down') : scrollDownAriaLabel,\n\t\tupButtonAriaLabel = scrollUpAriaLabel == null ? $L('scroll up') : scrollUpAriaLabel,\n\t\trightButtonAriaLabel = scrollRightAriaLabel == null ? $L('scroll right') : scrollRightAriaLabel,\n\t\tleftButtonAriaLabel = scrollLeftAriaLabel == null ? $L('scroll left') : scrollLeftAriaLabel;\n\n\t// Mutable value\n\n\tconst scrollContainerRef = useRef();\n\tconst scrollContentHandle = useRef();\n\tconst scrollContentRef = useRef();\n\tconst itemRefs = useRef([]);\n\n\tconst horizontalScrollbarHandle = useRef();\n\tconst verticalScrollbarHandle = useRef();\n\n\t// Handles\n\n\tconst [themeScrollContentHandle, setThemeScrollContentHandle] = useThemeScrollContentHandle();\n\n\tconst scrollContainerHandle = useRef({\n\t\tanimator: null,\n\t\tbounds: null,\n\t\tcalculateDistanceByWheel: null,\n\t\tcanScrollHorizontally: null,\n\t\tcanScrollVertically: null,\n\t\tgetScrollBounds: null,\n\t\tisDragging: null,\n\t\tisFlicked: null,\n\t\tisScrollAnimationTargetAccumulated: null,\n\t\tlastInputType: null,\n\t\trtl: null,\n\t\tscrollBounds: null,\n\t\tscrollHeight: null,\n\t\tscrolling: null,\n\t\tscrollLeft: null,\n\t\tscrollPos: null,\n\t\tscrollTo: null,\n\t\tscrollToAccumulatedTarget: null,\n\t\tscrollToInfo: null,\n\t\tscrollTop: null,\n\t\tshowScrollbarTrack: null,\n\t\tstart: null,\n\t\tstartHidingScrollbarTrack: null,\n\t\tstop: null,\n\t\twheelDirection: null\n\t});\n\n\tconst setScrollContainerHandle = (handle) => {\n\t\tscrollContainerHandle.current = handle;\n\t};\n\n\t// Hooks\n\n\tconst instance = {\n\t\t// Ref\n\t\tscrollContainerRef,\n\t\tscrollContentRef,\n\n\t\t// Handle\n\t\tthemeScrollContentHandle,\n\t\tscrollContainerHandle,\n\t\tscrollContentHandle,\n\t\thorizontalScrollbarHandle,\n\t\tverticalScrollbarHandle\n\t};\n\n\tconst\n\t\tcollectionOfProperties = {},\n\t\tassignProperties = assignPropertiesOf(collectionOfProperties),\n\t\tscrollProps = {};\n\n\tconst {\n\t\taddEventListeners,\n\t\thandleDragEnd,\n\t\thandleDragStart,\n\t\thandleFlick,\n\t\thandleKeyDown,\n\t\thandleMouseDown,\n\t\thandleResizeWindow,\n\t\thandleScroll,\n\t\thandleScrollerUpdate,\n\t\thandleTouchStart,\n\t\thandleWheel,\n\t\tremoveEventListeners,\n\t\tscrollAndFocusScrollbarButton,\n\t\tscrollbarProps,\n\t\tscrollStopOnScroll, // scrollMode 'native'\n\t\tscrollTo,\n\t\tstart, // scrollMode 'native'\n\t\tstop // scrollMode 'translate'\n\t} = useThemeScroll(props, instance);\n\n\t// Render\n\n\tif (scrollMode === 'translate') {\n\t\tscrollProps.stop = stop;\n\t} else {\n\t\tscrollProps.scrollStopOnScroll = scrollStopOnScroll;\n\t\tscrollProps.start = start;\n\t}\n\n\tconst {\n\t\tscrollContentWrapper,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible\n\t} = useScrollBase({\n\t\t...rest,\n\t\t...scrollProps,\n\t\tassignProperties,\n\t\tnoScrollByDrag: !platform.touchscreen,\n\t\taddEventListeners,\n\t\thandleResizeWindow,\n\t\thorizontalScrollbarHandle,\n\t\tonDragEnd: handleDragEnd,\n\t\tonDragStart: handleDragStart,\n\t\tonFlick: handleFlick,\n\t\tonKeyDown: handleKeyDown,\n\t\tonMouseDown: handleMouseDown,\n\t\tonScroll: handleScroll,\n\t\tonWheel: handleWheel,\n\t\tremoveEventListeners,\n\t\tscrollTo,\n\t\tsetScrollContainerHandle,\n\t\tscrollMode,\n\t\tscrollContentHandle,\n\t\tscrollContentRef,\n\t\tscrollContainerRef,\n\t\tspotlightContainerDisabled,\n\t\tverticalScrollbarHandle\n\t});\n\n\tassignProperties('scrollContainerProps', {\n\t\t'data-spotlight-container': spotlightContainer,\n\t\t'data-spotlight-container-disabled': spotlightContainerDisabled,\n\t\t'data-spotlight-id': spotlightId,\n\t\tonTouchStart: handleTouchStart,\n\t\tref: scrollContainerRef\n\t});\n\n\tassignProperties('scrollContentProps', {\n\t\t...(props.itemRenderer ? {itemRefs} : {}),\n\t\tonUpdate: handleScrollerUpdate,\n\t\tscrollContainerRef,\n\t\tscrollAndFocusScrollbarButton,\n\t\tsetThemeScrollContentHandle,\n\t\tspotlightId,\n\t\tscrollContainerHandle,\n\t\tscrollContentHandle,\n\t\tscrollContentRef\n\t});\n\n\tassignProperties('verticalScrollbarProps', {\n\t\t...scrollbarProps,\n\t\tfocusableScrollButtons: focusableScrollbar,\n\t\tnextButtonAriaLabel: downButtonAriaLabel,\n\t\tonKeyDownButton: handleKeyDown,\n\t\tpreventBubblingOnKeyDown,\n\t\tpreviousButtonAriaLabel: upButtonAriaLabel,\n\t\tscrollbarHandle: verticalScrollbarHandle\n\t});\n\n\tassignProperties('horizontalScrollbarProps', {\n\t\t...scrollbarProps,\n\t\tfocusableScrollButtons: focusableScrollbar,\n\t\tnextButtonAriaLabel: rightButtonAriaLabel,\n\t\tonKeyDownButton: handleKeyDown,\n\t\tpreventBubblingOnKeyDown,\n\t\tpreviousButtonAriaLabel: leftButtonAriaLabel,\n\t\tscrollbarHandle: horizontalScrollbarHandle\n\t});\n\n\treturn {\n\t\t...collectionOfProperties,\n\t\tscrollContentWrapper,\n\t\tscrollContentHandle,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible\n\t};\n};\n\nexport default useScroll;\nexport {\n\tdataIndexAttribute,\n\tuseScroll\n};\n","import {useRef} from 'react';\n\nconst useThemeScrollContentHandle = () => {\n\t// Mutable value\n\n\tconst themeScrollContentHandle = useRef({\n\t\tcalculatePositionOnFocus: null,\n\t\tfocusByIndex: null,\n\t\tfocusOnNode: null,\n\t\tgetScrollBounds: null,\n\t\tpauseSpotlight: null,\n\t\tsetContainerDisabled: null,\n\t\tsetLastFocusedNode: null,\n\t\tshouldPreventScrollByFocus: null\n\t});\n\n\t// Functions\n\n\tconst setThemeScrollContentHandle = (handle) => {\n\t\tthemeScrollContentHandle.current = handle;\n\t};\n\n\t// Return\n\n\treturn [themeScrollContentHandle, setThemeScrollContentHandle];\n};\n\nexport {\n\tuseThemeScrollContentHandle\n};\n","/**\n * Agate styled ToggleButton components and behaviors.\n *\n * @example\n * <ToggleButton underline>Hello Enact!</ToggleButton>\n *\n * @module agate/ToggleButton\n * @exports ToggleButton\n * @exports ToggleButtonBase\n */\n\nimport kind from '@enact/core/kind';\nimport Pure from '@enact/ui/internal/Pure';\nimport Toggleable from '@enact/ui/Toggleable';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Button from '../Button';\nimport Skinnable from '../Skinnable';\n\nimport css from './ToggleButton.module.less';\n\n/**\n * A stateless [Button]{@link agate/Button.Button} that can be toggled by changing its\n * `selected` property.\n *\n * @class ToggleButtonBase\n * @memberof agate/ToggleButton\n * @extends agate/Button.Button\n * @ui\n * @public\n */\nconst ToggleButtonBase = kind({\n\tname: 'ToggleButton',\n\n\tpropTypes: /** @lends agate/ToggleButton.ToggleButtonBase.prototype */ {\n\t\t/**\n\t\t * The string to be displayed as the main content of the toggle button.\n\t\t *\n\t\t * If `toggleOffLabel` and/or `toggleOnLabel` are provided, they will be used for the\n\t\t * respective states.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Disables the button.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * The icon to display before the text.\n\t\t *\n\t\t * @type {String}\n\t\t * @see {@link agate/Icon.Icon}\n\t\t */\n\t\ticon: PropTypes.string,\n\n\t\t/**\n\t\t * Determines whether the button is currently in an \"on\" or \"off\" state.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool,\n\n\t\t/**\n\t\t * The size of the button.\n\t\t *\n\t\t * @type {('smallest'|'small'|'large'|'huge')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['smallest', 'small', 'large', 'huge']),\n\n\t\t/**\n\t\t * Button text displayed in the 'off' state.\n\t\t *\n\t\t * If not specified, `children` will be used for 'off' button text.\n\t\t *\n\t\t * @type {String}\n\t\t * @default ''\n\t\t * @public\n\t\t */\n\t\ttoggleOffLabel: PropTypes.string,\n\n\t\t/**\n\t\t * Button text displayed in the 'on' state.\n\t\t *\n\t\t * If not specified, `children` will be used for 'on' button text.\n\t\t *\n\t\t * @type {String}\n\t\t * @default ''\n\t\t * @public\n\t\t */\n\t\ttoggleOnLabel: PropTypes.string,\n\n\t\t/**\n\t\t * The button type.\n\t\t *\n\t\t * Grid buttons are intended to be grouped with other related buttons.\n\t\t *\n\t\t * @type {('grid'|'standard')}\n\t\t * @public\n\t\t */\n\t\ttype: PropTypes.oneOf(['grid', 'standard']),\n\n\t\t/**\n\t\t * Shows toggle indicator.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tunderline: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tdisabled: false,\n\t\tselected: false,\n\t\tsize: 'large',\n\t\ttoggleOffLabel: '',\n\t\ttoggleOnLabel: '',\n\t\tunderline: false\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'toggleButton',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({selected, styler, underline}) => styler.append({selected, underline}),\n\t\tchildren: ({children, selected, toggleOnLabel, toggleOffLabel}) => {\n\t\t\tlet c = children;\n\t\t\tif (selected && toggleOnLabel) {\n\t\t\t\tc = toggleOnLabel;\n\t\t\t} else if (!selected && toggleOffLabel) {\n\t\t\t\tc = toggleOffLabel;\n\t\t\t}\n\t\t\treturn c;\n\t\t}\n\t},\n\n\trender: (props) => {\n\t\tdelete props.underline;\n\t\tdelete props.toggleOffLabel;\n\t\tdelete props.toggleOnLabel;\n\n\t\treturn (\n\t\t\t<Button\n\t\t\t\t{...props}\n\t\t\t\taria-pressed={props.selected}\n\t\t\t\tcss={css}\n\t\t\t/>\n\t\t);\n\t}\n});\n\n/**\n * A toggleable button.\n *\n * By default, `ToggleButton` maintains the state of its `selected` property.\n * Supply the `defaultSelected` property to control its initial value. If you\n * wish to directly control updates to the component, supply a value to `selected` at creation time\n * and update it in response to `onToggle` events.\n *\n * @class ToggleButton\n * @memberof agate/ToggleButton\n * @extends agate/ToggleButton.ToggleButtonBase\n * @mixes ui/Toggleable.Toggleable\n * @mixes agate/Skinnable.Skinnable\n * @ui\n * @public\n */\nconst ToggleButton = Pure(\n\tToggleable(\n\t\t{prop: 'selected', toggleProp: 'onTap'},\n\t\tSkinnable(\n\t\t\tToggleButtonBase\n\t\t)\n\t)\n);\n\nexport default ToggleButton;\nexport {\n\tToggleButton,\n\tToggleButtonBase\n};\n","/* eslint-disable jsx-a11y/alt-text */\n/**\n * Provides an Agate-themed thumbnail item.\n *\n * @example\n * <ThumbnailItem src=\"https://dummyimage.com/64/e048e0/0011ff\">An image!</ThumbnailItem>\n *\n * @module agate/ThumbnailItem\n * @exports ThumbnailItem\n * @exports ThumbnailItemBase\n */\n\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Slottable from '@enact/ui/Slottable';\n\nimport Image from '../Image';\nimport Item from '../Item';\n\nimport componentCss from './ThumbnailItem.module.less';\n\n/**\n * A stateless, unfocusable item that can display a thumbnail.\n *\n * @class ThumbnailItemBase\n * @memberof agate/ThumbnailItem\n * @extends agate/Item.Item\n * @ui\n * @public\n */\nconst ThumbnailItemBase = kind({\n\tname: 'ThumbnailItem',\n\n\tpropTypes: /** @lends agate/ThumbnailItem.ThumbnailItemBase.prototype */ {\n\t\t/**\n\t\t * The main content displayed with the thumbnail.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.string,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `thumbnailItem` - The root component class\n\t\t * * `content` - The content component class\n\t\t * * `subContent` - The subContent component class\n\t\t * * `roundThumbnail` - Applied when `roundThumbnail=\"true\"`\n\t\t * * `thumbnail` - The thumbnail component class\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Applies `selected` className.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool,\n\n\t\t/**\n\t\t * Nodes to be inserted before `children`.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tslotBefore: PropTypes.node,\n\n\t\t/**\n\t\t * String value used to determine which thumbnail will appear on a specific screenSize.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tsrc: PropTypes.string,\n\n\t\t/**\n\t\t * The thumbnail type.\n\t\t *\n\t\t * @type {('normal'|'styled')}\n\t\t * @default 'normal'\n\t\t * @public\n\t\t */\n\t\ttype: PropTypes.oneOf(['normal', 'styled'])\n\t},\n\n\tdefaultProps: {\n\t\ttype: 'normal'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'thumbnailItem',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({type, selected, styler}) => styler.append(type, {selected})\n\t},\n\n\trender: ({css, children, src, slotBefore, ...rest}) => {\n\t\treturn (\n\t\t\t<Item {...rest} css={css}>\n\t\t\t\t<slotBefore>\n\t\t\t\t\t<Image\n\t\t\t\t\t\tclassName={css.thumbnail}\n\t\t\t\t\t\tsrc={src}\n\t\t\t\t\t/>\n\t\t\t\t\t{slotBefore}\n\t\t\t\t</slotBefore>\n\t\t\t\t<div className={css.content}>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t</Item>\n\t\t);\n\t}\n});\n\nconst ThumbnailItem = Slottable({slots: ['img', 'slotBefore']}, ThumbnailItemBase);\n\n/**\n * A stateless, unfocusable item that can display a thumbnail.\n *\n * @class ThumbnailItem\n * @memberof agate/ThumbnailItem\n * @extends agate/ThumbnailItem.ThumbnailItemBase\n * @ui\n * @public\n */\n\nexport default ThumbnailItem;\nexport {\n\tThumbnailItem,\n\tThumbnailItemBase\n};\n","import kind from '@enact/core/kind';\nimport ForwardRef from '@enact/ui/ForwardRef';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport Button from '../Button';\n\nimport css from './Scrollbar.module.less';\n\n/**\n * A [Button]{@link agate/Button.Button} used within\n * a [Scrollbar]{@link agate/useScroll.Scrollbar}.\n *\n * @class ScrollButton\n * @memberof agate/useScroll\n * @extends agate/Button.Button\n * @ui\n * @private\n */\nconst ScrollButtonBase = kind({\n\tname: 'ScrollButton',\n\n\tpropTypes: /** @lends agate/useScroll.ScrollButton.prototype */ {\n\t\t/**\n\t\t * Name of icon.\n\t\t *\n\t\t * @type {String}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\ticon: PropTypes.string.isRequired,\n\n\t\t/**\n\t\t * Sets the `aria-label`.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tactive: PropTypes.bool,\n\n\t\t/**\n\t\t * Sets the hint string read when focusing the scroll bar button.\n\t\t *\n\t\t * @type {String}\n\t\t * @memberof agate/useScroll.ScrollButton.prototype\n\t\t * @public\n\t\t */\n\t\t'aria-label': PropTypes.string,\n\n\t\t/**\n\t\t * Disables the button.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Returns a ref to the root node of the scroll button\n\t\t *\n\t\t * See: https://github.com/facebook/prop-types/issues/240\n\t\t *\n\t\t * @type {Function|Object}\n\t\t * @private\n\t\t */\n\t\tforwardRef: PropTypes.oneOfType([\n\t\t\tPropTypes.func,\n\t\t\tPropTypes.shape({current: PropTypes.any})\n\t\t])\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'scrollButton'\n\t},\n\n\thandlers: {\n\t\tforwardRef: (node, {forwardRef}) => {\n\t\t\t// Allowing findDOMNode in the absence of a means to retrieve a node ref through Button\n\t\t\t// eslint-disable-next-line react/no-find-dom-node\n\t\t\tconst current = ReactDOM.findDOMNode(node);\n\n\t\t\t// Safely handle old ref functions and new ref objects\n\t\t\tswitch (typeof forwardRef) {\n\t\t\t\tcase 'object':\n\t\t\t\t\tforwardRef.current = current;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'function':\n\t\t\t\t\tforwardRef(current);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t},\n\n\tcomputed: {\n\t\t'aria-label': ({active, 'aria-label': ariaLabel}) => (active ? null : ariaLabel)\n\t},\n\n\trender: ({forwardRef, ...rest}) => {\n\t\tdelete rest.active;\n\n\t\treturn (\n\t\t\t<Button\n\t\t\t\t{...rest}\n\t\t\t\tbackgroundOpacity=\"transparent\"\n\t\t\t\tref={forwardRef}\n\t\t\t\tsize=\"small\"\n\t\t\t/>\n\t\t);\n\t}\n});\n\nconst ScrollButton = ForwardRef(ScrollButtonBase);\n\nexport default ScrollButton;\nexport {\n\tScrollButton\n};\n","import {forward} from '@enact/core/handle';\nimport {getTargetByDirectionFromElement} from '@enact/spotlight/src/target';\nimport {is} from '@enact/core/keymap';\nimport Spotlight, {getDirection} from '@enact/spotlight';\nimport utilEvent from '@enact/ui/useScroll/utilEvent';\nimport React, {useState, useEffect} from 'react';\nimport ReactDOM from 'react-dom';\n\nconst\n\tnop = () => {},\n\tprepareButton = (isPrev) => (isVertical) => {\n\t\tlet direction;\n\n\t\tif (isVertical) {\n\t\t\tdirection = isPrev ? 'up' : 'down';\n\t\t} else {\n\t\t\tdirection = isPrev ? 'left' : 'right';\n\t\t}\n\n\t\treturn 'arrowlarge' + direction;\n\t},\n\tpreparePrevButton = prepareButton(true),\n\tprepareNextButton = prepareButton(false),\n\tisPageUp = is('pageUp'),\n\tisPageDown = is('pageDown'),\n\tconsumeEvent = (ev) => {\n\t\tev.preventDefault();\n\t\tev.stopPropagation();\n\t};\n\n/**\n * A custom hook that returns Agate-themed scroll buttons behavior. It is used in [Scrollbar]{@link agate/useScroll.Scrollbar}.\n *\n * @function useScrollButtons\n * @memberof agate/useScroll\n * @ui\n * @private\n */\nconst useScrollButtons = (props) => {\n\tconst [prevButtonDisabled, setPrevButtonDisabled] = useState(true);\n\tconst [nextButtonDisabled, setNextButtonDisabled] = useState(true);\n\n\tconst nextButtonRef = React.createRef();\n\tconst prevButtonRef = React.createRef();\n\n\tuseEffect(() => {\n\t\tutilEvent('keydown').addEventListener(nextButtonRef, onKeyDownNext);\n\t\tutilEvent('keydown').addEventListener(prevButtonRef, onKeyDownPrev);\n\n\t\treturn () => {\n\t\t\tutilEvent('keydown').removeEventListener(nextButtonRef, onKeyDownNext);\n\t\t\tutilEvent('keydown').removeEventListener(prevButtonRef, onKeyDownPrev);\n\t\t};\n\t}, []);\t// eslint-disable-line react-hooks/exhaustive-deps\n\n\tconst updateButtons = (bounds) => {\n\t\tconst\n\t\t\t{vertical} = props,\n\t\t\tcurrentPos = vertical ? bounds.scrollTop : bounds.scrollLeft,\n\t\t\tmaxPos = vertical ? bounds.maxTop : bounds.maxLeft,\n\t\t\tshouldDisablePrevButton = currentPos <= 0,\n\t\t\t/* If a scroll size or a client size is not integer,\n\t\t\t   browser's max scroll position could be smaller than maxPos by 1 pixel.*/\n\t\t\tshouldDisableNextButton = maxPos - currentPos <= 1,\n\t\t\tupdatePrevButton = (prevButtonDisabled !== shouldDisablePrevButton),\n\t\t\tupdateNextButton = (nextButtonDisabled !== shouldDisableNextButton);\n\n\t\tif (updatePrevButton) {\n\t\t\tsetPrevButtonDisabled(shouldDisablePrevButton);\n\t\t}\n\t\tif (updateNextButton) {\n\t\t\tsetNextButtonDisabled(shouldDisableNextButton);\n\t\t}\n\t};\n\n\tfunction isOneOfScrollButtonsFocused () {\n\t\tconst current = Spotlight.getCurrent();\n\t\treturn current === prevButtonRef.current || current === nextButtonRef.current;\n\t}\n\n\tfunction onClickPrev (ev) {\n\t\tconst {onPrevScroll = nop, vertical} = props;\n\t\tonPrevScroll({...ev, isPreviousScrollButton: true, isVerticalScrollBar: vertical});\n\t}\n\n\tfunction onClickNext (ev) {\n\t\tconst {onNextScroll = nop, vertical} = props;\n\t\tonNextScroll({...ev, isPreviousScrollButton: false, isVerticalScrollBar: vertical});\n\t}\n\n\tfunction focusOnButton (isPrev) {\n\t\tSpotlight.focus(isPrev ? prevButtonRef.current : nextButtonRef.current);\n\t}\n\n\tfunction focusOnOppositeScrollButton (ev, direction) {\n\t\tconst buttonNode = (ev.target === nextButtonRef.current) ? prevButtonRef.current : nextButtonRef.current;\n\n\t\tif (!Spotlight.focus(buttonNode)) {\n\t\t\tSpotlight.move(direction);\n\t\t}\n\t}\n\n\tfunction onKeyDownButton (ev, position) {\n\t\tconst\n\t\t\t{focusableScrollButtons, vertical, preventBubblingOnKeyDown} = props,\n\t\t\t{keyCode} = ev,\n\t\t\tdirection = getDirection(ev.keyCode),\n\t\t\tpreventBubbling = preventBubblingOnKeyDown === 'programmatic',\n\t\t\tisNextButton = position === 'next',\n\t\t\tisPrevButton = position === 'prev',\n\t\t\tnextButton = {\n\t\t\t\tdisabled: nextButtonDisabled,\n\t\t\t\tref: nextButtonRef.current,\n\t\t\t\tclick: onClickNext\n\t\t\t},\n\t\t\tprevButton = {\n\t\t\t\tdisabled: prevButtonDisabled,\n\t\t\t\tref: prevButtonRef.current,\n\t\t\t\tclick: onClickPrev\n\t\t\t},\n\t\t\tcurrentButton = isPrevButton ? prevButton : nextButton,\n\t\t\toppositeButton = isPrevButton ? nextButton : prevButton;\n\n\t\tif (isPageDown(keyCode) || isPageUp(keyCode)) {\n\t\t\tif (!vertical) {\n\t\t\t\t// should not call stopPropagation() here\n\t\t\t\tev.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (isPrevButton && isPageDown(keyCode) || isNextButton && isPageUp(keyCode)) {\n\t\t\t\tif (focusableScrollButtons && !Spotlight.getPointerMode()) {\n\t\t\t\t\tconsumeEvent(ev);\n\t\t\t\t\tSpotlight.setPointerMode(false);\n\t\t\t\t\tSpotlight.focus(ReactDOM.findDOMNode(oppositeButton.ref)); // eslint-disable-line react/no-find-dom-node\n\t\t\t\t} else if (!oppositeButton.disabled) {\n\t\t\t\t\tconsumeEvent(ev);\n\t\t\t\t\toppositeButton.click(ev);\n\t\t\t\t}\n\t\t\t} else if (!currentButton.disabled) {\n\t\t\t\tconsumeEvent(ev);\n\t\t\t\tcurrentButton.click(ev);\n\t\t\t}\n\t\t} else if (direction) {\n\t\t\tconst\n\t\t\t\t{rtl} = props,\n\t\t\t\tisDown = direction === 'down',\n\t\t\t\tisLeftMovement = direction === (rtl ? 'right' : 'left'),\n\t\t\t\tisRightMovement = direction === (rtl ? 'left' : 'right'),\n\t\t\t\tisUp = direction === 'up',\n\t\t\t\tfromNextToPrev = vertical ? isUp : isLeftMovement,\n\t\t\t\tfromPrevToNext = vertical ? isDown : isRightMovement;\n\n\t\t\tSpotlight.setPointerMode(false);\n\n\t\t\tif (isNextButton && fromNextToPrev || isPrevButton && fromPrevToNext) {\n\t\t\t\tif (focusableScrollButtons) {\n\t\t\t\t\tconsumeEvent(ev);\n\t\t\t\t\tfocusOnOppositeScrollButton(ev, direction);\n\t\t\t\t\tif (!preventBubbling) {\n\t\t\t\t\t\tforward('onKeyDownButton', ev, props);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst\n\t\t\t\t\t// If it is vertical Scroller, move focus to the left for ltr or to the right for rtl\n\t\t\t\t\t// If is is horizontal Scroller, move focus to the up\n\t\t\t\t\tdirectionToContent = !vertical && 'up' || rtl && 'right' || 'left',\n\t\t\t\t\tisLeavingDown = vertical && isNextButton && isDown,\n\t\t\t\t\tisLeavingUp = vertical && isPrevButton && isUp,\n\t\t\t\t\tisLeavingLeft = !vertical && isPrevButton && isLeftMovement,\n\t\t\t\t\tisLeavingRight = !vertical && isNextButton && isRightMovement,\n\t\t\t\t\tisDirectionToLeave =\n\t\t\t\t\t\t(vertical && isRightMovement || isLeavingUp || isLeavingDown) ||\n\t\t\t\t\t\t(!vertical && isDown || isLeavingLeft || isLeavingRight);\n\n\t\t\t\tif (isDirectionToLeave) {\n\t\t\t\t\tif (!focusableScrollButtons && !getTargetByDirectionFromElement(direction, ev.target)) {\n\t\t\t\t\t\tif (preventBubbling && isLeavingDown || isLeavingUp || isLeavingLeft || isLeavingRight) {\n\t\t\t\t\t\t\tconsumeEvent(ev);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// move focus into contents and allow bubbling\n\t\t\t\t\t\tSpotlight.move(directionToContent);\n\t\t\t\t\t}\n\t\t\t\t} else if (preventBubbling) {\n\t\t\t\t\t// move focus directly to stop bubbling\n\t\t\t\t\tconsumeEvent(ev);\n\t\t\t\t\tSpotlight.move(direction);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction onKeyDownPrev (ev) {\n\t\tonKeyDownButton(ev, 'prev');\n\t}\n\n\tfunction onKeyDownNext (ev) {\n\t\tonKeyDownButton(ev, 'next');\n\t}\n\n\treturn {\n\t\tfocusOnButton,\n\t\tisOneOfScrollButtonsFocused,\n\t\tnextButtonDisabled,\n\t\tnextButtonRef,\n\t\tnextIcon: prepareNextButton(props.vertical),\n\t\tonClickNext,\n\t\tonClickPrev,\n\t\tprevButtonDisabled,\n\t\tprevButtonRef,\n\t\tprevIcon: preparePrevButton(props.vertical),\n\t\tupdateButtons\n\t};\n};\n\nexport default useScrollButtons;\nexport {\n\tuseScrollButtons\n};\n","import {ScrollbarTrack as UiScrollbarTrack} from '@enact/ui/useScroll/Scrollbar';\nimport PropTypes from 'prop-types';\nimport React, {forwardRef, useEffect} from 'react';\n\nconst nop = () => {};\n\n/**\n * An Agate-styled scrollbar track with agate behavior\n *\n * @class ScrollbarTrack\n * @memberof agate/useScroll\n * @ui\n * @private\n */\nconst ScrollbarTrack = forwardRef(({cbAlertScrollbarTrack, ...rest}, ref) => {\n\tuseEffect (() => {\n\t\tcbAlertScrollbarTrack();\n\t}, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n\treturn <UiScrollbarTrack {...rest} ref={ref} />;\n});\n\nScrollbarTrack.displayName = 'ScrollbarTrack';\n\nScrollbarTrack.propTypes = /** @lends agate/useScroll.ScrollbarTrack.prototype */ {\n\t/**\n\t * Called when [ScrollbarTrack]{@link agate/useScroll.ScrollbarTrack} is updated.\n\t *\n\t * @type {Function}\n\t * @private\n\t */\n\tcbAlertScrollbarTrack: PropTypes.func\n};\n\nScrollbarTrack.defaultProps = {\n\tcbAlertScrollbarTrack: nop\n};\n\nexport default ScrollbarTrack;\nexport {\n\tScrollbarTrack,\n\tScrollbarTrack as ScrollbarTrackBase\n};\n","import {useScrollbar as useScrollbarBase} from '@enact/ui/useScroll/Scrollbar';\nimport PropTypes from 'prop-types';\nimport React, {memo, useEffect} from 'react';\n\nimport ScrollButton from './ScrollButton';\nimport useScrollButtons from './ScrollButtons';\nimport ScrollbarTrack from './ScrollbarTrack';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './Scrollbar.module.less';\n\nconst useThemeScrollbar = (props) => {\n\tconst {\n\t\trestProps,\n\t\tscrollbarProps,\n\t\tscrollbarTrackProps\n\t} = useScrollbarBase(props);\n\n\tconst {\n\t\tcbAlertScrollbarTrack,\n\t\tdisabled,\n\t\tfocusableScrollButtons,\n\t\tnextButtonAriaLabel,\n\t\tonKeyDownButton,\n\t\tonNextScroll,\n\t\tonPrevScroll,\n\t\tpreventBubblingOnKeyDown,\n\t\tpreviousButtonAriaLabel,\n\t\trtl,\n\t\t...rest\n\t} = restProps;\n\n\tconst {vertical} = scrollbarTrackProps;\n\n\treturn {\n\t\trestProps: rest,\n\t\tscrollbarProps,\n\t\tscrollbarButtonsProps: {\n\t\t\tdisabled,\n\t\t\tfocusableScrollButtons,\n\t\t\tnextButtonAriaLabel,\n\t\t\tonKeyDownButton,\n\t\t\tonNextScroll,\n\t\t\tonPrevScroll,\n\t\t\tpreventBubblingOnKeyDown,\n\t\t\tpreviousButtonAriaLabel,\n\t\t\trtl,\n\t\t\tvertical\n\t\t},\n\t\tscrollbarTrackProps: {\n\t\t\t...scrollbarTrackProps,\n\t\t\tcbAlertScrollbarTrack\n\t\t}\n\t};\n};\n\n/**\n * An Agate-styled scrollbar base component.\n *\n * @class ScrollbarBase\n * @memberof agate/useScroll\n * @ui\n * @private\n */\nconst ScrollbarBase = memo((props) => {\n\tconst {\n\t\trestProps,\n\t\tscrollbarProps,\n\t\tscrollbarButtonsProps,\n\t\tscrollbarTrackProps\n\t} = useThemeScrollbar(props);\n\n\tconst {\n\t\tfocusOnButton,\n\t\tisOneOfScrollButtonsFocused,\n\t\tnextButtonDisabled,\n\t\tnextButtonRef,\n\t\tnextIcon,\n\t\tonClickNext,\n\t\tonClickPrev,\n\t\tprevButtonDisabled,\n\t\tprevButtonRef,\n\t\tprevIcon,\n\t\tupdateButtons\n\t} = useScrollButtons(scrollbarButtonsProps);\n\n\tconst {disabled, nextButtonAriaLabel, previousButtonAriaLabel, rtl, vertical} = scrollbarButtonsProps;\n\n\tuseEffect(() => {\n\t\tconst {scrollbarHandle} = props;\n\t\tconst {update: uiUpdate} = scrollbarHandle.current;\n\n\t\tscrollbarHandle.current.update = (bounds) => {\n\t\t\tupdateButtons(bounds);\n\t\t\tuiUpdate(bounds);\n\t\t};\n\n\t\tscrollbarHandle.current.focusOnButton = focusOnButton;\n\t\tscrollbarHandle.current.isOneOfScrollButtonsFocused = isOneOfScrollButtonsFocused;\n\t});\n\n\treturn (\n\t\t<div {...restProps} {...scrollbarProps}>\n\t\t\t<ScrollButton\n\t\t\t\taria-label={rtl && !vertical ? nextButtonAriaLabel : previousButtonAriaLabel}\n\t\t\t\tdata-spotlight-overflow=\"ignore\"\n\t\t\t\tdisabled={disabled || prevButtonDisabled}\n\t\t\t\tonClick={onClickPrev}\n\t\t\t\tonHoldPulse={onClickPrev}\n\t\t\t\tref={prevButtonRef}\n\t\t\t\ticon={prevIcon}\n\t\t\t/>\n\t\t\t<ScrollbarTrack\n\t\t\t\t{...scrollbarTrackProps}\n\t\t\t/>\n\t\t\t<ScrollButton\n\t\t\t\taria-label={rtl && !vertical ? previousButtonAriaLabel : nextButtonAriaLabel}\n\t\t\t\tdata-spotlight-overflow=\"ignore\"\n\t\t\t\tdisabled={disabled || nextButtonDisabled}\n\t\t\t\tonClick={onClickNext}\n\t\t\t\tonHoldPulse={onClickNext}\n\t\t\t\tref={nextButtonRef}\n\t\t\t\ticon={nextIcon}\n\t\t\t/>\n\t\t</div>\n\t);\n});\n\nScrollbarBase.displayName = 'ScrollbarBase';\n\nScrollbarBase.propTypes = /** @lends agate/useScroll.Scrollbar.prototype */ {\n\t/**\n\t * If `true`, add the corner between vertical and horizontal scrollbars.\n\t *\n\t * @type {Booelan}\n\t * @default false\n\t * @public\n\t */\n\tcorner: PropTypes.bool,\n\n\t/**\n\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t * corresponding internal elements and states of this component.\n\t *\n\t * The following classes are supported:\n\t *\n\t * * `scrollbar` - The scrollbar component class\n\t *\n\t * @type {Object}\n\t * @public\n\t */\n\tcss: PropTypes.object,\n\n\t/**\n\t * Specifies to reflect scrollbar's disabled property to the paging controls.\n\t * When it is `true`, both prev/next buttons are going to be disabled.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tdisabled: PropTypes.bool,\n\n\t/**\n\t * When it is `true`, it allows 5 way navigation to the ScrollButtons.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\tfocusableScrollButtons: PropTypes.bool,\n\n\t/**\n\t * The minimum size of the thumb.\n\t * This value will be applied ri.scale.\n\t *\n\t * @type {number}\n\t * @public\n\t */\n\tminThumbSize: PropTypes.number,\n\n\t/**\n\t * Sets the hint string read when focusing the next button in the scroll bar.\n\t *\n\t * @type {String}\n\t * @public\n\t */\n\tnextButtonAriaLabel: PropTypes.string,\n\n\t/**\n\t * Called when the scrollbar's button is pressed and needs to be bubbled.\n\t *\n\t * @type {Function}\n\t * @private\n\t */\n\tonKeyDownButton: PropTypes.func,\n\n\t/**\n\t * Called when the scrollbar's down/right button is pressed.\n\t *\n\t * @type {Function}\n\t * @public\n\t */\n\tonNextScroll: PropTypes.func,\n\n\t/**\n\t * Called when the scrollbar's up/left button is pressed.\n\t *\n\t * @type {Function}\n\t * @public\n\t */\n\tonPrevScroll: PropTypes.func,\n\n\t/**\n\t * Specifies preventing keydown events from bubbling up to applications.\n\t * Valid values are `'none'`, and `'programmatic'`.\n\t *\n\t * When it is `'none'`, every keydown event is bubbled.\n\t * When it is `'programmatic'`, an event bubbling is not allowed for a keydown input\n\t * which invokes programmatic spotlight moving.\n\t *\n\t * @type {String}\n\t * @private\n\t */\n\tpreventBubblingOnKeyDown: PropTypes.oneOf(['none', 'programmatic']),\n\n\t/**\n\t * Sets the hint string read when focusing the previous button in the scroll bar.\n\t *\n\t * @type {String}\n\t * @public\n\t */\n\tpreviousButtonAriaLabel: PropTypes.string,\n\n\t/**\n\t * `true` if rtl, `false` if ltr.\n\t *\n\t * @type {Boolean}\n\t * @private\n\t */\n\trtl: PropTypes.bool,\n\n\t/**\n\t * The scrollbar will be oriented vertically.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @public\n\t */\n\tvertical: PropTypes.bool\n};\n\nScrollbarBase.defaultProps = {\n\tcss: componentCss,\n\tminThumbSize: 18,\n\tvertical: true\n};\n\n/**\n * An Agate-styled scroll bar.\n *\n * @class Scrollbar\n * @memberof agate/useScroll\n * @ui\n * @private\n */\nconst Scrollbar = Skinnable(ScrollbarBase);\n\nScrollbar.displayName = 'Scrollbar';\n\nexport default Scrollbar;\nexport {\n\tScrollbar,\n\tScrollbarBase\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contextualPopup\":\"ContextualPopup_contextualPopup__nPYMY\",\"container\":\"ContextualPopup_container__Y29Ih\",\"none\":\"ContextualPopup_none__1HCEQ\",\"fixedSize\":\"ContextualPopup_fixedSize__2CDmW\",\"closeButton\":\"ContextualPopup_closeButton__xocnQ\",\"bg\":\"ContextualPopup_bg___AwW8\",\"arrow\":\"ContextualPopup_arrow__24gRy\",\"above\":\"ContextualPopup_above__3XYBq\",\"left\":\"ContextualPopup_left__2cemN\",\"right\":\"ContextualPopup_right__EFxZ8\",\"icon\":\"ContextualPopup_icon__2DT7r\",\"reserveClose\":\"ContextualPopup_reserveClose__QEzDu\",\"arrowFill\":\"ContextualPopup_arrowFill__JCpGT\"};","/**\n * Agate styled button components and behaviors.\n *\n * @example\n * <Button>Hello Enact!</Button>\n *\n * @module agate/Button\n * @exports Button\n * @exports ButtonBase\n * @exports ButtonDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport {cap} from '@enact/core/util';\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport Spottable from '@enact/spotlight/Spottable';\nimport {ButtonBase as UiButtonBase, ButtonDecorator as UiButtonDecorator} from '@enact/ui/Button';\nimport ComponentOverride from '@enact/ui/ComponentOverride';\nimport Pure from '@enact/ui/internal/Pure';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport compose from 'ramda/src/compose';\n\nimport {IconBase} from '../Icon';\n// import {MarqueeDecorator} from '../Marquee';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './Button.module.less';\n\n// Make a basic Icon in case we need it later. This cuts `Pure` out of icon for a small gain.\nconst Icon = Skinnable(IconBase);\n\n/**\n * A button component.\n *\n * This component is most often not used directly but may be composed within another component as it\n * is within [Button]{@link agate/Button.Button}.\n *\n * @class ButtonBase\n * @memberof agate/Button\n * @extends ui/Button.ButtonBase\n * @omit minWidth\n * @ui\n * @public\n */\nconst ButtonBase = kind({\n\tname: 'Button',\n\n\tpropTypes: /** @lends agate/Button.ButtonBase.prototype */ {\n\t\t/**\n\t\t * Animate when this component renders.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tanimateOnRender: PropTypes.bool,\n\n\t\t/**\n\t\t * The delay before the button is animated, in milliseconds.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tanimationDelay: PropTypes.number,\n\n\t\t/**\n\t\t * The background opacity of this button.\n\t\t *\n\t\t * Valid values are:\n\t\t * * `'opaque'`,\n\t\t * * `'lightOpaque'`, and\n\t\t * * `'transparent'`.\n\t\t *\n\t\t * @type {('opaque'|'lightOpaque'|'transparent')}\n\t\t * @public\n\t\t */\n\t\tbackgroundOpacity: PropTypes.oneOf(['opaque', 'lightOpaque', 'transparent']),\n\n\t\t/**\n\t\t * A small message overlaid onto the button.\n\t\t *\n\t\t * @type {Number|String}\n\t\t * @public\n\t\t */\n\t\tbadge: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n\t\t/**\n\t\t * A custom color for the badge element.\n\t\t *\n\t\t * This prop is only visible if the `badge` prop is also set.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tbadgeColor: PropTypes.string,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `button` - The root class name\n\t\t * * `bg` - The background node of the button\n\t\t * * `selected` - Applied to a `selected` button\n\t\t * * `small` - Applied to a button specifying a `size` of `'small'`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Additional DOM nodes which may be necessary for decorating the Button.\n\t\t *\n\t\t * @type {Node}\n\t\t * @private\n\t\t */\n\t\tdecoration: PropTypes.node,\n\n\t\t/**\n\t\t * Provides a way to call special interface attention to this button. It will be \"featured\"\n\t\t * in some way by the theme's visual rules.  This property only has an effect when\n\t\t * `backgroundOpacity` is \"opaque\".\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\thighlighted: PropTypes.bool,\n\n\t\t/**\n\t\t * The component used to render the icon.\n\t\t *\n\t\t * @type {Component}\n\t\t * @public\n\t\t */\n\t\ticonComponent: EnactPropTypes.component,\n\n\t\t/**\n\t\t * The position of this button in relation to other buttons.\n\t\t *\n\t\t * To create a collection of buttons that appear as one entity: buttons that butt up against\n\t\t * each other. Specify where the button is in the arrangement: 'left', 'center', or 'right'.\n\t\t * This prop is not recommended for use on a lonely button with no other buttons nearby.\n\t\t * Not specifying this optional prop leaves the button behaving normally.\n\t\t *\n\t\t * @type {('left'|'center'|'right')}\n\t\t * @public\n\t\t */\n\t\tjoinedPosition: PropTypes.oneOf(['left', 'center', 'right']),\n\n\t\t/**\n\t\t * Provides a way to call special interface attention to this button. It will be \"featured\"\n\t\t * in some way by the theme's visual rules.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool,\n\n\t\t/**\n\t\t * The size of the button.\n\t\t *\n\t\t * @type {('smallest'|'small'|'large'|'huge')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['smallest', 'small', 'large', 'huge']),\n\n\t\t/**\n\t\t * The amount of sprite \"cells\" in the src image of the `icon` being supplied. This prop has no effect without `icon`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tspriteCount: PropTypes.number,\n\n\t\t/**\n\t\t * The button type.\n\t\t *\n\t\t * Grid buttons are intended to be grouped with other related buttons.\n\t\t *\n\t\t * @type {('grid'|'standard')}\n\t\t * @default 'standard'\n\t\t * @public\n\t\t */\n\t\ttype: PropTypes.oneOf(['grid', 'standard'])\n\t},\n\n\tdefaultProps: {\n\t\tbackgroundOpacity: 'opaque',\n\t\ticonComponent: Icon,\n\t\tsize: 'large',\n\t\ttype: 'standard'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({animateOnRender, backgroundOpacity, highlighted, joinedPosition, selected, type, size, styler}) => styler.append(\n\t\t\tbackgroundOpacity,\n\t\t\tsize,\n\t\t\ttype,\n\t\t\t(joinedPosition && 'joined' + cap(joinedPosition)),  // If `joinedPosition` is present, prepend the word \"joined\" to the variable, so the classes are clearer.\n\t\t\t{\n\t\t\t\tanimateOnRender,\n\t\t\t\thighlighted,\n\t\t\t\tselected\n\t\t\t}\n\t\t),\n\t\tdecoration: ({badge, css, decoration}) => {\n\t\t\tif (!badge) return decoration;\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<div className={css.badge}>{badge}</div>\n\t\t\t\t\t{decoration}\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t},\n\t\ticonComponent: ({iconComponent, spriteCount}) => {\n\t\t\t// Don't burden basic HTML elements with the spriteCount prop (or other Icon-specific props)\n\t\t\tif (typeof iconComponent === 'string') return iconComponent;\n\n\t\t\treturn (\n\t\t\t\t<ComponentOverride\n\t\t\t\t\tcomponent={iconComponent}\n\t\t\t\t\tspriteCount={spriteCount}\n\t\t\t\t/>\n\t\t\t);\n\t\t},\n\t\tstyle: ({animationDelay, badgeColor, style}) => ({\n\t\t\t...style,\n\t\t\t'--agate-button-animation-delay': animationDelay,\n\t\t\t'--agate-button-badge-bg-color': badgeColor\n\t\t}),\n\t\tminWidth: ({children}) => (React.Children.count(children) === 0 || children === '')\n\t},\n\n\trender: ({css, ...rest}) => {\n\t\tdelete rest.animateOnRender;\n\t\tdelete rest.animationDelay;\n\t\tdelete rest.backgroundOpacity;\n\t\tdelete rest.badge;\n\t\tdelete rest.badgeColor;\n\t\tdelete rest.highlighted;\n\t\tdelete rest.joinedPosition;\n\t\tdelete rest.selected;\n\t\tdelete rest.spriteCount;\n\t\tdelete rest.type;\n\n\t\treturn UiButtonBase.inline({\n\t\t\t'data-webos-voice-intent': 'Select',\n\t\t\t...rest,\n\t\t\tcss\n\t\t});\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [Button]{@link agate/Button.ButtonBase} components.\n *\n * @hoc\n * @memberof agate/Button\n * @mixes ui/Button.ButtonDecorator\n * @mixes spotlight/Spottable.Spottable\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst ButtonDecorator = compose(\n\tPure,\n\t// MarqueeDecorator({className: componentCss.marquee}),\n\tUiButtonDecorator,\n\tSpottable,\n\tSkinnable\n);\n\n/**\n * A button component, ready to use in Agate applications.\n *\n * Usage:\n * ```\n * <Button\n * \tbackgroundOpacity=\"translucent\"\n * \tcolor=\"blue\"\n * >\n * \tPress me!\n * </Button>\n * ```\n *\n * @class Button\n * @memberof agate/Button\n * @extends agate/Button.ButtonBase\n * @mixes agate/Button.ButtonDecorator\n * @ui\n * @public\n */\nconst Button = ButtonDecorator(ButtonBase);\n\nexport default Button;\nexport {\n\tButton,\n\tButtonBase,\n\tButtonDecorator\n};\n","import hoc from '@enact/core/hoc';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst SharedState = React.createContext(null);\n\nconst defaultConfig = {\n\tidProp: 'id',\n\tupdateOnMount: false\n};\n\n/**\n * Adds shared state to a component.\n *\n * The purpose of shared state is to store framework component state at significant container\n * boundaries in order to restore it when the \"same\" component is mounted later.\n *\n * \"Sameness\" is determined by the `idProp` config member (defaults to \"id\"). If multiple\n * descendants have the same `idProp` within the subtree, SharedStateDecorator will not distinguish\n * between them and will allow each to read from and write over each other's data.\n *\n * For example, Panels and Panel are considered \"significant container boundaries\" since they are\n * key building blocks for applications. When components are rendered within a Panel, we may want to\n * store those components state on unmount so that we can restore it when returning to the panel.\n * Panel can (and does) use SharedStateDecorator to establish a shared state which can be used by\n * contained components.\n *\n * It's important to note that SharedStateDecorator doesn't prescribe how or what is stored nor how\n * the data is managed. That is left to the consuming component to determine. Also, unlike React\n * state or third-party state management solutions like Redux, updating shared state will not\n * initiate an update cycle in React. The intent is only to restore state on mount.\n *\n * If shared state is used in the render method for a component, it may be necessary to use the\n * `updateOnMount` config member which will initiate an update cycle within React once the data is\n * available from an upstream shared state.\n *\n * @hoc\n * @memberof agate/Panels\n * @private\n */\nconst SharedStateDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {idProp, updateOnMount} = config;\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'SharedStateDecorator';\n\n\t\tstatic contextType = SharedState;\n\n\t\tstatic propTypes = /** @lends agate/Panels.SharedStateDecorator.prototype */ {\n\t\t\t/**\n\t\t\t * Prevents the component from setting or restoring any framework shared state.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tnoSharedState: PropTypes.bool\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.data = {};\n\t\t\tthis.sharedState = this.initSharedState();\n\t\t\tthis.state = {\n\t\t\t\tupdateOnMount: false\n\t\t\t};\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\tthis.loadFromContext();\n\t\t}\n\n\t\tcomponentDidUpdate (prevProps) {\n\t\t\tif (!prevProps.noSharedState && this.props.noSharedState) {\n\t\t\t\tthis.data = {};\n\t\t\t} else if (prevProps.noSharedState && !this.props.noSharedState) {\n\t\t\t\tthis.loadFromContext();\n\t\t\t}\n\t\t}\n\n\t\tisUpdateable () {\n\t\t\tconst {[idProp]: id, noSharedState} = this.props;\n\n\t\t\treturn !noSharedState && (id || id === 0);\n\t\t}\n\n\t\tinitSharedState () {\n\t\t\treturn {\n\t\t\t\tset: (key, value) => {\n\t\t\t\t\tconst {[idProp]: id} = this.props;\n\n\t\t\t\t\tif (this.isUpdateable()) {\n\t\t\t\t\t\tthis.data[id] = this.data[id] || {};\n\t\t\t\t\t\tthis.data[id][key] = value;\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tget: (key) => {\n\t\t\t\t\tconst {[idProp]: id} = this.props;\n\n\t\t\t\t\treturn (this.isUpdateable() && this.data[id]) ? this.data[id][key] : null;\n\t\t\t\t},\n\n\t\t\t\tdelete: (key) => {\n\t\t\t\t\tconst {[idProp]: id} = this.props;\n\n\t\t\t\t\tif (this.isUpdateable() && this.data[id]) {\n\t\t\t\t\t\tdelete this.data[id][key];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tloadFromContext () {\n\t\t\tconst {[idProp]: id, noSharedState} = this.props;\n\n\t\t\tif (!noSharedState && this.context && this.context.get) {\n\t\t\t\tconst data = this.context.get(id);\n\n\t\t\t\tif (data) {\n\t\t\t\t\tthis.data = data;\n\t\t\t\t} else {\n\t\t\t\t\tthis.context.set(id, this.data);\n\t\t\t\t}\n\n\t\t\t\tif (updateOnMount) {\n\t\t\t\t\tthis.setState({updateOnMount: true});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\trender () {\n\t\t\tconst {...props} = this.props;\n\n\t\t\tdelete props.noSharedState;\n\n\t\t\treturn (\n\t\t\t\t<SharedState.Provider value={this.sharedState}>\n\t\t\t\t\t<Wrapped {...props} />\n\t\t\t\t</SharedState.Provider>\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default SharedStateDecorator;\nexport {\n\tSharedState,\n\tSharedStateDecorator\n};\n","/**\n * An Agate-themed Labeled Icon component.\n *\n * @example\n * <LabeledIconButton icon=\"star\">Hello Enact!</LabeledIconButton>\n *\n * @module agate/LabeledIconButton\n * @exports LabeledIconButton\n * @exports LabeledIconButtonBase\n * @exports LabeledIconButtonDecorator\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport {LabeledIconBase as UiLabeledIconBase, LabeledIconDecorator as UiLabeledIconDecorator} from '@enact/ui/LabeledIcon';\nimport compose from 'ramda/src/compose';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {ButtonBase, ButtonDecorator} from '../Button';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './LabeledIconButton.module.less';\n\nconst Button = Skinnable(ButtonBase);\n\n/**\n * An icon button component with a label.\n *\n * @class LabeledIconButtonBase\n * @memberof agate/LabeledIconButton\n * @extends ui/LabeledIcon.LabeledIconBase\n * @ui\n * @public\n */\nconst LabeledIconButtonBase = kind({\n\tname: 'LabeledIconButton',\n\n\tpropTypes: /** @lends agate/LabeledIconButton.LabeledIconButtonBase.prototype */ {\n\t\tbackgroundOpacity: PropTypes.oneOf(['opaque', 'lightOpaque', 'transparent']),\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `labeledIconButton` - The root component class\n\t\t * * `icon` - The icon component class\n\t\t * * `label` - The label component class\n\t\t * * `selected` - Applied to a `selected` button\n\t\t * * `small` - Applied to a LabeledIconButton specifying a `size` of `'small'`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Provides a way to call special interface attention to this button. It will be \"featured\"\n\t\t * in some way by the theme's visual rules.  This property only has an effect when\n\t\t * `backgroundOpacity` is \"opaque\".\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\thighlighted: PropTypes.bool,\n\n\t\t/**\n\t\t * The icon displayed within the button.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\ticon: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n\n\t\t/**\n\t\t * The component used to render the `icon`.\n\t\t *\n\t\t * This will receive the `icon` prop as `children` and should handle it appropriately.It\n\t\t * will also receive the `flip` and `size` props as set on the component.\n\t\t *\n\t\t * @type {Component}\n\t\t */\n\t\ticonComponent: EnactPropTypes.component,\n\n\t\t// forwarded from Spottable\n\t\tpressed: PropTypes.bool,\n\n\t\t/**\n\t\t * Selects the component.\n\t\t *\n\t\t * Setting `selected` may be useful when the component represents a toggleable option. The\n\t\t * visual effect may be customized using the\n\t\t * [css]{@link agate/LabeledIconButton.LabeledIconButtonBase.css} prop.\n\t\t */\n\t\tselected: PropTypes.bool,\n\n\t\t/**\n\t\t * The amount of sprite \"cells\" in the src image.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tspriteCount: PropTypes.number\n\t\t// TODO: spriteCount prop bleeds!  Is this cruft?\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'labeledIconButton',\n\t\tpublicClassNames: true\n\t},\n\n\trender: ({\n\t\tbackgroundOpacity,\n\t\tcss,\n\t\ticon,\n\t\ticonComponent,\n\t\thighlighted,\n\t\tpressed,\n\t\tselected,\n\t\tspriteCount,\n\t\t...rest\n\t}) => {\n\t\treturn UiLabeledIconBase.inline({\n\t\t\t...rest,\n\t\t\ticon: (\n\t\t\t\t<Button\n\t\t\t\t\tbackgroundOpacity={backgroundOpacity}\n\t\t\t\t\ticon={icon}\n\t\t\t\t\ticonComponent={iconComponent}\n\t\t\t\t\thighlighted={highlighted}\n\t\t\t\t\tpressed={pressed}\n\t\t\t\t\tselected={selected}\n\t\t\t\t\tspriteCount={spriteCount}\n\t\t\t\t/>\n\t\t\t),\n\t\t\tcss\n\t\t});\n\t}\n});\n\n/**\n * Adds Agate specific behaviors to [LabeledIconButtonBase]{@link agate/LabeledIconButton.LabeledIconButtonBase}.\n *\n * @hoc\n * @memberof agate/LabeledIconButton\n * @mixes agate/Button.ButtonDecorator\n * @mixes agate/LabeledIcon.LabeledIconDecorator\n * @public\n */\nconst LabeledIconButtonDecorator = compose(\n\tUiLabeledIconDecorator,\n\tButtonDecorator\n);\n\n/**\n * An Agate-styled icon button component with a label.\n *\n * Usage:\n * ```\n * <LabeledIconButton icon=\"star\" labelPosition=\"after\">\n *   Favorite\n * </LabeledIconButton>\n * ```\n *\n * @class LabeledIconButton\n * @memberof agate/LabeledIconButton\n * @extends agate/LabeledIconButton.LabeledIconButtonBase\n * @mixes agate/LabeledIconButton.LabeledIconButtonDecorator\n * @ui\n * @public\n */\nconst LabeledIconButton = LabeledIconButtonDecorator(LabeledIconButtonBase);\n\nexport default LabeledIconButton;\nexport {\n\tLabeledIconButton,\n\tLabeledIconButtonBase,\n\tLabeledIconButtonDecorator\n};\n","\nimport kind from '@enact/core/kind';\nimport onlyUpdateForKeys from 'recompose/onlyUpdateForKeys';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../Icon';\n\nimport css from './Input.module.less';\n\n/**\n * The stateless functional base component for {@link agate/Input.InputDecoratorIcon}.\n *\n * @class InputDecoratorIconBase\n * @memberof agate/Input\n * @ui\n * @private\n */\nconst InputDecoratorIconBase = kind({\n\tname: 'InputDecoratorIcon',\n\n\tpropTypes: /** @lends agate/Input.InputDecoratorIconBase.prototype */ {\n\t\t/**\n\t\t * The position of the icon. Either `before` or `after`.\n\t\t *\n\t\t * @type {String}\n\t\t * @required\n\t\t */\n\t\tposition: PropTypes.oneOf(['before', 'after']).isRequired,\n\n\t\t/**\n\t\t * The icon to be displayed.\n\t\t *\n\t\t * @see {@link agate/Icon.Icon#children}\n\t\t * @type {String|Object}\n\t\t */\n\t\tchildren: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\n\t\t/**\n\t\t * The size of the icon.\n\t\t *\n\t\t * @type {('small'|'large')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['small', 'large'])\n\t},\n\n\tdefaultProps: {\n\t\tsize: 'large'\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'icon'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({position, styler}) => {\n\t\t\treturn styler.append('icon' + (position === 'before' ? 'Before' : 'After'));\n\t\t}\n\t},\n\n\trender: ({children, ...rest}) => {\n\t\tdelete rest.position;\n\n\t\treturn children ? (\n\t\t\t<Icon {...rest}>{children}</Icon>\n\t\t) : null;\n\t}\n});\n\n/**\n * An icon displayed either before or after the input field of an {@link agate/Input.Input}.\n *\n * @class InputDecoratorIcon\n * @memberof agate/Input\n * @ui\n * @private\n */\nconst InputDecoratorIcon = onlyUpdateForKeys(['children', 'size'])(InputDecoratorIconBase);\n\nexport default InputDecoratorIcon;\nexport {\n\tInputDecoratorIcon,\n\tInputDecoratorIconBase\n};\n","import {handle, preventDefault, returnsTrue, stop} from '@enact/core/handle';\n\nlet active;\nlet capturedDown = false;\n\n// if there is a focused input (there should be) and the target is not the input\nconst shouldCapture = ({target}) => active && target !== active;\nconst isCapturing = () => capturedDown && active;\nconst setCapturing = (capturing) => returnsTrue(() => (capturedDown = capturing));\n\nconst handlePointerDown = handle(\n\tshouldCapture,\t\t\t\t// If we should capture the click\n\tpreventDefault,\t\t\t\t// prevent the down event bubbling\n\tstop,\t\t\t\t\t\t// (and stop propagation to support touch)\n\tsetCapturing(true)\t\t\t// and flag that we've started capturing a down event\n);\n\nconst handlePointerUp = handle(\n\tisCapturing,\t\t\t\t// if a down event was captured\n\tpreventDefault,\t\t\t\t// prevent the up event bubbling\n\tstop\t\t\t\t\t\t// (and stop propagation to support touch)\n);\n\n// This is attached to both click and touchend. On some systems (e.g. Chrome), click events are\n// fired when you touch anything but other systems (e.g. iOS) will only emit click events when you\n// touch a clickable component (something with a tabindex). By attaching the same handler to both,\n// we ensure that we do not leave this module in an unstable state where it thinks capturing is\n// active but focus is not on the input.\nconst handleTap = handle(\n\tisCapturing,\t\t\t\t// if a down event was captured\n\tstop,\t\t\t\t\t\t// prevent the click event from propagating\n\tpreventDefault,\t\t\t\t// prevent touchend from triggering a click after releasing lock\n\tsetCapturing(false),\t\t// clear the capturing flag\n\t() => active.blur()\t\t\t// and blur the active node\n);\n\nconst handleTouchStart = handle(\n\tshouldCapture,                // If we should capture the click\n\tstop,                         // prevent other components from handling this event\n\tsetCapturing(true)            // and flag that we've started capturing a down event\n);\n\n// Lock the pointer from emitting click events until released\nconst lockPointer = (target) => {\n\tactive = target;\n\tdocument.addEventListener('mousedown', handlePointerDown, {capture: true});\n\tdocument.addEventListener('mouseup', handlePointerUp, {capture: true});\n\tdocument.addEventListener('touchstart', handleTouchStart, {capture: true});\n\tdocument.addEventListener('touchend', handleTap, {capture: true});\n\tdocument.addEventListener('click', handleTap, {capture: true});\n};\n\n// Release the pointer and allow subsequent click events\nconst releasePointer = (target) => {\n\tif (target === active) {\n\t\tactive = null;\n\t\tdocument.removeEventListener('mousedown', handlePointerDown, {capture: true});\n\t\tdocument.removeEventListener('mouseup', handlePointerUp, {capture: true});\n\t\tdocument.removeEventListener('touchstart', handleTouchStart, {capture: true});\n\t\tdocument.removeEventListener('touchend', handleTap, {capture: true});\n\t\tdocument.removeEventListener('click', handleTap, {capture: true});\n\t}\n};\n\nexport {\n\tlockPointer,\n\treleasePointer\n};\n","import {call, forward, forwardWithPrevent, handle, stopImmediate} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport {is} from '@enact/core/keymap';\nimport {getDirection, Spotlight} from '@enact/spotlight';\nimport Pause from '@enact/spotlight/Pause';\nimport Spottable from '@enact/spotlight/Spottable';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {lockPointer, releasePointer} from './pointer';\n\nconst isBubbling = (ev) => ev.currentTarget !== ev.target;\n\n// A regex to check for input types that allow selectionStart\nconst SELECTABLE_TYPES = /text|password|search|tel|url/;\n\nconst isSelectionAtLocation = (target, location) => {\n\tif (SELECTABLE_TYPES.test(target.type)) {\n\t\treturn target.selectionStart === location;\n\t} else {\n\t\treturn true;\n\t}\n};\n\nconst handleKeyDown = handle(\n\tforwardWithPrevent('onKeyDown'),\n\tcall('onKeyDown')\n);\n\n/**\n * Default config for [InputSpotlightDecorator]{@link agate/Input.InputSpotlightDecorator}.\n *\n * @memberof agate/Input/InputSpotlightDecorator.InputSpotlightDecorator\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Suppress the pointer lock behavior of agate input\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @memberof agate/Input/InputSpotlightDecorator.InputSpotlightDecorator.defaultConfig\n\t*/\n\tnoLockPointer: false\n};\n\n/**\n * A higher-order component that manages the\n * spotlight behavior for an {@link agate/Input.Input}\n *\n * @class InputSpotlightDecorator\n * @memberof agate/Input/InputSpotlightDecorator\n * @hoc\n * @private\n */\nconst InputSpotlightDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {noLockPointer} = config;\n\tconst Component = Spottable({emulateMouse: false}, Wrapped);\n\tconst forwardBlur = forward('onBlur');\n\tconst forwardMouseDown = forward('onMouseDown');\n\tconst forwardFocus = forward('onFocus');\n\tconst forwardKeyUp = forward('onKeyUp');\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'InputSpotlightDecorator';\n\n\t\tstatic propTypes = /** @lends agate/Input/InputSpotlightDecorator.InputSpotlightDecorator.prototype */ {\n\t\t\t/**\n\t\t\t * Focuses the <input> when the decorator is focused via 5-way.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tautoFocus: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Applies a disabled style and the control becomes non-interactive.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tdisabled: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Blurs the input when the \"enter\" key is pressed.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tdismissOnEnter: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Called when the internal <input> is focused.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @param {Object} event\n\t\t\t * @public\n\t\t\t */\n\t\t\tonActivate: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Called when the internal <input> loses focus.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @param {Object} event\n\t\t\t * @public\n\t\t\t */\n\t\t\tonDeactivate: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Called when the component is removed while retaining focus.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @param {Object} event\n\t\t\t * @public\n\t\t\t */\n\t\t\tonSpotlightDisappear: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Disables spotlight navigation into the component.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tspotlightDisabled: PropTypes.bool\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.state = {\n\t\t\t\tfocused: null,\n\t\t\t\tnode: null\n\t\t\t};\n\n\t\t\tthis.paused = new Pause('InputSpotlightDecorator');\n\t\t\tthis.handleKeyDown = handleKeyDown.bind(this);\n\t\t}\n\n\t\tcomponentDidUpdate (_, prevState) {\n\t\t\tthis.updateFocus(prevState);\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tthis.paused.resume();\n\n\t\t\tif (this.state.focused === 'input') {\n\t\t\t\tconst {onSpotlightDisappear} = this.props;\n\n\t\t\t\tif (onSpotlightDisappear) {\n\t\t\t\t\tonSpotlightDisappear();\n\t\t\t\t}\n\n\t\t\t\tif (!noLockPointer) {\n\t\t\t\t\treleasePointer(this.state.node);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tupdateFocus = (prevState) => {\n\t\t\tif (this.state.node) {\n\t\t\t\tif (Spotlight.getCurrent() !== this.state.node) {\n\t\t\t\t\tthis.state.node.focus();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst focusChanged = this.state.focused !== prevState.focused;\n\t\t\tif (focusChanged) {\n\t\t\t\tif (this.state.focused === 'input') {\n\t\t\t\t\tforward('onActivate', {type: 'onActivate'}, this.props);\n\t\t\t\t\tif (!noLockPointer) {\n\t\t\t\t\t\tlockPointer(this.state.node);\n\t\t\t\t\t}\n\t\t\t\t\tthis.paused.pause();\n\t\t\t\t} else if (prevState.focused === 'input') {\n\t\t\t\t\tforward('onDeactivate', {type: 'onDeactivate'}, this.props);\n\t\t\t\t\tif (!noLockPointer) {\n\t\t\t\t\t\treleasePointer(prevState.node);\n\t\t\t\t\t}\n\t\t\t\t\tthis.paused.resume();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tfocus = (focused, node) => {\n\t\t\tthis.setState({focused, node});\n\t\t};\n\n\t\tblur = () => {\n\t\t\tthis.setState((state) => (\n\t\t\t\tstate.focused || state.node ? {focused: null, node: null} : null\n\t\t\t));\n\t\t};\n\n\t\tfocusDecorator = (decorator) => {\n\t\t\tthis.focus('decorator', decorator);\n\t\t};\n\n\t\tfocusInput = (decorator) => {\n\t\t\tthis.focus('input', decorator.querySelector('input'));\n\t\t};\n\n\t\tonBlur = (ev) => {\n\t\t\tif (!this.props.autoFocus) {\n\t\t\t\tif (isBubbling(ev)) {\n\t\t\t\t\tif (Spotlight.getPointerMode()) {\n\t\t\t\t\t\tthis.blur();\n\t\t\t\t\t\tforwardBlur(ev, this.props);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.focusDecorator(ev.currentTarget);\n\t\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t} else if (!ev.currentTarget.contains(ev.relatedTarget)) {\n\t\t\t\t\t// Blurring decorator but not focusing input\n\t\t\t\t\tforwardBlur(ev, this.props);\n\t\t\t\t\tthis.blur();\n\t\t\t\t}\n\t\t\t} else if (isBubbling(ev)) {\n\t\t\t\tif (this.state.focused === 'input' && this.state.node === ev.target && ev.currentTarget !== ev.relatedTarget) {\n\t\t\t\t\tthis.blur();\n\t\t\t\t\tforwardBlur(ev, this.props);\n\t\t\t\t} else {\n\t\t\t\t\tthis.focusDecorator(ev.currentTarget);\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\tthis.blur();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tonMouseDown = (ev) => {\n\t\t\tconst {disabled, spotlightDisabled} = this.props;\n\n\t\t\tthis.setDownTarget(ev);\n\t\t\t// focus the <input> whenever clicking on any part of the component to ensure both that\n\t\t\t// the <input> has focus and Spotlight is paused.\n\t\t\tif (!disabled && !spotlightDisabled) {\n\t\t\t\tthis.focusInput(ev.currentTarget);\n\t\t\t}\n\n\t\t\tforwardMouseDown(ev, this.props);\n\t\t};\n\n\t\tonFocus = (ev) => {\n\t\t\tforwardFocus(ev, this.props);\n\n\t\t\t// when in autoFocus mode, focusing the decorator directly will cause it to\n\t\t\t// forward the focus onto the <input>\n\t\t\tif (!isBubbling(ev) && (this.props.autoFocus && this.state.focused === null && !Spotlight.getPointerMode())) {\n\t\t\t\tthis.focusInput(ev.currentTarget);\n\t\t\t\tev.stopPropagation();\n\t\t\t}\n\t\t};\n\n\t\tonKeyDown (ev) {\n\t\t\tconst {currentTarget, keyCode, preventDefault, target} = ev;\n\n\t\t\t// cache the target if this is the first keyDown event to ensure the component had focus\n\t\t\t// when the key interaction started\n\t\t\tthis.setDownTarget(ev);\n\n\t\t\tif (this.state.focused === 'input') {\n\t\t\t\tconst isDown = is('down', keyCode);\n\t\t\t\tconst isLeft = is('left', keyCode);\n\t\t\t\tconst isRight = is('right', keyCode);\n\t\t\t\tconst isUp = is('up', keyCode);\n\n\t\t\t\t// move spotlight\n\t\t\t\tconst shouldSpotlightMove = (\n\t\t\t\t\t// on left + at beginning of selection\n\t\t\t\t\t(isLeft && isSelectionAtLocation(target, 0)) ||\n\t\t\t\t\t// on right + at end of selection (note: fails on non-selectable types usually)\n\t\t\t\t\t(isRight && isSelectionAtLocation(target, target.value.length)) ||\n\t\t\t\t\t// on up\n\t\t\t\t\tisUp ||\n\t\t\t\t\t// on down\n\t\t\t\t\tisDown\n\t\t\t\t);\n\n\t\t\t\t// prevent modifying the value via 5-way for numeric fields\n\t\t\t\tif ((isUp || isDown) && target.type === 'number') {\n\t\t\t\t\tpreventDefault();\n\t\t\t\t}\n\n\t\t\t\tif (shouldSpotlightMove) {\n\t\t\t\t\tconst direction = getDirection(keyCode);\n\t\t\t\t\tconst {getPointerMode, move, setPointerMode} = Spotlight;\n\n\t\t\t\t\tif (getPointerMode()) {\n\t\t\t\t\t\tsetPointerMode(false);\n\t\t\t\t\t}\n\n\t\t\t\t\tstopImmediate(ev);\n\t\t\t\t\tthis.paused.resume();\n\n\t\t\t\t\t// Move spotlight in the keypress direction\n\t\t\t\t\tif (move(direction)) {\n\t\t\t\t\t\t// if successful, reset the internal state\n\t\t\t\t\t\tthis.blur();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// if there is no other spottable elements, focus `InputDecorator` instead\n\t\t\t\t\t\tthis.focusDecorator(currentTarget);\n\t\t\t\t\t}\n\t\t\t\t} else if (isLeft || isRight) {\n\t\t\t\t\t// prevent 5-way nav for left/right keys within the <input>\n\t\t\t\t\tstopImmediate(ev);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tonKeyUp = (ev) => {\n\t\t\tconst {dismissOnEnter} = this.props;\n\t\t\tconst {currentTarget, keyCode, preventDefault, target} = ev;\n\n\t\t\t// verify that we have a matching pair of key down/up events to avoid adjusting focus\n\t\t\t// when the component received focus mid-press\n\t\t\tif (target === this.downTarget) {\n\t\t\t\tthis.downTarget = null;\n\n\t\t\t\tif (this.state.focused === 'input' && dismissOnEnter && is('enter', keyCode)) {\n\t\t\t\t\tthis.focusDecorator(currentTarget);\n\t\t\t\t\t// prevent Enter onKeyPress which triggers an onMouseDown via Spotlight\n\t\t\t\t\tpreventDefault();\n\t\t\t\t} else if (this.state.focused !== 'input' && is('enter', keyCode)) {\n\t\t\t\t\tthis.focusInput(currentTarget);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tforwardKeyUp(ev, this.props);\n\t\t};\n\n\t\tsetDownTarget (ev) {\n\t\t\tconst {repeat, target} = ev;\n\n\t\t\tif (!repeat) {\n\t\t\t\tthis.downTarget = target;\n\t\t\t}\n\t\t}\n\n\t\trender () {\n\t\t\tconst props = Object.assign({}, this.props);\n\t\t\tdelete props.autoFocus;\n\t\t\tdelete props.onActivate;\n\t\t\tdelete props.onDeactivate;\n\n\t\t\treturn (\n\t\t\t\t<Component\n\t\t\t\t\t{...props}\n\t\t\t\t\tfocused={this.state.focused === 'input'}\n\t\t\t\t\tonBlur={this.onBlur}\n\t\t\t\t\tonMouseDown={this.onMouseDown}\n\t\t\t\t\tonFocus={this.onFocus}\n\t\t\t\t\tonKeyDown={this.handleKeyDown}\n\t\t\t\t\tonKeyUp={this.onKeyUp}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default InputSpotlightDecorator;\nexport {InputSpotlightDecorator};\n","/**\n * Agate styled input components.\n *\n * @example\n * <Input placeholder=\"Enter text here\" />\n *\n * @module agate/Input\n * @exports Input\n * @exports InputBase\n */\n\nimport kind from '@enact/core/kind';\nimport Changeable from '@enact/ui/Changeable';\nimport Pure from '@enact/ui/internal/Pure';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Skinnable from '../Skinnable';\n\nimport InputDecoratorIcon from './InputDecoratorIcon';\nimport InputSpotlightDecorator from './InputSpotlightDecorator';\nimport {extractInputProps} from './util';\n\nimport componentCss from './Input.module.less';\n\n/**\n * An input component\n *\n * @class InputBase\n * @memberof agate/Input\n * @ui\n * @public\n */\nconst InputBase = kind({\n\tname: 'Input',\n\n\tpropTypes: /** @lends agate/Input.InputBase.prototype */ {\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `decorator` - The root class name\n\t\t * * `input` - The <input> class name\n\t\t *\n\t\t * @type {Object}\n\t\t * @private\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Disables Input and makes it non-interactive.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Blurs the input when the \"enter\" key is pressed.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdismissOnEnter: PropTypes.bool,\n\n\t\t/**\n\t\t * Adds a `focused` class to the input decorator.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tfocused: PropTypes.bool,\n\n\t\t/**\n\t\t * The icon to be placed at the end of the input.\n\t\t *\n\t\t * @see {@link agate/Icon.Icon}\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\ticonAfter: PropTypes.string,\n\n\t\t/**\n\t\t * The icon to be placed at the beginning of the input.\n\t\t *\n\t\t * @see {@link agate/Icon.Icon}\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\ticonBefore: PropTypes.string,\n\n\t\t/**\n\t\t * Indicates [value]{@link agate/Input.InputBase.value} is invalid and shows\n\t\t * [invalidMessage]{@link agate/Input.InputBase.invalidMessage}, if set.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tinvalid: PropTypes.bool,\n\n\t\t/**\n\t\t * The tooltip text to be displayed when the input is\n\t\t * [invalid]{@link agate/Input.InputBase.invalid}.\n\t\t *\n\t\t * If this value is *falsy*, the tooltip will not be shown.\n\t\t *\n\t\t * @type {String}\n\t\t * @default ''\n\t\t * @public\n\t\t */\n\t\tinvalidMessage: PropTypes.string,\n\n\t\t/**\n\t\t * Called when blurred.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonBlur: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the input value is changed.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonChange: PropTypes.func,\n\n\t\t/**\n\t\t * Called when clicked.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonClick: PropTypes.func,\n\n\t\t/**\n\t\t * Called when focused.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonFocus: PropTypes.func,\n\n\t\t/**\n\t\t * Called when a key is pressed down.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonKeyDown: PropTypes.func,\n\n\t\t/**\n\t\t * Text to display when [value]{@link agate/Input.InputBase.value} is not set.\n\t\t *\n\t\t * @type {String}\n\t\t * @default ''\n\t\t * @public\n\t\t */\n\t\tplaceholder: PropTypes.string,\n\n\t\t/**\n\t\t * Indicates the content's text direction is right-to-left.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @private\n\t\t */\n\t\trtl: PropTypes.bool,\n\n\t\t/**\n\t\t * The size of the input field icon.\n\t\t *\n\t\t * @type {('small'|'large')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['small', 'large']),\n\n\t\t/**\n\t\t * The type of input.\n\t\t *\n\t\t * Accepted values correspond to the standard HTML5 input types.\n\t\t *\n\t\t * @type {String}\n\t\t * @see [MDN input types doc]{@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Form_%3Cinput%3E_types}\n\t\t * @default 'text'\n\t\t * @public\n\t\t */\n\t\ttype: PropTypes.string,\n\n\t\t/**\n\t\t * The value of the input.\n\t\t *\n\t\t * @type {String|Number}\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t},\n\n\tdefaultProps: {\n\t\tdisabled: false,\n\t\tdismissOnEnter: false,\n\t\tinvalid: false,\n\t\tplaceholder: '',\n\t\ttype: 'text'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'decorator',\n\t\tpublicClassNames: ['decorator', 'input']\n\t},\n\n\thandlers: {\n\t\tonChange: (ev, {onChange}) => {\n\t\t\tif (onChange) {\n\t\t\t\tonChange({value: ev.target.value});\n\t\t\t}\n\t\t}\n\t},\n\n\tcomputed: {\n\t\t// 'aria-label': ({placeholder, type, value}) => {\n\t\t// \tconst title = (value == null || value === '') ? placeholder : '';\n\t\t// \treturn calcAriaLabel(title, type, value);\n\t\t// },\n\t\tclassName: ({focused, invalid, styler}) => styler.append({focused, invalid}),\n\t\t// ensure we have a value so the internal <input> is always controlled\n\t\tvalue: ({value}) => typeof value === 'number' ? value : (value || '')\n\t},\n\n\trender: ({css, disabled, iconAfter, iconBefore, onChange, placeholder, size, type, value, ...rest}) => {\n\t\tconst inputProps = extractInputProps(rest);\n\t\tdelete rest.dismissOnEnter;\n\t\tdelete rest.focused;\n\t\tdelete rest.invalid;\n\t\tdelete rest.invalidMessage;\n\t\tdelete rest.rtl;\n\n\t\treturn (\n\t\t\t<div {...rest} disabled={disabled}>\n\t\t\t\t<InputDecoratorIcon position=\"before\" size={size}>\n\t\t\t\t\t{iconBefore}\n\t\t\t\t</InputDecoratorIcon>\n\t\t\t\t<input\n\t\t\t\t\t{...inputProps}\n\t\t\t\t\taria-disabled={disabled}\n\t\t\t\t\tclassName={css.input}\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\tonChange={onChange}\n\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\ttype={type}\n\t\t\t\t\tvalue={value}\n\t\t\t\t/>\n\t\t\t\t<InputDecoratorIcon position=\"after\" size={size}>\n\t\t\t\t\t{iconAfter}\n\t\t\t\t</InputDecoratorIcon>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n/**\n * A Spottable, Agate styled input component with embedded icon support.\n *\n * By default, `Input` maintains the state of its `value` property. Supply the `defaultValue`\n * property to control its initial value. If you wish to directly control updates to the component,\n * supply a value to `value` at creation time and update it in response to `onChange` events.\n *\n * @class Input\n * @memberof agate/Input\n * @extends agate/Input.InputBase\n * @mixes ui/Changeable.Changeable\n * @mixes spotlight/Spottable.Spottable\n * @mixes agate/Skinnable.Skinnable\n * @ui\n * @public\n */\nconst Input = Pure(\n\tChangeable(\n\t\tInputSpotlightDecorator(\n\t\t\tSkinnable(\n\t\t\t\tInputBase\n\t\t\t)\n\t\t)\n\t)\n);\n\nexport default Input;\nexport {\n\textractInputProps,\n\tInput,\n\tInputBase\n};\n","// import $L from '../internal/$L';\n\n/**\n * Determines the `aria-label` for an Input\n *\n * @method\n * @memberof agate/Input\n * @param   {String}  prefix   Text to precede the value in the aria-label\n * @param   {String}  type     `type` of the Input\n * @param   {String}  [value]  Current value of the input\n * @returns {String}           `aria-label` value\n * @private\n */\n// const calcAriaLabel = function (prefix, type, value = '') {\n// \tconst hint = $L('Input field');\n//\n// \tif (type === 'password' && value) {\n// \t\tconst character = value.length > 1 ? $L('characters') : $L('character');\n// \t\tvalue = `${value.length} ${character}`;\n// \t}\n//\n// \treturn `${prefix} ${value} ${hint}`;\n// };\n\n/**\n * Removes `<input>` related props from `props` and returns them in a new object.\n *\n * Useful when redirecting `<input>` related props from a non-input root element to the `<input>`\n * element.\n *\n * @method\n * @memberof agate/Input\n * @param   {Object} props  Props object\n * @returns {Object}        input related props\n * @private\n */\nconst extractInputProps = function (props) {\n\tconst inputProps = {};\n\tObject.keys(props).forEach(key => {\n\t\tswitch (key) {\n\t\t\tcase 'autoComplete':\n\t\t\tcase 'list':\n\t\t\tcase 'maxLength':\n\t\t\tcase 'minLength':\n\t\t\tcase 'pattern':\n\t\t\tcase 'required':\n\t\t\tcase 'size':\n\t\t\t\tinputProps[key] = props[key];\n\t\t\t\tdelete props[key];\n\t\t}\n\t});\n\n\treturn inputProps;\n};\n\nexport {\n\t// calcAriaLabel,\n\textractInputProps\n};\n","import classNames from 'classnames';\nimport {forward} from '@enact/core/handle';\nimport {platform} from '@enact/core/platform';\nimport PropTypes from 'prop-types';\nimport equals from 'ramda/src/equals';\nimport React, {Component} from 'react';\n\nimport css from './UiVirtualList.module.less';\n\nconst\n\tnop = () => {},\n\tJS = 'JS',\n\tNative = 'Native';\n\nconst gridListItemSizeShape = PropTypes.shape({\n\tminHeight: PropTypes.number.isRequired,\n\tminWidth: PropTypes.number.isRequired\n});\n\n/**\n * The base version of the virtual list component.\n *\n * @class VirtualListCore\n * @memberof ui/VirtualList\n * @ui\n * @private\n */\nconst VirtualListBaseFactory = (type) => {\n\treturn class VirtualListCore extends Component {\n\t\t/* No displayName here. We set displayName to returned components of this factory function. */\n\n\t\tstatic propTypes = /** @lends ui/VirtualList.VirtualListBase.prototype */ {\n\t\t\t/**\n\t\t\t * The rendering function called for each item in the list.\n\t\t\t *\n\t\t\t * > **Note**: The list does **not** always render a component whenever its render function is called\n\t\t\t * due to performance optimization.\n\t\t\t *\n\t\t\t * Example:\n\t\t\t * ```\n\t\t\t * renderItem = ({index, ...rest}) => {\n\t\t\t * \tdelete rest.data;\n\t\t\t *\n\t\t\t * \treturn (\n\t\t\t * \t\t<MyComponent index={index} {...rest} />\n\t\t\t * \t);\n\t\t\t * }\n\t\t\t * ```\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @param {Object}     event\n\t\t\t * @param {Number}     event.data-index    It is required for `Spotlight` 5-way navigation. Pass to the root element in the component.\n\t\t\t * @param {Number}     event.index    The index number of the component to render\n\t\t\t * @param {Number}     event.key    It MUST be passed as a prop to the root element in the component for DOM recycling.\n\t\t\t *\n\t\t\t * @required\n\t\t\t * @public\n\t\t\t */\n\t\t\titemRenderer: PropTypes.func.isRequired,\n\n\t\t\t/**\n\t\t\t * The size of an item for the list; valid values are either a number for `VirtualList`\n\t\t\t * or an object that has `minWidth` and `minHeight` for `VirtualGridList`.\n\t\t\t *\n\t\t\t * @type {Number|ui/VirtualList.gridListItemSizeShape}\n\t\t\t * @required\n\t\t\t * @private\n\t\t\t */\n\t\t\titemSize: PropTypes.oneOfType([\n\t\t\t\tPropTypes.number,\n\t\t\t\tgridListItemSizeShape\n\t\t\t]).isRequired,\n\n\t\t\t/**\n\t\t\t * The render function for the items.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @required\n\t\t\t * @private\n\t\t\t */\n\t\t\titemsRenderer: PropTypes.func.isRequired,\n\n\t\t\t/**\n\t\t\t * Callback method of scrollTo.\n\t\t\t * Normally, [Scrollable]{@link ui/Scrollable.Scrollable} should set this value.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @private\n\t\t\t */\n\t\t\tcbScrollTo: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Additional props included in the object passed to the `itemsRenderer` callback.\n\t\t\t *\n\t\t\t * @type {Object}\n\t\t\t * @public\n\t\t\t */\n\t\t\tchildProps: PropTypes.object,\n\n\t\t\t/**\n\t\t\t * Client size of the list; valid values are an object that has `clientWidth` and `clientHeight`.\n\t\t\t *\n\t\t\t * @type {Object}\n\t\t\t * @property {Number}    clientHeight    The client height of the list.\n\t\t\t * @property {Number}    clientWidth    The client width of the list.\n\t\t\t * @public\n\t\t\t */\n\t\t\tclientSize: PropTypes.shape({\n\t\t\t\tclientHeight: PropTypes.number.isRequired,\n\t\t\t\tclientWidth: PropTypes.number.isRequired\n\t\t\t}),\n\n\t\t\t/**\n\t\t\t * Activates the component for voice control.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @public\n\t\t\t */\n\t\t\t'data-webos-voice-focused': PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * The voice control group label.\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\t'data-webos-voice-group-label': PropTypes.string,\n\n\t\t\t/**\n\t\t\t * The number of items of data the list contains.\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 0\n\t\t\t * @public\n\t\t\t */\n\t\t\tdataSize: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * The layout direction of the list.\n\t\t\t *\n\t\t\t * Valid values are:\n\t\t\t * * `'horizontal'`, and\n\t\t\t * * `'vertical'`.\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @default 'vertical'\n\t\t\t * @public\n\t\t\t */\n\t\t\tdirection: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t\t/**\n\t\t\t * Called to get the props for list items.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @private\n\t\t\t */\n\t\t\tgetComponentProps: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * The array for individually sized items.\n\t\t\t *\n\t\t\t * @type {Number[]}\n\t\t\t * @private\n\t\t\t */\n\t\t\titemSizes: PropTypes.arrayOf(PropTypes.number),\n\n\t\t\t/**\n\t\t\t * Called when the range of items has updated.\n\t\t\t *\n\t\t\t * Event payload includes the `firstIndex` and `lastIndex` of the list.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @private\n\t\t\t */\n\t\t\tonUpdateItems: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Number of spare DOM node.\n\t\t\t * `3` is good for the default value experimentally and\n\t\t\t * this value is highly recommended not to be changed by developers.\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 3\n\t\t\t * @private\n\t\t\t */\n\t\t\toverhang: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * When `true`, the list will scroll by page.  Otherwise the list will scroll by item.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @private\n\t\t\t */\n\t\t\tpageScroll: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * `true` if RTL, `false` if LTR.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @private\n\t\t\t */\n\t\t\trtl: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * The spacing between items.\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 0\n\t\t\t * @public\n\t\t\t */\n\t\t\tspacing: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * Called to execute additional logic in a themed component when updating states and bounds.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @private\n\t\t\t */\n\t\t\tupdateStatesAndBounds: PropTypes.func\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\tcbScrollTo: nop,\n\t\t\tdataSize: 0,\n\t\t\tdirection: 'vertical',\n\t\t\toverhang: 3,\n\t\t\tpageScroll: false,\n\t\t\tspacing: 0\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tlet nextState = null;\n\n\t\t\tsuper(props);\n\n\t\t\tthis.containerRef = React.createRef();\n\t\t\tthis.contentRef = React.createRef();\n\t\t\tthis.itemContainerRef = React.createRef();\n\n\t\t\tif (props.clientSize) {\n\t\t\t\tthis.calculateMetrics(props);\n\t\t\t\tnextState = this.getStatesAndUpdateBounds(props);\n\t\t\t}\n\n\t\t\tthis.state = {\n\t\t\t\tfirstIndex: 0,\n\t\t\t\tnumOfItems: 0,\n\t\t\t\tprevChildProps: null,\n\t\t\t\tprevFirstIndex: 0,\n\t\t\t\tupdateFrom: 0,\n\t\t\t\tupdateTo: 0,\n\t\t\t\t...nextState\n\t\t\t};\n\t\t}\n\n\t\tstatic getDerivedStateFromProps (props, state) {\n\t\t\tconst\n\t\t\t\tshouldInvalidate = (\n\t\t\t\t\tstate.prevFirstIndex === state.firstIndex ||\n\t\t\t\t\tstate.prevChildProps !== props.childProps\n\t\t\t\t),\n\t\t\t\tdiff = state.firstIndex - state.prevFirstIndex,\n\t\t\t\tupdateTo = (-state.numOfItems >= diff || diff > 0 || shouldInvalidate) ? state.firstIndex + state.numOfItems : state.prevFirstIndex,\n\t\t\t\tupdateFrom = (0 >= diff || diff >= state.numOfItems || shouldInvalidate) ? state.firstIndex : state.prevFirstIndex + state.numOfItems,\n\t\t\t\tnextUpdateFromAndTo = (state.updateFrom !== updateFrom || state.updateTo !== updateTo) ? {updateFrom, updateTo} : null;\n\n\t\t\treturn {\n\t\t\t\t...nextUpdateFromAndTo,\n\t\t\t\tprevChildProps: props.childProps,\n\t\t\t\tprevFirstIndex: state.firstIndex\n\t\t\t};\n\t\t}\n\n\t\t// Calculate metrics for VirtualList after the 1st render to know client W/H.\n\t\tcomponentDidMount () {\n\t\t\tif (!this.props.clientSize) {\n\t\t\t\tthis.calculateMetrics(this.props);\n\t\t\t\t// eslint-disable-next-line react/no-did-mount-set-state\n\t\t\t\tthis.setState(this.getStatesAndUpdateBounds(this.props));\n\t\t\t} else {\n\t\t\t\tthis.emitUpdateItems();\n\t\t\t}\n\n\t\t\tif (this.props.itemSizes) {\n\t\t\t\tthis.adjustItemPositionWithItemSize();\n\t\t\t} else {\n\t\t\t\tthis.setContainerSize();\n\t\t\t}\n\t\t}\n\n\t\tcomponentDidUpdate (prevProps, prevState) {\n\t\t\tlet deferScrollTo = false;\n\t\t\tconst {firstIndex, numOfItems} = this.state;\n\n\t\t\tthis.shouldUpdateBounds = false;\n\n\t\t\t// TODO: remove `this.hasDataSizeChanged` and fix ui/Scrollable*\n\t\t\tthis.hasDataSizeChanged = (prevProps.dataSize !== this.props.dataSize);\n\n\t\t\tif (prevState.firstIndex !== firstIndex || prevState.numOfItems !== numOfItems) {\n\t\t\t\tthis.emitUpdateItems();\n\t\t\t}\n\n\t\t\t// When an item expands or shrinks,\n\t\t\t// we need to calculate the item position again and\n\t\t\t// the item needs to scroll into view if the item does not show fully.\n\t\t\tif (this.props.itemSizes) {\n\t\t\t\tif (this.itemPositions.length > this.props.itemSizes.length) {\n\t\t\t\t\t// The item with `this.props.itemSizes.length` index is not rendered yet.\n\t\t\t\t\t// So the item could scroll into view after it rendered.\n\t\t\t\t\t// To do it, `this.props.itemSizes.length` value is cached in `this.indexToScrollIntoView`.\n\t\t\t\t\tthis.indexToScrollIntoView = this.props.itemSizes.length;\n\n\t\t\t\t\tthis.itemPositions = [...this.itemPositions.slice(0, this.props.itemSizes.length)];\n\t\t\t\t\tthis.adjustItemPositionWithItemSize();\n\t\t\t\t} else {\n\t\t\t\t\tconst {indexToScrollIntoView} = this;\n\n\t\t\t\t\tthis.adjustItemPositionWithItemSize();\n\n\t\t\t\t\tif (indexToScrollIntoView !== -1) {\n\t\t\t\t\t\t// Currently we support expandable items in only vertical VirtualList.\n\t\t\t\t\t\t// So the top and bottom of the boundaries are checked.\n\t\t\t\t\t\tconst\n\t\t\t\t\t\t\tscrollBounds = {top: this.scrollPosition, bottom: this.scrollPosition + this.scrollBounds.clientHeight},\n\t\t\t\t\t\t\titemBounds = {top: this.getGridPosition(indexToScrollIntoView).primaryPosition, bottom: this.getItemBottomPosition(indexToScrollIntoView)};\n\n\t\t\t\t\t\tif (itemBounds.top < scrollBounds.top) {\n\t\t\t\t\t\t\tthis.props.cbScrollTo({\n\t\t\t\t\t\t\t\tindex: indexToScrollIntoView,\n\t\t\t\t\t\t\t\tstickTo: 'start',\n\t\t\t\t\t\t\t\tanimate: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (itemBounds.bottom > scrollBounds.bottom) {\n\t\t\t\t\t\t\tthis.props.cbScrollTo({\n\t\t\t\t\t\t\t\tindex: indexToScrollIntoView,\n\t\t\t\t\t\t\t\tstickTo: 'end',\n\t\t\t\t\t\t\t\tanimate: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.indexToScrollIntoView = -1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tprevProps.direction !== this.props.direction ||\n\t\t\t\tprevProps.overhang !== this.props.overhang ||\n\t\t\t\tprevProps.spacing !== this.props.spacing ||\n\t\t\t\t!equals(prevProps.itemSize, this.props.itemSize)\n\t\t\t) {\n\t\t\t\tconst {x, y} = this.getXY(this.scrollPosition, 0);\n\n\t\t\t\tthis.calculateMetrics(this.props);\n\t\t\t\t// eslint-disable-next-line react/no-did-update-set-state\n\t\t\t\tthis.setState(this.getStatesAndUpdateBounds(this.props));\n\t\t\t\tthis.setContainerSize();\n\n\t\t\t\tconst {clientHeight, clientWidth, scrollHeight, scrollWidth} = this.scrollBounds;\n\t\t\t\tconst xMax = scrollWidth - clientWidth;\n\t\t\t\tconst yMax = scrollHeight - clientHeight;\n\n\t\t\t\tthis.updateScrollPosition({\n\t\t\t\t\tx: xMax > x ? x : xMax,\n\t\t\t\t\ty: yMax > y ? y : yMax\n\t\t\t\t});\n\n\t\t\t\tdeferScrollTo = true;\n\t\t\t} else if (this.hasDataSizeChanged) {\n\t\t\t\tconst newState = this.getStatesAndUpdateBounds(this.props, this.state.firstIndex);\n\t\t\t\t// eslint-disable-next-line react/no-did-update-set-state\n\t\t\t\tthis.setState(newState);\n\t\t\t\tthis.setContainerSize();\n\n\t\t\t\tdeferScrollTo = true;\n\t\t\t} else if (prevProps.rtl !== this.props.rtl) {\n\t\t\t\tthis.updateScrollPosition(this.getXY(this.scrollPosition, 0));\n\t\t\t}\n\n\t\t\tconst maxPos = this.isPrimaryDirectionVertical ? this.scrollBounds.maxTop : this.scrollBounds.maxLeft;\n\n\t\t\tif (!deferScrollTo && this.scrollPosition > maxPos) {\n\t\t\t\tthis.props.cbScrollTo({position: (this.isPrimaryDirectionVertical) ? {y: maxPos} : {x: maxPos}, animate: false});\n\t\t\t}\n\t\t}\n\n\t\tscrollBounds = {\n\t\t\tclientWidth: 0,\n\t\t\tclientHeight: 0,\n\t\t\tscrollWidth: 0,\n\t\t\tscrollHeight: 0,\n\t\t\tmaxLeft: 0,\n\t\t\tmaxTop: 0\n\t\t};\n\n\t\tmoreInfo = {\n\t\t\tfirstVisibleIndex: null,\n\t\t\tlastVisibleIndex: null\n\t\t};\n\n\t\tprimary = null;\n\t\tsecondary = null;\n\n\t\tisPrimaryDirectionVertical = true;\n\t\tisItemSized = false;\n\n\t\tshouldUpdateBounds = false;\n\n\t\tdimensionToExtent = 0;\n\t\tthreshold = 0;\n\t\tmaxFirstIndex = 0;\n\t\tcurDataSize = 0;\n\t\thasDataSizeChanged = false;\n\t\tcc = [];\n\t\tscrollPosition = 0;\n\t\tscrollPositionTarget = 0;\n\n\t\t// For individually sized item\n\t\titemPositions = [];\n\t\tindexToScrollIntoView = -1;\n\n\t\tupdateScrollPosition = ({x, y}, rtl = this.props.rtl) => {\n\t\t\tif (type === Native) {\n\t\t\t\tthis.scrollToPosition(x, y, rtl);\n\t\t\t} else {\n\t\t\t\tthis.setScrollPosition(x, y, rtl, x, y);\n\t\t\t}\n\t\t};\n\n\t\tisVertical = () => this.isPrimaryDirectionVertical;\n\n\t\tisHorizontal = () => !this.isPrimaryDirectionVertical;\n\n\t\tgetScrollBounds = () => this.scrollBounds;\n\n\t\tgetMoreInfo = () => this.moreInfo;\n\n\t\tgetGridPosition (index) {\n\t\t\tconst\n\t\t\t\t{dataSize, itemSizes} = this.props,\n\t\t\t\t{dimensionToExtent, itemPositions, primary, secondary} = this,\n\t\t\t\tsecondaryPosition = (index % dimensionToExtent) * secondary.gridSize,\n\t\t\t\textent = Math.floor(index / dimensionToExtent);\n\t\t\tlet primaryPosition;\n\n\t\t\tif (itemSizes && typeof itemSizes[index] !== 'undefined' && dataSize > index) {\n\t\t\t\tconst firstIndexInExtent = extent * dimensionToExtent;\n\n\t\t\t\tif (!itemPositions[firstIndexInExtent]) {\n\t\t\t\t\t// Cache individually sized item positions\n\t\t\t\t\tfor (let i = itemPositions.length; i <= index; i++) {\n\t\t\t\t\t\tthis.calculateAndCacheItemPosition(i);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (itemPositions[firstIndexInExtent]) {\n\t\t\t\t\tprimaryPosition = itemPositions[firstIndexInExtent].position;\n\t\t\t\t} else {\n\t\t\t\t\tprimaryPosition = extent * primary.gridSize;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tprimaryPosition = extent * primary.gridSize;\n\t\t\t}\n\n\t\t\treturn {primaryPosition, secondaryPosition};\n\t\t}\n\n\t\t// For individually sized item\n\t\tgetItemBottomPosition = (index) => {\n\t\t\tconst\n\t\t\t\titemPosition = this.itemPositions[index],\n\t\t\t\titemSize = this.props.itemSizes[index];\n\n\t\t\tif (itemPosition && (itemSize || itemSize === 0)) {\n\t\t\t\treturn itemPosition.position + itemSize;\n\t\t\t} else {\n\t\t\t\treturn index * this.primary.gridSize - this.props.spacing;\n\t\t\t}\n\t\t};\n\n\t\t// For individually sized item\n\t\tgetItemTopPositionFromPreviousItemBottomPosition = (index, spacing) => {\n\t\t\treturn index === 0 ? 0 : this.getItemBottomPosition(index - 1) + spacing;\n\t\t};\n\n\t\tgetItemPosition = (index, stickTo = 'start') => {\n\t\t\tconst\n\t\t\t\t{primary} = this,\n\t\t\t\tposition = this.getGridPosition(index);\n\t\t\tlet  offset = 0;\n\n\t\t\tif (stickTo === 'start') {\n\t\t\t\toffset = 0;\n\t\t\t} else if (this.props.itemSizes) {\n\t\t\t\toffset = primary.clientSize - this.props.itemSizes[index];\n\t\t\t} else {\n\t\t\t\toffset = primary.clientSize - primary.itemSize;\n\t\t\t}\n\n\t\t\tposition.primaryPosition -= offset;\n\n\t\t\treturn this.gridPositionToItemPosition(position);\n\t\t};\n\n\t\tgridPositionToItemPosition = ({primaryPosition, secondaryPosition}) =>\n\t\t\t(this.isPrimaryDirectionVertical ? {left: secondaryPosition, top: primaryPosition} : {left: primaryPosition, top: secondaryPosition});\n\n\t\tgetXY = (primaryPosition, secondaryPosition) => (this.isPrimaryDirectionVertical ? {x: secondaryPosition, y: primaryPosition} : {x: primaryPosition, y: secondaryPosition});\n\n\t\tgetClientSize = (node) => ({\n\t\t\tclientWidth: node.clientWidth,\n\t\t\tclientHeight: node.clientHeight\n\t\t});\n\n\t\temitUpdateItems () {\n\t\t\tconst {dataSize} = this.props;\n\t\t\tconst {firstIndex, numOfItems} = this.state;\n\n\t\t\tforward('onUpdateItems', {\n\t\t\t\tfirstIndex: firstIndex,\n\t\t\t\tlastIndex: Math.min(firstIndex + numOfItems, dataSize)\n\t\t\t}, this.props);\n\t\t}\n\n\t\tcalculateMetrics (props) {\n\t\t\tconst\n\t\t\t\t{clientSize, direction, itemSize, overhang, spacing} = props,\n\t\t\t\tnode = this.containerRef.current;\n\n\t\t\tif (!clientSize && !node) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst\n\t\t\t\t{clientWidth, clientHeight} = (clientSize || this.getClientSize(node)),\n\t\t\t\theightInfo = {\n\t\t\t\t\tclientSize: clientHeight,\n\t\t\t\t\tminItemSize: itemSize.minHeight || null,\n\t\t\t\t\titemSize: itemSize\n\t\t\t\t},\n\t\t\t\twidthInfo = {\n\t\t\t\t\tclientSize: clientWidth,\n\t\t\t\t\tminItemSize: itemSize.minWidth || null,\n\t\t\t\t\titemSize: itemSize\n\t\t\t\t};\n\t\t\tlet primary, secondary, dimensionToExtent, thresholdBase;\n\n\t\t\tthis.isPrimaryDirectionVertical = (direction === 'vertical');\n\n\t\t\tif (this.isPrimaryDirectionVertical) {\n\t\t\t\tprimary = heightInfo;\n\t\t\t\tsecondary = widthInfo;\n\t\t\t} else {\n\t\t\t\tprimary = widthInfo;\n\t\t\t\tsecondary = heightInfo;\n\t\t\t}\n\t\t\tdimensionToExtent = 1;\n\n\t\t\tthis.isItemSized = (primary.minItemSize && secondary.minItemSize);\n\n\t\t\tif (this.isItemSized) {\n\t\t\t\t// the number of columns is the ratio of the available width plus the spacing\n\t\t\t\t// by the minimum item width plus the spacing\n\t\t\t\tdimensionToExtent = Math.max(Math.floor((secondary.clientSize + spacing) / (secondary.minItemSize + spacing)), 1);\n\t\t\t\t// the actual item width is a ratio of the remaining width after all columns\n\t\t\t\t// and spacing are accounted for and the number of columns that we know we should have\n\t\t\t\tsecondary.itemSize = Math.floor((secondary.clientSize - (spacing * (dimensionToExtent - 1))) / dimensionToExtent);\n\t\t\t\t// the actual item height is related to the item width\n\t\t\t\tprimary.itemSize = Math.floor(primary.minItemSize * (secondary.itemSize / secondary.minItemSize));\n\t\t\t}\n\n\t\t\tprimary.gridSize = primary.itemSize + spacing;\n\t\t\tsecondary.gridSize = secondary.itemSize + spacing;\n\t\t\tthresholdBase = primary.gridSize * Math.ceil(overhang / 2);\n\n\t\t\tthis.threshold = {min: -Infinity, max: thresholdBase, base: thresholdBase};\n\t\t\tthis.dimensionToExtent = dimensionToExtent;\n\n\t\t\tthis.primary = primary;\n\t\t\tthis.secondary = secondary;\n\n\t\t\t// reset\n\t\t\tthis.scrollPosition = 0;\n\t\t\tif (type === JS && this.contentRef.current) {\n\t\t\t\tthis.contentRef.current.style.transform = null;\n\t\t\t}\n\t\t}\n\n\t\tgetStatesAndUpdateBounds = (props, firstIndex = 0) => {\n\t\t\tconst\n\t\t\t\t{dataSize, overhang, updateStatesAndBounds} = props,\n\t\t\t\t{dimensionToExtent, primary, moreInfo, scrollPosition} = this,\n\t\t\t\tnumOfItems = Math.min(dataSize, dimensionToExtent * (Math.ceil(primary.clientSize / primary.gridSize) + overhang)),\n\t\t\t\twasFirstIndexMax = ((this.maxFirstIndex < moreInfo.firstVisibleIndex - dimensionToExtent) && (firstIndex === this.maxFirstIndex)),\n\t\t\t\tdataSizeDiff = dataSize - this.curDataSize;\n\t\t\tlet newFirstIndex = firstIndex;\n\n\t\t\t// When calling setState() except in didScroll(), `shouldUpdateBounds` should be `true`\n\t\t\t// so that setState() in didScroll() could be called to override state.\n\t\t\t// Before calling setState() except in didScroll(), getStatesAndUpdateBounds() is always called.\n\t\t\t// So `shouldUpdateBounds` is true here.\n\t\t\tthis.shouldUpdateBounds = true;\n\n\t\t\tthis.maxFirstIndex = Math.ceil((dataSize - numOfItems) / dimensionToExtent) * dimensionToExtent;\n\t\t\tthis.curDataSize = dataSize;\n\n\t\t\t// reset children\n\t\t\tthis.cc = [];\n\t\t\tthis.itemPositions = []; // For individually sized item\n\t\t\tthis.calculateScrollBounds(props);\n\t\t\tthis.updateMoreInfo(dataSize, scrollPosition);\n\n\t\t\tif (!(updateStatesAndBounds && updateStatesAndBounds({\n\t\t\t\tcbScrollTo: props.cbScrollTo,\n\t\t\t\tnumOfItems,\n\t\t\t\tdataSize,\n\t\t\t\tmoreInfo\n\t\t\t}))) {\n\t\t\t\tnewFirstIndex = this.calculateFirstIndex(props, wasFirstIndexMax, dataSizeDiff, firstIndex);\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tfirstIndex: Math.min(newFirstIndex, this.maxFirstIndex),\n\t\t\t\tnumOfItems: numOfItems\n\t\t\t};\n\t\t};\n\n\t\tcalculateFirstIndex (props, wasFirstIndexMax, dataSizeDiff, firstIndex) {\n\t\t\tconst\n\t\t\t\t{overhang} = props,\n\t\t\t\t{dimensionToExtent, isPrimaryDirectionVertical, maxFirstIndex, primary, scrollBounds, scrollPosition, threshold} = this,\n\t\t\t\t{gridSize} = primary;\n\t\t\tlet newFirstIndex = firstIndex;\n\n\t\t\tif (wasFirstIndexMax && dataSizeDiff > 0) { // If dataSize increased from bottom, we need adjust firstIndex\n\t\t\t\t// If this is a gridlist and dataSizeDiff is smaller than 1 line, we are adjusting firstIndex without threshold change.\n\t\t\t\tif (dimensionToExtent > 1 && dataSizeDiff < dimensionToExtent) {\n\t\t\t\t\tnewFirstIndex = maxFirstIndex;\n\t\t\t\t} else { // For other bottom adding case, we need to update firstIndex and threshold.\n\t\t\t\t\tconst\n\t\t\t\t\t\tmaxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft,\n\t\t\t\t\t\tmaxOfMin = maxPos - threshold.base,\n\t\t\t\t\t\tnumOfUpperLine = Math.floor(overhang / 2),\n\t\t\t\t\t\tfirstIndexFromPosition = Math.floor(scrollPosition / gridSize),\n\t\t\t\t\t\texpectedFirstIndex = Math.max(0, firstIndexFromPosition - numOfUpperLine);\n\n\t\t\t\t\t// To navigate with 5way, we need to adjust firstIndex to the next line\n\t\t\t\t\t// since at the bottom we have num of overhang lines for upper side but none for bottom side\n\t\t\t\t\t// So we add numOfUpperLine at the top and rest lines at the bottom\n\t\t\t\t\tnewFirstIndex = Math.min(maxFirstIndex, expectedFirstIndex * dimensionToExtent);\n\n\t\t\t\t\t// We need to update threshold also since we moved the firstIndex\n\t\t\t\t\tthreshold.max = Math.min(maxPos, threshold.max + gridSize);\n\t\t\t\t\tthreshold.min = Math.min(maxOfMin, threshold.max - gridSize);\n\t\t\t\t}\n\t\t\t} else { // Other cases, we can keep the min value between firstIndex and maxFirstIndex. No need to change threshold\n\t\t\t\tnewFirstIndex = Math.min(firstIndex, maxFirstIndex);\n\t\t\t}\n\n\t\t\treturn newFirstIndex;\n\t\t}\n\n\t\tcalculateScrollBounds (props) {\n\t\t\tconst\n\t\t\t\t{clientSize} = props,\n\t\t\t\tnode = this.containerRef.current;\n\n\t\t\tif (!clientSize && !node) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst\n\t\t\t\t{scrollBounds, isPrimaryDirectionVertical} = this,\n\t\t\t\t{clientWidth, clientHeight} = clientSize || this.getClientSize(node);\n\t\t\tlet maxPos;\n\n\t\t\tscrollBounds.clientWidth = clientWidth;\n\t\t\tscrollBounds.clientHeight = clientHeight;\n\t\t\tscrollBounds.scrollWidth = this.getScrollWidth();\n\t\t\tscrollBounds.scrollHeight = this.getScrollHeight();\n\t\t\tscrollBounds.maxLeft = Math.max(0, scrollBounds.scrollWidth - clientWidth);\n\t\t\tscrollBounds.maxTop = Math.max(0, scrollBounds.scrollHeight - clientHeight);\n\n\t\t\t// correct position\n\t\t\tmaxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft;\n\n\t\t\tthis.syncThreshold(maxPos);\n\t\t}\n\n\t\tsetContainerSize = () => {\n\t\t\tif (this.contentRef.current) {\n\t\t\t\tthis.contentRef.current.style.width = this.scrollBounds.scrollWidth + (this.isPrimaryDirectionVertical ? -1 : 0) + 'px';\n\t\t\t\tthis.contentRef.current.style.height = this.scrollBounds.scrollHeight + (this.isPrimaryDirectionVertical ? 0 : -1) + 'px';\n\t\t\t}\n\t\t};\n\n\t\tupdateMoreInfo (dataSize, primaryPosition) {\n\t\t\tconst\n\t\t\t\t{dimensionToExtent, moreInfo} = this,\n\t\t\t\t{itemSize, gridSize, clientSize} = this.primary;\n\n\t\t\tif (dataSize <= 0) {\n\t\t\t\tmoreInfo.firstVisibleIndex = null;\n\t\t\t\tmoreInfo.lastVisibleIndex = null;\n\t\t\t} else if (this.props.itemSizes) {\n\t\t\t\tconst {firstIndex, numOfItems} = this.state;\n\t\t\t\tconst {isPrimaryDirectionVertical, scrollBounds: {clientWidth, clientHeight}, scrollPosition} = this;\n\t\t\t\tconst size = isPrimaryDirectionVertical ? clientHeight : clientWidth;\n\n\t\t\t\tlet firstVisibleIndex = null, lastVisibleIndex = null;\n\n\t\t\t\tfor (let i = firstIndex; i < firstIndex +  numOfItems; i++) {\n\t\t\t\t\tif (scrollPosition <= this.getItemBottomPosition(i)) {\n\t\t\t\t\t\tfirstVisibleIndex = i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (let i = firstIndex + numOfItems - 1; i >= firstIndex; i--) {\n\t\t\t\t\tif (scrollPosition + size >= this.getItemBottomPosition(i) - this.props.itemSizes[i]) {\n\t\t\t\t\t\tlastVisibleIndex = i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (firstVisibleIndex > lastVisibleIndex) {\n\t\t\t\t\tfirstVisibleIndex = null;\n\t\t\t\t\tlastVisibleIndex = null;\n\t\t\t\t}\n\n\t\t\t\tmoreInfo.firstVisibleIndex = firstVisibleIndex;\n\t\t\t\tmoreInfo.lastVisibleIndex = lastVisibleIndex;\n\t\t\t} else {\n\t\t\t\tmoreInfo.firstVisibleIndex = (Math.floor((primaryPosition - itemSize) / gridSize) + 1) * dimensionToExtent;\n\t\t\t\tmoreInfo.lastVisibleIndex = Math.min(dataSize - 1, Math.ceil((primaryPosition + clientSize) / gridSize) * dimensionToExtent - 1);\n\t\t\t}\n\t\t}\n\n\t\tsyncThreshold (maxPos) {\n\t\t\tconst {threshold} = this;\n\n\t\t\tif (threshold.max > maxPos) {\n\t\t\t\tif (maxPos < threshold.base) {\n\t\t\t\t\tthreshold.max = threshold.base;\n\t\t\t\t\tthreshold.min = -Infinity;\n\t\t\t\t} else {\n\t\t\t\t\tthreshold.max = maxPos;\n\t\t\t\t\tthreshold.min = maxPos - threshold.base;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Native only\n\t\tscrollToPosition (x, y, rtl = this.props.rtl) {\n\t\t\tif (this.containerRef.current) {\n\t\t\t\tif (this.isPrimaryDirectionVertical) {\n\t\t\t\t\tthis.scrollPositionTarget = y;\n\t\t\t\t} else {\n\t\t\t\t\tthis.scrollPositionTarget = x;\n\t\t\t\t}\n\n\t\t\t\tif (rtl) {\n\t\t\t\t\tx = (platform.ios || platform.safari) ? -x : this.scrollBounds.maxLeft - x;\n\t\t\t\t}\n\n\t\t\t\tthis.containerRef.current.scrollTo(x, y);\n\t\t\t}\n\t\t}\n\n\t\t// JS only\n\t\tsetScrollPosition (x, y, rtl = this.props.rtl, targetX = 0, targetY = 0) {\n\t\t\tif (this.contentRef.current) {\n\t\t\t\tthis.contentRef.current.style.transform = `translate3d(${rtl ? x : -x}px, -${y}px, 0)`;\n\n\t\t\t\t// The `x`, `y` as parameters in scrollToPosition() are the position when stopping scrolling.\n\t\t\t\t// But the `x`, `y` as parameters in setScrollPosition() are the position between current position and the position stopping scrolling.\n\t\t\t\t// To know the position when stopping scrolling here, `targetX` and `targetY` are passed and cached in `this.scrollPositionTarget`.\n\t\t\t\tif (this.isPrimaryDirectionVertical) {\n\t\t\t\t\tthis.scrollPositionTarget = targetY;\n\t\t\t\t} else {\n\t\t\t\t\tthis.scrollPositionTarget = targetX;\n\t\t\t\t}\n\n\t\t\t\tthis.didScroll(x, y);\n\t\t\t}\n\t\t}\n\n\t\tdidScroll (x, y) {\n\t\t\tconst\n\t\t\t\t{dataSize, spacing, itemSizes} = this.props,\n\t\t\t\t{firstIndex} = this.state,\n\t\t\t\t{isPrimaryDirectionVertical, threshold, dimensionToExtent, maxFirstIndex, scrollBounds, itemPositions} = this,\n\t\t\t\t{clientSize, gridSize} = this.primary,\n\t\t\t\tmaxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft;\n\t\t\tlet newFirstIndex = firstIndex, index, pos, size, itemPosition;\n\n\t\t\tif (isPrimaryDirectionVertical) {\n\t\t\t\tpos = y;\n\t\t\t} else {\n\t\t\t\tpos = x;\n\t\t\t}\n\n\t\t\tif (pos > threshold.max || pos < threshold.min) {\n\t\t\t\tlet newThresholdMin = -Infinity, newThresholdMax = Infinity;\n\n\t\t\t\tif (this.props.itemSizes) {\n\t\t\t\t\tconst overhangBefore = Math.floor(this.props.overhang / 2);\n\t\t\t\t\tlet firstRenderedIndex = -1;\n\n\t\t\t\t\t// find an item which is known as placed the first rendered item's position\n\t\t\t\t\tfor (index = 0; index < dataSize; index += dimensionToExtent) {\n\t\t\t\t\t\titemPosition = itemPositions[index];\n\t\t\t\t\t\tsize = itemSizes[index];\n\t\t\t\t\t\tif (itemPosition && size && itemPosition.position + size >= pos && itemPosition.position <= pos + clientSize) {\n\t\t\t\t\t\t\tfirstRenderedIndex = index;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// found an item which is visible within a current viewport\n\t\t\t\t\tif (index < dataSize) {\n\t\t\t\t\t\tif (itemPosition.position <= pos) {\n\t\t\t\t\t\t\tnewFirstIndex = firstRenderedIndex - overhangBefore * dimensionToExtent;\n\t\t\t\t\t\t\tnewThresholdMin = itemPosition.position;\n\t\t\t\t\t\t\tnewThresholdMax = newThresholdMin + size + spacing;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst diffToFirstIndex = Math.ceil((itemPosition.position - pos) / gridSize);\n\t\t\t\t\t\t\tnewFirstIndex = firstRenderedIndex - (diffToFirstIndex + overhangBefore) * dimensionToExtent;\n\t\t\t\t\t\t\tnewThresholdMin = itemPosition.position - diffToFirstIndex * gridSize;\n\t\t\t\t\t\t\tnewThresholdMax = newThresholdMin + gridSize;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else { // calculate the first index based on assuming that all items have minimal size\n\t\t\t\t\t\tconst firstExtent = Math.max(\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\t\tMath.floor(maxFirstIndex / dimensionToExtent),\n\t\t\t\t\t\t\t\tMath.floor((pos - gridSize * overhangBefore) / gridSize)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tnewFirstIndex = firstExtent * dimensionToExtent;\n\t\t\t\t\t\tnewThresholdMin = (firstExtent + overhangBefore) * gridSize;\n\t\t\t\t\t\tnewThresholdMax = newThresholdMin + gridSize;\n\t\t\t\t\t}\n\n\t\t\t\t\tnewFirstIndex = Math.max(0, Math.min(maxFirstIndex, newFirstIndex));\n\t\t\t\t} else {\n\t\t\t\t\tconst\n\t\t\t\t\t\toverhangBefore = Math.floor(this.props.overhang / 2),\n\t\t\t\t\t\tfirstExtent = Math.max(\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\t\tMath.floor(maxFirstIndex / dimensionToExtent),\n\t\t\t\t\t\t\t\tMath.floor((pos - gridSize * overhangBefore) / gridSize)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\tnewFirstIndex = firstExtent * dimensionToExtent;\n\t\t\t\t\tnewThresholdMin = (firstExtent + overhangBefore) * gridSize;\n\t\t\t\t\tnewThresholdMax = newThresholdMin + gridSize;\n\t\t\t\t}\n\n\t\t\t\tthreshold.min = newFirstIndex === 0 ? -Infinity : newThresholdMin;\n\t\t\t\tthreshold.max = newFirstIndex === maxFirstIndex ? Infinity : newThresholdMax;\n\t\t\t}\n\n\t\t\tthis.syncThreshold(maxPos);\n\t\t\tthis.scrollPosition = pos;\n\t\t\tthis.updateMoreInfo(dataSize, pos);\n\n\t\t\tif (this.shouldUpdateBounds || firstIndex !== newFirstIndex) {\n\t\t\t\tthis.setState({firstIndex: newFirstIndex});\n\t\t\t}\n\t\t}\n\n\t\t// For individually sized item\n\t\tcalculateAndCacheItemPosition (index) {\n\t\t\tconst {itemSizes} = this.props;\n\n\t\t\tif (!this.itemPositions[index] && itemSizes[index]) {\n\t\t\t\tconst\n\t\t\t\t\t{spacing} = this.props,\n\t\t\t\t\tposition = this.getItemTopPositionFromPreviousItemBottomPosition(index, spacing);\n\n\t\t\t\tthis.itemPositions[index] = {position};\n\t\t\t}\n\t\t}\n\n\t\t// For individually sized item\n\t\tapplyItemPositionToDOMElement (index) {\n\t\t\tconst\n\t\t\t\t{direction, rtl} = this.props,\n\t\t\t\t{numOfItems} = this.state,\n\t\t\t\t{itemPositions} = this,\n\t\t\t\tchildNode = this.itemContainerRef.current.children[index % numOfItems];\n\n\t\t\tif (childNode && itemPositions[index]) {\n\t\t\t\tconst position = itemPositions[index].position;\n\t\t\t\tif (direction === 'vertical') {\n\t\t\t\t\tchildNode.style.transform = `translate3d(0, ${position}px, 0)`;\n\t\t\t\t} else {\n\t\t\t\t\tchildNode.style.transform = `translate3d(${position * (rtl ? -1 : 1)}px, 0, 0)`;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// For individually sized item\n\t\tupdateThresholdWithItemPosition () {\n\t\t\tconst\n\t\t\t\t{overhang} = this.props,\n\t\t\t\t{firstIndex} = this.state,\n\t\t\t\t{maxFirstIndex} = this,\n\t\t\t\tnumOfUpperLine = Math.floor(overhang / 2);\n\n\t\t\tthis.threshold.min = firstIndex === 0 ? -Infinity : this.getItemBottomPosition(firstIndex + numOfUpperLine);\n\t\t\tthis.threshold.max = firstIndex === maxFirstIndex ? Infinity : this.getItemBottomPosition(firstIndex + (numOfUpperLine + 1));\n\t\t}\n\n\t\t// For individually sized item\n\t\tupdateScrollBoundsWithItemPositions () {\n\t\t\tconst\n\t\t\t\t{dataSize, itemSizes, spacing} = this.props,\n\t\t\t\t{firstIndex, numOfItems} = this.state,\n\t\t\t\t{isPrimaryDirectionVertical, itemPositions} = this,\n\t\t\t\tscrollBoundsDimension = isPrimaryDirectionVertical ? 'scrollHeight' : 'scrollWidth';\n\n\t\t\tif (itemPositions.length === dataSize) { // all item sizes are known\n\t\t\t\tthis.scrollBounds[scrollBoundsDimension] =\n\t\t\t\t\titemSizes.reduce((acc, cur) => acc + cur, 0) + (dataSize - 1) * spacing;\n\t\t\t} else {\n\t\t\t\tfor (let index = firstIndex + numOfItems - 1; index < dataSize; index++) {\n\t\t\t\t\tconst nextInfo = itemPositions[index + 1];\n\t\t\t\t\tif (!nextInfo) {\n\t\t\t\t\t\tconst endPosition = this.getItemBottomPosition(index);\n\t\t\t\t\t\tif (endPosition > this.scrollBounds[scrollBoundsDimension]) {\n\t\t\t\t\t\t\tthis.scrollBounds[scrollBoundsDimension] = endPosition;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.scrollBounds.maxTop = Math.max(0, this.scrollBounds.scrollHeight - this.scrollBounds.clientHeight);\n\t\t}\n\n\t\t// For individually sized item\n\t\tadjustItemPositionWithItemSize () {\n\t\t\tif (this.itemContainerRef.current) {\n\t\t\t\tconst\n\t\t\t\t\t{dataSize} = this.props,\n\t\t\t\t\t{firstIndex, numOfItems} = this.state,\n\t\t\t\t\tlastIndex = firstIndex + numOfItems - 1;\n\n\t\t\t\t// Cache individually sized item positions\n\t\t\t\t// and adjust item DOM element positions\n\t\t\t\tfor (let index = firstIndex; index <= lastIndex; index++) {\n\t\t\t\t\tthis.calculateAndCacheItemPosition(index);\n\t\t\t\t\tthis.applyItemPositionToDOMElement(index);\n\t\t\t\t}\n\n\t\t\t\t// Update threshold based on this.itemPositions\n\t\t\t\tthis.updateThresholdWithItemPosition();\n\n\t\t\t\t// Update scroll bounds based on this.itemPositions\n\t\t\t\tthis.updateScrollBoundsWithItemPositions();\n\n\t\t\t\t// Set container size based on this.scrollbounds\n\t\t\t\tthis.setContainerSize();\n\n\t\t\t\t// Update moreInfo based on this.itemPositions\n\t\t\t\tthis.updateMoreInfo(dataSize, this.scrollPosition);\n\t\t\t}\n\t\t}\n\n\t\tgetItemNode = (index) => {\n\t\t\tconst ref = this.itemContainerRef.current;\n\n\t\t\treturn ref ? ref.children[index % this.state.numOfItems] : null;\n\t\t};\n\n\t\tcomposeStyle (width, height, primaryPosition, secondaryPosition) {\n\t\t\tconst\n\t\t\t\t{x, y} = this.getXY(primaryPosition, secondaryPosition),\n\t\t\t\tstyle = {\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t/* FIXME: RTL / this calculation only works for Chrome */\n\t\t\t\t\ttransform: `translate3d(${this.props.rtl ? -x : x}px, ${y}px, 0)`\n\t\t\t\t};\n\n\t\t\tif (this.isItemSized) {\n\t\t\t\tstyle.width = width;\n\t\t\t\tstyle.height = height;\n\t\t\t}\n\n\t\t\treturn style;\n\t\t}\n\n\t\tapplyStyleToNewNode = (index, ...rest) => {\n\t\t\tconst\n\t\t\t\t{itemRenderer, getComponentProps} = this.props,\n\t\t\t\tkey = index % this.state.numOfItems,\n\t\t\t\titemElement = itemRenderer({\n\t\t\t\t\t...this.props.childProps,\n\t\t\t\t\tkey,\n\t\t\t\t\tindex\n\t\t\t\t}),\n\t\t\t\tcomponentProps = getComponentProps && getComponentProps(index) || {};\n\n\t\t\tthis.cc[key] = React.cloneElement(itemElement, {\n\t\t\t\t...componentProps,\n\t\t\t\tclassName: classNames(css.listItem, itemElement.props.className),\n\t\t\t\tstyle: {...itemElement.props.style, ...(this.composeStyle(...rest))}\n\t\t\t});\n\t\t};\n\n\t\tapplyStyleToHideNode = (index) => {\n\t\t\tconst key = index % this.state.numOfItems;\n\t\t\tthis.cc[key] = <div key={key} style={{display: 'none'}} />;\n\t\t};\n\n\t\tpositionItems () {\n\t\t\tconst\n\t\t\t\t{dataSize, itemSizes} = this.props,\n\t\t\t\t{firstIndex, numOfItems} = this.state,\n\t\t\t\t{cc, isPrimaryDirectionVertical, dimensionToExtent, primary, secondary, itemPositions} = this;\n\t\t\tlet\n\t\t\t\thideTo = 0,\n\t\t\t\tupdateFrom = cc.length ? this.state.updateFrom : firstIndex,\n\t\t\t\tupdateTo = cc.length ? this.state.updateTo : firstIndex + numOfItems;\n\n\t\t\tif (updateFrom >= updateTo) {\n\t\t\t\treturn;\n\t\t\t} else if (updateTo > dataSize) {\n\t\t\t\thideTo = updateTo;\n\t\t\t\tupdateTo = dataSize;\n\t\t\t}\n\n\t\t\tlet\n\t\t\t\twidth, height,\n\t\t\t\t{primaryPosition, secondaryPosition} = this.getGridPosition(updateFrom);\n\n\t\t\twidth = (isPrimaryDirectionVertical ? secondary.itemSize : primary.itemSize) + 'px';\n\t\t\theight = (isPrimaryDirectionVertical ? primary.itemSize : secondary.itemSize) + 'px';\n\n\t\t\t// positioning items\n\t\t\tfor (let i = updateFrom, j = updateFrom % dimensionToExtent; i < updateTo; i++) {\n\t\t\t\tthis.applyStyleToNewNode(i, width, height, primaryPosition, secondaryPosition);\n\n\t\t\t\tif (++j === dimensionToExtent) {\n\t\t\t\t\tsecondaryPosition = 0;\n\n\t\t\t\t\tif (this.props.itemSizes) {\n\t\t\t\t\t\tif (itemPositions[i + 1] || itemPositions[i + 1] === 0) {\n\t\t\t\t\t\t\tprimaryPosition = itemPositions[i + 1].position;\n\t\t\t\t\t\t} else if (itemSizes[i]) {\n\t\t\t\t\t\t\tprimaryPosition += itemSizes[i] + this.props.spacing;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tprimaryPosition += primary.gridSize;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprimaryPosition += primary.gridSize;\n\t\t\t\t\t}\n\n\t\t\t\t\tj = 0;\n\t\t\t\t} else {\n\t\t\t\t\tsecondaryPosition += secondary.gridSize;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (let i = updateTo; i < hideTo; i++) {\n\t\t\t\tthis.applyStyleToHideNode(i);\n\t\t\t}\n\t\t}\n\n\t\tgetScrollHeight = () => (this.isPrimaryDirectionVertical ? this.getVirtualScrollDimension() : this.scrollBounds.clientHeight);\n\n\t\tgetScrollWidth = () => (this.isPrimaryDirectionVertical ? this.scrollBounds.clientWidth : this.getVirtualScrollDimension());\n\n\t\tgetVirtualScrollDimension = () => {\n\t\t\tif (this.props.itemSizes) {\n\t\t\t\treturn this.props.itemSizes.reduce((total, size, index) => (total + size + (index > 0 ? this.props.spacing : 0)), 0);\n\t\t\t} else {\n\t\t\t\tconst\n\t\t\t\t\t{dimensionToExtent, primary, curDataSize} = this,\n\t\t\t\t\t{spacing} = this.props;\n\n\t\t\t\treturn (Math.ceil(curDataSize / dimensionToExtent) * primary.gridSize) - spacing;\n\t\t\t}\n\t\t};\n\n\t\tsyncClientSize = () => {\n\t\t\tconst\n\t\t\t\t{props} = this,\n\t\t\t\tnode = this.containerRef.current;\n\n\t\t\tif (!props.clientSize && !node) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst\n\t\t\t\t{clientWidth, clientHeight} = props.clientSize || this.getClientSize(node),\n\t\t\t\t{scrollBounds} = this;\n\n\t\t\tif (clientWidth !== scrollBounds.clientWidth || clientHeight !== scrollBounds.clientHeight) {\n\t\t\t\tthis.calculateMetrics(props);\n\t\t\t\tthis.setState(this.getStatesAndUpdateBounds(props));\n\t\t\t\tthis.setContainerSize();\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\n\t\t// render\n\n\t\tgetContainerClasses (className) {\n\t\t\tlet containerClass = null;\n\n\t\t\tif (type === Native) {\n\t\t\t\tcontainerClass = this.isPrimaryDirectionVertical ? css.vertical : css.horizontal;\n\t\t\t}\n\n\t\t\treturn classNames(css.virtualList, containerClass, className);\n\t\t}\n\n\t\tgetContentClasses () {\n\t\t\treturn type === Native ? null : css.content;\n\t\t}\n\n\t\trender () {\n\t\t\tconst\n\t\t\t\t{className, 'data-webos-voice-focused': voiceFocused, 'data-webos-voice-group-label': voiceGroupLabel, itemsRenderer, style, ...rest} = this.props,\n\t\t\t\t{cc, itemContainerRef, primary} = this,\n\t\t\t\tcontainerClasses = this.getContainerClasses(className),\n\t\t\t\tcontentClasses = this.getContentClasses();\n\n\t\t\tdelete rest.cbScrollTo;\n\t\t\tdelete rest.childProps;\n\t\t\tdelete rest.clientSize;\n\t\t\tdelete rest.dataSize;\n\t\t\tdelete rest.direction;\n\t\t\tdelete rest.getComponentProps;\n\t\t\tdelete rest.isHorizontalScrollbarVisible;\n\t\t\tdelete rest.isVerticalScrollbarVisible;\n\t\t\tdelete rest.itemRenderer;\n\t\t\tdelete rest.itemSize;\n\t\t\tdelete rest.itemSizes;\n\t\t\tdelete rest.onUpdate;\n\t\t\tdelete rest.onUpdateItems;\n\t\t\tdelete rest.overhang;\n\t\t\tdelete rest.pageScroll;\n\t\t\tdelete rest.rtl;\n\t\t\tdelete rest.spacing;\n\t\t\tdelete rest.updateStatesAndBounds;\n\n\t\t\tif (primary) {\n\t\t\t\tthis.positionItems();\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<div className={containerClasses} data-webos-voice-focused={voiceFocused} data-webos-voice-group-label={voiceGroupLabel} ref={this.containerRef} style={style}>\n\t\t\t\t\t<div {...rest} className={contentClasses} ref={this.contentRef}>\n\t\t\t\t\t\t{itemsRenderer({cc, itemContainerRef, primary})}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t};\n};\n\n/**\n * A basic base component for\n * [VirtualList]{@link ui/VirtualList.VirtualList} and [VirtualGridList]{@link ui/VirtualList.VirtualGridList}.\n *\n * @class VirtualListBase\n * @memberof ui/VirtualList\n * @ui\n * @public\n */\nconst VirtualListBase = VirtualListBaseFactory(JS);\nVirtualListBase.displayName = 'ui:VirtualListBase';\n\n/**\n * A basic base component for\n * [VirtualListNative]{@link ui/VirtualList.VirtualListNative} and [VirtualGridListNative]{@link ui/VirtualList.VirtualGridListNative}.\n *\n * @class VirtualListBaseNative\n * @memberof ui/VirtualList\n * @ui\n * @private\n */\nconst VirtualListBaseNative = VirtualListBaseFactory(Native);\nVirtualListBaseNative.displayName = 'ui:VirtualListBaseNative';\n\n/**\n * A callback function that receives a reference to the `scrollTo` feature.\n *\n * Once received, the `scrollTo` method can be called as an imperative interface.\n *\n * The `scrollTo` function accepts the following parameters:\n * - {position: {x, y}} - Pixel value for x and/or y position\n * - {align} - Where the scroll area should be aligned. Values are:\n *   `'left'`, `'right'`, `'top'`, `'bottom'`,\n *   `'topleft'`, `'topright'`, `'bottomleft'`, and `'bottomright'`.\n * - {index} - Index of specific item. (`0` or positive integer)\n *   This option is available for only `VirtualList` kind.\n * - {node} - Node to scroll into view\n * - {animate} - When `true`, scroll occurs with animation. When `false`, no\n *   animation occurs.\n * - {focus} - When `true`, attempts to focus item after scroll. Only valid when scrolling\n *   by `index` or `node`.\n * > Note: Only specify one of: `position`, `align`, `index` or `node`\n *\n * Example:\n * ```\n *\t// If you set cbScrollTo prop like below;\n *\tcbScrollTo: (fn) => {this.scrollTo = fn;}\n *\t// You can simply call like below;\n *\tthis.scrollTo({align: 'top'}); // scroll to the top\n * ```\n *\n * @name cbScrollTo\n * @memberof ui/VirtualList.VirtualListBase.prototype\n * @type {Function}\n * @public\n */\n\n/**\n * Specifies how to show horizontal scrollbar.\n *\n * Valid values are:\n * * `'auto'`,\n * * `'visible'`, and\n * * `'hidden'`.\n *\n * @name horizontalScrollbar\n * @memberof ui/VirtualList.VirtualListBase.prototype\n * @type {String}\n * @default 'auto'\n * @public\n */\n\n/**\n * Prevents scroll by wheeling on the list.\n *\n * @name noScrollByWheel\n * @memberof ui/VirtualList.VirtualListBase.prototype\n * @type {Boolean}\n * @default false\n * @public\n */\n\n/**\n * Called when scrolling.\n *\n * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n * It is not recommended to set this prop since it can cause performance degradation.\n * Use `onScrollStart` or `onScrollStop` instead.\n *\n * @name onScroll\n * @memberof ui/VirtualList.VirtualListBase.prototype\n * @type {Function}\n * @param {Object} event\n * @param {Number} event.scrollLeft Scroll left value.\n * @param {Number} event.scrollTop Scroll top value.\n * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n * @public\n */\n\n/**\n * Called when scroll starts.\n *\n * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n * You can get firstVisibleIndex and lastVisibleIndex from VirtualList with `moreInfo`.\n *\n * Example:\n * ```\n * onScrollStart = ({scrollLeft, scrollTop, moreInfo}) => {\n *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n *     // do something with firstVisibleIndex and lastVisibleIndex\n * }\n *\n * render = () => (\n *     <VirtualList\n *         ...\n *         onScrollStart={this.onScrollStart}\n *         ...\n *     />\n * )\n * ```\n *\n * @name onScrollStart\n * @memberof ui/VirtualList.VirtualListBase.prototype\n * @type {Function}\n * @param {Object} event\n * @param {Number} event.scrollLeft Scroll left value.\n * @param {Number} event.scrollTop Scroll top value.\n * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n * @public\n */\n\n/**\n * Called when scroll stops.\n *\n * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n * You can get firstVisibleIndex and lastVisibleIndex from VirtualList with `moreInfo`.\n *\n * Example:\n * ```\n * onScrollStop = ({scrollLeft, scrollTop, moreInfo}) => {\n *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n *     // do something with firstVisibleIndex and lastVisibleIndex\n * }\n *\n * render = () => (\n *     <VirtualList\n *         ...\n *         onScrollStop={this.onScrollStop}\n *         ...\n *     />\n * )\n * ```\n *\n * @name onScrollStop\n * @memberof ui/VirtualList.VirtualListBase.prototype\n * @type {Function}\n * @param {Object} event\n * @param {Number} event.scrollLeft Scroll left value.\n * @param {Number} event.scrollTop Scroll top value.\n * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n * @public\n */\n\n/**\n * Specifies how to show vertical scrollbar.\n *\n * Valid values are:\n * * `'auto'`,\n * * `'visible'`, and\n * * `'hidden'`.\n *\n * @name verticalScrollbar\n * @memberof ui/VirtualList.VirtualListBase.prototype\n * @type {String}\n * @default 'auto'\n * @public\n */\n\nexport default VirtualListBase;\nexport {\n\tVirtualListBase as UiVirtualListBase,\n\tVirtualListBaseNative as UiVirtualListBaseNative\n};\n","import classNames from 'classnames';\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport {forward} from '@enact/core/handle';\nimport {platform} from '@enact/core/platform';\nimport {clamp} from '@enact/core/util';\nimport PropTypes from 'prop-types';\nimport equals from 'ramda/src/equals';\nimport React, {Component} from 'react';\n\nimport css from './VirtualList.module.less';\n\nconst nop = () => {};\n\n/**\n * The shape for the grid list item size\n * in a list for [VirtualGridList]{@link ui/VirtualList.VirtualGridList}.\n *\n * @typedef {Object} gridListItemSizeShape\n * @memberof ui/VirtualList\n * @property {Number} minWidth The minimum width of the grid list item.\n * @property {Number} minHeight The minimum height of the grid list item.\n * @public\n */\nconst gridListItemSizeShape = PropTypes.shape({\n\tminHeight: PropTypes.number.isRequired,\n\tminWidth: PropTypes.number.isRequired\n});\n\n/**\n * The shape for the list different item size\n * in a list for [VirtualList]{@link ui/VirtualList.VirtualList}.\n *\n * @typedef {Object} itemSizesShape\n * @memberof ui/VirtualList\n * @property {Number} minSize The minimum size of the list item.\n * @property {Number[]} size An array of the list item size. If it is not defined, the list items will render with the `minSize` size.\n * @public\n */\nconst itemSizesShape = PropTypes.shape({\n\tminSize: PropTypes.number.isRequired,\n\tsize: PropTypes.arrayOf(PropTypes.number)\n});\n\n/**\n * A basic base component for\n * [VirtualList]{@link ui/VirtualList.VirtualList} and [VirtualGridList]{@link ui/VirtualList.VirtualGridList}.\n *\n * @class VirtualListBasic\n * @memberof ui/VirtualList\n * @ui\n * @public\n */\nclass VirtualListBasic extends Component {\n\tdisplayName = 'ui:VirtualListBasic';\n\n\tstatic propTypes = /** @lends ui/VirtualList.VirtualListBasic.prototype */ {\n\t\t/**\n\t\t * The rendering function called for each item in the list.\n\t\t *\n\t\t * > **Note**: The list does **not** always render a component whenever its render function is called\n\t\t * due to performance optimization.\n\t\t *\n\t\t * Example:\n\t\t * ```\n\t\t * renderItem = ({index, ...rest}) => {\n\t\t *\n\t\t * \treturn (\n\t\t * \t\t<MyComponent index={index} {...rest} />\n\t\t * \t);\n\t\t * }\n\t\t * ```\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @param {Number} event.data-index It is required for `Spotlight` 5-way navigation. Pass to the root element in the component.\n\t\t * @param {Number} event.index The index number of the component to render\n\t\t *\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\titemRenderer: PropTypes.func.isRequired,\n\n\t\t/**\n\t\t * The size of an item for the list; valid values are either a number for `VirtualList`\n\t\t * or an object that has `minWidth` and `minHeight` for `VirtualGridList`.\n\t\t *\n\t\t * @type {Number|ui/VirtualList.gridListItemSizeShape}\n\t\t * @required\n\t\t * @private\n\t\t */\n\t\titemSize: PropTypes.oneOfType([\n\t\t\tPropTypes.number,\n\t\t\tgridListItemSizeShape\n\t\t]).isRequired,\n\n\t\t/**\n\t\t * Callback method of scrollTo.\n\t\t * Normally, useScroll should set this value.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tcbScrollTo: PropTypes.func,\n\n\t\t/**\n\t\t * Additional props included in the object passed to the `itemRenderer` callback.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tchildProps: PropTypes.object,\n\n\t\t/**\n\t\t * Client size of the list; valid values are an object that has `clientWidth` and `clientHeight`.\n\t\t *\n\t\t * @type {Object}\n\t\t * @property {Number} clientHeight The client height of the list.\n\t\t * @property {Number} clientWidth The client width of the list.\n\t\t * @public\n\t\t */\n\t\tclientSize: PropTypes.shape({\n\t\t\tclientHeight: PropTypes.number.isRequired,\n\t\t\tclientWidth: PropTypes.number.isRequired\n\t\t}),\n\n\t\t/**\n\t\t * Disable voice control feature of component.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\t'data-webos-voice-disabled': PropTypes.bool,\n\n\t\t/**\n\t\t * Activates the component for voice control.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\t'data-webos-voice-focused': PropTypes.bool,\n\n\t\t/**\n\t\t * The voice control group label.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\t'data-webos-voice-group-label': PropTypes.string,\n\n\t\t/**\n\t\t * The number of items of data the list contains.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tdataSize: PropTypes.number,\n\n\t\t/**\n\t\t * The layout direction of the list.\n\t\t *\n\t\t * Valid values are:\n\t\t * * `'horizontal'`, and\n\t\t * * `'vertical'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'vertical'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t/**\n\t\t * Called to get the scroll affordance from themed component.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tgetAffordance: PropTypes.func,\n\n\t\t/**\n\t\t * Called to get the props for list items.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tgetComponentProps: PropTypes.func,\n\n\t\t/**\n\t\t * Ref for items\n\t\t *\n\t\t * @type {Object}\n\t\t * @private\n\t\t */\n\t\titemRefs: PropTypes.object,\n\n\t\t/**\n\t\t * The array for individually sized items.\n\t\t *\n\t\t * @type {Number[]}\n\t\t * @private\n\t\t */\n\t\titemSizes: PropTypes.arrayOf(PropTypes.number),\n\n\t\t/**\n\t\t * Called when the range of items has updated.\n\t\t *\n\t\t * Event payload includes the `firstIndex` and `lastIndex` of the list.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tonUpdateItems: PropTypes.func,\n\n\t\t/**\n\t\t * Number of spare DOM node.\n\t\t * `3` is good for the default value experimentally and\n\t\t * this value is highly recommended not to be changed by developers.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 3\n\t\t * @private\n\t\t */\n\t\toverhang: PropTypes.number,\n\n\t\t/**\n\t\t * When `true`, the list will scroll by page. Otherwise the list will scroll by item.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @private\n\t\t */\n\t\tpageScroll: PropTypes.bool,\n\n\t\t/**\n\t\t * The render function for the placeholder elements.\n\t\t *\n\t\t * @type {Function}\n\t\t * @required\n\t\t * @private\n\t\t */\n\t\tplaceholderRenderer: PropTypes.func,\n\n\t\t/**\n\t\t * The ARIA role for the list.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'list'\n\t\t * @public\n\t\t */\n\t\trole: PropTypes.string,\n\n\t\t/**\n\t\t * `true` if RTL, `false` if LTR.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @private\n\t\t */\n\t\trtl: PropTypes.bool,\n\n\t\t/**\n\t\t * Ref for scroll content\n\t\t *\n\t\t * @type {Object|Function}}\n\t\t * @private\n\t\t */\n\t\tscrollContentRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Specifies how to scroll.\n\t\t *\n\t\t * Valid values are:\n\t\t * * `'translate'`,\n\t\t * * `'native'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'translate'\n\t\t * @public\n\t\t */\n\t\tscrollMode: PropTypes.string,\n\n\t\t/**\n\t\t * The spacing between items.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tspacing: PropTypes.number,\n\n\t\t/**\n\t\t * Called to execute additional logic in a themed component when updating states and bounds.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tupdateStatesAndBounds: PropTypes.func\n\t};\n\n\tstatic defaultProps = {\n\t\tcbScrollTo: nop,\n\t\tdataSize: 0,\n\t\tdirection: 'vertical',\n\t\tgetAffordance: () => (0),\n\t\toverhang: 3,\n\t\tpageScroll: false,\n\t\tscrollMode: 'translate',\n\t\tspacing: 0\n\t};\n\n\tconstructor (props) {\n\t\tlet nextState = null;\n\n\t\tsuper(props);\n\n\t\tthis.contentRef = React.createRef();\n\t\tthis.itemContainerRefs = [];\n\n\t\tif (props.clientSize) {\n\t\t\tthis.calculateMetrics(props);\n\t\t\tnextState = this.getStatesAndUpdateBounds(props);\n\t\t}\n\n\t\tthis.state = {\n\t\t\tfirstIndex: 0,\n\t\t\tnumOfItems: 0,\n\t\t\tprevChildProps: null,\n\t\t\tprevFirstIndex: 0,\n\t\t\tupdateFrom: 0,\n\t\t\tupdateTo: 0,\n\t\t\t...nextState\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps (props, state) {\n\t\tconst\n\t\t\tshouldInvalidate = (\n\t\t\t\tstate.prevFirstIndex === state.firstIndex ||\n\t\t\t\tstate.prevChildProps !== props.childProps\n\t\t\t),\n\t\t\tdiff = state.firstIndex - state.prevFirstIndex,\n\t\t\tupdateTo = (-state.numOfItems >= diff || diff > 0 || shouldInvalidate) ? state.firstIndex + state.numOfItems : state.prevFirstIndex,\n\t\t\tupdateFrom = (0 >= diff || diff >= state.numOfItems || shouldInvalidate) ? state.firstIndex : state.prevFirstIndex + state.numOfItems,\n\t\t\tnextUpdateFromAndTo = (state.updateFrom !== updateFrom || state.updateTo !== updateTo) ? {updateFrom, updateTo} : null;\n\n\t\treturn {\n\t\t\t...nextUpdateFromAndTo,\n\t\t\tprevChildProps: props.childProps,\n\t\t\tprevFirstIndex: state.firstIndex\n\t\t};\n\t}\n\n\t// Calculate metrics for VirtualList after the 1st render to know client W/H.\n\tcomponentDidMount () {\n\t\tif (!this.props.clientSize) {\n\t\t\tthis.calculateMetrics(this.props);\n\t\t\t// eslint-disable-next-line react/no-did-mount-set-state\n\t\t\tthis.setState(this.getStatesAndUpdateBounds(this.props));\n\t\t} else {\n\t\t\tthis.emitUpdateItems();\n\t\t}\n\n\t\tif (this.props.itemSizes) {\n\t\t\tthis.adjustItemPositionWithItemSize();\n\t\t} else {\n\t\t\tthis.setContainerSize();\n\t\t}\n\t}\n\n\tcomponentDidUpdate (prevProps, prevState) {\n\t\tlet deferScrollTo = false;\n\t\tconst {firstIndex, numOfItems} = this.state;\n\n\t\tthis.shouldUpdateBounds = false;\n\n\t\t// TODO: remove `this.hasDataSizeChanged` and fix useScroll\n\t\tthis.hasDataSizeChanged = (prevProps.dataSize !== this.props.dataSize);\n\n\t\tif (prevState.firstIndex !== firstIndex || prevState.numOfItems !== numOfItems) {\n\t\t\tthis.emitUpdateItems();\n\t\t}\n\n\t\t// When an item expands or shrinks,\n\t\t// we need to calculate the item position again and\n\t\t// the item needs to scroll into view if the item does not show fully.\n\t\tif (this.props.itemSizes) {\n\t\t\tif (this.itemPositions.length > this.props.itemSizes.length) {\n\t\t\t\t// The item with `this.props.itemSizes.length` index is not rendered yet.\n\t\t\t\t// So the item could scroll into view after it rendered.\n\t\t\t\t// To do it, `this.props.itemSizes.length` value is cached in `this.indexToScrollIntoView`.\n\t\t\t\tthis.indexToScrollIntoView = this.props.itemSizes.length;\n\n\t\t\t\tthis.itemPositions = [...this.itemPositions.slice(0, this.props.itemSizes.length)];\n\t\t\t\tthis.adjustItemPositionWithItemSize();\n\t\t\t} else {\n\t\t\t\tconst {indexToScrollIntoView} = this;\n\n\t\t\t\tthis.adjustItemPositionWithItemSize();\n\n\t\t\t\tif (indexToScrollIntoView !== -1) {\n\t\t\t\t\t// Currently we support expandable items in only vertical VirtualList.\n\t\t\t\t\t// So the top and bottom of the boundaries are checked.\n\t\t\t\t\tconst\n\t\t\t\t\t\tscrollBounds = {top: this.scrollPosition, bottom: this.scrollPosition + this.scrollBounds.clientHeight},\n\t\t\t\t\t\titemBounds = {top: this.getGridPosition(indexToScrollIntoView).primaryPosition, bottom: this.getItemBottomPosition(indexToScrollIntoView)};\n\n\t\t\t\t\tif (itemBounds.top < scrollBounds.top) {\n\t\t\t\t\t\tthis.props.cbScrollTo({\n\t\t\t\t\t\t\tindex: indexToScrollIntoView,\n\t\t\t\t\t\t\tstickTo: 'start',\n\t\t\t\t\t\t\tanimate: true\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (itemBounds.bottom > scrollBounds.bottom) {\n\t\t\t\t\t\tthis.props.cbScrollTo({\n\t\t\t\t\t\t\tindex: indexToScrollIntoView,\n\t\t\t\t\t\t\tstickTo: 'end',\n\t\t\t\t\t\t\tanimate: true\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.indexToScrollIntoView = -1;\n\t\t\t}\n\t\t}\n\n\t\tif (\n\t\t\tprevProps.direction !== this.props.direction ||\n\t\t\tprevProps.overhang !== this.props.overhang ||\n\t\t\tprevProps.spacing !== this.props.spacing ||\n\t\t\t!equals(prevProps.itemSize, this.props.itemSize)\n\t\t) {\n\t\t\tconst {x, y} = this.getXY(this.scrollPosition, 0);\n\n\t\t\tthis.calculateMetrics(this.props);\n\t\t\t// eslint-disable-next-line react/no-did-update-set-state\n\t\t\tthis.setState(this.getStatesAndUpdateBounds(this.props));\n\t\t\tthis.setContainerSize();\n\n\t\t\tconst {clientHeight, clientWidth, scrollHeight, scrollWidth} = this.scrollBounds;\n\t\t\tconst xMax = scrollWidth - clientWidth;\n\t\t\tconst yMax = scrollHeight - clientHeight;\n\n\t\t\tthis.updateScrollPosition({\n\t\t\t\tx: xMax > x ? x : xMax,\n\t\t\t\ty: yMax > y ? y : yMax\n\t\t\t});\n\n\t\t\tdeferScrollTo = true;\n\t\t} else if (this.hasDataSizeChanged) {\n\t\t\tconst newState = this.getStatesAndUpdateBounds(this.props, this.state.firstIndex);\n\t\t\t// eslint-disable-next-line react/no-did-update-set-state\n\t\t\tthis.setState(newState);\n\t\t\tthis.setContainerSize();\n\n\t\t\tdeferScrollTo = true;\n\t\t} else if (prevProps.rtl !== this.props.rtl) {\n\t\t\tthis.updateScrollPosition(this.getXY(this.scrollPosition, 0));\n\t\t}\n\n\t\tconst maxPos = this.isPrimaryDirectionVertical ? this.scrollBounds.maxTop : this.scrollBounds.maxLeft;\n\t\tlet currentPos = this.scrollPosition;\n\n\t\tif (this.props.scrollMode === 'native' && this.scrollToPositionTarget >= 0) {\n\t\t\tcurrentPos = this.scrollToPositionTarget;\n\t\t}\n\n\t\tif (!deferScrollTo && currentPos > maxPos) {\n\t\t\tthis.props.cbScrollTo({position: (this.isPrimaryDirectionVertical) ? {y: maxPos} : {x: maxPos}, animate: false});\n\t\t\tthis.scrollToPositionTarget = -1;\n\t\t}\n\t}\n\n\tscrollBounds = {\n\t\tclientWidth: 0,\n\t\tclientHeight: 0,\n\t\tscrollWidth: 0,\n\t\tscrollHeight: 0,\n\t\tmaxLeft: 0,\n\t\tmaxTop: 0\n\t};\n\n\tmoreInfo = {\n\t\tfirstVisibleIndex: null,\n\t\tlastVisibleIndex: null\n\t};\n\n\tprimary = null;\n\tsecondary = null;\n\n\tisPrimaryDirectionVertical = true;\n\tisItemSized = false;\n\n\tshouldUpdateBounds = false;\n\n\tdimensionToExtent = 0;\n\tthreshold = 0;\n\tmaxFirstIndex = 0;\n\tcurDataSize = 0;\n\thasDataSizeChanged = false;\n\tcc = [];\n\tscrollPosition = 0;\n\tscrollPositionTarget = 0;\n\tscrollToPositionTarget = -1;\n\n\t// For individually sized item\n\titemPositions = [];\n\tindexToScrollIntoView = -1;\n\n\tupdateScrollPosition = ({x, y}, rtl = this.props.rtl) => {\n\t\tif (this.props.scrollMode === 'native') {\n\t\t\tthis.scrollToPosition(x, y, rtl);\n\t\t} else {\n\t\t\tthis.setScrollPositionTarget (x, y);\n\t\t\tthis.setScrollPosition(x, y, rtl);\n\t\t}\n\t};\n\n\tisVertical = () => this.isPrimaryDirectionVertical;\n\n\tisHorizontal = () => !this.isPrimaryDirectionVertical;\n\n\tgetScrollBounds = () => this.scrollBounds;\n\n\tgetMoreInfo = () => this.moreInfo;\n\n\tgetGridPosition (index) {\n\t\tconst\n\t\t\t{dataSize, itemSizes} = this.props,\n\t\t\t{dimensionToExtent, itemPositions, primary, secondary} = this,\n\t\t\tsecondaryPosition = (index % dimensionToExtent) * secondary.gridSize,\n\t\t\textent = Math.floor(index / dimensionToExtent);\n\t\tlet primaryPosition;\n\n\t\tif (itemSizes && typeof itemSizes[index] !== 'undefined' && dataSize > index) {\n\t\t\tconst firstIndexInExtent = extent * dimensionToExtent;\n\n\t\t\tif (!itemPositions[firstIndexInExtent]) {\n\t\t\t\t// Cache individually sized item positions\n\t\t\t\tfor (let i = itemPositions.length; i <= index; i++) {\n\t\t\t\t\tthis.calculateAndCacheItemPosition(i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (itemPositions[firstIndexInExtent]) {\n\t\t\t\tprimaryPosition = itemPositions[firstIndexInExtent].position;\n\t\t\t} else {\n\t\t\t\tprimaryPosition = extent * primary.gridSize;\n\t\t\t}\n\t\t} else {\n\t\t\tprimaryPosition = extent * primary.gridSize;\n\t\t}\n\n\t\treturn {primaryPosition, secondaryPosition};\n\t}\n\n\t// For individually sized item\n\tgetItemBottomPosition = (index) => {\n\t\tconst\n\t\t\titemPosition = this.itemPositions[index],\n\t\t\titemSize = this.props.itemSizes[index];\n\n\t\tif (itemPosition && (itemSize || itemSize === 0)) {\n\t\t\treturn itemPosition.position + itemSize;\n\t\t} else {\n\t\t\treturn index * this.primary.gridSize - this.props.spacing;\n\t\t}\n\t};\n\n\t// For individually sized item\n\tgetItemTopPositionFromPreviousItemBottomPosition = (index, spacing) => {\n\t\treturn index === 0 ? 0 : this.getItemBottomPosition(index - 1) + spacing;\n\t};\n\n\tgetItemPosition = (index, stickTo = 'start', optionalOffset = 0) => {\n\t\tconst {isPrimaryDirectionVertical, primary, scrollBounds} = this;\n\t\tconst maxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft;\n\t\tconst position = this.getGridPosition(index);\n\t\tlet offset = 0;\n\n\t\tif (stickTo === 'start') {\n\t\t\toffset = optionalOffset;\n\t\t} else if (this.props.itemSizes) {\n\t\t\toffset = primary.clientSize - this.props.itemSizes[index] - optionalOffset;\n\t\t} else {\n\t\t\toffset = primary.clientSize - primary.itemSize - optionalOffset;\n\t\t}\n\n\t\tposition.primaryPosition = clamp(0, maxPos, position.primaryPosition - offset);\n\n\t\treturn this.gridPositionToItemPosition(position);\n\t};\n\n\tgridPositionToItemPosition = ({primaryPosition, secondaryPosition}) =>\n\t\t(this.isPrimaryDirectionVertical ? {left: secondaryPosition, top: primaryPosition} : {left: primaryPosition, top: secondaryPosition});\n\n\tgetXY = (primaryPosition, secondaryPosition) => (this.isPrimaryDirectionVertical ? {x: secondaryPosition, y: primaryPosition} : {x: primaryPosition, y: secondaryPosition});\n\n\tgetClientSize = (node) => ({\n\t\tclientWidth: node.clientWidth,\n\t\tclientHeight: node.clientHeight\n\t});\n\n\temitUpdateItems () {\n\t\tconst {dataSize} = this.props;\n\t\tconst {firstIndex, numOfItems} = this.state;\n\n\t\tforward('onUpdateItems', {\n\t\t\tfirstIndex: firstIndex,\n\t\t\tlastIndex: Math.min(firstIndex + numOfItems, dataSize)\n\t\t}, this.props);\n\t}\n\n\tcalculateMetrics (props) {\n\t\tconst\n\t\t\t{clientSize, direction, itemSize, overhang, scrollMode, spacing} = props,\n\t\t\tnode = this.props.scrollContentRef.current;\n\n\t\tif (!clientSize && !node) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst\n\t\t\t{clientWidth, clientHeight} = clientSize || this.getClientSize(node),\n\t\t\theightInfo = {\n\t\t\t\tclientSize: clientHeight,\n\t\t\t\tminItemSize: itemSize.minHeight || null,\n\t\t\t\titemSize: itemSize\n\t\t\t},\n\t\t\twidthInfo = {\n\t\t\t\tclientSize: clientWidth,\n\t\t\t\tminItemSize: itemSize.minWidth || null,\n\t\t\t\titemSize: itemSize\n\t\t\t};\n\t\tlet primary, secondary, dimensionToExtent, thresholdBase;\n\n\t\tthis.isPrimaryDirectionVertical = (direction === 'vertical');\n\n\t\tif (this.isPrimaryDirectionVertical) {\n\t\t\tprimary = heightInfo;\n\t\t\tsecondary = widthInfo;\n\t\t} else {\n\t\t\tprimary = widthInfo;\n\t\t\tsecondary = heightInfo;\n\t\t}\n\t\tdimensionToExtent = 1;\n\n\t\tthis.isItemSized = (primary.minItemSize && secondary.minItemSize);\n\n\t\tif (this.isItemSized) {\n\t\t\t// the number of columns is the ratio of the available width plus the spacing\n\t\t\t// by the minimum item width plus the spacing\n\t\t\tdimensionToExtent = Math.max(Math.floor((secondary.clientSize + spacing) / (secondary.minItemSize + spacing)), 1);\n\t\t\t// the actual item width is a ratio of the remaining width after all columns\n\t\t\t// and spacing are accounted for and the number of columns that we know we should have\n\t\t\tsecondary.itemSize = Math.floor((secondary.clientSize - (spacing * (dimensionToExtent - 1))) / dimensionToExtent);\n\t\t\t// the actual item height is related to the item width\n\t\t\tprimary.itemSize = Math.floor(primary.minItemSize * (secondary.itemSize / secondary.minItemSize));\n\t\t}\n\n\t\tprimary.gridSize = primary.itemSize + spacing;\n\t\tsecondary.gridSize = secondary.itemSize + spacing;\n\t\tthresholdBase = primary.gridSize * Math.ceil(overhang / 2);\n\n\t\tthis.threshold = {min: -Infinity, max: thresholdBase, base: thresholdBase};\n\t\tthis.dimensionToExtent = dimensionToExtent;\n\n\t\tthis.primary = primary;\n\t\tthis.secondary = secondary;\n\n\t\t// reset\n\t\tthis.scrollPosition = 0;\n\t\tthis.scrollToPositionTarget = -1;\n\t\tif (scrollMode === 'translate' && this.contentRef.current) {\n\t\t\tthis.contentRef.current.style.transform = null;\n\t\t} else if (scrollMode === 'native' && node) {\n\t\t\tnode.style.scrollBehavior = null;\n\t\t\tthis.updateScrollPosition(this.getXY(this.scrollPosition, 0));\n\t\t\tnode.style.scrollBehavior = 'smooth';\n\t\t}\n\t}\n\n\tgetStatesAndUpdateBounds = (props, firstIndex = 0) => {\n\t\tconst\n\t\t\t{dataSize, overhang, updateStatesAndBounds} = props,\n\t\t\t{dimensionToExtent, primary, moreInfo, scrollPosition} = this,\n\t\t\tnumOfItems = Math.min(dataSize, dimensionToExtent * (Math.ceil(primary.clientSize / primary.gridSize) + overhang)),\n\t\t\twasFirstIndexMax = ((this.maxFirstIndex < moreInfo.firstVisibleIndex - dimensionToExtent) && (firstIndex === this.maxFirstIndex)),\n\t\t\tdataSizeDiff = dataSize - this.curDataSize;\n\t\tlet newFirstIndex = firstIndex;\n\n\t\t// When calling setState() except in didScroll(), `shouldUpdateBounds` should be `true`\n\t\t// so that setState() in didScroll() could be called to override state.\n\t\t// Before calling setState() except in didScroll(), getStatesAndUpdateBounds() is always called.\n\t\t// So `shouldUpdateBounds` is true here.\n\t\tthis.shouldUpdateBounds = true;\n\n\t\tthis.maxFirstIndex = Math.ceil((dataSize - numOfItems) / dimensionToExtent) * dimensionToExtent;\n\t\tthis.curDataSize = dataSize;\n\n\t\t// reset children\n\t\tthis.cc = [];\n\t\tthis.itemPositions = []; // For individually sized item\n\t\tthis.calculateScrollBounds(props);\n\t\tthis.updateMoreInfo(dataSize, scrollPosition);\n\n\t\tif (!(updateStatesAndBounds && updateStatesAndBounds({\n\t\t\tcbScrollTo: props.cbScrollTo,\n\t\t\tnumOfItems,\n\t\t\tdataSize,\n\t\t\tmoreInfo\n\t\t}))) {\n\t\t\tnewFirstIndex = this.calculateFirstIndex(props, wasFirstIndexMax, dataSizeDiff, firstIndex);\n\t\t}\n\n\t\treturn {\n\t\t\tfirstIndex: Math.min(newFirstIndex, this.maxFirstIndex),\n\t\t\tnumOfItems: numOfItems\n\t\t};\n\t};\n\n\tcalculateFirstIndex (props, wasFirstIndexMax, dataSizeDiff, firstIndex) {\n\t\tconst\n\t\t\t{overhang} = props,\n\t\t\t{dimensionToExtent, isPrimaryDirectionVertical, maxFirstIndex, primary, scrollBounds, scrollPosition, threshold} = this,\n\t\t\t{gridSize} = primary;\n\t\tlet newFirstIndex = firstIndex;\n\n\t\tif (wasFirstIndexMax && dataSizeDiff > 0) { // If dataSize increased from bottom, we need adjust firstIndex\n\t\t\t// If this is a gridlist and dataSizeDiff is smaller than 1 line, we are adjusting firstIndex without threshold change.\n\t\t\tif (dimensionToExtent > 1 && dataSizeDiff < dimensionToExtent) {\n\t\t\t\tnewFirstIndex = maxFirstIndex;\n\t\t\t} else { // For other bottom adding case, we need to update firstIndex and threshold.\n\t\t\t\tconst\n\t\t\t\t\tmaxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft,\n\t\t\t\t\tmaxOfMin = maxPos - threshold.base,\n\t\t\t\t\tnumOfUpperLine = Math.floor(overhang / 2),\n\t\t\t\t\tfirstIndexFromPosition = Math.floor(scrollPosition / gridSize),\n\t\t\t\t\texpectedFirstIndex = Math.max(0, firstIndexFromPosition - numOfUpperLine);\n\n\t\t\t\t// To navigate with 5way, we need to adjust firstIndex to the next line\n\t\t\t\t// since at the bottom we have num of overhang lines for upper side but none for bottom side\n\t\t\t\t// So we add numOfUpperLine at the top and rest lines at the bottom\n\t\t\t\tnewFirstIndex = Math.min(maxFirstIndex, expectedFirstIndex * dimensionToExtent);\n\n\t\t\t\t// We need to update threshold also since we moved the firstIndex\n\t\t\t\tthreshold.max = Math.min(maxPos, threshold.max + gridSize);\n\t\t\t\tthreshold.min = Math.min(maxOfMin, threshold.max - gridSize);\n\t\t\t}\n\t\t} else { // Other cases, we can keep the min value between firstIndex and maxFirstIndex. No need to change threshold\n\t\t\tnewFirstIndex = Math.min(firstIndex, maxFirstIndex);\n\t\t}\n\n\t\treturn newFirstIndex;\n\t}\n\n\tcalculateScrollBounds (props) {\n\t\tconst\n\t\t\t{clientSize} = props,\n\t\t\tnode = this.props.scrollContentRef.current;\n\n\t\tif (!clientSize && !node) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst\n\t\t\t{scrollBounds, isPrimaryDirectionVertical} = this,\n\t\t\t{clientWidth, clientHeight} = clientSize || this.getClientSize(node);\n\t\tlet maxPos;\n\n\t\tscrollBounds.clientWidth = clientWidth;\n\t\tscrollBounds.clientHeight = clientHeight;\n\t\tscrollBounds.scrollWidth = this.getScrollWidth();\n\t\tscrollBounds.scrollHeight = this.getScrollHeight();\n\t\tscrollBounds.maxLeft = Math.max(0, scrollBounds.scrollWidth - clientWidth);\n\t\tscrollBounds.maxTop = Math.max(0, scrollBounds.scrollHeight - clientHeight);\n\n\t\t// correct position\n\t\tmaxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft;\n\n\t\tthis.syncThreshold(maxPos);\n\t}\n\n\tsetContainerSize = () => {\n\t\tif (this.contentRef.current) {\n\t\t\tthis.contentRef.current.style.width = this.scrollBounds.scrollWidth + (this.isPrimaryDirectionVertical ? -1 : 0) + 'px';\n\t\t\tthis.contentRef.current.style.height = this.scrollBounds.scrollHeight + (this.isPrimaryDirectionVertical ? 0 : -1) + 'px';\n\t\t}\n\t};\n\n\tupdateMoreInfo (dataSize, primaryPosition) {\n\t\tconst\n\t\t\t{dimensionToExtent, moreInfo} = this,\n\t\t\t{itemSize, gridSize, clientSize} = this.primary;\n\n\t\tif (dataSize <= 0) {\n\t\t\tmoreInfo.firstVisibleIndex = null;\n\t\t\tmoreInfo.lastVisibleIndex = null;\n\t\t} else if (this.props.itemSizes) {\n\t\t\tconst {firstIndex, numOfItems} = this.state;\n\t\t\tconst {isPrimaryDirectionVertical, scrollBounds: {clientWidth, clientHeight}, scrollPosition} = this;\n\t\t\tconst size = isPrimaryDirectionVertical ? clientHeight : clientWidth;\n\n\t\t\tlet firstVisibleIndex = null, lastVisibleIndex = null;\n\n\t\t\tfor (let i = firstIndex; i < firstIndex +  numOfItems; i++) {\n\t\t\t\tif (scrollPosition <= this.getItemBottomPosition(i)) {\n\t\t\t\t\tfirstVisibleIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (let i = firstIndex + numOfItems - 1; i >= firstIndex; i--) {\n\t\t\t\tif (scrollPosition + size >= this.getItemBottomPosition(i) - this.props.itemSizes[i]) {\n\t\t\t\t\tlastVisibleIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (firstVisibleIndex > lastVisibleIndex) {\n\t\t\t\tfirstVisibleIndex = null;\n\t\t\t\tlastVisibleIndex = null;\n\t\t\t}\n\n\t\t\tmoreInfo.firstVisibleIndex = firstVisibleIndex;\n\t\t\tmoreInfo.lastVisibleIndex = lastVisibleIndex;\n\t\t} else {\n\t\t\tmoreInfo.firstVisibleIndex = (Math.floor((primaryPosition - itemSize) / gridSize) + 1) * dimensionToExtent;\n\t\t\tmoreInfo.lastVisibleIndex = Math.min(dataSize - 1, Math.ceil((primaryPosition + clientSize) / gridSize) * dimensionToExtent - 1);\n\t\t}\n\t}\n\n\tsyncThreshold (maxPos) {\n\t\tconst {threshold} = this;\n\n\t\tif (threshold.max > maxPos) {\n\t\t\tif (maxPos < threshold.base) {\n\t\t\t\tthreshold.max = threshold.base;\n\t\t\t\tthreshold.min = -Infinity;\n\t\t\t} else {\n\t\t\t\tthreshold.max = maxPos;\n\t\t\t\tthreshold.min = maxPos - threshold.base;\n\t\t\t}\n\t\t}\n\t}\n\n\t// scrollMode 'native' only\n\tscrollToPosition (x, y, rtl = this.props.rtl) {\n\t\tif (this.props.scrollContentRef.current && this.props.scrollContentRef.current.scrollTo) {\n\t\t\tif (rtl) {\n\t\t\t\tx = (platform.ios || platform.safari) ? -x : this.scrollBounds.maxLeft - x;\n\t\t\t}\n\n\t\t\tthis.props.scrollContentRef.current.scrollTo(x, y);\n\t\t}\n\t}\n\n\t// scrollMode 'native' only\n\tsetScrollToPositionTarget (x, y) {\n\t\tif (this.isPrimaryDirectionVertical) {\n\t\t\tthis.scrollToPositionTarget = y;\n\t\t} else {\n\t\t\tthis.scrollToPositionTarget = x;\n\t\t}\n\t}\n\n\t// scrollMode 'translate' only\n\tsetScrollPositionTarget (x, y) {\n\t\t// The `x`, `y` as parameters in scrollToPosition() are the position when stopping scrolling.\n\t\t// But the `x`, `y` as parameters in setScrollPosition() are the position between current position and the position stopping scrolling.\n\t\t// To know the position when stopping scrolling properly, `x` and `y` are passed and cached in `this.scrollPositionTarget`.\n\t\tif (this.isPrimaryDirectionVertical) {\n\t\t\tthis.scrollPositionTarget = y;\n\t\t} else {\n\t\t\tthis.scrollPositionTarget = x;\n\t\t}\n\t}\n\n\t// scrollMode 'translate' only\n\tsetScrollPosition (x, y, rtl = this.props.rtl) {\n\t\tif (this.contentRef.current) {\n\t\t\tthis.contentRef.current.style.transform = `translate3d(${rtl ? x : -x}px, -${y}px, 0)`;\n\t\t\tthis.didScroll(x, y);\n\t\t}\n\t}\n\n\tdidScroll (x, y) {\n\t\tconst\n\t\t\t{dataSize, spacing, itemSizes} = this.props,\n\t\t\t{firstIndex} = this.state,\n\t\t\t{isPrimaryDirectionVertical, threshold, dimensionToExtent, maxFirstIndex, scrollBounds, itemPositions} = this,\n\t\t\t{clientSize, gridSize} = this.primary,\n\t\t\tmaxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft;\n\t\tlet newFirstIndex = firstIndex, index, pos, size, itemPosition;\n\n\t\tif (isPrimaryDirectionVertical) {\n\t\t\tpos = y;\n\t\t} else {\n\t\t\tpos = x;\n\t\t}\n\n\t\tif (pos > threshold.max || pos < threshold.min) {\n\t\t\tlet newThresholdMin = -Infinity, newThresholdMax = Infinity;\n\n\t\t\tif (this.props.itemSizes) {\n\t\t\t\tconst overhangBefore = Math.floor(this.props.overhang / 2);\n\t\t\t\tlet firstRenderedIndex = -1;\n\n\t\t\t\t// find an item which is known as placed the first rendered item's position\n\t\t\t\tfor (index = 0; index < dataSize; index += dimensionToExtent) {\n\t\t\t\t\titemPosition = itemPositions[index];\n\t\t\t\t\tsize = itemSizes[index];\n\t\t\t\t\tif (itemPosition && size && itemPosition.position + size >= pos && itemPosition.position <= pos + clientSize) {\n\t\t\t\t\t\tfirstRenderedIndex = index;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// found an item which is visible within a current viewport\n\t\t\t\tif (index < dataSize) {\n\t\t\t\t\tif (itemPosition.position <= pos) {\n\t\t\t\t\t\tnewFirstIndex = firstRenderedIndex - overhangBefore * dimensionToExtent;\n\t\t\t\t\t\tnewThresholdMin = itemPosition.position;\n\t\t\t\t\t\tnewThresholdMax = newThresholdMin + size + spacing;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst diffToFirstIndex = Math.ceil((itemPosition.position - pos) / gridSize);\n\t\t\t\t\t\tnewFirstIndex = firstRenderedIndex - (diffToFirstIndex + overhangBefore) * dimensionToExtent;\n\t\t\t\t\t\tnewThresholdMin = itemPosition.position - diffToFirstIndex * gridSize;\n\t\t\t\t\t\tnewThresholdMax = newThresholdMin + gridSize;\n\t\t\t\t\t}\n\t\t\t\t} else { // calculate the first index based on assuming that all items have minimal size\n\t\t\t\t\tconst firstExtent = Math.max(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\tMath.floor(maxFirstIndex / dimensionToExtent),\n\t\t\t\t\t\t\tMath.floor((pos - gridSize * overhangBefore) / gridSize)\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\n\t\t\t\t\tnewFirstIndex = firstExtent * dimensionToExtent;\n\t\t\t\t\tnewThresholdMin = (firstExtent + overhangBefore) * gridSize;\n\t\t\t\t\tnewThresholdMax = newThresholdMin + gridSize;\n\t\t\t\t}\n\n\t\t\t\tnewFirstIndex = Math.max(0, Math.min(maxFirstIndex, newFirstIndex));\n\t\t\t} else {\n\t\t\t\tconst\n\t\t\t\t\toverhangBefore = Math.floor(this.props.overhang / 2),\n\t\t\t\t\tfirstExtent = Math.max(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\tMath.floor(maxFirstIndex / dimensionToExtent),\n\t\t\t\t\t\t\tMath.floor((pos - gridSize * overhangBefore) / gridSize)\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\n\t\t\t\tnewFirstIndex = firstExtent * dimensionToExtent;\n\t\t\t\tnewThresholdMin = (firstExtent + overhangBefore) * gridSize;\n\t\t\t\tnewThresholdMax = newThresholdMin + gridSize;\n\t\t\t}\n\n\t\t\tthreshold.min = newFirstIndex === 0 ? -Infinity : newThresholdMin;\n\t\t\tthreshold.max = newFirstIndex === maxFirstIndex ? Infinity : newThresholdMax;\n\t\t}\n\n\t\tthis.syncThreshold(maxPos);\n\t\tthis.scrollPosition = pos;\n\t\tthis.updateMoreInfo(dataSize, pos);\n\n\t\tif (this.shouldUpdateBounds || firstIndex !== newFirstIndex) {\n\t\t\tthis.setState({firstIndex: newFirstIndex});\n\t\t}\n\t}\n\n\t// For individually sized item\n\tcalculateAndCacheItemPosition (index) {\n\t\tconst {itemSizes} = this.props;\n\n\t\tif (!this.itemPositions[index] && itemSizes[index]) {\n\t\t\tconst\n\t\t\t\t{spacing} = this.props,\n\t\t\t\tposition = this.getItemTopPositionFromPreviousItemBottomPosition(index, spacing);\n\n\t\t\tthis.itemPositions[index] = {position};\n\t\t}\n\t}\n\n\t// For individually sized item\n\tapplyItemPositionToDOMElement (index) {\n\t\tconst\n\t\t\t{direction, rtl} = this.props,\n\t\t\t{numOfItems} = this.state,\n\t\t\t{itemPositions} = this,\n\t\t\tchildNode = this.itemContainerRefs[index % numOfItems];\n\n\t\tif (childNode && itemPositions[index]) {\n\t\t\tconst position = itemPositions[index].position;\n\t\t\tif (direction === 'vertical') {\n\t\t\t\tchildNode.style.transform = `translate3d(0, ${position}px, 0)`;\n\t\t\t} else {\n\t\t\t\tchildNode.style.transform = `translate3d(${position * (rtl ? -1 : 1)}px, 0, 0)`;\n\t\t\t}\n\t\t}\n\t}\n\n\t// For individually sized item\n\tupdateThresholdWithItemPosition () {\n\t\tconst\n\t\t\t{overhang} = this.props,\n\t\t\t{firstIndex} = this.state,\n\t\t\t{maxFirstIndex} = this,\n\t\t\tnumOfUpperLine = Math.floor(overhang / 2);\n\n\t\tthis.threshold.min = firstIndex === 0 ? -Infinity : this.getItemBottomPosition(firstIndex + numOfUpperLine);\n\t\tthis.threshold.max = firstIndex === maxFirstIndex ? Infinity : this.getItemBottomPosition(firstIndex + (numOfUpperLine + 1));\n\t}\n\n\t// For individually sized item\n\tupdateScrollBoundsWithItemPositions () {\n\t\tconst\n\t\t\t{dataSize, itemSizes, spacing} = this.props,\n\t\t\t{firstIndex, numOfItems} = this.state,\n\t\t\t{isPrimaryDirectionVertical, itemPositions} = this,\n\t\t\tscrollBoundsDimension = isPrimaryDirectionVertical ? 'scrollHeight' : 'scrollWidth';\n\n\t\tif (itemPositions.length === dataSize) { // all item sizes are known\n\t\t\tthis.scrollBounds[scrollBoundsDimension] =\n\t\t\t\titemSizes.reduce((acc, cur) => acc + cur, 0) + (dataSize - 1) * spacing;\n\t\t} else {\n\t\t\tfor (let index = firstIndex + numOfItems - 1; index < dataSize; index++) {\n\t\t\t\tconst nextInfo = itemPositions[index + 1];\n\t\t\t\tif (!nextInfo) {\n\t\t\t\t\tconst endPosition = this.getItemBottomPosition(index);\n\t\t\t\t\tif (endPosition > this.scrollBounds[scrollBoundsDimension]) {\n\t\t\t\t\t\tthis.scrollBounds[scrollBoundsDimension] = endPosition;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.scrollBounds.maxTop = Math.max(0, this.scrollBounds.scrollHeight - this.scrollBounds.clientHeight);\n\t}\n\n\t// For individually sized item\n\tadjustItemPositionWithItemSize () {\n\t\tif (this.cc.length) {\n\t\t\tconst\n\t\t\t\t{dataSize} = this.props,\n\t\t\t\t{firstIndex, numOfItems} = this.state,\n\t\t\t\tlastIndex = firstIndex + numOfItems - 1;\n\n\t\t\t// Cache individually sized item positions\n\t\t\t// and adjust item DOM element positions\n\t\t\tfor (let index = firstIndex; index <= lastIndex; index++) {\n\t\t\t\tthis.calculateAndCacheItemPosition(index);\n\t\t\t\tthis.applyItemPositionToDOMElement(index);\n\t\t\t}\n\n\t\t\t// Update threshold based on this.itemPositions\n\t\t\tthis.updateThresholdWithItemPosition();\n\n\t\t\t// Update scroll bounds based on this.itemPositions\n\t\t\tthis.updateScrollBoundsWithItemPositions();\n\n\t\t\t// Set container size based on this.scrollbounds\n\t\t\tthis.setContainerSize();\n\n\t\t\t// Update moreInfo based on this.itemPositions\n\t\t\tthis.updateMoreInfo(dataSize, this.scrollPosition);\n\t\t}\n\t}\n\n\tcomposeStyle (width, height, primaryPosition, secondaryPosition) {\n\t\tconst\n\t\t\t{x, y} = this.getXY(primaryPosition, secondaryPosition),\n\t\t\tstyle = {\n\t\t\t\t/* FIXME: RTL / this calculation only works for Chrome */\n\t\t\t\ttransform: `translate3d(${this.props.rtl ? -x : x}px, ${y}px, 0)`\n\t\t\t};\n\n\t\tif (this.isItemSized) {\n\t\t\tstyle.width = width;\n\t\t\tstyle.height = height;\n\t\t}\n\n\t\treturn style;\n\t}\n\n\tapplyStyleToNewNode = (index, ...rest) => {\n\t\tconst\n\t\t\t{childProps, itemRefs, itemRenderer, getComponentProps} = this.props,\n\t\t\tkey = index % this.state.numOfItems,\n\t\t\tcomponentProps = getComponentProps && getComponentProps(index) || {},\n\t\t\titemContainerRef = (ref) => {\n\t\t\t\tif (ref === null) {\n\t\t\t\t\titemRefs.current[key] = ref;\n\t\t\t\t} else {\n\t\t\t\t\tconst itemNode = ref.children[0];\n\n\t\t\t\t\titemRefs.current[key] = (parseInt(itemNode.dataset.index) === index) ?\n\t\t\t\t\t\titemNode :\n\t\t\t\t\t\tref.querySelector(`[data-index=\"${index}\"]`);\n\n\t\t\t\t\tthis.itemContainerRefs[key] = ref;\n\t\t\t\t}\n\t\t\t};\n\n\t\tthis.cc[key] = (\n\t\t\t<div className={css.listItem} key={key} ref={itemContainerRef} style={this.composeStyle(...rest)}>\n\t\t\t\t{itemRenderer({...childProps, ...componentProps, index})}\n\t\t\t</div>\n\t\t);\n\t};\n\n\tapplyStyleToHideNode = (index) => {\n\t\tconst\n\t\t\t{itemRefs} = this.props,\n\t\t\tkey = index % this.state.numOfItems,\n\t\t\titemContainerRef = () => (itemRefs.current[key] = null);\n\n\t\tthis.cc[key] = <div key={key} ref={itemContainerRef} style={{display: 'none'}} />;\n\t};\n\n\tpositionItems () {\n\t\tconst\n\t\t\t{dataSize, itemSizes} = this.props,\n\t\t\t{firstIndex, numOfItems} = this.state,\n\t\t\t{cc, isPrimaryDirectionVertical, dimensionToExtent, primary, secondary, itemPositions} = this;\n\t\tlet\n\t\t\thideTo = 0,\n\t\t\tupdateFrom = cc.length ? this.state.updateFrom : firstIndex,\n\t\t\tupdateTo = cc.length ? this.state.updateTo : firstIndex + numOfItems;\n\n\t\tif (updateFrom >= updateTo) {\n\t\t\treturn;\n\t\t} else if (updateTo > dataSize) {\n\t\t\thideTo = updateTo;\n\t\t\tupdateTo = dataSize;\n\t\t}\n\n\t\tlet\n\t\t\twidth, height,\n\t\t\t{primaryPosition, secondaryPosition} = this.getGridPosition(updateFrom);\n\n\t\twidth = (isPrimaryDirectionVertical ? secondary.itemSize : primary.itemSize) + 'px';\n\t\theight = (isPrimaryDirectionVertical ? primary.itemSize : secondary.itemSize) + 'px';\n\n\t\t// positioning items\n\t\tfor (let i = updateFrom, j = updateFrom % dimensionToExtent; i < updateTo; i++) {\n\t\t\tthis.applyStyleToNewNode(i, width, height, primaryPosition, secondaryPosition);\n\n\t\t\tif (++j === dimensionToExtent) {\n\t\t\t\tsecondaryPosition = 0;\n\n\t\t\t\tif (this.props.itemSizes) {\n\t\t\t\t\tif (itemPositions[i + 1] || itemPositions[i + 1] === 0) {\n\t\t\t\t\t\tprimaryPosition = itemPositions[i + 1].position;\n\t\t\t\t\t} else if (itemSizes[i]) {\n\t\t\t\t\t\tprimaryPosition += itemSizes[i] + this.props.spacing;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprimaryPosition += primary.gridSize;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tprimaryPosition += primary.gridSize;\n\t\t\t\t}\n\n\t\t\t\tj = 0;\n\t\t\t} else {\n\t\t\t\tsecondaryPosition += secondary.gridSize;\n\t\t\t}\n\t\t}\n\n\t\tfor (let i = updateTo; i < hideTo; i++) {\n\t\t\tthis.applyStyleToHideNode(i);\n\t\t}\n\t}\n\n\tgetScrollHeight = () => (this.isPrimaryDirectionVertical ? this.getVirtualScrollDimension() + this.props.getAffordance() : this.scrollBounds.clientHeight);\n\n\tgetScrollWidth = () => (this.isPrimaryDirectionVertical ? this.scrollBounds.clientWidth : this.getVirtualScrollDimension());\n\n\tgetVirtualScrollDimension = () => {\n\t\tif (this.props.itemSizes) {\n\t\t\treturn this.props.itemSizes.reduce((total, size, index) => (total + size + (index > 0 ? this.props.spacing : 0)), 0);\n\t\t} else {\n\t\t\tconst\n\t\t\t\t{dimensionToExtent, primary, curDataSize} = this,\n\t\t\t\t{spacing} = this.props;\n\n\t\t\treturn (Math.ceil(curDataSize / dimensionToExtent) * primary.gridSize) - spacing;\n\t\t}\n\t};\n\n\tsyncClientSize = () => {\n\t\tconst\n\t\t\t{props} = this,\n\t\t\tnode = this.props.scrollContentRef.current;\n\n\t\tif (!props.clientSize && !node) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst\n\t\t\t{clientWidth, clientHeight} = props.clientSize || this.getClientSize(node),\n\t\t\t{scrollBounds} = this;\n\n\t\tif (clientWidth !== scrollBounds.clientWidth || clientHeight !== scrollBounds.clientHeight) {\n\t\t\tthis.calculateMetrics(props);\n\t\t\tthis.setState(this.getStatesAndUpdateBounds(props));\n\t\t\tthis.setContainerSize();\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\t// render\n\n\trender () {\n\t\tconst\n\t\t\t{className, 'data-webos-voice-focused': voiceFocused, 'data-webos-voice-group-label': voiceGroupLabel, 'data-webos-voice-disabled': voiceDisabled, placeholderRenderer, role, style, scrollMode, ...rest} = this.props,\n\t\t\t{cc, isPrimaryDirectionVertical, primary} = this,\n\t\t\tscrollModeNative = scrollMode === 'native',\n\t\t\tcontainerClasses = classNames(\n\t\t\t\tcss.virtualList,\n\t\t\t\tisPrimaryDirectionVertical ? css.vertical : css.horizontal,\n\t\t\t\t{[css.native]: scrollModeNative},\n\t\t\t\tclassName\n\t\t\t),\n\t\t\tcontentClasses = scrollModeNative ? null : css.content;\n\n\t\tdelete rest.cbScrollTo;\n\t\tdelete rest.childProps;\n\t\tdelete rest.clientSize;\n\t\tdelete rest.dataSize;\n\t\tdelete rest.direction;\n\t\tdelete rest.getAffordance;\n\t\tdelete rest.getComponentProps;\n\t\tdelete rest.isHorizontalScrollbarVisible;\n\t\tdelete rest.isVerticalScrollbarVisible;\n\t\tdelete rest.itemRefs;\n\t\tdelete rest.itemRenderer;\n\t\tdelete rest.itemSize;\n\t\tdelete rest.itemSizes;\n\t\tdelete rest.onUpdate;\n\t\tdelete rest.onUpdateItems;\n\t\tdelete rest.overhang;\n\t\tdelete rest.pageScroll;\n\t\tdelete rest.rtl;\n\t\tdelete rest.scrollContainerContainsDangerously;\n\t\tdelete rest.scrollContentRef;\n\t\tdelete rest.scrollMode;\n\t\tdelete rest.setThemeScrollContentHandle;\n\t\tdelete rest.spacing;\n\t\tdelete rest.updateStatesAndBounds;\n\n\t\tif (primary) {\n\t\t\tthis.positionItems();\n\t\t}\n\n\t\treturn (\n\t\t\t<div className={containerClasses} data-webos-voice-focused={voiceFocused} data-webos-voice-group-label={voiceGroupLabel} data-webos-voice-disabled={voiceDisabled} ref={this.props.scrollContentRef} style={style}>\n\t\t\t\t<div {...rest} className={contentClasses} ref={this.contentRef} role={role}>\n\t\t\t\t\t{[...cc, placeholderRenderer && placeholderRenderer(primary)]}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default VirtualListBasic;\nexport {\n\tgridListItemSizeShape,\n\titemSizesShape,\n\tVirtualListBasic\n};\n","/**\n * Unstyled virtual list components and behaviors to be customized by a theme or application.\n *\n * @module ui/VirtualList\n * @exports gridListImageSizeShape\n * @exports itemSizesShape\n * @exports VirtualGridList\n * @exports VirtualList\n * @exports VirtualListBase\n * @exports VirtualListBasic\n */\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {ResizeContext} from '../Resizable';\nimport useScroll from '../useScroll';\nimport Scrollbar from '../useScroll/Scrollbar';\n\nimport {UiVirtualListBase, UiVirtualListBaseNative} from './UiVirtualListBase';\nimport {gridListItemSizeShape, itemSizesShape, VirtualListBasic} from './VirtualListBasic';\n\nconst nop = () => {};\n\n/**\n * An unstyled scrollable virtual list component with touch support.\n *\n * @class VirtualList\n * @memberof ui/VirtualList\n * @extends ui/VirtualList.VirtualListBasic\n * @ui\n * @public\n */\nconst VirtualList = (props) => {\n\t// Hooks\n\n\tconst {\n\t\tscrollContentHandle,\n\t\tscrollContentWrapper: ScrollContentWrapper,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible,\n\n\t\tresizeContextProps,\n\t\tscrollContainerProps,\n\t\tscrollInnerContainerProps,\n\t\tscrollContentWrapperProps,\n\t\tscrollContentProps,\n\t\tverticalScrollbarProps,\n\t\thorizontalScrollbarProps\n\t} = useScroll(props);\n\n\t// Render\n\n\treturn (\n\t\t<ResizeContext.Provider {...resizeContextProps}>\n\t\t\t<div {...scrollContainerProps}>\n\t\t\t\t<div {...scrollInnerContainerProps}>\n\t\t\t\t\t<ScrollContentWrapper {...scrollContentWrapperProps}>\n\t\t\t\t\t\t<VirtualListBasic\n\t\t\t\t\t\t\t{...scrollContentProps}\n\t\t\t\t\t\t\tref={scrollContentHandle}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ScrollContentWrapper>\n\t\t\t\t\t{isVerticalScrollbarVisible ? <Scrollbar {...verticalScrollbarProps} /> : null}\n\t\t\t\t</div>\n\t\t\t\t{isHorizontalScrollbarVisible ? <Scrollbar {...horizontalScrollbarProps} /> : null}\n\t\t\t</div>\n\t\t</ResizeContext.Provider>\n\t);\n};\n\nVirtualList.displayName = 'ui:VirtualList';\n\nVirtualList.propTypes = /** @lends ui/VirtualList.VirtualList.prototype */ {\n\t/**\n\t * A callback function that receives a reference to the `scrollTo` feature.\n\t *\n\t * Once received, the `scrollTo` method can be called as an imperative interface.\n\t *\n\t * The `scrollTo` function accepts the following parameters:\n\t * - {position: {x, y}} - Pixel value for x and/or y position\n\t * - {align} - Where the scroll area should be aligned. Values are:\n\t *   `'left'`, `'right'`, `'top'`, `'bottom'`,\n\t *   `'topleft'`, `'topright'`, `'bottomleft'`, and `'bottomright'`.\n\t * - {index} - Index of specific item. (`0` or positive integer)\n\t *   This option is available for only `VirtualList` kind.\n\t * - {node} - Node to scroll into view\n\t * - {animate} - When `true`, scroll occurs with animation. When `false`, no\n\t *   animation occurs.\n\t * - {focus} - When `true`, attempts to focus item after scroll. Only valid when scrolling\n\t *   by `index` or `node`.\n\t * > Note: Only specify one of: `position`, `align`, `index` or `node`\n\t *\n\t * Example:\n\t * ```\n\t *\t// If you set cbScrollTo prop like below;\n\t *\tcbScrollTo: (fn) => {this.scrollTo = fn;}\n\t *\t// You can simply call like below;\n\t *\tthis.scrollTo({align: 'top'}); // scroll to the top\n\t * ```\n\t *\n\t * @type {Function}\n\t * @public\n\t */\n\tcbScrollTo: PropTypes.func,\n\n\t/**\n\t * The layout direction of the list.\n\t *\n\t * Valid values are:\n\t * * `'horizontal'`, and\n\t * * `'vertical'`.\n\t *\n\t * @type {String}\n\t * @default 'vertical'\n\t * @public\n\t */\n\tdirection: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t/**\n\t * Specifies how to show horizontal scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {String}\n\t * @default 'auto'\n\t * @public\n\t */\n\thorizontalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n\n\t/**\n\t * Prevents scroll by dragging or flicking on the list.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\tnoScrollByDrag: PropTypes.bool,\n\n\t/**\n\t * Prevents scroll by wheeling on the list.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tnoScrollByWheel: PropTypes.bool,\n\n\t/**\n\t * Called when scrolling.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * It is not recommended to set this prop since it can cause performance degradation.\n\t * Use `onScrollStart` or `onScrollStop` instead.\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScroll: PropTypes.func,\n\n\t/**\n\t * Called when scroll starts.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * You can get firstVisibleIndex and lastVisibleIndex from VirtualList with `moreInfo`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStart = ({scrollLeft, scrollTop, moreInfo}) => {\n\t *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n\t *     // do something with firstVisibleIndex and lastVisibleIndex\n\t * }\n\t *\n\t * render = () => (\n\t *     <VirtualList\n\t *         ...\n\t *         onScrollStart={this.onScrollStart}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScrollStart: PropTypes.func,\n\n\t/**\n\t * Called when scroll stops.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * You can get firstVisibleIndex and lastVisibleIndex from VirtualList with `moreInfo`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStop = ({scrollLeft, scrollTop, moreInfo}) => {\n\t *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n\t *     // do something with firstVisibleIndex and lastVisibleIndex\n\t * }\n\t *\n\t * render = () => (\n\t *     <VirtualList\n\t *         ...\n\t *         onScrollStop={this.onScrollStop}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScrollStop: PropTypes.func,\n\n\t/**\n\t * Specifies overscroll effects shows on which type of inputs.\n\t *\n\t * @type {Object}\n\t * @default {drag: false, pageKey: false, wheel: false}\n\t * @private\n\t */\n\toverscrollEffectOn: PropTypes.shape({\n\t\tdrag: PropTypes.bool,\n\t\tpageKey: PropTypes.bool,\n\t\twheel: PropTypes.bool\n\t}),\n\n\t/**\n\t * The ARIA role for the list.\n\t *\n\t * @type {String}\n\t * @default 'list'\n\t * @public\n\t */\n\trole: PropTypes.string,\n\n\t/**\n\t * Specifies how to scroll.\n\t *\n\t * Valid values are:\n\t * * `'translate'`,\n\t * * `'native'`.\n\t *\n\t * @type {String}\n\t * @default 'translate'\n\t * @public\n\t */\n\tscrollMode: PropTypes.string,\n\n\t/**\n\t * Specifies how to show vertical scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {String}\n\t * @default 'auto'\n\t * @public\n\t */\n\tverticalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden'])\n};\n\nVirtualList.defaultProps = {\n\tcbScrollTo: nop,\n\tdirection: 'vertical',\n\thorizontalScrollbar: 'auto',\n\tnoScrollByDrag: false,\n\tnoScrollByWheel: false,\n\tonScroll: nop,\n\tonScrollStart: nop,\n\tonScrollStop: nop,\n\toverscrollEffectOn: {\n\t\tdrag: false,\n\t\tpageKey: false,\n\t\twheel: false\n\t},\n\trole: 'list',\n\tscrollMode: 'translate',\n\tverticalScrollbar: 'auto'\n};\n\n/**\n * An unstyled scrollable virtual grid list component with touch support.\n *\n * @class VirtualGridList\n * @memberof ui/VirtualList\n * @extends ui/VirtualList.VirtualListBasic\n * @ui\n * @public\n */\nconst VirtualGridList = (props) => {\n\tconst {\n\t\tscrollContentHandle,\n\t\tscrollContentWrapper: ScrollContentWrapper,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible,\n\n\t\tresizeContextProps,\n\t\tscrollContainerProps,\n\t\tscrollInnerContainerProps,\n\t\tscrollContentWrapperProps,\n\t\tscrollContentProps,\n\t\tverticalScrollbarProps,\n\t\thorizontalScrollbarProps\n\t} = useScroll(props);\n\n\treturn (\n\t\t<ResizeContext.Provider {...resizeContextProps}>\n\t\t\t<div {...scrollContainerProps}>\n\t\t\t\t<div {...scrollInnerContainerProps}>\n\t\t\t\t\t<ScrollContentWrapper {...scrollContentWrapperProps}>\n\t\t\t\t\t\t<VirtualListBasic\n\t\t\t\t\t\t\t{...scrollContentProps}\n\t\t\t\t\t\t\tref={scrollContentHandle}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ScrollContentWrapper>\n\t\t\t\t\t{isVerticalScrollbarVisible ? <Scrollbar {...verticalScrollbarProps} /> : null}\n\t\t\t\t</div>\n\t\t\t\t{isHorizontalScrollbarVisible ? <Scrollbar {...horizontalScrollbarProps} /> : null}\n\t\t\t</div>\n\t\t</ResizeContext.Provider>\n\t);\n};\n\nVirtualGridList.displayName = 'ui:VirtualGridList';\n\nVirtualGridList.propTypes = /** @lends ui/VirtualList.VirtualGridList.prototype */ {\n\t/**\n\t * A callback function that receives a reference to the `scrollTo` feature.\n\t *\n\t * Once received, the `scrollTo` method can be called as an imperative interface.\n\t *\n\t * The `scrollTo` function accepts the following parameters:\n\t * - {position: {x, y}} - Pixel value for x and/or y position\n\t * - {align} - Where the scroll area should be aligned. Values are:\n\t *   `'left'`, `'right'`, `'top'`, `'bottom'`,\n\t *   `'topleft'`, `'topright'`, `'bottomleft'`, and `'bottomright'`.\n\t * - {index} - Index of specific item. (`0` or positive integer)\n\t *   This option is available for only `VirtualList` kind.\n\t * - {node} - Node to scroll into view\n\t * - {animate} - When `true`, scroll occurs with animation. When `false`, no\n\t *   animation occurs.\n\t * - {focus} - When `true`, attempts to focus item after scroll. Only valid when scrolling\n\t *   by `index` or `node`.\n\t * > Note: Only specify one of: `position`, `align`, `index` or `node`\n\t *\n\t * Example:\n\t * ```\n\t *\t// If you set cbScrollTo prop like below;\n\t *\tcbScrollTo: (fn) => {this.scrollTo = fn;}\n\t *\t// You can simply call like below;\n\t *\tthis.scrollTo({align: 'top'}); // scroll to the top\n\t * ```\n\t *\n\t * @type {Function}\n\t * @public\n\t */\n\tcbScrollTo: PropTypes.func,\n\n\t/**\n\t * The layout direction of the list.\n\t *\n\t * Valid values are:\n\t * * `'horizontal'`, and\n\t * * `'vertical'`.\n\t *\n\t * @type {String}\n\t * @default 'vertical'\n\t * @public\n\t */\n\tdirection: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t/**\n\t * Specifies how to show horizontal scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {String}\n\t * @default 'auto'\n\t * @public\n\t */\n\thorizontalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n\n\t/**\n\t * Prevents scroll by dragging or flicking on the list.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\tnoScrollByDrag: PropTypes.bool,\n\n\t/**\n\t * Prevents scroll by wheeling on the list.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tnoScrollByWheel: PropTypes.bool,\n\n\t/**\n\t * Called when scrolling.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * It is not recommended to set this prop since it can cause performance degradation.\n\t * Use `onScrollStart` or `onScrollStop` instead.\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScroll: PropTypes.func,\n\n\t/**\n\t * Called when scroll starts.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * You can get firstVisibleIndex and lastVisibleIndex from VirtualGridList with `moreInfo`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStart = ({scrollLeft, scrollTop, moreInfo}) => {\n\t *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n\t *     // do something with firstVisibleIndex and lastVisibleIndex\n\t * }\n\t *\n\t * render = () => (\n\t *     <VirtualGridList\n\t *         ...\n\t *         onScrollStart={this.onScrollStart}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScrollStart: PropTypes.func,\n\n\t/**\n\t * Called when scroll stops.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * You can get firstVisibleIndex and lastVisibleIndex from VirtualList with `moreInfo`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStop = ({scrollLeft, scrollTop, moreInfo}) => {\n\t *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n\t *     // do something with firstVisibleIndex and lastVisibleIndex\n\t * }\n\t *\n\t * render = () => (\n\t *     <VirtualGridList\n\t *         ...\n\t *         onScrollStop={this.onScrollStop}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScrollStop: PropTypes.func,\n\n\t/**\n\t * Specifies overscroll effects shows on which type of inputs.\n\t *\n\t * @type {Object}\n\t * @default {drag: false, pageKey: false, wheel: false}\n\t * @private\n\t */\n\toverscrollEffectOn: PropTypes.shape({\n\t\tdrag: PropTypes.bool,\n\t\tpageKey: PropTypes.bool,\n\t\twheel: PropTypes.bool\n\t}),\n\n\t/**\n\t * The ARIA role for the list.\n\t *\n\t * @type {String}\n\t * @default 'list'\n\t * @public\n\t */\n\trole: PropTypes.string,\n\n\t/**\n\t * Specifies how to scroll.\n\t *\n\t * Valid values are:\n\t * * `'translate'`,\n\t * * `'native'`.\n\t *\n\t * @type {String}\n\t * @default 'translate'\n\t * @public\n\t */\n\tscrollMode: PropTypes.string,\n\n\t/**\n\t * Specifies how to show vertical scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {String}\n\t * @default 'auto'\n\t * @public\n\t */\n\tverticalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden'])\n};\n\nVirtualGridList.defaultProps = {\n\tcbScrollTo: nop,\n\tdirection: 'vertical',\n\thorizontalScrollbar: 'auto',\n\tnoScrollByDrag: false,\n\tnoScrollByWheel: false,\n\tonScroll: nop,\n\tonScrollStart: nop,\n\tonScrollStop: nop,\n\toverscrollEffectOn: {\n\t\tdrag: false,\n\t\tpageKey: false,\n\t\twheel: false\n\t},\n\trole: 'list',\n\tscrollMode: 'translate',\n\tverticalScrollbar: 'auto'\n};\n\nexport default VirtualList;\nexport {\n\tgridListItemSizeShape,\n\titemSizesShape,\n\tUiVirtualListBase as VirtualListBase, // to support legacy VirtualListBase\n\tUiVirtualListBaseNative as VirtualListBaseNative, // to support legacy VirtualListBaseNative\n\tVirtualGridList,\n\tVirtualList,\n\tVirtualListBasic\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scrollFill\":\"useScroll_scrollFill__3sWM5\",\"scroll\":\"useScroll_scroll__1hjH-\",\"scrollInnerContainer\":\"useScroll_scrollInnerContainer__2cjfl\",\"scrollContentWrapper\":\"useScroll_scrollContentWrapper__3y4Yr\",\"scrollContentWrapperNative\":\"useScroll_scrollContentWrapperNative__2gw3E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"picker\":\"Picker_picker__UUvjv\",\"horizontal\":\"Picker_horizontal__Dj--W\",\"label\":\"Picker_label__3t76Q\",\"item\":\"Picker_item__3x94p\",\"itemDecrement\":\"Picker_itemDecrement__2DM0p\",\"itemIncrement\":\"Picker_itemIncrement__1r4Cn\",\"active\":\"Picker_active__1Heyq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"virtualList\":\"VirtualList_virtualList__27okt\",\"content\":\"VirtualList_content__2N_2e\",\"vertical\":\"VirtualList_vertical__2m96z\",\"native\":\"VirtualList_native__2Aj3i\",\"listItem\":\"VirtualList_listItem__3onfo\",\"horizontal\":\"VirtualList_horizontal__1ehoY\"};","import curry from 'ramda/src/curry';\n\n/*\n * The singleton map of names to keyCodes. If a name doesn't have any keyCodes mapped to it, it will\n * not exist in this map. If it does, its value will be an array of its keyCodes.\n *\n * @type {Object}\n * @private\n */\nconst map = {};\n\n/*\n * Safely converts keymap name to lowercase.\n *\n * @function\n * @param   {String} name  Name for keyCode\n *\n * @returns {String}       Name for keyCode in lowercase\n * @memberof core/keymap\n * @private\n */\nconst toLowerCase = (name) => name ? name.toLowerCase() : '';\n\n/*\n * Iterates over `set` and invokes `fn` with the key and value of each item.\n *\n * @function\n * @param   {Function}  fn   Function to invoke\n * @param   {Object}    set  A map of names to keyCodes\n *\n * @returns {undefined}\n * @memberof core/keymap\n * @private\n */\nconst forEachObj = curry(function (fn, set) {\n\tObject.keys(set).forEach(name => fn(name, set[name]));\n});\n\n/*\n * Invokes `fn` with `name` and `keyCode` for each key code provided.\n *\n * @function\n * @param   {Function}        fn       Function to invoke\n * @param   {String}          name     Name for the key codes\n * @param   {Number|Number[]} keyCode  A key code or array of key codes\n *\n * @returns {undefined}\n * @curried\n * @memberof core/keymap\n * @private\n */\nconst oneOrArray = curry(function (fn, name, keyCode) {\n\tif (Array.isArray(keyCode)) {\n\t\tkeyCode.forEach(fn(name));\n\t} else {\n\t\tfn(name, keyCode);\n\t}\n});\n\n/*\n * Adds `keyCode` to `name`.\n *\n * @function\n * @param   {String}    name     Name for the key code\n * @param   {Number}    keyCode  A key code\n *\n * @returns {undefined}\n * @curried\n * @memberof core/keymap\n * @private\n */\nconst addOne = curry(function (name, keyCode) {\n\tname = toLowerCase(name);\n\tif (name in map) {\n\t\tconst index = map[name].indexOf(keyCode);\n\t\tif (index === -1) {\n\t\t\tmap[name].push(keyCode);\n\t\t}\n\t} else if (name) {\n\t\tmap[name] = [keyCode];\n\t}\n});\n\n/*\n * Removes `keyCode` from `name`.\n *\n * @function\n * @param   {String}    name     Name for the key code\n * @param   {Number}    keyCode  A key code\n *\n * @returns {undefined}\n * @curried\n * @memberof core/keymap\n * @private\n */\nconst removeOne = curry(function (name, keyCode) {\n\tname = toLowerCase(name);\n\tif (name in map) {\n\t\tconst keys = map[name];\n\t\tconst index = keys.indexOf(keyCode);\n\t\tif (index === -1) {\n\t\t\tdelete map[name];\n\t\t} else {\n\t\t\tkeys.splice(index, 1);\n\t\t}\n\t}\n});\n\n/**\n * Registers `keyCode` for `name`.\n *\n * @function add\n * @param   {String}          name     Name for the key code\n * @param   {Number|Number[]} keyCode  A key code or array of key codes\n *\n * @returns {undefined}\n * @curried\n * @memberof core/keymap\n * @public\n */\nconst add = oneOrArray(addOne);\n\n/**\n * Registers a set of key codes.\n *\n * @function addAll\n * @param   {Object<String,Number|Number[]>}    set  A map of names to keyCodes\n *\n * @returns {undefined}\n * @curried\n * @memberof core/keymap\n * @public\n */\nconst addAll = forEachObj(add);\n\n/**\n * Unregisters `keyCode` from `name`.\n *\n * @function remove\n * @param   {String}          name     Name for the key code\n * @param   {Number|Number[]} keyCode  A key code or array of key codes\n *\n * @returns {undefined}\n * @curried\n * @memberof core/keymap\n * @public\n */\nconst remove = oneOrArray(removeOne);\n\n/**\n * Unregisters a set of key codes.\n *\n * @function removeAll\n * @param   {Object}    set  A map of names to keyCodes\n *\n * @returns {undefined}\n * @curried\n * @memberof core/keymap\n * @public\n */\nconst removeAll = forEachObj(remove);\n\n/**\n * Determines if `keyCode` is mapped to `name`.\n *\n * @function is\n * @param   {String}    name     Name for the key code\n * @param   {Number}    keyCode  A key code\n *\n * @returns {Boolean}            `true` if `keyCode` is mapped to `name`\n * @curried\n * @memberof core/keymap\n * @public\n */\nconst is = curry(function (name, keyCode) {\n\tname = toLowerCase(name);\n\treturn name in map && map[name].indexOf(keyCode) >= 0;\n});\n\nexport {\n\tadd,\n\taddAll,\n\tis,\n\tremove,\n\tremoveAll\n};\n","/**\n * Manages a map of names to key codes to simplify event handlers\n *\n * Example:\n * ```\n * import {add, is} from '@enact/core/keymap';\n *\n * add('enter', 13);\n * const isEnter = is('enter');\n *\n * // within event handler\n * if (isEnter(ev.keyCode)) {\n *   // handle enter\n * }\n * ```\n *\n * @module core/keymap\n * @exports add\n * @exports addAll\n * @exports is\n * @exports remove\n * @exports removeAll\n */\n\n// keymap uses a singleton object, map, to manage the keymap. since webpack may make multiple copies\n// of the module available if the import path is different, we ensure a consistent import path for\n// the singleton instance by facading it with this module.\n\nimport {addAll} from './keymap';\n\n// Add the default 5-way navigation key codes\naddAll({\n\tenter: [13, 16777221],\n\tleft: 37,\n\tup: 38,\n\tright: 39,\n\tdown: 40,\n\tpageUp: 33,\n\tpageDown: 34\n});\n\nexport * from './keymap';\n","import CaseMapper from 'ilib/lib/CaseMapper';\n\nlet toLowerCaseMapper, toUpperCaseMapper;\n\n/**\n * Set CaseMapper object references to ilib's current locale (its most recently set, by default)\n *\n * @returns {undefined}\n */\nfunction initCaseMappers () {\n\ttoLowerCaseMapper = new CaseMapper({direction: 'tolower'});\n\ttoUpperCaseMapper = new CaseMapper({direction: 'toupper'});\n}\n\n/**\n * Locale-safely convert a string to lower case.\n *\n * @function\n * @param {String} inString String to convert to lower case\n * @returns {String} Lower-cased string\n */\nconst toLowerCase = function (inString) {\n\tif (inString != null) {\n\t\treturn toLowerCaseMapper.map(inString.toString());\n\t}\n\treturn inString;\n};\n\n/**\n * Locale-safely convert a string to upper case.\n *\n * @function\n * @param {String} inString String to convert to upper case\n * @returns {String} Upper-cased string\n */\nconst toUpperCase = function (inString) {\n\tif (inString != null) {\n\t\treturn toUpperCaseMapper.map(inString.toString());\n\t}\n\treturn inString;\n};\n\nexport {\n\tinitCaseMappers,\n\ttoLowerCase,\n\ttoUpperCase\n};\n","/**\n * An unstyled icon component to be customized by a theme or application.\n *\n * @module ui/Icon\n * @exports Icon\n */\n\nimport kind from '@enact/core/kind';\nimport {cap} from '@enact/core/util';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ri from '../resolution';\n\nimport componentCss from './Icon.module.less';\n\n/**\n * Merges consumer styles with the image `src` resolved through the resolution independence module.\n *\n * @function\n * @param\t{Object}\t\tstyle\tStyle object\n * @param\t{String|Object}\tsrc\t\tURI to image or object of URIs\n *\n * @returns\t{Object}\t\t\t\tOriginal style object with backgroundImage updated\n * @private\n */\nconst mergeStyle = function (style, src) {\n\tlet updated = Object.assign({}, style);\n\tlet source = ri.selectSrc(src);\n\tif (src && src !== 'none' && src !== 'inherit' && src !== 'initial') {\n\t\tsource = `url(${source})`;\n\t}\n\n\tupdated.backgroundImage = source;\n\treturn updated;\n};\n\n/**\n * Tests if a string appears to be a URI/URL.\n *\n * @function\n * @param\t{String}\tc\tCharacter to test\n *\n * @returns\t{Boolean}\t\t`true` if c looks like a URL\n * @private\n */\nconst isUri = function (c) {\n\treturn (c.indexOf('/') > -1) || (c.indexOf('.') > -1);\n};\n\n/**\n * A basic icon component structure without any behaviors applied to it.\n *\n * @class Icon\n * @memberof ui/Icon\n * @ui\n * @public\n */\nconst Icon = kind({\n\tname: 'ui:Icon',\n\n\tpropTypes: /** @lends ui/Icon.Icon.prototype */ {\n\t\t/**\n\t\t * The icon content.\n\t\t *\n\t\t * May be specified as either:\n\t\t *\n\t\t * * A string that represents an icon from the [iconList]{@link ui/Icon.Icon.iconList},\n\t\t * * An HTML entity string, Unicode reference or hex value (in the form '0x...'),\n\t\t * * A URL specifying path to an icon image, or\n\t\t * * An object representing a resolution independent resource (See {@link ui/resolution}).\n\t\t *\n\t\t * @type {String|Object}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `icon` - The root component class\n\t\t * * `dingbat` - Applied when the value of [`icon`]{@link ui/Icon.Icon.icon} is not\n\t\t *   found in [iconList]{@link ui/Icon.Icon.iconList}\n\t\t * * `large` - Applied when `size` prop is `'large'`\n\t\t * * `pressed` - Applied when `pressed` prop is `true`\n\t\t * * `small` - Applied when `size` prop is `'small'`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Flip the icon horizontally, vertically or both.\n\t\t *\n\t\t * @type {('both'|'horizontal'|'vertical')}\n\t\t * @public\n\t\t */\n\t\tflip: PropTypes.string,\n\n\t\t/**\n\t\t * The full list (hash) of supported icons.\n\t\t *\n\t\t * The keys of this hash are the unique names of each icon. The values are the unicode\n\t\t * characters to insert in the icon. These will typically map to glyphs in your icon-font.\n\t\t * The format of the keys can be character, glyph, or entity reference that correctly\n\t\t * renders in a React + JSX string.\n\t\t *\n\t\t * @type {Object}\n\t\t * @default {}\n\t\t * @public\n\t\t */\n\t\ticonList: PropTypes.object,\n\n\t\t/**\n\t\t * Applies the `pressed` CSS class.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tpressed: PropTypes.bool,\n\n\t\t/**\n\t\t * The size of the button.\n\t\t *\n\t\t * Applies the CSS class which can be customized by\n\t\t * [theming]{@link /docs/developer-guide/theming/}.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'small'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\ticonList: {},\n\t\tpressed: false,\n\t\tsize: 'small'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'icon',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({children: icon, flip, iconList, pressed, size, styler}) => {\n\t\t\treturn styler.append(\n\t\t\t\t{\n\t\t\t\t\t// If the icon isn't in our known set, apply our custom font class\n\t\t\t\t\tdingbat: !(icon in iconList),\n\t\t\t\t\tpressed\n\t\t\t\t},\n\t\t\t\tflip ? `flip${cap(flip)}` : null,\n\t\t\t\tsize\n\t\t\t);\n\t\t},\n\t\ticonProps: ({children: iconProp, iconList, style}) => {\n\t\t\tlet icon = iconList[iconProp];\n\n\t\t\tif (!icon) {\n\t\t\t\tif (typeof iconProp == 'string') {\n\t\t\t\t\tif (iconProp.indexOf('&#x') === 0) {\n\t\t\t\t\t\t// Converts a hex reference in HTML entity form: &#x99999;\n\t\t\t\t\t\ticon = parseInt(iconProp.slice(3, -1), 16);\n\t\t\t\t\t} else if (iconProp.indexOf('&#') === 0) {\n\t\t\t\t\t\t// Convert an HTML entity: &#99999;\n\t\t\t\t\t\ticon = parseInt(iconProp.slice(2, -1));\n\t\t\t\t\t} else if (iconProp.indexOf('\\\\u') === 0) {\n\t\t\t\t\t\t// Convert a unicode reference: \\u99999;\n\t\t\t\t\t\ticon = parseInt(iconProp.slice(2), 16);\n\t\t\t\t\t} else if (iconProp.indexOf('0x') === 0) {\n\t\t\t\t\t\t// Converts a hex reference in string form\n\t\t\t\t\t\ticon = String.fromCodePoint(iconProp);\n\t\t\t\t\t} else if (!isUri(iconProp)) {\n\t\t\t\t\t\t// A \"simple\" string is assumed to be an icon-name string\n\t\t\t\t\t\ticon = iconProp;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// for a path or URI, add it to style\n\t\t\t\t\t\tstyle = mergeStyle(style, iconProp);\n\t\t\t\t\t}\n\t\t\t\t} else if (typeof iconProp === 'object') {\n\t\t\t\t\tstyle = mergeStyle(style, iconProp);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof icon == 'number') {\n\t\t\t\t// Converts a hex reference in number form\n\t\t\t\ticon = String.fromCodePoint(icon);\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tchildren: icon,\n\t\t\t\tstyle\n\t\t\t};\n\t\t}\n\t},\n\n\trender: ({iconProps, ...rest}) => {\n\t\tdelete rest.iconList;\n\t\tdelete rest.pressed;\n\t\tdelete rest.size;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\taria-hidden\n\t\t\t\t{...rest}\n\t\t\t\t{...iconProps}\n\t\t\t/>\n\t\t);\n\t}\n});\n\nexport default Icon;\nexport {\n\tIcon\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scrollbar\":\"Scrollbar_scrollbar__3W3lA\",\"vertical\":\"Scrollbar_vertical__3N5Az\",\"horizontal\":\"Scrollbar_horizontal__1D2oU\",\"scrollbarButtonNoCompositeLayer\":\"Scrollbar_scrollbarButtonNoCompositeLayer__1eW87\",\"scrollButton\":\"Scrollbar_scrollButton__1UONg\",\"scrollbarTrackShown\":\"Scrollbar_scrollbarTrackShown__2YqOy\",\"corner\":\"Scrollbar_corner__OHydB\"};","/**\n * A basic progress bar component that can display the progress of something in a horizontal,\n * vertical, or radial bar format.\n *\n * A secondary independent progress indicator can be displayed, to indicate\n * an additional degree of information, often used as a background loading progress.\n *\n * @module ui/ProgressBar\n * @exports ProgressBar\n */\n\nimport kind from '@enact/core/kind';\nimport clamp from 'ramda/src/clamp';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {validateRange} from '../internal/validators';\n\nimport componentCss from './ProgressBar.module.less';\n\nconst progressToProportion = (value) => clamp(0, 1, value);\nconst calcBarStyle = (prop, anchor, value = anchor, startProp, endProp) => {\n\tlet start = Math.min(anchor, value);\n\tlet end = Math.max(anchor, value) - start;\n\n\tif (__DEV__) {\n\t\tvalidateRange(start, 0, 1, 'ProgressBar', prop, 'min', 'max');\n\t\tvalidateRange(end, 0, 1, 'ProgressBar', prop, 'min', 'max');\n\t}\n\n\treturn {\n\t\t[startProp]: progressToProportion(start),\n\t\t[endProp]: progressToProportion(end)\n\t};\n};\n\n/**\n * An unstyled progress bar component that can be customized by a theme or application.\n *\n * @class ProgressBar\n * @memberof ui/ProgressBar\n * @ui\n * @public\n */\nconst ProgressBar = kind({\n\tname: 'ui:ProgressBar',\n\n\tpropTypes: /** @lends ui/ProgressBar.ProgressBar.prototype */ {\n\t\t/**\n\t\t * The proportion of the loaded portion of the progress bar.\n\t\t *\n\t\t * * Valid values are between `0` and `1`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tbackgroundProgress: PropTypes.number,\n\n\t\t/**\n\t\t * The contents to be displayed with progress bar.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `progressBar` - The root component class\n\t\t * * `bar`         - The background node (the empty part of the progressBar)\n\t\t * * `fill`        - The foreground of the progress bar (`progress`)\n\t\t * * `load`        - The `backgroundProgress` node\n\t\t * * `horizontal`  - Applied when `orientation` is `'horizontal'`\n\t\t * * `vertical`    - Applied when `orientation` is `'vertical'`\n\t\t * * `radial`      - Applied when `orientation` is `'radial'`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Sets the orientation of the slider.\n\t\t *\n\t\t * Allowed values include:\n\t\t *\n\t\t * * `'horizontal'` - A left and right orientation\n\t\t * * `'vertical'` - An up and down orientation\n\t\t * * `'radial'` - A circular orientation\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'horizontal'\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.string,\n\n\t\t/**\n\t\t * The proportion of the filled portion of the progress bar.\n\t\t *\n\t\t * * Valid values are between `0` and `1`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tprogress: PropTypes.number,\n\n\t\t/**\n\t\t * Sets the point, as a proportion between 0 and 1, from which the progress bar is filled.\n\t\t *\n\t\t * Applies to both the progress bar's `value` and `backgroundProgress`. In both cases,\n\t\t * setting the value of `progressAnchor` will cause the progress bar to fill from that point\n\t\t * down, when `value` or `backgroundProgress` is proportionally less than the anchor, or up,\n\t\t * when `value` or `backgroundProgress` is proportionally greater than the anchor, rather\n\t\t * than always from the start of the progress bar.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tprogressAnchor: PropTypes.number\n\t},\n\n\tdefaultProps: {\n\t\tbackgroundProgress: 0,\n\t\torientation: 'horizontal',\n\t\tprogress: 0,\n\t\tprogressAnchor: 0\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'progressBar',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({backgroundProgress, orientation, progress, styler}) => styler.append(orientation, {\n\t\t\tfillOverHalf: (progress > 0.5),\n\t\t\tloadOverHalf: (backgroundProgress > 0.5)\n\t\t}),\n\t\tstyle: ({backgroundProgress, progress, progressAnchor, style}) => {\n\t\t\treturn {\n\t\t\t\t...style,\n\t\t\t\t'--ui-progressbar-proportion-anchor': progressAnchor,\n\t\t\t\t...calcBarStyle(\n\t\t\t\t\t'backgroundProgress',\n\t\t\t\t\tprogressAnchor,\n\t\t\t\t\tbackgroundProgress,\n\t\t\t\t\t'--ui-progressbar-proportion-start-background',\n\t\t\t\t\t'--ui-progressbar-proportion-end-background'\n\t\t\t\t),\n\t\t\t\t...calcBarStyle(\n\t\t\t\t\t'progress',\n\t\t\t\t\tprogressAnchor,\n\t\t\t\t\tprogress,\n\t\t\t\t\t'--ui-progressbar-proportion-start',\n\t\t\t\t\t'--ui-progressbar-proportion-end'\n\t\t\t\t)\n\t\t\t};\n\t\t}\n\t},\n\n\trender: ({children, css, ...rest}) => {\n\t\tdelete rest.backgroundProgress;\n\t\tdelete rest.orientation;\n\t\tdelete rest.progress;\n\t\tdelete rest.progressAnchor;\n\n\t\treturn (\n\t\t\t<div role=\"progressbar\" {...rest}>\n\t\t\t\t<div className={css.bar}>\n\t\t\t\t\t<div className={css.load} />\n\t\t\t\t\t<div className={css.fill} />\n\t\t\t\t</div>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nexport default ProgressBar;\nexport {\n\tProgressBar\n};\n","import FloatingLayer from '@enact/ui/FloatingLayer';\nimport {forward} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst OpenState = {\n\tCLOSED: 0,\n\tOPENING: 1,\n\tOPEN: 2\n};\n\nconst forwardHide = forward('onHide');\n\nconst PopupState = hoc((config, Wrapped) => {\t// eslint-disable-line no-unused-vars\n\treturn class extends React.Component {\n\t\tstatic displayName = 'PopupState';\n\n\t\tstatic propTypes = {\n\t\t\tnoAnimation: PropTypes.bool,\n\t\t\tnoAutoDismiss: PropTypes.bool,\n\t\t\tonClose: PropTypes.func,\n\t\t\topen: PropTypes.bool,\n\t\t\tscrimType: PropTypes.oneOf(['transparent', 'translucent', 'none'])\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\tnoAnimation: false,\n\t\t\tnoAutoDismiss: false,\n\t\t\topen: false,\n\t\t\tscrimType: 'translucent'\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tthis.state = {\n\t\t\t\tfloatLayerOpen: this.props.open,\n\t\t\t\tpopupOpen: this.props.open ? OpenState.OPEN : OpenState.CLOSED,\n\t\t\t\tprevOpen: this.props.open\n\t\t\t};\n\t\t}\n\n\t\tstatic getDerivedStateFromProps (props, state) {\n\t\t\tif (props.open !== state.prevOpen) {\n\t\t\t\tif (props.open) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tpopupOpen: props.noAnimation || state.floatLayerOpen ? OpenState.OPEN : OpenState.CLOSED,\n\t\t\t\t\t\tfloatLayerOpen: true,\n\t\t\t\t\t\tprevOpen: props.open\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tpopupOpen: OpenState.CLOSED,\n\t\t\t\t\t\tfloatLayerOpen: state.popupOpen !== OpenState.CLOSED ? !props.noAnimation : false,\n\t\t\t\t\t\tprevOpen: props.open\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\thandleFloatingLayerOpen = () => {\n\t\t\tif (!this.props.noAnimation && this.state.popupOpen !== OpenState.OPEN) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tpopupOpen: OpenState.OPENING\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\thandlePopupHide = () => {\n\t\t\tforwardHide(null, this.props);\n\n\t\t\tthis.setState({\n\t\t\t\tfloatLayerOpen: false,\n\t\t\t\tactivator: null\n\t\t\t});\n\t\t};\n\n\t\trender () {\n\t\t\tconst {noAutoDismiss, onClose, scrimType, ...rest} = this.props;\n\t\t\tdelete rest.spotlightRestrict;\n\n\t\t\treturn (\n\t\t\t\t<FloatingLayer\n\t\t\t\t\tnoAutoDismiss={noAutoDismiss}\n\t\t\t\t\topen={this.state.floatLayerOpen}\n\t\t\t\t\tonOpen={this.handleFloatingLayerOpen}\n\t\t\t\t\tonDismiss={onClose}\n\t\t\t\t\tscrimType={scrimType}\n\t\t\t\t>\n\t\t\t\t\t<Wrapped\n\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\topen={this.state.popupOpen >= OpenState.OPENING}\n\t\t\t\t\t\tonClose={onClose}\n\t\t\t\t\t\tonHide={this.handlePopupHide}\n\t\t\t\t\t/>\n\t\t\t\t</FloatingLayer>\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default PopupState;\nexport {PopupState};\n","/**\n * A repeater component.\n *\n * @module ui/Repeater\n * @exports Repeater\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ForwardRef from '../ForwardRef';\n\n/**\n * A stateless component that stamps out copies of `childComponent`, without\n * [RepeaterDecorator](ui/Repeater.RepeaterDecorator) applied.\n *\n * @class RepeaterBase\n * @memberof ui/Repeater\n * @ui\n * @public\n */\nconst RepeaterBase = kind({\n\tname: 'Repeater',\n\n\tpropTypes: /** @lends ui/Repeater.RepeaterBase.prototype */ {\n\t\t/**\n\t\t * Component type to repeat.\n\t\t *\n\t\t * This can be a React component or a string describing a DOM node (e.g. `'div'`).\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tchildComponent: EnactPropTypes.renderable.isRequired,\n\n\t\t/**\n\t\t * An array of data to be mapped onto the `childComponent`.\n\t\t *\n\t\t * This supports two data types. If an array of strings is provided, the strings will be used\n\t\t * in the generated `childComponent` as the readable text. If an array of objects is provided,\n\t\t * each object will be spread onto the generated `childComponent` with no interpretation.\n\t\t * You'll be responsible for setting properties like `disabled`, `className`, and setting the\n\t\t * text content using the `children` key.\n\t\t *\n\t\t * > **NOTE**: When an array of objects is provided, make sure a unique `key` is assigned to each\n\t\t * data. See https://fb.me/react-warning-keys for more information.\n\t\t *\n\t\t * @type {String[]|Array.<{key: (Number|String)}>}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.oneOfType([\n\t\t\tPropTypes.arrayOf(PropTypes.string),\n\t\t\tPropTypes.arrayOf(PropTypes.shape({\n\t\t\t\tkey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired\n\t\t\t}))\n\t\t]).isRequired,\n\n\t\t/**\n\t\t * The property on each `childComponent` that receives the data in `children`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'children'\n\t\t * @public\n\t\t */\n\t\tchildProp: PropTypes.string,\n\n\t\t/**\n\t\t * Component type to wrap around all of the repeated elements.\n\t\t *\n\t\t * This can be a string describing a DOM node or React component (e.g. `'div'` or `Layout`).\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @default 'span'\n\t\t * @public\n\t\t */\n\t\tcomponent: EnactPropTypes.renderable,\n\n\t\t/**\n\t\t * Called with a reference to [component]{@link ui/Repeater.Repeater#component}\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @private\n\t\t */\n\t\tcomponentRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * The property on each `childComponent` that receives the index of the item in the `Repeater`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'data-index'\n\t\t * @public\n\t\t */\n\t\tindexProp: PropTypes.string,\n\n\t\t/**\n\t\t * An object containing properties to be passed to each child.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\titemProps: PropTypes.object\n\t},\n\n\tdefaultProps: {\n\t\tchildProp: 'children',\n\t\tcomponent: 'span',\n\t\tindexProp: 'data-index'\n\t},\n\n\tcomputed: {\n\t\tchildren: ({childComponent: Component, children, childProp, indexProp, itemProps}) => {\n\t\t\treturn children.map((data, index) => {\n\t\t\t\tlet props = {};\n\t\t\t\tif (typeof data === 'object') {\n\t\t\t\t\tprops = {...itemProps, ...data};\n\t\t\t\t} else if (childProp) {\n\t\t\t\t\tprops = {key: index, ...itemProps, [childProp]: data};\n\t\t\t\t}\n\t\t\t\tif (indexProp) props[indexProp] = index;\n\n\t\t\t\treturn <Component {...props} />;\n\t\t\t});\n\t\t}\n\t},\n\n\trender: ({component: Component, componentRef, ...rest}) => {\n\t\tdelete rest.childComponent;\n\t\tdelete rest.childProp;\n\t\tdelete rest.indexProp;\n\t\tdelete rest.itemProps;\n\n\t\treturn <Component ref={componentRef} role=\"list\" {...rest} />;\n\t}\n});\n\n/**\n * Applies Repeater behaviors.\n *\n * @hoc\n * @memberof ui/Repeater\n * @mixes ui/ForwardRef.ForwardRef\n * @public\n */\nconst RepeaterDecorator = ForwardRef({prop: 'componentRef'});\n\n/**\n * A stateless component that stamps out copies of `childComponent`.\n *\n * @class Repeater\n * @memberof ui/Repeater\n * @extends ui/Repeater.RepeaterBase\n * @mixes ui/Repeater.RepeaterDecorator\n * @ui\n * @public\n */\nconst Repeater = RepeaterDecorator(RepeaterBase);\n\nexport default Repeater;\nexport {\n\tRepeater,\n\tRepeaterBase\n};\n","import curry from 'ramda/src/curry';\n\n/**\n * Determines if `item` is selected\n *\n * @param\t{*}\t\t\titem\t\tUsually a number but could be anything within the `selected` list\n * @param\t{*|Array}\tselected\tOne or many selected items\n *\n * @returns\t{Boolean}\t\t\t\t`true` if item is equal to or contained in `selected`\n * @private\n */\nconst isSelected = curry(function (item, selected) {\n\treturn item === selected || Array.isArray(selected) && selected.indexOf(item) >= 0;\n});\n\n/**\n * Selects or deselects an `item` based on the `mode` and returns a copy of `selected` with the new\n * selected state.\n *\n * `single` - Toggles the selection state of `item`. Always returns either `item` or null.\n * `radio` - Always selects `item`\n * `multiple` - Toggles the selection state `item` like `single` but doesn't replace other selected\n * items.\n *\n * @param\t{String}\tmode\t\tSelection mode (`single`, `radio`, or `multiple`)\n * @param\t{*}\t\t\titem\t\tThe selected item\n * @param\t{*|Array}\tselected\tThe current selection\n *\n * @returns {*|Array}\t\t\t\tThe updated selection\n * @private\n */\nconst select = curry(function (mode, item, selected) {\n\tif (mode === 'radio') {\n\t\t// When selection is disabled, when selecting only 1, or when selecting the\n\t\t// first of multiple, we can forward the source event as is.\n\t\treturn item;\n\t} else if (mode === 'single') {\n\t\t// When selecting 0 or 1, we have to unselect it if selected\n\t\treturn isSelected(item, selected) ? null : item;\n\t} else if (selected == null) {\n\t\t// When selection 0 or n but no prior selection, wrap item in an array\n\t\treturn [item];\n\t} else {\n\t\t// Otherwise we're selecting multiple so we have to either deselect it if\n\t\t// already selected or select it if not.\n\t\tlet updated = Array.isArray(selected) ? selected.slice() : [selected];\n\t\tconst index = updated.indexOf(item);\n\t\tif (index >= 0) {\n\t\t\tif (updated.length === 1) {\n\t\t\t\t// item should be deselected and is the only item in the array so return null\n\t\t\t\tupdated = null;\n\t\t\t} else {\n\t\t\t\t// otherwise there are multiple selected so remove item\n\t\t\t\tupdated.splice(index, 1);\n\t\t\t}\n\t\t} else {\n\t\t\t// insert and sort\n\t\t\tupdated.push(item);\n\t\t\tupdated = updated.sort((a, b) => a - b);\n\t\t}\n\n\t\treturn updated;\n\t}\n});\n\nexport {\n\tisSelected,\n\tselect\n};\n","/*\n * Exports the {@link ui/Group.GroupItem} and {@link ui/Group.GroupItemBase}\n * components as well as the `pickGroupItemProps` method.  The default export is {@link ui/Group.GroupItem}.\n * `GroupItem` is stateless and is the same as `GroupItemBase`.\n * NOTE: not jsdoc on purpose.\n */\n\nimport kind from '@enact/core/kind';\nimport React from 'react';\n\nimport {isSelected, select as selectItem} from '../internal/selection';\n\n/**\n * Pick the `GroupItem`-specific props into a [private]{@link /developer-guide/glossary/#private} `itemProps` key to be extracted by\n * `GroupItem` before passing the remaining on to the repeated `childComponent`\n *\n * @function\n * @param {Object} props `Group` props\n * @returns {Object} `GroupItem` props\n * @private\n */\nconst pickGroupItemProps = (props) => ({\n\t$$GroupItem: {\n\t\tchildComponent: props.childComponent,\n\t\tchildProp: props.childProp,\n\t\tchildSelect: props.childSelect,\n\t\tindexProp: props.indexProp,\n\t\tonSelect: props.onSelect,\n\t\tselect: props.select,\n\t\tselected: props.selected,\n\t\tselectedEventProp: props.selectedEventProp,\n\t\tselectedProp: props.selectedProp\n\t}\n});\n\n/**\n * {@link ui/Group.GroupItem} is a stateless component that is used within a\n * {@link ui/Group.Group}.  It supports passing the configurable selected property and\n * handler to its configured `childComponent`.\n *\n * **Note**: It receives its properties through the `$$GroupItem` property passed from `Group`'s\n * {@link ui/Repeater.Repeater}.\n *\n * @class GroupItemBase\n * @memberof ui/Group\n * @ui\n * @private\n */\nconst GroupItemBase = kind({\n\tname: 'GroupItem',\n\t// TODO: Add propTypes\n\t/* eslint-disable enact/prop-types */\n\n\thandlers: {\n\t\thandleSelect: (ev, props) => {\n\t\t\tconst {\n\t\t\t\t$$GroupItem: {\n\t\t\t\t\tchildProp,\n\t\t\t\t\tindexProp,\n\t\t\t\t\tonSelect,\n\t\t\t\t\tselect,\n\t\t\t\t\tselected,\n\t\t\t\t\tselectedEventProp\n\t\t\t\t}\n\t\t\t} = props;\n\n\t\t\tif (onSelect) {\n\t\t\t\tconst index = props[indexProp];\n\n\t\t\t\tonSelect({\n\t\t\t\t\t[selectedEventProp]: props[childProp],\n\t\t\t\t\tselected: selectItem(select, index, selected)\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\n\trender: (props) => {\n\t\tconst {\n\t\t\t$$GroupItem: {\n\t\t\t\tchildComponent: Component,\n\t\t\t\tchildSelect,\n\t\t\t\tindexProp,\n\t\t\t\tselected,\n\t\t\t\tselectedProp\n\t\t\t},\n\t\t\thandleSelect,\n\t\t\t...rest\n\t\t} = props;\n\n\t\tif (selectedProp) {\n\t\t\tconst index = rest[indexProp];\n\t\t\trest[selectedProp] = isSelected(index, selected);\n\t\t}\n\n\t\tif (childSelect) {\n\t\t\trest[childSelect] = handleSelect;\n\t\t}\n\n\t\treturn <Component {...rest} />;\n\t}\n});\n\nexport default GroupItemBase;\nexport {GroupItemBase as GroupItem, GroupItemBase, pickGroupItemProps};\n","/**\n * Provides a component that renders a group of components given a set of data.\n *\n * @module ui/Group\n * @exports Group\n * @exports GroupBase\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Changeable from '../Changeable';\nimport Repeater from '../Repeater';\n\nimport {GroupItem, pickGroupItemProps} from './GroupItem';\n\n/**\n * A stateless component that supports selection of its child items via configurable\n * properties and events.\n *\n * @class GroupBase\n * @memberof ui/Group\n * @ui\n * @public\n */\nconst GroupBase = kind({\n\tname: 'Group',\n\n\tpropTypes: /** @lends ui/Group.Group.prototype */ {\n\t\t/**\n\t\t * Component type to repeat. This can be a React component or a string describing a DOM\n\t\t * node (e.g. `'div'`)\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tchildComponent: EnactPropTypes.renderable.isRequired,\n\n\t\t/**\n\t\t * An array of data to be mapped onto the `childComponent`.\n\n\t\t * This supports two data types. If an array of strings is provided, the strings will be\n\t\t * used in the generated `childComponent` as the content (i.e. passed as `children`). If\n\t\t * an array of objects is provided, each object will be spread onto the generated\n\t\t * `childComponent` with no interpretation. You'll be responsible for setting properties\n\t\t * like `disabled`, `className`, and setting the content using `children`.\n\t\t *\n\t\t * NOTE: When providing an array of objects be sure a unique `key` is assigned to each\n\t\t * item. [Read about keys](https://reactjs.org/docs/lists-and-keys.html#keys) for more\n\t\t * information.\n\t\t *\n\t\t * @type {String[]|Array.<{key: (Number|String)}>}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.oneOfType([\n\t\t\tPropTypes.arrayOf(PropTypes.string),\n\t\t\tPropTypes.arrayOf(PropTypes.shape({\n\t\t\t\tkey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired\n\t\t\t}))\n\t\t]).isRequired,\n\n\t\t/**\n\t\t * The property on each `childComponent` that receives the data in `children`\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'children'\n\t\t * @public\n\t\t */\n\t\tchildProp: PropTypes.string,\n\n\t\t/**\n\t\t * The name of the event that triggers activation.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'onClick'\n\t\t * @public\n\t\t */\n\t\tchildSelect: PropTypes.string,\n\n\t\t/**\n\t\t * The property on each `childComponent` that receives the index of the item\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'data-index'\n\t\t * @public\n\t\t */\n\t\tindexProp: PropTypes.string,\n\n\t\t/**\n\t\t * An object containing properties to be passed to each child.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\titemProps: PropTypes.object,\n\n\t\t/**\n\t\t * Callback method to be invoked when an item is activated.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonSelect: PropTypes.func,\n\n\t\t/**\n\t\t * Selection mode for the group\n\t\t *\n\t\t * * `single` - Allows for 0 or 1 item to be selected. The selected item may be deselected.\n\t\t * * `radio` - Allows for 0 or 1 item to be selected. The selected item may only be\n\t\t *    deselected by selecting another item.\n\t\t * * `multiple` - Allows 0 to _n_ items to be selected. Each item may be selected or\n\t\t *    deselected.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'single'\n\t\t * @public\n\t\t */\n\t\tselect: PropTypes.oneOf(['single', 'radio', 'multiple']),\n\n\t\t/**\n\t\t * The index(es) of the currently activated item.\n\t\t *\n\t\t * @type {Number|Array}\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.oneOfType([PropTypes.number, PropTypes.array]),\n\n\t\t/**\n\t\t * The key that will hold the value in the event passed to `onSelect`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'data'\n\t\t * @public\n\t\t */\n\t\tselectedEventProp: PropTypes.string,\n\n\t\t/**\n\t\t * The name of the DOM property that represents the selected state.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'data-selected'\n\t\t * @public\n\t\t */\n\t\tselectedProp: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tchildProp: 'children',\n\t\tchildSelect: 'onClick',\n\t\tindexProp: 'data-index',\n\t\tselect: 'single',\n\t\tselectedEventProp: 'data',\n\t\tselectedProp: 'data-selected'\n\t},\n\n\tcomputed: {\n\t\t'aria-multiselectable': ({select}) => select === 'multiple',\n\n\t\titemProps: (props) => Object.assign({},\n\t\t\tpickGroupItemProps(props),\n\t\t\tprops.itemProps\n\t\t)\n\t},\n\n\trender: (props) => {\n\t\tdelete props.onSelect;\n\t\tdelete props.childSelect;\n\t\tdelete props.select;\n\t\tdelete props.selected;\n\t\tdelete props.selectedEventProp;\n\t\tdelete props.selectedProp;\n\n\t\treturn <Repeater role=\"group\" {...props} childComponent={GroupItem} />;\n\t}\n});\n\n/**\n * A component that supports selection of its child items via configurable properties and\n * events.\n *\n * Selected item is managed by {@link ui/Changeable.Changeable}.\n *\n * @class Group\n * @memberof ui/Group\n * @mixes ui/Changeable.Changeable\n * @ui\n * @public\n */\nconst Group = Changeable(\n\t{change: 'onSelect', prop: 'selected'},\n\tGroupBase\n);\n\nexport default Group;\nexport {Group, GroupBase, GroupItem};\n","import IString from 'ilib/lib/IString';\nimport ResBundle from 'ilib/lib/ResBundle';\n\n// The ilib.ResBundle for the active locale used by $L\nlet resBundle;\n\n/**\n * Returns the current ilib.ResBundle\n *\n * @returns {ilib.ResBundle} Current ResBundle\n */\nfunction getResBundle () {\n\treturn resBundle;\n}\n\n/**\n * Creates a new ilib.ResBundle for string translation\n *\n * @param  {ilib.Locale} locale Locale for ResBundle\n *\n * @returns {Promise|ResBundle} Resolves with a new ilib.ResBundle\n */\nfunction createResBundle (options) {\n\tconst opts = {\n\t\ttype: 'html',\n\t\tname: 'strings',\n\t\tlengthen: true,\t\t// if pseudo-localizing, this tells it to lengthen strings\n\t\t...options\n\t};\n\n\tif (!opts.onLoad) return;\n\n\t// eslint-disable-next-line no-new\n\tnew ResBundle({\n\t\t...opts,\n\t\tonLoad: (bundle) => {\n\t\t\topts.onLoad(bundle || null);\n\t\t}\n\t});\n}\n\n/**\n * Set the locale for the strings that $L loads. This may reload the\n * string resources if necessary.\n *\n * @param {string} spec the locale specifier\n * @returns {ilib.ResBundle} Current ResBundle\n */\nfunction setResBundle (bundle) {\n\treturn (resBundle = bundle);\n}\n\n/**\n * Deletes the current bundle object of strings and clears the cache.\n * @returns {undefined}\n */\nfunction clearResBundle () {\n\tdelete ResBundle.strings;\n\tdelete ResBundle.sysres;\n\tresBundle = null;\n}\n\n/**\n * Retrieves an IString from a resource bundle by key.\n *\n * If the bundle doesn't exist, the key is returned wrapped by IString.\n *\n * @param {String|Object} str Key for localized string\n * @param {ResBundl} rb ilib resource bundle\n * @returns\t{IString} The string value wrapped by an IString\n */\nfunction getIStringFromBundle (str, rb) {\n\tconst isObject = typeof str === 'object';\n\tif (rb) {\n\t\treturn isObject ? rb.getString(str.value, str.key) : rb.getString(str);\n\t}\n\n\treturn new IString(isObject ? str.value : str);\n}\n\nexport {\n\tclearResBundle,\n\tcreateResBundle,\n\tgetIStringFromBundle,\n\tgetResBundle,\n\tsetResBundle\n};\n","/**\n * An Agate-themed Labeled Icon component.\n *\n * @example\n * <LabeledIcon icon=\"star\">Hello Enact!</LabeledIcon>\n *\n * @module agate/LabeledIcon\n * @exports LabeledIcon\n * @exports LabeledIconBase\n * @exports LabeledIconDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport {LabeledIconBase as UiLabeledIconBase, LabeledIconDecorator as UiLabeledIconDecorator} from '@enact/ui/LabeledIcon';\nimport Pure from '@enact/ui/internal/Pure';\nimport compose from 'ramda/src/compose';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../Icon';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './LabeledIcon.module.less';\n\n/**\n * A basic LabeledIcon component structure without any behaviors applied to it.\n *\n * @class LabeledIconBase\n * @memberof agate/LabeledIcon\n * @extends ui/LabeledIcon.LabeledIconBase\n * @ui\n * @public\n */\nconst LabeledIconBase = kind({\n\tname: 'LabeledIcon',\n\n\tpropTypes: /** @lends agate/LabeledIcon.LabeledIconBase.prototype */ {\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `labeledIcon` - The root class name\n\t\t * * `label` - Applied to the label element\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'labeledIcon',\n\t\tpublicClassNames: true\n\t},\n\n\trender: (props) => UiLabeledIconBase.inline({\n\t\ticonComponent: Icon,\n\t\t...props,\n\t\tcss: props.css\n\t})\n});\n\n/**\n * Adds Agate specific behaviors to [LabeledIconBase]{@link agate/LabeledIcon.LabeledIconBase}.\n *\n * @hoc\n * @memberof agate/LabeledIcon\n * @mixes agate/LabeledIcon.LabeledIconDecorator\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst LabeledIconDecorator = compose(\n\tUiLabeledIconDecorator,\n\tPure,\n\tSkinnable\n);\n\n/**\n * An Agate-styled icon component with a label.\n *\n * Usage:\n * ```\n * <LabeledIcon icon=\"star\" labelPosition=\"after\">\n *   Favorite\n * </LabeledIcon>\n * ```\n *\n * @class LabeledIcon\n * @memberof agate/LabeledIcon\n * @extends agate/LabeledIcon.LabeledIconBase\n * @mixes agate/LabeledIcon.LabeledIconDecorator\n * @ui\n * @public\n */\nconst LabeledIcon = LabeledIconDecorator(LabeledIconBase);\n\nexport default LabeledIcon;\nexport {\n\tLabeledIcon,\n\tLabeledIconBase,\n\tLabeledIconDecorator\n};\n","/**\n * Agate styled checkbox component.\n *\n * @example\n * <Checkbox onToggle={console.log} />\n *\n * @module agate/Checkbox\n * @exports Checkbox\n * @exports CheckboxBase\n */\n\nimport kind from '@enact/core/kind';\nimport Spottable from '@enact/spotlight/Spottable';\nimport Toggleable from '@enact/ui/Toggleable';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport compose from 'ramda/src/compose';\n\nimport Icon from '../Icon/Icon';\nimport Skinnable from '../Skinnable';\nimport ToggleIconBase from '../internal/ToggleIcon/ToggleIcon';\n\nimport css from './Checkbox.module.less';\n\nconst ToggleIconDecorator = compose(\n\tToggleable({toggleProp: 'onClick'}),\n\tSpottable,\n\tSkinnable\n);\n\nconst ToggleIcon = ToggleIconDecorator(ToggleIconBase);\n\n/**\n * A checkbox component, ready to use in Agate applications.\n *\n * `Checkbox` may be used independently to represent a toggleable state but is more commonly used as\n * part of [CheckboxItem]{@link agate/CheckboxItem}.\n *\n * Usage:\n * ```\n * <Checkbox selected />\n * ```\n *\n * @class Checkbox\n * @memberof agate/Checkbox\n * @extends agate/internal/ToggleIcon.ToggleIcon\n * @ui\n * @private\n */\nconst CheckboxBase = kind({\n\tname: 'Checkbox',\n\n\tpropTypes: /** @lends agate/Checkbox.Checkbox.prototype */ {\n\t\t/**\n\t\t * The icon displayed when `selected`.\n\t\t *\n\t\t * @see {@link agate/Icon.Icon.children}\n\t\t * @type {String|Object}\n\t\t * @default\t'check'\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tchildren: 'check'\n\t},\n\n\trender: ({children, ...rest}) => {\n\t\treturn (\n\t\t\t<ToggleIcon\n\t\t\t\t{...rest}\n\t\t\t\tcss={css}\n\t\t\t\ticonComponent={Icon}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</ToggleIcon>\n\t\t);\n\t}\n});\n\nexport default CheckboxBase;\nexport {\n\tCheckboxBase as Checkbox,\n\tCheckboxBase\n};\n","/**\n * Agate styled item components with a toggleable checkbox.\n *\n * @example\n * <CheckboxItem onToggle={console.log}>\n * \tItem with a Checkbox\n * </CheckboxItem>\n *\n * @module agate/CheckboxItem\n * @exports CheckboxItem\n * @exports CheckboxItemBase\n */\n\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport compose from 'ramda/src/compose';\n\nimport Spottable from '@enact/spotlight/Spottable';\nimport Toggleable from '@enact/ui/Toggleable';\n\nimport {CheckboxBase} from '../Checkbox';\nimport Item from '../Item';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './CheckboxItem.module.less';\n\n/**\n * An item with a checkbox component, ready to use in Agate applications.\n *\n * `CheckboxItem` may be used to allow the user to select a single option or used as part of a\n * [Group]{@link ui/Group} when multiple [selections]{@link ui/Group.Group.select} are possible.\n *\n * Usage:\n * ```\n * <CheckboxItem\n * \tdefaultSelected={selected}\n * \tonToggle={handleToggle}\n * >\n *  Item with a Checkbox\n * </CheckboxItem>\n * ```\n *\n * @class CheckboxItem\n * @memberof agate/CheckboxItem\n * @extends agate/Item.Item\n * @omit iconComponent\n * @ui\n * @public\n */\nconst CheckboxItemBase = kind({\n\tname: 'CheckboxItem',\n\n\tpropTypes: /** @lends agate/CheckboxItem.CheckboxItem.prototype */ {\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal Elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `checkboxItem` - The root class name\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The icon content.\n\t\t *\n\t\t * May be specified as either:\n\t\t *\n\t\t * * A string that represents an icon from the [iconList]{@link ui/Icon.Icon.iconList},\n\t\t * * An HTML entity string, Unicode reference or hex value (in the form '0x...'),\n\t\t * * A URL specifying path to an icon image, or\n\t\t * * An object representing a resolution independent resource (See {@link ui/resolution})\n\t\t *\n\t\t * @type {String|Object}\n\t\t * @default 'check'\n\t\t * @public\n\t\t */\n\t\ticon: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\n\t\t/**\n\t\t * If true the checkbox will be selected.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\ticon: 'check'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'checkboxItem',\n\t\tpublicClassNames: ['checkboxItem']\n\t},\n\n\trender: ({children, css, icon, selected, ...rest}) => (\n\t\t<Item\n\t\t\taria-checked={selected}\n\t\t\tdata-webos-voice-intent=\"SelectCheckItem\"\n\t\t\trole=\"checkbox\"\n\t\t\t{...rest}\n\t\t\tcss={css}\n\t\t>\n\t\t\t<CheckboxBase selected={selected} slot=\"slotBefore\">{icon}</CheckboxBase>\n\t\t\t{children}\n\t\t</Item>\n\t)\n});\n\nconst CheckboxItemDecorator = compose(\n\tToggleable({toggleProp: 'onClick'}),\n\tSpottable,\n\tSkinnable\n);\n\nconst CheckboxItem = CheckboxItemDecorator(CheckboxItemBase);\n\nexport default CheckboxItem;\nexport {\n\tCheckboxItem,\n\tCheckboxItemBase\n};\n","/**\n * An unstyled item component and behaviors to be customized by a theme or application.\n *\n * @module ui/Item\n * @exports Item\n * @exports ItemBase\n * @exports ItemDecorator\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport Touchable from '../Touchable';\nimport ForwardRef from '../ForwardRef';\n\nimport componentCss from './Item.module.less';\n\n/**\n * A basic list item component structure without any behaviors applied to it.\n *\n * It also has support for overlay to place things before and after the main content.\n *\n * @class ItemBase\n * @memberof ui/Item\n * @ui\n * @public\n */\nconst ItemBase = kind({\n\tname: 'ui:Item',\n\n\tpropTypes: /** @lends ui/Item.ItemBase.prototype */ {\n\t\t/**\n\t\t * The node to be displayed as the main content of the item.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * The type of component to use to render the item. May be a DOM node name (e.g 'div',\n\t\t * 'span', etc.) or a custom component.\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @default 'div'\n\t\t * @public\n\t\t */\n\t\tcomponent: EnactPropTypes.renderable,\n\n\t\t/**\n\t\t * Called with a reference to [component]{@link ui/Item.ItemBase#component}\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @private\n\t\t */\n\t\tcomponentRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `item` - The root class name\n\t\t * * `inline` - Applied when `inline` prop is true\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Applies a disabled state to the item.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Applies inline styling to the item.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tinline: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tcomponent: 'div',\n\t\tinline: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'item',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({inline, styler}) => styler.append({inline})\n\t},\n\n\trender: ({component: Component, componentRef, disabled, children, ...rest}) => {\n\t\tdelete rest.inline;\n\n\t\treturn (\n\t\t\t<Component\n\t\t\t\tref={componentRef}\n\t\t\t\t{...rest}\n\t\t\t\taria-disabled={disabled}\n\t\t\t\tdisabled={disabled}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</Component>\n\t\t);\n\t}\n});\n\n/**\n * A higher-order component that adds touch support to the component it wraps.\n *\n * @hoc\n * @memberof ui/Item\n * @mixes ui/ForwardRef.ForwardRef\n * @mixes ui/Touchable.Touchable\n * @public\n */\nconst ItemDecorator = compose(\n\tForwardRef({prop: 'componentRef'}),\n\tTouchable\n);\n\n/**\n * A minimally-styled ready-to-use list item component with touch support.\n *\n * @class Item\n * @memberof ui/Item\n * @extends ui/Item.ItemBase\n * @mixes ui/Item.ItemDecorator\n * @ui\n * @public\n */\nconst Item = ItemDecorator(ItemBase);\n\nexport default Item;\nexport {\n\tItem,\n\tItemBase,\n\tItemDecorator\n};\n","/**\n * Provides Agate-themed Item component and interactive radio toggle icon.\n *\n * @module agate/RadioItem\n * @exports RadioItem\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport kind from '@enact/core/kind';\nimport Spottable from '@enact/spotlight/Spottable';\nimport Toggleable from '@enact/ui/Toggleable';\nimport Touchable from '@enact/ui/Touchable';\n\nimport Icon from '../Icon';\nimport Item from '../Item';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './RadioItem.module.less';\n\n/**\n * Renders an `Item` with a radio-dot component. Useful to show a selected state on an Item.\n *\n * @class RadioItem\n * @memberof agate/RadioItem\n * @extends agate/Item.Item\n * @mixes spotlight/Spottable.Spottable\n * @mixes ui/Toggleable.Toggleable\n * @mixes ui/Touchable.Touchable\n * @mixes agate/Skinnable.Skinnable\n * @ui\n * @public\n */\nconst RadioItemBase = kind({\n\tname: 'RadioItemBase',\n\n\tpropTypes: /** @lends agate/RadioItem.RadioItem.prototype */ {\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `radioIcon` - Class name for the radio toggle icon\n\t\t * * `radioItem` - The root class name\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The icon to display when selected.\n\t\t *\n\t\t * @type {String}\n\t\t * @see {@link agate/Icon.Icon}\n\t\t */\n\t\ticon: PropTypes.string,\n\n\t\t/**\n\t\t * Sets the RadioItem to its 'on' state.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\ticon: 'circle',\n\t\tselected: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'radioItem',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({css, selected, styler}) => styler.append(selected && css.selected)\n\t},\n\n\trender: ({children, css, icon, selected, ...rest}) => {\n\t\treturn (\n\t\t\t<Item\n\t\t\t\taria-checked={selected}\n\t\t\t\trole=\"checkbox\"\n\t\t\t\t{...rest}\n\t\t\t\tcss={css}\n\t\t\t>\n\t\t\t\t<Icon slot=\"slotBefore\" className={css.icon} size=\"small\">{icon}</Icon>\n\t\t\t\t{children}\n\t\t\t</Item>\n\t\t);\n\t}\n});\n\n// Decorator is not exported so not documented\nconst RadioItemDecorator = compose(\n\tToggleable({toggleProp: 'onTap'}),\n\tTouchable,\n\tSpottable,\n\tSkinnable\n);\n\nconst RadioItem = RadioItemDecorator(RadioItemBase);\n\nexport default RadioItem;\nexport {\n\tRadioItem\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tooltip\":\"Tooltip_tooltip__21Taf\",\"tooltipArrow\":\"Tooltip_tooltipArrow__1UFSI\",\"rightArrow\":\"Tooltip_rightArrow__3Dn1-\",\"leftArrow\":\"Tooltip_leftArrow__3CpLs\",\"centerArrow\":\"Tooltip_centerArrow__2QQro\",\"middleArrow\":\"Tooltip_middleArrow__QZsMl\",\"tooltipLabel\":\"Tooltip_tooltipLabel__K7X0i\",\"multi\":\"Tooltip_multi__1Nf2g\",\"below\":\"Tooltip_below__1VK9S\",\"above\":\"Tooltip_above__2apQb\",\"left\":\"Tooltip_left__2d4Su\",\"topArrow\":\"Tooltip_topArrow__acqRh\",\"bottomArrow\":\"Tooltip_bottomArrow__37uWd\",\"right\":\"Tooltip_right__192Xq\",\"absolute\":\"Tooltip_absolute__2ckaw\",\"tooltipAnchor\":\"Tooltip_tooltipAnchor__3JBqH\",\"relative\":\"Tooltip_relative__1Wb1u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timePicker\":\"TimePicker_timePicker__3sLkn\",\"pickers\":\"TimePicker_pickers__2dJB6\",\"hourPicker\":\"TimePicker_hourPicker__3yi6Y\",\"minutePicker\":\"TimePicker_minutePicker__1xO61\",\"meridiemPicker\":\"TimePicker_meridiemPicker__1NBd3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"virtualList\":\"UiVirtualList_virtualList__1INFF\",\"vertical\":\"UiVirtualList_vertical__3r9dI\",\"horizontal\":\"UiVirtualList_horizontal__OXQUL\",\"listItem\":\"UiVirtualList_listItem__me5B1\",\"content\":\"UiVirtualList_content__3Cgmr\"};","import EnactPropTypes from '@enact/core/internal/prop-types';\nimport {forProp, forward, handle, stop} from '@enact/core/handle';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport componentCss from './Marquee.module.less';\n\nconst isEventSource = (ev) => ev.target === ev.currentTarget;\n\n/**\n * Marquees the children of the component.\n *\n * For automated marquee calculations use {@link ui/Marquee.Marquee}.\n *\n * @class MarqueeBase\n * @memberof ui/Marquee\n * @ui\n * @public\n */\nconst MarqueeBase = kind({\n\tname: 'ui:Marquee',\n\n\tpropTypes: /** @lends ui/Marquee.MarqueeBase.prototype */ {\n\n\t\t/**\n\t\t * Text alignment value of the marquee\n\t\t *\n\t\t * Valid values are:\n\t\t *\n\t\t * * `'left'`,\n\t\t * * `'right'`, and\n\t\t * * `'center'`\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\talignment: PropTypes.oneOf(['left', 'right', 'center']),\n\n\t\t/**\n\t\t * Applies animating styles such as removing the ellipsis.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tanimating: PropTypes.bool,\n\n\t\t/**\n\t\t * Sets the value of the `aria-label` attribute for the wrapped component.\n\t\t *\n\t\t * @memberof ui/Marquee.MarqueeBase.prototype\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\t'aria-label': PropTypes.string,\n\n\t\t/**\n\t\t * The text or a set of components that should be marqueed\n\t\t *\n\t\t * This prop may be empty in some cases, which is OK.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Called when mounting or unmounting with a reference to the client node\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @public\n\t\t */\n\t\tclientRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `marquee` - The root component class\n\t\t * * `animate` - Applied to the inner content node when the text is animating\n\t\t * * `spacing` - The spacing node used between the repeated content\n\t\t * * `text` - The inner content node\n\t\t * * `willAnimate` - Applied to the inner content node shortly before animation\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Distance to animate the marquee\n\t\t *\n\t\t * Usually, the `distance` is the width of the text minus the width of the container\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tdistance: PropTypes.number,\n\n\t\t/**\n\t\t * Called when the marquee completes its animation\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonMarqueeComplete: PropTypes.func,\n\n\t\t/**\n\t\t * Text overflow setting. Either `'clip'` or `'ellipsis'`\n\t\t *\n\t\t * @type {('clip'|'ellipsis')}\n\t\t * @public\n\t\t */\n\t\toverflow: PropTypes.oneOf(['clip', 'ellipsis']),\n\n\t\t/**\n\t\t * `true` if the directionality of the content is right-to-left\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t * @default false\n\t\t */\n\t\trtl: PropTypes.bool,\n\n\t\t/**\n\t\t * Amount of spacing, in pixels, between the instances of the content\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tspacing: PropTypes.number,\n\n\t\t/**\n\t\t * Speed of marquee animation in pixels/second.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tspeed: PropTypes.number,\n\n\t\t/**\n\t\t * Indicates the marquee will animate soon.\n\t\t *\n\t\t * Should be used by the component to prepare itself for animation such as promoting\n\t\t * composite layers for improved performance.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t * @default false\n\t\t */\n\t\twillAnimate: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tspacing: 0,\n\t\trtl: false,\n\t\twillAnimate: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'marquee',\n\t\tpublicClassNames: true\n\t},\n\n\thandlers: {\n\t\tapplyOffset: (node, {distance, rtl, spacing}) => {\n\t\t\tif (!node || !global.IntersectionObserver) return;\n\n\t\t\tconst root = node.parentNode;\n\t\t\tnew global.IntersectionObserver(function (entries, observer) {\n\t\t\t\tconst {left, right} = entries[0].boundingClientRect;\n\t\t\t\tconst {left: rootLeft, right: rootRight} = entries[0].rootBounds;\n\n\t\t\t\tconst textWidth = rtl ? rootRight - right : left - rootLeft;\n\t\t\t\tconst offset = distance - (textWidth + spacing);\n\n\t\t\t\tnode.style.setProperty('--ui-marquee-offset', offset);\n\n\t\t\t\tobserver.disconnect();\n\t\t\t}, {root}).observe(node);\n\t\t},\n\t\tonMarqueeComplete: handle(\n\t\t\tforProp('animating', true),\n\t\t\tisEventSource,\n\t\t\tstop,\n\t\t\t(ev, props) => forward('onMarqueeComplete', {type: 'onMarqueeComplete'}, props)\n\t\t)\n\t},\n\n\tcomputed: {\n\t\t'aria-label': ({'aria-label': aria, children, distance, willAnimate}) => {\n\t\t\tif (children != null && aria == null && willAnimate && distance > 0) {\n\t\t\t\treturn React.Children.map(children, c => typeof c === 'string' && c)\n\t\t\t\t\t.filter(Boolean)\n\t\t\t\t\t.join(' ') || aria;\n\t\t\t} else {\n\t\t\t\treturn aria;\n\t\t\t}\n\t\t},\n\t\tclientClassName: ({animating, willAnimate, styler}) => styler.join({\n\t\t\tanimate: animating,\n\t\t\ttext: true,\n\t\t\twillAnimate\n\t\t}),\n\t\tclientStyle: ({alignment, animating, distance, overflow, rtl, spacing, speed}) => {\n\t\t\t// If the components content directionality doesn't match the context, we need to set it\n\t\t\t// inline\n\t\t\tconst direction = rtl ? 'rtl' : 'ltr';\n\t\t\tconst rtlDirectionMultiplier = rtl ? 1 : -1;\n\t\t\tconst style = {\n\t\t\t\t'--ui-marquee-spacing': spacing,\n\t\t\t\tdirection,\n\t\t\t\ttextAlign: alignment,\n\t\t\t\ttextOverflow: overflow\n\t\t\t};\n\n\t\t\tif (animating) {\n\t\t\t\tconst duration = distance / speed;\n\n\t\t\t\tstyle.transform = `translateX(${distance * rtlDirectionMultiplier}px)`;\n\t\t\t\tstyle.transitionDuration = `${duration}s`;\n\t\t\t} else {\n\t\t\t\tstyle.transform = 'translateX(0)';\n\t\t\t}\n\n\t\t\treturn style;\n\t\t},\n\t\tduplicate: ({distance, willAnimate}) => {\n\t\t\treturn willAnimate && distance > 0;\n\t\t}\n\t},\n\n\trender: ({applyOffset, children, clientClassName, clientRef, clientStyle, css, duplicate, onMarqueeComplete, ...rest}) => {\n\t\tdelete rest.alignment;\n\t\tdelete rest.animating;\n\t\tdelete rest.distance;\n\t\tdelete rest.onMarqueeComplete;\n\t\tdelete rest.overflow;\n\t\tdelete rest.rtl;\n\t\tdelete rest.spacing;\n\t\tdelete rest.speed;\n\t\tdelete rest.willAnimate;\n\n\t\treturn (\n\t\t\t<div {...rest}>\n\t\t\t\t<div\n\t\t\t\t\tclassName={clientClassName}\n\t\t\t\t\tref={clientRef}\n\t\t\t\t\tstyle={clientStyle}\n\t\t\t\t\tonTransitionEnd={onMarqueeComplete}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t\t{duplicate ? (\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<div className={css.spacing} ref={applyOffset} />\n\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nexport default MarqueeBase;\nexport {\n\tMarqueeBase\n};\n","/**\n * Exports various utilities for performing dev-time validations\n *\n * @module ui/internal/validators\n * @private\n */\n\n/**\n * Issues a warning to the console\n *\n * @function\n * @param {String} msg\t\t\t\tEvent name\n * @param\t{Function}\tfn\t\t\t\t\tEvent handler\n * @param\t{Node}\t\t[target=`document`]\tEvent listener target\n *\n * @returns {undefined}\n * @memberof ui/internal/validators\n * @private\n */\nexport const warn = (msg) => {\n\tif (typeof console !== 'undefined') {\n\t\tconsole.warn(msg);\t// eslint-disable-line no-console\n\t}\n};\n\n/**\n * Issues a warning to the console if `value` is not within the range\n * `min` to `max` or if `min` is less than `max`. In production mode,\n * no action is taken.\n *\n * @function\n * @param {Number} value The value to validate\n * @param {Number} min   The minimum acceptable value to validate\n * @param {Number} max   The maximum acceptable value to validate\n * @param {String} component The name of the invoker, used to decorate warning message\n * @param {String} [valueName='value'] The name of the value property\n * @param {String} [minName='min'] The name of the min property\n * @param {String} [maxName='max'] The name of the max property\n *\n * @returns {undefined}\n * @memberof ui/internal/validators\n * @private\n */\nexport const validateRange = (value, min, max, component, valueName = 'value', minName = 'min', maxName = 'max') => {\n\tif (__DEV__) {\n\t\tlet warned = false;\n\t\tif (value < min) {\n\t\t\twarn(`Warning: ${component} ${valueName} (${value}) less than ${minName} (${min})`);\n\t\t\twarned = true;\n\t\t} else if (value > max) {\n\t\t\twarn(`Warning: ${component} ${valueName} (${value}) greater than ${maxName} (${max})`);\n\t\t\twarned = true;\n\t\t}\n\t\tif (min > max) {\n\t\t\twarn(`Warning: ${component} ${minName} (${min}) greater than ${maxName} (${max})`);\n\t\t\twarned = true;\n\t\t}\n\t\treturn warned;\n\t}\n};\n\nexport const validateRangeOnce = (thing, {component, valueName = 'value', minName = 'min', maxName = 'max'}) => {\n\tif (__DEV__) {\n\t\tlet displayed;\n\t\treturn (props) => {\n\t\t\tif (!displayed) {\n\t\t\t\tdisplayed = validateRange(props[valueName], props[minName], props[maxName], component, valueName, minName, maxName);\n\t\t\t}\n\t\t\treturn thing(props);\n\t\t};\n\t} else {\n\t\treturn thing;\n\t}\n};\n\n/**\n * Issues a warning to the console if `value`, adjusted for `min` is not evenly\n * divisible by `step`. In production mode, no action is taken.\n *\n * @function\n * @param {Number} value The value to validate\n * @param {Number} min   The minimum acceptable value to validate\n * @param {Number} step  The step\n * @param {String} component The name of the invoker, used to decorate warning message\n * @param {String} [valueName='value'] The name of the value property\n * @param {String} [stepName='step'] The name of the step property\n *\n * @returns {Boolean} `true` if warned\n * @memberof ui/internal/validators\n * @private\n */\nexport const validateStepped = (value, min, step, component, valueName = 'value', stepName = 'step') => {\n\tif (__DEV__) {\n\t\t// Ignore fractional steps as floating point math can give inconsistent results (1 % 0.1 != 0)\n\t\tif (step && step === Math.floor(step) && (value - min) % step !== 0) {\n\t\t\twarn(`Warning: ${component} ${valueName} (${value}) must be evenly divisible by ${stepName} (${step})`);\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n};\n\nexport const validateSteppedOnce = (thing, {component, minName = 'min', stepName = 'step', valueName = 'value'}) => {\n\tif (__DEV__) {\n\t\tlet displayed;\n\t\treturn (args) => {\n\t\t\tif (!displayed) {\n\t\t\t\tdisplayed = validateStepped(args[valueName], args[minName], args[stepName], component, valueName, stepName);\n\t\t\t}\n\t\t\treturn thing(args);\n\t\t};\n\t} else {\n\t\treturn thing;\n\t}\n};\n","/**\n * A component for selecting a number from a range of numbers.\n *\n * @example\n * <RangePicker defaultValue={70} min={0} max={100}></RangePicker>\n *\n * @module agate/RangePicker\n * @exports RangePicker\n * @exports RangePickerBase\n */\n\nimport kind from '@enact/core/kind';\nimport {clamp} from '@enact/core/util';\nimport Changeable from '@enact/ui/Changeable';\nimport Pure from '@enact/ui/internal/Pure';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport PickerCore from '../internal/Picker';\n\n/**\n * RangePicker base component.\n *\n * @class RangePickerBase\n * @memberof agate/RangePicker\n * @ui\n * @public\n */\nconst RangePickerBase = kind({\n\tname: 'RangePicker',\n\n\tpropTypes: /** @lends agate/RangePicker.RangePickerBase.prototype */ {\n\t\t/**\n\t\t * The maximum value selectable by the picker (inclusive).\n\t\t *\n\t\t * The range between `min` and `max` should be evenly divisible by\n\t\t * [step]{@link agate/RangePicker.RangePickerBase.step}.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tmax: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The minimum value selectable by the picker (inclusive).\n\t\t *\n\t\t * The range between `min` and `max` should be evenly divisible by\n\t\t * [step]{@link agate/RangePicker.RangePickerBase.step}.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tmin: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * Current value.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * Children from which to pick.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Class name for component.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tclassName: PropTypes.string,\n\n\t\t/**\n\t\t * Disables the picker.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when `value` changes.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChange: PropTypes.func,\n\n\t\t/**\n\t\t * The smallest value change allowed for the picker.\n\t\t *\n\t\t * For example, a step of `2` would cause the picker to increment from 0 to 2 to 4, etc.\n\t\t * It must evenly divide into the range designated by `min` and `max`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t * @public\n\t\t */\n\t\tstep: PropTypes.number\n\t},\n\n\tcomputed: {\n\t\tdisabled: ({disabled, max, min}) => min >= max ? true : disabled,\n\t\tvalue: ({min, max, value}) => {\n\t\t\treturn clamp(min, max, value);\n\t\t}\n\t},\n\n\trender: ({value, ...rest}) => {\n\t\treturn (\n\t\t\t<PickerCore {...rest} value={value}>\n\t\t\t\t{value}\n\t\t\t</PickerCore>\n\t\t);\n\t}\n});\n\n/**\n * Overrides the `aria-valuetext` for the picker. By default, `aria-valuetext` is set\n * to the current value. This should only be used when the parent controls the value of\n * the picker directly through the props.\n *\n * @name aria-valuetext\n * @type {String|Number}\n * @memberof agate/RangePicker.RangePicker.prototype\n * @public\n */\n\n/**\n * Sets the hint string read when focusing the decrement button.\n *\n * @name decrementAriaLabel\n * @memberof agate/RangePicker.RangePicker.prototype\n * @default 'previous item'\n * @type {String}\n * @public\n */\n\n/**\n * Sets the hint string read when focusing the increment button.\n *\n * @name incrementAriaLabel\n * @memberof agate/RangePicker.RangePicker.prototype\n * @default 'next item'\n * @type {String}\n * @public\n */\n\n/**\n * Orientation of the picker.\n *\n * Controls whether the buttons are arranged horizontally or vertically around the value.\n *\n * * Values: `'horizontal'`, `'vertical'`\n *\n * @name orientation\n * @memberof agate/RangePicker.RangePicker.prototype\n * @type {String}\n * @default 'vertical'\n * @public\n */\n\n/**\n * A component that lets the user select a number from a range of numbers.\n *\n * By default, `RangePicker` maintains the state of its `value` property. Supply the `defaultValue`\n * property to control its initial value. If you wish to directly control updates to the component,\n * supply a value to `value` at creation time and update it in response to `onChange` events.\n *\n * @class RangePicker\n * @memberof agate/RangePicker\n * @mixes ui/Changeable.Changeable\n * @ui\n * @public\n */\nconst RangePicker = Pure(\n\tChangeable(\n\t\tRangePickerBase\n\t)\n);\n\n/**\n * Default value\n *\n * @name defaultValue\n * @memberof agate/RangePicker.RangePicker.prototype\n * @type {Number}\n * @public\n */\n\nexport default RangePicker;\nexport {RangePicker, RangePickerBase};\n","/**\n * A component for selecting values from a list of values.\n *\n * @example\n * <Picker>\n * \t{['A', 'B', 'C']}\n * </Picker>\n *\n * @module agate/Picker\n * @exports Picker\n * @exports PickerBase\n * @exports PickerDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport clamp from 'ramda/src/clamp';\nimport React from 'react';\n\nimport PickerCore, {PickerDecorator} from '../internal/Picker';\n\n/**\n * The base `Picker` component.\n *\n * This version is not [`spottable`]{@link spotlight/Spottable.Spottable}.\n *\n * @class PickerBase\n * @memberof agate/Picker\n * @ui\n * @public\n */\nconst PickerBase = kind({\n\tname: 'Picker',\n\n\tpropTypes: /** @lends agate/Picker.PickerBase.prototype */ {\n\t\t/**\n\t\t * Picker value list.\n\t\t *\n\t\t * @type {Array}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.array.isRequired,\n\n\t\t/**\n\t\t * Disables the picker.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when the `value` changes.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChange: PropTypes.func,\n\n\t\t/**\n\t\t * Index of the selected child.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.number\n\t},\n\n\tdefaultProps: {\n\t\tvalue: 0\n\t},\n\n\tcomputed: {\n\t\tdisabled: ({children, disabled}) => React.Children.count(children) > 1 ? disabled : true,\n\t\tmax: ({children}) => children && children.length ? children.length - 1 : 0,\n\t\tvalue: ({value, children}) => {\n\t\t\tconst max = children && children.length ? children.length - 1 : 0;\n\t\t\treturn clamp(0, max, value);\n\t\t}\n\t},\n\n\trender: (props) => {\n\t\tconst {children, max, value, ...rest} = props;\n\n\t\treturn (\n\t\t\t<PickerCore {...rest} min={0} max={max} step={1} value={value}>\n\t\t\t\t{children}\n\t\t\t</PickerCore>\n\t\t);\n\t}\n});\n\n/**\n * Overrides the `aria-valuetext` for the picker. By default, `aria-valuetext` is set\n * to the current value. This should only be used when the parent controls the value of\n * the picker directly through the props.\n *\n * @name aria-valuetext\n * @type {String|Number}\n * @memberof agate/Picker.Picker.prototype\n * @public\n */\n\n/**\n * Sets the hint string read when focusing the decrement button.\n *\n * @name decrementAriaLabel\n * @memberof agate/Picker.Picker.prototype\n * @default 'previous item'\n * @type {String}\n * @public\n */\n\n/**\n * Sets the hint string read when focusing the increment button.\n *\n * @name incrementAriaLabel\n * @memberof agate/Picker.Picker.prototype\n * @default 'next item'\n * @type {String}\n * @public\n */\n\n/**\n * Orientation of the picker.\n *\n * Controls whether the buttons are arranged horizontally or vertically around the value.\n *\n * * Values: `'horizontal'`, `'vertical'`\n *\n * @name orientation\n * @memberof agate/Picker.Picker.prototype\n * @type {String}\n * @default 'vertical'\n * @public\n */\n\n/**\n * A Picker component that allows selecting values from a list of values.\n *\n * By default, `Picker` maintains the state of its `value` property. Supply the `defaultValue`\n * property to control its initial value. If you wish to directly control updates to the component,\n * supply a value to `value` at creation time and update it in response to `onChange` events.\n *\n * @class Picker\n * @memberof agate/Picker\n * @extends agate/Picker.PickerBase\n * @mixes agate/internal/Picker.PickerDecorator\n * @ui\n * @public\n */\nconst Picker = PickerDecorator(PickerBase);\n\n/**\n * Default index of the selected child.\n *\n * *Note*: Changing `defaultValue` after initial render has no effect.\n *\n * @name defaultValue\n * @memberof agate/Picker.Picker.prototype\n * @type {Number}\n * @public\n */\n\nexport default Picker;\nexport {\n\tPicker,\n\tPickerBase\n};\n","/**\n * An unstyled indeterminate progress indicator (Spinner) component to be customized by a\n * theme or application.\n *\n * Basically, this positions your `Spinner` component where you want it on the\n * screen, and hooks into the interaction blocking code and scrim management.\n *\n * The theme using this component must supply a `component` element which follows the requirements\n * listed by the [component]{@link ui/Spinner.Spinner.component} prop documentation.\n *\n * @module ui/Spinner\n * @exports Spinner\n * @exports SpinnerBase\n * @exports SpinnerDecorator\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport FloatingLayer from '../FloatingLayer';\nimport ForwardRef from '../ForwardRef';\n\nimport componentCss from './Spinner.module.less';\n\n/**\n * A minimally styled component that controls `Spinner` positioning and interaction states, without\n * [SpinnerDecorator](ui/Spinner.SpinnerDecorator) applied.\n *\n * @class SpinnerBase\n * @memberof ui/Spinner\n * @ui\n * @public\n */\nconst SpinnerBase = kind({\n\tname: 'ui:Spinner',\n\n\tpropTypes: /** @lends ui/Spinner.SpinnerBase.prototype */ {\n\t\t/**\n\t\t * A theme-supplied component that performs the animation.\n\t\t *\n\t\t * Theme authors can use the `css.running` class to attach the animation CSS.\n\t\t * This element should accept a `children` prop which takes the form of an optional message\n\t\t * for the user.\n\t\t *\n\t\t * Unlike most other components, this does *not* represent the root rendered element, and\n\t\t * instead refers to the \"spinner\" part of this component. The presence of `blockClickOn`\n\t\t * changes the rendering tree and where this is used.\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tcomponent: EnactPropTypes.renderable.isRequired,\n\n\t\t/**\n\t\t * Determines how far the click-blocking should extend.\n\t\t *\n\t\t * * `null` does not block clicking\n\t\t * * 'screen' blocks entire screen\n\t\t * * 'container' blocks up to the nearest ancestor with absolute or relative positioning\n\t\t *\n\t\t * When `blockClickOn` is either `'screen'` or `'container'`, a translucent scrim can be added\n\t\t * by setting [scrim]{@link ui/Spinner.Spinner#scrim} prop to `true`.\n\t\t *\n\t\t * @type {String|null}\n\t\t * @public\n\t\t */\n\t\tblockClickOn: PropTypes.oneOf(['screen', 'container', null]),\n\n\t\t/**\n\t\t * Centers the spinner horizontally and vertically relative to its containing component.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tcentered: PropTypes.bool,\n\n\t\t/**\n\t\t * Called with a reference to [component]{@link ui/Spinner.Spinner#component}\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @private\n\t\t */\n\t\tcomponentRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `spinner` - The root `component` class\n\t\t * * `spinnerContainer` - Added as a parent in the case of `blockOnClick=\"container\"\n\t\t * * `blockClickOn` - Applied if interaction should be blocked\n\t\t * * `centered` - Applied if the `centered` prop is present\n\t\t * * `running` - Always applied to `component`. Attach animation name property to this class.\n\t\t * * `scrim` - The blocking layer behind the Spinner\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Halts the animation of the spinner\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tpaused: PropTypes.bool,\n\n\t\t/**\n\t\t * Sets a scrim behind the spinner with the `css.scrim` class applied.\n\t\t *\n\t\t * Only has an effect when `blockClickOn` is `'screen'` or `'container'` and has no effect\n\t\t * by default or when blockClickOn is `null`.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tscrim: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tcentered: false,\n\t\tpaused: false,\n\t\tscrim: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'spinner',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({centered, paused, styler}) => styler.append(\n\t\t\t{centered, running: !paused}\n\t\t),\n\t\tscrimClassName: ({blockClickOn, scrim, styler}) => styler.join(\n\t\t\t{blockClickOn, scrim}\n\t\t),\n\t\tscrimType: ({scrim}) => scrim ? 'translucent' : 'transparent',\n\t\tspinnerContainerClassName: ({blockClickOn, centered, styler}) => styler.join(\n\t\t\t{centered, spinnerContainer: blockClickOn}\n\t\t)\n\t},\n\n\trender: ({blockClickOn, component: Component, componentRef, scrimClassName, scrimType, spinnerContainerClassName, ...rest}) =>  {\n\t\tdelete rest.centered;\n\t\tdelete rest.paused;\n\t\tdelete rest.scrim;\n\n\t\tswitch (blockClickOn) {\n\t\t\tcase 'screen': {\n\t\t\t\treturn (\n\t\t\t\t\t<FloatingLayer noAutoDismiss open scrimType={scrimType}>\n\t\t\t\t\t\t<Component ref={componentRef} {...rest} />\n\t\t\t\t\t</FloatingLayer>\n\t\t\t\t);\n\t\t\t}\n\t\t\tcase 'container': {\n\t\t\t\treturn (\n\t\t\t\t\t<div className={spinnerContainerClassName}>\n\t\t\t\t\t\t<div className={scrimClassName} />\n\t\t\t\t\t\t<Component ref={componentRef} {...rest} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\treturn (\n\t\t\t\t\t<Component ref={componentRef} {...rest} />\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n});\n\n/**\n * Applies Spinner behaviors\n *\n * @class SpinnerDecorator\n * @memberof ui/Spinner\n * @mixes ui/ForwardRef.ForwardRef\n * @hoc\n * @public\n */\nconst SpinnerDecorator = ForwardRef({prop: 'componentRef'});\n\n/**\n * A minimally styled component that controls `Spinner` positioning and interaction states.\n *\n * @class Spinner\n * @memberof ui/Spinner\n * @extends ui/Spinner.SpinnerBase\n * @mixes ui/Spinner.SpinnerDecorator\n * @ui\n * @public\n */\nconst Spinner = SpinnerDecorator(SpinnerBase);\n\nexport default Spinner;\nexport {\n\tSpinner,\n\tSpinnerBase,\n\tSpinnerDecorator\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scrim\":\"Scrim_scrim__3gYzI\",\"transparent\":\"Scrim_transparent__2M18Y\",\"translucent\":\"Scrim_translucent__fD3HY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"skinFrame\":\"ThemeEnvironment_skinFrame__3bmvN\",\"storyBody\":\"ThemeEnvironment_storyBody__1M94b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"datePicker\":\"DatePicker_datePicker__3mlNt\",\"day\":\"DatePicker_day__29l10\",\"month\":\"DatePicker_month__RhWWj\",\"year\":\"DatePicker_year__2GIHM\"};","/**\n * An Agate-themed drawer component.\n *\n * @example\n * <Drawer header=\"Surprise\">Hello Enact!</Drawer>\n *\n * @module agate/Drawer\n * @exports Drawer\n * @exports DrawerBase\n * @exports DrawerDecorator\n */\n\nimport compose from 'ramda/src/compose';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Layout, {Cell} from '@enact/ui/Layout';\nimport Slottable from '@enact/ui/Slottable';\nimport Transition from '@enact/ui/Transition';\n\nimport Skinnable from '../Skinnable';\n// import Icon from '../Icon';\n\nimport PopupState from '../Popup/PopupState';\n\nimport componentCss from './Drawer.module.less';\n\n/**\n * A drawer component, without behaviors.\n *\n * @class DrawerBase\n * @memberof agate/Drawer\n * @ui\n * @public\n */\nconst DrawerBase = kind({\n\tname: 'Drawer',\n\n\tpropTypes: {\n\t\tcss: PropTypes.object,\n\t\tfooter: PropTypes.node,\n\t\theader: PropTypes.node,\n\t\tnoAnimation: PropTypes.bool,\n\t\t// `onClose` is here for the future scenario where we'll want to have a local (to Drawer)\n\t\t// control that closes the Drawer; similar to how the old Moonstone Drawer worked with its\n\t\t// close-tab that was positioned on the edge of the drawer. This prop, the close icon below\n\t\t// and the .closeButton CSS in the LESS file all relate to this functionality.\n\t\t// onClose: PropTypes.func,\n\t\tonHide: PropTypes.func,\n\t\topen: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tnoAnimation: false,\n\t\topen: false,\n\t\torientation: 'vertical'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'drawer'\n\t},\n\n\trender: ({footer, children, css, noAnimation, onHide, open, header, ...rest}) => {\n\t\treturn (\n\t\t\t<Transition\n\t\t\t\tnoAnimation={noAnimation}\n\t\t\t\tvisible={open}\n\t\t\t\tdirection=\"left\"\n\t\t\t\tduration=\"short\"\n\t\t\t\ttype=\"slide\"\n\t\t\t\tclassName={css.drawerTransitionContainer}\n\t\t\t\tonHide={onHide}\n\t\t\t\tcss={css}\n\t\t\t>\n\t\t\t\t<Layout\n\t\t\t\t\trole=\"alert\"\n\t\t\t\t\t{...rest}\n\t\t\t\t>\n\t\t\t\t\t{/* <Icon size=\"small\" onClick={onClose} className={css.closeButton}>closex</Icon>*/}\n\t\t\t\t\t{header ? <Cell shrink className={css.header}>{header}</Cell> : null}\n\t\t\t\t\t<Cell className={css.content}>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</Cell>\n\t\t\t\t\t{footer ? <Cell shrink className={css.footer}>{footer}</Cell> : null}\n\t\t\t\t</Layout>\n\t\t\t</Transition>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [DrawerBase]{@link agate/Drawer.DrawerBase}.\n *\n * @hoc\n * @memberof agate/Drawer\n * @mixes ui/Slottable.Slottable\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst DrawerDecorator = compose(\n\tSlottable({slots: ['header', 'footer']}),\n\tSkinnable({prop: 'skin'}),\n\tPopupState\n);\n\n/**\n * A ready-to-use drawer component.\n *\n * @class Drawer\n * @memberof agate/Drawer\n * @ui\n * @public\n */\nconst Drawer = DrawerDecorator(DrawerBase);\n\nexport default Drawer;\nexport {Drawer, DrawerBase, DrawerDecorator};\n","/**\n * Agate styled Header.\n *\n * @example\n * <Header title=\"Profile\" titleAbove=\"Settings\" noLine>\n * \t<Button>Close</Button>\n * </Header>\n *\n * @module agate/Header\n * @exports Header\n */\n\nimport kind from '@enact/core/kind';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {Column, Row, Layout} from '@enact/ui/Layout';\nimport Slottable from '@enact/ui/Slottable';\n\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './Header.module.less';\n\n/**\n * A header component for a Panel with a `title`, `titleAbove`, `subtitle`\n *\n * @class Header\n * @memberof agate/Header\n * @ui\n * @public\n */\nconst HeaderBase = kind({\n\tname: 'Header',\n\n\tpropTypes: /** @lends agate/Header.Header.prototype */ {\n\t\t/**\n\t\t * Title of the header.\n\t\t *\n\t\t * This is a [`slot`]{@link ui/Slottable.Slottable}, so it can be used as a tag-name inside\n\t\t * this component.\n\t\t *\n\t\t * Example:\n\t\t * ```\n\t\t *  <Header>\n\t\t *  \t<titleAbove>Introducing...</titleAbove>\n\t\t *  \t<title>Example Header Title</title>\n\t\t *  \t<subtitle>The Adventure Continues</subtitle>\n\t\t *  </Header>\n\t\t * ```\n\t\t *\n\t\t * @required\n\t\t * @type {String}\n\t\t */\n\t\ttitle: PropTypes.string.isRequired,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `header` - The root class name\n\t\t * * `titleContainer` - The background title container\n\t\t * * `subtitle` - Applied to `subtitle`\n\t\t * * `title` - Applied to `title`\n\t\t * * `titleAbove` - Applied to `titleAbove`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Hides the horizontal-rule (line) under the component\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\thideLine: PropTypes.bool,\n\n\t\t/**\n\t\t * Text displayed below the title.\n\t\t *\n\t\t * This is a [`slot`]{@link ui/Slottable.Slottable}, so it can be used as a tag-name inside\n\t\t * this component.\n\t\t *\n\t\t * @type {String}\n\t\t */\n\t\tsubtitle: PropTypes.string,\n\n\t\t/**\n\t\t * Text displayed above the title.\n\t\t *\n\t\t * This is a [`slot`]{@link ui/Slottable.Slottable}, so it can be used as a tag-name inside\n\t\t * this component.\n\t\t *\n\t\t * @type {String}\n\t\t */\n\t\ttitleAbove: PropTypes.string\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'header',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({hideLine, styler}) => styler.append({hideLine, standard: true}),\n\t\tsubtitleComponent: ({css, subtitle}) => {\n\t\t\treturn (subtitle != null && subtitle !== '') ? <h2 className={css.subtitle}>{subtitle}</h2> : null;\n\t\t},\n\t\ttitleAboveComponent: ({css, titleAbove}) => {\n\t\t\treturn (titleAbove != null && titleAbove !== '') ? <h2 className={css.titleAbove}>{titleAbove}</h2> : null;\n\t\t}\n\t},\n\n\trender: ({children, css, title, titleAboveComponent, subtitleComponent, ...rest}) => {\n\t\tdelete rest.hideLine;\n\t\tdelete rest.subtitle;\n\t\tdelete rest.titleAbove;\n\n\t\treturn (\n\t\t\t<Row component=\"header\" aria-label={title} {...rest}>\n\t\t\t\t<Column className={css.titleContainer}>\n\t\t\t\t\t{titleAboveComponent}\n\t\t\t\t\t<h1 className={css.title}>{title}</h1>\n\t\t\t\t\t{subtitleComponent}\n\t\t\t\t</Column>\n\t\t\t\t{children ? <Layout className={css.endSlot}>{children}</Layout> : null}\n\t\t\t</Row>\n\t\t);\n\t}\n});\n\n// Note that we only export this (even as HeaderBase). HeaderBase is not useful on its own.\nconst Header = Slottable({slots: ['subtitle', 'title', 'titleAbove']}, Skinnable(HeaderBase));\n\n// Set up Header so when it's used in a slottable layout (like Panel), it is automatically\n// recognized as this specific slot.\nHeader.defaultSlot = 'header';\n\nexport default Header;\nexport {Header, HeaderBase};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"incrementSlider\":\"IncrementSlider_incrementSlider__1Md3i\",\"large\":\"IncrementSlider_large__NONhX\",\"horizontal\":\"IncrementSlider_horizontal__2IBgz\",\"decrementButton\":\"IncrementSlider_decrementButton__3wLj9\",\"incrementButton\":\"IncrementSlider_incrementButton__3mW1O\",\"input\":\"IncrementSlider_input__1axG1\",\"slider\":\"IncrementSlider_slider__1717x\",\"knob\":\"IncrementSlider_knob__1J3mU\",\"small\":\"IncrementSlider_small__1PdPD\",\"vertical\":\"IncrementSlider_vertical__3T5i5\"};","/**\n * Provides an Agate-themed progress bar component.\n *\n * @example\n * <ProgressBar progress={0.5} backgroundProgress={0.75} />\n *\n * @module agate/ProgressBar\n * @exports ProgressBar\n */\n\nimport kind from '@enact/core/kind';\nimport UiProgressBar from '@enact/ui/ProgressBar';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './ProgressBar.module.less';\n\n/**\n * Renders an Agate-styled progress bar.\n *\n * @class ProgressBar\n * @memberof agate/ProgressBar\n * @extends ui/ProgressBar.ProgressBar\n * @mixes agate/Skinnable.Skinnable\n * @ui\n * @public\n */\nconst ProgressBarBase = kind({\n\tname: 'ProgressBar',\n\n\tpropTypes: /** @lends agate/ProgressBar.ProgressBar.prototype */ {\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `progressBar` - The root component class\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Sets the orientation of the progress bar.\n\t\t *\n\t\t * @type {('horizontal'|'vertical')}\n\t\t * @default 'horizontal'\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t/**\n\t\t * A number between `0` and `1` indicating the proportion of the filled portion of the bar.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tprogress: PropTypes.number,\n\n\t\t/**\n\t\t * The size of the progress bar.\n\t\t *\n\t\t * @type {('small'|'large')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['small', 'large'])\n\t},\n\n\tdefaultProps: {\n\t\torientation: 'horizontal',\n\t\tprogress: 0,\n\t\tsize: 'large'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({size, styler}) => styler.append(size)\n\t},\n\n\trender: ({css, ...rest}) => {\n\t\tdelete rest.size;\n\n\t\treturn (\n\t\t\t<UiProgressBar\n\t\t\t\t{...rest}\n\t\t\t\tcss={css}\n\t\t\t/>\n\t\t);\n\t}\n});\n\n// Not documenting as base is not very useful to developers.\nconst ProgressBar = Skinnable(ProgressBarBase);\n\nexport default ProgressBar;\nexport {\n\tProgressBar,\n\tProgressBarBase\n};\n","/**\n * Provides an Agate-themed button group.\n *\n * @example\n * <SliderButton>{['Light Speed', 'Ridiculous Speed', 'Ludicrous Speed']}</SliderButton>\n *\n * @module agate/SliderButton\n * @exports SliderButton\n * @exports SliderButtonBase\n * @exports SliderButtonDecorator\n */\n\nimport React from 'react';\nimport kind from '@enact/core/kind';\nimport Spottable from '@enact/spotlight/Spottable';\nimport Pure from '@enact/ui/internal/Pure';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport {Cell, Row} from '@enact/ui/Layout';\nimport UiSlider from '@enact/ui/Slider';\n\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './SliderButton.module.less';\n\nconst SliderKnob = kind({\n\tname: 'SliderKnob',\n\tpropTypes: {\n\t\tcss: PropTypes.object,\n\t\tvalue: PropTypes.number\n\t},\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'knob'\n\t},\n\tcomputed: {\n\t\tstyle: ({style, value}) => {\n\t\t\t// const factor = Math.abs((value - Math.round(value))) / 4;\n\t\t\treturn {\n\t\t\t\t'--knob-value': value,\n\t\t\t\t// transform: `scale(${1 + factor}, ${1 - factor})`,\n\t\t\t\t...style\n\t\t\t};\n\t\t}\n\t},\n\trender: ({...rest}) => {\n\t\tdelete rest.value;\n\t\t// eslint-disable-next-line enact/prop-types\n\t\tdelete rest.tooltipComponent;\n\t\treturn (\n\t\t\t<div\n\t\t\t\t{...rest}\n\t\t\t/>\n\t\t);\n\t}\n});\n\nconst SliderProgress = kind({\n\tname: 'SliderProgress',\n\tpropTypes: {\n\t\tcss: PropTypes.object,\n\t\tvalues: PropTypes.arrayOf(PropTypes.string)\n\t},\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'track'\n\t},\n\trender: ({children, css, values, ...rest}) => {\n\t\t// eslint-disable-next-line enact/prop-types\n\t\tdelete rest.progressAnchor;\n\t\t// eslint-disable-next-line enact/prop-types\n\t\tdelete rest.backgroundProgress;\n\t\treturn (\n\t\t\t<Row {...rest} align=\"center\">\n\t\t\t\t{children}\n\t\t\t\t{values ? values.map(child => (\n\t\t\t\t\t<Cell className={css.client} key={child}>\n\t\t\t\t\t\t{child}\n\t\t\t\t\t</Cell>\n\t\t\t\t)) : null}\n\t\t\t</Row>\n\t\t);\n\t}\n});\n\n/**\n * Renders the base level DOM structure of the component.\n *\n * @class SliderButtonBase\n * @memberof agate/SliderButton\n * @extends ui/Slider.Slider\n * @ui\n * @public\n */\nconst SliderButtonBase = kind({\n\tname: 'SliderButton',\n\tpropTypes: {\n\t\tchildren: PropTypes.array.isRequired,\n\t\tcss: PropTypes.object\n\t},\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'sliderButton',\n\t\tpublicClassNames: true\n\t},\n\tcomputed: {\n\t\tmax: ({children}) => (children && children.length ? children.length - 1 : 0),\n\t\tstyle: ({children, style}) => {\n\t\t\treturn {\n\t\t\t\t'--sliderbutton-item-count': (children && children.length || 0),  // We're adding 1 here because it's more of a JS neuance that we want to abstract away from the styling.\n\t\t\t\t...style\n\t\t\t};\n\t\t}\n\t},\n\trender: ({css, children, max, ...rest}) => {\n\t\treturn (\n\t\t\t<UiSlider\n\t\t\t\t{...rest}\n\t\t\t\tcss={css}\n\t\t\t\tknobComponent={\n\t\t\t\t\t<SliderKnob css={css} />\n\t\t\t\t}\n\t\t\t\tprogressBarComponent={\n\t\t\t\t\t<SliderProgress values={children} />\n\t\t\t\t}\n\t\t\t\tstep={1}\n\t\t\t\tmin={0}\n\t\t\t\tmax={max}\n\t\t\t/>\n\t\t);\n\t}\n});\n\n/**\n * Agate specific behaviors to apply to [SliderButton]{@link agate/SliderButton.SliderButtonBase}.\n *\n * @hoc\n * @memberof agate/SliderButton\n * @mixes spotlight/Spottable.Spottable\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst SliderButtonDecorator = compose(\n\tPure,\n\tSpottable,\n\tSkinnable\n);\n\n/**\n * Renders a slider that appears as a series of connected buttons.\n *\n * @class SliderButton\n * @memberof agate/SliderButton\n * @extends agate/SliderButton.SliderButtonBase\n * @mixes agate/SliderButton.SliderButtonDecorator\n * @ui\n * @public\n */\nconst SliderButton = SliderButtonDecorator(SliderButtonBase);\n\nexport default SliderButton;\nexport {\n\tSliderButton,\n\tSliderButtonBase,\n\tSliderButtonDecorator\n};\n","/**\n * Provides Agate-themed indeterminate progress indicator (spinner) components and behaviors.\n *\n * Used for indicating to the user that something is busy and interaction is temporarily suspended.\n *\n * @example\n * <Spinner color=\"light\" size=\"small\" type=\"searching\" />\n *\n * @module agate/Spinner\n * @exports Spinner\n * @exports SpinnerBase\n * @exports SpinnerDecorator\n */\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport Pure from '@enact/ui/internal/Pure';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\nimport UiSpinnerBase from '@enact/ui/Spinner';\n\nimport $L from '../internal/$L';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './Spinner.module.less';\n\n/**\n * A component that shows spinning fan. Or bouncing 🏀🎾🏐⚽️.\n *\n * @class SpinnerCore\n * @memberof agate/Spinner\n * @ui\n * @private\n */\nconst SpinnerCore = kind({\n\tname: 'SpinnerCore',\n\n\tpropTypes: /** @lends agate/Spinner.SpinnerCore.prototype */ {\n\t\t/**\n\t\t * The \"aria-label\" for the component.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\t'aria-label': PropTypes.string,\n\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The type of spinner.\n\t\t *\n\t\t * @type {('loading'|'searching')}\n\t\t * @default 'searching'\n\t\t * @public\n\t\t */\n\t\ttype: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\ttype: 'searching'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss\n\t},\n\n\tcomputed: {\n\t\t'aria-label': ({'aria-label': label, type}) => {\n\t\t\t// TODO: These static values will need to be localized\n\t\t\treturn label || type === 'searching' ? $L('Searching') : $L('Loading');\n\t\t},\n\t\tclassName: ({styler, type}) => styler.append(type),\n\t\tspinnerNodes: ({styler, type}) => {\n\t\t\treturn Array.from({length: type === 'searching' ? 12 : 4}, (_, index) => (\n\t\t\t\t<span className={styler.join('node', `node${index + 1}`)} key={`node${index}`} />\n\t\t\t));\n\t\t}\n\t},\n\n\trender: ({css, spinnerNodes, ...rest}) => {\n\t\tdelete rest.type;\n\n\t\treturn (\n\t\t\t<div aria-live=\"off\" role=\"alert\" {...rest}>\n\t\t\t\t<div className={css.bg}>\n\t\t\t\t\t{spinnerNodes}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n/**\n * The base component, defining all of the properties.\n *\n * @class SpinnerBase\n * @memberof agate/Spinner\n * @extends ui/Spinner.Spinner\n * @ui\n * @public\n */\nconst SpinnerBase = kind({\n\tname: 'Spinner',\n\n\tpropTypes: /** @lends agate/Spinner.SpinnerBase.prototype */ {\n\t\t/**\n\t\t * The color of the component.\n\t\t *\n\t\t * @type {('dark'|'light')}\n\t\t * @default 'light'\n\t\t * @public\n\t\t */\n\t\tcolor: PropTypes.oneOf(['dark', 'light']),\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `spinner` - The root component class, unless there is a scrim. The scrim and floating\n\t\t *   layer can be a sibling or parent to this root \"spinner\" element.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The size of the component.\n\t\t *\n\t\t * Recommended usage is \"large\" (default) for standalone and popup scenarios, while \"small\"\n\t\t * is best suited for use inside other elements, like {@link agate/Item.Item}.\n\t\t *\n\t\t * @type {('huge'|'large'|'small'|'smallest')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['huge', 'large', 'small', 'smallest']),\n\n\t\t/**\n\t\t * Removes the background color (making it transparent).\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\ttransparent: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tcolor: 'light',\n\t\tsize: 'large',\n\t\ttransparent: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tpublicClassNames: ['spinner']\n\t},\n\n\tcomputed: {\n\t\tclassName: ({children, color, size, transparent, styler}) => styler.append(\n\t\t\tcolor,\n\t\t\tsize,\n\t\t\t{content: !!children, transparent}\n\t\t)\n\t},\n\n\trender: ({css, ...rest}) => {\n\t\tdelete rest.transparent;\n\n\t\treturn (\n\t\t\t<UiSpinnerBase\n\t\t\t\t{...rest}\n\t\t\t\tcss={css}\n\t\t\t\tcomponent={SpinnerCore}\n\t\t\t/>\n\t\t);\n\t}\n});\n\n/**\n * Agate-specific Spinner behaviors to apply to [Spinner]{@link agate/Spinner.SpinnerBase}.\n *\n * @hoc\n * @memberof agate/Spinner\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst SpinnerDecorator = compose(\n\tPure,\n\tSkinnable\n);\n\n/**\n * An Agate-styled Spinner.\n *\n * @class Spinner\n * @memberof agate/Spinner\n * @extends agate/Spinner.SpinnerBase\n * @mixes agate/Spinner.SpinnerDecorator\n * @ui\n * @public\n */\nconst Spinner = SpinnerDecorator(SpinnerBase);\n\nexport default Spinner;\nexport {\n\tSpinner,\n\tSpinnerBase,\n\tSpinnerDecorator\n};\n","/*\n * Agate component to allow the user to choose a color.\n *\n * @example\n * <SwatchButton color=\"#ffcc00\" onClick={handleClick} />\n */\n\nimport kind from '@enact/core/kind';\n\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport {ButtonBase, ButtonDecorator} from '../Button';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './SwatchButton.module.less';\n\n\n/**\n * A swatch component which sets-up the component's structure.\n *\n * This component is most often not used directly but may be composed within another component as it\n * is within [SwatchButton]{@link agate/ColorPicker.SwatchButton}.\n *\n * @class SwatchButtonBase\n * @memberof agate/ColorPicker\n * @ui\n * @public\n */\nconst SwatchButtonBase = kind({\n\tname: 'SwatchButton',\n\n\tpropTypes: /** @lends agate/ColorPicker.SwatchButtonBase.prototype */ {\n\t\t/**\n\t\t * The color of the swatch if the `color` prop is not set.\n\t\t *\n\t\t * The value should take the format of a HEX color. Ex: `#ffcc00` or `#3467af`\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.string,\n\n\t\t/**\n\t\t * The color of the swatch.\n\t\t *\n\t\t * The value should take the format of a HEX color. Ex: `#ffcc00` or `#3467af`\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tcolor: PropTypes.string,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `swatchButton` - The root class name\n\t\t * * `colorSwatch` - The node that displays the chosen color. The current value is applied\n\t\t * \t\tas a background-color to this element.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Callback method with a payload containing the `value` that was just selected.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonClick: PropTypes.func\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'swatchButton',\n\t\tpublicClassNames: ['swatchButton', 'colorSwatch']\n\t},\n\n\thandlers: {\n\t\tonClick: (ev, {children, color, onClick}) => {\n\t\t\tif (onClick) {\n\t\t\t\tonClick({color: color || children});\n\t\t\t}\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tcolorSwatchStyle: ({children, color}) => ({backgroundColor: color ? color : children})\n\t},\n\n\trender: ({colorSwatchStyle, css, ...rest}) => {\n\t\treturn (\n\t\t\t<ButtonBase {...rest} css={css} minWidth={false}>\n\t\t\t\t<div className={css.colorSwatch} style={colorSwatchStyle} />\n\t\t\t</ButtonBase>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [SwatchButton]{@link agate/ColorPicker.SwatchButtonBase}.\n *\n * @hoc\n * @memberof agate/ColorPicker\n * @mixes agate/Button.ButtonDecorator\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst SwatchButtonDecorator = compose(\n\tButtonDecorator,\n\tSkinnable\n);\n\n/**\n * A color picker swatch button component.\n *\n * @class SwatchButton\n * @memberof agate/ColorPicker\n * @extends agate/ColorPicker.SwatchButtonBase\n * @mixes agate/ColorPicker.SwatchButtonDecorator\n * @ui\n * @public\n */\nconst SwatchButton = SwatchButtonDecorator(SwatchButtonBase);\n\nexport default SwatchButton;\nexport {\n\tSwatchButton,\n\tSwatchButtonBase,\n\tSwatchButtonDecorator\n};\n","/**\n * Agate component to allow the user to choose a color.\n *\n * @example\n * <ColorPicker defaultValue=\"#ffcc00\">{['#fff', '#999', '#000']}</ColorPicker>\n *\n * @module agate/ColorPicker\n * @exports ColorPicker\n * @exports ColorPickerBase\n * @exports ColorPickerDecorator\n */\n\nimport convert from 'color-convert';\nimport compose from 'ramda/src/compose';\nimport hoc from '@enact/core/hoc';\nimport kind from '@enact/core/kind';\nimport {adaptEvent, forward, handle} from '@enact/core/handle';\nimport {on, off} from '@enact/core/dispatcher';\nimport {Row, Cell} from '@enact/ui/Layout';\nimport Changeable from '@enact/ui/Changeable';\nimport Group from '@enact/ui/Group';\nimport PropTypes from 'prop-types';\nimport Pure from '@enact/ui/internal/Pure';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport SpotlightContainerDecorator from '@enact/spotlight/SpotlightContainerDecorator';\nimport Toggleable from '@enact/ui/Toggleable';\nimport Transition from '@enact/ui/Transition';\n\nimport $L from '../internal/$L';\nimport Skinnable from '../Skinnable';\nimport Button from '../Button';\nimport Slider from '../Slider';\nimport SwatchButton from './SwatchButton';\n\nimport componentCss from './ColorPicker.module.less';\n\nconst ContainerDiv = SpotlightContainerDecorator({enterTo: 'last-focused'}, 'div');\n\n// helper function to convert color hex strings or kewords to hue, saturation, and lightness values\nconst convertToHSL = (value) => convert[value.charAt(0) === '#' ? 'hex' : 'keyword'].hsl(value);\n\n/**\n * The color picker base component which sets-up the component's structure.\n *\n * This component is most often not used directly but may be composed within another component as it\n * is within [ColorPicker]{@link agate/ColorPicker.ColorPicker}.\n *\n * @class ColorPickerBase\n * @memberof agate/ColorPicker\n * @ui\n * @public\n */\nconst ColorPickerBase = kind({\n\tname: 'ColorPicker',\n\n\tpropTypes: /** @lends agate/ColorPicker.ColorPickerBase.prototype */ {\n\t\tchildren: PropTypes.array,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `colorPicker` - The root class name\n\t\t * * `palette` - The drawer that displays all the available options for color.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t// TODO: position `palette` like `Tooltip`\n\t\t/**\n\t\t * The animation direction of the `palette`.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.string,\n\n\t\t/**\n\t\t * Determines whether the extended color controls (sliders) are visible\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\textended: PropTypes.bool,\n\n\t\t/**\n\t\t * Callback method with a payload containing the `color` that was just selected.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChange: PropTypes.func,\n\n\t\t/**\n\t\t * Callback method passed to the [SwatchButton]{@link agate/ColorPicker.SwatchButton} component with a payload containing the `value` that was just selected.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonClick: PropTypes.func,\n\n\t\t/**\n\t\t * Callback method with a payload containing the hue value of the selected `color`.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonHueChanged: PropTypes.func,\n\n\t\t/**\n\t\t * Callback method with a payload containing the lightness value of the selected `color`.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonLightnessChanged: PropTypes.func,\n\n\t\t/**\n\t\t * Callback method with a payload containing the saturation value of the selected `color`.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonSaturationChanged: PropTypes.func,\n\n\t\t/**\n\t\t * Callback method passed to the [Button]{@link agate/Button.Button} component as `onTap`. This is used to toggle the visibility of the H/S/L sliders.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonToggleExtended: PropTypes.func,\n\n\t\t/**\n\t\t * Opens ColorPicker with the contents visible.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\topen: PropTypes.bool,\n\n\t\t/**\n\t\t * The color value. Setting this directly will not allow interaction with the\n\t\t * component. Use `defaultValue` to enable interactive use.\n\t\t *\n\t\t * The color should take the format of a HEX color. Ex: `#ffcc00` or `#3467af`\n\t\t *\n\t\t * @type {String}\n\t\t * @see {@link ui/Changeable.Changeable}\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tdirection: 'right',\n\t\topen: false,\n\t\tvalue: '#cccccc'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'colorPicker',\n\t\tpublicClassNames: ['colorPicker', 'palette']\n\t},\n\n\tcomputed: {\n\t\tchildren: ({children}) => children || [],\n\t\tclassName: ({extended, styler}) => styler.append({extended}),\n\t\tsliderValues: ({value}) => ({hsl: convertToHSL(value)}),\n\t\ttransitionContainerClassname: ({css, open, styler}) => styler.join(css.transitionContainer, (open ? css.openTransitionContainer : null)),\n\t\ttransitionDirection: ({direction}) => {\n\t\t\tswitch (direction) {\n\t\t\t\tcase 'left':\n\t\t\t\t\treturn 'right';\n\t\t\t\tcase 'right':\n\t\t\t\t\treturn 'left';\n\t\t\t\tcase 'up':\n\t\t\t\t\treturn 'down';\n\t\t\t\tcase 'down':\n\t\t\t\t\treturn 'up';\n\t\t\t}\n\t\t}\n\t},\n\n\trender: ({children, css, onChange, onClick, onHueChanged, onSaturationChanged, onLightnessChanged, onToggleExtended, open, sliderValues, transitionContainerClassname, transitionDirection, value, ...rest}) => {\n\t\tdelete rest.extended;\n\t\treturn (\n\t\t\t<div {...rest}>\n\t\t\t\t<SwatchButton color={value} onClick={onClick} />\n\t\t\t\t<Transition\n\t\t\t\t\tclassName={transitionContainerClassname}\n\t\t\t\t\tvisible={open}\n\t\t\t\t\tdirection={transitionDirection}\n\t\t\t\t>\n\t\t\t\t\t<ContainerDiv className={css.palette} spotlightDisabled={!open} spotlightRestrict=\"self-only\">\n\t\t\t\t\t\t<Group\n\t\t\t\t\t\t\tchildComponent={SwatchButton}\n\t\t\t\t\t\t\tchildProp=\"color\"\n\t\t\t\t\t\t\tclassName={css.group}\n\t\t\t\t\t\t\titemProps={{size: 'small', className: css.swatch}}\n\t\t\t\t\t\t\tonSelect={onChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t</Group>\n\t\t\t\t\t\t<Button icon=\"ellipsis\" size=\"small\" onTap={onToggleExtended} className={css.swatch} />\n\t\t\t\t\t\t<div className={css.sliders}>\n\t\t\t\t\t\t\t<Row align=\"center\">\n\t\t\t\t\t\t\t\t<Cell>\n\t\t\t\t\t\t\t\t\t<label>{$L('Hue')}</label>\n\t\t\t\t\t\t\t\t\t<Slider value={sliderValues.hsl[0]} min={0} max={360} onChange={onHueChanged} />\n\t\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t\t<Cell component=\"label\" size=\"5ex\">{sliderValues.hsl[0] + '˚'}</Cell>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t<Row align=\"center\">\n\t\t\t\t\t\t\t\t<Cell>\n\t\t\t\t\t\t\t\t\t<label>{$L('Saturation')}</label>\n\t\t\t\t\t\t\t\t\t<Slider value={sliderValues.hsl[1]} min={0} max={100} onChange={onSaturationChanged} />\n\t\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t\t<Cell component=\"label\" size=\"5ex\">{sliderValues.hsl[1] + '%'}</Cell>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t<Row align=\"center\">\n\t\t\t\t\t\t\t\t<Cell>\n\t\t\t\t\t\t\t\t\t<label>{$L('Lightness')}</label>\n\t\t\t\t\t\t\t\t\t<Slider value={sliderValues.hsl[2]} min={0} max={100} onChange={onLightnessChanged} />\n\t\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t\t<Cell component=\"label\" size=\"5ex\">{sliderValues.hsl[2] + '%'}</Cell>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</ContainerDiv>\n\t\t\t\t</Transition>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nconst ColorPickerExtended = hoc((config, Wrapped) => {\n\treturn class extends React.Component {\n\t\tstatic displayName = 'ColorPickerExtended';\n\n\t\tstatic propTypes = {\n\t\t\tdefaultExtended: PropTypes.bool,\n\t\t\tonChange: PropTypes.func,\n\t\t\topen: PropTypes.bool,\n\t\t\tvalue: PropTypes.string\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tthis.hsl = props.value ? convertToHSL(props.value) : [0, 0, 0];\n\t\t\tthis.state = {\n\t\t\t\textended: props.defaultExtended || false\n\t\t\t};\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\t// TODO: change to using ref/forwardRef/something else?\n\t\t\t// eslint-disable-next-line react/no-find-dom-node\n\t\t\tthis.node = ReactDOM.findDOMNode(this);\n\n\t\t\tif (this.props.open) {\n\t\t\t\ton('click', this.handleClick);\n\t\t\t}\n\t\t}\n\n\t\tcomponentDidUpdate (prevProps) {\n\t\t\tconst {open, value} = this.props;\n\t\t\tif (prevProps.value !== value) {\n\t\t\t\tthis.hsl = convertToHSL(value);\n\t\t\t}\n\n\t\t\tif (!prevProps.open && open) {\n\t\t\t\ton('click', this.handleClick);\n\t\t\t} else if (prevProps.open && !open) {\n\t\t\t\toff('click', this.handleClick);\n\t\t\t}\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\toff('click', this.handleClick);\n\t\t}\n\n\t\tbuildValue = ({h = this.hsl[0], s = this.hsl[1], l = this.hsl[2]} = {}) => (\n\t\t\t'#' + convert.hsl.hex(h, s, l)\n\t\t);\n\n\t\tclickedOutsidePalette = ({target}) => !this.node.contains(target);\n\n\t\t// This handler is meant to accommodate using `ColorPicker`'s `onChange` prop from\n\t\t// `Changeable` as the `onSelect` handler for its `Group` component that lists the set of\n\t\t// pre-defined color choices.  `onSelect` sends the chosen value in the `data` prop of its\n\t\t// event but `Changeable` expects `value`.  The slider handlers for hue, saturation, and\n\t\t// light values in `ColorPickerExtended` use this handler to update the `value` prop via\n\t\t// `onChange` as well.\n\t\thandleChange = handle(\n\t\t\tadaptEvent(\n\t\t\t\t({data: value}) => ({value}),\n\t\t\t\tforward('onChange')\n\t\t\t)\n\t\t).bindAs(this, 'handleChange');\n\n\t\t// If a click happened outside the component area (and children of us) dismiss the palette by forwarding the onClick from Toggleable.\n\t\thandleClick = handle(\n\t\t\tthis.clickedOutsidePalette,\n\t\t\tforward('onClick')\n\t\t).bindAs(this, 'handleClick');\n\n\t\thandleToggleExtended = () => {\n\t\t\tthis.setState(({extended}) => ({extended: !extended}));\n\t\t};\n\n\t\thandleSlider = (type) => ({value: sliderValue}) => {\n\t\t\tthis.hsl[('hsl'.indexOf(type))] = sliderValue;\n\t\t\tconst value = this.buildValue();\n\t\t\tthis.handleChange({data: value});\n\t\t};\n\n\t\trender () {\n\t\t\tconst {...rest} = this.props;\n\t\t\tdelete rest.defaultExtended;\n\n\t\t\treturn (\n\t\t\t\t<Wrapped\n\t\t\t\t\t{...rest}\n\t\t\t\t\textended={this.state.extended}\n\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\tonToggleExtended={this.handleToggleExtended}\n\t\t\t\t\tonHueChanged={this.handleSlider('h')}\n\t\t\t\t\tonSaturationChanged={this.handleSlider('s')}\n\t\t\t\t\tonLightnessChanged={this.handleSlider('l')}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n});\n\n/**\n * Applies Agate specific behaviors to [ColorPickerBase]{@link agate/ColorPicker.ColorPickerBase}.\n *\n * @hoc\n * @memberof agate/ColorPicker\n * @mixes ui/Toggleable.Toggleable\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst ColorPickerDecorator = compose(\n\tPure,\n\tChangeable,\n\tToggleable({toggle: null, prop: 'open', toggleProp: 'onClick'}),\n\tColorPickerExtended,\n\tSkinnable\n);\n\n/**\n * A color picker component, ready to use in Agate applications.\n *\n * @class ColorPicker\n * @memberof agate/ColorPicker\n * @extends agate/ColorPicker.ColorPickerBase\n * @mixes agate/ColorPicker.ColorPickerDecorator\n * @ui\n * @public\n */\nconst ColorPicker = ColorPickerDecorator(ColorPickerBase);\n\nexport default ColorPicker;\nexport {\n\tColorPicker,\n\tColorPickerBase,\n\tColorPickerDecorator\n};\n","import kind from '@enact/core/kind';\nimport Button from '../Button';\nimport onlyUpdateForKeys from 'recompose/onlyUpdateForKeys';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport componentCss from './IncrementSliderButton.module.less';\n\n/**\n * A [Button]{@link agate/Button.Button} customized for\n * [IncrementSlider]{@link agate/IncrementSlider.IncrementSlider}. It is optimized to only\n * update when `disabled` is changed to minimize unnecessary render cycles.\n *\n * @class IncrementSliderButton\n * @memberof agate/IncrementSlider\n * @ui\n * @private\n */\n\nconst IncrementSliderButtonBase = kind({\n\tname: 'IncrementSliderButton',\n\n\tpropTypes: /** @lends agate/IncrementSlider.IncrementSliderButton.prototype */ {\n\t\tcss: PropTypes.object,\n\t\tonTap: PropTypes.func,\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\t\trole: PropTypes.string,\n\t\tsize: PropTypes.oneOf(['small', 'large'])\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'incrementSliderButton'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({orientation, role, styler}) => styler.append(orientation, role)\n\t},\n\n\trender: ({css, onTap, size, ...rest}) => {\n\t\tdelete rest.orientation;\n\t\tdelete rest.role;\n\t\treturn (\n\t\t\t<Button\n\t\t\t\t{...rest}\n\t\t\t\tcss={css}\n\t\t\t\tonTap={onTap}\n\t\t\t\tonHold={onTap}\n\t\t\t\tonHoldPulse={onTap}\n\t\t\t\tsize={size}\n\t\t\t/>\n\t\t);\n\t}\n});\n\nconst OnlyUpdate = onlyUpdateForKeys(['aria-label', 'children', 'disabled', 'icon', 'size', 'spotlightDisabled']);\nconst IncrementSliderButton = OnlyUpdate(IncrementSliderButtonBase);\n\nexport default IncrementSliderButton;\nexport {\n\tIncrementSliderButton,\n\tIncrementSliderButtonBase\n};\n","/**\n * An interactive numeric range picker with increment decrement\n *\n * @example\n * <IncrementSlider\n *   decrementIcon=\"minus\"\n *   defaultValue={-25}\n *   incrementIcon=\"plus\"\n *   knobStep={25}\n *   max={100}\n *   min={-100}\n *   step={5}\n * />\n *\n * @module agate/IncrementSlider\n * @exports IncrementSlider\n * @exports IncrementSliderBase\n * @exports IncrementSliderDecorator\n */\n\nimport {forward} from '@enact/core/handle';\nimport {is} from '@enact/core/keymap';\nimport kind from '@enact/core/kind';\nimport {extractAriaProps} from '@enact/core/util';\nimport Spottable from '@enact/spotlight/Spottable';\nimport Changeable from '@enact/ui/Changeable';\nimport IdProvider from '@enact/ui/internal/IdProvider';\nimport Slottable from '@enact/ui/Slottable';\nimport Pure from '@enact/ui/internal/Pure';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport $L from '../internal/$L';\nimport Skinnable from '../Skinnable';\nimport {SliderBase} from '../Slider';\nimport {emitChange} from '../Slider/utils';\nimport SliderBehaviorDecorator from '../Slider/SliderBehaviorDecorator';\n\nimport IncrementSliderButton from './IncrementSliderButton';\nimport componentCss from './IncrementSlider.module.less';\n\nconst isDown = is('down');\nconst isLeft = is('left');\nconst isRight = is('right');\nconst isUp = is('up');\n\nconst Slider = Spottable(Skinnable(SliderBase));\n\nconst forwardWithType = (type, props) => forward(type, {type}, props);\n\n/**\n * A stateless Slider with IconButtons to increment and decrement the value. In most circumstances,\n * you will want to use the stateful version: {@link agate/IncrementSlider.IncrementSlider}.\n *\n * @class IncrementSliderBase\n * @memberof agate/IncrementSlider\n * @extends agate/Slider.SliderBase\n * @mixes agate/Skinnable.Skinnable\n * @mixes spotlight/Spottable.Spottable\n * @ui\n * @public\n */\nconst IncrementSliderBase = kind({\n\tname: 'IncrementSlider',\n\n\tpropTypes: /** @lends agate/IncrementSlider.IncrementSliderBase.prototype */ {\n\t\t/**\n\t\t * Sets the knob to selected state and allows it to move via 5-way controls.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tactive: PropTypes.bool,\n\n\t\t/**\n\t\t * Prevents read out of both the slider and the increment and decrement\n\t\t * buttons.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @memberof agate/IncrementSlider.IncrementSliderBase.prototype\n\t\t * @public\n\t\t */\n\t\t'aria-hidden': PropTypes.bool,\n\n\t\t/**\n\t\t * Overrides the `aria-valuetext` for the slider. By default, `aria-valuetext` is set\n\t\t * to the current value. This should only be used when the parent controls the value of\n\t\t * the slider directly through the props.\n\t\t *\n\t\t * @type {String|Number}\n\t\t * @memberof agate/IncrementSlider.IncrementSliderBase.prototype\n\t\t * @public\n\t\t */\n\t\t'aria-valuetext': PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n\t\t/**\n\t\t * Background progress, as a proportion between `0` and `1`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tbackgroundProgress: PropTypes.number,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * @type {Object}\n\t\t * @private\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The `data-webos-voice-group-label` for the IconButton of IncrementSlider.\n\t\t *\n\t\t * @type {String}\n\t\t * @memberof agate/IncrementSlider.IncrementSliderBase.prototype\n\t\t * @public\n\t\t */\n\t\t'data-webos-voice-group-label': PropTypes.string,\n\n\t\t/**\n\t\t* Sets the hint string read when focusing the decrement button.\n\t\t*\n\t\t* @default 'press button to decrease the value'\n\t\t* @type {String}\n\t\t* @public\n\t\t*/\n\t\tdecrementAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * Assign a custom icon for the decrementer. All strings supported by [Icon]{@link agate/Icon.Icon} are\n\t\t * supported. Without a custom icon, the default is used, and is automatically changed when\n\t\t * [vertical]{@link agate/IncrementSlider.IncrementSlider#vertical} is changed.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tdecrementIcon: PropTypes.string,\n\n\t\t/**\n\t\t * Disables the slider and prevents events from firing.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Indicates focused state.\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tfocused: PropTypes.bool,\n\n\t\t/**\n\t\t * The slider id reference for setting aria-controls.\n\t\t *\n\t\t * @type {String}\n\t\t * @private\n\t\t */\n\t\tid: PropTypes.string,\n\n\t\t/**\n\t\t* Sets the hint string read when focusing the increment button.\n\t\t*\n\t\t* @default 'press button to increase the value'\n\t\t* @type {String}\n\t\t* @public\n\t\t*/\n\t\tincrementAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * Assign a custom icon for the incrementer. All strings supported by [Icon]{@link agate/Icon.Icon} are\n\t\t * supported. Without a custom icon, the default is used, and is automatically changed when\n\t\t * [vertical]{@link agate/IncrementSlider.IncrementSlider#vertical} is changed.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tincrementIcon: PropTypes.string,\n\n\t\t/**\n\t\t * The amount to increment or decrement the position of the knob via 5-way controls.\n\t\t *\n\t\t * If not specified, `step` is used for the default value.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tknobStep: PropTypes.number,\n\n\t\t/**\n\t\t * The maximum value of the increment slider.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 100\n\t\t * @public\n\t\t */\n\t\tmax: PropTypes.number,\n\n\t\t/**\n\t\t * The minimum value of the increment slider.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tmin: PropTypes.number,\n\n\t\t/**\n\t\t * Hides the slider bar fill and prevents highlight when spotted.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tnoFill: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when the knob is activated or deactivated by selecting it via 5-way.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonActivate: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the value is changed.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @param {Number} event.value The current value\n\t\t * @public\n\t\t */\n\t\tonChange: PropTypes.func,\n\n\t\t/**\n\t\t * Called run when the decrement button becomes disabled.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tonDecrementSpotlightDisappear: PropTypes.func,\n\n\t\t/**\n\t\t * Forwarded from SliderBehaviorDecorator onto the internal slider.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tonDragEnd: PropTypes.func,\n\n\t\t/**\n\t\t * Forwarded from SliderBehaviorDecorator onto the internal slider.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tonDragStart: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the increment button becomes disabled.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tonIncrementSpotlightDisappear: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the increment button becomes disabled.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tonSpotlightDirection: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the component is removed while retaining focus.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonSpotlightDisappear: PropTypes.func,\n\n\t\t/**\n\t\t * Called prior to focus leaving the component when the 5-way down key is pressed.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonSpotlightDown: PropTypes.func,\n\n\t\t/**\n\t\t * Called prior to focus leaving the component when the 5-way left key is pressed.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonSpotlightLeft: PropTypes.func,\n\n\t\t/**\n\t\t * Called prior to focus leaving the component when the 5-way right key is pressed.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonSpotlightRight: PropTypes.func,\n\n\t\t/**\n\t\t * Called prior to focus leaving the component when the 5-way up key is pressed.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonSpotlightUp: PropTypes.func,\n\n\t\t/**\n\t\t * Sets the orientation of the slider, whether the slider moves left and right or up and\n\t\t * down. Must be either `'horizontal'` or `'vertical'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'horizontal'\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t/**\n\t\t * Sets the point, as a proportion between 0 and 1, from which the slider is filled.\n\t\t *\n\t\t * Applies to both the slider's `value` and `backgroundProgress`. In both cases,\n\t\t * setting the value of `progressAnchor` will cause the slider to fill from that point\n\t\t * down, when `value` or `backgroundProgress` is proportionally less than the anchor, or up,\n\t\t * when `value` or `backgroundProgress` is proportionally greater than the anchor, rather\n\t\t * than always from the start of the slider.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tprogressAnchor: PropTypes.number,\n\n\t\t/**\n\t\t * The size of the incrementSlider.\n\t\t *\n\t\t * @type {('small'|'large')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['small', 'large']),\n\n\t\t/**\n\t\t * Disables spotlight navigation into the component.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tspotlightDisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * The amount to increment or decrement the value.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t * @public\n\t\t */\n\t\tstep: PropTypes.number,\n\n\t\t/**\n\t\t * The value of the increment slider.\n\t\t *\n\t\t * Defaults to the value of `min`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.number\n\t},\n\n\tdefaultProps: {\n\t\tbackgroundProgress: 0,\n\t\tdecrementIcon: 'minus',\n\t\tincrementIcon: 'plus',\n\t\tmax: 100,\n\t\tmin: 0,\n\t\tnoFill: false,\n\t\torientation: 'horizontal',\n\t\tprogressAnchor: 0,\n\t\tsize: 'large',\n\t\tspotlightDisabled: false,\n\t\tstep: 1\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'incrementSlider',\n\t\tpublicClassNames: ['incrementSlider']\n\t},\n\n\thandlers: {\n\t\tonDecrement: emitChange(-1),\n\t\tonIncrement: emitChange(1),\n\t\tonKeyDown: (ev, props) => {\n\t\t\tconst {orientation} = props;\n\n\t\t\tforward('onKeyDown', ev, props);\n\n\t\t\t// if the source of the event is the slider, forward it along\n\t\t\tif (ev.target.classList.contains(componentCss.slider)) {\n\t\t\t\tforward('onSpotlightDirection', ev, props);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst isIncrement = ev.target.classList.contains(componentCss.incrementButton);\n\t\t\tconst isDecrement = ev.target.classList.contains(componentCss.decrementButton);\n\n\t\t\tif (isRight(ev.keyCode) && (isIncrement || orientation === 'vertical')) {\n\t\t\t\tforwardWithType('onSpotlightRight', props);\n\t\t\t} else if (isLeft(ev.keyCode) && (isDecrement || orientation === 'vertical')) {\n\t\t\t\tforwardWithType('onSpotlightLeft', props);\n\t\t\t} else if (isUp(ev.keyCode) && (isIncrement || orientation === 'horizontal')) {\n\t\t\t\tforwardWithType('onSpotlightUp', props);\n\t\t\t} else if (isDown(ev.keyCode) && (isDecrement || orientation === 'horizontal')) {\n\t\t\t\tforwardWithType('onSpotlightDown', props);\n\t\t\t}\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tclassName: ({orientation, size, styler}) => styler.append(orientation, size),\n\t\tdecrementDisabled: ({disabled, min, value = min}) => disabled || value <= min,\n\t\tincrementDisabled: ({disabled, max, min, value = min}) => disabled || value >= max,\n\t\tdecrementAriaLabel: ({'aria-valuetext': valueText, decrementAriaLabel, min, value = min}) => {\n\t\t\tif (decrementAriaLabel == null) {\n\t\t\t\tdecrementAriaLabel = $L('press button to decrease the value');\n\t\t\t}\n\n\t\t\treturn `${valueText != null ? valueText : value} ${decrementAriaLabel}`;\n\t\t},\n\t\tincrementAriaLabel: ({'aria-valuetext': valueText, incrementAriaLabel, min, value = min}) => {\n\t\t\tif (incrementAriaLabel == null) {\n\t\t\t\tincrementAriaLabel = $L('press button to increase the value');\n\t\t\t}\n\n\t\t\treturn `${valueText != null ? valueText : value} ${incrementAriaLabel}`;\n\t\t}\n\t},\n\n\trender: ({active,\n\t\t'aria-hidden': ariaHidden,\n\t\t'data-webos-voice-group-label': voiceGroupLabel,\n\t\tbackgroundProgress,\n\t\tcss,\n\t\tdecrementAriaLabel,\n\t\tdecrementDisabled,\n\t\tdecrementIcon,\n\t\tdisabled,\n\t\tfocused,\n\t\tid,\n\t\tincrementAriaLabel,\n\t\tincrementDisabled,\n\t\tincrementIcon,\n\t\tknobStep,\n\t\tmax,\n\t\tmin,\n\t\tnoFill,\n\t\tonActivate,\n\t\tonChange,\n\t\tonDecrement,\n\t\tonDecrementSpotlightDisappear,\n\t\tonDragEnd,\n\t\tonDragStart,\n\t\tonIncrement,\n\t\tonIncrementSpotlightDisappear,\n\t\tonSpotlightDisappear,\n\t\torientation,\n\t\tprogressAnchor,\n\t\tsize,\n\t\tspotlightDisabled,\n\t\tstep,\n\t\tvalue,\n\t\t...rest\n\t}) => {\n\t\tconst ariaProps = extractAriaProps(rest);\n\t\tdelete rest.onSpotlightDirection;\n\t\tdelete rest.onSpotlightDown;\n\t\tdelete rest.onSpotlightLeft;\n\t\tdelete rest.onSpotlightRight;\n\t\tdelete rest.onSpotlightUp;\n\n\t\treturn (\n\t\t\t<div aria-hidden={ariaHidden} {...rest}>\n\t\t\t\t<IncrementSliderButton\n\t\t\t\t\taria-controls={!incrementDisabled ? id : null}\n\t\t\t\t\taria-label={decrementAriaLabel}\n\t\t\t\t\tclassName={css.decrementButton}\n\t\t\t\t\tdata-webos-voice-group-label={voiceGroupLabel}\n\t\t\t\t\tdisabled={decrementDisabled}\n\t\t\t\t\ticon={decrementIcon}\n\t\t\t\t\tonTap={onDecrement}\n\t\t\t\t\tonSpotlightDisappear={onDecrementSpotlightDisappear}\n\t\t\t\t\torientation={orientation}\n\t\t\t\t\tsize={size}\n\t\t\t\t\tspotlightDisabled={spotlightDisabled}\n\t\t\t\t/>\n\t\t\t\t<Slider\n\t\t\t\t\t{...ariaProps}\n\t\t\t\t\tactive={active}\n\t\t\t\t\tbackgroundProgress={backgroundProgress}\n\t\t\t\t\tcss={css}\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\tfocused={focused}\n\t\t\t\t\tid={id}\n\t\t\t\t\tknobStep={knobStep}\n\t\t\t\t\tmax={max}\n\t\t\t\t\tmin={min}\n\t\t\t\t\tnoFill={noFill}\n\t\t\t\t\tonActivate={onActivate}\n\t\t\t\t\tonChange={onChange}\n\t\t\t\t\tonDragEnd={onDragEnd}\n\t\t\t\t\tonDragStart={onDragStart}\n\t\t\t\t\tonSpotlightDisappear={onSpotlightDisappear}\n\t\t\t\t\torientation={orientation}\n\t\t\t\t\tspotlightDisabled={spotlightDisabled}\n\t\t\t\t\tprogressAnchor={progressAnchor}\n\t\t\t\t\tstep={step}\n\t\t\t\t\tvalue={value}\n\t\t\t\t/>\n\t\t\t\t<IncrementSliderButton\n\t\t\t\t\taria-controls={!decrementDisabled ? id : null}\n\t\t\t\t\taria-label={incrementAriaLabel}\n\t\t\t\t\tclassName={css.incrementButton}\n\t\t\t\t\tdata-webos-voice-group-label={voiceGroupLabel}\n\t\t\t\t\tdisabled={incrementDisabled}\n\t\t\t\t\ticon={incrementIcon}\n\t\t\t\t\tonSpotlightDisappear={onIncrementSpotlightDisappear}\n\t\t\t\t\tonTap={onIncrement}\n\t\t\t\t\torientation={orientation}\n\t\t\t\t\tsize={size}\n\t\t\t\t\tspotlightDisabled={spotlightDisabled}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nconst IncrementSliderDecorator = compose(\n\tPure,\n\tChangeable,\n\tIdProvider({generateProp: null, prefix: 's_'}),\n\tSliderBehaviorDecorator({emitSpotlightEvents: 'onSpotlightDirection'}),\n\tSkinnable,\n\tSlottable({slots: ['knob']})\n);\n\n/**\n * An IncrementSlider with Agate styling and SliderDecorator applied with IconButtons to\n * increment and decrement the value.\n *\n * By default, `IncrementSlider` maintains the state of its `value` property. Supply the\n * `defaultValue` property to control its initial value. If you wish to directly control updates\n * to the component, supply a value to `value` at creation time and update it in response to\n * `onChange` events.\n *\n * @class IncrementSlider\n * @memberof agate/IncrementSlider\n * @extends agate/IncrementSlider.IncrementSliderBase\n * @ui\n * @public\n */\nconst IncrementSlider = IncrementSliderDecorator(IncrementSliderBase);\n\nexport default IncrementSlider;\nexport {\n\tIncrementSlider,\n\tIncrementSliderBase,\n\tIncrementSliderDecorator\n};\n","/**\n * Adds spottability to components.\n *\n * @module spotlight/Spottable\n * @exports Spottable\n * @exports spottableClass\n */\n\nimport {forward, handle, preventDefault, stop} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport {is} from '@enact/core/keymap';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {getContainersForNode} from '../src/container';\nimport {getDirection, Spotlight} from '../src/spotlight';\n\n/**\n * The class name for spottable components. In general, you do not need to directly access this class\n *\n * @memberof spotlight/Spottable\n * @public\n */\nconst spottableClass = 'spottable';\n\nconst ENTER_KEY = 13;\nconst REMOTE_OK_KEY = 16777221;\n\nconst isKeyboardAccessible = (node) => {\n\tif (!node) return false;\n\tconst name = node.nodeName.toUpperCase();\n\tconst type = node.type ? node.type.toUpperCase() : null;\n\treturn (\n\t\tname === 'BUTTON' ||\n\t\tname === 'A' ||\n\t\tname === 'INPUT' && (\n\t\t\ttype === 'BUTTON' ||\n\t\t\ttype === 'CHECKBOX' ||\n\t\t\ttype === 'IMAGE' ||\n\t\t\ttype === 'RADIO' ||\n\t\t\ttype === 'RESET' ||\n\t\t\ttype === 'SUBMIT'\n\t\t)\n\t);\n};\n\nconst isSpottable = (props) => !props.spotlightDisabled;\n\n// Last instance of spottable to be focused\nlet lastSelectTarget = null;\n// Should we prevent select being passed through\nlet selectCancelled = false;\n\n/**\n * Default configuration for Spottable\n *\n * @hocconfig\n * @memberof spotlight/Spottable.Spottable\n */\nconst defaultConfig = {\n\t/**\n\t * Whether or not the component should emulate mouse events as a response\n\t * to Spotlight 5-way events.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t * @memberof spotlight/Spottable.Spottable.defaultConfig\n\t */\n\temulateMouse: true\n};\n\n/**\n * Constructs a Spotlight 5-way navigation-enabled higher-order component.\n *\n * Note: This HoC passes a number of props to the wrapped component that should be passed to the\n * main DOM node.\n *\n * Example:\n * ```\n *\tconst Component = ({myProp, ...rest}) => (\n *\t\t<div {...rest}>{myProp}</div>\n *\t);\n *\t...\n *\tconst SpottableComponent = Spottable(Component);\n * ```\n * @class Spottable\n * @memberof spotlight/Spottable\n * @param  {Object} defaultConfig Set of default configuration parameters\n * @param  {Function} Wrapped Component to wrap\n *\n * @hoc\n * @returns {Function} Spottable\n */\nconst Spottable = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {emulateMouse} = config;\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'Spottable';\n\n\t\tstatic propTypes = /** @lends spotlight/Spottable.Spottable.prototype */ {\n\t\t\t/**\n\t\t\t * Whether or not the component is in a disabled state.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tdisabled: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * The handler to run when the component is removed while retaining focus.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @param {Object} event\n\t\t\t * @public\n\t\t\t */\n\t\t\tonSpotlightDisappear: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * The handler to run when the 5-way down key is pressed.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @param {Object} event\n\t\t\t * @public\n\t\t\t */\n\t\t\tonSpotlightDown: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * The handler to run when the 5-way left key is pressed.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @param {Object} event\n\t\t\t * @public\n\t\t\t */\n\t\t\tonSpotlightLeft: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * The handler to run when the 5-way right key is pressed.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @param {Object} event\n\t\t\t * @public\n\t\t\t */\n\t\t\tonSpotlightRight: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * The handler to run when the 5-way up key is pressed.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @param {Object} event\n\t\t\t * @public\n\t\t\t */\n\t\t\tonSpotlightUp: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * An array of numbers representing keyCodes that should trigger mouse event\n\t\t\t * emulation when `emulateMouse` is `true`. If a keyCode equals a directional\n\t\t\t * key, then default 5-way navigation will be prevented when that key is pressed.\n\t\t\t *\n\t\t\t * @type {Number[]}\n\t\t\t * @default [13, 16777221]\n\t\t\t * @public\n\t\t\t */\n\t\t\tselectionKeys: PropTypes.arrayOf(PropTypes.number),\n\n\t\t\t/**\n\t\t\t * When `true`, the component cannot be navigated using spotlight.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tspotlightDisabled: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Used to identify this component within the Spotlight system\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\tspotlightId: PropTypes.string,\n\n\t\t\t/**\n\t\t\t * The tabIndex of the component. This value will default to -1 if left\n\t\t\t * unset and the control is spottable.\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @public\n\t\t\t */\n\t\t\ttabIndex: PropTypes.number\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\tselectionKeys: [ENTER_KEY, REMOTE_OK_KEY]\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tthis.isHovered = false;\n\t\t\t// Used to indicate that we want to stop propagation on blur events that occur as a\n\t\t\t// result of this component imperatively blurring itself on focus when spotlightDisabled\n\t\t\tthis.shouldPreventBlur = false;\n\t\t\tthis.isFocused = false;\n\t\t\tthis.focusedWhenDisabled = false;\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\t// eslint-disable-next-line react/no-find-dom-node\n\t\t\tthis.node = ReactDOM.findDOMNode(this);\n\t\t}\n\n\t\tcomponentDidUpdate (prevProps) {\n\t\t\tthis.isFocused = this.node && Spotlight.getCurrent() === this.node;\n\n\t\t\t// if the component is focused and became disabled\n\t\t\tif (this.isFocused && this.props.disabled && lastSelectTarget === this && !selectCancelled) {\n\t\t\t\tselectCancelled = true;\n\t\t\t\tforward('onMouseUp', null, this.props);\n\t\t\t}\n\n\t\t\t// if the component became enabled, notify spotlight to enable restoring \"lost\" focus\n\t\t\tif (isSpottable(this.props) && !isSpottable(prevProps) && !Spotlight.isPaused()) {\n\t\t\t\tif (Spotlight.getPointerMode()) {\n\t\t\t\t\tif (this.isHovered) {\n\t\t\t\t\t\tSpotlight.setPointerMode(false);\n\t\t\t\t\t\tSpotlight.focus(this.node);\n\t\t\t\t\t\tSpotlight.setPointerMode(true);\n\t\t\t\t\t}\n\t\t\t\t} else if (!Spotlight.getCurrent()) {\n\t\t\t\t\tconst containers = getContainersForNode(this.node);\n\t\t\t\t\tconst containerId = Spotlight.getActiveContainer();\n\t\t\t\t\tif (containers.indexOf(containerId) >= 0) {\n\t\t\t\t\t\tSpotlight.focus(containerId);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tif (this.isFocused) {\n\t\t\t\tforward('onSpotlightDisappear', null, this.props);\n\t\t\t}\n\t\t\tif (lastSelectTarget === this) {\n\t\t\t\tlastSelectTarget = null;\n\t\t\t}\n\t\t}\n\n\t\tshouldEmulateMouse = (ev, props) => {\n\t\t\tif (!emulateMouse) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst {currentTarget, repeat, type, which} = ev;\n\t\t\tconst {selectionKeys} = props;\n\t\t\tconst keyboardAccessible = isKeyboardAccessible(currentTarget);\n\n\t\t\tconst keyCode = selectionKeys.find((value) => (\n\t\t\t\t// emulate mouse events for any remote okay button event\n\t\t\t\twhich === REMOTE_OK_KEY ||\n\t\t\t\t// or a non-keypress selection event or any selection event on a non-keyboard accessible\n\t\t\t\t// control\n\t\t\t\t(\n\t\t\t\t\twhich === value &&\n\t\t\t\t\t(type !== 'keypress' || !keyboardAccessible)\n\t\t\t\t)\n\t\t\t));\n\n\t\t\tif (getDirection(keyCode)) {\n\t\t\t\tpreventDefault(ev);\n\t\t\t\tstop(ev);\n\t\t\t} else if (keyCode && keyboardAccessible) {\n\t\t\t\tpreventDefault(ev);\n\t\t\t}\n\n\t\t\treturn keyCode && !repeat;\n\t\t};\n\n\t\tforwardSpotlightEvents = (ev, {onSpotlightDown, onSpotlightLeft, onSpotlightRight, onSpotlightUp}) => {\n\t\t\tconst {keyCode} = ev;\n\n\t\t\tif (onSpotlightDown && is('down', keyCode)) {\n\t\t\t\tonSpotlightDown(ev);\n\t\t\t} else if (onSpotlightLeft && is('left', keyCode)) {\n\t\t\t\tonSpotlightLeft(ev);\n\t\t\t} else if (onSpotlightRight && is('right', keyCode)) {\n\t\t\t\tonSpotlightRight(ev);\n\t\t\t} else if (onSpotlightUp && is('up', keyCode)) {\n\t\t\t\tonSpotlightUp(ev);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t};\n\n\t\thandleSelect = ({which}, props) => {\n\t\t\tconst {selectionKeys} = props;\n\n\t\t\t// Only apply accelerator if handling a selection key\n\t\t\tif (selectionKeys.find((value) => which === value)) {\n\t\t\t\tif (selectCancelled || (lastSelectTarget && lastSelectTarget !== this)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlastSelectTarget = this;\n\t\t\t}\n\t\t\treturn true;\n\t\t};\n\n\t\tforwardAndResetLastSelectTarget = (ev, props) => {\n\t\t\tconst {keyCode} = ev;\n\t\t\tconst {selectionKeys} = props;\n\t\t\tconst key = selectionKeys.find((value) => keyCode === value);\n\n\t\t\t// FIXME: temporary patch to maintain compatibility with moonstone 3.2.5 which\n\t\t\t// deconstructs `preventDefault` from the event which is incompatible with React's\n\t\t\t// synthetic event.\n\t\t\tev.preventDefault = ev.preventDefault.bind(ev);\n\n\t\t\tforward('onKeyUp', ev, props);\n\t\t\tconst notPrevented = !ev.defaultPrevented;\n\n\t\t\t// bail early for non-selection keyup to avoid clearing lastSelectTarget prematurely\n\t\t\tif (!key && (!is('enter', keyCode) || !getDirection(keyCode))) {\n\t\t\t\treturn notPrevented;\n\t\t\t}\n\n\t\t\tconst allow = lastSelectTarget === this;\n\t\t\tselectCancelled = false;\n\t\t\tlastSelectTarget = null;\n\t\t\treturn notPrevented && allow;\n\t\t};\n\n\t\tisActionable = (ev, props) => isSpottable(props);\n\n\t\thandle = handle.bind(this);\n\n\t\thandleKeyDown = this.handle(\n\t\t\tforward('onKeyDown'),\n\t\t\t(ev) => !ev.defaultPrevented,\n\t\t\tthis.forwardSpotlightEvents,\n\t\t\tthis.isActionable,\n\t\t\tthis.handleSelect,\n\t\t\tthis.shouldEmulateMouse,\n\t\t\tforward('onMouseDown')\n\t\t);\n\n\t\thandleKeyUp = this.handle(\n\t\t\tthis.forwardAndResetLastSelectTarget,\n\t\t\tthis.isActionable,\n\t\t\tthis.shouldEmulateMouse,\n\t\t\tforward('onMouseUp'),\n\t\t\tforward('onClick')\n\t\t);\n\n\t\thandleBlur = (ev) => {\n\t\t\tif (this.shouldPreventBlur) return;\n\t\t\tif (ev.currentTarget === ev.target) {\n\t\t\t\tthis.isFocused = false;\n\t\t\t\tif (this.focusedWhenDisabled) {\n\t\t\t\t\tthis.focusedWhenDisabled = false;\n\t\t\t\t\t// We only need to trigger a rerender if a focused item becomes disabled and still needs its focus.\n\t\t\t\t\t// Once it blurs we need to rerender to remove the spottable class so it will not spot again.\n\t\t\t\t\t// The reason we don't use state is for performance reasons to avoid updates.\n\t\t\t\t\tthis.forceUpdate();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (Spotlight.isMuted(ev.target)) {\n\t\t\t\tev.stopPropagation();\n\t\t\t} else {\n\t\t\t\tforward('onBlur', ev, this.props);\n\t\t\t}\n\t\t};\n\n\t\thandleFocus = (ev) => {\n\t\t\tif (this.props.spotlightDisabled) {\n\t\t\t\tthis.shouldPreventBlur = true;\n\t\t\t\tev.target.blur();\n\t\t\t\tthis.shouldPreventBlur = false;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (ev.currentTarget === ev.target) {\n\t\t\t\tthis.isFocused = true;\n\t\t\t}\n\n\t\t\tif (Spotlight.isMuted(ev.target)) {\n\t\t\t\tev.stopPropagation();\n\t\t\t} else {\n\t\t\t\tforward('onFocus', ev, this.props);\n\t\t\t}\n\t\t};\n\n\t\thandleEnter = (ev) => {\n\t\t\tforward('onMouseEnter', ev, this.props);\n\t\t\tthis.isHovered = true;\n\t\t};\n\n\t\thandleLeave = (ev) => {\n\t\t\tforward('onMouseLeave', ev, this.props);\n\t\t\tthis.isHovered = false;\n\t\t};\n\n\t\trender () {\n\t\t\tconst {disabled, spotlightId, spotlightDisabled, ...rest} = this.props;\n\t\t\tthis.focusedWhenDisabled = this.isFocused && spotlightDisabled;\n\t\t\tconst spottable = this.focusedWhenDisabled || isSpottable(this.props);\n\n\t\t\tlet tabIndex = rest.tabIndex;\n\n\t\t\tdelete rest.onSpotlightDisappear;\n\t\t\tdelete rest.onSpotlightDown;\n\t\t\tdelete rest.onSpotlightLeft;\n\t\t\tdelete rest.onSpotlightRight;\n\t\t\tdelete rest.onSpotlightUp;\n\t\t\tdelete rest.selectionKeys;\n\t\t\tdelete rest.spotlightDisabled;\n\n\t\t\tif (tabIndex == null) {\n\t\t\t\ttabIndex = -1;\n\t\t\t}\n\n\t\t\tif (spottable) {\n\t\t\t\tif (rest.className) {\n\t\t\t\t\trest.className += ' ' + spottableClass;\n\t\t\t\t} else {\n\t\t\t\t\trest.className = spottableClass;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (spotlightId) {\n\t\t\t\trest['data-spotlight-id'] = spotlightId;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Wrapped\n\t\t\t\t\t{...rest}\n\t\t\t\t\tonBlur={this.handleBlur}\n\t\t\t\t\tonFocus={this.handleFocus}\n\t\t\t\t\tonMouseEnter={this.handleEnter}\n\t\t\t\t\tonMouseLeave={this.handleLeave}\n\t\t\t\t\tonKeyDown={this.handleKeyDown}\n\t\t\t\t\tonKeyUp={this.handleKeyUp}\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\ttabIndex={tabIndex}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default Spottable;\nexport {Spottable, spottableClass};\n","/**\n * Provides an Agate-themed tab group.\n *\n * @module agate/TabGroup\n * @exports TabGroup\n * @exports TabGroupBase\n */\n\nimport {cap} from '@enact/core/util';\nimport {Cell, Layout} from '@enact/ui/Layout';\nimport Group from '@enact/ui/Group';\nimport kind from '@enact/core/kind';\nimport ToggleButton from '../ToggleButton';\nimport LabeledIcon from '../LabeledIcon';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Slottable from '@enact/ui/Slottable';\nimport Spottable from '@enact/spotlight/Spottable';\n\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './TabGroup.module.less';\n\nconst TabBase = kind({\n\tname: 'Tab',\n\n\tpropTypes: {\n\t\tcss: PropTypes.object,\n\t\ticon: PropTypes.string,\n\t\tlabelPosition: PropTypes.string,\n\t\tonClick: PropTypes.func,\n\t\torientation: PropTypes.string,\n\t\tselected: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\ticon: 'star'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'tab'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({selected, styler}) => styler.append({selected}),\n\t\ttabLabel: ({children, className, css, icon, labelPosition, orientation, selected}) => {\n\t\t\tlet inline;\n\t\t\tif (orientation === 'horizontal') {\n\t\t\t\tinline = true;\n\t\t\t}\n\n\t\t\tif (className.includes('copper') || className.includes('cobalt')) {\n\t\t\t\treturn (\n\t\t\t\t\t<div className={css.labeledIcon}>\n\t\t\t\t\t\t<ToggleButton\n\t\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\t\tselected={selected}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn (\n\t\t\t\t\t<LabeledIcon\n\t\t\t\t\t\tclassName={css.labeledIcon}\n\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\tinline={inline}\n\t\t\t\t\t\tlabelPosition={labelPosition}\n\t\t\t\t\t>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</LabeledIcon>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t},\n\n\trender: ({onClick, orientation, style = {}, tabLabel, ...rest}) => {\n\t\tdelete rest.labelPosition;\n\t\tdelete rest.selected;\n\n\t\tif (orientation === 'horizontal') {\n\t\t\tstyle.textAlign = 'center';\n\t\t}\n\t\treturn (\n\t\t\t<Cell {...rest} style={style} onClick={onClick}>\n\t\t\t\t{tabLabel}\n\t\t\t</Cell>\n\t\t);\n\t}\n});\nconst Tab = Skinnable(Spottable(TabBase));\n\n/**\n * TBD.\n *\n * @class TabGroup\n * @memberof agate/TabGroup\n * @mixes agate/Skinnable.Skinnable\n * @ui\n * @public\n */\nconst TabGroupBase = kind({\n\tname: 'TabGroup',\n\n\tpropTypes: /** @lends agate/TabGroup.TabGroup.prototype */ {\n\t\ttabPosition: PropTypes.string.isRequired,\n\t\ttabs: PropTypes.array.isRequired,\n\t\tafterTabs: PropTypes.node,\n\t\tbeforeTabs: PropTypes.node,\n\t\tcss: PropTypes.object,\n\t\torientation: PropTypes.string,\n\t\tselectedIndex: PropTypes.number\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'tabBar'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({orientation, tabPosition, styler}) => styler.append(orientation, ['position' + cap(tabPosition)]),\n\t\tlabelPosition: ({orientation, tabPosition}) => {\n\t\t\t// TODO: this keeps the label always between the icon and the panels, is it necessary?\n\t\t\tif (orientation === 'vertical') {\n\t\t\t\tif (tabPosition === 'before') {\n\t\t\t\t\treturn 'after';\n\t\t\t\t} else {\n\t\t\t\t\treturn 'before';\n\t\t\t\t}\n\t\t\t} else if (tabPosition === 'before') {\n\t\t\t\treturn 'below';\n\t\t\t} else {\n\t\t\t\treturn 'above';\n\t\t\t}\n\t\t},\n\t\tchildren: ({tabs}) => tabs.map((tab, i) => {\n\t\t\ttab.key = 'tab' + i;\n\t\t\ttab.children = tab.title || tab.children;\n\t\t\tdelete tab.title;\n\t\t\treturn tab;\n\t\t})\n\t},\n\n\trender: ({afterTabs, beforeTabs, className, css, labelPosition, orientation, selectedIndex, style, ...rest}) => {\n\t\tdelete rest.tabPosition;\n\t\tdelete rest.tabs;\n\n\t\treturn (\n\t\t\t<Layout orientation={orientation} className={className} align=\"stretch\" style={style}>\n\t\t\t\t{beforeTabs ? <Cell className={css.tabEnds} shrink>\n\t\t\t\t\t{beforeTabs}\n\t\t\t\t</Cell> : null}\n\t\t\t\t<Cell>\n\t\t\t\t\t<Layout\n\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\tclassName={css.tabGroup}\n\t\t\t\t\t\talign=\"stretch center\"\n\t\t\t\t\t\tchildComponent={Tab}\n\t\t\t\t\t\tcomponent={Group}\n\t\t\t\t\t\titemProps={{\n\t\t\t\t\t\t\tlabelPosition,\n\t\t\t\t\t\t\torientation,\n\t\t\t\t\t\t\tshrink: (orientation === 'vertical')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\torientation={orientation}\n\t\t\t\t\t\tselect=\"radio\"\n\t\t\t\t\t\tselected={selectedIndex}\n\t\t\t\t\t\tselectedProp=\"selected\"\n\t\t\t\t\t/>\n\t\t\t\t</Cell>\n\t\t\t\t{afterTabs ? <Cell className={css.tabEnds} shrink>\n\t\t\t\t\t{afterTabs}\n\t\t\t\t</Cell> : null}\n\t\t\t</Layout>\n\t\t);\n\t}\n});\n\nTabGroupBase.defaultSlot = 'tabs';\n\n// Only documenting TabGroup since base is not useful for extension as-is\nconst TabGroup = Skinnable(Slottable({slots: ['tabs', 'afterTabs', 'beforeTabs']}, TabGroupBase));\n\nexport default TabGroup;\nexport {\n\tTabGroup,\n\tTabGroupBase\n};\n","import {adaptEvent, forward, handle} from '@enact/core/handle';\nimport kind from '@enact/core/kind';\nimport {Changeable} from '@enact/ui/Changeable';\nimport {Cell, Layout} from '@enact/ui/Layout';\nimport Slottable from '@enact/ui/Slottable';\nimport {shape} from '@enact/ui/ViewManager';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Skinnable from '../Skinnable';\nimport TabGroup from '../TabGroup';\n\nimport Panels from './Panels';\n\nimport componentCss from './TabbedPanels.module.less';\n\n/**\n * Tabbed Panels component.\n *\n * @class TabbedPanels\n * @memberof agate/Panels\n * @ui\n * @public\n */\nconst TabbedPanelsBase = kind({\n\tname: 'TabbedPanels',\n\tpropTypes: /** @lends agate/Panels.TabbedPanels.prototype */ {\n\t\tafterTabs: PropTypes.node,\n\t\tarranger: shape,\n\t\tbeforeTabs: PropTypes.node,\n\t\tcloseButtonAriaLabel: PropTypes.string,\n\t\tcss: PropTypes.object,\n\t\tduration: PropTypes.number,\n\t\tindex: PropTypes.number,\n\t\tnoAnimation: PropTypes.bool,\n\t\tnoCloseButton: PropTypes.bool,\n\t\tonApplicationClose: PropTypes.func,\n\t\tonBack: PropTypes.func,\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\t\ttabPosition: PropTypes.string,\n\t\ttabs: PropTypes.array\n\t},\n\tdefaultProps: {\n\t\tindex: 0,\n\t\tnoCloseButton: false,\n\t\ttabPosition: 'before'\n\t},\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'tabbedPanels enact-fit'\n\t},\n\thandlers: {\n\t\tonSelect: handle(\n\t\t\tadaptEvent(({selected}) => ({index: selected}), forward('onSelect'))\n\t\t)\n\t},\n\tcomputed: {\n\t\tchildren: ({children, tabs}) => {\n\t\t\t// if there are children use them\n\t\t\tif (children) {\n\t\t\t\treturn children;\n\t\t\t}\n\t\t\t// otherwise try to make children from the tabs' view and viewProps\n\t\t\tif (tabs) {\n\t\t\t\treturn tabs.map((tab, index) => {\n\t\t\t\t\tconst {view: View, viewProps} = tab;\n\t\t\t\t\treturn <View key={index} {...viewProps} />;\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tclassName: ({css, orientation, styler, tabPosition}) => styler.append(tabPosition === 'after' ? css.reverse : '', orientation === 'vertical' ? css.column : ''),\n\t\ttabOrientation: ({orientation}) => orientation === 'vertical' ? 'horizontal' : 'vertical'\n\t},\n\trender: ({\n\t\tafterTabs,\n\t\tarranger,\n\t\tbeforeTabs,\n\t\tchildren,\n\t\tcloseButtonAriaLabel,\n\t\tcss,\n\t\tduration,\n\t\tindex,\n\t\tnoAnimation,\n\t\tnoCloseButton,\n\t\tonApplicationClose,\n\t\tonBack,\n\t\tonSelect,\n\t\ttabOrientation,\n\t\ttabPosition,\n\t\ttabs,\n\t\t...rest\n\t}) => {\n\t\treturn (\n\t\t\t<Layout {...rest}>\n\t\t\t\t<Cell shrink>\n\t\t\t\t\t<TabGroup\n\t\t\t\t\t\tafterTabs={afterTabs}\n\t\t\t\t\t\tbeforeTabs={beforeTabs}\n\t\t\t\t\t\tclassName={css.tabs}\n\t\t\t\t\t\tonSelect={onSelect}\n\t\t\t\t\t\torientation={tabOrientation}\n\t\t\t\t\t\ttabs={tabs}\n\t\t\t\t\t\ttabPosition={tabPosition}\n\t\t\t\t\t\tselectedIndex={index}\n\t\t\t\t\t/>\n\t\t\t\t</Cell>\n\t\t\t\t<Cell\n\t\t\t\t\tarranger={arranger}\n\t\t\t\t\tclassName={css.panels}\n\t\t\t\t\tcloseButtonAriaLabel={closeButtonAriaLabel}\n\t\t\t\t\tcomponent={Panels}\n\t\t\t\t\tduration={duration}\n\t\t\t\t\tnoAnimation={noAnimation}\n\t\t\t\t\tnoCloseButton={noCloseButton}\n\t\t\t\t\tonApplicationClose={onApplicationClose}\n\t\t\t\t\tonBack={onBack}\n\t\t\t\t\torientation={tabOrientation}\n\t\t\t\t\tindex={index}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</Cell>\n\t\t\t</Layout>\n\t\t);\n\t}\n});\n\n// Currently not documenting the base output since it's not exported from index.js\nconst TabbedPanels = Slottable(\n\t{slots: ['tabs', 'afterTabs', 'beforeTabs']},\n\tChangeable(\n\t\t{prop: 'index', change: 'onSelect'},\n\t\tSkinnable(TabbedPanelsBase)\n\t)\n);\n\nexport default TabbedPanels;\nexport {\n\tTabbedPanels,\n\tTabbedPanelsBase\n};\n","// A `React.useEvent` hooks is introduced in https://github.com/facebook/react/pull/17651\n// The `useEvent` below will be replaced with the `React.useEvent` later.\nconst utilEvent = (eventName) => {\n\treturn {\n\t\taddEventListener (ref, fn, param) {\n\t\t\tif (!ref) return;\n\n\t\t\tif (typeof window !== 'undefined' && (ref === window || ref === document)) {\n\t\t\t\tref.addEventListener(eventName, fn, param);\n\t\t\t} else if (ref.current) {\n\t\t\t\tref.current.addEventListener(eventName, fn, param);\n\t\t\t} else if (ref && ref.addEventListener) {\n\t\t\t\tref.addEventListener(eventName, fn, param);\n\t\t\t}\n\t\t},\n\n\t\tremoveEventListener (ref, fn, param) {\n\t\t\tif (!ref) return;\n\n\t\t\tif (typeof window !== 'undefined' && (ref === window || ref === document)) {\n\t\t\t\tref.removeEventListener(eventName, fn, param);\n\t\t\t} else if (ref.current) {\n\t\t\t\tref.current.removeEventListener(eventName, fn, param);\n\t\t\t} else if (ref && ref.removeEventListener) {\n\t\t\t\tref.removeEventListener(eventName, fn, param);\n\t\t\t}\n\t\t}\n\t};\n};\n\nexport default utilEvent;\nexport {\n\tutilEvent\n};\n","import useClass from '../useClass';\n\nimport Handlers from './Handlers';\n\n/**\n * Creates a map of event handlers with consistent references across renders.\n *\n * Each function in the `handlers` will receive the first argument passed by the downstream caller\n * along with the latest `props` and `context` values passed to `useHandlers`. This is designed to\n * work well with {@link core/handle} which generates handlers with this function signature.\n *\n * @param {Object.<String, Function>} handlers  Map of handler names to functions.\n * @params {any}                      [props]   Typically, the props for the component but that is\n *                                              not required.\n * @params {any}                      [context] Additional data or methods the handlers may need.\n * @returns {Object}                            A map of bound handlers\n * @private\n */\nfunction useHandlers (handlers, props, context) {\n\tconst h = useClass(Handlers, handlers);\n\th.setContext(props, context);\n\n\treturn h.handlers;\n}\n\nexport default useHandlers;\nexport {\n\tuseHandlers\n};\n","import React from 'react';\n\n/**\n * Creates one instance of the class, `Ctor` with the provided `args`, for the life of the\n * component.\n *\n * ```\n * class MyClass {\n *   constructor ({value}) {\n *     this.value = value;\n *   }\n *\n *   handleEvent = (ev) => {\n *     if (ev.key === 'Enter') {\n *       // do something with this.value\n *     }\n *   }\n * }\n *\n * function Component (props) {\n *   const inst = useClass(MyClass, props.value);\n *   return <div onClick={inst.handleEvent} />\n * }\n * ```\n *\n * @param {Function} Ctor Class constructor\n * @param  {...any}  args Arguments to pass to the constructor\n * @returns {Object}      An instance of `Ctor`\n * @private\n */\nfunction useClass (Ctor, ...args) {\n\tconst ref = React.useRef(null);\n\tref.current = ref.current || new Ctor(...args);\n\n\treturn ref.current;\n}\n\nexport default useClass;\nexport {\n\tuseClass\n};\n","class Handlers {\n\tconstructor (_handlers) {\n\t\tthis.props = {};\n\t\tthis.context = {};\n\n\t\tthis._handlers = {};\n\t\tif (_handlers) {\n\t\t\tObject.keys(_handlers).forEach(fn => {\n\t\t\t\tthis._handlers[fn] = (ev) => {\n\t\t\t\t\treturn _handlers[fn](ev, this.props, this.context);\n\t\t\t\t};\n\t\t\t\tthis._handlers[fn].displayName = fn;\n\t\t\t});\n\t\t}\n\t}\n\n\tget handlers () {\n\t\treturn this._handlers;\n\t}\n\n\tsetContext (props = {}, context = {}) {\n\t\tthis.props = props;\n\t\tthis.context = context;\n\t}\n}\n\nexport default Handlers;\nexport {\n\tHandlers\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"Layout_layout__R2SB0\",\"cell\":\"Layout_cell__2wmzr\",\"grow\":\"Layout_grow__3dlNj\",\"shrink\":\"Layout_shrink__3RcNd\",\"horizontal\":\"Layout_horizontal__14doC\",\"vertical\":\"Layout_vertical__tG-RZ\",\"inline\":\"Layout_inline__1kjz8\",\"wrap\":\"Layout_wrap__1CJ7Z\",\"nowrap\":\"Layout_nowrap__1oTjq\",\"wrapReverse\":\"Layout_wrapReverse__35MZo\"};","/**\n * Utilities to facilitate integration with v8 snapshot builds\n *\n * @module core/snapshot\n * @exports isWindowReady\n * @exports onWindowReady\n * @exports windowReady\n * @public\n */\n\nimport invariant from 'invariant';\n\nconst windowCallbacks = [];\n\n/**\n * Determines if the `window` is available\n *\n * @function\n *\n * @returns {Boolean} `true` when `window` is ready\n * @memberof core/snapshot\n * @public\n */\nfunction isWindowReady () {\n\treturn typeof window !== 'undefined';\n}\n\n/**\n * Executes a callback, such as registering event handlers, when a valid `window` is available.\n *\n * During normal operation, the callback will be executed immediately. During a pre-rendering pass,\n * the callback is not be executed at all. When using snapshot, the callback is added to a queue\n * and is executed in order once the window is available.\n *\n * *Important Notes*\n * * The callback should not alter the initial HTML state. If it does, it will invalidate the\n * pre-render state and interfere with React rehydration.\n * * The callback should be limited to module-scoped actions and not component instance actions. If\n * the action is tied to a component, it should be invoked from within the component's lifecycle\n * methods.\n *\n * @function\n * @param   {Function}    callback    Function to run when the window is ready\n *\n * @returns {undefined}\n * @memberof core/snapshot\n * @public\n */\nfunction onWindowReady (callback) {\n\tif (isWindowReady()) {\n\t\tcallback();\n\t} else {\n\t\twindowCallbacks.push(callback);\n\t}\n}\n\n/**\n * Executes all queued window callbacks.\n *\n * Requires that the window be, in fact, available and will throw an `Error` if not.\n *\n * @function\n *\n * @returns {undefined}\n * @memberof core/snapshot\n * @public\n */\nfunction windowReady () {\n\tinvariant(\n\t\tisWindowReady(),\n\t\t'windowReady cannot be run until the window is available'\n\t);\n\n\twindowCallbacks.forEach(f => f());\n}\n\nexport default onWindowReady;\nexport {\n\tisWindowReady,\n\tonWindowReady,\n\twindowReady\n};\n","/**\n * Provides the {@link spotlight/Accelerator.Accelerator} class.\n *\n * @module spotlight/Accelerator\n * @exports Accelerator\n */\n\n/**\n * @class Accelerator\n * @memberof spotlight/Accelerator\n */\nclass Accelerator {\n\t/**\n\t * @constructor\n\t * @param {Number[]} frequency - Controls the frequency with which the acceleration will\n\t *\t\"freeze\". While frozen, the current target item cannot change, and all events are directed\n\t *\tto it.\n\t * @memberof spotlight/Accelerator.Accelerator.prototype\n\t */\n\tconstructor (frequency = [3, 3, 3, 2, 2, 2, 1]) {\n\n\t\t/*\n\t\t * Whether the instance is currently in an accelerating state.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t */\n\t\tthis.accelerating = false;\n\n\t\t/*\n\t\t * The current count of skipped events.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t */\n\t\tthis.skipped = 0;\n\n\t\t/*\n\t\t * The timestamp of the last evaluated event.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t */\n\t\tthis.time = 0;\n\n\t\t/*\n\t\t * The keyCode of the last evaluated event.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t */\n\t\tthis.keyCode = 0;\n\n\t\t/*\n\t\t * Whether the instance is in a state of being canceled.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t */\n\t\tthis.canceled = false;\n\n\t\t/*\n\t\t * Controls the frequency with which the acceleration will \"freeze\". While frozen,\n\t\t * the current target item cannot change, and all events are directed to it.\n\t\t *\n\t\t * @type {Number[]}\n\t\t * @default [3, 3, 3, 2, 2, 2, 1]\n\t\t * @public\n\t\t */\n\t\tthis.frequency = frequency;\n\t}\n\n\t/**\n\t * Called with the current keydown event and callback, which will be called when the event is\n\t * allowed through.\n\t *\n\t * @function\n\t * @param  {Object} event - The current event to validate.\n\t * @param  {Function} callback - The callback to execute.\n\t * @returns {Boolean} `true` if the event was consumed by processKey and callback was not called\n\t * @public\n\t * @memberof spotlight/Accelerator.Accelerator.prototype\n\t */\n\tprocessKey = (event, callback) => {\n\t\tswitch (event.type) {\n\t\t\tcase 'keydown':\n\t\t\t\tif (event.keyCode !== this.keyCode) {\n\t\t\t\t\tthis.reset();\n\t\t\t\t\tthis.time = Date.now();\n\t\t\t\t\tthis.keyCode = event.keyCode;\n\t\t\t\t\treturn callback(event);\n\t\t\t\t} else if (this.canceled) {\n\n\t\t\t\t\t// Prevent skipped keydown events from bubbling\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\tlet elapsedTime = Date.now() - this.time,\n\t\t\t\t\t\tseconds = Math.floor(elapsedTime / 1000),\n\t\t\t\t\t\ttoSkip = 0;\n\n\t\t\t\t\tseconds = seconds > this.frequency.length - 1 ? this.frequency.length - 1 : seconds;\n\n\t\t\t\t\ttoSkip = this.frequency[seconds] - 1;\n\t\t\t\t\tif (toSkip < 0) {\n\t\t\t\t\t\ttoSkip = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.accelerating = !(seconds === 0 && this.skipped === 0);\n\n\t\t\t\t\tif (this.skipped >= toSkip) {\n\t\t\t\t\t\tthis.skipped = 0;\n\t\t\t\t\t\treturn callback(event);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.skipped++;\n\t\t\t\t\t\t// Prevent skipped keydown events from bubbling\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\tcase 'keyup':\n\t\t\t\tthis.reset();\n\t\t\t\treturn callback(event);\n\t\t}\n\t};\n\n\t/**\n\t * Resets the Accelerator instance to the default values.\n\t *\n\t * @function\n\t * @returns {undefined}\n\t * @public\n\t * @memberof spotlight/Accelerator.Accelerator.prototype\n\t */\n\treset = () => {\n\t\tthis.skipped = 0;\n\t\tthis.time = 0;\n\t\tthis.keyCode = 0;\n\t\tthis.canceled = false;\n\t\tthis.accelerating = false;\n\t};\n\n\t/**\n\t * Cancels the Accelerator.\n\t *\n\t * @function\n\t * @returns {undefined}\n\t * @public\n\t * @memberof spotlight/Accelerator.Accelerator.prototype\n\t */\n\tcancel = () => {\n\t\tthis.canceled = true;\n\t};\n\n\t/**\n\t * Verifies that the Accelerator is active.\n\t *\n\t * @function\n\t * @returns {Boolean} `true` if the Accelerator is active; otherwise, `false`.\n\t * @public\n\t * @memberof spotlight/Accelerator.Accelerator.prototype\n\t */\n\tisAccelerating = () => {\n\t\treturn this.accelerating;\n\t};\n}\n\nexport default Accelerator;\nexport {Accelerator};\n","/* global ResizeObserver, MutationObserver */\n/**\n * A higher-order component that adds the ability to measure nodes conveniently.\n *\n * @module ui/Measurable\n * @exports Measurable\n */\n\nimport hoc from '@enact/core/hoc';\nimport React, {useState, useRef, useLayoutEffect} from 'react';\n\n/**\n * Default config for {@link ui/Measurable.Measurable}.\n *\n * @memberof ui/Measurable.Measurable\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Configures the prop name to pass the measurement object.\n\t *\n\t * @type {String}\n\t * @default 'measurement'\n\t * @memberof ui/Measurable.Measurable.defaultConfig\n\t */\n\tmeasurementProp: 'measurement',\n\n\t/**\n\t * Configures the prop name to pass a function to capture a reference to the element to measure.\n\t *\n\t * @type {String}\n\t * @default 'forwardRef'\n\t * @memberof ui/Measurable.Measurable.defaultConfig\n\t */\n\trefProp: 'forwardRef'\n};\n\nconst useMeasurable = () => {\n\tconst [measurement, setMeasurement] = useState();\n\tconst ref = useRef(null);\n\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tconst refToMeasure = ref.current;\n\t\t\tif (!refToMeasure) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Support for ResizeObserver\n\t\t\tif (typeof ResizeObserver === 'function') {\n\t\t\t\tlet resizeObserver = new ResizeObserver((entries) => {\n\t\t\t\t\tentries.forEach((entry) => {\n\t\t\t\t\t\tif (entry.target === refToMeasure) {\n\t\t\t\t\t\t\t// we want to measure including the padding, hence refers to `target` instead of `contentRect`\n\t\t\t\t\t\t\tsetMeasurement(entry.target.getBoundingClientRect());\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tresizeObserver.observe(refToMeasure);\n\n\t\t\t\treturn () => {\n\t\t\t\t\tresizeObserver.disconnect(refToMeasure);\n\t\t\t\t\tresizeObserver = null;\n\t\t\t\t};\n\t\t\t// Fallback support for MutationObserver\n\t\t\t} else if (typeof MutationObserver === 'function') {\n\t\t\t\tlet mutationObserver = new MutationObserver((mutationsList) => {\n\t\t\t\t\tfor (let mutation of mutationsList) {\n\t\t\t\t\t\tif (mutation.type === 'childList') {\n\t\t\t\t\t\t\tsetMeasurement(mutation.target.getBoundingClientRect());\n\t\t\t\t\t\t} else if (mutation.type === 'attributes' && (mutation.attributeName === 'style' || mutation.attributeName === 'class')) {\n\t\t\t\t\t\t\tsetMeasurement(refToMeasure.getBoundingClientRect());\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tmutationObserver.observe(refToMeasure, {attributes: true, childList: true, subtree: true});\n\n\t\t\t\treturn () => {\n\t\t\t\t\tmutationObserver.disconnect();\n\t\t\t\t\tmutationObserver = null;\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\t[] // disconnect on unmount\n\t);\n\n\treturn {\n\t\tref,\n\t\tmeasurement\n\t};\n};\n\n/**\n * A higher-order component that adds the ability to measure a referenced node and get that value\n * back as a prop.\n *\n * Applying `Measurable` to a component will pass two additional props: function to fetch the `ref`\n * and the measurement object (currently this executes `getBoundingClientRect` returning its full\n * complement of properties). Both prop names are configurable through the HOC config object.\n *\n * Changes to the referenced node will result in new measurements being returned as props. That\n * being said, it probably is not wise to use this during animation as it may cause unwanted\n * performance issues.\n *\n * @see https://reactjs.org/docs/hooks-faq.html#how-can-i-measure-a-dom-node\n * @class Measurable\n * @memberof ui/Measurable\n * @hoc\n * @public\n */\nconst Measurable = hoc(defaultConfig, (configHoc, Wrapped) => {\n\treturn function MeasurableHoc (props) {\n\t\t// Take the config from Measurable and insert it into a fresh instance of defineMeasurable\n\t\tconst {ref, measurement} = useMeasurable();\n\t\tconst measurementProps = {\n\t\t\t[configHoc.refProp]: ref,\n\t\t\t[configHoc.measurementProp]: measurement\n\t\t};\n\n\t\treturn (<Wrapped {...props} {...measurementProps} />);\n\t};\n});\n\nexport default Measurable;\nexport {\n\tMeasurable,    // HOC\n\tuseMeasurable  // Hook\n};\n","import hoc from '@enact/core/hoc';\nimport React from 'react';\n\nlet GlobalId = 0;\n\nconst ID_KEY = '$$ID$$';\n\n/**\n * Default config for {@link agate/Panels.IdProvider}\n *\n * @hocconfig\n * @memberof agate/Panels.IdProvider\n */\nconst defaultConfig = {\n\t/**\n\t * Prop to pass the identifier generation function\n\t *\n\t * @type {String}\n\t * @default generateId\n\t * @memberof agate/Panels.IdProvider.defaultConfig\n\t */\n\tgenerateProp: 'generateId',\n\n\t/**\n\t * Prop to pass the identifier\n\t *\n\t * @type {String}\n\t * @default id\n\t * @memberof agate/Panels.IdProvider.defaultConfig\n\t */\n\tidProp: 'id',\n\n\t/**\n\t * Optional prefix for the identifier\n\t *\n\t * @type {String}\n\t * @default 'c_'\n\t * @memberof agate/Panels.IdProvider.defaultConfig\n\t */\n\tprefix: 'c_'\n};\n\n/**\n * A higher-order component that generates globally-unique identifiers\n *\n * @class IdProvider\n * @hoc\n * @private\n * @memberof agate/Panels\n */\nconst IdProvider = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {generateProp, idProp, prefix} = config;\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'IdProvider';\n\n\t\tconstructor () {\n\t\t\tsuper();\n\n\t\t\tthis.ids = {};\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\t// Call the onUnmount handler for each generated id (note: not the key)\n\t\t\tfor (const key in this.ids) {\n\t\t\t\tconst {id, onUnmount} = this.ids[key];\n\t\t\t\tif (typeof onUnmount === 'function') {\n\t\t\t\t\tonUnmount(id);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tgenerateId = (key, idPrefix = prefix, onUnmount) => {\n\t\t\t// if an id has been generated for the key, return it\n\t\t\tif (key in this.ids) {\n\t\t\t\treturn this.ids[key].id;\n\t\t\t}\n\n\t\t\t// otherwise generate a new id (with an optional prefix), cache it, and return it\n\t\t\tconst id = `${idPrefix}${++GlobalId}`;\n\t\t\tthis.ids[typeof key === 'undefined' ? `generated-${id}` : key] = {\n\t\t\t\tid,\n\t\t\t\tonUnmount\n\t\t\t};\n\n\t\t\treturn id;\n\t\t};\n\n\t\trender () {\n\t\t\tconst props = Object.assign({}, this.props);\n\n\t\t\tif (generateProp) {\n\t\t\t\tprops[generateProp] = this.generateId;\n\t\t\t}\n\n\t\t\tif (idProp && !props[idProp]) {\n\t\t\t\tprops[idProp] = this.generateId(ID_KEY);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Wrapped {...props} />\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default IdProvider;\nexport {\n\tIdProvider\n};\n","import hoc from '@enact/core/hoc';\nimport Spotlight from '@enact/spotlight';\nimport Cancelable from '@enact/ui/Cancelable';\n\nimport css from './Panels.module.less';\n\nconst defaultConfig = {\n\tcancel: null\n};\n\nconst CancelDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {cancel} = config;\n\n\tfunction handleCancel (ev, props) {\n\t\tconst {index, [cancel]: handler} = props;\n\n\t\tif (index > 0 && handler && !document.querySelector(`.${css.transitioning}`)) {\n\t\t\t// clear Spotlight focus\n\t\t\tconst current = Spotlight.getCurrent();\n\t\t\tif (current) {\n\t\t\t\tcurrent.blur();\n\t\t\t}\n\n\t\t\thandler({\n\t\t\t\tindex: index - 1\n\t\t\t});\n\n\t\t\tev.stopPropagation();\n\t\t}\n\t}\n\n\treturn Cancelable(\n\t\t{modal: true, onCancel: handleCancel},\n\t\tWrapped\n\t);\n});\n\nexport default CancelDecorator;\nexport {\n\tCancelDecorator\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slider\":\"Slider_slider__1Jtd2\",\"knob\":\"Slider_knob__3I0Nw\",\"horizontal\":\"Slider_horizontal__22MPN\",\"pressed\":\"Slider_pressed__e9VmX\",\"noFill\":\"Slider_noFill__VP2cy\",\"vertical\":\"Slider_vertical__3XlKe\"};","import {forward} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport Pause from '@enact/spotlight/Pause';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport $L from '../internal/$L';\n\nimport {forwardSpotlightEvents} from './utils';\n\nconst useHintOnActive = ({active}) => {\n\treturn {\n\t\tuseHintText: active\n\t};\n};\n\nconst toggleActive = ({active}) => {\n\treturn {\n\t\tactive: !active\n\t};\n};\n\nconst defaultConfig = {\n\t// FIXME: This is a compromise to maintain a single decorator for Slider and IncrementSlider\n\t// that handles both a consolidated focus state and spotlight directional event mgmt. When this\n\t// is unset (for Slider), this decorator will listen to onKeyDown and fire spotlight events.\n\t// When set (for IncrementSlider), it specifies the event that is passed down to trigger\n\t// spotlight events and also doesn't remove the spotlight directional callbacks from the props\n\t// so the Wrapped component can fire them manually or use the callback for the default behavior.\n\temitSpotlightEvents: null\n};\n\n// Adds agate-specific slider behaviors\n// * aria-valuetext handling\n//   * use aria-valuetext when set\n//   * defaults to current value\n//   * onActivate, set to hint text\n//   * on value change, reset to value or aria-valuetext\n// * Spotlight\n//   * Pause Spotlight when dragging to prevent spotlight from leaving when pointer enters another\n//     component\n//   * Forward directional spotlight events from slider\n// * Managing focused state to show/hide tooltip\nconst SliderBehaviorDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {emitSpotlightEvents} = config;\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'SliderBehaviorDecorator';\n\n\t\tstatic propTypes = {\n\t\t\t'aria-valuetext': PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\t\t\tmax: PropTypes.number,\n\t\t\tmin: PropTypes.number,\n\t\t\torientation: PropTypes.string,\n\t\t\tvalue: PropTypes.number\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\tmax: 100,\n\t\t\tmin: 0,\n\t\t\torientation: 'horizontal'\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.paused = new Pause();\n\t\t\tthis.handleActivate = this.handleActivate.bind(this);\n\t\t\tthis.handleBlur = this.handleBlur.bind(this);\n\t\t\tthis.handleDragEnd = this.handleDragEnd.bind(this);\n\t\t\tthis.handleDragStart = this.handleDragStart.bind(this);\n\t\t\tthis.handleFocus = this.handleFocus.bind(this);\n\t\t\tthis.handleSpotlightEvents = this.handleSpotlightEvents.bind(this);\n\t\t\tthis.bounds = {};\n\n\t\t\tthis.state = {\n\t\t\t\tactive: false,\n\t\t\t\tdragging: false,\n\t\t\t\tfocused: false,\n\t\t\t\tuseHintText: false,\n\t\t\t\tprevValue: props.value\n\t\t\t};\n\t\t}\n\n\t\tstatic getDerivedStateFromProps (props, state) {\n\t\t\tif (props.value !== state.prevValue) {\n\t\t\t\treturn {\n\t\t\t\t\tuseHintText: false,\n\t\t\t\t\tprevValue: props.value\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tthis.paused.resume();\n\t\t}\n\n\t\tgetValueText () {\n\t\t\tconst {'aria-valuetext': ariaValueText, min, orientation, value = min} = this.props;\n\t\t\tconst {useHintText} = this.state;\n\n\t\t\tconst verticalHint = $L('change a value with up down button');\n\t\t\tconst horizontalHint = $L('change a value with left right button');\n\n\t\t\tif (useHintText) {\n\t\t\t\treturn orientation === 'horizontal' ? horizontalHint : verticalHint;\n\t\t\t}\n\n\t\t\tif (ariaValueText != null) {\n\t\t\t\treturn ariaValueText;\n\t\t\t}\n\n\t\t\treturn value;\n\t\t}\n\n\t\thandleActivate () {\n\t\t\tforward('onActivate', {type: 'onActivate'}, this.props);\n\t\t\tthis.setState(toggleActive);\n\t\t\tthis.setState(useHintOnActive);\n\t\t}\n\n\t\thandleBlur (ev) {\n\t\t\tforward('onBlur', ev, this.props);\n\t\t\tthis.setState({focused: false});\n\t\t}\n\n\t\thandleDragStart () {\n\t\t\tthis.paused.pause();\n\t\t\tthis.setState({dragging: true});\n\t\t}\n\n\t\thandleDragEnd () {\n\t\t\tthis.paused.resume();\n\t\t\tthis.setState({dragging: false});\n\t\t}\n\n\t\thandleFocus (ev) {\n\t\t\tforward('onFocus', ev, this.props);\n\t\t\tthis.setState({focused: true});\n\t\t}\n\n\t\thandleSpotlightEvents (ev) {\n\t\t\tif (!emitSpotlightEvents) {\n\t\t\t\tforward('onKeyDown', ev, this.props);\n\t\t\t}\n\n\t\t\tforwardSpotlightEvents(ev, this.props);\n\t\t}\n\n\t\trender () {\n\t\t\tconst props = Object.assign({}, this.props);\n\n\t\t\tif (!emitSpotlightEvents) {\n\t\t\t\t// Remove spotlight props before hitting spottable since we've handled them uniquely\n\t\t\t\tdelete props.onSpotlightLeft;\n\t\t\t\tdelete props.onSpotlightRight;\n\t\t\t\tdelete props.onSpotlightUp;\n\t\t\t\tdelete props.onSpotlightDown;\n\n\t\t\t\tprops.onKeyDown = this.handleSpotlightEvents;\n\t\t\t} else {\n\t\t\t\tprops[emitSpotlightEvents] = this.handleSpotlightEvents;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Wrapped\n\t\t\t\t\trole=\"slider\"\n\t\t\t\t\t{...props}\n\t\t\t\t\tactive={this.state.active}\n\t\t\t\t\taria-valuetext={this.getValueText()}\n\t\t\t\t\tfocused={this.state.focused || this.state.dragging}\n\t\t\t\t\tonActivate={this.handleActivate}\n\t\t\t\t\tonBlur={this.handleBlur}\n\t\t\t\t\tonDragStart={this.handleDragStart}\n\t\t\t\t\tonDragEnd={this.handleDragEnd}\n\t\t\t\t\tonFocus={this.handleFocus}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default SliderBehaviorDecorator;\nexport {\n\tSliderBehaviorDecorator\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dateComponentPicker\":\"DateComponentPicker_dateComponentPicker__3e2Ns\"};","/**\n * An unstyled image component to be customized by a theme or application.\n *\n * @module ui/Image\n * @exports Image\n */\n\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport warning from 'warning';\n\nimport {selectSrc} from '../resolution';\n\nimport componentCss from './Image.module.less';\n\n/**\n * A basic image component designed to display images conditionally based on screen size.\n *\n * This component does not have a default size, therefore the image will not show unless a size is\n * specified using a CSS `className` or inline `style`.\n *\n * Example:\n * ```\n * const src = {\n *   'hd': 'http://lorempixel.com/64/64/city/1/',\n *   'fhd': 'http://lorempixel.com/128/128/city/1/',\n *   'uhd': 'http://lorempixel.com/256/256/city/1/'\n * };\n *\n * <Image className={css.myImage} src={src} sizing=\"fill\" />\n * ```\n *\n * `ui/Image` is based on the `div` element, but it uses `img` to provide `onError` and `onLoad`\n * events. The image that you see on screen is a `background-image` from the `div` element, not the\n * `img` element.\n *\n * > If you need a naturally sized image, you can use the native `<img>` element instead.\n *\n * @class Image\n * @memberof ui/Image\n * @ui\n * @public\n */\nconst ImageBase = kind({\n\tname: 'ui:Image',\n\n\tpropTypes: /** @lends ui/Image.Image.prototype */ {\n\t\t/**\n\t\t * String value for the alt attribute of the image.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\talt: PropTypes.string,\n\n\t\t/**\n\t\t * The aria-label for the image.\n\t\t *\n\t\t * If unset, it defaults to the value of `alt`.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t * @memberof ui/Image.Image.prototype\n\t\t */\n\t\t'aria-label': PropTypes.string,\n\n\t\t/**\n\t\t * Node for the children of an `Image`. Useful for overlays.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `image` - The root component class\n\t\t * * `fit` - Applied when `sizing` prop is `fit`\n\t\t * * `fill` - Applied when `sizing` prop is `fill`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Called if the image has an error.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonError: PropTypes.func,\n\n\t\t/**\n\t\t * Called once the image is loaded.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonLoad: PropTypes.func,\n\n\t\t/**\n\t\t * A placeholder image to be displayed before the image is loaded.\n\t\t *\n\t\t * For performance purposes, it should be pre-loaded or be a data url. If `src` is\n\t\t * unset, this value will be used as the `background-image`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default ''\n\t\t * @public\n\t\t */\n\t\tplaceholder: PropTypes.string,\n\n\t\t/**\n\t\t * Used to set the `background-size` of an `Image`.\n\t\t *\n\t\t * * `'fill'` - sets `background-size: cover`\n\t\t * * `'fit'` - sets `background-size: contain`\n\t\t * * `'none'` - uses the image's natural size\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'fill'\n\t\t * @public\n\t\t */\n\t\tsizing: PropTypes.oneOf(['fit', 'fill', 'none']),\n\n\t\t/**\n\t\t * String value or Object of values used to determine which image will appear on\n\t\t * a specific screenSize.\n\t\t *\n\t\t * @type {String|Object}\n\t\t * @public\n\t\t */\n\t\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n\t},\n\n\tdefaultProps: {\n\t\tplaceholder: '',\n\t\tsizing: 'fill'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'image',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tbgImage: ({placeholder, src}) => {\n\t\t\tconst imageSrc = selectSrc(src) || placeholder;\n\t\t\twarning(imageSrc, 'Image requires that either the \"placeholder\" or \"src\" props be specified.');\n\t\t\tif (!imageSrc) return null;\n\t\t\treturn placeholder && imageSrc !== placeholder ? `url(\"${imageSrc}\"), url(\"${placeholder}\")` : `url(\"${imageSrc}\")`;\n\t\t},\n\t\tclassName: ({className, sizing, styler}) => {\n\t\t\treturn sizing !== 'none' ? styler.append(sizing) : className;\n\t\t},\n\t\timgSrc: ({src}) => selectSrc(src) || null\n\t},\n\n\trender: ({alt, 'aria-label': ariaLabel, bgImage, children, css, imgSrc, onError, onLoad, style, ...rest}) => {\n\t\tdelete rest.placeholder;\n\t\tdelete rest.sizing;\n\t\tdelete rest.src;\n\n\t\treturn (\n\t\t\t<div role=\"img\" {...rest} aria-label={ariaLabel || alt} style={{...style, backgroundImage: bgImage}}>\n\t\t\t\t{children}\n\t\t\t\t<img className={css.img} src={imgSrc} alt={alt} onLoad={onLoad} onError={onError} />\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nexport default ImageBase;\nexport {\n\tImageBase as Image,\n\tImageBase\n};\n","/**\n * Provides agate styled Image component that supports multiple resolution sources.\n *\n * @example\n * <Image src=\"https://dummyimage.com/64/e048e0/0011ff\" style={{height: 64, width: 64}} />\n *\n * @module agate/Image\n * @exports Image\n * @exports ImageBase\n * @exports ImageDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport hoc from '@enact/core/hoc';\nimport UiImage from '@enact/ui/Image';\nimport Pure from '@enact/ui/internal/Pure';\nimport {selectSrc} from '@enact/ui/resolution';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './Image.module.less';\n\nconst placeholder =\n\t'data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC' +\n\t'9zdmciPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHN0cm9rZT0iIzU1NSIgZmlsbD0iI2FhYSIg' +\n\t'ZmlsbC1vcGFjaXR5PSIwLjIiIHN0cm9rZS1vcGFjaXR5PSIwLjgiIHN0cm9rZS13aWR0aD0iNiIgLz48L3N2Zz' +\n\t'4NCg==';\n\n/**\n * An Agate-styled image component without any behavior\n *\n * @class ImageBase\n * @memberof agate/Image\n * @extends ui/Image.Image\n * @ui\n * @public\n */\nconst ImageBase = kind({\n\tname: 'Image',\n\n\tpropTypes: /** @lends agate/Image.ImageBase.prototype */ {\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `image` - The root component class for Image\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * String value or Object of values used to determine which image will appear on\n\t\t * a specific screenSize.\n\t\t *\n\t\t * @type {String|Object}\n\t\t * @public\n\t\t */\n\t\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n\t},\n\n\tcomputed: {\n\t\tplaceholder: ({src}) => (!src ? placeholder : null)\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tpublicClassNames: ['image']\n\t},\n\n\trender: ({css, ...rest}) => {\n\t\treturn (\n\t\t\t<UiImage\n\t\t\t\tdraggable=\"false\"\n\t\t\t\t{...rest}\n\t\t\t\tcss={css}\n\t\t\t/>\n\t\t);\n\t}\n});\n\n\n// This induces a render when there is a screen size change that has a corresponding image src value\n// associated with the new screen size. The render is kicked off by remembering the new image src.\n//\n// This hoc could (should) be rewritten at a later time to use a smarter context API and callbacks,\n// or something like pub/sub; each of which would be hooked together from the resolution.js that\n// would coordinate any screen size/orientation changes and emit events from there.\n//\n// This is ripe for refactoring, and could probably move into UI to be generalized, but that's for\n// another time. -B 2018-05-01\nconst ResponsiveImageDecorator = hoc((config, Wrapped) => {\t// eslint-disable-line no-unused-vars\n\treturn class extends React.Component {\n\t\tstatic displayName = 'ResponsiveImageDecorator';\n\n\t\tstatic propTypes = {\n\t\t\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tthis.state = {\n\t\t\t\tsrc: selectSrc(this.props.src)\n\t\t\t};\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\twindow.addEventListener('resize', this.handleResize);\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\twindow.removeEventListener('resize', this.handleResize);\n\t\t}\n\n\t\thandleResize = () => {\n\t\t\tthis.setState((state, props) => {\n\t\t\t\tconst src = selectSrc(props.src);\n\t\t\t\t// Trigger a render and save the currently selected src for later comparisons\n\t\t\t\tif (src !== state.src) {\n\t\t\t\t\treturn {src};\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t});\n\t\t};\n\n\t\trender () {\n\t\t\treturn <Wrapped {...this.props} />;\n\t\t}\n\t};\n});\n\n/**\n * agate-specific behaviors to apply to [Image]{@link agate/Image.ImageBase}.\n *\n * @hoc\n * @memberof agate/Image\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst ImageDecorator = compose(\n\tPure,\n\tResponsiveImageDecorator,\n\tSkinnable\n);\n\n/**\n * An Agate-styled image component\n *\n * ```\n * <Image\n *   src={{\n *     'hd': 'https://dummyimage.com/64/e048e0/0011ff',\n *     'fhd': 'https://dummyimage.com/128/e048e0/0011ff',\n *     'uhd': 'https://dummyimage.com/256/e048e0/0011ff'\n *   }}\n * >\n * ```\n *\n * @class Image\n * @memberof agate/Image\n * @extends agate/Image.ImageBase\n * @mixes agate/Image.ImageDecorator\n * @ui\n * @public\n */\nconst Image = ImageDecorator(ImageBase);\n\nexport default Image;\nexport {\n\tImage,\n\tImageBase,\n\tImageDecorator\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"decorator\":\"Input_decorator__OW4uB\",\"input\":\"Input_input__1X_tf\",\"icon\":\"Input_icon__2XGHZ\",\"iconAfter\":\"Input_iconAfter__36hHf\",\"iconBefore\":\"Input_iconBefore__2WIXY\",\"focused\":\"Input_focused__3wjIv\"};","import EnactPropTypes from '@enact/core/internal/prop-types';\nimport {platform} from '@enact/core/platform';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, {Component} from 'react';\n\nimport css from './Scroller.module.less';\n\n/**\n * An unstyled base scroller component.\n *\n * @class ScrollerBasic\n * @memberof ui/Scroller\n * @ui\n * @public\n */\nclass ScrollerBasic extends Component {\n\tstatic displayName = 'ui:ScrollerBasic';\n\n\tstatic propTypes = /** @lends ui/Scroller.ScrollerBasic.prototype */ {\n\t\tchildren: PropTypes.node.isRequired,\n\n\t\t/**\n\t\t * Callback method of scrollTo.\n\t\t * Normally, `useScroll` should set this value.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tcbScrollTo: PropTypes.func,\n\n\t\t/**\n\t\t * Disable voice control feature of component.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\t'data-webos-voice-disabled': PropTypes.bool,\n\n\t\t/**\n\t\t * Activates the component for voice control.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\t'data-webos-voice-focused': PropTypes.bool,\n\n\t\t/**\n\t\t * The voice control group label.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\t'data-webos-voice-group-label': PropTypes.string,\n\n\t\t/**\n\t\t * Direction of the scroller.\n\t\t *\n\t\t * Valid values are:\n\t\t * * `'both'`,\n\t\t * * `'horizontal'`, and\n\t\t * * `'vertical'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'both'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['both', 'horizontal', 'vertical']),\n\n\t\t/**\n\t\t * Prop to check context value if Scrollbar exists or not.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @private\n\t\t */\n\t\tisVerticalScrollbarVisible: PropTypes.bool,\n\n\t\t/**\n\t\t * `true` if RTL, `false` if LTR.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @private\n\t\t */\n\t\trtl: PropTypes.bool,\n\n\t\t/**\n\t\t * Ref for scroll content\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @private\n\t\t */\n\t\tscrollContentRef: EnactPropTypes.ref\n\t};\n\n\tcomponentDidMount () {\n\t\tthis.calculateMetrics();\n\t}\n\n\tcomponentDidUpdate (prevProps) {\n\t\tthis.calculateMetrics();\n\t\tif (this.props.isVerticalScrollbarVisible && !prevProps.isVerticalScrollbarVisible) {\n\t\t\tthis.forceUpdate();\n\t\t}\n\t}\n\n\tscrollBounds = {\n\t\tclientWidth: 0,\n\t\tclientHeight: 0,\n\t\tscrollWidth: 0,\n\t\tscrollHeight: 0,\n\t\tmaxLeft: 0,\n\t\tmaxTop: 0\n\t};\n\n\tscrollPos = {\n\t\ttop: 0,\n\t\tleft: 0\n\t};\n\n\tgetScrollBounds = () => this.scrollBounds;\n\n\tgetRtlPositionX = (x) => {\n\t\tif (this.props.rtl) {\n\t\t\treturn (platform.ios || platform.safari) ? -x : this.scrollBounds.maxLeft - x;\n\t\t}\n\t\treturn x;\n\t};\n\n\tsetScrollPosition (x, y) {\n\t\tconst node = this.props.scrollContentRef.current;\n\n\t\tif (this.isVertical()) {\n\t\t\tnode.scrollTop = y;\n\t\t\tthis.scrollPos.top = y;\n\t\t}\n\t\tif (this.isHorizontal()) {\n\t\t\tnode.scrollLeft = this.getRtlPositionX(x);\n\t\t\tthis.scrollPos.left = x;\n\t\t}\n\t}\n\n\t// scrollMode 'translate'\n\tscrollToPosition (x, y) {\n\t\tthis.props.scrollContentRef.current.scrollTo(this.getRtlPositionX(x), y);\n\t}\n\n\t// scrollMode 'native'\n\tdidScroll (x, y) {\n\t\tthis.scrollPos.left = x;\n\t\tthis.scrollPos.top = y;\n\t}\n\n\tgetNodePosition = (node) => {\n\t\tconst\n\t\t\t{left: nodeLeft, top: nodeTop, height: nodeHeight, width: nodeWidth} = node.getBoundingClientRect(),\n\t\t\t{left: containerLeft, top: containerTop} = this.props.scrollContentRef.current.getBoundingClientRect(),\n\t\t\t{scrollLeft, scrollTop} = this.props.scrollContentRef.current,\n\t\t\tleft = this.isHorizontal() ? (scrollLeft + nodeLeft - containerLeft) : null,\n\t\t\ttop = this.isVertical() ? (scrollTop + nodeTop - containerTop) : null;\n\n\t\treturn {\n\t\t\tleft,\n\t\t\ttop,\n\t\t\twidth: nodeWidth,\n\t\t\theight: nodeHeight\n\t\t};\n\t};\n\n\tisVertical = () => {\n\t\treturn (this.props.direction !== 'horizontal');\n\t};\n\n\tisHorizontal = () => {\n\t\treturn (this.props.direction !== 'vertical');\n\t};\n\n\tcalculateMetrics () {\n\t\tconst\n\t\t\t{scrollBounds} = this,\n\t\t\t{scrollWidth, scrollHeight, clientWidth, clientHeight} = this.props.scrollContentRef.current;\n\n\t\tscrollBounds.scrollWidth = scrollWidth;\n\t\tscrollBounds.scrollHeight = scrollHeight;\n\t\tscrollBounds.clientWidth = clientWidth;\n\t\tscrollBounds.clientHeight = clientHeight;\n\t\tscrollBounds.maxLeft = Math.max(0, scrollWidth - clientWidth);\n\t\tscrollBounds.maxTop = Math.max(0, scrollHeight - clientHeight);\n\t}\n\n\tsyncClientSize = () => {\n\t\tconst node = this.props.scrollContentRef.current;\n\n\t\tif (!node) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst\n\t\t\t{clientWidth, clientHeight} = node,\n\t\t\t{scrollBounds} = this;\n\n\t\tif (clientWidth !== scrollBounds.clientWidth || clientHeight !== scrollBounds.clientHeight) {\n\t\t\tthis.calculateMetrics();\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\trender () {\n\t\tconst\n\t\t\t{className, style, ...rest} = this.props,\n\t\t\tmergedStyle = Object.assign({}, style, {\n\t\t\t\toverflowX: this.isHorizontal() ? 'auto' : 'hidden',\n\t\t\t\toverflowY: this.isVertical() ? 'auto' : 'hidden'\n\t\t\t});\n\n\t\tdelete rest.cbScrollTo;\n\t\tdelete rest.direction;\n\t\tdelete rest.isHorizontalScrollbarVisible;\n\t\tdelete rest.isVerticalScrollbarVisible;\n\t\tdelete rest.rtl;\n\t\tdelete rest.scrollContainerContainsDangerously;\n\t\tdelete rest.scrollContentRef;\n\t\tdelete rest.scrollMode;\n\t\tdelete rest.setThemeScrollContentHandle;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\t{...rest}\n\t\t\t\tclassName={classNames(className, css.scroller)}\n\t\t\t\tref={this.props.scrollContentRef}\n\t\t\t\tstyle={mergedStyle}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default ScrollerBasic;\nexport {\n\tScrollerBasic\n};\n","import classNames from 'classnames';\nimport {platform} from '@enact/core/platform';\nimport PropTypes from 'prop-types';\nimport React, {Component} from 'react';\n\nimport css from './UiScroller.module.less';\n\n/**\n * An unstyled base scroller component.\n *\n * In most circumstances, you will want to use the Scrollable version.\n *\n * @class ScrollerBase\n * @memberof ui/Scroller\n * @ui\n * @public\n */\nclass ScrollerBase extends Component {\n\tstatic displayName = 'ui:ScrollerBase';\n\n\tstatic propTypes = /** @lends ui/Scroller.ScrollerBase.prototype */ {\n\t\tchildren: PropTypes.node.isRequired,\n\n\t\t/**\n\t\t * Callback method of scrollTo.\n\t\t * Normally, `Scrollable` should set this value.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tcbScrollTo: PropTypes.func,\n\n\t\t/**\n\t\t * Direction of the scroller.\n\t\t *\n\t\t * Valid values are:\n\t\t * * `'both'`,\n\t\t * * `'horizontal'`, and\n\t\t * * `'vertical'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'both'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['both', 'horizontal', 'vertical']),\n\n\t\t/**\n\t\t * Prop to check context value if Scrollbar exists or not.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @private\n\t\t */\n\t\tisVerticalScrollbarVisible: PropTypes.bool,\n\n\t\t/**\n\t\t * `true` if RTL, `false` if LTR.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @private\n\t\t */\n\t\trtl: PropTypes.bool\n\t};\n\n\tstatic defaultProps = {\n\t\tdirection: 'both'\n\t};\n\n\tconstructor (props) {\n\t\tsuper(props);\n\n\t\tthis.containerRef = React.createRef();\n\t}\n\n\tcomponentDidMount () {\n\t\tthis.calculateMetrics();\n\t}\n\n\tcomponentDidUpdate (prevProps) {\n\t\tthis.calculateMetrics();\n\t\tif (this.props.isVerticalScrollbarVisible && !prevProps.isVerticalScrollbarVisible) {\n\t\t\tthis.forceUpdate();\n\t\t}\n\t}\n\n\tscrollBounds = {\n\t\tclientWidth: 0,\n\t\tclientHeight: 0,\n\t\tscrollWidth: 0,\n\t\tscrollHeight: 0,\n\t\tmaxLeft: 0,\n\t\tmaxTop: 0\n\t};\n\n\tscrollPos = {\n\t\ttop: 0,\n\t\tleft: 0\n\t};\n\n\tgetScrollBounds = () => this.scrollBounds;\n\n\tgetRtlPositionX = (x) => {\n\t\tif (this.props.rtl) {\n\t\t\treturn (platform.ios || platform.safari) ? -x : this.scrollBounds.maxLeft - x;\n\t\t}\n\t\treturn x;\n\t};\n\n\t// for Scrollable\n\tsetScrollPosition (x, y) {\n\t\tconst node = this.containerRef.current;\n\n\t\tif (this.isVertical()) {\n\t\t\tnode.scrollTop = y;\n\t\t\tthis.scrollPos.top = y;\n\t\t}\n\t\tif (this.isHorizontal()) {\n\t\t\tnode.scrollLeft = this.getRtlPositionX(x);\n\t\t\tthis.scrollPos.left = x;\n\t\t}\n\t}\n\n\t// for ScrollableNative\n\tscrollToPosition (x, y) {\n\t\tthis.containerRef.current.scrollTo(this.getRtlPositionX(x), y);\n\t}\n\n\t// for ScrollableNative\n\tdidScroll (x, y) {\n\t\tthis.scrollPos.left = x;\n\t\tthis.scrollPos.top = y;\n\t}\n\n\tgetNodePosition = (node) => {\n\t\tconst\n\t\t\t{left: nodeLeft, top: nodeTop, height: nodeHeight, width: nodeWidth} = node.getBoundingClientRect(),\n\t\t\t{left: containerLeft, top: containerTop} = this.containerRef.current.getBoundingClientRect(),\n\t\t\t{scrollLeft, scrollTop} = this.containerRef.current,\n\t\t\tleft = this.isHorizontal() ? (scrollLeft + nodeLeft - containerLeft) : null,\n\t\t\ttop = this.isVertical() ? (scrollTop + nodeTop - containerTop) : null;\n\n\t\treturn {\n\t\t\tleft,\n\t\t\ttop,\n\t\t\twidth: nodeWidth,\n\t\t\theight: nodeHeight\n\t\t};\n\t};\n\n\tisVertical = () => {\n\t\treturn (this.props.direction !== 'horizontal');\n\t};\n\n\tisHorizontal = () => {\n\t\treturn (this.props.direction !== 'vertical');\n\t};\n\n\tcalculateMetrics () {\n\t\tconst\n\t\t\t{scrollBounds} = this,\n\t\t\t{scrollWidth, scrollHeight, clientWidth, clientHeight} = this.containerRef.current;\n\t\tscrollBounds.scrollWidth = scrollWidth;\n\t\tscrollBounds.scrollHeight = scrollHeight;\n\t\tscrollBounds.clientWidth = clientWidth;\n\t\tscrollBounds.clientHeight = clientHeight;\n\t\tscrollBounds.maxLeft = Math.max(0, scrollWidth - clientWidth);\n\t\tscrollBounds.maxTop = Math.max(0, scrollHeight - clientHeight);\n\t}\n\n\trender () {\n\t\tconst\n\t\t\t{className, style, ...rest} = this.props,\n\t\t\tmergedStyle = Object.assign({}, style, {\n\t\t\t\toverflowX: this.isHorizontal() ? 'auto' : 'hidden',\n\t\t\t\toverflowY: this.isVertical() ? 'auto' : 'hidden'\n\t\t\t});\n\n\t\tdelete rest.cbScrollTo;\n\t\tdelete rest.direction;\n\t\tdelete rest.isHorizontalScrollbarVisible;\n\t\tdelete rest.isVerticalScrollbarVisible;\n\t\tdelete rest.rtl;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\t{...rest}\n\t\t\t\tclassName={classNames(className, css.scroller)}\n\t\t\t\tref={this.containerRef}\n\t\t\t\tstyle={mergedStyle}\n\t\t\t/>\n\t\t);\n\t}\n}\n\n/**\n * A callback function that receives a reference to the `scrollTo` feature.\n *\n * Once received, the `scrollTo` method can be called as an imperative interface.\n *\n * The `scrollTo` function accepts the following parameters:\n * - {position: {x, y}} - Pixel value for x and/or y position\n * - {align} - Where the scroll area should be aligned. Values are:\n *   `'left'`, `'right'`, `'top'`, `'bottom'`,\n *   `'topleft'`, `'topright'`, `'bottomleft'`, and `'bottomright'`.\n * - {node} - Node to scroll into view\n * - {animate} - When `true`, scroll occurs with animation. When `false`, no\n *   animation occurs.\n * - {focus} - When `true`, attempts to focus item after scroll. Only valid when scrolling\n *   by `index` or `node`.\n * > Note: Only specify one of: `position`, `align`, `index` or `node`\n *\n * Example:\n * ```\n *\t// If you set cbScrollTo prop like below;\n *\tcbScrollTo: (fn) => {this.scrollTo = fn;}\n *\t// You can simply call like below;\n *\tthis.scrollTo({align: 'top'}); // scroll to the top\n * ```\n *\n * @name cbScrollTo\n * @memberof ui/Scroller.ScrollerBase.prototype\n * @type {Function}\n * @public\n */\n\n/**\n * Specifies how to show horizontal scrollbar.\n *\n * Valid values are:\n * * `'auto'`,\n * * `'visible'`, and\n * * `'hidden'`.\n *\n * @name horizontalScrollbar\n * @memberof ui/Scroller.ScrollerBase.prototype\n * @type {String}\n * @default 'auto'\n * @public\n */\n\n/**\n * Prevents scroll by wheeling on the scroller.\n *\n * @name noScrollByWheel\n * @memberof ui/Scroller.ScrollerBase.prototype\n * @type {Boolean}\n * @default false\n * @public\n */\n\n/**\n * Called when scrolling.\n *\n * Passes `scrollLeft` and `scrollTop`.\n * It is not recommended to set this prop since it can cause performance degradation.\n * Use `onScrollStart` or `onScrollStop` instead.\n *\n * @name onScroll\n * @memberof ui/Scroller.ScrollerBase.prototype\n * @type {Function}\n * @param {Object} event\n * @param {Number} event.scrollLeft Scroll left value.\n * @param {Number} event.scrollTop Scroll top value.\n * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n * @public\n */\n\n/**\n * Called when scroll starts.\n *\n * Passes `scrollLeft` and `scrollTop`.\n *\n * Example:\n * ```\n * onScrollStart = ({scrollLeft, scrollTop}) => {\n *     // do something with scrollLeft and scrollTop\n * }\n *\n * render = () => (\n *     <Scroller\n *         ...\n *         onScrollStart={this.onScrollStart}\n *         ...\n *     />\n * )\n * ```\n *\n * @name onScrollStart\n * @memberof ui/Scroller.ScrollerBase.prototype\n * @type {Function}\n * @param {Object} event\n * @param {Number} event.scrollLeft Scroll left value.\n * @param {Number} event.scrollTop Scroll top value.\n * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n * @public\n */\n\n/**\n * Called when scroll stops.\n *\n * Passes `scrollLeft` and `scrollTop`.\n *\n * Example:\n * ```\n * onScrollStop = ({scrollLeft, scrollTop}) => {\n *     // do something with scrollLeft and scrollTop\n * }\n *\n * render = () => (\n *     <Scroller\n *         ...\n *         onScrollStop={this.onScrollStop}\n *         ...\n *     />\n * )\n * ```\n *\n * @name onScrollStop\n * @memberof ui/Scroller.ScrollerBase.prototype\n * @type {Function}\n * @param {Object} event\n * @param {Number} event.scrollLeft Scroll left value.\n * @param {Number} event.scrollTop Scroll top value.\n * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n * @public\n */\n\n/**\n * Specifies how to show vertical scrollbar.\n *\n * Valid values are:\n * * `'auto'`,\n * * `'visible'`, and\n * * `'hidden'`.\n *\n * @name verticalScrollbar\n * @memberof ui/Scroller.ScrollerBase.prototype\n * @type {String}\n * @default 'auto'\n * @public\n */\n\nexport default ScrollerBase;\nexport {\n\tScrollerBase\n};\n","/**\n * Unstyled scroller components and behaviors to be customized by a theme or application.\n *\n * @module ui/Scroller\n * @exports Scroller\n * @exports ScrollerBase\n * @exports ScrollerBasic\n */\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {ResizeContext} from '../Resizable';\nimport useScroll from '../useScroll';\nimport Scrollbar from '../useScroll/Scrollbar';\n\nimport ScrollerBasic from './ScrollerBasic';\nimport ScrollerBase from './UiScrollerBase';\n\nconst nop = () => {};\n\n/**\n * An unstyled scroller.\n *\n * Example:\n * ```\n * <Scroller>Scroll me.</Scroller>\n * ```\n *\n * @class Scroller\n * @memberof ui/Scroller\n * @extends ui/Scroller.ScrollerBasic\n * @ui\n * @public\n */\nconst Scroller = (props) => {\n\t// Hooks\n\n\tconst {\n\t\tscrollContentHandle,\n\t\tscrollContentWrapper: ScrollContentWrapper,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible,\n\n\t\tresizeContextProps,\n\t\tscrollContainerProps,\n\t\tscrollInnerContainerProps,\n\t\tscrollContentWrapperProps,\n\t\tscrollContentProps,\n\t\tverticalScrollbarProps,\n\t\thorizontalScrollbarProps\n\t} = useScroll(props);\n\n\t// Return\n\n\treturn (\n\t\t<ResizeContext.Provider {...resizeContextProps}>\n\t\t\t<div {...scrollContainerProps}>\n\t\t\t\t<div {...scrollInnerContainerProps}>\n\t\t\t\t\t<ScrollContentWrapper {...scrollContentWrapperProps}>\n\t\t\t\t\t\t<ScrollerBasic {...scrollContentProps} ref={scrollContentHandle} />\n\t\t\t\t\t</ScrollContentWrapper>\n\t\t\t\t\t{isVerticalScrollbarVisible ? <Scrollbar {...verticalScrollbarProps} /> : null}\n\t\t\t\t</div>\n\t\t\t\t{isHorizontalScrollbarVisible ? <Scrollbar {...horizontalScrollbarProps} /> : null}\n\t\t\t</div>\n\t\t</ResizeContext.Provider>\n\t);\n};\n\nScroller.displayName = 'ui:Scroller';\n\nScroller.propTypes = /** @lends ui/Scroller.Scroller.prototype */ {\n\t/**\n\t * A callback function that receives a reference to the `scrollTo` feature.\n\t *\n\t * Once received, the `scrollTo` method can be called as an imperative interface.\n\t *\n\t * - {position: {x, y}} - Pixel value for x and/or y position\n\t * - {align} - Where the scroll area should be aligned. Values are:\n\t *   `'left'`, `'right'`, `'top'`, `'bottom'`,\n\t *   `'topleft'`, `'topright'`, `'bottomleft'`, and `'bottomright'`.\n\t * - {node} - Node to scroll into view\n\t * - {animate} - When `true`, scroll occurs with animation. When `false`, no\n\t *   animation occurs.\n\t * - {focus} - When `true`, attempts to focus item after scroll. Only valid when scrolling\n\t *   by `node`.\n\t * > Note: Only specify one of: `position`, `align`, `node`\n\t *\n\t * Example:\n\t * ```\n\t *\t// If you set cbScrollTo prop like below;\n\t *\tcbScrollTo: (fn) => {this.scrollTo = fn;}\n\t *\t// You can simply call like below;\n\t *\tthis.scrollTo({align: 'top'}); // scroll to the top\n\t * ```\n\t *\n\t * @type {Function}\n\t * @public\n\t */\n\tcbScrollTo: PropTypes.func,\n\n\t/**\n\t * Direction of the scroller.\n\t *\n\t * Valid values are:\n\t * * `'both'`,\n\t * * `'horizontal'`, and\n\t * * `'vertical'`.\n\t *\n\t * @type {String}\n\t * @default 'both'\n\t * @public\n\t */\n\tdirection: PropTypes.string,\n\n\t/**\n\t * Specifies how to show horizontal scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {String}\n\t * @default 'auto'\n\t * @public\n\t */\n\thorizontalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n\n\t/**\n\t * Prevents scroll by dragging or flicking on the scroller.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\tnoScrollByDrag: PropTypes.bool,\n\n\t/**\n\t * Prevents scroll by wheeling on the scroller.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tnoScrollByWheel: PropTypes.bool,\n\n\t/**\n\t * Called when scrolling.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`.\n\t * It is not recommended to set this prop since it can cause performance degradation.\n\t * Use `onScrollStart` or `onScrollStop` instead.\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @public\n\t */\n\tonScroll: PropTypes.func,\n\n\t/**\n\t * Called when scroll starts.\n\t *\n\t * Passes `scrollLeft` and `scrollTop`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStart = ({scrollLeft, scrollTop}) => {\n\t *     // do something with scrollLeft and scrollTop\n\t * }\n\t *\n\t * render = () => (\n\t *     <Scroller\n\t *         ...\n\t *         onScrollStart={this.onScrollStart}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @public\n\t */\n\tonScrollStart: PropTypes.func,\n\n\t/**\n\t * Called when scroll stops.\n\t *\n\t * Passes `scrollLeft` and `scrollTop`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStop = ({scrollLeft, scrollTop}) => {\n\t *     // do something with scrollLeft and scrollTop\n\t * }\n\t *\n\t * render = () => (\n\t *     <Scroller\n\t *         ...\n\t *         onScrollStop={this.onScrollStop}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @public\n\t */\n\tonScrollStop: PropTypes.func,\n\n\t/**\n\t * Specifies overscroll effects shows on which type of inputs.\n\t *\n\t * @type {Object}\n\t * @default {drag: false, pageKey: false, wheel: false}\n\t * @private\n\t */\n\toverscrollEffectOn: PropTypes.shape({\n\t\tdrag: PropTypes.bool,\n\t\tpageKey: PropTypes.bool,\n\t\twheel: PropTypes.bool\n\t}),\n\n\t/**\n\t * Specifies how to scroll.\n\t *\n\t * Valid values are:\n\t * * `'translate'`,\n\t * * `'native'`.\n\t *\n\t * @type {String}\n\t * @default 'translate'\n\t * @public\n\t */\n\tscrollMode: PropTypes.string,\n\n\t/**\n\t * Specifies how to show vertical scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {String}\n\t * @default 'auto'\n\t * @public\n\t */\n\tverticalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden'])\n};\n\nScroller.defaultProps = {\n\tcbScrollTo: nop,\n\tdirection: 'both',\n\thorizontalScrollbar: 'auto',\n\tnoScrollByDrag: false,\n\tnoScrollByWheel: false,\n\tonScroll: nop,\n\tonScrollStart: nop,\n\tonScrollStop: nop,\n\toverscrollEffectOn: {\n\t\tdrag: false,\n\t\tpageKey: false,\n\t\twheel: false\n\t},\n\tscrollMode: 'translate',\n\tverticalScrollbar: 'auto'\n};\n\nexport default Scroller;\nexport {\n\tScroller,\n\tScrollerBase, // to support legacy ScrollerBase\n\tScrollerBasic // to support theme libraries\n};\n","import EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ComponentOverride from '../ComponentOverride';\n\n/**\n * An unstyled, knob component to be used with a `Slider`.\n *\n * @class Knob\n * @memberof ui/Slider\n * @ui\n * @public\n */\nconst Knob = kind({\n\tname: 'Knob',\n\n\tpropTypes: /** @lends ui/Slider.Knob.prototype */ {\n\t\t/**\n\t\t * The orientation of the slider, either `\"horizontal\"` or `\"vertical\"`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default \"horizontal\"\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t/**\n\t\t * A number between 0 and 1 representing the proportion of the `value` in terms of `min`\n\t\t * and `max` props of the slider.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tproportion: PropTypes.number,\n\n\t\t/**\n\t\t * Adds a tooltip to the knob using the provided component.\n\t\t *\n\t\t * The following props are forwarded to the tooltip:\n\t\t *\n\t\t * * `children` - The `value` prop from the slider\n\t\t * * `orientation` - The value of the `orientation` prop from the slider\n\t\t * * `proportion` - The value of the `proportion` prop from the knob\n\t\t *\n\t\t * This prop accepts either a Component (e.g. `MyTooltip`} which will be instantiated with\n\t\t * the above props or a component instance (e.g. `<MyTooltip customProp=\"value\" />`) which\n\t\t * will have its props merged with the above props.\n\t\t *\n\t\t * @see {@link ui/ComponentOverride}\n\t\t *\n\t\t * @type {Function|Element}\n\t\t * @public\n\t\t */\n\t\ttooltipComponent: EnactPropTypes.componentOverride,\n\n\t\t/**\n\t\t * The value of the slider.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.number\n\t},\n\n\trender: ({orientation, proportion, tooltipComponent, value, ...rest}) => {\n\t\treturn (\n\t\t\t<div {...rest}>\n\t\t\t\t<ComponentOverride\n\t\t\t\t\tcomponent={tooltipComponent}\n\t\t\t\t\torientation={orientation}\n\t\t\t\t\tproportion={proportion}\n\t\t\t\t>\n\t\t\t\t\t{value}\n\t\t\t\t</ComponentOverride>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nexport default Knob;\nexport {\n\tKnob\n};\n","import hoc from '@enact/core/hoc';\nimport {forward} from '@enact/core/handle';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {validateRangeOnce, validateSteppedOnce} from '../internal/validators';\n\nimport {calcProportion} from './utils';\n\nimport css from './Slider.module.less';\n\nconst validateRange = validateRangeOnce((props) => props, {'component': 'PositionDecorator'});\nconst validateStepValue = validateSteppedOnce((props) => props, {'component': 'PositionDecorator'});\nconst validateStepMax = validateSteppedOnce((props) => props, {'component': 'PositionDecorator', valueName: 'max'});\n\nconst PositionDecorator = hoc((config, Wrapped) => {\t// eslint-disable-line no-unused-vars\n\treturn class extends React.Component {\n\t\tstatic displayName = 'PositionDecorator';\n\n\t\tstatic propTypes = {\n\t\t\tdisabled: PropTypes.bool,\n\t\t\tmax: PropTypes.number,\n\t\t\tmin: PropTypes.number,\n\t\t\tonChange: PropTypes.func,\n\t\t\torientation: PropTypes.string,\n\t\t\tstep: PropTypes.number,\n\t\t\tvalue: PropTypes.number\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\tdisabled: false,\n\t\t\tmax: 100,\n\t\t\tmin: 0,\n\t\t\torientation: 'horizontal',\n\t\t\tstep: 1\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.handleDown = this.handleDown.bind(this);\n\t\t\tthis.handleDrag = this.handleDrag.bind(this);\n\t\t\tthis.handleDragStart = this.handleDragStart.bind(this);\n\t\t\tthis.bounds = {};\n\t\t\tthis.dragConfig = {\n\t\t\t\tglobal: true\n\t\t\t};\n\t\t}\n\n\t\temitChangeForPosition (x, y) {\n\t\t\tconst {max, min, orientation, step} = this.props;\n\t\t\tlet position = x;\n\t\t\tlet offset = this.bounds.offsetX;\n\n\t\t\tif (orientation === 'vertical') {\n\t\t\t\tposition = y;\n\t\t\t\toffset = this.bounds.offsetY;\n\t\t\t}\n\n\t\t\tlet proportion = calcProportion(this.bounds.min, this.bounds.max, position - offset);\n\t\t\tif (orientation === 'vertical') {\n\t\t\t\tproportion = 1 - proportion;\n\t\t\t}\n\n\t\t\tlet value = (max - min) * proportion + min;\n\n\t\t\t// adjust value for stepping\n\t\t\tif (step) {\n\t\t\t\tconst delta = (value - min) % step;\n\t\t\t\tif (delta < step / 2) {\n\t\t\t\t\tvalue -= delta;\n\t\t\t\t} else {\n\t\t\t\t\tvalue += step - delta;\n\t\t\t\t}\n\n\t\t\t\t// recalculate the proportion based on the stepped value\n\t\t\t\tproportion = calcProportion(min, max, value);\n\t\t\t}\n\n\t\t\tif (value !== this.props.value) {\n\t\t\t\tforward('onChange', {\n\t\t\t\t\ttype: 'onChange',\n\t\t\t\t\tvalue,\n\t\t\t\t\tproportion\n\t\t\t\t}, this.props);\n\t\t\t}\n\t\t}\n\n\t\tupdateBounds (node) {\n\t\t\tconst {orientation} = this.props;\n\n\t\t\tconst bounds = node.getBoundingClientRect();\n\t\t\tconst computedStyle = window.getComputedStyle(node);\n\n\t\t\tif (orientation === 'horizontal') {\n\t\t\t\tthis.bounds.min = bounds.left + parseInt(computedStyle.paddingLeft);\n\t\t\t\tthis.bounds.max = bounds.right - parseInt(computedStyle.paddingRight);\n\t\t\t} else {\n\t\t\t\tthis.bounds.min = bounds.top + parseInt(computedStyle.paddingTop);\n\t\t\t\tthis.bounds.max = bounds.bottom - parseInt(computedStyle.paddingBottom);\n\t\t\t}\n\t\t}\n\n\t\tupdateOffset (clientX, clientY, target) {\n\t\t\tthis.bounds.offsetX = 0;\n\t\t\tthis.bounds.offsetY = 0;\n\n\t\t\tconst knob = target.closest(`.${css.knob}`);\n\t\t\tif (knob) {\n\t\t\t\tconst rect = knob.getBoundingClientRect();\n\t\t\t\tconst centerX = rect.left + rect.width / 2;\n\t\t\t\tconst centerY = rect.top + rect.height / 2;\n\n\t\t\t\tthis.bounds.offsetX = clientX - centerX;\n\t\t\t\tthis.bounds.offsetY = clientY - centerY;\n\t\t\t}\n\t\t}\n\n\t\thandleDown ({clientX, clientY, currentTarget, target}) {\n\t\t\t// bail early for emulated mousedown events from key presses\n\t\t\tif (typeof clientX === 'undefined' || typeof clientY === 'undefined') return;\n\n\t\t\tthis.updateBounds(currentTarget);\n\t\t\tthis.updateOffset(clientX, clientY, target);\n\t\t\tthis.emitChangeForPosition(clientX, clientY);\n\t\t}\n\n\t\thandleDragStart (ev) {\n\t\t\tforward('onDragStart', ev, this.props);\n\t\t\tthis.emitChangeForPosition(ev.x, ev.y);\n\t\t}\n\n\t\thandleDrag (ev) {\n\t\t\tforward('onDrag', ev, this.props);\n\t\t\tthis.emitChangeForPosition(ev.x, ev.y);\n\t\t}\n\n\t\trender () {\n\t\t\tif (__DEV__) {\n\t\t\t\tconst {min, value = min, max, step} = this.props;\n\t\t\t\tconst props = {min, value: value || min, max, step};\n\n\t\t\t\tvalidateRange(props);\n\t\t\t\tvalidateStepValue(props);\n\t\t\t\tvalidateStepMax(props);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Wrapped\n\t\t\t\t\t{...this.props}\n\t\t\t\t\tdragConfig={this.dragConfig}\n\t\t\t\t\tonDown={this.handleDown}\n\t\t\t\t\tonDragStart={this.handleDragStart}\n\t\t\t\t\tonDrag={this.handleDrag}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default PositionDecorator;\nexport {\n\tPositionDecorator\n};\n","/**\n * Unstyled slider components and behaviors to be customized by a theme or application.\n *\n * @module ui/Slider\n * @exports Knob\n * @exports Slider\n * @exports SliderBase\n * @exports SliderDecorator\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport Changeable from '../Changeable';\nimport ComponentOverride from '../ComponentOverride';\nimport Touchable from '../Touchable';\n\nimport Knob from './Knob';\nimport PositionDecorator from './PositionDecorator';\n\nimport componentCss from './Slider.module.less';\n\nimport {calcProportion} from './utils';\n\n/**\n * An unstyled, sliding range-selection component.\n *\n * @class SliderBase\n * @memberof ui/Slider\n * @ui\n * @public\n */\nconst SliderBase = kind({\n\tname: 'ui:Slider',\n\n\tpropTypes: /** @lends ui/Slider.SliderBase.prototype */ {\n\t\t/**\n\t\t * The component used to render the progress bar within the slider.\n\t\t *\n\t\t * The provided component will receive the following props from `Slider`\n\t\t *\n\t\t * * backgroundProgress - The value of `backgroundProgress`\n\t\t * * orientation        - The value of `orientation`\n\t\t * * progress           - The `value` as a proportion between `min` and `max`\n\t\t * * progressAnchor     - The value of `progressAnchor`\n\t\t *\n\t\t * This prop accepts either a Component (e.g. `MyProgress`} which will be instantiated with\n\t\t * the above props or a component instance (e.g. `<MyProgress customProp=\"value\" />`) which\n\t\t * will have its props merged with the above props.\n\t\t *\n\t\t * @type {Component|Element}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tprogressBarComponent: EnactPropTypes.componentOverride.isRequired,\n\n\t\t/**\n\t\t * Background progress, as a proportion between `0` and `1`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tbackgroundProgress: PropTypes.number,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `slider`     - The root component class\n\t\t * * `knob`       - The knob node\n\t\t * * `horizontal` - Applied when `orientation` prop is `\"horizontal\"``\n\t\t * * `pressed`    - Applied when `pressed` prop is `true`\n\t\t * * `noFill`     - Applied when `noFill` prop is `true`\n\t\t * * `vertical`   - Applied when `orientation` prop is `\"vertical\"`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Disables component and does not generate events.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Defines a custom knob component for the slider.\n\t\t *\n\t\t * By default, Slider will use its own implementation, {@link ui/Slider.Knob}.\n\t\t *\n\t\t * The following props are forwarded to the knob:\n\t\t *\n\t\t * * `className`        - A `knob` class applied by the slider\n\t\t * * `disabled`         - The value of `disabled`\n\t\t * * `orientation`      - The value of `orientation`\n\t\t * * `proportion`       - The `value` as a proportion between `min` and `max`\n\t\t * * `tooltipComponent` - The value of `tooltipComponent`\n\t\t * * `value`            - The value of `value`\n\t\t *\n\t\t * This prop accepts either a Component (e.g. `MyKnob`} which will be instantiated with\n\t\t * the above props or a component instance (e.g. `<MyKnob customProp=\"value\" />`) which\n\t\t * will have its props merged with the above props.\n\t\t *\n\t\t * @see {@link ui/ComponentOverride}\n\t\t *\n\t\t * @type {Component|Element}\n\t\t * @default {@link ui/Slider.Knob}\n\t\t * @public\n\t\t */\n\t\tknobComponent: EnactPropTypes.componentOverride,\n\n\t\t/**\n\t\t * The maximum value of the slider.\n\t\t *\n\t\t * The range between `min` and `max` should be evenly divisible by\n\t\t * [step]{@link ui/Slider.SliderBase.step}.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 100\n\t\t * @public\n\t\t */\n\t\tmax: PropTypes.number,\n\n\t\t/**\n\t\t * The minimum value of the slider.\n\t\t *\n\t\t * The range between `min` and `max` should be evenly divisible by\n\t\t * [step]{@link ui/Slider.SliderBase.step}.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tmin: PropTypes.number,\n\n\t\t/**\n\t\t * Applies the style where the slider bar does not display filled.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tnoFill: PropTypes.bool,\n\n\t\t/**\n\t\t * The orientation of the slider.\n\t\t *\n\t\t * Allowed values include:\n\t\t * * `'horizontal'` - A left and right orientation\n\t\t * * `'vertical'` - An up and down orientation\n\t\t *\n\t\t * @type {String}\n\t\t * @default \"horizontal\"\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.string,\n\n\t\t/**\n\t\t * Applies a pressed visual effect.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tpressed: PropTypes.bool,\n\n\t\t/**\n\t\t * Sets the point, as a proportion between 0 and 1, from which the slider is filled.\n\t\t *\n\t\t * Applies to both the slider's `value` and `backgroundProgress`. In both cases,\n\t\t * setting the value of `progressAnchor` will cause the slider to fill from that point\n\t\t * down, when `value` or `backgroundProgress` is proportionally less than the anchor, or up,\n\t\t * when `value` or `backgroundProgress` is proportionally greater than the anchor, rather\n\t\t * than always from the start of the slider.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tprogressAnchor: PropTypes.number,\n\n\t\t/**\n\t\t * The amount to increment or decrement the value.\n\t\t *\n\t\t * It must evenly divide into the range designated by `min` and `max`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t * @public\n\t\t */\n\t\tstep: PropTypes.number,\n\n\t\t/**\n\t\t * Adds a tooltip to the slider using the provided component.\n\t\t *\n\t\t * The following props are forwarded to the tooltip:\n\t\t *\n\t\t * * `children`    - The `value` prop from the slider\n\t\t * * `orientation` - The value of the `orientation` prop from the slider\n\t\t * * `proportion`  - The `value` as a proportion between `min` and `max`\n\t\t *\n\t\t * This prop accepts either a Component (e.g. `MyTooltip`} which will be instantiated with\n\t\t * the above props or a component instance (e.g. `<MyTooltip customProp=\"value\" />`) which\n\t\t * will have its props merged with the above props.\n\t\t *\n\t\t * @see {@link ui/ComponentOverride}\n\t\t *\n\t\t * @type {Component|Element}\n\t\t * @public\n\t\t */\n\t\ttooltipComponent: EnactPropTypes.componentOverride,\n\n\t\t/**\n\t\t * The value of the slider.\n\t\t *\n\t\t * Defaults to the value of `min`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.number\n\t},\n\n\tdefaultProps: {\n\t\tdisabled: false,\n\t\tknobComponent: Knob,\n\t\tmin: 0,\n\t\tmax: 100,\n\t\tnoFill: false,\n\t\torientation: 'horizontal',\n\t\tprogressAnchor: 0,\n\t\tstep: 1\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'slider',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({noFill, orientation, pressed, styler}) => {\n\t\t\treturn styler.append(\n\t\t\t\torientation,\n\t\t\t\t{\n\t\t\t\t\tnoFill,\n\t\t\t\t\tpressed\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\tpercent: ({max, min, value = min}) => calcProportion(min, max, value),\n\t\tstyle: ({max, min, style, value = min}) => {\n\t\t\tconst proportion = calcProportion(min, max, value);\n\n\t\t\treturn {\n\t\t\t\t...style,\n\t\t\t\t'--ui-slider-proportion-end-knob': proportion\n\t\t\t};\n\t\t}\n\t},\n\n\trender: ({\n\t\tbackgroundProgress,\n\t\tcss,\n\t\tdisabled,\n\t\tknobComponent,\n\t\tmin,\n\t\torientation,\n\t\tpercent,\n\t\tprogressBarComponent,\n\t\tprogressAnchor,\n\t\ttooltipComponent,\n\t\tvalue = min,\n\t\t...rest\n\t}) => {\n\t\tdelete rest.max;\n\t\tdelete rest.noFill;\n\t\tdelete rest.pressed;\n\t\tdelete rest.step;\n\n\t\treturn (\n\t\t\t<div {...rest} disabled={disabled}>\n\t\t\t\t<ComponentOverride\n\t\t\t\t\tbackgroundProgress={backgroundProgress}\n\t\t\t\t\tcomponent={progressBarComponent}\n\t\t\t\t\torientation={orientation}\n\t\t\t\t\tprogress={percent}\n\t\t\t\t\tprogressAnchor={progressAnchor}\n\t\t\t\t>\n\t\t\t\t\t<ComponentOverride\n\t\t\t\t\t\tclassName={css.knob}\n\t\t\t\t\t\tcomponent={knobComponent}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\torientation={orientation}\n\t\t\t\t\t\tproportion={percent}\n\t\t\t\t\t\ttooltipComponent={tooltipComponent}\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t/>\n\t\t\t\t</ComponentOverride>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n/**\n * Adds touch and drag support to a [SliderBase]{@link ui/Slider.SliderBase}.\n *\n * @hoc\n * @memberof ui/Slider\n * @mixes ui/Changeable.Changeable\n * @mixes ui/Touchable.Touchable\n * @public\n */\nconst SliderDecorator = compose(\n\tChangeable,\n\tPositionDecorator,\n\tTouchable({activeProp: 'pressed'})\n);\n\n/**\n * A minimally-styled slider component with touch and drag support.\n *\n * @class Slider\n * @extends ui/Slider.SliderBase\n * @memberof ui/Slider\n * @mixes ui/Slider.SliderDecorator\n * @ui\n * @public\n */\n\n/**\n * Called when the value is changed.\n *\n * @name onChange\n * @memberof ui/Slider.Slider.prototype\n * @type {Function}\n * @param {Object} event\n * @param {Number} event.value      Value of the slider\n * @param {Number} event.proportion Proportion of the value in terms of the min and max\n *                                  values\n * @public\n */\n\nconst Slider = SliderDecorator(SliderBase);\n\nexport default Slider;\nexport {\n\tKnob,\n\tSlider,\n\tSliderBase,\n\tSliderDecorator\n};\n","let GlobalId = 0;\nconst ID_KEY = '$$ID$$';\n\nclass Provider {\n\tconstructor (prefix) {\n\t\tthis.prefix = prefix;\n\t\tthis.ids = {};\n\t}\n\n\tunload () {\n\t\t// Call the onUnmount handler for each generated id (note: not the key)\n\t\tfor (const key in this.ids) {\n\t\t\tconst {id, onUnmount} = this.ids[key];\n\n\t\t\tif (typeof onUnmount === 'function') {\n\t\t\t\tonUnmount(id);\n\t\t\t}\n\t\t}\n\t}\n\n\tgenerate = (key = ID_KEY, idPrefix = this.prefix, onUnmount) => {\n\t\t// if an id has been generated for the key, return it\n\t\tif (key in this.ids) {\n\t\t\treturn this.ids[key].id;\n\t\t}\n\n\t\t// otherwise generate a new id (with an optional prefix), cache it, and return it\n\t\tconst id = `${idPrefix}${++GlobalId}`;\n\t\tthis.ids[typeof key === 'undefined' ? `generated-${id}` : key] = {\n\t\t\tid,\n\t\t\tonUnmount\n\t\t};\n\n\t\treturn id;\n\t};\n}\n\nexport default Provider;\nexport {\n\tProvider\n};\n","import useClass from '@enact/core/useClass';\nimport React from 'react';\n\nimport Provider from './Provider';\n\n/**\n * Configuration for `useIdProvider`\n *\n * @typedef {Object} useIdProviderConfig\n * @memberof ui/IdProvider\n * @property {String} [prefix] Optional prefix for the identifier.\n * @private\n */\n\n/**\n * Object returned by `useIdProvider`\n *\n * @typedef {Object} useIdProviderInterface\n * @memberof ui/IdProvider\n * @property {Function} [generateId] The function to generate id.\n * @private\n */\n\n/**\n * Generate globally-unique identifiers\n *\n * @param {useIdProviderConfig} config Configuration options\n * @returns {useIdProviderInterface}\n * @private\n */\nconst useIdProvider = ({prefix}) => {\n\tconst provider = useClass(Provider, prefix);\n\n\tReact.useEffect(() => {\n\t\treturn () => provider.unload();\n\t}, [provider]);\n\n\treturn {\n\t\tgenerateId: provider.generate\n\t};\n};\n\nexport default useIdProvider;\nexport {\n\tuseIdProvider\n};\n","import hoc from '@enact/core/hoc';\nimport React from 'react';\n\nimport useId from './useId';\n\n/**\n * Default config for {@link ui/IdProvider.IdProvider}\n *\n * @hocconfig\n * @memberof ui/IdProvider.IdProvider\n */\nconst defaultConfig = {\n\t/**\n\t * Prop to pass the identifier generation function\n\t *\n\t * @type {String}\n\t * @default generateId\n\t * @memberof ui/IdProvider.IdProvider.defaultConfig\n\t */\n\tgenerateProp: 'generateId',\n\n\t/**\n\t * Prop to pass the identifier\n\t *\n\t * @type {String}\n\t * @default id\n\t * @memberof ui/IdProvider.IdProvider.defaultConfig\n\t */\n\tidProp: 'id',\n\n\t/**\n\t * Optional prefix for the identifier\n\t *\n\t * @type {String}\n\t * @default 'c_'\n\t * @memberof ui/IdProvider.IdProvider.defaultConfig\n\t */\n\tprefix: 'c_'\n};\n\n/**\n * A higher-order component that generates globally-unique identifiers\n *\n * @class IdProvider\n * @hoc\n * @private\n * @memberof ui/IdProvider\n */\nconst IdProvider = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {generateProp, idProp, prefix} = config;\n\n\t// eslint-disable-next-line no-shadow\n\tfunction IdProvider (props) {\n\t\tconst updated = {...props};\n\t\tconst {generateId} = useId({prefix});\n\n\t\tif (generateProp) {\n\t\t\tupdated[generateProp] = generateId;\n\t\t}\n\n\t\tif (idProp && !updated[idProp]) {\n\t\t\tupdated[idProp] = generateId();\n\t\t}\n\n\t\treturn (\n\t\t\t<Wrapped {...updated} />\n\t\t);\n\t}\n\n\treturn IdProvider;\n});\n\nexport default IdProvider;\nexport {\n\tIdProvider,\n\tuseId\n};\n","import {forKey} from '@enact/core/handle';\n\n/**\n * Array of cancel handlers. If any of these returns `false`, `forCancel` will return `false`;\n *\n * @type {Function[]}\n * @private\n */\nconst cancelHandlers = [\n\t// always support the Escape key\n\tforKey('cancel')\n];\n\n/**\n * Event handler compatible with {@link core/handle} that allows the handler chain to\n * continue for any cancel event. A cancel event is an Escape key press by default but can be\n * extended adding additional handlers using\n * {@link ui/Cancelable/cancelHandler.addCancelHandler}.\n *\n * @function\n * @memberof ui/Cancelable\n * @param  {Object} ev Event object\n * @returns {Boolean} `true` to stop the handler chain\n * @private\n */\nconst forCancel = function (ev) {\n\tlet ok = false;\n\tcancelHandlers.forEach(fn => {\n\t\t// if any handler returns true, we don't need to call any more\n\t\tok = ok || fn(ev);\n\t});\n\n\treturn ok;\n};\n\n/**\n * Adds an event handler to filter cancel events.\n *\n * @function\n * @memberof ui/Cancelable\n * @param {Function} handler\tFunction that will receive the event and should return `true` if\n *\t\t\t\t\t\t\t\tthe event is a cancel event.\n * @returns {undefined}\n * @public\n */\nconst addCancelHandler = function (handler) {\n\tif (cancelHandlers.indexOf(handler) < 0) {\n\t\tcancelHandlers.push(handler);\n\t}\n};\n\n/**\n * Removes an event handler to filter cancel events\n *\n * @function\n * @memberof ui/Cancelable\n * @param {Function} handler A previously added filter function\n * @returns {undefined}\n * @public\n */\nconst removeCancelHandler = function (handler) {\n\tconst index = cancelHandlers.indexOf(handler);\n\tif (index >= 0) {\n\t\tcancelHandlers.splice(index, 1);\n\t}\n};\n\nexport {\n\taddCancelHandler,\n\tforCancel,\n\tremoveCancelHandler\n};\n","import {on, off} from '@enact/core/dispatcher';\n\n// Contains references to modal Cancelable instances in LIFO order to allow multiple modals to be\n// displayed with the last having the first priority to handle the cancel.\nconst modals = [];\n\n/**\n * Dispatches the cancel event to each modal `Cancelable` instance. Consistent with\n * {@link core/handle.handle}, returning a `true` value means the event was handled and anything\n * falsy allows the event to pass to the next handler.\n *\n * @param\t{Object}\tev\tEvent payload\n *\n * @returns\t{undefined}\n * @private\n */\nconst dispatchToModals = (ev) => {\n\tfor (let i = modals.length - 1, handled = false; !handled && i >= 0; i--) {\n\t\thandled = modals[i].handleCancel(ev);\n\t}\n};\n\n/**\n * Adds a modal `Cancelable` instance to the list of modals.\n *\n * @param\t{ui/Cancelable.Cancelable}\tobj\tCancelable instance\n *\n * @returns\t{undefined}\n * @private\n */\nconst addModal = (obj) => {\n\tif (modals.push(obj) === 1 && typeof window !== 'undefined') {\n\t\ton('keyup', dispatchToModals, window);\n\t}\n};\n\n/**\n * Removes a modal `Cancelable` instance from the list of modals.\n *\n * @param\t{ui/Cancelable.Cancelable}\tobj\tCancelable instance\n *\n * @returns\t{undefined}\n * @private\n */\nconst removeModal = (obj) => {\n\tconst index = modals.indexOf(obj);\n\tif (index >= 0) {\n\t\tmodals.splice(index, 1);\n\t}\n\n\tif (modals.length === 0 && typeof window !== 'undefined') {\n\t\toff('keyup', dispatchToModals, window);\n\t}\n};\n\nexport {addModal, removeModal};\n","/**\n * Provides components and methods to add support for handling cancel actions.\n *\n * @module ui/Cancelable\n * @exports addCancelHandler\n * @exports Cancelable\n * @exports removeCancelHandle\n */\n\nimport {forward, handle, stop, stopImmediate} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport {add} from '@enact/core/keymap';\nimport invariant from 'invariant';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {forCancel, addCancelHandler, removeCancelHandler} from './cancelHandler';\nimport {addModal, removeModal} from './modalHandler';\n\n/**\n * Default config for {@link ui/Cancelable.Cancelable}\n *\n * @memberof ui/Cancelable.Cancelable\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Called when a cancel action is invoked by the user.\n\t *\n\t * If it is a string, the cancel handler will attempt to invoke a function passed as a prop of\n\t * that name. If it is a function, that function will be called with the current props as the\n\t * only argument.\n\t *\n\t * If the function handles the cancel action, it should call `stopPropagation()` on the provided\n\t * event object prevent container or `modal` Cancelable instances from also handling the action.\n\t *\n\t * @type {String|Function}\n\t * @required\n\t * @memberof ui/Cancelable.Cancelable.defaultConfig\n\t */\n\tonCancel: null,\n\n\t/**\n\t * Subscribes to cancel events globally for this instance.\n\t *\n\t * When `true`, the `Cancelable` instance will handle cancel events globally that successfully\n\t * bubble up to `window` regardless of which component is focused.\n\t *\n\t * `modal` cancel handlers are processed in reverse of the order they are created such that the\n\t * innermost instance (in terms of the component hierarchy) have the first opportunity to handle\n\t * the event before its container components.\n\t *\n\t * @type {String}\n\t * @default false\n\t * @memberof ui/Cancelable.Cancelable.defaultConfig\n\t */\n\tmodal: false,\n\n\t/**\n\t * The component that will contain the wrapped component.\n\t *\n\t * When set, the wrapped component will be contained within an instance of `component`. This may\n\t * be necessary if the props passed to the wrapped component are not placed on the root element.\n\t *\n\t * @type {Component}\n\t * @default null\n\t * @memberof ui/Cancelable.Cancelable.defaultConfig\n\t */\n\tcomponent: null\n};\n\n// Add keymap for escape key\nadd('cancel', 27);\n\n/**\n * A higher-order component that adds support to a component to handle cancel actions.\n *\n * The cancel event may be handled either by a design-time config function or a run-time prop\n * function. If the component handles the event and wants to prevent upstream components from also\n * handling the event, the callback should invoke `stopPropagation()` on the event object.\n *\n * Note: This HoC passes a number of props to the wrapped component that should be passed to the\n * main DOM node.\n *\n * Usage of config function:\n * ```\n * import Cancelable from '@enact/ui/Cancelable';\n *\n * const MyComponent = ({myProp, ...rest}) => (\n *    <div {...rest}>{myProp}</div>\n *  );\n * ...\n * const CancelableComponent = Cancelable(\n *   {cancel: function (ev, props) {\n *     // Can inspect either the `onCancel` event, `ev`, and/or the `props` to determine how\n *     // to handle the event (e.g. invoking an event handler from `props`).\n *\n *     // Stop upstream instances of Cancelable from handling the event\n *     ev.stopPropagaion();\n *   }},\n *   MyComponent\n * );\n * ```\n *\n * Usage of prop function:\n * ```\n * import Cancelable from '@enact/ui/Cancelable';\n *\n * const CancelableComponent = Cancelable(\n *   // When a cancel action is received and a handler function exists for the prop\n *   // `onCancel`, it will be invoked and passed the `onCancel` event object.\n *   {cancel: 'onCancel'},\n *   MyComponent\n * );\n * ```\n *\n * @class Cancelable\n * @memberof ui/Cancelable\n * @hoc\n * @public\n */\nconst Cancelable = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {\n\t\tonCancel,\n\t\tmodal,\n\t\tcomponent: Component\n\t} = config;\n\n\tinvariant(onCancel, 'onCancel must be specified with Cancelable');\n\n\tconst onCancelIsString = typeof onCancel === 'string';\n\tconst onCancelIsFunction = typeof onCancel === 'function';\n\tconst dispatchCancelToConfig = function (ev, props) {\n\t\t// by default, we return false which allows event propagation because it will \"break\" the\n\t\t// handler chain and not call `stop` and `stopImmediate` below\n\t\tlet stopped = false;\n\n\t\tconst cancelEvent = {\n\t\t\ttype: 'onCancel',\n\t\t\tstopPropagation: () => {\n\t\t\t\tstopped = true;\n\t\t\t}\n\t\t};\n\n\t\tif (onCancelIsString && typeof props[onCancel] === 'function') {\n\t\t\t// use the custom event name from the config\n\t\t\tcancelEvent.type = onCancel;\n\t\t\tprops[onCancel](cancelEvent);\n\t\t} else if (onCancelIsFunction) {\n\t\t\tonCancel(cancelEvent, props);\n\t\t}\n\n\t\treturn stopped;\n\t};\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'Cancelable';\n\n\t\tstatic propTypes = /** @lends ui/Cancelable.Cancelable.prototype */ {\n\t\t\t/**\n\t\t\t * Called when a cancel action is received.\n\t\t\t *\n\t\t\t * This callback is invoked for every cancel action before the config or prop handler is\n\t\t\t * invoked.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonCancel: PropTypes.func\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tthis.isFirstRender = true;\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tif (modal) {\n\t\t\t\tremoveModal(this);\n\t\t\t}\n\t\t}\n\n\t\thandle = handle.bind(this);\n\n\t\thandleCancel = this.handle(\n\t\t\tforCancel,\n\t\t\tforward('onCancel'),\n\t\t\tdispatchCancelToConfig,\n\t\t\tstop,\n\t\t\tstopImmediate\n\t\t);\n\n\t\thandleKeyUp = this.handle(\n\t\t\tforward('onKeyUp'),\n\t\t\t// nesting handlers for DRYness. note that if any conditions return false in\n\t\t\t// this.handleCancel(), this handler chain will stop too\n\t\t\tthis.handleCancel\n\t\t);\n\n\t\trenderWrapped (props) {\n\t\t\treturn (\n\t\t\t\t<Component onKeyUp={this.handleKeyUp}>\n\t\t\t\t\t<Wrapped {...props} />\n\t\t\t\t</Component>\n\t\t\t);\n\t\t}\n\n\t\trenderUnwrapped (props) {\n\t\t\treturn (\n\t\t\t\t<Wrapped {...props} onKeyUp={this.handleKeyUp} />\n\t\t\t);\n\t\t}\n\n\t\trenderModal (props) {\n\t\t\treturn (\n\t\t\t\t<Wrapped {...props} />\n\t\t\t);\n\t\t}\n\n\t\trender () {\n\t\t\tconst props = Object.assign({}, this.props);\n\t\t\tdelete props.onCancel;\n\t\t\tdelete props[onCancel];\n\n\t\t\tif (this.isFirstRender && modal) {\n\t\t\t\taddModal(this);\n\t\t\t\tthis.isFirstRender = false;\n\t\t\t}\n\n\t\t\treturn\tmodal && this.renderModal(props) ||\n\t\t\t\t\tComponent && this.renderWrapped(props) ||\n\t\t\t\t\tthis.renderUnwrapped(props);\n\t\t}\n\t};\n});\n\nexport default Cancelable;\nexport {\n\taddCancelHandler,\n\tCancelable,\n\tremoveCancelHandler\n};\n","/**\n * An unstyled icon component that handles interaction and toggles state between activated\n * and deactivated.\n *\n * Visually, it may be to be customized by a theme or application to represent any\n * state.\n *\n * @module ui/ToggleIcon\n * @exports ToggleIcon\n * @exports ToggleIconBase\n * @exports ToggleIconDecorator\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport Toggleable from '../Toggleable';\nimport Touchable from '../Touchable';\n\nimport componentCss from './ToggleIcon.module.less';\n\n/**\n * Represents a Boolean state, and can accept any icon to toggle.\n *\n * @class ToggleIconBase\n * @memberof ui/ToggleIcon\n * @ui\n * @public\n */\nconst ToggleIconBase = kind({\n\tname: 'ui:ToggleIcon',\n\n\tpropTypes: /** @lends ui/ToggleIcon.ToggleIconBase.prototype */ {\n\t\t/**\n\t\t * The icon to use for this component.\n\t\t *\n\t\t * @see {@link ui/Icon.Icon.children}\n\t\t * @type {String|Object}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `toggleIcon` - The root class name\n\t\t * * `icon` - The background node of the button\n\t\t * * `selected` - Applied to a `selected` button\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Disables `ToggleIcon`.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t* CSS classes to be used on the Icon component\n\t\t*\n\t\t* @type {String}\n\t\t* @public\n\t\t*/\n\t\ticonClasses: PropTypes.string,\n\n\t\t/**\n\t\t * The component used to render the icon.\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @default 'div'\n\t\t * @public\n\t\t */\n\t\ticonComponent: EnactPropTypes.renderable,\n\n\t\t/**\n\t\t * Sets whether this control is in the 'on' or 'off' state. `true` for 'on', `false` for 'off'.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tdisabled: false,\n\t\ticonComponent: 'div',\n\t\tselected: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'toggleIcon',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({selected, styler}) => styler.append({selected}),\n\t\ticonClassName: ({iconClasses, css}) => iconClasses ? `${css.icon} ${iconClasses}` : css.icon\n\t},\n\n\trender: ({children, disabled, iconComponent: IconComponent, iconClassName, selected, ...rest}) => {\n\t\tdelete rest.iconClasses;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\taria-checked={selected}\n\t\t\t\taria-disabled={disabled}\n\t\t\t\tdisabled={disabled}\n\t\t\t\trole=\"checkbox\"\n\t\t\t\t{...rest}\n\t\t\t>\n\t\t\t\t<IconComponent className={iconClassName}>{children}</IconComponent>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n/**\n * Adds support for the `onToggle` prop callback to be fired when the `onTap` (touch-safe `onClick`)\n * event executes.\n *\n * @class ToggleIconDecorator\n * @memberof ui/ToggleIcon\n * @mixes ui/Toggleable.Toggleable\n * @mixes ui/Touchable.Touchable\n * @ui\n * @public\n */\nconst ToggleIconDecorator = compose(\n\tToggleable({toggleProp: 'onTap'}),\n\tTouchable\n);\n\n/**\n * Represents a Boolean state, and can accept any icon to toggle.\n *\n * @class ToggleIcon\n * @memberof ui/ToggleIcon\n * @extends ui/ToggleIcon.ToggleIconBase\n * @mixes ui/ToggleIcon.ToggleIconDecorator\n * @ui\n * @public\n */\nconst ToggleIcon = ToggleIconDecorator(ToggleIconBase);\n\n/**\n * The handler to run when the component is toggled.\n *\n * @name onToggle\n * @memberof ui/ToggleIcon.ToggleIcon.prototype\n * @type {Function}\n * @param {Object} event\n * @param {String} event.selected - Selected value of item.\n * @public\n */\n\nexport default ToggleIcon;\nexport {\n\tToggleIcon,\n\tToggleIconBase,\n\tToggleIconDecorator\n};\n","/**\n * Agate styled toggle icon.\n *\n * @example\n * <ToggleIcon selected>check</ToggleIcon>\n *\n * @module agate/ToggleIcon\n * @exports ToggleIcon\n * @exports ToggleIconBase\n * @exports ToggleIconDecorator\n * @private\n */\n\nimport kind from '@enact/core/kind';\nimport React from 'react';\nimport compose from 'ramda/src/compose';\n\nimport Pure from '@enact/ui/internal/Pure';\nimport UiToggleIcon from '@enact/ui/ToggleIcon';\n\nimport Icon from '../../Icon/Icon';\nimport Skinnable from '../../Skinnable/Skinnable';\n\n/**\n * A component that indicates a boolean state.\n *\n * @class ToggleIconBase\n * @memberof agate/ToggleIcon\n * @extends ui/ToggleIcon.ToggleIcon\n * @ui\n * @private\n */\nconst ToggleIconBase = kind({\n\tname: 'ToggleIcon',\n\n\trender: (props) => {\n\t\treturn (\n\t\t\t<UiToggleIcon {...props} iconComponent={Icon} />\n\t\t);\n\t}\n});\n\n/**\n * Agate-specific behaviors to apply to `ToggleIconBase`.\n *\n * @hoc\n * @memberof agate/ToggleIcon\n * @mixes agate/Skinnable.Skinnable\n * @private\n */\nconst ToggleIconDecorator = compose(\n\tPure,\n\tSkinnable\n);\n\n/**\n * A customizable Agate starting point [Icon]{@link agate/Icon.Icon} that responds to the\n * `selected` prop.\n *\n * @class ToggleIcon\n * @memberof agate/ToggleIcon\n * @extends agate/ToggleIcon.ToggleIconBase\n * @mixes agate/ToggleIcon.ToggleIconDecorator\n * @private\n */\nconst ToggleIcon = ToggleIconDecorator(ToggleIconBase);\n\nexport default ToggleIcon;\nexport {\n\tToggleIcon,\n\tToggleIconBase,\n\tToggleIconDecorator\n};\n","/**\n * Modal component that appears at the bottom of the screen and takes up the full screen width.\n *\n * @example\n * <Popup open>Hello!</Popup>\n *\n * @module agate/Popup\n * @exports Popup\n * @exports PopupBase\n * @exports PopupDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport SpotlightContainerDecorator from '@enact/spotlight/SpotlightContainerDecorator';\nimport Layout, {Cell} from '@enact/ui/Layout';\nimport Slottable from '@enact/ui/Slottable';\nimport Transition from '@enact/ui/Transition';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport Button from '../Button';\nimport Heading from '../Heading';\nimport Skinnable from '../Skinnable';\n\nimport PopupState from './PopupState';\n\nimport componentCss from './Popup.module.less';\n\n\nconst TransitionContainer = SpotlightContainerDecorator(\n\t{enterTo: 'default-element', preserveId: true},\n\tTransition\n);\n\n/**\n * The base popup component.\n *\n * @class PopupBase\n * @memberof agate/Popup\n * @ui\n * @public\n */\nconst PopupBase = kind({\n\tname: 'Popup',\n\tpropTypes: /** @lends agate/Popup.PopupBase.prototype */ {\n\t\tbuttons: PropTypes.oneOfType([\n\t\t\tPropTypes.element,\n\t\t\tPropTypes.arrayOf(PropTypes.element)\n\t\t]),\n\n\t\t/**\n\t\t * Centers the contents.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tcentered: PropTypes.bool,\n\n\t\tcloseButton: PropTypes.bool,\n\t\tcss: PropTypes.object,\n\t\tnoAnimation: PropTypes.bool,\n\t\tonClose: PropTypes.func,\n\t\tonHide: PropTypes.func,\n\t\topen: PropTypes.bool,\n\n\t\t/**\n\t\t * Sets the position of the popup on the screen.\n\t\t *\n\t\t * @type {('center'|'top')}\n\t\t * @default 'center'\n\t\t * @public\n\t\t */\n\t\tposition: PropTypes.oneOf(['center', 'top']),\n\n\t\tskin: PropTypes.string,\n\t\ttitle: PropTypes.string\n\t},\n\tdefaultProps: {\n\t\tcentered: false,\n\t\tcloseButton: false,\n\t\tnoAnimation: false,\n\t\topen: false,\n\t\tposition: 'center'\n\t},\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'popup'\n\t},\n\tcomputed: {\n\t\tclassName: ({centered, closeButton, position, styler, title}) => styler.append({top: position === 'top', withCloseButton: closeButton, withTitle: title, centered}),\n\t\ttransitionType : ({position}) => position === 'center' ? 'fade' : 'slide',\n\t\tdirection : ({position}) => position === 'center' ? 'down' : 'up'\n\t},\n\trender: ({buttons, children, closeButton, css, direction, noAnimation, onClose, onHide, open, skin, title, transitionType, ...rest}) => {\n\t\tconst wideLayout = (skin === 'carbon');\n\t\tdelete rest.centered;\n\n\t\treturn (\n\t\t\t<TransitionContainer\n\t\t\t\tnoAnimation={noAnimation}\n\t\t\t\tvisible={open}\n\t\t\t\tdirection={direction}\n\t\t\t\tduration=\"short\"\n\t\t\t\ttype={transitionType}\n\t\t\t\tclassName={css.popupTransitionContainer}\n\t\t\t\tonHide={onHide}\n\t\t\t\tcss={css}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\trole=\"alert\"\n\t\t\t\t\t{...rest}\n\t\t\t\t>\n\t\t\t\t\t{closeButton ? <Button\n\t\t\t\t\t\ticon=\"closex\"\n\t\t\t\t\t\tonTap={onClose}\n\t\t\t\t\t\tclassName={componentCss.closeButton}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t/> : null}\n\t\t\t\t\t{title ? <Heading className={css.title}>{title}</Heading> : null}\n\t\t\t\t\t<Layout orientation={wideLayout ? 'horizontal' : 'vertical'} className={css.body}>\n\t\t\t\t\t\t<Cell shrink={!wideLayout} className={css.content}>\n\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t{buttons ? <Cell shrink className={css.buttons}>\n\t\t\t\t\t\t\t{buttons}\n\t\t\t\t\t\t</Cell> : null}\n\t\t\t\t\t</Layout>\n\t\t\t\t</div>\n\t\t\t</TransitionContainer>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [PopupBase]{@link agate/Popup.PopupBase}.\n *\n * @hoc\n * @memberof agate/Popup\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst PopupDecorator = compose(\n\tSlottable({slots: ['closeButton', 'title', 'buttons']}),\n\tSkinnable({prop: 'skin'}),\n\tPopupState\n);\n\n/**\n * A stateful component that renders a popup in a\n * [FloatingLayer]{@link ui/FloatingLayer.FloatingLayer}.\n *\n * @class Popup\n * @memberof agate/Popup\n * @extends agate/Popup.PopupBase\n * @mixes agate/Popup.PopupDecorator\n * @ui\n * @public\n */\nconst Popup = PopupDecorator(PopupBase);\n\nexport default Popup;\nexport {\n\tPopup,\n\tPopupBase,\n\tPopupDecorator\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sliderButton\":\"SliderButton_sliderButton__3xNfC\",\"pressed\":\"SliderButton_pressed__-FjNz\",\"knob\":\"SliderButton_knob__3wOZP\",\"track\":\"SliderButton_track__3DhDU\",\"client\":\"SliderButton_client__1NOMC\"};","import kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport componentCss from './DateTime.module.less';\n\n/**\n * {@link agate/internal/DateTime.DateTime} provides the surrounding\n * markup and styling for a {@link agate/DatePicker} and\n * {@link agate/TimePicker}.\n *\n * @class DateTime\n * @memberof agate/internal/DateTime\n * @ui\n * @private\n */\nconst DateTimeBase = kind({\n\tname: 'DateTime',\n\n\tpropTypes:  /** @lends agate/internal/DateTime.DateTime.prototype */ {\n\t\tcss: PropTypes.object\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'dateTime',\n\t\tpublicClassNames: ['dateTime', 'pickers']\n\t},\n\n\trender: ({children, css, ...rest}) => (\n\t\t<div {...rest}>\n\t\t\t<div className={css.pickers}>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</div>\n\t)\n});\n\nexport default DateTimeBase;\nexport {\n\tDateTimeBase,\n\tDateTimeBase as DateTime\n};\n","/**\n * Exports the {@link agate/internal/DateTimeDecorator.DateTimeDecorator} higher-order component\n *\n * @module agate/internal/DateTimeDecorator\n * @private\n */\n\nimport {forward} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport {memoize} from '@enact/core/util';\nimport {I18nContextDecorator} from '@enact/i18n/I18nDecorator';\nimport Changeable from '@enact/ui/Changeable';\nimport DateFactory from 'ilib/lib/DateFactory';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\n/*\n * Converts a JavaScript Date to unix time\n *\n * @param\t{Date}\tdate\tA Date to convert\n *\n * @returns\t{undefined}\n */\nconst toTime = (date) => {\n\treturn date && date.getTime();\n};\n\n/**\n * {@link agate/internal/DateTimeDecorator.DateTimeDecorator} provides common behavior for\n * {@link agate/DatePicker.DatePicker} and {@link agate/TimePicker.TimePicker}.\n *\n * @class DateTimeDecorator\n * @memberof agate/internal/DateTimeDecorator\n * @mixes ui/Changeable.Changeable\n * @hoc\n * @private\n */\nconst DateTimeDecorator = hoc((config, Wrapped) => {\n\tconst {customProps, defaultOrder, handlers, i18n} = config;\n\n\tconst memoizedI18nConfig = memoize((/* locale */) => {\n\t\t// Guard for isomorphic builds\n\t\tif (typeof window !== 'undefined' && i18n) {\n\t\t\treturn i18n();\n\t\t}\n\t\treturn null;\n\t});\n\n\tconst Decorator = class extends React.Component {\n\t\tstatic displayName = 'DateTimeDecorator';\n\n\t\tstatic propTypes = /** @lends agate/internal/DateTimeDecorator.DateTimeDecorator.prototype */ {\n\t\t\t/**\n\t\t\t * The current locale as a\n\t\t\t * {@link https://tools.ietf.org/html/rfc5646|BCP 47 language tag}.\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\tlocale: PropTypes.string,\n\n\t\t\t/**\n\t\t\t * Handler for `onChange` events\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonChange: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * The selected date\n\t\t\t *\n\t\t\t * @type {Date}\n\t\t\t * @public\n\t\t\t */\n\t\t\tvalue: PropTypes.instanceOf(Date)\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.state = {\n\t\t\t\tinitialValue: null,\n\t\t\t\tvalue: null\n\t\t\t};\n\n\t\t\tconst newValue = toTime(this.props.value);\n\t\t\tconst value = newValue || Date.now();\n\n\t\t\t// if no value was provided, we need to emit the onChange event for the generated value\n\t\t\tif (!newValue) {\n\t\t\t\tthis.emitChange(this.toIDate(value));\n\t\t\t}\n\n\t\t\tthis.handlers = {};\n\t\t\tif (handlers) {\n\t\t\t\tObject.keys(handlers).forEach(name => {\n\t\t\t\t\tthis.handlers[name] = this.handlePickerChange.bind(this, handlers[name]);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tstatic getDerivedStateFromProps (props, state) {\n\t\t\tlet value = toTime(props.value);\n\n\t\t\tif (!props.disabled && state.initialValue == null && state.value == null) {\n\t\t\t\treturn {\n\t\t\t\t\tinitialValue: value,\n\t\t\t\t\tvalue: value || Date.now()\n\t\t\t\t};\n\t\t\t} else if (state.value !== value) {\n\t\t\t\t// always respect a value change from props\n\t\t\t\treturn {\n\t\t\t\t\tvalue\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn null;\n\t\t}\n\n\t\t/**\n\t\t * Converts a Date to an IDate\n\t\t *\n\t\t * @param\t{Date}\ttime\tDate object\n\t\t *\n\t\t * @returns\t{IDate}\t\t\tilib Date object\n\t\t */\n\t\ttoIDate (time) {\n\t\t\tif (time && this.props.locale) {\n\t\t\t\treturn DateFactory({\n\t\t\t\t\tunixtime: time,\n\t\t\t\t\ttimezone: 'local'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Updates the internal value in state\n\t\t *\n\t\t * @param\t{IDate}\t\tvalue\tilib Date object\n\t\t *\n\t\t * @returns {Number}\t\t\tUpdated internal value\n\t\t */\n\t\tupdateValue = (value) => {\n\t\t\tconst {day, month, year} = value;\n\t\t\tconst maxDays = value.cal.getMonLength(month, year);\n\t\t\tvalue.day = (day <= maxDays) ? day : maxDays;\n\n\t\t\tconst date = DateFactory(value);\n\t\t\tconst newValue = date.getTimeExtended();\n\t\t\tconst changed =\tthis.props.value == null || this.props.value !== newValue;\n\n\t\t\tthis.setState({\n\t\t\t\tvalue: newValue\n\t\t\t});\n\n\t\t\tif (changed) {\n\t\t\t\tthis.emitChange(date);\n\t\t\t}\n\n\t\t\treturn newValue;\n\t\t};\n\n\t\temitChange = (date) => {\n\t\t\tforward('onChange', {value: date ? date.getJSDate() : null}, this.props);\n\t\t};\n\n\t\thandlePickerChange = (handler, ev) => {\n\t\t\tconst value = this.toIDate(this.state.value);\n\t\t\thandler(ev, value, memoizedI18nConfig(this.props.locale));\n\t\t\tthis.updateValue(value);\n\t\t};\n\n\t\thandleCancel = () => {\n\t\t\tconst {initialValue, value} = this.state;\n\n\t\t\t// if we're cancelling, reset our state and emit an onChange with the initial value\n\t\t\tthis.setState({\n\t\t\t\tvalue: null,\n\t\t\t\tinitialValue: null,\n\t\t\t\tpickerValue: value\n\t\t\t});\n\n\t\t\tif (initialValue !== value) {\n\t\t\t\tthis.emitChange(this.toIDate(initialValue));\n\t\t\t}\n\t\t};\n\n\t\trender () {\n\t\t\tconst value = this.toIDate(this.state.value);\n\t\t\t// pickerValue is only set when cancelling to prevent the unexpected changing of the\n\t\t\t// picker values before closing.\n\t\t\tconst pickerValue = this.state.pickerValue ? this.toIDate(this.state.pickerValue) : value;\n\n\t\t\tlet props = null;\n\t\t\tlet order = defaultOrder;\n\n\t\t\tconst i18nConfig = memoizedI18nConfig(this.props.locale);\n\t\t\tif (i18nConfig) {\n\t\t\t\tprops = customProps(i18nConfig, pickerValue, this.props);\n\t\t\t\torder = i18nConfig.order;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Wrapped\n\t\t\t\t\t{...this.props}\n\t\t\t\t\t{...props}\n\t\t\t\t\t{...this.handlers}\n\t\t\t\t\torder={order}\n\t\t\t\t\tvalue={value}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n\n\treturn I18nContextDecorator(\n\t\t{rtlProp: 'rtl', localeProp: 'locale'},\n\t\tChangeable(\n\t\t\tDecorator\n\t\t)\n\t);\n});\n\nexport default DateTimeDecorator;\nexport {DateTimeDecorator};\n","/**\n * Exports the {@link agate/internal/DateTime.DateTime},\n * {@link agate/internal/DateTime.DateTimeBase}\n * {@link agate/internal/DateTime.DatetimeDecorator}\n * components.\n *\n * @module agate/internal/DateTime\n * @private\n */\n\nimport DateTime, {DateTimeBase} from './DateTime';\nimport {DateTimeDecorator} from './DateTimeDecorator';\n\nexport default DateTime;\nexport {\n\tDateTime,\n\tDateTimeBase,\n\tDateTimeDecorator\n};\n","import kind from '@enact/core/kind';\nimport {mapAndFilterChildren} from '@enact/core/util';\nimport Changeable from '@enact/ui/Changeable';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Picker from '../Picker';\n\nimport css from './DateComponentPicker.module.less';\n\n/**\n * {@link agate/internal/DataComponentPicker.DateComponentPickerBase} allows the selection of one\n * part of the date or time using a {@link agate/internal/Picker.Picker}.\n *\n * @class DateComponentPickerBase\n * @memberof agate/internal/DateComponentPicker\n * @ui\n * @private\n */\nconst DateComponentPickerBase = kind({\n\tname: 'DateComponentPicker',\n\n\tpropTypes: /** @lends agate/internal/DateComponentPicker.DateComponentPickerBase.prototype */ {\n\t\t/**\n\t\t * Display values representing the `value` to select\n\t\t *\n\t\t * @type {String[]}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.arrayOf(PropTypes.string).isRequired,\n\n\t\t/**\n\t\t * The value of the date component\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.number.isRequired\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'dateComponentPicker'\n\t},\n\n\tcomputed: {\n\t\tchildren: ({children}) => mapAndFilterChildren(children, (child) => (\n\t\t\t<div>{child}</div>\n\t\t)),\n\t\tmax: ({children}) => React.Children.count(children) - 1\n\t},\n\n\trender: ({children, max, value, ...rest}) => (\n\t\t<Picker\n\t\t\t{...rest}\n\t\t\tindex={value}\n\t\t\tmax={max}\n\t\t\tmin={0}\n\t\t\torientation=\"vertical\"\n\t\t\tstep={1}\n\t\t\tvalue={value}\n\t\t>\n\t\t\t{children}\n\t\t</Picker>\n\t)\n});\n\n/**\n * {@link agate/internal/DateComponentPickerBase.DateComponentPicker} allows the selection of one part of\n * the date (date, month, or year). It is a stateful component but allows updates by providing a new\n * `value` via props.\n *\n * @class DateComponentPicker\n * @memberof agate/internal/DateComponentPicker\n * @mixes ui/Changeable.Changeable\n * @ui\n * @private\n */\nconst DateComponentPicker = Changeable(\n\tDateComponentPickerBase\n);\n\nexport default DateComponentPicker;\nexport {\n\tDateComponentPicker,\n\tDateComponentPickerBase\n};\n","import kind from '@enact/core/kind';\nimport Changeable from '@enact/ui/Changeable';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport RangePicker from '../../RangePicker';\n\nimport css from './DateComponentPicker.module.less';\n\n/**\n * {@link agate/internal/DataComponentPicker.DateComponentRangePicker} allows the selection of\n * one part of the date or time using a {@link agate/RangePicker.RangePicker}.\n *\n * @class DateComponentRangePickerBase\n * @memberof agate/internal/DateComponentPicker\n * @ui\n * @private\n */\nconst DateComponentRangePickerBase = kind({\n\tname: 'DateComponentRangePicker',\n\n\tpropTypes:  /** @lends agate/internal/DateComponentPicker.DateComponentRangePickerBase.prototype */ {\n\t\t/**\n\t\t * The maximum value for the date component\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t */\n\t\tmax: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The minimum value for the date component\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t */\n\t\tmin: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The value of the date component\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t */\n\t\tvalue: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The label to display below the picker\n\t\t *\n\t\t * @type {String}\n\t\t */\n\t\tlabel: PropTypes.string\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'dateComponentPicker'\n\t},\n\n\trender: ({max, min, value, ...rest}) => (\n\t\t<RangePicker\n\t\t\t{...rest}\n\t\t\tmax={max}\n\t\t\tmin={min}\n\t\t\torientation=\"vertical\"\n\t\t\tvalue={value}\n\t\t/>\n\t)\n});\n\n/**\n * {@link agate/internal/DateComponentPicker.DateComponentRangePicker} allows the selection of one\n * part of the date (date, month, or year). It is a stateful component but allows updates by\n * providing a new `value` via props.\n *\n * @class DateComponentRangePicker\n * @memberof agate/internal/DateComponentPicker\n * @mixes ui/Changeable.Changeable\n * @ui\n * @private\n */\nconst DateComponentRangePicker = Changeable(\n\tDateComponentRangePickerBase\n);\n\nexport default DateComponentRangePicker;\nexport {\n\tDateComponentRangePicker,\n\tDateComponentRangePickerBase\n};\n","import kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {DateComponentRangePicker} from '../internal/DateComponentPicker';\nimport DateTime from '../internal/DateTime';\n\nimport css from './DatePicker.module.less';\n\n/**\n * A date selection component.\n *\n * This component is most often not used directly but may be composed within another component as it\n * is within [DatePicker]{@link agate/DatePicker.DatePicker}.\n *\n * @class DatePickerBase\n * @memberof agate/DatePicker\n * @ui\n * @public\n */\nconst DatePickerBase = kind({\n\tname: 'DatePickerBase',\n\n\tpropTypes:  /** @lends agate/DatePicker.DatePickerBase.prototype */ {\n\t\t/**\n\t\t * The `day` component of the Date.\n\t\t *\n\t\t * The value should be a number between 1 and `maxDays`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tday: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The number of days in the month.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tmaxDays: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The number of months in the year.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tmaxMonths: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The `month` component of the Date.\n\t\t *\n\t\t * The value should be a number between 1 and `maxMonths`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tmonth: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The order in which the component pickers are displayed.\n\t\t *\n\t\t * The value should be an array of 3 strings containing one of `'m'`, `'d'`, and `'y'`.\n\t\t *\n\t\t * @type {String[]}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\torder: PropTypes.arrayOf(PropTypes.oneOf(['m', 'd', 'y'])).isRequired,\n\n\t\t/**\n\t\t * The `year` component of the Date.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tyear: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The \"aria-label\" for the day picker.\n\t\t *\n\t\t * If not specified, the \"aria-label\" for the day picker will be\n\t\t * a combination of the current value and 'day change a value with up down button'.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tdayAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * Disables the `DatePicker`.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * The maximum selectable `year` value.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 2099\n\t\t * @public\n\t\t */\n\t\tmaxYear: PropTypes.number,\n\n\t\t/**\n\t\t * The minimum selectable `year` value.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 1900\n\t\t * @public\n\t\t */\n\t\tminYear: PropTypes.number,\n\n\t\t/**\n\t\t * The \"aria-label\" for the month picker.\n\t\t *\n\t\t * If not specified, the \"aria-label\" for the month picker will be\n\t\t * a combination of the current value and 'month change a value with up down button'.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tmonthAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * Called when the `date` component of the Date changes.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChangeDate: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the `month` component of the Date changes.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChangeMonth: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the `year` component of the Date changes.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChangeYear: PropTypes.func,\n\n\t\t/**\n\t\t * Indicates the content's text direction is right-to-left.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @private\n\t\t */\n\t\trtl: PropTypes.bool,\n\n\t\t/**\n\t\t * The \"aria-label\" for the year picker.\n\t\t *\n\t\t * If not specified, the \"aria-label\" for the year picker will be\n\t\t * a combination of the current value and 'year change a value with up down button'.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tyearAriaLabel: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tmaxYear: 2099,\n\t\tminYear: 1900,\n\t\tdisabled: false\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'datePicker'\n\t},\n\n\trender: ({\n\t\tdisabled,\n\t\tday,\n\t\tdayAriaLabel,\n\t\tmaxDays,\n\t\tmaxMonths,\n\t\tmaxYear,\n\t\tminYear,\n\t\tmonth,\n\t\tmonthAriaLabel,\n\t\tonChangeDate,\n\t\tonChangeMonth,\n\t\tonChangeYear,\n\t\torder,\n\t\tyear,\n\t\tyearAriaLabel,\n\t\t...rest\n\t}) => {\n\n\t\tdelete rest.rtl;\n\n\t\treturn (\n\t\t\t<DateTime {...rest}>\n\t\t\t\t{order.map((picker) => {\n\t\t\t\t\tswitch (picker) {\n\t\t\t\t\t\tcase 'd':\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<DateComponentRangePicker\n\t\t\t\t\t\t\t\t\taria-label={dayAriaLabel}\n\t\t\t\t\t\t\t\t\tclassName={css.day}\n\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t\tkey=\"day-picker\"\n\t\t\t\t\t\t\t\t\tmax={maxDays}\n\t\t\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\t\t\tonChange={onChangeDate}\n\t\t\t\t\t\t\t\t\tvalue={day}\n\t\t\t\t\t\t\t\t\twidth={4}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\tcase 'm':\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<DateComponentRangePicker\n\t\t\t\t\t\t\t\t\taria-label={monthAriaLabel}\n\t\t\t\t\t\t\t\t\tclassName={css.month}\n\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t\tkey=\"month-picker\"\n\t\t\t\t\t\t\t\t\tmax={maxMonths}\n\t\t\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\t\t\tonChange={onChangeMonth}\n\t\t\t\t\t\t\t\t\tvalue={month}\n\t\t\t\t\t\t\t\t\twidth={4}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\tcase 'y':\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<DateComponentRangePicker\n\t\t\t\t\t\t\t\t\taria-label={yearAriaLabel}\n\t\t\t\t\t\t\t\t\tclassName={css.year}\n\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t\tkey=\"year-picker\"\n\t\t\t\t\t\t\t\t\tmax={maxYear}\n\t\t\t\t\t\t\t\t\tmin={minYear}\n\t\t\t\t\t\t\t\t\tonChange={onChangeYear}\n\t\t\t\t\t\t\t\t\tvalue={year}\n\t\t\t\t\t\t\t\t\twidth={4}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t})}\n\t\t\t</DateTime>\n\t\t);\n\t}\n});\n\nexport default DatePickerBase;\nexport {\n\tDatePickerBase\n};\n","/**\n * Date selection components and behaviors.\n *\n * @example\n * <DatePicker onChange={console.log} />\n *\n * @module agate/DatePicker\n * @exports DatePicker\n * @exports DatePickerBase\n * @exports dateToLocaleString\n */\n\nimport Pure from '@enact/ui/internal/Pure';\nimport DateFactory from 'ilib/lib/DateFactory';\nimport DateFmt from 'ilib/lib/DateFmt';\n\nimport {DateTimeDecorator} from '../internal/DateTime';\nimport Skinnable from '../Skinnable';\n\nimport DatePickerBase from './DatePickerBase';\n\nconst getLabelFormatter = () => new DateFmt({\n\tdate: 'dmwy',\n\tlength: 'full',\n\ttimezone: 'local',\n\tuseNative: false\n});\n\nconst dateTimeConfig = {\n\tcustomProps: function (i18n, value, props) {\n\t\tconst values = {\n\t\t\tmaxMonths: 12,\n\t\t\tmaxDays: 31,\n\t\t\tyear: 1900,\n\t\t\tmonth: 1,\n\t\t\tday: 1\n\t\t};\n\n\t\tif (value && i18n) {\n\t\t\tvalues.year = value.getYears();\n\t\t\tvalues.month = value.getMonths();\n\t\t\tvalues.day = value.getDays();\n\t\t\tvalues.maxMonths = i18n.formatter.cal.getNumMonths(values.year);\n\t\t\tvalues.maxDays = i18n.formatter.cal.getMonLength(values.month, values.year);\n\t\t\tvalues.maxYear = i18n.toLocalYear(props.maxYear || DatePickerBase.defaultProps.maxYear);\n\t\t\tvalues.minYear = i18n.toLocalYear(props.minYear || DatePickerBase.defaultProps.minYear);\n\t\t}\n\n\t\treturn values;\n\t},\n\tdefaultOrder: ['d', 'm', 'y'],\n\thandlers: {\n\t\tonChangeDate: (ev, value) => {\n\t\t\tvalue.day = ev.value;\n\t\t\treturn value;\n\t\t},\n\n\t\tonChangeMonth: (ev, value) => {\n\t\t\tvalue.month = ev.value;\n\t\t\treturn value;\n\t\t},\n\n\t\tonChangeYear: (ev, value) => {\n\t\t\tvalue.year = ev.value;\n\t\t\treturn value;\n\t\t}\n\t},\n\ti18n: function () {\n\t\tconst order = getLabelFormatter().getTemplate()\n\t\t\t.replace(/'.*?'/g, '')\n\t\t\t.match(/([mdy]+)/ig)\n\t\t\t.map(s => s[0].toLowerCase());\n\n\t\t/*\n\t\t * Converts a gregorian year to local year\n\t\t *\n\t\t * @param\t{Number}\tyear\tgregorian year\n\t\t *\n\t\t * @returns\t{Number}\t\tlocal year\n\t\t */\n\t\tconst toLocalYear = (year) => {\n\t\t\treturn DateFactory({\n\t\t\t\tjulianday: DateFactory({\n\t\t\t\t\tyear,\n\t\t\t\t\ttype: 'gregorian',\n\t\t\t\t\tmonth: 1,\n\t\t\t\t\tday: 1,\n\t\t\t\t\ttimezone: 'local'\n\t\t\t\t}).getJulianDay(),\n\t\t\t\ttimezone: 'local'\n\t\t\t}).getYears();\n\t\t};\n\n\t\treturn {formatter: getLabelFormatter(), order, toLocalYear};\n\t}\n};\n\n/**\n * A date selection component, ready to use in Agate applications.\n *\n * `DatePicker` may be used to select the year, month, and day. It uses a standard `Date` object for\n * its `value` which can be shared as the `value` for a\n * [TimePicker]{@link agate/TimePicker.TimePicker} to select both a date and time.\n *\n * By default, `DatePicker` maintains the state of its `value` property. Supply the\n * `defaultValue` property to control its initial value. If you wish to directly control updates\n * to the component, supply a value to `value` at creation time and update it in response to\n * `onChange` events.\n *\n * Usage:\n * ```\n * <DatePicker\n *  defaultValue={selectedDate}\n *  onChange={handleChange}\n * />\n * ```\n *\n * @class DatePicker\n * @memberof agate/DatePicker\n * @extends agate/DatePicker.DatePickerBase\n * @mixes ui/Changeable.Changeable\n * @omit day\n * @omit maxDays\n * @omit maxMonths\n * @omit month\n * @omit order\n * @omit year\n * @ui\n * @public\n */\nconst DatePicker = Pure(\n\tSkinnable(\n\t\tDateTimeDecorator(\n\t\t\tdateTimeConfig,\n\t\t\tDatePickerBase\n\t\t)\n\t)\n);\n\n/**\n * The initial value used when `value` is not set.\n *\n * @name defaultValue\n * @type {Date}\n * @memberof agate/DatePicker.DatePicker.prototype\n * @public\n */\n\n/**\n * The selected date\n *\n * @name value\n * @type {Date}\n * @memberof agate/DatePicker.DatePicker.prototype\n * @public\n */\n\n/**\n * Converts a standard `Date` object into a locale-specific string.\n *\n * @function\n * @memberof agate/DatePicker\n * @param {Date} date `Date` to convert\n * @returns {String?} Converted date or `null` if `date` is invalid\n */\nconst dateToLocaleString = (date) => {\n\tif (!date) {\n\t\treturn null;\n\t}\n\n\treturn getLabelFormatter().format(date);\n};\n\nexport default DatePicker;\nexport {\n\tDatePicker,\n\tDatePickerBase,\n\tdateToLocaleString\n};\n","import kind from '@enact/core/kind';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {DateComponentPicker, DateComponentRangePicker} from '../internal/DateComponentPicker';\nimport DateTime from '../internal/DateTime';\n\nimport css from './TimePicker.module.less';\n\n// values to use in hour picker for 24 and 12 hour locales\nconst hours24 = [\n\t'0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11',\n\t'12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23'\n];\n\nconst hours12 = [\n\t'12', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11',\n\t'12', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11'\n];\n\n/**\n * {@link agate/TimePicker/TimePickerBase.HourPicker} is a utility component to prevent the\n * animation of the picker when the display text doesn't change for 12-hour locales.\n *\n * @class HourPicker\n * @memberof agate/TimePicker/TimePickerBase\n * @ui\n * @private\n */\nclass HourPicker extends React.Component {\n\tstatic propTypes = {\n\t\thasMeridiem: PropTypes.bool,\n\t\tvalue: PropTypes.number\n\t};\n\n\tconstructor (props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tprevValue: props.value\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps (props, state) {\n\t\tif (state.prevValue !== props.value) {\n\t\t\treturn {\n\t\t\t\tprevValue: props.value\n\t\t\t};\n\t\t}\n\n\t\treturn null;\n\t}\n\n\trender () {\n\t\tconst {hasMeridiem, ...rest} = this.props;\n\t\tconst hours = hasMeridiem ? hours12 : hours24;\n\n\t\treturn (\n\t\t\t<DateComponentPicker {...rest}>\n\t\t\t\t{hours}\n\t\t\t</DateComponentPicker>\n\t\t);\n\t}\n}\n\n/**\n* {@link agate/TimePicker.TimePickerBase} is the stateless functional time picker\n* component. Should not be used directly but may be composed within another component as it is\n* within {@link agate/TimePicker.TimePicker}.\n*\n* @class TimePickerBase\n* @memberof agate/TimePicker\n* @ui\n* @public\n*/\nconst TimePickerBase = kind({\n\tname: 'TimePickerBase',\n\n\tpropTypes: /** @lends agate/TimePicker.TimePickerBase.prototype */ {\n\t\t/**\n\t\t * The `hour` component of the time.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\thour: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The `meridiem` component of the time.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tmeridiem: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The `minute` component of the time.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tminute: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The order in which the component pickers are displayed.\n\t\t *\n\t\t * Should be an array of 2 or 3 strings containing one of `'h'`, `'k'`, `'m'`, and `'a'`.\n\t\t *\n\t\t * @type {String[]}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\torder: PropTypes.arrayOf(PropTypes.oneOf(['h', 'k', 'm', 'a'])).isRequired,\n\n\t\t/**\n\t\t * Disables the `TimePicker`.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * The \"aria-label\" for the hour picker\n\t\t *\n\t\t * If not specified, the \"aria-label\" for the hour picker will be\n\t\t * a combination of the current value and 'hour change a value with up down button'.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\thourAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * The \"aria-label\" for the meridiem picker.\n\t\t *\n\t\t * If not specified, the \"aria-label\" for the meridiem picker will be\n\t\t * a combination of the current value and 'change a value with up down button'.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tmeridiemAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * Array of meridiem labels to display.\n\t\t *\n\t\t * @type {String[]}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tmeridiems: PropTypes.arrayOf(PropTypes.string),\n\n\t\t/**\n\t\t * The \"aria-label\" for the minute picker.\n\t\t *\n\t\t * If not specified, the \"aria-label\" for the minute picker will be\n\t\t * a combination of the current value and 'minute change a value with up down button'.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tminuteAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * Called on changes in the `hour` component of the time.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChangeHour: PropTypes.func,\n\n\t\t/**\n\t\t * Called on changes in the `meridiem` component of the time.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChangeMeridiem: PropTypes.func,\n\n\t\t/**\n\t\t * Called on changes in the `minute` component of the time.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChangeMinute: PropTypes.func,\n\n\t\t/**\n\t\t * Set content to RTL.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @private\n\t\t */\n\t\trtl: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tdisabled: false\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'timePicker'\n\t},\n\n\tcomputed: {\n\t\thasMeridiem: ({order}) => order.indexOf('a') >= 0,\n\t\tmeridiemPickerWidth: ({meridiem, meridiems}) => meridiems[meridiem].length * 2\n\t},\n\n\trender: ({\n\t\tdisabled,\n\t\thasMeridiem,\n\t\thour,\n\t\thourAriaLabel,\n\t\tmeridiem,\n\t\tmeridiemAriaLabel,\n\t\tmeridiemPickerWidth,\n\t\tmeridiems,\n\t\tminute,\n\t\tminuteAriaLabel,\n\t\tonChangeHour,\n\t\tonChangeMeridiem,\n\t\tonChangeMinute,\n\t\torder,\n\t\t...rest\n\t}) => {\n\n\t\tdelete rest.rtl;\n\n\t\treturn (\n\t\t\t<DateTime {...rest} css={css}>\n\t\t\t\t{order.map((picker) => {\n\t\t\t\t\tswitch (picker) {\n\t\t\t\t\t\tcase 'h':\n\t\t\t\t\t\tcase 'k':\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<React.Fragment key=\"hour-picker\">\n\t\t\t\t\t\t\t\t\t<HourPicker\n\t\t\t\t\t\t\t\t\t\taria-label={hourAriaLabel}\n\t\t\t\t\t\t\t\t\t\tclassName={css.hourPicker}\n\t\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t\t\thasMeridiem={hasMeridiem}\n\t\t\t\t\t\t\t\t\t\tonChange={onChangeHour}\n\t\t\t\t\t\t\t\t\t\tvalue={hour}\n\t\t\t\t\t\t\t\t\t\twidth={4}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\tcase 'm':\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<DateComponentRangePicker\n\t\t\t\t\t\t\t\t\taria-label={minuteAriaLabel}\n\t\t\t\t\t\t\t\t\tclassName={css.minutePicker}\n\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t\tkey=\"minute-picker\"\n\t\t\t\t\t\t\t\t\tmax={59}\n\t\t\t\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\t\t\t\tonChange={onChangeMinute}\n\t\t\t\t\t\t\t\t\tvalue={minute}\n\t\t\t\t\t\t\t\t\twidth={4}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\tcase 'a':\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<DateComponentPicker\n\t\t\t\t\t\t\t\t\taria-label={meridiemAriaLabel}\n\t\t\t\t\t\t\t\t\taria-valuetext={meridiems ? meridiems[meridiem] : null}\n\t\t\t\t\t\t\t\t\tclassName={css.meridiemPicker}\n\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t\tkey=\"meridiem-picker\"\n\t\t\t\t\t\t\t\t\tonChange={onChangeMeridiem}\n\t\t\t\t\t\t\t\t\tvalue={meridiem}\n\t\t\t\t\t\t\t\t\twidth={meridiemPickerWidth}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{meridiems}\n\t\t\t\t\t\t\t\t</DateComponentPicker>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn null;\n\t\t\t\t})}\n\t\t\t</DateTime>\n\t\t);\n\t}\n});\n\nexport default TimePickerBase;\nexport {TimePickerBase};\n","/**\n * Provides an Agate-themed time selection component.\n *\n * @example\n * <TimePicker value={new Date()} />\n *\n * @module agate/TimePicker\n * @exports TimePicker\n * @exports TimePickerBase\n * @exports timeToLocaleString\n */\n\nimport Pure from '@enact/ui/internal/Pure';\nimport DateFactory from 'ilib/lib/DateFactory';\nimport DateFmt from 'ilib/lib/DateFmt';\nimport LocaleInfo from 'ilib/lib/LocaleInfo';\n\nimport {DateTimeDecorator} from '../internal/DateTime';\nimport Skinnable from '../Skinnable';\n\nimport TimePickerBase from './TimePickerBase';\n\n/*\n * Converts a string representation of time into minutes\n *\n * @param\t{String}\ttime\tTime in the format `HH:mm`\n *\n * @returns\t{Number}\t\t\tTime in minute\n * @private\n */\nconst toMinutes = (time) => {\n\tconst colon = time.indexOf(':');\n\tconst hour = parseInt(time.substring(0, colon));\n\tconst minute = parseInt(time.substring(colon + 1));\n\treturn hour * 60 + minute;\n};\n\n/*\n * Converts the `start` and `end` string representations (e.g. '12:00') into a numerical\n * representation.\n *\n * @param\t{Object}\toptions\t\t\tTime options\n * @param\t{String}\toptions.start\tStart time of meridiem\n * @param\t{String}\toptions.end\t\tEnd time of meridiem\n *\n * @returns\t{Object}\t\t\t\t\tContains start and end time in minutes\n * @private\n */\nconst calcMeridiemRange = ({start, end}) => ({\n\tstart: toMinutes(start),\n\tend: toMinutes(end)\n});\n\n/*\n * Finds the index of the meridiem which contains `time`\n *\n * @param\t{Number}\ttime\t\tTime in minutes\n * @param\t{Object[]}\tmeridiems\tArray of meridiems with `start` and `end` members in minutes\n *\n * @returns {Number}\t\t\t\tIndex of `time` in `meridiems`\n * @private\n */\nconst indexOfMeridiem = (time, meridiems) => {\n\tconst minutes = time.getHours() * 60 + time.getMinutes();\n\tfor (let i = 0; i < meridiems.length; i++) {\n\t\tconst m = meridiems[i];\n\t\tif (minutes >= m.start && minutes <= m.end) {\n\t\t\treturn i;\n\t\t}\n\t}\n\n\treturn -1;\n};\n\nconst getLabelFormatter = () => new DateFmt({\n\ttype: 'time',\n\tuseNative: false,\n\ttimezone: 'local',\n\tlength: 'full',\n\tdate: 'dmwy'\n});\n\nconst dateTimeConfig = {\n\tcustomProps: function (i18n, value) {\n\t\tlet values = {\n\t\t\t// i18n props\n\t\t\tmeridiems: i18n.meridiemLabels,\n\n\t\t\t// date components\n\t\t\thour: 12,\n\t\t\tminute: 0,\n\t\t\tmeridiem: 0\n\t\t};\n\n\t\tif (value) {\n\t\t\tif (i18n.meridiemEnabled) {\n\t\t\t\tvalues.meridiem = indexOfMeridiem(value, i18n.meridiemRanges);\n\t\t\t}\n\t\t\tvalues.hour = value.getHours();\n\t\t\tvalues.minute = value.getMinutes();\n\t\t}\n\n\t\treturn values;\n\t},\n\tdefaultOrder: ['h', 'm', 'a'],\n\thandlers: {\n\t\tonChangeHour: function (ev, value) {\n\t\t\tconst currentTime = DateFactory(value).getTimeExtended();\n\t\t\tconst currentHour = value.hour;\n\n\t\t\tvalue.hour = ev.value;\n\n\t\t\t// In the case of navigating onto the skipped hour of DST, ilib will return the same\n\t\t\t// value so we skip that hour and update the value again.\n\t\t\tconst newTime = DateFactory(value).getTimeExtended();\n\t\t\tif (newTime === currentTime) {\n\t\t\t\tvalue.hour = ev.value * 2 - currentHour;\n\t\t\t}\n\n\t\t\treturn value;\n\t\t},\n\n\t\tonChangeMinute: function (ev, value) {\n\t\t\tvalue.minute = ev.value;\n\t\t\treturn value;\n\t\t},\n\n\t\tonChangeMeridiem: function (ev, value, i18n) {\n\t\t\tconst {meridiemRanges} = i18n;\n\t\t\tconst meridiem = meridiemRanges[ev.value];\n\n\t\t\tif (meridiemRanges.length === 2) {\n\t\t\t\t// In the common case of 2 meridiems, we'll offset hours by 12 so that picker stays\n\t\t\t\t// the same.\n\t\t\t\tvalue.hour = (value.getHours() + 12) % 24;\n\t\t\t} else {\n\t\t\t\t// In the rarer case of > 2 meridiems (e.g. am-ET), try to set hours only first\n\t\t\t\tconst hours = Math.floor(meridiem.start / 60);\n\t\t\t\tvalue.hour = hours;\n\n\t\t\t\t// but check if it is still out of bounds and update the minutes as well\n\t\t\t\tconst minutes = hours * 60 + value.getMinutes();\n\t\t\t\tif (minutes > meridiem.end) {\n\t\t\t\t\tvalue.minute = meridiem.end % 60;\n\t\t\t\t} else if (minutes < meridiem.start) {\n\t\t\t\t\tvalue.minute = meridiem.start % 60;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn value;\n\t\t}\n\t},\n\ti18n: function () {\n\t\t// Filters used to extract the order of pickers from the ilib template\n\t\tconst includeMeridiem = /([khma])(?!\\1)/ig;\n\t\tconst excludeMeridiem = /([khm])(?!\\1)/ig;\n\n\t\t// Meridiem localization\n\t\tconst merFormatter = new DateFmt({\n\t\t\ttemplate: 'a',\n\t\t\tuseNative: false,\n\t\t\ttimezone: 'local'\n\t\t});\n\t\tconst meridiems = merFormatter.getMeridiemsRange();\n\t\tconst meridiemRanges = meridiems.map(calcMeridiemRange);\n\t\tconst meridiemLabels = meridiems.map(obj => obj.name);\n\n\t\t// Picker ordering\n\t\tconst li = new LocaleInfo();\n\t\tconst clockPref = li.getClock();\n\t\tconst meridiemEnabled = clockPref === '12';\n\n\t\tconst filter = meridiemEnabled ? includeMeridiem : excludeMeridiem;\n\t\tconst order = getLabelFormatter().getTemplate()\n\t\t\t.replace(/'.*?'/g, '')\n\t\t\t.match(filter)\n\t\t\t.map(s => s[0].toLowerCase());\n\n\t\treturn {\n\t\t\tformatter: getLabelFormatter(),\n\t\t\tmeridiemEnabled,\n\t\t\tmeridiemLabels,\n\t\t\tmeridiemRanges,\n\t\t\torder\n\t\t};\n\t}\n};\n\n/**\n * A component that allows displaying or selecting time.\n *\n * Set the [value]{@link agate/TimePicker.TimePicker#value} property to a standard JavaScript\n * [Date] {@link /docs/developer-guide/glossary/#date} object to initialize the picker.\n *\n * By default, `TimePicker` maintains the state of its `value` property. Supply the\n * `defaultValue` property to control its initial value. If you wish to directly control updates\n * to the component, supply a value to `value` at creation time and update it in response to\n * `onChange` events.\n *\n * @class TimePicker\n * @memberof agate/TimePicker\n * @mixes ui/Changeable.Changeable\n * @ui\n * @public\n */\n\n/**\n * Default value\n *\n * @name defaultValue\n * @memberof agate/TimePicker.TimePicker.prototype\n * @type {Number}\n * @public\n */\n\nconst TimePicker = Pure(\n\tSkinnable(\n\t\tDateTimeDecorator(\n\t\t\tdateTimeConfig,\n\t\t\tTimePickerBase\n\t\t)\n\t)\n);\n\n/**\n * The selected date.\n *\n * @name value\n * @memberof agate/TimePicker.TimePicker\n * @instance\n * @type {Date}\n * @public\n */\n\n/**\n * Converts a standard `Date` object into a locale-specific string.\n *\n * @function\n * @memberof agate/TimePicker\n * @param {Date} time `Date` to convert\n * @returns {String?} Converted date or `null` if `date` is invalid\n */\nconst timeToLocaleString = (time) => {\n\tif (!time) {\n\t\treturn null;\n\t}\n\n\treturn getLabelFormatter().format(time);\n};\n\nexport default TimePicker;\nexport {\n\tTimePicker,\n\tTimePickerBase,\n\ttimeToLocaleString\n};\n","/**\n * An Agate-themed date/time picker component.\n *\n * @example\n * <DateTimePicker />\n *\n * @module agate/DateTimePicker\n * @exports DateTimePicker\n * @exports DateTimePickerBase\n */\n\nimport React from 'react';\nimport kind from '@enact/core/kind';\nimport {Cell, Row} from '@enact/ui/Layout';\n\nimport DatePicker from '../DatePicker';\nimport Skinnable from '../Skinnable';\nimport TimePicker from '../TimePicker';\n\nimport css from './DateTimePicker.module.less';\n\n/**\n * A date/time Picker component.\n *\n * @class DateTimePickerBase\n * @memberof agate/DateTimePicker\n * @ui\n * @public\n */\n\nconst DateTimePickerBase = kind({\n\tname: 'DateTimePickerBase',\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'dateTimePicker'\n\t},\n\n\trender ({...rest}) {\n\n\t\treturn (\n\t\t\t<Row {...rest} className={css.dateTimePicker} align=\"center center\">\n\t\t\t\t<Cell>\n\t\t\t\t\t<Row align=\"center center\">\n\t\t\t\t\t\t<TimePicker />\n\t\t\t\t\t</Row>\n\t\t\t\t</Cell>\n\t\t\t\t<Cell>\n\t\t\t\t\t<Row align=\"center center\">\n\t\t\t\t\t\t<DatePicker />\n\t\t\t\t\t</Row>\n\t\t\t\t</Cell>\n\t\t\t</Row>\n\t\t);\n\t}\n});\n\n/**\n * An Agate themed date/time Picker component.\n *\n * @class DateTimePicker\n * @memberof agate/DateTimePicker\n * @extends agate/DateTimePicker.DateTimePickerBase\n * @mixes agate/Skinnable.Skinnable\n * @ui\n * @public\n */\nconst DateTimePicker = Skinnable(DateTimePickerBase);\n\nexport default DateTimePicker;\nexport {\n\tDateTimePicker,\n\tDateTimePickerBase\n};\n","/**\n * Provides an Agate-themed toggle switch component.\n *\n * @example\n * <Switch />\n *\n * @module agate/Switch\n * @exports Switch\n * @exports SwitchBase\n */\n\nimport kind from '@enact/core/kind';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../Icon';\nimport {ToggleIconBase} from '../internal/ToggleIcon';\n\nimport componentCss from './Switch.module.less';\n\n/**\n * Renders the base level DOM structure of the component.\n *\n * @class SwitchBase\n * @memberof agate/Switch\n * @ui\n * @public\n */\nconst SwitchBase = kind({\n\tname: 'Switch',\n\n\tpropTypes: /** @lends agate/Switch.SwitchBase.prototype */ {\n\t\tchildren: PropTypes.string,\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Disables animation.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tnoAnimation: PropTypes.bool,\n\t\tskin: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tnoAnimation: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss\n\t},\n\n\tcomputed: {\n\t\tclassName: ({noAnimation, styler}) => styler.append({\n\t\t\tanimated: !noAnimation\n\t\t}),\n\t\tchildren: ({children, skin}) => {\n\t\t\tif (children) return children;\n\n\t\t\tswitch (skin) {\n\t\t\t\tcase 'carbon': return 'squarelarge';\n\t\t\t\tdefault: return 'circle';\n\t\t\t}\n\t\t}\n\t},\n\n\trender: ({css, ...rest}) => {\n\t\tdelete rest.noAnimation;\n\n\t\treturn (\n\t\t\t<ToggleIconBase\n\t\t\t\t{...rest}\n\t\t\t\tcss={css}\n\t\t\t\ticonComponent={Icon}\n\t\t\t/>\n\t\t);\n\t}\n});\n\nexport default SwitchBase;\nexport {\n\tSwitchBase as Switch,\n\tSwitchBase\n};\n","/**\n * Provides Agate-themed Item component and interactive toggle switch icon.\n *\n * @module agate/SwitchItem\n * @exports SwitchItem\n * @exports SwitchItemBase\n * @exports SwitchItemDecorator\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\n\nimport handle, {forProp, forward} from '@enact/core/handle';\nimport kind from '@enact/core/kind';\nimport Spottable from '@enact/spotlight/Spottable';\nimport Toggleable from '@enact/ui/Toggleable';\n\nimport Icon from '../Icon';\nimport Item from '../Item';\nimport Skinnable from '../Skinnable';\nimport {SwitchBase} from '../Switch';\n\nimport componentCss from './SwitchItem.module.less';\n\nconst Switch = Skinnable({prop: 'skin'}, SwitchBase);\n\n/**\n * Renders an `Item` with a radio-dot component. Useful to show a selected state on an Item.\n *\n * @class SwitchItemBase\n * @memberof agate/SwitchItem\n * @ui\n * @public\n */\nconst SwitchItemBase = kind({\n\tname: 'SwitchItemBase',\n\n\tpropTypes: /** @lends agate/SwitchItem.SwitchItemBase.prototype */ {\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `label` - Class name for the toggle icon label\n\t\t * * `switchIcon` - Class name for the toggle icon\n\t\t * * `switchItem` - The root class name\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Disables component and makes it non-interactive.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * The icon to display before the text.\n\t\t *\n\t\t * @type {String|Object}\n\t\t * @see {@link agate/Icon.Icon}\n\t\t * @public\n\t\t */\n\t\ticon: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\n\t\t/**\n\t\t * Customize the text displayed when the switch is \"off\".\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'off'\n\t\t * @public\n\t\t */\n\t\toffText: PropTypes.string,\n\n\t\t/**\n\t\t * Customize the text displayed when the switch is \"on\".\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'on'\n\t\t * @public\n\t\t */\n\t\tonText: PropTypes.string,\n\n\t\t/**\n\t\t * Sets the switch to the 'on' state.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tdisabled: false,\n\t\toffText: 'off',\n\t\tonText: 'on',\n\t\tselected: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'switchItem',\n\t\tpublicClassNames: true\n\t},\n\n\thandlers: {\n\t\tonClick: handle(\n\t\t\tforProp('disabled', false),\n\t\t\tforward('onClick')\n\t\t)\n\t},\n\n\tcomputed: {\n\t\ticon: ({css, icon}) => (icon ?\n\t\t\t<Icon size=\"small\" slot=\"slotBefore\" className={css.icon}>\n\t\t\t\t{icon}\n\t\t\t</Icon> :\n\t\t\tnull\n\t\t)\n\t},\n\n\trender: ({children, css, icon, offText, onText, selected, ...rest}) => {\n\n\t\treturn (\n\t\t\t<Item aria-checked={selected} role=\"checkbox\" {...rest} css={css} label={selected ? onText : offText} labelPosition=\"after\">\n\t\t\t\t{icon}\n\t\t\t\t{children}\n\t\t\t\t<Switch slot=\"slotAfter\" selected={selected} className={css.switchIcon} />\n\t\t\t</Item>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [SwitchItem]{@link agate/SwitchItem.SwitchItemBase} components.\n *\n * @hoc\n * @memberof agate/SwitchItem\n * @mixes ui/Toggleable.Toggleable\n * @mixes spotlight/Spottable.Spottable\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst SwitchItemDecorator = compose(\n\tToggleable({toggleProp: 'onClick'}),\n\t// Touchable,\n\tSpottable,\n\tSkinnable\n);\n\n/**\n * Renders an `Item` with a radio-dot component. Useful to show a selected state on an Item.\n *\n * @class SwitchItem\n * @memberof agate/SwitchItem\n * @extends agate/SwitchItem.SwitchItem\n * @mixes agate/SwitchItem.SwitchItemDecorator\n * @ui\n * @public\n */\nconst SwitchItem = SwitchItemDecorator(SwitchItemBase);\n\nexport default SwitchItem;\nexport {\n\tSwitchItem,\n\tSwitchItemBase,\n\tSwitchItemDecorator\n};\n","/**\n * Provides the {@link core/hoc.hoc} method to create higher-order components (HOCs).\n *\n * @module core/hoc\n * @exports hoc\n */\n\nimport {isRenderable} from '../util';\nimport mergeDeepWithKey from 'ramda/src/mergeDeepWithKey';\n\nconst mergeFn = (key, defaultValue, userValue) => {\n\t// eslint-disable-next-line no-undefined\n\tif (userValue === undefined) {\n\t\treturn defaultValue;\n\t}\n\n\treturn userValue;\n};\n\n/**\n * Constructs a higher-order component (HOC) using an optional set of default configuration parameters and\n * a factory method that accepts instance configuration parameters and a component to wrap. The\n * returned function can accept:\n *\t* an instance config and a component constructor to wrap and return a renderable component, or\n *\t* an instance config only and return a decorator function expecting a component constructor\n *\t(like the next bullet), or\n *\t* a component constructor and return a renderable component\n *\n * Example:\n * ```\n *\tconst Countable = hoc({prop: 'data-count'}, (config, Wrapped) => {\n *\t\treturn class extends React.Component {\n *\t\t\tconstructor (props) {\n *\t\t\t\tsuper(props);\n *\t\t\t\tthis.state = {\n *\t\t\t\t\tcount: 0\n *\t\t\t\t};\n *\t\t\t},\n *\t\t\tinc = () => this.setState({count: this.state.count + 1}),\n *\t\t\trender () {\n *\t\t\t\tconst props = Object.assign({}, this.props, {\n *\t\t\t\t\t[config.prop]: this.state.count,\n *\t\t\t\t\tonClick: this.inc\n *\t\t\t\t});\n *\t\t\t\treturn <Wrapped {...props} />\n *\t\t\t}\n *\t\t}\n *\t});\n *\n *\tconst CountableAsDataNumber({prop: 'data-number'});\n *\tconst CountableDiv('div');\n *\tconst CountableDivAsDataNumber = CountableAsDataNumber('div');\n * ```\n *\n * @function\n * @param  {Object} defaultConfig Set of default configuration parameters\n * @param  {Function} hawk        Higher-order component\n *\n * @returns {Function}             HOC Decorator\n * @memberof core/hoc\n * @public\n */\nconst hoc = (defaultConfig, hawk) => {\n\n\t// normalize arguments to allow defaultConfig to be omitted\n\tlet factory = hawk;\n\tlet defaults = defaultConfig;\n\tif (!factory && typeof defaultConfig === 'function') {\n\t\tfactory = defaultConfig;\n\t\tdefaults = null;\n\t}\n\n\treturn (config, maybeWrapped) => {\n\t\tif (isRenderable(config)) {\n\t\t\treturn factory(defaults, config);\n\t\t} else {\n\t\t\tconst cfg = mergeDeepWithKey(mergeFn, defaults, config);\n\t\t\tif (isRenderable(maybeWrapped)) {\n\t\t\t\treturn factory(cfg, maybeWrapped);\n\t\t\t} else {\n\t\t\t\treturn (Wrapped) => factory(cfg, Wrapped);\n\t\t\t}\n\t\t}\n\t};\n};\n\nexport default hoc;\nexport {hoc};\n","\n/**\n * Exports the {@link ui/internal/Pure.Pure} higher-order component (HOC).\n *\n * @module ui/internal/Pure\n * @private\n */\n\nimport hoc from '@enact/core/hoc';\nimport React from 'react';\n\n/**\n * Default config for {@link ui/internal/Pure.Pure}.\n *\n * @memberof ui/internal/Pure.Pure\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Configures the comparators used to test for prop changes\n\t *\n\t * @type {Object}\n\t * @memberof ui/internal/Pure.Pure.defaultConfig\n\t */\n\tpropComparators: {\n\t\t'*': (a, b) => a === b\n\t}\n};\n\n/**\n * Implements `shouldComponentUpdate` based on property change determination. By default, props are\n * shallowly compared for strict equality\n *\n * Custom comparators can be provided via the `propComparators` config property which accepts an\n * object mapping property names to comparator functions. To override the default comparator, use\n * the key, `'*'`.\n *\n * ```\n * const PureComponent = Pure(\n *     // Overrides the comparator for `count`. All other props will use the default comparators\n *     propComparators: {\n *         // For example, count is compared using loose equality allowing '5' to equal 5\n *         count: (a, b) => a == b\n *     },\n *     Component\n * )\n * ```\n *\n * @class Pure\n * @memberof ui/internal/Pure\n * @hoc\n * @private\n */\nconst Pure = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {propComparators} = config;\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'Pure';\n\n\t\tstatic propTypes = {};\n\n\t\tstatic defaultProps = {};\n\n\t\tshouldComponentUpdate (nextProps) {\n\t\t\treturn this.hasChanged(this.props, nextProps, propComparators);\n\t\t}\n\n\t\thasChanged (current, next, comparators) {\n\t\t\tconst propKeys = Object.keys(current);\n\t\t\tconst nextKeys = Object.keys(next);\n\n\t\t\t// early bail out if the objects have a different number of keys\n\t\t\tif (propKeys.length !== nextKeys.length) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst hasOwn = Object.prototype.hasOwnProperty.bind(current);\n\t\t\tfor (let i = 0; i < nextKeys.length; i++) {\n\t\t\t\tconst prop = nextKeys[i];\n\t\t\t\tconst comp = comparators[prop] || comparators['*'];\n\t\t\t\tif (!hasOwn(prop) || !comp(current[prop], next[prop])) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\trender () {\n\t\t\treturn (\n\t\t\t\t<Wrapped {...this.props} />\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default Pure;\nexport {\n\tPure\n};\n","import invariant from 'invariant';\n\n/**\n * Provides a convenient way to manage timed execution of functions.\n *\n * @class Job\n * @memberof core/util\n * @public\n */\nclass Job {\n\tid = null;\n\tfn = null;\n\ttimeout = null;\n\ttype = null;\n\n\t/**\n\t * @constructor\n\t * @param {Function}    fn       Function to execute as the requested job.\n\t * @param {Number}      timeout  The number of milliseconds to wait before starting the job.\n\t *\n\t * @memberof core/util.Job.prototype\n\t */\n\tconstructor (fn, timeout) {\n\t\tthis.fn = fn;\n\t\tthis.timeout = timeout;\n\t}\n\n\trun (args) {\n\t\t// don't want to inadvertently apply Job's context on `fn`\n\t\treturn this.fn.apply(null, args);\n\t}\n\n\t/**\n\t * Starts the job.\n\t *\n\t * @method\n\t * @param   {...*}       [args]  Any args passed are forwarded to the callback\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tstart = (...args) => {\n\t\tthis.startAfter(this.timeout, ...args);\n\t};\n\n\t/**\n\t * Starts the job in `timeout` milliseconds\n\t *\n\t * @method\n\t * @param   {Number}     timeout  The number of milliseconds to wait before starting the job.\n\t *                                This supersedes the timeout set at construction.\n\t * @param   {...*}       [args]   Any args passed are forwarded to the callback\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tstartAfter = (timeout, ...args) => {\n\t\tthis.stop();\n\t\tthis.type = 'timeout';\n\t\tthis.id = setTimeout(() => this.run(args), timeout);\n\t};\n\n\t/**\n\t * Stops the job.\n\t *\n\t * @method\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tstop = () => {\n\t\tif (this.id) {\n\t\t\tif (this.type === 'idle') {\n\t\t\t\twindow.cancelIdleCallback(this.id);\n\t\t\t} else if (this.type === 'raf') {\n\t\t\t\twindow.cancelAnimationFrame(this.id);\n\t\t\t} else if (this.type === 'timeout') {\n\t\t\t\tclearTimeout(this.id);\n\t\t\t}\n\t\t\tthis.id = this.type = null;\n\t\t}\n\t};\n\n\t/**\n\t * Executes the job immediately, then prevents any other calls to `throttle()` from running\n\t * until the `timeout` configured at construction passes.\n\t *\n\t * @method\n\t * @param   {...*}       args  Any args passed are forwarded to the callback\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tthrottle = (...args) => {\n\t\tthis.throttleUntil(this.timeout, ...args);\n\t};\n\n\t/**\n\t * Executes the job immediately, then prevents any other calls to `throttle()` from running for\n\t * `timeout` milliseconds.\n\t *\n\t * @method\n\t * @param   {Number}     timeout  The number of milliseconds to wait before allowing the job to\n\t *                                be ran again. This supersedes the timeout set at construction.\n\t * @param   {...*}       [args]   Any args passed are forwarded to the callback\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tthrottleUntil = (timeout, ...args) => {\n\t\tif (!this.id) {\n\t\t\tthis.type = 'timeout';\n\t\t\tthis.run(args);\n\t\t\tthis.id = setTimeout(this.stop, timeout);\n\t\t}\n\t};\n\n\t/**\n\t * Executes job when the CPU is idle.\n\t *\n\t * @method\n\t * @param   {...*}       [args]   Any args passed are forwarded to the callback\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tidle = (...args) => {\n\t\tthis.idleUntil(null, ...args);\n\t};\n\n\t/**\n\t * Executes job when the CPU is idle, or when the timeout is reached, whichever occurs first.\n\t *\n\t * @method\n\t * @param   {Number}     timeout  The number of milliseconds to wait before executing the\n\t *                                job. This guarantees that the job is run, if a positive value\n\t *                                is specified.\n\t * @param   {...*}       [args]   Any args passed are forwarded to the callback\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tidleUntil = (timeout, ...args) => {\n\t\tif (typeof window !== 'undefined' && window.requestIdleCallback) {\n\t\t\tthis.stop();\n\t\t\tthis.type = 'idle';\n\t\t\tthis.id = window.requestIdleCallback(() => this.run(args), {timeout});\n\t\t} else {\n\t\t\t// since we can't request an idle callback, just pass to startAfter()\n\t\t\tthis.startAfter(timeout, ...args);\n\t\t}\n\t};\n\n\t/**\n\t * Executes job before the next repaint.\n\t *\n\t * @method\n\t * @param   {...*}       [args]   Any args passed are forwarded to the callback\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tstartRaf = (...args) => {\n\t\tthis.startRafAfter(this.timeout, ...args);\n\t};\n\n\t/**\n\t * Executes job before the next repaint after a given amount of timeout.\n\t *\n\t * @method\n\t * @param   {Number}     timeout  The number of milliseconds to wait before running `requestAnimationFrame`.\n\t * @param   {...*}       [args]   Any args passed are forwarded to the callback\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tstartRafAfter = (timeout, ...args) => {\n\t\tthis.type = 'raf';\n\t\tif (typeof window !== 'undefined') {\n\t\t\tlet time = null;\n\t\t\tconst callback = (timestamp) => {\n\t\t\t\tif (time === null) {\n\t\t\t\t\ttime = timestamp;\n\t\t\t\t}\n\t\t\t\tif (timeout && timestamp - time < timeout) {\n\t\t\t\t\tthis.id = window.requestAnimationFrame(callback);\n\t\t\t\t} else {\n\t\t\t\t\ttime = null;\n\t\t\t\t\tthis.run(args);\n\t\t\t\t\twindow.cancelAnimationFrame(this.id);\n\t\t\t\t\tthis.id = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.id = window.requestAnimationFrame(callback);\n\t\t} else {\n\t\t\t// If requestAnimationFrame is not supported just run the function immediately\n\t\t\tthis.run(args);\n\t\t}\n\t};\n\n\t/**\n\t * Starts the job when `promise` resolves.\n\t *\n\t * The job execution is tied to the resolution of the last `Promise` passed. Like other methods\n\t * on `Job`, calling `promise()` again with a new `Promise` will block execution of the job\n\t * until that new `Promise` resolves. Any previous `Promise`s will still resolve normally but\n\t * will not trigger job execution.\n\t *\n\t * Unlike other methods on `Job`, `promise()` returns a `Promise` which is the result of calling\n\t * `then()` on the passed `promise`. That `Promise` resolves with either the result of job\n\t * execution or `undefined` if `Promise` was superseded by a subsequent `Promise` passed as\n\t * described above.\n\t *\n\t * @method\n\t * @param   {Promise}  promise  The promise that must resolve before the job is executed\n\t *\n\t * @returns {Promise}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tpromise = (promise) => {\n\t\tinvariant(\n\t\t\tpromise && typeof promise.then === 'function',\n\t\t\t'promise expects a thenable'\n\t\t);\n\n\t\tthis.type = 'promise';\n\t\tthis.id = promise;\n\n\t\treturn promise.then(result => {\n\t\t\tif (this.id === promise) {\n\t\t\t\tthis.stop();\n\t\t\t\treturn this.run([result]);\n\t\t\t}\n\t\t});\n\t};\n}\n\nexport default Job;\nexport {Job};\n","/**\n * A collection of utility methods.\n *\n * @module core/util\n * @exports cap\n * @exports clamp\n * @exports coerceArray\n * @exports coerceFunction\n * @exports extractAriaProps\n * @exports isRenderable\n * @exports Job\n * @exports memoize\n * @exports mergeClassNameMaps\n * @exports perfNow\n * @exports mapAndFilterChildren\n */\nimport always from 'ramda/src/always';\nimport isType from 'ramda/src/is';\nimport unless from 'ramda/src/unless';\nimport React from 'react';\nimport * as ReactIs from 'react-is';\n\nimport Job from './Job';\n\n/**\n * Capitalizes a given string (not locale-aware).\n *\n * @function\n * @param   {String}    str   The string to capitalize.\n *\n * @returns {String}          The capitalized string.\n * @memberof core/util\n * @public\n */\nconst cap = function (str) {\n\treturn str.slice(0, 1).toUpperCase() + str.slice(1);\n};\n\n/**\n * Limits `value` to be between `min` and `max`.\n *\n * If `min` is greater than `max`, `min` is returned.\n *\n * @function\n * @param   {Number}    min   The minimum value of the range\n * @param   {Number}    max   The maximum value of the range\n * @param   {Number}    value The value that must be within the range\n *\n * @returns {Number}          The clamped value\n * @memberof core/util\n * @public\n */\nconst clamp = (min, max, value) => {\n\tif (min > max || value < min) return min;\n\tif (value > max) return max;\n\treturn value;\n};\n\n/**\n * If `arg` is a function, return it. Otherwise returns a function that returns `arg`.\n *\n * Example:\n * ```\n *\tconst returnsZero = coerceFunction(0);\n *\tconst returnsArg = coerceFunction(() => 0);\n * ```\n * @function\n * @param {*}    arg    Function or value\n *\n * @returns {Function}  Either `arg` if `arg` is a function, or a function that returns `arg`\n * @memberof core/util\n * @public\n */\nconst coerceFunction = unless(isType(Function), always);\n\n/**\n * If `arg` is array-like, return it. Otherwise returns a single element array containing `arg`.\n *\n * Example:\n * ```\n *\tconst returnsArray = coerceArray(0); // [0]\n *\tconst returnsArg = coerceArray([0]); // [0]\n *\tconst returnsObjArg = coerceArray({0: 'zeroth', length: 1});\n * ```\n * @see http://ramdajs.com/docs/#isArrayLike\n * @function\n * @param {*}    array    Array or value\n *\n * @returns {Array}       Either `array` or `[array]`\n * @memberof core/util\n * @public\n */\nconst coerceArray = function (array) {\n\treturn Array.isArray(array) ? array : [array];\n};\n\n/**\n * Loosely determines if `tag` is a renderable component (either a string or a function).\n *\n * @function\n * @param {*}    tag    Component to test\n *\n * @returns {Boolean}   `true` if `tag` is either a string or a function\n * @memberof core/util\n * @public\n */\nconst isRenderable = function (tag) {\n\treturn ReactIs.isValidElementType(tag);\n};\n\n/**\n * Removes ARIA-related props from `props` and returns them in a new object.\n *\n * Specifically, it removes the `role` prop and any prop prefixed with `aria-`. This is useful when\n * redirecting ARIA-related props from a non-focusable root element to a focusable child element.\n *\n * @function\n * @param   {Object}    props    Props object\n *\n * @returns {Object}             ARIA-related props\n * @memberof core/util\n * @public\n */\nconst extractAriaProps = function (props) {\n\tconst aria = {};\n\tObject.keys(props).forEach(key => {\n\t\tif (key === 'role' || key.indexOf('aria-') === 0) {\n\t\t\taria[key] = props[key];\n\t\t\tdelete props[key];\n\t\t}\n\t});\n\n\treturn aria;\n};\n\n/**\n * Gets the current timestamp of either `window.performance.now` or `Date.now`\n *\n * @function\n *\n * @returns {Number}                    The timestamp from `window.performance.now` or `Date.now`\n * @memberof core/util\n * @public\n */\nconst perfNow = function () {\n\tif (typeof window === 'object') {\n\t\treturn window.performance.now();\n\t} else {\n\t\treturn Date.now();\n\t}\n};\n\n/**\n * Merges two class name maps into one.\n *\n * The resulting map will only contain the class names defined in the `baseMap` and will be appended\n * with the value from `additiveMap` if it exists. Further, `allowedClassNames` may optionally limit\n * which keys will be merged from `additiveMap` into `baseMap`.\n *\n * Example:\n * ```\n * // merges all matching class names from additiveMap1 with baseMap1\n * const newMap1 = mergeClassNameMaps(baseMap1, additiveMap1);\n *\n * // merge only 'a' and 'b' class names from additiveMap2 with baseMap2\n * const newMap2 = mergeClassNameMaps(baseMap2, additiveMap2, ['a', 'b']);\n * ```\n *\n * @function\n * @param {Object}     baseMap             The source mapping of logical class name to physical\n *                                         class name\n * @param {Object}     additiveMap         Mapping of logical to physical class names which are\n *                                         concatenated with `baseMap` where the logical names match\n * @param {String[]}  [allowedClassNames]  Array of logical class names that can be augmented. When\n *                                         set, the logical class name must exist in `baseMap`,\n *                                         `additiveMap`, and this array to be concatenated.\n *\n * @returns {Object}                       The merged class name map.\n * @memberof core/util\n * @public\n */\nconst mergeClassNameMaps = (baseMap, additiveMap, allowedClassNames) => {\n\tlet css = baseMap;\n\tif (baseMap && additiveMap) {\n\t\tallowedClassNames = allowedClassNames || Object.keys(additiveMap);\n\t\t// if the props includes a css map, merge them together now\n\t\tcss = Object.assign({}, baseMap);\n\t\tallowedClassNames.forEach(key => {\n\t\t\tif (baseMap[key] && additiveMap[key]) {\n\t\t\t\tcss[key] = baseMap[key] + ' ' + additiveMap[key];\n\t\t\t}\n\t\t});\n\n\t\tif (process.env.NODE_ENV === 'test') {\n\t\t\treturn new Proxy({}, {\n\t\t\t\tget (target, key) {\n\t\t\t\t\t// use the merged value if it exists and the key otherwise\n\t\t\t\t\treturn css[key] || key;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\treturn css;\n};\n\n/**\n * Creates a function that memoizes the result of `fn`.\n *\n * Note that this function is a naive implementation and only checks the first argument for\n * memoization.\n *\n * @function\n * @param {Function}    fn    The function to have its output memoized.\n *\n * @returns {Function}        The new memoized function.\n * @memberof core/util\n * @public\n */\nconst memoize = (fn) => {\n\tlet cache = {};\n\treturn (...args) => {\n\t\tlet n = args[0];\n\t\tif (n in cache) {\n\t\t\treturn cache[n];\n\t\t} else {\n\t\t\tlet result = fn(...args);\n\t\t\tcache[n] = result;\n\t\t\treturn result;\n\t\t}\n\t};\n};\n\n/**\n * Maps over the `children`, discarding any `null` children before and after calling the callback.\n *\n * A replacement for `React.Children.map`.\n *\n * @function\n * @param {*}        children  Children to map over\n * @param {Function} callback  Function to apply to each child. Will not be called if the child is\n *                              `null`. If `callback` returns `null`, the child will be removed from\n *                              the result. If `null` is returned, the item will not be included in\n *                              the final output, regardless of the filter function.\n * @param {Function} [filter]  Filter function applied after mapping.\n *\n * @returns {*}                The processed children or the value of `children` if not an array.\n * @memberof core/util\n * @see https://reactjs.org/docs/react-api.html#reactchildrenmap\n * @public\n */\nconst mapAndFilterChildren = (children, callback, filter) => {\n\tconst result = React.Children.map(children, (child, ...rest) => {\n\t\tif (child != null) {\n\t\t\treturn callback(child, ...rest);\n\t\t} else {\n\t\t\treturn child;\n\t\t}\n\t});\n\tif (result && filter) {\n\t\treturn result.filter(filter);\n\t} else {\n\t\treturn result;\n\t}\n};\n\nexport {\n\tcap,\n\tclamp,\n\tcoerceArray,\n\tcoerceFunction,\n\textractAriaProps,\n\tisRenderable,\n\tJob,\n\tmemoize,\n\tmergeClassNameMaps,\n\tperfNow,\n\tmapAndFilterChildren\n};\n","import curry from 'ramda/src/curry';\nimport warning from 'warning';\n\nimport {getContainerNode} from './container';\n\nlet elementMatchesSelector = function (selector) {\n\tconst matchedNodes = (this.parentNode || this.document).querySelectorAll(selector);\n\treturn [].slice.call(matchedNodes).indexOf(this) >= 0;\n};\nif (typeof window === 'object') {\n\telementMatchesSelector = window.Element.prototype.matches ||\n\t\twindow.Element.prototype.matchesSelector ||\n\t\twindow.Element.prototype.mozMatchesSelector ||\n\t\twindow.Element.prototype.webkitMatchesSelector ||\n\t\twindow.Element.prototype.msMatchesSelector ||\n\t\twindow.Element.prototype.oMatchesSelector ||\n\t\telementMatchesSelector;\n}\n\nconst matchSelector = curry((selector, elem) => {\n\tif (typeof selector === 'string') {\n\t\treturn elementMatchesSelector.call(elem, selector);\n\t} else if (typeof selector === 'object' && selector.length) {\n\t\treturn selector.indexOf(elem) >= 0;\n\t} else if (typeof selector === 'object' && selector.nodeType === 1) {\n\t\treturn elem === selector;\n\t}\n\treturn false;\n});\n\nfunction parseSelector (selector) {\n\tlet result = [];\n\ttry {\n\t\tif (typeof selector === 'string') {\n\t\t\tresult = [].slice.call(document.querySelectorAll(selector));\n\t\t} else if (typeof selector === 'object' && selector.length) {\n\t\t\tresult = [].slice.call(selector);\n\t\t} else if (typeof selector === 'object' && selector.nodeType === 1) {\n\t\t\tresult = [selector];\n\t\t}\n\t} catch (ex) {\n\t\twarning(true, `parseSelector failed for selector: ${selector}`);\n\t}\n\n\treturn result;\n}\n\nconst testIntersection = (type, containerRect, elementRect) => {\n\tconst {\n\t\tleft: L,\n\t\tright: R,\n\t\ttop: T,\n\t\tbottom: B\n\t} = containerRect;\n\n\tconst {\n\t\tleft: l,\n\t\tright: r,\n\t\ttop: t,\n\t\tbottom: b\n\t} = elementRect;\n\n\tconst right = r >= L && r <= R;\n\tconst left = l >= L && l <= R;\n\tconst top = t >= T && t <= B;\n\tconst bottom = b >= T && b <= B;\n\n\tif (type === 'intersects') {\n\t\tconst aroundV = t < T && b > B;\n\t\tconst aroundH = l < L && r > R;\n\n\t\treturn (top || bottom || aroundV) && (left || right || aroundH);\n\t} else if (type === 'contains') {\n\t\treturn top && bottom && left && right;\n\t}\n\n\treturn true;\n};\n\nconst intersects = curry((containerRect, elementRect) => {\n\treturn testIntersection('intersects', containerRect, elementRect);\n});\n\nconst contains = curry((containerRect, elementRect) => {\n\treturn testIntersection('contains', containerRect, elementRect);\n});\n\nfunction getRect (elem) {\n\tconst cr = elem.getBoundingClientRect();\n\tconst rect = {\n\t\tleft: cr.left,\n\t\ttop: cr.top,\n\t\twidth: cr.width,\n\t\theight: cr.height\n\t};\n\trect.element = elem;\n\trect.right = rect.left + rect.width;\n\trect.bottom = rect.top + rect.height;\n\trect.center = {\n\t\tx: rect.left + Math.floor(rect.width / 2),\n\t\ty: rect.top + Math.floor(rect.height / 2)\n\t};\n\trect.center.left = rect.center.right = rect.center.x;\n\trect.center.top = rect.center.bottom = rect.center.y;\n\treturn rect;\n}\n\nfunction getPointRect (position) {\n\tconst {x, y} = position;\n\treturn {\n\t\tleft: x,\n\t\ttop: y,\n\t\twidth: 0,\n\t\theight: 0,\n\t\tright: x,\n\t\tbottom: y,\n\t\tcenter: {\n\t\t\tx,\n\t\t\ty,\n\t\t\tleft: x,\n\t\t\tright: x,\n\t\t\ttop: y,\n\t\t\tbottom: y\n\t\t}\n\t};\n}\n\nfunction getRects (candidates) {\n\tif (candidates && candidates.length > 0) {\n\t\treturn candidates.map(getRect);\n\t}\n\n\treturn [];\n}\n\n\nfunction getViewportRect () {\n\tconst {innerWidth: width, innerHeight: height} = window;\n\tconst x = width / 2;\n\tconst y = height / 2;\n\n\treturn {\n\t\tleft: 0,\n\t\ttop: 0,\n\t\twidth,\n\t\theight,\n\t\tright: width,\n\t\tbottom: height,\n\t\tcenter: {\n\t\t\tx,\n\t\t\ty,\n\t\t\tleft: x,\n\t\t\tright: x,\n\t\t\ttop: y,\n\t\t\tbottom: y\n\t\t}\n\t};\n}\n\nfunction getContainerRect (containerId) {\n\tconst containerNode = getContainerNode(containerId);\n\n\tif (!containerNode) {\n\t\treturn null;\n\t}\n\n\tif (containerNode === document) {\n\t\treturn getViewportRect();\n\t}\n\n\treturn getRect(containerNode);\n}\n\nexport {\n\tcontains,\n\tgetContainerRect,\n\tgetPointRect,\n\tgetRect,\n\tgetRects,\n\tintersects,\n\tmatchSelector,\n\tparseSelector\n};\n","/**\n * `core/handle` provides a set of utilities to support handling events for `kind()`s and\n * `React.Component`s. The default export, `handle()`, generates an event handler function from a\n * set of input functions. The input functions either process or filter the event. If an input\n * function returns `true`, `handle()` will continue processing the event by calling the next input\n * function in the chain. If it returns `false` (or any falsy value like `null` or `undefined`),\n * the event handling chain stops at that input function.\n *\n * Example:\n * ```\n * import {forKey, forward, handle, preventDefault} from '@enact/core/handle';\n *\n * // logEnter will contain a function that accepts an event, a props object, and a context object\n * const logEnter = handle(\n *   forward('onKeyDown'),  // forwards the event to the function passed in the onKeyDown prop\n *   forKey('enter'),       // if the event.keyCode maps to the enter key, allows event processing to continue\n *   preventDefault,        // calls event.preventDefault() to prevent the `keypress` event\n *   (ev, props) => {       // custom event handler -- in this case, logging some text\n *     // since it doesn't return `true`, no further input functions would be called after this one\n *     console.log('The Enter key was pressed down');\n *   }\n * ).finally(() => {\n * \t console.log('This will log at the end no matter what happens within the handler above')\n * });\n * ```\n *\n * `handle()` can also be bound to a component instance which allows it to access the instance\n * `props` and `context`. This allows you to write consistent event handlers for components created\n * either with `kind()` or ES6 classes without worrying about from where the props are sourced.\n *\n * Handlers can either be bound directly using the native `bind()` method or using the `bindAs()`\n * utility method that is appended to the handler.\n *\n * Example:\n * ```\n * import {forKey, forward, handle, preventDefault} from '@enact/core/handle';\n * import React from 'react';\n *\n * class MyComponent extends React.Component {\n *   // bind handle() to the instance\n *   constructor () {\n *     super();\n *\n *     // logEnter will be bound to `this` and set as this.handleKeyDown\n *     //\n *     // Equivalent to the following with the advantage of set the function name to be displayed in\n *     // development tool call stacks\n *     //\n *     //   this.handleKeyDown = logEnter.bind(this)\n *     logEnter.bindAs(this, 'handleKeyDown');\n *   }\n *\n *   render () {\n *     return (\n *       <div onKeyDown={this.handleKeyDown} />\n *     );\n *   }\n * }\n * ```\n *\n * @module core/handle\n * @exports adaptEvent\n * @exports call\n * @exports callOnEvent\n * @exports forward\n * @exports forwardWithPrevent\n * @exports forEventProp\n * @exports forKey\n * @exports forKeyCode\n * @exports forProp\n * @exports handle\n * @exports log\n * @exports oneOf\n * @exports preventDefault\n * @exports returnsTrue\n * @exports stop\n * @exports stopImmediate\n */\n\nimport cond from 'ramda/src/cond';\nimport curry from 'ramda/src/curry';\n\nimport {is} from '../keymap';\n\n/**\n * The signature for event handlers\n *\n * @callback EventHandler\n * @memberof core/handle\n * @param {any} event\n */\n\n/**\n * The signature for event handling functions supported by `handle` and related functions\n *\n * @callback HandlerFunction\n * @memberof core/handle\n * @param {any} event\n * @param {Object<string, any>} props\n * @param {Object<string, any>} context\n */\n\n/**\n * The signature for {@link core/handle.adaptEvent} parameter `adapter`\n *\n * @callback EventAdapter\n * @memberof core/handle\n * @param {any} event\n * @param {Object<string, any>} props\n * @param {Object<string, any>} context\n * @returns {any}\n */\n\n// Accepts an array of handlers, sanitizes them, and returns a handler function\n// compose(allPass, map(makeSafeHandler));\nconst makeHandler = (handlers) => {\n\t// allowing shadowing here to provide a meaningful function name in dev tools\n\t// eslint-disable-next-line no-shadow\n\treturn function handle (...args) {\n\t\tfor (let i = 0; i < handlers.length; i++) {\n\t\t\tconst fn = handlers[i];\n\t\t\tif (typeof fn !== 'function' || fn.apply(this, args)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n};\n\n// Loose check to determine if obj is component-ish if it has both props and context members\nconst hasPropsAndContext = (obj) => (\n\tobj &&\n\t\tObject.prototype.hasOwnProperty.call(obj, 'props') &&\n\t\tObject.prototype.hasOwnProperty.call(obj, 'context')\n);\n\nconst named = (fn, name) => {\n\tif (__DEV__) {\n\t\ttry {\n\t\t\tObject.defineProperty(fn, 'name', {\n\t\t\t\tvalue: name,\n\t\t\t\twriteable: false,\n\t\t\t\tenumerable: false\n\t\t\t});\n\t\t} catch (err) {\n\t\t\t// unable to set name of function\n\t\t}\n\t}\n\n\treturn fn;\n};\n\nconst bindAs = (fn, obj, name) => {\n\tconst namedFunction = name ? named(fn, name) : fn;\n\tconst bound = namedFunction.bind(obj);\n\n\tif (name) {\n\t\tobj[name] = bound;\n\t}\n\n\treturn bound;\n};\n\nconst decorateHandleFunction = (fn) => {\n\tfn.named = (name) => named(fn, name);\n\tfn.bindAs = (obj, name) => bindAs(fn, obj, name);\n\n\treturn fn;\n};\n\n/**\n * Allows generating event handlers by chaining input functions to filter or short-circuit the\n * handling flow. Any input function that returns a falsy value will stop the chain.\n *\n * The returned handler function has a `finally()` member that accepts a function and returns a new\n * handler function. The accepted function is called once the original handler completes regardless\n * of the returned value.\n *\n * @method   handle\n * @param    {...HandlerFunction}  handlers List of handlers to process the event.\n *\n * @returns  {EventHandler}\tA function that accepts an event which is dispatched to each of the\n *                          provided handlers.\n * @memberof core/handle\n * @public\n */\nconst handle = function (...handlers) {\n\tconst h = makeHandler(handlers);\n\n\t// In order to support binding either handle (handle.bind(this)) or a handler\n\t// (a = handle(), a.bind(this)), we cache `this` here and use it as the fallback for props and\n\t// context if fn() doesn't have its own `this`.\n\tconst _outer = this;\n\n\tconst fn = function prepareHandleArgs (ev, props, context) {\n\t\tlet caller = null;\n\n\t\t// if handle() was bound to a class, use its props and context. otherwise, we accept\n\t\t// incoming props/context as would be provided by computed/handlers from kind()\n\t\tif (hasPropsAndContext(this)) {\n\t\t\tcaller = this;\n\t\t\tprops = this.props;\n\t\t\tcontext = this.context;\n\t\t} else if (hasPropsAndContext(_outer)) {\n\t\t\tcaller = _outer;\n\t\t\tprops = _outer.props;\n\t\t\tcontext = _outer.context;\n\t\t}\n\n\t\treturn h.call(caller, ev, props, context);\n\t};\n\n\tfn.finally = function (cleanup) {\n\t\treturn decorateHandleFunction(function handleWithFinally (ev, props, context) {\n\t\t\tlet result = false;\n\n\t\t\tif (hasPropsAndContext(this)) {\n\t\t\t\tprops = this.props;\n\t\t\t\tcontext = this.context;\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tresult = fn.call(this, ev, props, context);\n\t\t\t} finally {\n\t\t\t\tcleanup.call(this, ev, props, context);\n\t\t\t}\n\n\t\t\treturn result;\n\t\t});\n\t};\n\n\treturn decorateHandleFunction(fn);\n};\n\n/**\n * Calls the first handler whose condition passes. Each branch must be passed as an array with the\n * first element being the condition function and the second being the handler function. The same\n * arguments are passed to both the condition function and the handler function. The value returned\n * from the handler is returned.\n *\n * Example:\n * ```\n * const handler = oneOf(\n * \t[forKey('enter'), handleEnter],\n * \t[forKey('left'), handleLeft],\n * \t[forKey('right'), handleRight]\n * );\n * ```\n *\n * @method   oneOf\n * @param    {...[HandlerFunction, HandlerFunction]}  handlers List of conditions and handlers to process the event\n *\n * @returns  {HandlerFunction} A function that accepts an event which is dispatched to each of the\n *                             conditions and, if it passes, onto the provided handler.\n * @memberof core/handle\n * @public\n */\nconst oneOf = handle.oneOf = function (...handlers) {\n\treturn handle.call(this, cond(handlers));\n};\n\n/**\n * A function that always returns `true`. Optionally accepts a `handler` function which is called\n * before returning `true`.\n *\n * Example:\n * ```\n * // Used to coerce an existing function into a handler\n * const coercedHandler = handle(\n *   returnsTrue(doesSomething),\n *   willAlwaysBeCalled\n * );\n *\n * // Used to emulate if/else blocks with `oneOf`\n * const ifElseHandler = oneOf(\n * \t[forKey('enter'), handleEnter],\n * \t[returnsTrue, handleOtherwise]\n * );\n * ```\n *\n * @method   returnsTrue\n * @param    {Function}  [handler]  Handler function called before returning `true`.\n *\n * @returns  {HandlerFunction}\t   A function that returns `true`\n * @memberof core/handle\n * @public\n */\nconst returnsTrue = handle.returnsTrue = function (handler) {\n\tif (handler && typeof handler === 'function') {\n\t\treturn named(function (...args) {\n\t\t\thandler.apply(this, args);\n\n\t\t\treturn true;\n\t\t}, 'returnsTrue');\n\t}\n\n\treturn true;\n};\n\n/**\n * Calls a named function on the event and returns `true`.\n *\n * Example:\n * ```\n * import {callOnEvent, handle} from '@enact/core/handle';\n *\n * const callsCustomMethod = handle(\n *\tcallOnEvent('customMethod'),\n *\t(ev) => console.log('ev.customMethod() was called', ev)\n * );\n * ```\n *\n * @method   callOnEvent\n * @param    {String}     methodName  Name of the method to call on the event\n * @param    {Object}     ev          Event payload\n *\n * @returns  {true}                   Always returns `true`\n * @curried\n * @memberof core/handle\n * @private\n */\nconst callOnEvent = handle.callOnEvent = curry((methodName, ev) => {\n\tif (ev[methodName]) {\n\t\tev[methodName]();\n\t} else if (ev.nativeEvent && ev.nativeEvent[methodName]) {\n\t\t// In some cases (notably stopImmediatePropagation), React doesn't include a desired method\n\t\t// on its proxy so we check the native event as well.\n\t\tev.nativeEvent[methodName]();\n\t}\n\treturn true;\n});\n\n/**\n * Allows handling to continue if the value of `prop` on the event strictly equals `value`\n *\n * Example:\n * ```\n * import {forEventProp, handle} from '@enact/core/handle';\n *\n * const logWhenXEqualsZero = handle(\n *   forEventProp('x', 0),\n *   (ev) => console.log('ev.x was equal to zero', ev)\n * );\n * ```\n *\n * @method   forEventProp\n * @param    {String}\t   prop   Name of property on event\n * @param    {*}           value  Value of property\n * @param    {Object}      ev     Event payload\n *\n * @returns  {Boolean}            Returns `true` if `prop` on `event` strictly equals `value`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst forEventProp = handle.forEventProp = curry((prop, value, ev) => {\n\treturn ev[prop] === value;\n});\n\n/**\n * Forwards the event to a function at `name` on `props`. If the specified prop is `undefined` or\n * is not a function, it is ignored. The return value of the forwarded function is ignored and\n * `true` is always returned instead.\n *\n * Example:\n * ```\n * import {forward, handle} from '@enact/core/handle';\n *\n * const forwardAndLog = handle(\n *   forward('onClick'),\n *   (ev) => console.log('event forwarded to onClick from props', ev)\n * );\n * ```\n *\n * @method   forward\n * @param    {String}    name   Name of method on the `props`\n * @param    {Object}    ev     Event payload\n * @param    {Object}    props  Props object\n *\n * @returns  {true}             Always returns `true`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst forward = handle.forward = curry(named((name, ev, props) => {\n\tconst fn = props && props[name];\n\tif (typeof fn === 'function') {\n\t\tfn(ev);\n\t}\n\n\treturn true;\n}, 'forward'));\n\n/**\n * Calls `event.preventDefault()` and returns `true`.\n *\n * Example:\n * ```\n * import {handle, preventDefault} from '@enact/core/handle';\n *\n * const preventAndLog = handle(\n *   preventDefault,\n *   (ev) => console.log('preventDefault called', ev)\n * );\n * ```\n *\n * @method   preventDefault\n * @param    {Object}        ev  Event payload\n *\n * @returns  {true}              Always returns `true`\n * @memberof core/handle\n * @public\n */\nconst preventDefault = handle.preventDefault = callOnEvent('preventDefault');\n\n/**\n * Forwards the event to a function at `name` on `props` with capability to prevent default\n * behavior. If the specified prop is `undefined` or is not a function, it is ignored. Returns\n * `false` when `event.preventDefault()` has been called in a handler.\n *\n * Example:\n * ```\n * import {forwardWithPrevent, handle} from '@enact/core/handle';\n *\n * const forwardPreventDefault = handle(\n *   forwardWithPrevent('onClick'),\n *   (ev) => console.log('default action', ev)\n * );\n * ```\n *\n * @method   forwardWithPrevent\n * @param    {String}    name   Name of method on the `props`\n * @param    {Object}    ev     Event payload\n * @param    {Object}    props  Props object\n *\n * @returns  {Boolean}          Returns `true` if default action is prevented\n * @curried\n * @memberof core/handle\n * @private\n */\nconst forwardWithPrevent = handle.forwardWithPrevent = curry(named((name, ev, props) => {\n\tlet prevented = false;\n\tconst wrappedEvent = Object.assign({}, ev, {\n\t\tpreventDefault: () => {\n\t\t\tprevented = true;\n\t\t\tpreventDefault(ev);\n\t\t}\n\t});\n\tforward(name, wrappedEvent, props);\n\n\treturn !prevented;\n}, 'forwardWithPrevent'));\n\n/**\n * Calls `event.stopPropagation()` and returns `true`\n *\n * Example:\n * ```\n * import {handle, stop} from '@enact/core/handle';\n *\n * const stopAndLog = handle(\n *   stop,\n *   (ev) => console.log('stopPropagation called', ev)\n * );\n * ```\n *\n * @method   stop\n * @param    {Object}   ev  Event payload\n *\n * @returns  {true}         Always returns `true`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst stop = handle.stop = named(callOnEvent('stopPropagation'), 'stop');\n\n/**\n * Calls `event.stopImmediatePropagation()` and returns `true`\n *\n * Example:\n * ```\n * import {handle, stopImmediate} from '@enact/core/handle';\n *\n * const stopImmediateAndLog = handle(\n *   stopImmediate,\n *   (ev) => console.log('stopImmediatePropagation called', ev)\n * );\n * ```\n *\n * @method   stopImmediate\n * @param    {Object}       ev  Event payload\n *\n * @returns  {true}             Always returns `true`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst stopImmediate = handle.stopImmediate = callOnEvent('stopImmediatePropagation');\n\n/**\n * Allows event handling to continue if `event.keyCode === value`.\n *\n * Example:\n * ```\n * import {forKeyCode, handle} from '@enact/core/handle';\n *\n * const logForEscapeKey = handle(\n *   forKeyCode(27),\n *   (ev) => console.log('Escape key pressed down', ev)\n * );\n * ```\n *\n * @method   forKeyCode\n * @param    {Number}    value  `keyCode` to test\n * @param    {Object}    ev     Event payload\n *\n * @returns  {Boolean}          Returns `true` if `event.keyCode` strictly equals `value`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst forKeyCode = handle.forKeyCode = forEventProp('keyCode');\n\n/**\n * Allows handling to continue if the event's keyCode is mapped to `name` within\n * {@link core/keymap}.\n *\n * Example:\n * ```\n * import {forKey, handle} from '@enact/core/handle';\n *\n * const logForEnterKey = handle(\n *   forKey('enter'),\n *   (ev) => console.log('Enter key pressed down', ev)\n * );\n * ```\n *\n * @see      {@link core/keymap}\n * @method   forKey\n * @param    {String}    name   Name from {@link core/keymap}\n * @param    {Object}    ev     Event payload\n *\n * @returns  {Boolean}          Returns `true` if `event.keyCode` is mapped to `name`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst forKey = handle.forKey = curry((name, ev) => {\n\treturn is(name, ev.keyCode);\n});\n\n/**\n * Allows handling to continue if the value of `prop` on the props strictly equals `value`.\n *\n * Example:\n * ```\n * import {forProp, handle} from '@enact/core/handle';\n *\n * const logWhenChecked = handle(\n *   forProp('checked', true),\n *   (ev) => console.log('checked prop is true', ev)\n * );\n * ```\n *\n * @method   forProp\n * @param    {String}    prop   Name of property on props object\n * @param    {*}         value  Value of property\n * @param    {Object}    ev     Event payload\n * @param    {Object}    props  Props object\n *\n * @returns  {Boolean}          Returns `true` if the value of `props[prop]` strictly equals `value`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst forProp = handle.forProp = curry((prop, value, ev, props) => {\n\treturn props[prop] === value;\n});\n\n/**\n * Logs the event, props, and context optionally preceded by a custom message. Will only log in\n * development mode.\n *\n * Example:\n * ```\n * import {forProp, handle, log} from '@enact/core/handle';\n *\n * const logWhenChecked = handle(\n *   forProp('checked', true),\n *   log('checked props is true')\n * );\n * ```\n *\n * @method   log\n * @param    {String}     message  Custom message\n * @param    {Object}     ev       Event payload\n * @param    {...*}       [args]   Any args passed are logged\n *\n * @returns  {true}                Always returns `true`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst log = handle.log = curry((message, ev, ...args) => {\n\tif (__DEV__) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.log(message, ev, ...args);\n\t}\n\n\treturn true;\n});\n\n/**\n * Invokes a method by name on the component to which {@link core/handle.handle} is bound.\n *\n * If the methods exists on the object, it is called with the event, props, and context and its\n * return value is returned.\n *\n * If the method does not exist or handle isn't bound to an instance, it returns `false`.\n *\n * Example:\n * ```\n * import {call, handle, forProp} from '@enact/core/handle';\n *\n * const incrementIfEnabled = handle(\n *   forProp('disabled', false),\n *   call('increment')\n * );\n *\n * class Counter extends React.Component {\n *   constructor () {\n *     super();\n *\n *     this.handleIncrement = incrementIfEnabled.bind(this);\n *   }\n *\n *   render () {\n *     // ...\n *   }\n * }\n * ```\n *\n * @method   call\n * @param    {String}     method  Name of method\n *\n * @returns  {HandlerFunction}    Returns the value returned by `method`, or `false` if the method\n *                                does not exist\n * @memberof core/handle\n * @public\n */\nconst call = function (method) {\n\treturn named(function (...args) {\n\t\tif (this && this[method]) {\n\t\t\treturn this[method](...args);\n\t\t}\n\n\t\treturn false;\n\t}, 'call');\n};\n\n/**\n * Adapts an event with `adapter` before calling `handler`.\n *\n * The `adapter` function receives the same arguments as any handler. The value returned from\n * `adapter` is passed as the first argument to `handler` with the remaining arguments kept the\n * same. This is often useful to generate a custom event payload before forwarding on to a callback.\n *\n * Example:\n * ```\n * import {adaptEvent, forward} from '@enact/core/handle';\n *\n * // calls the onChange callback with an event payload containing a type and value member\n * const incrementAndChange = adaptEvent(\n * \t(ev, props) => ({\n * \t  type: 'onChange',\n * \t  value: props.value + 1\n * \t}),\n * \tforward('onChange')\n * )\n * ```\n *\n * @method   adaptEvent\n * @param    {EventAdapter}     adapter  Function to adapt the event payload\n * @param    {HandlerFunction}  handler  Handler to call with the handler function\n *\n * @returns  {HandlerFunction}           Returns an [event handler]{@link core/handle.HandlerFunction} (suitable for passing to handle) that returns the result of `handler`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst adaptEvent = handle.adaptEvent = curry(function (adapter, handler) {\n\treturn named(function (ev, ...args) {\n\t\treturn handler.call(this, adapter.call(this, ev, ...args), ...args);\n\t}, 'adaptEvent');\n});\n\n/**\n * Creates a handler that will forward the event to a function at `name` on `props`.\n *\n * If `adapter` is not specified, a new event payload will be generated with a `type` member with\n * the `name` of the custom event. If `adapter` is specified, the `type` member is added to the\n * value returned by `adapter`.\n *\n * The `adapter` function receives the same arguments as any handler. The value returned from\n * `adapter` is passed as the first argument to `handler` with the remaining arguments kept the\n * same. This is often useful to generate a custom event payload before forwarding on to a callback.\n *\n * Example:\n * ```\n * import {forwardCustom} from '@enact/core/handle';\n *\n * // calls the onChange callback with the event: {type: 'onChange'}\n * const forwardChange = forwardCustom('onChange');\n *\n * // calls the onChange callback with the event: {type: 'onChange', index}\n * const forwardChangeWithIndex = forwardCustom('onChange', (ev, {index}) => ({index}));\n * ```\n *\n * @method   forwardCustom\n * @param    {String}        name      Name of method on the `props`\n * @param    {EventAdapter}  [adapter] Function to adapt the event payload\n *\n * @returns  {HandlerFunction}         Returns an [event handler]{@link core/handle.EventHandler}\n *                                     (suitable for passing to handle or used directly within\n *                                     `handlers` in [kind]{@link core/kind}) that will forward the\n *                                     custom event.\n * @memberof core/handle\n * @public\n */\nconst forwardCustom = handle.forwardCustom = (name, adapter) => handle(\n\tadaptEvent(\n\t\t(...args) => {\n\t\t\tlet ev = adapter ? adapter(...args) : null;\n\n\t\t\t// Handle either no adapter or a non-object return from the adapter\n\t\t\tif (!ev || typeof ev !== 'object') {\n\t\t\t\tev = {};\n\t\t\t}\n\n\t\t\tev.type = name;\n\n\t\t\treturn ev;\n\t\t},\n\t\tforward(name)\n\t)\n).named('forwardCustom');\n\n/**\n * Accepts a handler and returns the logical complement of the value returned from the handler.\n *\n * Example:\n * ```\n * import {forProp, forward, not, handle} from '@enact/core/handle';\n *\n * // calls the onChange callback when disabled is not true\n * const handleChange = handle(\n *  not(forProp('disabled', true)),\n *  forward('onChange')\n * )\n * ```\n *\n * @method   not\n * @param    {HandlerFunction}  handler  Handler to complement\n *\n * @returns  {HandlerFunction}           Returns an [event\n *                                       handler]{@link core/handle.HandlerFunction} (suitable for\n *                                       passing to handle) that returns the complement of the\n *                                       return value of `handler`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst not = handle.not = (handler) => (...args) => !handler(...args);\n\nexport default handle;\nexport {\n\tadaptEvent,\n\tcall,\n\tcallOnEvent,\n\tforward,\n\tforwardCustom,\n\tforwardWithPrevent,\n\tforEventProp,\n\tforKey,\n\tforKeyCode,\n\tforProp,\n\thandle,\n\tlog,\n\tnot,\n\toneOf,\n\tpreventDefault,\n\treturnsTrue,\n\tstop,\n\tstopImmediate\n};\n","/* global XMLHttpRequest, ILIB_BASE_PATH, ILIB_RESOURCES_PATH, ILIB_CACHE_ID */\n\nimport {memoize} from '@enact/core/util';\nimport Loader from 'ilib/lib/Loader';\nimport LocaleInfo from 'ilib/lib/LocaleInfo';\nimport xhr from 'xhr';\n\nimport ZoneInfoFile from './zoneinfo';\n\nconst getImpl = (url, callback, sync) => {\n\tif (typeof XMLHttpRequest !== 'undefined') {\n\t\txhr.XMLHttpRequest = XMLHttpRequest || xhr.XMLHttpRequest;\n\t\tlet req;\n\t\txhr({url, sync, beforeSend: (r) => (req = r)}, (err, resp, body) => {\n\t\t\tlet error = err || resp.statusCode !== 200 && resp.statusCode;\n\t\t\t// false failure from chrome and file:// urls\n\t\t\tif (error && req.status === 0 && req.response.length > 0) {\n\t\t\t\tbody = req.response;\n\t\t\t\terror = false;\n\t\t\t}\n\n\t\t\tlet json = null;\n\t\t\ttry {\n\t\t\t\tjson = error ? null : JSON.parse(body);\n\t\t\t} catch (e) {\n\t\t\t\terror = 'Failed to parse ILIB JSON data';\n\t\t\t}\n\n\t\t\tcallback(json, error);\n\t\t});\n\t} else {\n\t\tcallback(null, new Error('Not a web browser environment'));\n\t}\n};\n\nconst getSync = (url, callback) => getImpl(url, callback, true);\n\nconst get = memoize((url) => new Promise((resolve, reject) => {\n\tgetImpl(url, (json, error) => {\n\t\tif (error) {\n\t\t\treject(error);\n\t\t} else {\n\t\t\tresolve(json);\n\t\t}\n\t}, false);\n}));\n\nconst iLibBase = typeof ILIB_BASE_PATH === 'undefined' ? '/ilib' : ILIB_BASE_PATH;\nconst iLibResources = typeof ILIB_RESOURCES_PATH === 'undefined' ? '/locale' : ILIB_RESOURCES_PATH;\nconst cachePrefix = 'ENACT-ILIB-';\nconst cacheKey = cachePrefix + 'CACHE-ID';\nconst cacheID = typeof ILIB_CACHE_ID === 'undefined' ? '$ILIB' : ILIB_CACHE_ID;\n\nfunction EnyoLoader () {\n\tthis.base = iLibBase;\n\t// TODO: full enyo.platform implementation for improved accuracy\n\tif (typeof window === 'object' && typeof window.PalmSystem === 'object') {\n\t\tthis.webos = true;\n\t}\n}\n\nEnyoLoader.prototype = new Loader();\nEnyoLoader.prototype.constructor = EnyoLoader;\n\nEnyoLoader.prototype._createZoneFile = function (path) {\n\tlet zone = path.substring(path.indexOf('zoneinfo'));\n\n\t// remove the .json suffix to get the name of the zone\n\tzone = zone.substring(0, zone.length - 5);\n\n\ttry {\n\t\tconst zif = new ZoneInfoFile('/usr/share/' + zone);\n\n\t\t// only get the info for this year. Later we can get the info\n\t\t// for any historical or future year too\n\t\treturn zif.getIlibZoneInfo(new Date());\n\t} catch (e) {\n\t\t// no file, so just return nothing\n\t}\n};\n\nEnyoLoader.prototype._pathjoin = function (_root, subpath) {\n\tif (!_root || !_root.length) {\n\t\treturn subpath;\n\t}\n\tif (!subpath || !subpath.length) {\n\t\treturn _root;\n\t}\n\treturn _root + (_root.charAt(_root.length - 1) !== '/' ? '/' : '') + subpath;\n};\n\n/**\n * Load the list of files asynchronously. This uses recursion in\n * order to create a queue of files that will be loaded serially.\n * Each layer, starting at the bottom, loads a file and then loads\n * the layer on top of it. The very top file on the stack will have\n * zero files to load, so instead it will be the one to call the\n * callback to notify the caller that all the content is loaded.\n *\n * @param {Array.<string>} paths array of strings containing relative paths for required locale data\n *\tfiles\n * @param {Array} results empty array in which to place the resulting json when it is loaded from a\n *\tfile\n * @param {Object} params An object full of parameters that the caller is passing to this function\n *\tto help load the files\n * @param {function(Array.<Object>)} callback callback to call when this function is finished\n *\tattempting to load all the files that exist and can be loaded\n *\n * @returns {Promise}\n */\nEnyoLoader.prototype._loadFilesAsync = function (path, params, cache, rootPath) {\n\tlet _root = iLibResources;\n\tif (typeof rootPath !== 'undefined') {\n\t\t_root = rootPath;\n\t} else if (params && typeof params.root !== 'undefined') {\n\t\t_root = params.root; // Deprecated; to be removed in future\n\t}\n\tlet cacheItem = cache.data.shift(),\n\t\turl;\n\n\tif (this.webos && path.indexOf('zoneinfo') !== -1) {\n\t\t// TODO: Sort out async zone file loading\n\t\treturn this._createZoneFile(path);\n\t} else if (cacheItem) {\n\t\treturn Promise.resolve(cacheItem);\n\t}\n\n\treturn this.loadManifests(_root).then(() => {\n\t\tconst isRootAvailable = this.isAvailable(_root, path);\n\t\tif (isRootAvailable) {\n\t\t\turl = this._pathjoin(_root, path);\n\t\t} else {\n\t\t\tconst localeBase = this._pathjoin(this.base, 'locale');\n\t\t\tconst isBaseAvailable = this.isAvailable(localeBase, path);\n\t\t\tif (isBaseAvailable) {\n\t\t\t\turl = this._pathjoin(localeBase, path);\n\t\t\t}\n\t\t}\n\n\t\tif (url) {\n\t\t\treturn get(url).then(json => {\n\t\t\t\tif (typeof json === 'object') {\n\t\t\t\t\tcache.update = true;\n\t\t\t\t\treturn json;\n\t\t\t\t} else if (path === 'localeinfo.json') {\n\t\t\t\t\treturn LocaleInfo.defaultInfo;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn null;\n\t});\n};\n\nEnyoLoader.prototype._loadFilesCache = function (_root, paths) {\n\tthis._validateCache();\n\tif (typeof window !== 'undefined' && window.localStorage && paths.length > 0) {\n\t\tlet stored = window.localStorage.getItem(cachePrefix + _root + '/' + paths[0]);\n\t\tif (stored) {\n\t\t\tconst target = JSON.stringify(paths);\n\t\t\tconst data = JSON.parse(stored);\n\t\t\tif (data.target === target) {\n\t\t\t\treturn data.value;\n\t\t\t} else {\n\t\t\t\twindow.localStorage.removeItem(cachePrefix + _root + '/' + paths[0]);\n\t\t\t}\n\t\t}\n\t}\n\treturn new Array(paths.length);\n};\n\nEnyoLoader.prototype._storeFilesCache = function (_root, paths, data) {\n\tif (typeof window !== 'undefined' && window.localStorage && paths.length > 0) {\n\t\tlet target = JSON.stringify(paths);\n\t\twindow.localStorage.setItem(cachePrefix + _root + '/' + paths[0], JSON.stringify({target: target, value: data}));\n\t}\n};\n\nEnyoLoader.prototype._validateCache = function () {\n\tif (!this._cacheValidated && typeof window !== 'undefined' && window.localStorage) {\n\t\tlet activeID = window.localStorage.getItem(cacheKey);\n\t\tif (activeID !== cacheID) {\n\t\t\tfor (let i = 0; i < window.localStorage.length; i++) {\n\t\t\t\tlet key = window.localStorage.key(i);\n\t\t\t\tif (key.indexOf(cachePrefix) === 0) {\n\t\t\t\t\twindow.localStorage.removeItem(key);\n\t\t\t\t\ti--;\n\t\t\t\t}\n\t\t\t}\n\t\t\twindow.localStorage.setItem(cacheKey, cacheID);\n\t\t}\n\t}\n\tthis._cacheValidated = true;\n};\n\nEnyoLoader.prototype.loadFiles = function (paths, sync, params, callback, rootPath) {\n\tlet _root = iLibResources;\n\tif (typeof rootPath !== 'undefined') {\n\t\t_root = rootPath;\n\t} else if (params && typeof params.root !== 'undefined') {\n\t\t_root = params.root; // Deprecated; to be removed in future\n\t}\n\tlet cache = {data: this._loadFilesCache(_root, paths)};\n\tif (sync) {\n\t\tlet ret = [];\n\t\tlet locdata = this._pathjoin(this.base, 'locale');\n\t\t// synchronous\n\t\tpaths.forEach(function (path, index) {\n\t\t\tif (this.webos && path.indexOf('zoneinfo') !== -1) {\n\t\t\t\tret.push(this._createZoneFile(path));\n\t\t\t} else if (cache.data[index]) {\n\t\t\t\tret.push(cache.data[index]);\n\t\t\t} else {\n\t\t\t\tlet found = false;\n\n\t\t\t\tconst handler = (json, err) => {\n\t\t\t\t\tif (!err && typeof json === 'object') {\n\t\t\t\t\t\tcache.update = true;\n\t\t\t\t\t\tret.push(json);\n\t\t\t\t\t\tfound = true;\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.loadManifestsSync(_root);\n\n\t\t\t\tif (this.isAvailable(_root, path)) {\n\t\t\t\t\tgetSync(this._pathjoin(_root, path), handler);\n\t\t\t\t}\n\n\t\t\t\tif (!found && this.isAvailable(locdata, path)) {\n\t\t\t\t\tgetSync(this._pathjoin(locdata, path), handler);\n\t\t\t\t}\n\n\t\t\t\tif (!found) {\n\t\t\t\t\tif (path === 'localeinfo.json') {\n\t\t\t\t\t\t// Use default locale info when xhr on root localeinfo.json fails/skips\n\t\t\t\t\t\tret.push(LocaleInfo.defaultInfo);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// not there, so fill in a blank entry in the array\n\t\t\t\t\t\t// eslint-disable-next-line no-undefined\n\t\t\t\t\t\tret.push(undefined);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}.bind(this));\n\n\t\tif (cache.update) {\n\t\t\tthis._storeFilesCache(_root, paths, ret);\n\t\t}\n\t\tif (typeof callback === 'function') {\n\t\t\tcallback.call(this, ret);\n\t\t}\n\t\treturn ret;\n\t}\n\n\t// asynchronous\n\tPromise.all(paths.map(path => this._loadFilesAsync(path, params, cache))).then(results => {\n\t\tif (cache.update) {\n\t\t\tthis._storeFilesCache(_root, paths, results);\n\t\t}\n\t\tif (typeof callback === 'function') {\n\t\t\tcallback.call(this, results);\n\t\t}\n\t});\n};\n\nEnyoLoader.prototype._handleManifest = function (dirpath, filepath, json) {\n\t// star indicates there was no ilibmanifest.json, so always try to load files from\n\t// that dir\n\tif (json != null) {\n\t\tif (typeof window !== 'undefined' && window.localStorage) {\n\t\t\twindow.localStorage.setItem(cachePrefix + filepath, JSON.stringify(json));\n\t\t}\n\t\tthis.manifest[dirpath] = json.files;\n\t} else {\n\t\tthis.manifest[dirpath] = '*';\n\t}\n\n\treturn this.manifest[dirpath];\n};\n\nEnyoLoader.prototype._loadManifest = function (_root, subpath, sync) {\n\tif (!this.manifest) {\n\t\tthis.manifest = {};\n\t}\n\n\tconst dirpath = this._pathjoin(_root, subpath);\n\tconst filepath = this._pathjoin(dirpath, 'ilibmanifest.json');\n\n\tif (this.manifest[dirpath]) {\n\t\treturn;\n\t}\n\n\tlet cachedManifest;\n\tif (typeof window !== 'undefined' && window.localStorage) {\n\t\tcachedManifest = window.localStorage.getItem(cachePrefix + filepath);\n\t}\n\n\tif (cachedManifest) {\n\t\tthis.manifest[dirpath] = JSON.parse(cachedManifest).files;\n\n\t\treturn sync ? this.manifest[dirpath] : Promise.resolve(this.manifest[dirpath]);\n\t}\n\n\tif (sync) {\n\t\tgetSync(filepath, (json) => {\n\t\t\tthis._handleManifest(dirpath, filepath, json);\n\t\t});\n\n\t\treturn;\n\t}\n\n\treturn get(filepath).then(json => this._handleManifest(dirpath, filepath, json));\n};\n\nEnyoLoader.prototype.loadManifests = function (_root) {\n\tthis._validateCache();\n\treturn Promise.all([\n\t\t// standard ilib locale data\n\t\tthis._loadManifest(this.base, 'locale'),\n\t\t// the app's resources dir\n\t\tthis._loadManifest('', iLibResources),\n\t\t// maybe it's a custom root? If so, try to load\n\t\t// the manifest file first in case it is there\n\t\tthis._loadManifest(_root, '')\n\t]);\n};\n\nEnyoLoader.prototype.loadManifestsSync = function (_root) {\n\t// load standard manifests\n\tif (!this.manifest) {\n\t\tthis._validateCache();\n\t\tthis._loadManifest(this.base, 'locale', true); // standard ilib locale data\n\t\tthis._loadManifest('', iLibResources, true);     // the app's resources dir\n\t}\n\n\tif (!this.manifest[_root]) {\n\t\t// maybe it's a custom root? If so, try to load\n\t\t// the manifest file first in case it is there\n\t\tthis._loadManifest(_root, '', true);\n\t}\n};\n\nEnyoLoader.prototype.isAvailable = function (_root, path) {\n\t// util.print('enyo loader: isAvailable ' + path + '? ');\n\t// star means attempt to load everything because there was no manifest in that dir\n\tif (this.manifest[_root] === '*' || this.manifest[_root].indexOf(path) !== -1) {\n\t\t// util.print('true\\n');\n\t\treturn true;\n\t}\n\n\t// util.print('false\\n');\n\treturn false;\n};\n\nexport default EnyoLoader;\nexport {EnyoLoader as Loader};\n\n","/*\n * glue.js - glue code to fit ilib into enyo\n *\n * Copyright © 2013-2014 LG Electronics, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport ilib from 'ilib';\n\nimport './dates';\n\nimport Loader from './Loader';\nimport {updateLocale} from '../locale';\n\nilib.setLoaderCallback(new Loader());\n\nif (typeof window === 'object' && typeof window.UILocale !== 'undefined') {\n\t// this is a hack until GF-1581 is fixed\n\tilib.setLocale(window.UILocale);\n}\n\n// we go ahead and run this once during loading of iLib settings are valid\n// during the loads of later libraries.\nupdateLocale(null, true);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ThemeDecorator_root__1mp4Z\",\"bg\":\"ThemeDecorator_bg__1iacj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"Panel_panel__CBsfu\",\"body\":\"Panel_body__1jwg2\",\"noHeader\":\"Panel_noHeader__34Mg7\",\"visible\":\"Panel_visible__1PYRW\",\"header\":\"Panel_header__zIYvF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toggleButton\":\"ToggleButton_toggleButton__2WnOp\",\"underline\":\"ToggleButton_underline__9iR0t\",\"selected\":\"ToggleButton_selected__2bbbF\",\"button\":\"ToggleButton_button__23rV4\",\"bg\":\"ToggleButton_bg__3eqq0\",\"client\":\"ToggleButton_client__3nJmd\",\"huge\":\"ToggleButton_huge__1vADY\",\"small\":\"ToggleButton_small__NGeCq\",\"smallest\":\"ToggleButton_smallest__1wA4h\",\"minWidth\":\"ToggleButton_minWidth__rXqF_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabBar\":\"TabGroup_tabBar__cDVU2\",\"tabGroup\":\"TabGroup_tabGroup__uo2pQ\",\"tab\":\"TabGroup_tab__GzkRG\",\"labeledIcon\":\"TabGroup_labeledIcon__2Db25\",\"selected\":\"TabGroup_selected__LeC93\",\"positionAfter\":\"TabGroup_positionAfter__-qTBR\",\"horizontal\":\"TabGroup_horizontal__2UR2N\",\"vertical\":\"TabGroup_vertical__1QLN3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scrollbarTrack\":\"ScrollbarTrack_scrollbarTrack__2RBz3\",\"vertical\":\"ScrollbarTrack_vertical__3uMTg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Item_item__1OGdw\",\"itemContent\":\"Item_itemContent__1trVo\",\"hasLabel\":\"Item_hasLabel__3xhAA\",\"labelAfter\":\"Item_labelAfter__1Ajl0\",\"content\":\"Item_content__3R8ap\",\"labelBelow\":\"Item_labelBelow__35xbo\",\"label\":\"Item_label__vFw2H\",\"labelAbove\":\"Item_labelAbove__1SN_z\",\"labelBefore\":\"Item_labelBefore__3dcyJ\",\"slotAfter\":\"Item_slotAfter__2yHO_\",\"slotBefore\":\"Item_slotBefore__34YUH\",\"selected\":\"Item_selected__oqyJI\",\"inline\":\"Item_inline__2Wjk9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dateTimePicker\":\"DateTimePicker_dateTimePicker__21ogl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spacingIndicator\":\"Heading_spacingIndicator__3fOXk\",\"spacingNote\":\"Heading_spacingNote__2QraQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popup\":\"Popup_popup__2K8Tn\",\"centered\":\"Popup_centered__gLtrt\",\"buttons\":\"Popup_buttons__3tX0Z\",\"top\":\"Popup_top__NK_iz\",\"closeButton\":\"Popup_closeButton__gO0Wo\",\"title\":\"Popup_title__23Fu5\",\"withTitle\":\"Popup_withTitle__oXxZL\",\"body\":\"Popup_body__34qt0\",\"withCloseButton\":\"Popup_withCloseButton__2VP8L\",\"content\":\"Popup_content__3lgAw\",\"popupTransitionContainer\":\"Popup_popupTransitionContainer__l6zkG\",\"inner\":\"Popup_inner__9xj2X\"};","/**\n * A Popup menu component.\n *\n * @example\n * <PopupMenu open title=\"Title\">Hello!</PopupMenu>\n *\n * @module agate/PopupMenu\n * @exports PopupMenu\n * @exports PopupMenuBase\n * @exports PopupMenuDecorator\n */\n\nimport compose from 'ramda/src/compose';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Layout, {Cell} from '@enact/ui/Layout';\nimport Slottable from '@enact/ui/Slottable';\nimport Transition from '@enact/ui/Transition';\n\nimport $L from '../internal/$L';\nimport Skinnable from '../Skinnable';\nimport Heading from '../Heading';\nimport LabeledIconButton from '../LabeledIconButton';\nimport Scroller from '../Scroller';\n\nimport PopupState from '../Popup/PopupState';\n\nimport componentCss from './PopupMenu.module.less';\n\n/**\n * The base popup menu component.\n *\n * @class PopupMenuBase\n * @memberof agate/PopupMenu\n * @ui\n * @public\n */\nconst PopupMenuBase = kind({\n\tname: 'PopupMenu',\n\tpropTypes: /** @lends agate/PopupMenu.PopupMenuBase.prototype */ {\n\t\tcloseButton: PropTypes.bool,\n\t\tcloseButtonLabel: PropTypes.string,\n\t\tcss: PropTypes.object,\n\t\tnoAnimation: PropTypes.bool,\n\t\tonClose: PropTypes.func,\n\t\tonHide: PropTypes.func,\n\t\topen: PropTypes.bool,\n\t\torientation: PropTypes.oneOf(['horizontal']),\n\t\ttitle: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tcloseButton: false,\n\t\tcloseButtonLabel: $L('Cancel'),\n\t\tnoAnimation: false,\n\t\topen: false,\n\t\torientation: 'horizontal'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'popupMenu'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({orientation, styler}) => styler.append(orientation)\n\t},\n\n\trender: ({children, closeButton, closeButtonLabel, css, noAnimation, onClose, onHide, open, orientation, title, ...rest}) => {\n\t\treturn (\n\t\t\t<Transition\n\t\t\t\tnoAnimation={noAnimation}\n\t\t\t\tvisible={open}\n\t\t\t\tdirection=\"down\"\n\t\t\t\tduration=\"short\"\n\t\t\t\ttype=\"fade\"\n\t\t\t\tclassName={css.popupTransitionContainer}\n\t\t\t\tonHide={onHide}\n\t\t\t\tcss={css}\n\t\t\t>\n\t\t\t\t<Layout orientation=\"vertical\" align=\"center center\" role=\"alert\" {...rest}>\n\t\t\t\t\t<Cell className={css.title} shrink>\n\t\t\t\t\t\t<Heading size=\"title\">{title}</Heading>\n\t\t\t\t\t</Cell>\n\t\t\t\t\t<Cell shrink className={css.body} align=\"stretch\">\n\t\t\t\t\t\t<Scroller direction={orientation} horizontalScrollbar=\"hidden\" verticalScrollbar=\"hidden\">\n\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t\t{closeButton ? <LabeledIconButton\n\t\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\t\ticon=\"cancel\"\n\t\t\t\t\t\t\t\tonClick={onClose}\n\t\t\t\t\t\t\t\tclassName={css.closeButton}\n\t\t\t\t\t\t\t\tsize=\"huge\"\n\t\t\t\t\t\t\t\tbackgroundOpacity=\"lightOpaque\"\n\t\t\t\t\t\t\t>{closeButtonLabel}</LabeledIconButton> : null}\n\t\t\t\t\t\t</Scroller>\n\t\t\t\t\t</Cell>\n\t\t\t\t</Layout>\n\t\t\t</Transition>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [PopupMenuBase]{@link agate/PopupMenu.PopupMenuBase}.\n *\n * @hoc\n * @memberof agate/PopupMenu\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst PopupMenuDecorator = compose(\n\tSlottable({slots: ['title']}),\n\tSkinnable({prop: 'skin'}),\n\tPopupState\n);\n\n/**\n * A stateful component that renders a popup menu.\n *\n * @class PopupMenu\n * @memberof agate/PopupMenu\n * @extends agate/PopupMenu.PopupMenuBase\n * @mixes agate/PopupMenu.PopupMenuDecorator\n * @ui\n * @public\n */\nconst PopupMenu = PopupMenuDecorator(PopupMenuBase);\n\nexport default PopupMenu;\nexport {\n\tPopupMenu,\n\tPopupMenuBase,\n\tPopupMenuDecorator\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"Spinner_spinner__3fu-N\",\"bg\":\"Spinner_bg__3APs3\",\"huge\":\"Spinner_huge__1_I9G\",\"small\":\"Spinner_small__7zUD3\",\"smallest\":\"Spinner_smallest__l7fSN\",\"dark\":\"Spinner_dark__2EAvC\",\"node\":\"Spinner_node__340FG\",\"light\":\"Spinner_light__3ADfH\",\"searching\":\"Spinner_searching__gjLI1\",\"searching-spinner\":\"Spinner_searching-spinner__3nP-Q\",\"node12\":\"Spinner_node12__l17bR\",\"node11\":\"Spinner_node11__1JU52\",\"node10\":\"Spinner_node10__2oIGA\",\"node9\":\"Spinner_node9__3xkK3\",\"node8\":\"Spinner_node8__nHmXl\",\"node7\":\"Spinner_node7__3PMR6\",\"node6\":\"Spinner_node6__16R4o\",\"node5\":\"Spinner_node5__17m6e\",\"node4\":\"Spinner_node4__FVRBd\",\"node3\":\"Spinner_node3__2Cfot\",\"node2\":\"Spinner_node2__feALn\",\"node1\":\"Spinner_node1__14Y-l\",\"loading\":\"Spinner_loading__3Vskk\",\"loading-spinner\":\"Spinner_loading-spinner__3TSSM\"};","import {is} from '@enact/core/keymap';\nimport Spotlight, {getDirection} from '@enact/spotlight';\nimport {getTargetByDirectionFromElement} from '@enact/spotlight/src/target';\nimport utilDOM from '@enact/ui/useScroll/utilDOM';\nimport utilEvent from '@enact/ui/useScroll/utilEvent';\nimport clamp from 'ramda/src/clamp';\nimport {useCallback, useEffect, useRef} from 'react';\n\nconst\n\tisDown = is('down'),\n\tisEnter = is('enter'),\n\tisLeft = is('left'),\n\tisPageUp = is('pageUp'),\n\tisPageDown = is('pageDown'),\n\tisRight = is('right'),\n\tisUp = is('up'),\n\tgetNumberValue = (index) => {\n\t\t// using '+ operator' for string > number conversion based on performance: https://jsperf.com/convert-string-to-number-techniques/7\n\t\tlet number = +index;\n\t\t// should return -1 if index is not a number or a negative value\n\t\treturn number >= 0 ? number : -1;\n\t};\n\nconst useEventKey = (props, instances, context) => {\n\t// Mutable value\n\n\tconst mutableRef = useRef({\n\t\tfn: null\n\t});\n\n\t// Functions\n\n\tconst findSpottableItem = useCallback((indexFrom, indexTo) => {\n\t\tconst {dataSize} = props;\n\t\tif (indexFrom < 0 && indexTo < 0 || indexFrom >= dataSize && indexTo >= dataSize) {\n\t\t\treturn -1;\n\t\t} else {\n\t\t\treturn clamp(0, dataSize - 1, indexFrom);\n\t\t}\n\t}, [props]);\n\n\tconst getNextIndex = useCallback(({index, keyCode, repeat}) => {\n\t\tconst {dataSize, rtl, wrap} = props;\n\t\tconst {scrollContentHandle} = instances;\n\t\tconst {isPrimaryDirectionVertical, dimensionToExtent} = scrollContentHandle.current;\n\t\tconst column = index % dimensionToExtent;\n\t\tconst row = (index - column) % dataSize / dimensionToExtent;\n\t\tconst isDownKey = isDown(keyCode);\n\t\tconst isLeftMovement = (!rtl && isLeft(keyCode)) || (rtl && isRight(keyCode));\n\t\tconst isRightMovement = (!rtl && isRight(keyCode)) || (rtl && isLeft(keyCode));\n\t\tconst isUpKey = isUp(keyCode);\n\t\tconst isNextRow = index + dimensionToExtent < dataSize;\n\t\tconst isNextAdjacent = column < dimensionToExtent - 1 && index < (dataSize - 1);\n\t\tconst isBackward = (\n\t\t\tisPrimaryDirectionVertical && isUpKey ||\n\t\t\t!isPrimaryDirectionVertical && isLeftMovement ||\n\t\t\tnull\n\t\t);\n\t\tconst isForward = (\n\t\t\tisPrimaryDirectionVertical && isDownKey ||\n\t\t\t!isPrimaryDirectionVertical && isRightMovement ||\n\t\t\tnull\n\t\t);\n\t\tlet isWrapped = false;\n\t\tlet nextIndex = -1;\n\t\tlet targetIndex = -1;\n\n\t\tif (index >= 0) {\n\t\t\tif (isPrimaryDirectionVertical) {\n\t\t\t\tif (isUpKey && row) {\n\t\t\t\t\ttargetIndex = index - dimensionToExtent;\n\t\t\t\t} else if (isDownKey && isNextRow) {\n\t\t\t\t\ttargetIndex = index + dimensionToExtent;\n\t\t\t\t} else if (isLeftMovement && column) {\n\t\t\t\t\ttargetIndex = index - 1;\n\t\t\t\t} else if (isRightMovement && isNextAdjacent) {\n\t\t\t\t\ttargetIndex = index + 1;\n\t\t\t\t}\n\t\t\t} else if (isLeftMovement && row) {\n\t\t\t\ttargetIndex = index - dimensionToExtent;\n\t\t\t} else if (isRightMovement && isNextRow) {\n\t\t\t\ttargetIndex = index + dimensionToExtent;\n\t\t\t} else if (isUpKey && column) {\n\t\t\t\ttargetIndex = index - 1;\n\t\t\t} else if (isDownKey && isNextAdjacent) {\n\t\t\t\ttargetIndex = index + 1;\n\t\t\t}\n\n\t\t\tif (targetIndex >= 0) {\n\t\t\t\tnextIndex = targetIndex;\n\t\t\t}\n\t\t}\n\n\t\tif (!repeat && nextIndex === -1 && wrap) {\n\t\t\tif (isForward && findSpottableItem((row + 1) * dimensionToExtent, dataSize) < 0) {\n\t\t\t\tnextIndex = findSpottableItem(0, index);\n\t\t\t\tisWrapped = true;\n\t\t\t} else if (isBackward && findSpottableItem(-1, row * dimensionToExtent - 1) < 0) {\n\t\t\t\tnextIndex = findSpottableItem(dataSize, index);\n\t\t\t\tisWrapped = true;\n\t\t\t}\n\t\t}\n\n\t\treturn {isDownKey, isUpKey, isLeftMovement, isRightMovement, isWrapped, nextIndex};\n\t}, [findSpottableItem, props, instances]);\n\n\t// Hooks\n\n\tuseEffect(() => {\n\t\tconst {scrollContainerRef, scrollContentHandle} = instances;\n\t\tconst {\n\t\t\thandle5WayKeyUp,\n\t\t\thandleDirectionKeyDown,\n\t\t\thandlePageUpDownKeyDown,\n\t\t\tspotlightAcceleratorProcessKey\n\t\t} = context;\n\n\t\tfunction handleKeyDown (ev) {\n\t\t\tconst {keyCode, target} = ev;\n\t\t\tconst direction = getDirection(keyCode);\n\n\t\t\tif (direction) {\n\t\t\t\tSpotlight.setPointerMode(false);\n\n\t\t\t\tif (spotlightAcceleratorProcessKey(ev)) {\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t} else {\n\t\t\t\t\tconst {spotlightId} = props;\n\t\t\t\t\tconst targetIndex = target.dataset.index;\n\t\t\t\t\tconst isNotItem = (\n\t\t\t\t\t\t// if target has an index, it must be an item\n\t\t\t\t\t\t!targetIndex &&\n\t\t\t\t\t\t// if it lacks an index and is inside the scroller, we need to handle this\n\t\t\t\t\t\ttarget.matches(`[data-spotlight-id=\"${spotlightId}\"] *`)\n\t\t\t\t\t);\n\t\t\t\t\tconst index = !isNotItem ? getNumberValue(targetIndex) : -1;\n\t\t\t\t\tconst candidate = getTargetByDirectionFromElement(direction, target);\n\t\t\t\t\tconst candidateIndex = candidate && candidate.dataset && getNumberValue(candidate.dataset.index);\n\t\t\t\t\tlet isLeaving = false;\n\n\t\t\t\t\tif (isNotItem) { // if the focused node is not an item\n\t\t\t\t\t\tif (!utilDOM.containsDangerously(ev.currentTarget, candidate)) { // if the candidate is out of a list\n\t\t\t\t\t\t\tisLeaving = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (index >= 0 && candidateIndex !== index) { // the focused node is an item and focus will move out of the item\n\t\t\t\t\t\tconst {repeat} = ev;\n\t\t\t\t\t\tconst {isDownKey, isUpKey, isLeftMovement, isRightMovement, isWrapped, nextIndex} = getNextIndex({index, keyCode, repeat});\n\n\t\t\t\t\t\tif (nextIndex >= 0) { // if the candidate is another item\n\t\t\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\t\t\thandleDirectionKeyDown(ev, 'acceleratedKeyDown', {isWrapped, keyCode, nextIndex, repeat, target});\n\t\t\t\t\t\t} else { // if the candidate is not found\n\t\t\t\t\t\t\tconst {dataSize, focusableScrollbar, isHorizontalScrollbarVisible, isVerticalScrollbarVisible} = props;\n\t\t\t\t\t\t\tconst {dimensionToExtent, isPrimaryDirectionVertical} = scrollContentHandle.current;\n\t\t\t\t\t\t\tconst column = index % dimensionToExtent;\n\t\t\t\t\t\t\tconst row = (index - column) % dataSize / dimensionToExtent;\n\t\t\t\t\t\t\tconst directions = {};\n\t\t\t\t\t\t\tlet isScrollbarVisible;\n\n\t\t\t\t\t\t\tif (isPrimaryDirectionVertical) {\n\t\t\t\t\t\t\t\tdirections.left = isLeftMovement;\n\t\t\t\t\t\t\t\tdirections.right = isRightMovement;\n\t\t\t\t\t\t\t\tdirections.up = isUpKey;\n\t\t\t\t\t\t\t\tdirections.down = isDownKey;\n\t\t\t\t\t\t\t\tisScrollbarVisible = isVerticalScrollbarVisible;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdirections.left = isUpKey;\n\t\t\t\t\t\t\t\tdirections.right = isDownKey;\n\t\t\t\t\t\t\t\tdirections.up = isLeftMovement;\n\t\t\t\t\t\t\t\tdirections.down = isRightMovement;\n\t\t\t\t\t\t\t\tisScrollbarVisible = isHorizontalScrollbarVisible;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tisLeaving =\n\t\t\t\t\t\t\t\tdirections.up && row === 0 ||\n\t\t\t\t\t\t\t\tdirections.down && row === Math.floor((dataSize - 1) % dataSize / dimensionToExtent) ||\n\t\t\t\t\t\t\t\tdirections.left && column === 0 ||\n\t\t\t\t\t\t\t\tdirections.right && (!focusableScrollbar || !isScrollbarVisible) && (column === dimensionToExtent - 1 || index === dataSize - 1 && row === 0);\n\n\t\t\t\t\t\t\tif (repeat && isLeaving) { // if focus is about to leave items by holding down an arrowy key\n\t\t\t\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\t\t\t} else if (!isLeaving) {\n\t\t\t\t\t\t\t\thandleDirectionKeyDown(ev, 'keyDown', {direction, keyCode, repeat, target});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (isLeaving) {\n\t\t\t\t\t\thandleDirectionKeyDown(ev, 'keyLeave');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (isPageUp(keyCode) || isPageDown(keyCode)) {\n\t\t\t\thandlePageUpDownKeyDown();\n\t\t\t}\n\t\t}\n\n\t\tfunction handleKeyUp ({keyCode}) {\n\t\t\tif (getDirection(keyCode) || isEnter(keyCode)) {\n\t\t\t\thandle5WayKeyUp();\n\t\t\t}\n\t\t}\n\n\t\tutilEvent('keydown').addEventListener(scrollContainerRef, handleKeyDown, {capture: true});\n\t\tutilEvent('keyup').addEventListener(scrollContainerRef, handleKeyUp, {capture: true});\n\n\t\treturn () => {\n\t\t\tutilEvent('keydown').removeEventListener(scrollContainerRef, handleKeyDown, {capture: true});\n\t\t\tutilEvent('keyup').removeEventListener(scrollContainerRef, handleKeyUp, {capture: true});\n\t\t};\n\t}, [getNextIndex, props, instances, context]);\n\n\t// Functions\n\n\tfunction addGlobalKeyDownEventListener (fn) {\n\t\tmutableRef.current.fn = fn;\n\t\tutilEvent('keydown').addEventListener(document, mutableRef.current.fn, {capture: true});\n\t}\n\n\tfunction removeGlobalKeyDownEventListener () {\n\t\tutilEvent('keydown').removeEventListener(document, mutableRef.current.fn, {capture: true});\n\t\tmutableRef.current.fn = null;\n\t}\n\n\t// Return\n\n\treturn {\n\t\taddGlobalKeyDownEventListener,\n\t\tremoveGlobalKeyDownEventListener\n\t};\n};\n\nexport default useEventKey;\nexport {\n\tuseEventKey\n};\n","import utilEvent from '@enact/ui/useScroll/utilEvent';\nimport {useEffect} from 'react';\n\nconst usePreventScroll = (props, instances) => {\n\t// Hooks\n\n\tuseEffect(() => {\n\t\tconst {rtl, scrollMode} = props;\n\t\tconst {scrollContentRef} = instances;\n\t\tconst scrollContentNode = scrollContentRef.current;\n\n\t\tif (scrollMode === 'translate' && scrollContentNode) {\n\t\t\tconst preventScroll = () => {\n\t\t\t\tscrollContentNode.scrollTop = 0;\n\t\t\t\tscrollContentNode.scrollLeft = rtl ? scrollContentNode.scrollWidth : 0;\n\t\t\t};\n\n\t\t\tutilEvent('scroll').addEventListener(scrollContentNode, preventScroll);\n\n\t\t\treturn () => {\n\t\t\t\t// remove a function for preventing native scrolling by Spotlight\n\t\t\t\tutilEvent('scroll').removeEventListener(scrollContentNode, preventScroll);\n\t\t\t};\n\t\t}\n\t}, [props, instances]);\n};\n\nexport default usePreventScroll;\nexport {\n\tusePreventScroll\n};\n","import Spotlight from '@enact/spotlight';\nimport utilDOM from '@enact/ui/useScroll/utilDOM';\nimport {useEffect, useRef} from 'react';\n\nconst useSpotlightConfig = (props, instances) => {\n\t// Hooks\n\n\tuseEffect(() => {\n\t\tfunction lastFocusedPersist () {\n\t\t\tconst {spottable: {current: {lastFocusedIndex}}} = instances;\n\n\t\t\tif (lastFocusedIndex != null) {\n\t\t\t\treturn {\n\t\t\t\t\tcontainer: false,\n\t\t\t\t\telement: true,\n\t\t\t\t\tkey: lastFocusedIndex\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tfunction lastFocusedRestore ({key}, all) {\n\t\t\tconst placeholder = all.find(el => 'vlPlaceholder' in el.dataset);\n\n\t\t\tif (placeholder) {\n\t\t\t\tplaceholder.dataset.index = key;\n\n\t\t\t\treturn placeholder;\n\t\t\t}\n\n\t\t\treturn all.reduce((focused, node) => {\n\t\t\t\treturn focused || Number(node.dataset.index) === key && node;\n\t\t\t}, null);\n\t\t}\n\n\t\tfunction configureSpotlight () {\n\t\t\tconst {spacing, spotlightId} = props;\n\n\t\t\tSpotlight.set(spotlightId, {\n\t\t\t\tenterTo: 'last-focused',\n\t\t\t\t/*\n\t\t\t\t * Returns the data-index as the key for last focused\n\t\t\t\t */\n\t\t\t\tlastFocusedPersist,\n\n\t\t\t\t/*\n\t\t\t\t * Restores the data-index into the placeholder if its the only element. Tries to find a\n\t\t\t\t * matching child otherwise.\n\t\t\t\t */\n\t\t\t\tlastFocusedRestore,\n\n\t\t\t\t/*\n\t\t\t\t * Directs spotlight focus to favor straight elements that are within range of `spacing`\n\t\t\t\t * over oblique elements, like scroll buttons.\n\t\t\t\t */\n\t\t\t\tobliqueMultiplier: spacing > 0 ? spacing : 1\n\t\t\t});\n\t\t}\n\n\t\tconfigureSpotlight();\n\t}, [props, instances]);\n};\n\nconst getNumberValue = (index) => {\n\t// using '+ operator' for string > number conversion based on performance: https://jsperf.com/convert-string-to-number-techniques/7\n\tlet number = +index;\n\t// should return -1 if index is not a number or a negative value\n\treturn number >= 0 ? number : -1;\n};\n\nconst useSpotlightRestore = (props, instances, context) => {\n\tconst {scrollContentRef, spottable} = instances;\n\tconst {focusByIndex, getItemNode} = context;\n\n\t// Mutable value\n\n\tconst mutableRef = useRef({\n\t\tpreservedIndex: false,\n\t\tlastSpotlightDirection: null,\n\t\trestoreLastFocused: false\n\t});\n\n\t// Hooks\n\n\tuseEffect(restoreFocus);\n\n\t// Functions\n\n\tfunction handlePlaceholderFocus (ev) {\n\t\tconst placeholder = ev.currentTarget;\n\n\t\tif (placeholder) {\n\t\t\tconst index = placeholder.dataset.index;\n\n\t\t\tif (index) {\n\t\t\t\tmutableRef.current.preservedIndex = getNumberValue(index);\n\t\t\t\tmutableRef.current.lastSpotlightDirection = null;\n\t\t\t\tmutableRef.current.restoreLastFocused = true;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction isPlaceholderFocused () {\n\t\tconst current = Spotlight.getCurrent();\n\n\t\tif (current && current.dataset.vlPlaceholder && utilDOM.containsDangerously(scrollContentRef.current, current)) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tfunction restoreFocus () {\n\t\tif (\n\t\t\tmutableRef.current.restoreLastFocused &&\n\t\t\t!isPlaceholderFocused()\n\t\t) {\n\t\t\tconst\n\t\t\t\t{spotlightId} = props,\n\t\t\t\titemNode = getItemNode(mutableRef.current.preservedIndex);\n\n\t\t\tif (itemNode) {\n\t\t\t\t// if we're supposed to restore focus and virtual list has positioned a set of items\n\t\t\t\t// that includes lastFocusedIndex, clear the indicator\n\t\t\t\tmutableRef.current.restoreLastFocused = false;\n\n\t\t\t\t// try to focus the last focused item\n\t\t\t\tspottable.current.isScrolledByJump = true;\n\t\t\t\tconst foundLastFocused = focusByIndex(mutableRef.current.preservedIndex, mutableRef.current.lastSpotlightDirection);\n\t\t\t\tspottable.current.isScrolledByJump = false;\n\n\t\t\t\t// but if that fails (because it isn't found or is disabled), focus the container so\n\t\t\t\t// spotlight isn't lost\n\t\t\t\tif (!foundLastFocused) {\n\t\t\t\t\tmutableRef.current.restoreLastFocused = true;\n\t\t\t\t\tSpotlight.focus(spotlightId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction handleRestoreLastFocus ({firstIndex, lastIndex}) {\n\t\tif (mutableRef.current.restoreLastFocused && mutableRef.current.preservedIndex >= firstIndex && mutableRef.current.preservedIndex <= lastIndex) {\n\t\t\trestoreFocus();\n\t\t}\n\t}\n\n\tfunction updateStatesAndBounds ({dataSize, moreInfo, numOfItems}) {\n\t\treturn (mutableRef.current.restoreLastFocused && numOfItems > 0 && mutableRef.current.preservedIndex < dataSize && (\n\t\t\tmutableRef.current.preservedIndex < moreInfo.firstVisibleIndex || mutableRef.current.preservedIndex > moreInfo.lastVisibleIndex\n\t\t));\n\t}\n\n\tfunction setPreservedIndex (index, direction = null) {\n\t\tmutableRef.current.preservedIndex = index;\n\t\tmutableRef.current.lastSpotlightDirection = direction;\n\t\tmutableRef.current.restoreLastFocused = true;\n\t}\n\n\t// Return\n\n\treturn {\n\t\thandlePlaceholderFocus,\n\t\thandleRestoreLastFocus,\n\t\tsetPreservedIndex,\n\t\tupdateStatesAndBounds\n\t};\n};\n\nexport {\n\tuseSpotlightConfig,\n\tuseSpotlightRestore\n};\n","import Spotlight, {getDirection} from '@enact/spotlight';\nimport Accelerator from '@enact/spotlight/Accelerator';\nimport Pause from '@enact/spotlight/Pause';\nimport {getTargetByDirectionFromElement} from '@enact/spotlight/src/target';\nimport {Spottable} from '@enact/spotlight/Spottable';\nimport utilDOM from '@enact/ui/useScroll/utilDOM';\nimport React, {useCallback, useEffect, useRef} from 'react';\n\nimport {dataIndexAttribute} from '../useScroll';\n\nimport {useEventKey} from './useEvent';\nimport usePreventScroll from './usePreventScroll';\nimport {useSpotlightConfig, useSpotlightRestore} from './useSpotlight';\n\nconst SpotlightAccelerator = new Accelerator();\nconst SpotlightPlaceholder = Spottable('div');\n\nconst\n\tnop = () => {},\n\tgetNumberValue = (index) => {\n\t\t// using '+ operator' for string > number conversion based on performance: https://jsperf.com/convert-string-to-number-techniques/7\n\t\tlet number = +index;\n\t\t// should return -1 if index is not a number or a negative value\n\t\treturn number >= 0 ? number : -1;\n\t};\n\nconst useSpottable = (props, instances) => {\n\tconst {scrollMode} = props;\n\tconst {itemRefs, scrollContainerRef, scrollContentHandle} = instances;\n\tconst getItemNode = (index) => {\n\t\tconst itemNode = itemRefs.current[index % scrollContentHandle.current.state.numOfItems];\n\t\treturn (itemNode && parseInt(itemNode.dataset.index) === index) ? itemNode : null;\n\t};\n\n\t// Mutable value\n\n\tconst mutableRef = useRef({\n\t\tisScrolledBy5way: false,\n\t\tisScrolledByJump: false,\n\t\tisWrappedBy5way: false,\n\t\tlastFocusedIndex: null,\n\t\tpause: new Pause('VirtualListBasic')\n\t});\n\n\tconst {pause} = mutableRef.current;\n\n\t// Hooks\n\n\tuseSpotlightConfig(props, {spottable: mutableRef});\n\n\tconst {addGlobalKeyDownEventListener, removeGlobalKeyDownEventListener} = useEventKey(props, instances, {\n\t\thandlePageUpDownKeyDown: () => {\n\t\t\tmutableRef.current.isScrolledBy5way = false;\n\t\t},\n\t\thandleDirectionKeyDown: (ev, eventType, param) => {\n\t\t\tswitch (eventType) {\n\t\t\t\tcase 'acceleratedKeyDown':\n\t\t\t\t\tonAcceleratedKeyDown(param);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'keyDown':\n\t\t\t\t\tif (Spotlight.move(param.direction)) {\n\t\t\t\t\t\tconst nextTargetIndex = Spotlight.getCurrent().dataset.index;\n\n\t\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t\tev.stopPropagation();\n\n\t\t\t\t\t\tif (typeof nextTargetIndex === 'string') {\n\t\t\t\t\t\t\tonAcceleratedKeyDown({...param, nextIndex: getNumberValue(nextTargetIndex)});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'keyLeave':\n\t\t\t\t\tSpotlightAccelerator.reset();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\thandle5WayKeyUp: () => {\n\t\t\tSpotlightAccelerator.reset();\n\t\t},\n\t\tspotlightAcceleratorProcessKey: (ev) => {\n\t\t\treturn SpotlightAccelerator.processKey(ev, nop);\n\t\t}\n\t});\n\n\tconst {\n\t\thandlePlaceholderFocus,\n\t\thandleRestoreLastFocus,\n\t\tsetPreservedIndex,\n\t\tupdateStatesAndBounds\n\t} = useSpotlightRestore(props, {...instances, spottable: mutableRef}, {focusByIndex, getItemNode});\n\n\tfunction pauseSpotlight (bool) {\n\t\tif (bool) {\n\t\t\tpause.pause();\n\t\t} else {\n\t\t\tpause.resume();\n\t\t}\n\t}\n\n\tconst setContainerDisabled = useCallback((bool) => {\n\t\tif (scrollContainerRef.current) {\n\t\t\tscrollContainerRef.current.dataset.spotlightContainerDisabled = bool;\n\n\t\t\tif (bool) {\n\t\t\t\taddGlobalKeyDownEventListener(handleGlobalKeyDown);\n\t\t\t} else {\n\t\t\t\tremoveGlobalKeyDownEventListener();\n\t\t\t}\n\t\t}\n\t}, [addGlobalKeyDownEventListener, handleGlobalKeyDown, removeGlobalKeyDownEventListener, scrollContainerRef]);\n\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\tfunction handleGlobalKeyDown (ev) {\n\t\t// To prevent scrolling by native scroller\n\t\tif (scrollMode === 'native') {\n\t\t\tev.preventDefault();\n\t\t\tev.stopPropagation();\n\t\t}\n\n\t\tsetContainerDisabled(false);\n\t}\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\t// TODO: Fix eslint\n\t\t\tpause.resume(); // eslint-disable-line react-hooks/exhaustive-deps\n\t\t\tSpotlightAccelerator.reset();\n\n\t\t\tsetContainerDisabled(false);\n\t\t};\n\t}, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n\t// Functions\n\n\tfunction onAcceleratedKeyDown ({isWrapped, keyCode, nextIndex, repeat, target}) {\n\t\tconst {cbScrollTo, wrap} = props;\n\t\tconst {dimensionToExtent, primary: {clientSize, itemSize}, scrollPosition, scrollPositionTarget} = scrollContentHandle.current;\n\t\tconst index = getNumberValue(target.dataset.index);\n\t\tconst direction = getDirection(keyCode);\n\n\t\tmutableRef.current.isScrolledBy5way = false;\n\t\tmutableRef.current.isScrolledByJump = false;\n\n\t\tif (nextIndex >= 0 && index >= 0) {\n\t\t\tconst\n\t\t\t\trow = Math.floor(index / dimensionToExtent),\n\t\t\t\tnextRow = Math.floor(nextIndex / dimensionToExtent),\n\t\t\t\tstart = scrollContentHandle.current.getGridPosition(nextIndex).primaryPosition,\n\t\t\t\tend = props.itemSizes ? scrollContentHandle.current.getItemBottomPosition(nextIndex) : start + itemSize,\n\t\t\t\tstartBoundary = (scrollMode === 'native') ? scrollPosition : scrollPositionTarget,\n\t\t\t\tendBoundary = startBoundary + clientSize;\n\n\t\t\tmutableRef.current.lastFocusedIndex = nextIndex;\n\n\t\t\tif (start >= startBoundary && end <= endBoundary) {\n\t\t\t\t// The next item could be still out of viewport. So we need to prevent scrolling into view with `isScrolledBy5way` flag.\n\t\t\t\tmutableRef.current.isScrolledBy5way = true;\n\t\t\t\tfocusByIndex(nextIndex, direction);\n\t\t\t\tmutableRef.current.isScrolledBy5way = false;\n\t\t\t} else if (row === nextRow) {\n\t\t\t\tfocusByIndex(nextIndex, direction);\n\t\t\t} else {\n\t\t\t\tconst itemNode = getItemNode(nextIndex);\n\t\t\t\tconst stickTo = Math.abs(endBoundary - end) < Math.abs(startBoundary - start) ? 'end' : 'start';\n\n\t\t\t\tmutableRef.current.isScrolledBy5way = true;\n\t\t\t\tmutableRef.current.isWrappedBy5way = isWrapped;\n\n\t\t\t\tif (isWrapped && wrap === true && itemNode === null) {\n\t\t\t\t\tpause.pause();\n\t\t\t\t\ttarget.blur();\n\t\t\t\t}\n\t\t\t\tfocusByIndex(nextIndex, direction);\n\n\t\t\t\tcbScrollTo({\n\t\t\t\t\tindex: nextIndex,\n\t\t\t\t\tstickTo,\n\t\t\t\t\tanimate: !(isWrapped && wrap === 'noAnimation')\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (!repeat && Spotlight.move(direction)) {\n\t\t\tSpotlightAccelerator.reset();\n\t\t}\n\t}\n\n\tfunction focusOnNode (node) {\n\t\tif (node) {\n\t\t\treturn Spotlight.focus(node);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tfunction focusByIndex (index, direction) {\n\t\tconst itemNode = getItemNode(index);\n\t\tlet returnVal = false;\n\n\t\tif (!itemNode && index >= 0 && index < props.dataSize) {\n\t\t\t// Item is valid but since the the dom doesn't exist yet, we set the index to focus after the ongoing update\n\t\t\tsetPreservedIndex(index, direction);\n\t\t} else {\n\t\t\tconst\n\t\t\t\tcurrent = Spotlight.getCurrent(),\n\t\t\t\tcandidate = current ? getTargetByDirectionFromElement(direction, current) : itemNode;\n\n\t\t\t// Remove any preservedIndex\n\t\t\tsetPreservedIndex(-1);\n\n\t\t\tif (mutableRef.current.isWrappedBy5way) {\n\t\t\t\tSpotlightAccelerator.reset();\n\t\t\t\tmutableRef.current.isWrappedBy5way = false;\n\t\t\t}\n\n\t\t\tpause.resume();\n\t\t\tif (utilDOM.containsDangerously(itemNode, candidate)) {\n\t\t\t\treturnVal = focusOnNode(candidate);\n\t\t\t} else {\n\t\t\t\treturnVal = focusOnNode(itemNode);\n\t\t\t}\n\t\t\tmutableRef.current.isScrolledBy5way = false;\n\t\t\tmutableRef.current.isScrolledByJump = false;\n\t\t}\n\n\t\treturn returnVal;\n\t}\n\n\tfunction calculatePositionOnFocus ({item, scrollPosition = scrollContentHandle.current.scrollPosition}) {\n\t\tconst\n\n\t\t\t{pageScroll} = props,\n\t\t\t{state: {numOfItems}, primary} = scrollContentHandle.current,\n\t\t\toffsetToClientEnd = primary.clientSize - primary.itemSize,\n\t\t\tfocusedIndex = getNumberValue(item.getAttribute(dataIndexAttribute));\n\n\t\tif (focusedIndex >= 0) {\n\t\t\tlet gridPosition = scrollContentHandle.current.getGridPosition(focusedIndex);\n\n\t\t\tif (numOfItems > 0 && focusedIndex % numOfItems !== mutableRef.current.lastFocusedIndex % numOfItems) {\n\t\t\t\tconst itemNode = getItemNode(mutableRef.current.lastFocusedIndex);\n\n\t\t\t\tif (itemNode) {\n\t\t\t\t\titemNode.blur();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tmutableRef.current.lastFocusedIndex = focusedIndex;\n\n\t\t\tif (primary.clientSize >= primary.itemSize) {\n\t\t\t\tif (gridPosition.primaryPosition > scrollPosition + offsetToClientEnd) { // forward over\n\t\t\t\t\tgridPosition.primaryPosition -= pageScroll ? 0 : offsetToClientEnd;\n\t\t\t\t} else if (gridPosition.primaryPosition >= scrollPosition) { // inside of client\n\t\t\t\t\tif (scrollMode === 'translate') {\n\t\t\t\t\t\tgridPosition.primaryPosition = scrollPosition;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// This code uses the trick to change the target position slightly which will not affect the actual result\n\t\t\t\t\t\t// since a browser ignore `scrollTo` method if the target position is same as the current position.\n\t\t\t\t\t\tgridPosition.primaryPosition = scrollPosition + (scrollContentHandle.current.scrollPosition === scrollPosition ? 0.1 : 0);\n\t\t\t\t\t}\n\t\t\t\t} else { // backward over\n\t\t\t\t\tgridPosition.primaryPosition -= pageScroll ? offsetToClientEnd : 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Since the result is used as a target position to be scrolled,\n\t\t\t// scrondaryPosition should be 0 here.\n\t\t\tgridPosition.secondaryPosition = 0;\n\n\t\t\treturn scrollContentHandle.current.gridPositionToItemPosition(gridPosition);\n\t\t}\n\t}\n\n\tfunction shouldPreventScrollByFocus () {\n\t\treturn ((scrollMode === 'translate') ? (mutableRef.current.isScrolledBy5way) : (mutableRef.current.isScrolledBy5way || mutableRef.current.isScrolledByJump));\n\t}\n\n\tfunction setLastFocusedNode (node) {\n\t\tmutableRef.current.lastFocusedIndex = node.dataset && getNumberValue(node.dataset.index);\n\t}\n\n\tfunction getScrollBounds () {\n\t\treturn scrollContentHandle.current.getScrollBounds();\n\t}\n\n\t// Return\n\n\treturn {\n\t\tcalculatePositionOnFocus,\n\t\tfocusByIndex,\n\t\tfocusOnNode,\n\t\tgetScrollBounds,\n\t\thandlePlaceholderFocus,\n\t\thandleRestoreLastFocus,\n\t\tpauseSpotlight,\n\t\tsetContainerDisabled,\n\t\tsetLastFocusedNode,\n\t\tshouldPreventScrollByFocus,\n\t\tupdateStatesAndBounds\n\t};\n};\n\nconst useThemeVirtualList = (props) => {\n\tconst {itemRefs, scrollContainerRef, scrollContentHandle, scrollContentRef} = props;\n\n\t// Hooks\n\n\tconst instance = {itemRefs, scrollContainerRef, scrollContentHandle, scrollContentRef};\n\n\tconst {\n\t\tcalculatePositionOnFocus,\n\t\tfocusByIndex,\n\t\tfocusOnNode,\n\t\tgetScrollBounds,\n\t\thandlePlaceholderFocus,\n\t\thandleRestoreLastFocus,\n\t\tpauseSpotlight,\n\t\tsetContainerDisabled,\n\t\tsetLastFocusedNode,\n\t\tshouldPreventScrollByFocus,\n\t\tupdateStatesAndBounds\n\t} = useSpottable(props, instance);\n\n\tusePreventScroll(props, instance);\n\n\tconst handle = {\n\t\tcalculatePositionOnFocus,\n\t\tfocusByIndex,\n\t\tfocusOnNode,\n\t\tgetScrollBounds,\n\t\tpauseSpotlight,\n\t\tsetContainerDisabled,\n\t\tsetLastFocusedNode,\n\t\tshouldPreventScrollByFocus\n\t};\n\n\tprops.setThemeScrollContentHandle(handle);\n\n\t// Render\n\n\tconst {itemRenderer, ...rest} = props;\n\n\tdelete rest.focusableScrollbar;\n\tdelete rest.scrollAndFocusScrollbarButton;\n\tdelete rest.scrollContainerContainsDangerously;\n\tdelete rest.scrollContainerHandle;\n\tdelete rest.scrollContainerRef;\n\tdelete rest.scrollContentHandle;\n\tdelete rest.spotlightId;\n\tdelete rest.wrap;\n\n\treturn {\n\t\t...rest,\n\t\titemRenderer: ({index, ...itemRest}) => (\n\t\t\titemRenderer({\n\t\t\t\t...itemRest,\n\t\t\t\t[dataIndexAttribute]: index,\n\t\t\t\tindex\n\t\t\t})\n\t\t),\n\t\tplaceholderRenderer: (primary) => {\n\t\t\treturn placeholderRenderer({\n\t\t\t\thandlePlaceholderFocus,\n\t\t\t\tprimary\n\t\t\t});\n\t\t},\n\t\tonUpdateItems: handleRestoreLastFocus,\n\t\tupdateStatesAndBounds: updateStatesAndBounds\n\t};\n};\n\n/* eslint-disable enact/prop-types */\nfunction placeholderRenderer ({\n\thandlePlaceholderFocus,\n\tprimary\n}) {\n\treturn (primary ? null : (\n\t\t<SpotlightPlaceholder\n\t\t\tdata-index={0}\n\t\t\tdata-vl-placeholder\n\t\t\tkey=\"placeholder\"\n\t\t\t// a zero width/height element can't be focused by spotlight so we're giving\n\t\t\t// the placeholder a small size to ensure it is navigable\n\t\t\tonFocus={handlePlaceholderFocus}\n\t\t\tstyle={{width: 10}}\n\t\t/>\n\t));\n}\n/* eslint-enable enact/prop-types */\n\nexport default useThemeVirtualList;\nexport {\n\tuseThemeVirtualList\n};\n","/**\n * Provides Agate-themed virtual list components and behaviors.\n *\n * @module agate/VirtualList\n * @exports VirtualGridList\n * @exports VirtualList\n */\n\nimport {I18nContextDecorator} from '@enact/i18n/I18nDecorator';\nimport SpotlightContainerDecorator from '@enact/spotlight/SpotlightContainerDecorator';\nimport {ResizeContext} from '@enact/ui/Resizable';\nimport {gridListItemSizeShape, itemSizesShape, VirtualListBasic as UiVirtualListBasic} from '@enact/ui/VirtualList';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport warning from 'warning';\n\nimport useScroll from '../useScroll';\nimport Scrollbar from '../useScroll/Scrollbar';\nimport Skinnable from '../Skinnable';\n\nimport {useThemeVirtualList} from './useThemeVirtualList';\n\nconst nop = () => {};\n\n/**\n * An Agate-styled scrollable and spottable virtual list component.\n *\n * @class VirtualList\n * @memberof agate/VirtualList\n * @extends ui/VirtualList.VirtualListBasic\n * @ui\n * @public\n */\nlet VirtualList = ({itemSize, role, ...rest}) => {\n\tconst props = itemSize && itemSize.minSize ?\n\t\t{\n\t\t\titemSize: itemSize.minSize,\n\t\t\titemSizes: itemSize.size\n\t\t} :\n\t\t{\n\t\t\titemSize\n\t\t};\n\n\twarning(\n\t\t!rest.itemSizes || !rest.cbScrollTo,\n\t\t'VirtualList with `minSize` in `itemSize` prop does not support `cbScrollTo` prop'\n\t);\n\n\t// Hooks\n\n\tconst {\n\t\t// Variables\n\t\tscrollContentWrapper: ScrollContentWrapper,\n\t\tscrollContentHandle,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible,\n\n\t\t// Child Props\n\t\tresizeContextProps,\n\t\tscrollContainerProps,\n\t\tscrollInnerContainerProps,\n\t\tscrollContentWrapperProps,\n\t\tscrollContentProps,\n\t\tverticalScrollbarProps,\n\t\thorizontalScrollbarProps\n\t} = useScroll({...rest, ...props});\n\n\tconst themeScrollContentProps = useThemeVirtualList({\n\t\t...scrollContentProps,\n\t\tfocusableScrollbar: rest.focusableScrollbar,\n\t\trole\n\t});\n\n\treturn (\n\t\t<ResizeContext.Provider {...resizeContextProps}>\n\t\t\t<div {...scrollContainerProps}>\n\t\t\t\t<div {...scrollInnerContainerProps}>\n\t\t\t\t\t<ScrollContentWrapper {...scrollContentWrapperProps}>\n\t\t\t\t\t\t<UiVirtualListBasic {...themeScrollContentProps} ref={scrollContentHandle} />\n\t\t\t\t\t</ScrollContentWrapper>\n\t\t\t\t\t{isVerticalScrollbarVisible ? <Scrollbar {...verticalScrollbarProps} /> : null}\n\t\t\t\t</div>\n\t\t\t\t{isHorizontalScrollbarVisible ? <Scrollbar {...horizontalScrollbarProps} /> : null}\n\t\t\t</div>\n\t\t</ResizeContext.Provider>\n\t);\n};\n\nVirtualList.displayName = 'VirtualList';\n\nVirtualList.propTypes = /** @lends agate/VirtualList.VirtualList.prototype */ {\n\t/**\n\t * Size of an item for the VirtualList; valid value is a number generally.\n\t * For different item size, value is an object that has `minSize`\n\t * and `size` as properties.\n\t * If the direction for the list is vertical, itemSize means the height of an item.\n\t * For horizontal, it means the width of an item.\n\t *\n\t * Usage:\n\t * ```\n\t * <VirtualList itemSize={ri.scale(144)} />\n\t * ```\n\t *\n\t * @type {Number|ui/VirtualList.itemSizesShape}\n\t * @required\n\t * @public\n\t */\n\titemSize: PropTypes.oneOfType([PropTypes.number, itemSizesShape]).isRequired,\n\n\t/**\n\t * A callback function that receives a reference to the `scrollTo` feature.\n\t *\n\t * Once received, the `scrollTo` method can be called as an imperative interface.\n\t *\n\t * The `scrollTo` function accepts the following parameters:\n\t * - {position: {x, y}} - Pixel value for x and/or y position\n\t * - {align} - Where the scroll area should be aligned. Values are:\n\t *   `'left'`, `'right'`, `'top'`, `'bottom'`,\n\t *   `'topleft'`, `'topright'`, `'bottomleft'`, and `'bottomright'`.\n\t * - {index} - Index of specific item. (`0` or positive integer)\n\t *   This option is available for only `VirtualList` kind.\n\t * - {node} - Node to scroll into view\n\t * - {animate} - When `true`, scroll occurs with animation. When `false`, no\n\t *   animation occurs.\n\t * - {focus} - When `true`, attempts to focus item after scroll. Only valid when scrolling\n\t *   by `index` or `node`.\n\t * > Note: Only specify one of: `position`, `align`, `index` or `node`\n\t *\n\t * Example:\n\t * ```\n\t *\t// If you set cbScrollTo prop like below;\n\t *\tcbScrollTo: (fn) => {this.scrollTo = fn;}\n\t *\t// You can simply call like below;\n\t *\tthis.scrollTo({align: 'top'}); // scroll to the top\n\t * ```\n\t *\n\t * @type {Function}\n\t * @public\n\t */\n\tcbScrollTo: PropTypes.func,\n\n\t/**\n\t * This is set to `true` by SpotlightContainerDecorator\n\t *\n\t * @type {Boolean}\n\t * @private\n\t */\n\t'data-spotlight-container': PropTypes.bool,\n\n\t/**\n\t * `false` if the content of the list could get focus\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\t'data-spotlight-container-disabled': PropTypes.bool,\n\n\t/**\n\t * This is passed onto the wrapped component to allow\n\t * it to customize the spotlight container for its use case.\n\t *\n\t * @type {String}\n\t * @private\n\t */\n\t'data-spotlight-id': PropTypes.string,\n\n\t/**\n\t * The layout direction of the list.\n\t *\n\t * @type {('horizontal'|'vertical')}\n\t * @default 'vertical'\n\t * @public\n\t */\n\tdirection: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t/**\n\t * Allows 5-way navigation to the scrollbar controls. By default, 5-way will\n\t * not move focus to the scrollbar controls.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tfocusableScrollbar: PropTypes.bool,\n\n\t/**\n\t * Specifies how to show horizontal scrollbar.\n\t *\n\t * @type {('auto'|'visible'|'hidden')}\n\t * @default 'auto'\n\t * @public\n\t */\n\thorizontalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n\n\t/**\n\t * Unique identifier for the component.\n\t *\n\t * When defined and when the `VirtualList` is within a [Panel]{@link agate/Panels.Panel},\n\t * the `VirtualList` will store its scroll position and restore that position when returning to\n\t * the `Panel`.\n\t *\n\t * @type {String}\n\t * @public\n\t */\n\tid: PropTypes.string,\n\n\t/**\n\t * Prop to check if horizontal Scrollbar exists or not.\n\t *\n\t * @type {Boolean}\n\t * @private\n\t */\n\tisHorizontalScrollbarVisible: PropTypes.bool,\n\n\t/**\n\t * Prop to check if vertical Scrollbar exists or not.\n\t *\n\t * @type {Boolean}\n\t * @private\n\t */\n\tisVerticalScrollbarVisible: PropTypes.bool,\n\n\t/**\n\t * The array for individually sized items.\n\t *\n\t * @type {Number[]}\n\t * @private\n\t */\n\titemSizes: PropTypes.arrayOf(PropTypes.number),\n\n\t/**\n\t * Prevents scroll by wheeling on the list.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tnoScrollByWheel: PropTypes.bool,\n\n\t/**\n\t * Called when scrolling.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * It is not recommended to set this prop since it can cause performance degradation.\n\t * Use `onScrollStart` or `onScrollStop` instead.\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScroll: PropTypes.func,\n\n\t/**\n\t * Called when scroll starts.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * You can get firstVisibleIndex and lastVisibleIndex from VirtualList with `moreInfo`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStart = ({scrollLeft, scrollTop, moreInfo}) => {\n\t *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n\t *     // do something with firstVisibleIndex and lastVisibleIndex\n\t * }\n\t *\n\t * render = () => (\n\t *     <VirtualList\n\t *         ...\n\t *         onScrollStart={this.onScrollStart}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScrollStart: PropTypes.func,\n\n\t/**\n\t * Called when scroll stops.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * You can get firstVisibleIndex and lastVisibleIndex from VirtualList with `moreInfo`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStop = ({scrollLeft, scrollTop, moreInfo}) => {\n\t *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n\t *     // do something with firstVisibleIndex and lastVisibleIndex\n\t * }\n\t *\n\t * render = () => (\n\t *     <VirtualList\n\t *         ...\n\t *         onScrollStop={this.onScrollStop}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScrollStop: PropTypes.func,\n\n\t/**\n\t * When `true`, the list will scroll by page. Otherwise the list will scroll by item.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\tpageScroll: PropTypes.bool,\n\n\t/**\n\t * Specifies preventing keydown events from bubbling up to applications.\n\t * Valid values are `'none'`, and `'programmatic'`.\n\t *\n\t * When it is `'none'`, every keydown event is bubbled.\n\t * When it is `'programmatic'`, an event bubbling is not allowed for a keydown input\n\t * which invokes programmatic spotlight moving.\n\t *\n\t * @type {String}\n\t * @default 'programmatic'\n\t * @private\n\t */\n\tpreventBubblingOnKeyDown: PropTypes.oneOf(['none', 'programmatic']),\n\n\t/**\n\t * The ARIA role for the list.\n\t *\n\t * @type {String}\n\t * @default 'list'\n\t * @public\n\t */\n\trole: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the next button in the vertical scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll down')\n\t * @public\n\t */\n\tscrollDownAriaLabel: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the previous button in the horizontal scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll left')\n\t * @public\n\t */\n\tscrollLeftAriaLabel: PropTypes.string,\n\n\t/**\n\t * Specifies how to scroll.\n\t *\n\t * Valid values are:\n\t * * `'translate'`,\n\t * * `'native'`.\n\t *\n\t * @type {String}\n\t * @default 'translate'\n\t * @public\n\t */\n\tscrollMode: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the next button in the horizontal scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll right')\n\t * @public\n\t */\n\tscrollRightAriaLabel: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the previous button in the vertical scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll up')\n\t * @public\n\t */\n\tscrollUpAriaLabel: PropTypes.string,\n\n\t/**\n\t * Spotlight Id.\n\t *\n\t * @type {String}\n\t * @private\n\t */\n\tspotlightId: PropTypes.string,\n\n\t/**\n\t * Specifies how to show vertical scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {('auto'|'visible'|'hidden')}\n\t * @default 'auto'\n\t * @public\n\t */\n\tverticalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n\n\t/**\n\t * When it's `true` and the spotlight focus cannot move to the given direction anymore by 5-way keys,\n\t * a list is scrolled with an animation to the other side and the spotlight focus moves in wraparound manner.\n\t *\n\t * When it's `'noAnimation'`, the spotlight focus moves in wraparound manner as same as when it's `true`\n\t * except that a list is scrolled without an animation.\n\t *\n\t * Valid values are:\n\t * * `false`,\n\t * * `true`, and\n\t * * `'noAnimation'`\n\t * @type {Boolean|'noAnimation'}\n\t * @default false\n\t * @public\n\t */\n\twrap: PropTypes.oneOfType([\n\t\tPropTypes.bool,\n\t\tPropTypes.oneOf(['noAnimation'])\n\t])\n};\n\nVirtualList = Skinnable(\n\tSpotlightContainerDecorator(\n\t\t{\n\t\t\toverflow: true,\n\t\t\tpreserveId: true,\n\t\t\trestrict: 'self-first'\n\t\t},\n\t\tI18nContextDecorator(\n\t\t\t{rtlProp: 'rtl'},\n\t\t\tVirtualList\n\t\t)\n\t)\n);\n\nVirtualList.defaultProps = {\n\t'data-spotlight-container-disabled': false,\n\tcbScrollTo: nop,\n\tdirection: 'vertical',\n\tfocusableScrollbar: false,\n\thorizontalScrollbar: 'auto',\n\tnoScrollByWheel: false,\n\tonScroll: nop,\n\tonScrollStart: nop,\n\tonScrollStop: nop,\n\tpageScroll: false,\n\tpreventBubblingOnKeyDown: 'programmatic',\n\trole: 'list',\n\tscrollMode: 'translate',\n\tverticalScrollbar: 'auto',\n\twrap: false\n};\n\n/**\n * An Agate-styled scrollable and spottable virtual grid list component.\n *\n * @class VirtualGridList\n * @memberof agate/VirtualList\n * @extends ui/VirtualList.VirtualListBasic\n * @ui\n * @public\n */\nlet VirtualGridList = ({role, ...rest}) => {\n\tconst {\n\t\t// Variables\n\t\tscrollContentWrapper: ScrollContentWrapper,\n\t\tscrollContentHandle,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible,\n\n\t\t// Child Props\n\t\tresizeContextProps,\n\t\tscrollContainerProps,\n\t\tscrollInnerContainerProps,\n\t\tscrollContentWrapperProps,\n\t\tscrollContentProps,\n\t\tverticalScrollbarProps,\n\t\thorizontalScrollbarProps\n\t} = useScroll(rest);\n\n\tconst themeScrollContentProps = useThemeVirtualList({\n\t\t...scrollContentProps,\n\t\tfocusableScrollbar: rest.focusableScrollbar,\n\t\trole\n\t});\n\n\treturn (\n\t\t<ResizeContext.Provider {...resizeContextProps}>\n\t\t\t<div {...scrollContainerProps}>\n\t\t\t\t<div {...scrollInnerContainerProps}>\n\t\t\t\t\t<ScrollContentWrapper {...scrollContentWrapperProps}>\n\t\t\t\t\t\t<UiVirtualListBasic {...themeScrollContentProps} ref={scrollContentHandle} />\n\t\t\t\t\t</ScrollContentWrapper>\n\t\t\t\t\t{isVerticalScrollbarVisible ? <Scrollbar {...verticalScrollbarProps} /> : null}\n\t\t\t\t</div>\n\t\t\t\t{isHorizontalScrollbarVisible ? <Scrollbar {...horizontalScrollbarProps} /> : null}\n\t\t\t</div>\n\t\t</ResizeContext.Provider>\n\t);\n};\n\nVirtualGridList.displayName = 'VirtualGridList';\n\nVirtualGridList.propTypes = /** @lends agate/VirtualList.VirtualGridList.prototype */ {\n\t/**\n\t * Size of an item for the VirtualGridList; valid value is an object that has `minWidth`\n\t * and `minHeight` as properties.\n\t *\n\t * Usage:\n\t * ```\n\t * <VirtualGridList\n\t * \titemSize={{\n\t * \t\tminWidth: ri.scale(360),\n\t * \t\tminHeight: ri.scale(540)\n\t * \t}}\n\t * />\n\t * ```\n\t *\n\t * @type {ui/VirtualList.gridListItemSizeShape}\n\t * @required\n\t * @public\n\t */\n\titemSize: gridListItemSizeShape.isRequired,\n\n\t/**\n\t * A callback function that receives a reference to the `scrollTo` feature.\n\t *\n\t * Once received, the `scrollTo` method can be called as an imperative interface.\n\t *\n\t * The `scrollTo` function accepts the following parameters:\n\t * - {position: {x, y}} - Pixel value for x and/or y position\n\t * - {align} - Where the scroll area should be aligned. Values are:\n\t *   `'left'`, `'right'`, `'top'`, `'bottom'`,\n\t *   `'topleft'`, `'topright'`, `'bottomleft'`, and `'bottomright'`.\n\t * - {index} - Index of specific item. (`0` or positive integer)\n\t *   This option is available for only `VirtualList` kind.\n\t * - {node} - Node to scroll into view\n\t * - {animate} - When `true`, scroll occurs with animation. When `false`, no\n\t *   animation occurs.\n\t * - {focus} - When `true`, attempts to focus item after scroll. Only valid when scrolling\n\t *   by `index` or `node`.\n\t * > Note: Only specify one of: `position`, `align`, `index` or `node`\n\t *\n\t * Example:\n\t * ```\n\t *\t// If you set cbScrollTo prop like below;\n\t *\tcbScrollTo: (fn) => {this.scrollTo = fn;}\n\t *\t// You can simply call like below;\n\t *\tthis.scrollTo({align: 'top'}); // scroll to the top\n\t * ```\n\t *\n\t * @type {Function}\n\t * @public\n\t */\n\tcbScrollTo: PropTypes.func,\n\n\t/**\n\t * This is set to `true` by SpotlightContainerDecorator\n\t *\n\t * @type {Boolean}\n\t * @private\n\t */\n\t'data-spotlight-container': PropTypes.bool,\n\n\t/**\n\t * `false` if the content of the list could get focus\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\t'data-spotlight-container-disabled': PropTypes.bool,\n\n\t/**\n\t * This is passed onto the wrapped component to allow\n\t * it to customize the spotlight container for its use case.\n\t *\n\t * @type {String}\n\t * @private\n\t */\n\t'data-spotlight-id': PropTypes.string,\n\n\t/**\n\t * The layout direction of the list.\n\t *\n\t * @type {('horizontal'|'vertical')}\n\t * @default 'vertical'\n\t * @public\n\t */\n\tdirection: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t/**\n\t * Allows 5-way navigation to the scrollbar controls. By default, 5-way will\n\t * not move focus to the scrollbar controls.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tfocusableScrollbar: PropTypes.bool,\n\n\t/**\n\t * Specifies how to show horizontal scrollbar.\n\t *\n\t * @type {('auto'|'visible'|'hidden')}\n\t * @default 'auto'\n\t * @public\n\t */\n\thorizontalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n\n\n\t/**\n\t * Unique identifier for the component.\n\t *\n\t * When defined and when the `VirtualGridList` is within a [Panel]{@link agate/Panels.Panel},\n\t * the `VirtualGridList` will store its scroll position and restore that position when returning to\n\t * the `Panel`.\n\t *\n\t * @type {String}\n\t * @public\n\t */\n\tid: PropTypes.string,\n\n\t/**\n\t * Prop to check if horizontal Scrollbar exists or not.\n\t *\n\t * @type {Boolean}\n\t * @private\n\t */\n\tisHorizontalScrollbarVisible: PropTypes.bool,\n\n\t/**\n\t * Prop to check if vertical Scrollbar exists or not.\n\t *\n\t * @type {Boolean}\n\t * @private\n\t */\n\tisVerticalScrollbarVisible: PropTypes.bool,\n\n\t/**\n\t * Prevents scroll by wheeling on the list.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tnoScrollByWheel: PropTypes.bool,\n\n\t/**\n\t * Called when scrolling.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * It is not recommended to set this prop since it can cause performance degradation.\n\t * Use `onScrollStart` or `onScrollStop` instead.\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScroll: PropTypes.func,\n\n\t/**\n\t * Called when scroll starts.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * You can get firstVisibleIndex and lastVisibleIndex from VirtualGridList with `moreInfo`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStart = ({scrollLeft, scrollTop, moreInfo}) => {\n\t *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n\t *     // do something with firstVisibleIndex and lastVisibleIndex\n\t * }\n\t *\n\t * render = () => (\n\t *     <VirtualGridList\n\t *         ...\n\t *         onScrollStart={this.onScrollStart}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScrollStart: PropTypes.func,\n\n\t/**\n\t * Called when scroll stops.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * You can get firstVisibleIndex and lastVisibleIndex from VirtualGridList with `moreInfo`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStop = ({scrollLeft, scrollTop, moreInfo}) => {\n\t *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n\t *     // do something with firstVisibleIndex and lastVisibleIndex\n\t * }\n\t *\n\t * render = () => (\n\t *     <VirtualGridList\n\t *         ...\n\t *         onScrollStop={this.onScrollStop}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScrollStop: PropTypes.func,\n\n\t/**\n\t * When `true`, the list will scroll by page. Otherwise the list will scroll by item.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\tpageScroll: PropTypes.bool,\n\n\t/**\n\t * Specifies preventing keydown events from bubbling up to applications.\n\t * Valid values are `'none'`, and `'programmatic'`.\n\t *\n\t * When it is `'none'`, every keydown event is bubbled.\n\t * When it is `'programmatic'`, an event bubbling is not allowed for a keydown input\n\t * which invokes programmatic spotlight moving.\n\t *\n\t * @type {String}\n\t * @default 'programmatic'\n\t * @private\n\t */\n\tpreventBubblingOnKeyDown: PropTypes.oneOf(['none', 'programmatic']),\n\n\t/**\n\t * The ARIA role for the list.\n\t *\n\t * @type {String}\n\t * @default 'list'\n\t * @public\n\t */\n\trole: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the next button in the vertical scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll down')\n\t * @public\n\t */\n\tscrollDownAriaLabel: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the previous button in the horizontal scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll left')\n\t * @public\n\t */\n\tscrollLeftAriaLabel: PropTypes.string,\n\n\t/**\n\t * Specifies how to scroll.\n\t *\n\t * Valid values are:\n\t * * `'translate'`,\n\t * * `'native'`.\n\t *\n\t * @type {String}\n\t * @default 'translate'\n\t * @public\n\t */\n\tscrollMode: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the next button in the horizontal scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll right')\n\t * @public\n\t */\n\tscrollRightAriaLabel: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the previous button in the vertical scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll up')\n\t * @public\n\t */\n\tscrollUpAriaLabel: PropTypes.string,\n\n\t/**\n\t * Spotlight Id.\n\t *\n\t * @type {String}\n\t * @private\n\t */\n\tspotlightId: PropTypes.string,\n\n\t/**\n\t * Specifies how to show vertical scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {('auto'|'visible'|'hidden')}\n\t * @default 'auto'\n\t * @public\n\t */\n\tverticalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n\n\t/**\n\t * When it's `true` and the spotlight focus cannot move to the given direction anymore by 5-way keys,\n\t * a list is scrolled with an animation to the other side and the spotlight focus moves in wraparound manner.\n\t *\n\t * When it's `'noAnimation'`, the spotlight focus moves in wraparound manner as same as when it's `true`\n\t * except that a list is scrolled without an animation.\n\t *\n\t * Valid values are:\n\t * * `false`,\n\t * * `true`, and\n\t * * `'noAnimation'`\n\t *\n\t * @type {Boolean|'noAnimation'}\n\t * @default false\n\t * @public\n\t */\n\twrap: PropTypes.oneOfType([\n\t\tPropTypes.bool,\n\t\tPropTypes.oneOf(['noAnimation'])\n\t])\n};\n\nVirtualGridList = Skinnable(\n\tSpotlightContainerDecorator(\n\t\t{\n\t\t\toverflow: true,\n\t\t\tpreserveId: true,\n\t\t\trestrict: 'self-first'\n\t\t},\n\t\tI18nContextDecorator(\n\t\t\t{rtlProp: 'rtl'},\n\t\t\tVirtualGridList\n\t\t)\n\t)\n);\n\nVirtualGridList.defaultProps = {\n\t'data-spotlight-container-disabled': false,\n\tcbScrollTo: nop,\n\tdirection: 'vertical',\n\tfocusableScrollbar: false,\n\thorizontalScrollbar: 'auto',\n\tnoScrollByWheel: false,\n\tonScroll: nop,\n\tonScrollStart: nop,\n\tonScrollStop: nop,\n\tpageScroll: false,\n\tpreventBubblingOnKeyDown: 'programmatic',\n\trole: 'list',\n\tscrollMode: 'translate',\n\tverticalScrollbar: 'auto',\n\twrap: false\n};\n\nexport default VirtualList;\nexport {\n\tVirtualGridList,\n\tVirtualList\n};\n","/**\n * A component for instantiating a section of content with a title.\n *\n * @example\n * <Heading spacing=\"none\">\n *   A Content Section Heading\n * </Heading>\n *\n * @module ui/Heading\n * @exports Heading\n */\n\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport css from './Heading.module.less';\n\n/**\n * A labeled Heading component.\n *\n * @class Heading\n * @memberof ui/Heading\n * @ui\n * @public\n */\nconst Heading = kind({\n\tname: 'ui:Heading',\n\n\tpropTypes: /** @lends ui/Heading.Heading.prototype */ {\n\t\t/**\n\t\t * The text for the label of the Heading.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `heading` - The root component class\n\t\t * * `title` - Applied when `size` is set to \"title\"\n\t\t * * `subtitle` - Applied when `size` is set to \"subtitle\"\n\t\t * * `large` - Applied when `size` is set to \"large\"\n\t\t * * `medium` - Applied when `size` is set to \"medium\"\n\t\t * * `small` - Applied when `size` is set to \"small\"\n\t\t * * `tiny` - Applied when `size` is set to \"tiny\"\n\t\t * * `largeSpacing` - Applied when `spacing` is set to \"large\"\n\t\t * * `mediumSpacing` - Applied when `spacing` is set to \"medium\"\n\t\t * * `smallSpacing` - Applied when `spacing` is set to \"small\"\n\t\t * * `noneSpacing` - Applied when `spacing` is set to \"none\"\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Set the size of this component.\n\t\t *\n\t\t * * `'title'` and `'subtitle'` are generally considered to be used only once on a given screen.\n\t\t * * `'large'`, `'medium'`, `'small'`, and `'tiny'` are typically used as section headings\n\t\t * for content on a screen, starting with `'large'` for the first tier of information\n\t\t * followed by `'medium'` for the next, and so fourth.\n\t\t *\n\t\t * If the `spacing` prop is not set (defaulting to \"auto\"), these values automatically set\n\t\t * the spacing to the correlated names.\n\t\t *\n\t\t * @type {('title'|'subtitle'|'large'|'medium'|'small'|'tiny')}\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['title', 'subtitle', 'large', 'medium', 'small', 'tiny']),\n\n\t\t/**\n\t\t * The size of the spacing around the Heading.\n\t\t *\n\t\t * These have no built-in measurements, as they are intended to be defined by the theme\n\t\t * consuming this UI element. The values correlate with customizable classes made available\n\t\t * by this component's `css` prop.\n\t\t *\n\t\t * Allowed values include:\n\t\t * * `'auto'` (default) - Lets this value be based on the `size` prop for automatic usage.\n\t\t * * `'large'` - Specifically assign the `'large'` spacing.\n\t\t * * `'medium'` - Specifically assign the `'medium'` spacing.\n\t\t * * `'small'` - Specifically assign the `'small'` spacing.\n\t\t * * `'none'` - No spacing at all. Neighboring elements will directly touch the Heading.\n\t\t *\n\t\t * @type {('auto'|'large'|'medium'|'small'|'none')}\n\t\t * @default 'auto'\n\t\t * @public\n\t\t */\n\t\tspacing: PropTypes.oneOf(['auto', 'large', 'medium', 'small', 'none'])\n\t},\n\n\tdefaultProps: {\n\t\tsize: 'medium',\n\t\tspacing: 'auto'\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'heading',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\t// This logic is intended to have the following result:\n\t\t// Apply a class for the current 'size'. Use the 'size' to determine the spacing, unless a\n\t\t// \"non-auto\" spacing value was specified.\n\t\tclassName: ({size, spacing, styler}) => styler.append(size, {[(spacing !== 'auto' ? spacing : (size || 'none')) + 'Spacing']: true}),\n\t\tTag: ({size}) => {\n\t\t\tswitch (size) {\n\t\t\t\tcase 'title':    return 'h1';\n\t\t\t\tcase 'subtitle': return 'h2';\n\t\t\t\tcase 'large':    return 'h3';\n\t\t\t\tcase 'medium':   return 'h4';\n\t\t\t\tcase 'small':    return 'h5';\n\t\t\t\tcase 'tiny':     return 'h6';\n\t\t\t}\n\t\t}\n\t},\n\n\trender: ({Tag, ...rest}) => {\n\t\tdelete rest.size;\n\t\tdelete rest.spacing;\n\n\t\treturn (\n\t\t\t<Tag {...rest} />\n\t\t);\n\t}\n});\n\nexport default Heading;\nexport {\n\tHeading\n};\n","/**\n * Agate styled labeled Heading components and behaviors\n *\n * @example\n * <Heading\n *   size=\"large\"\n *   spacing=\"small\"\n * >\n *   A Content Section Heading\n * </Heading>\n *\n * @module agate/Heading\n * @exports Heading\n * @exports HeadingBase\n * @exports HeadingDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport Pure from '@enact/ui/internal/Pure';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport UiHeading from '@enact/ui/Heading';\n\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './Heading.module.less';\n\n/**\n * A labeled Heading component.\n *\n * This component is most often not used directly but may be composed within another component as it\n * is within [Heading]{@link agate/Heading.Heading}.\n *\n * @class HeadingBase\n * @memberof agate/Heading\n * @ui\n * @public\n */\nconst HeadingBase = kind({\n\tname: 'Heading',\n\n\tpropTypes: /** @lends agate/Heading.HeadingBase.prototype */ {\n\t\t/**\n\t\t * Set a custom color to be used by the Heading when `size` is \"title\".\n\t\t * Defaults to the current accent color if none is specified.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tcolor: PropTypes.string,\n\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Adds a horizontal-rule (line) under the component\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tshowLine: PropTypes.bool,\n\n\t\t/**\n\t\t * The size of the spacing around the Heading.\n\t\t *\n\t\t * Allowed values include:\n\t\t * * `'auto'` - Value is based on the `size` prop for automatic usage.\n\t\t * * `'title'` - Specifically assign the `'title'` spacing.\n\t\t * * `'large'` - Specifically assign the `'large'` spacing.\n\t\t * * `'medium'` - Specifically assign the `'medium'` spacing.\n\t\t * * `'small'` - Specifically assign the `'small'` spacing.\n\t\t * * `'none'` - No spacing at all. Neighboring elements will directly touch the Heading.\n\t\t *\n\t\t * @type {('auto'|'title'|'large'|'medium'|'small'|'none')}\n\t\t * @default 'auto'\n\t\t * @public\n\t\t */\n\t\tspacing: PropTypes.oneOf(['auto', 'title', 'large', 'medium', 'small', 'none'])\n\t},\n\n\tdefaultProps: {\n\t\tspacing: 'auto'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'heading'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({showLine, styler}) => styler.append({showLine}),\n\t\tstyle: ({color, style}) => ({\n\t\t\t...style,\n\t\t\t'--agate-heading-accent': color\n\t\t})\n\t},\n\n\trender: ({css, ...rest}) => {\n\t\tdelete rest.color;\n\t\tdelete rest.showLine;\n\t\treturn UiHeading.inline({css, ...rest});\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [HeadingBase]{@link agate/Heading.HeadingBase}.\n *\n * @hoc\n * @memberof agate/Heading\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst HeadingDecorator = compose(\n\tPure,\n\tSkinnable\n);\n\n/**\n * A labeled Heading component, ready to use in Agate applications.\n *\n * `Heading` may be used as a header to group related components.\n *\n * Usage:\n * ```\n * <Heading\n *   spacing=\"medium\"\n * >\n *   Related Settings\n * </Heading>\n * <CheckboxItem>A Setting</CheckboxItem>\n * <CheckboxItem>A Second Setting</CheckboxItem>\n * ```\n *\n * @class Heading\n * @memberof agate/Heading\n * @extends agate/Heading.HeadingBase\n * @mixes agate/Heading.HeadingDecorator\n * @ui\n * @public\n */\nconst Heading = HeadingDecorator(HeadingBase);\n\nexport default Heading;\nexport {\n\tHeading,\n\tHeadingBase,\n\tHeadingDecorator\n};\n","/* global ILIB_AGATE_PATH */\n\nimport {getIStringFromBundle} from '@enact/i18n/src/resBundle';\nimport ResBundle from 'ilib/lib/ResBundle';\n\n// The ilib.ResBundle for the active locale used by $L\nlet resBundle;\n\n/**\n * Returns the current ilib.ResBundle\n *\n * @returns {ilib.ResBundle} Current ResBundle\n */\nfunction getResBundle () {\n\treturn resBundle;\n}\n\n/**\n * Creates a new ilib.ResBundle for string translation\n *\n * @param  {ilib.Locale} locale Locale for ResBundle\n *\n * @returns {Promise|ResBundle} Resolves with a new ilib.ResBundle\n */\nfunction createResBundle (options = {}) {\n\tlet opts = options;\n\n\tif (typeof ILIB_AGATE_PATH !== 'undefined') {\n\t\topts.basePath = ILIB_AGATE_PATH;\n\t}\n\n\tif (!opts.onLoad) return;\n\n\t// eslint-disable-next-line no-new\n\tnew ResBundle({\n\t\t...opts,\n\t\tonLoad: (bundle) => {\n\t\t\topts.onLoad(bundle || null);\n\t\t}\n\t});\n}\n\n/**\n * Deletes the current bundle object of strings and clears the cache.\n * @returns {undefined}\n */\nfunction clearResBundle () {\n\tdelete ResBundle.strings;\n\tdelete ResBundle.sysres;\n\tresBundle = null;\n}\n\n/**\n * Set the locale for the strings that $L loads. This may reload the\n * string resources if necessary.\n *\n * @param {string} spec the locale specifier\n * @returns {ilib.ResBundle} Current ResBundle\n */\nfunction setResBundle (bundle) {\n\treturn (resBundle = bundle);\n}\n\nfunction toIString (str) {\n\tlet rb = getResBundle();\n\n\tif (!rb) {\n\t\tcreateResBundle({sync: true, onLoad: setResBundle});\n\t\trb = getResBundle();\n\t}\n\n\treturn getIStringFromBundle(str, rb);\n}\n\n/**\n * Maps a string or key/value object to a translated string for the current locale.\n *\n * @function\n * @memberof i18n/$L\n * @param  {String|Object} str Source string\n *\n * @returns {String} The translated string\n */\nfunction $L (str) {\n\treturn String(toIString(str));\n}\n\nexport default $L;\nexport {\n\t$L,\n\tclearResBundle,\n\tcreateResBundle,\n\tsetResBundle\n};\n","import React from 'react';\nimport warning from 'warning';\n\n// ** WARNING ** This is an intentional but likely dangerous hack necessary to clone a child while\n// omitting the `slot` property. It relies on the black box structure of a React element which could\n// change breaking this code. Without it, the slot property will cascade to a DOM node causing a\n// React warning.\nfunction cloneElement (child, index) {\n\tconst newProps = Object.assign({}, child.props);\n\tdelete newProps.slot;\n\tnewProps.key = `slot-${index}`;\n\n\treturn React.createElement(child.type, newProps);\n}\n\nfunction distributeChild (child, index, slots, props) {\n\tlet c, slot;\n\tconst hasSlot = (name) => slots.indexOf(name) !== -1;\n\n\tif (!React.isValidElement(child)) {\n\t\treturn false;\n\t} else if (child.props.slot) {\n\t\tconst hasUserSlot = hasSlot(slot = child.props.slot);\n\t\twarning(hasUserSlot, 'The slot \"%s\" specified on %s does not exist', child.props.slot,\n\t\t\ttypeof child.type === 'string' ? child.type : (child.type.name || child.type.displayName || 'component')\n\t\t);\n\n\t\tif (hasUserSlot) {\n\t\t\tc = cloneElement(child, index);\n\t\t}\n\t} else if (hasSlot(slot = child.type.defaultSlot)) {\n\t\tc = child;\n\t} else if (hasSlot(slot = child.type)) {\n\t\tconst propNames = Object.keys(child.props);\n\t\tif (propNames.length === 1 && propNames[0] === 'children') {\n\t\t\tc = child.props.children;\n\t\t} else {\n\t\t\tc = child;\n\t\t}\n\t}\n\n\tif (c) {\n\t\tlet prop = props[slot];\n\t\tif (prop) {\n\t\t\tif (Array.isArray(prop)) {\n\t\t\t\tprop.push(c);\n\t\t\t} else {\n\t\t\t\tprop = [prop, c];\n\t\t\t}\n\t\t} else {\n\t\t\tprop = c;\n\t\t}\n\t\tprops[slot] = prop;\n\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n\nfunction distribute ({children, ...slots}) {\n\tconst slotNames = Object.keys(slots);\n\tconst props = {\n\t\tchildren\n\t};\n\n\tif (slotNames.length > 0) {\n\t\tconst remaining = [];\n\t\tReact.Children.forEach(children, (child, index) => {\n\t\t\tif (!distributeChild(child, index, slotNames, props)) {\n\t\t\t\tremaining.push(child);\n\t\t\t}\n\t\t});\n\n\t\t// we need to retain the children prop so that it can overwrite the value from props if the\n\t\t// author spreads the return of useSlots over props\n\t\tprops.children = remaining.length === 0 ? null : remaining;\n\t}\n\n\tslotNames.forEach(slot => {\n\t\tif (slots[slot] === undefined) { // eslint-disable-line no-undefined\n\t\t\tdelete slots[slot];\n\t\t}\n\t});\n\n\t// We handle fallback here (rather than at the props initialization) because distributeChild\n\t// will append to existing props and we want the distributed value to override the fallback\n\t// value.\n\treturn {\n\t\t...slots,\n\t\t...props\n\t};\n}\n\n/**\n * Configuration for `useSlots`\n *\n * @typedef {Object} useSlotsConfig\n * @memberof ui/Slottable\n * @property {Object} [slots] An object mapping slot names to default values. It must contain a\n *                            `children` key with an array of elements to be distributed into slots.\n * @private\n */\n\n/**\n * Distributes `children` into the configured `slots`.\n *\n * `useSlots` iterates over all of the `children` in `props` and distributes any children based on\n * the followig rules:\n *\n * * If the child has a `slot` property matching a valid slot, or\n * * If the component for the child has the `defaultSlot` static member matching a valid slot, or\n * * If the child component's type is a string matching a valid slot.\n *\n * When a child matches one of the above rules, it is removed from children and inserted into a prop\n * matching the name of the slot.\n *\n * *Special Conditions*\n *\n * * If multiple children match the same slot, the destination prop will be an array of children.\n * * If a value exists on `props` but not as a slot within `children`, the prop value is used as a\n *   fallback.\n * * If a value exists both on `props` and as a slot within `children`, the slot value(s) replaces\n *   the prop value.\n *\n * ```\n * function Component ({after, before, children, label, ...rest}) {\n *   const slots = useSlots({after, before, children, label});\n *\n *   return (\n *     <div {...rest} aria-label={label}>\n *       <span class=\"before\">{slots.before}</span>\n *       {slots.children}\n *       <span class=\"after\">{slots.after}</span>\n *     </div>\n *   );\n * }\n *\n * <Component label=\"descriptive label\">\n *   <Icon slot=\"before\">star</Icon>\n *   Some other content\n *   <Icon slot=\"after\">flag</Icon>\n * </Component>\n * ```\n *\n * @param {useSlotsConfig} config Configuration options\n * @returns {Object} A object whose keys are the slot names and values are the nodes from\n *                   `children`. If any nodes were not assigned to a slot, they will be returned in\n *                   the `children` prop. If no nodes remain, the `children` prop will be omitted.\n * @memberof ui/Slottable\n * @private\n */\nfunction useSlots (slots) {\n\treturn distribute(slots);\n}\n\nexport default useSlots;\nexport {\n\tuseSlots\n};\n","/**\n * Provides a higher-order component that render child components into pre-designated slots.\n *\n * See [SlotItem]{@link ui/SlotItem.SlotItemDecorator} for the use of `Slottable`.\n *\n * @module ui/Slottable\n * @exports Slottable\n */\n\nimport hoc from '@enact/core/hoc';\nimport React from 'react';\n\nimport useSlots from './useSlots';\n\n/**\n * Default config for `Slottable`.\n *\n * @memberof ui/Slottable.Slottable\n * @hocconfig\n * @public\n */\nconst defaultConfig = {\n\t/**\n\t * Array of slot names which will be extracted from `children` and distributed to props.\n\t *\n\t * @type {String[]}\n\t * @memberof ui/Slottable.Slottable.defaultConfig\n\t */\n\tslots: null\n};\n\n/**\n * A higher-order component that allows wrapped components to separate children into pre-designated 'slots'.\n *\n * To use `Slottable`, you must configure it by passing in a config object with the `slots` member set to an\n * array of slot names.  Any children whose `slot` or `defaultSlot` property matches a named slot or whose\n * type matches a named slot will be placed into a property of the same name on the wrapped component.\n *\n * @class Slottable\n * @memberof ui/Slottable\n * @hoc\n * @public\n */\nconst Slottable = hoc(defaultConfig, (config, Wrapped) => {\n\tconst slots = config.slots;\n\n\t// eslint-disable-next-line no-shadow\n\treturn function Slottable (props) {\n\t\t// extract the slots into a new object but populating the default value to be undefined so\n\t\t// the key exists in order to allow the current \"harmful\" behavior below. Must be undefined\n\t\t// in order to trigger defaultProps on downstream components.\n\t\tconst slotProps = {children: props.children};\n\t\tslots.forEach(k => (slotProps[k] = undefined)); // eslint-disable-line no-undefined\n\n\t\t// Slottable allows there to be other values in the destination slot and merges them.\n\t\t// However, consumers can't avoid key warnings when merging the two lists so we should\n\t\t// \"consider this harmful\" and not continue to support this with the hook and instead\n\t\t// encourage using the slot as the default with the prop as a fallback as implemented by the\n\t\t// hook.\n\t\tconst distributed = useSlots(slotProps);\n\t\tslots.forEach(slot => {\n\t\t\tconst dist = distributed[slot];\n\t\t\tconst prop = props[slot];\n\t\t\tif (prop != null && dist != null) {\n\t\t\t\tdistributed[slot] = [].concat(prop, dist);\n\t\t\t} else if (prop != null) {\n\t\t\t\tdistributed[slot] = prop;\n\t\t\t}\n\t\t});\n\n\t\treturn (\n\t\t\t<Wrapped {...props} {...distributed} />\n\t\t);\n\t};\n});\n\nexport default Slottable;\nexport {\n\tSlottable,\n\tuseSlots\n};\n","/*\n * A javascript-based implementation of Spatial Navigation.\n *\n * Copyright (c) 2016 Luke Chang.\n * https://github.com/luke-chang/js-spatial-navigation\n *\n * Licensed under the MPL license.\n */\n\n/**\n * Exports the {@link spotlight.Spotlight} object used for controlling spotlight behavior and the\n * {@link spotlight.Spotlight.getDirection} function for mapping a keycode to a spotlight direction.\n *\n * The default export is {@link spotlight.Spotlight}.\n *\n * @module spotlight\n * @exports default Spotlight\n * @exports getDirection\n */\n\nimport {is} from '@enact/core/keymap';\nimport {isWindowReady} from '@enact/core/snapshot';\nimport platform from '@enact/core/platform';\nimport last from 'ramda/src/last';\n\nimport Accelerator from '../Accelerator';\nimport {spottableClass} from '../Spottable';\nimport {isPaused, pause, resume} from '../Pause';\n\nimport {\n\taddContainer,\n\tconfigureContainer,\n\tconfigureDefaults,\n\tgetAllContainerIds,\n\tgetContainerConfig,\n\tgetContainerId,\n\tgetContainerLastFocusedElement,\n\tgetContainerNode,\n\tgetContainersForNode,\n\tgetLastContainer,\n\tgetSpottableDescendants,\n\tisContainer,\n\tisContainer5WayHoldable,\n\tisNavigable,\n\tisWithinOverflowContainer,\n\tmayActivateContainer,\n\tnotifyLeaveContainer,\n\tnotifyLeaveContainerFail,\n\tnotifyEnterContainer,\n\tremoveAllContainers,\n\tremoveContainer,\n\trootContainerId,\n\tsetContainerLastFocusedElement,\n\tsetContainerPreviousTarget,\n\tsetDefaultContainer,\n\tsetLastContainer,\n\tsetLastContainerFromTarget,\n\tunmountContainer\n} from './container';\n\nimport {\n\tgetLastPointerPosition,\n\tgetPointerMode,\n\thasPointerMoved,\n\tnotifyKeyDown,\n\tnotifyPointerMove,\n\tsetPointerMode\n} from './pointer';\n\nimport {\n\tgetNavigableTarget,\n\tgetNearestTargetFromPosition,\n\tgetTargetByContainer,\n\tgetTargetByDirectionFromElement,\n\tgetTargetByDirectionFromPosition,\n\tgetTargetBySelector,\n\tisFocusable\n} from './target';\n\nimport {\n\tmatchSelector,\n\tparseSelector\n} from './utils';\n\nconst isDown = is('down');\nconst isEnter = is('enter');\nconst isLeft = is('left');\nconst isRight = is('right');\nconst isUp = is('up');\n\n/**\n * Translates keyCodes into 5-way direction descriptions (e.g. `'down'`)\n *\n * @function\n * @memberof spotlight\n * @param {Number} keyCode - Key code to analyze\n * @returns {String|false} - One of `'up'`, `'down'`, `'left'`, `'right'` or `false` if not a direction key\n * @public\n */\nconst getDirection = function (keyCode) {\n\treturn\tisDown(keyCode) && 'down' ||\n\t\t\tisLeft(keyCode) && 'left' ||\n\t\t\tisRight(keyCode) && 'right' ||\n\t\t\tisUp(keyCode) && 'up';\n};\n\n\nconst SpotlightAccelerator = new Accelerator();\n\n/**\n * Provides 5-way navigation and focus support\n *\n * ```\n * import Spotlight from '@enact/Spotlight';\n *\n * // get the currently focused component\n * const current = Spotlight.getCurrent();\n *\n * // focus an element by CSS selector\n * Spotlight.focus('.my-custom-class');\n *\n * // is `current` focusable?\n * const isFocused = Spotlight.isSpottable(current);\n * ```\n *\n * @type {Object}\n * @memberof spotlight\n * @public\n */\nconst Spotlight = (function () {\n\t'use strict';\n\n\t/*\n\t/* private vars\n\t*/\n\tlet _initialized = false;\n\tlet _duringFocusChange = false;\n\n\t/*\n\t * Whether a 5-way directional key is being held.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t */\n\tlet _5WayKeyHold = false;\n\n\t/*\n\t * Whether to set focus during the next window focus event\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t */\n\tlet _spotOnWindowFocus = false;\n\n\t/*\n\t * `true` when a pointer move event occurs during a keypress. Used to short circuit key down\n\t * handling until the next keyup occurs.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t */\n\tlet _pointerMoveDuringKeyPress = false;\n\n\t/*\n\t* protected methods\n\t*/\n\n\tfunction preventDefault (evt) {\n\t\tevt.preventDefault();\n\t\tevt.stopPropagation();\n\t\treturn false;\n\t}\n\n\tfunction shouldPreventNavigation () {\n\t\treturn isPaused() || getAllContainerIds().length === 0;\n\t}\n\n\tfunction getCurrent () {\n\t\tif (!isWindowReady()) return;\n\n\t\tlet activeElement = document.activeElement;\n\t\tif (activeElement && activeElement !== document.body) {\n\t\t\treturn activeElement;\n\t\t}\n\t}\n\n\t// An extension point for updating pointer mode based on the current platform.\n\t// Currently only webOS\n\tfunction setPlatformPointerMode () {\n\t\tconst palmSystem = window.PalmSystem;\n\t\tif (palmSystem && palmSystem.cursor) {\n\t\t\tsetPointerMode(palmSystem.cursor.visibility);\n\t\t}\n\t}\n\n\tfunction focusElement (elem, containerIds, fromPointer) {\n\t\tif (!elem) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif ((getPointerMode() && !fromPointer)) {\n\t\t\tsetContainerLastFocusedElement(elem, containerIds);\n\t\t\treturn false;\n\t\t}\n\n\t\tlet currentFocusedElement = getCurrent();\n\n\t\tif (elem === currentFocusedElement) {\n\t\t\treturn true;\n\t\t}\n\n\t\tconst focusOptions = isWithinOverflowContainer(elem, containerIds) ? {preventScroll: true} : null;\n\n\t\tlet silentFocus = function () {\n\t\t\telem.focus(focusOptions);\n\t\t\tfocusChanged(elem, containerIds);\n\t\t};\n\n\t\tif (_duringFocusChange) {\n\t\t\tsilentFocus();\n\t\t\treturn true;\n\t\t}\n\n\t\t_duringFocusChange = true;\n\n\t\tif (isPaused()) {\n\t\t\tsilentFocus();\n\t\t\t_duringFocusChange = false;\n\t\t\treturn true;\n\t\t}\n\n\t\telem.focus(focusOptions);\n\n\t\t_duringFocusChange = false;\n\n\t\tfocusChanged(elem, containerIds);\n\t\treturn true;\n\t}\n\n\tfunction focusChanged (elem, containerIds) {\n\t\tif (!containerIds || !containerIds.length) {\n\t\t\tcontainerIds = getContainersForNode(elem);\n\t\t}\n\t\tconst containerId = last(containerIds);\n\t\tif (containerId) {\n\t\t\tsetContainerLastFocusedElement(elem, containerIds);\n\t\t\tsetLastContainer(containerId);\n\t\t}\n\n\t\tif (__DEV__) {\n\t\t\tassignFocusPreview(elem);\n\t\t}\n\t}\n\n\tfunction restoreFocus () {\n\t\tconst lastContainerId = getLastContainer();\n\t\tlet next;\n\n\t\tif (lastContainerId) {\n\t\t\tconst position = getLastPointerPosition();\n\n\t\t\t// walk up the chain of containers from the last to attempt to find a target\n\t\t\tnext = getContainersForNode(getContainerNode(lastContainerId)).reverse();\n\n\t\t\t// only prepend last focused if it exists so that Spotlight.focus() doesn't receive\n\t\t\t// a falsy target\n\t\t\tconst lastFocused = getContainerConfig(lastContainerId).overflow && getNearestTargetFromPosition(position, lastContainerId) ||\n\t\t\t\tgetContainerLastFocusedElement(lastContainerId);\n\n\t\t\tif (lastFocused) {\n\t\t\t\tnext.unshift(lastFocused);\n\t\t\t}\n\t\t} else {\n\t\t\tnext = [rootContainerId];\n\t\t}\n\n\t\t// attempt to find a target starting with the last focused element in the last\n\t\t// container, followed by the last container, and finally the root container\n\t\treturn next.reduce((focused, target) => focused || Spotlight.focus(target), false);\n\t}\n\n\t// The below should be gated on non-production environment only.\n\tfunction assignFocusPreview (elem) {\n\t\tconst directions = ['up', 'right', 'down', 'left'],\n\t\t\tnextClassBase = spottableClass + '-next-';\n\n\t\t// Remove all previous targets\n\t\tdirections.forEach((dir) => {\n\t\t\tconst nextClass = nextClassBase + dir,\n\t\t\t\tprevElems = parseSelector('.' + nextClass);\n\t\t\tif (prevElems && prevElems.length !== 0) {\n\t\t\t\tprevElems.forEach(prevElem => prevElem.classList.remove(nextClass));\n\t\t\t}\n\t\t});\n\n\t\t// Find all next targets and identify them\n\t\tdirections.forEach((dir) => {\n\t\t\tconst nextElem = getTargetByDirectionFromElement(dir, elem);\n\t\t\tif (nextElem) {\n\t\t\t\tnextElem.classList.add(nextClassBase + dir);\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction spotNextFromPoint (direction, position) {\n\t\tconst containerId = Spotlight.getActiveContainer();\n\t\tconst next = getTargetByDirectionFromPosition(direction, position, containerId);\n\n\t\tif (next) {\n\t\t\tsetContainerPreviousTarget(\n\t\t\t\tcontainerId,\n\t\t\t\tdirection,\n\t\t\t\tnext,\n\t\t\t\tgetContainerLastFocusedElement(containerId)\n\t\t\t);\n\n\t\t\treturn focusElement(next, getContainersForNode(next));\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tfunction spotNext (direction, currentFocusedElement, currentContainerIds) {\n\t\tconst next = getTargetByDirectionFromElement(direction, currentFocusedElement);\n\n\t\tif (next) {\n\t\t\tconst currentContainerId = last(currentContainerIds);\n\t\t\tconst nextContainerIds = getContainersForNode(next);\n\n\t\t\t// prevent focus if 5-way is being held and the next element isn't wrapped by\n\t\t\t// the current element's immediate container\n\t\t\tif (_5WayKeyHold && nextContainerIds.indexOf(currentContainerId) < 0 && !isContainer5WayHoldable(currentContainerId)) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tnotifyLeaveContainer(\n\t\t\t\tdirection,\n\t\t\t\tcurrentFocusedElement,\n\t\t\t\tcurrentContainerIds,\n\t\t\t\tnext,\n\t\t\t\tnextContainerIds\n\t\t\t);\n\n\t\t\tsetContainerPreviousTarget(\n\t\t\t\tcurrentContainerId,\n\t\t\t\tdirection,\n\t\t\t\tnext,\n\t\t\t\tcurrentFocusedElement\n\t\t\t);\n\n\t\t\tconst focused = focusElement(next, nextContainerIds);\n\n\t\t\tnotifyEnterContainer(\n\t\t\t\tdirection,\n\t\t\t\tcurrentFocusedElement,\n\t\t\t\tcurrentContainerIds,\n\t\t\t\tnext,\n\t\t\t\tnextContainerIds\n\t\t\t);\n\n\t\t\treturn focused;\n\t\t}\n\n\t\tnotifyLeaveContainerFail(direction, currentFocusedElement, currentContainerIds);\n\n\t\treturn false;\n\t}\n\n\tfunction onAcceleratedKeyDown (evt) {\n\t\tconst direction = getDirection(evt.keyCode);\n\n\t\tif (!direction) return;\n\n\t\tconst currentFocusedElement = getCurrent();\n\t\tconst currentContainerIds = getContainersForNode(currentFocusedElement);\n\n\t\tspotNext(direction, currentFocusedElement, currentContainerIds);\n\t}\n\n\tfunction onBlur () {\n\t\tconst current = getCurrent();\n\n\t\tif (current) {\n\t\t\tcurrent.blur();\n\t\t}\n\t\tSpotlight.setPointerMode(false);\n\t\t_spotOnWindowFocus = true;\n\t\t_pointerMoveDuringKeyPress = false;\n\t}\n\n\tfunction handleWebOSMouseEvent (ev) {\n\t\tif (!isPaused() && ev && ev.detail && ev.detail.type === 'Leave') {\n\t\t\tonBlur();\n\t\t}\n\t}\n\n\tfunction handleKeyboardStateChangeEvent ({visibility}) {\n\t\tif (!visibility) {\n\t\t\tsetPlatformPointerMode();\n\t\t}\n\t}\n\n\tfunction onFocus () {\n\t\t// Normally, there isn't focus here unless the window has been blurred above. On webOS, the\n\t\t// platform may focus the window after the app has already focused a component so we prevent\n\t\t// trying to focus something else (potentially) unless the window was previously blurred\n\t\tif (_spotOnWindowFocus) {\n\t\t\tsetPlatformPointerMode();\n\n\t\t\t// If the window was previously blurred while in pointer mode, the last active containerId may\n\t\t\t// not have yet set focus to its spottable elements. For this reason we can't rely on setting focus\n\t\t\t// to the last focused element of the last active containerId, so we use rootContainerId instead\n\t\t\tlet lastFocusedElement = getContainerLastFocusedElement(rootContainerId);\n\t\t\twhile (isContainer(lastFocusedElement)) {\n\t\t\t\t({lastFocusedElement} = getContainerConfig(lastFocusedElement));\n\t\t\t}\n\n\t\t\tif (!Spotlight.focus(lastFocusedElement)) {\n\t\t\t\t// If the last focused element was previously also disabled (or no longer exists), we\n\t\t\t\t// need to set focus somewhere\n\t\t\t\tSpotlight.focus();\n\t\t\t}\n\t\t\t_spotOnWindowFocus = false;\n\t\t}\n\t}\n\n\tfunction onKeyUp (evt) {\n\t\t_pointerMoveDuringKeyPress = false;\n\t\tconst keyCode = evt.keyCode;\n\n\t\tif (getDirection(keyCode) || isEnter(keyCode)) {\n\t\t\tSpotlightAccelerator.reset();\n\t\t\t_5WayKeyHold = false;\n\t\t}\n\t}\n\n\tfunction handlePointerHide () {\n\t\tif (!getCurrent()) {\n\t\t\trestoreFocus();\n\t\t}\n\t}\n\n\tfunction onKeyDown (evt) {\n\t\tif (shouldPreventNavigation()) {\n\t\t\tnotifyKeyDown(evt.keyCode);\n\t\t\treturn;\n\t\t}\n\n\t\tconst keyCode = evt.keyCode;\n\t\tconst direction = getDirection(keyCode);\n\t\tconst pointerHandled = notifyKeyDown(keyCode, handlePointerHide);\n\n\t\tif (pointerHandled || !(direction || isEnter(keyCode))) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!isPaused() && !_pointerMoveDuringKeyPress) {\n\t\t\tif (getCurrent()) {\n\t\t\t\tSpotlightAccelerator.processKey(evt, onAcceleratedKeyDown);\n\t\t\t} else if (!spotNextFromPoint(direction, getLastPointerPosition())) {\n\t\t\t\trestoreFocus();\n\t\t\t}\n\t\t\t_5WayKeyHold = true;\n\t\t}\n\n\t\tif (direction) {\n\t\t\tpreventDefault(evt);\n\t\t}\n\t}\n\n\tfunction onMouseMove ({target, clientX, clientY}) {\n\t\tif (shouldPreventNavigation()) {\n\t\t\tnotifyPointerMove(null, target, clientX, clientY);\n\t\t\treturn;\n\t\t}\n\n\t\tconst current = getCurrent();\n\t\tconst update = notifyPointerMove(current, target, clientX, clientY);\n\n\t\tif (update) {\n\t\t\tif (_5WayKeyHold) {\n\t\t\t\t_pointerMoveDuringKeyPress = true;\n\t\t\t}\n\n\t\t\tconst next = getNavigableTarget(target);\n\n\t\t\t// TODO: Consider encapsulating this work within focusElement\n\t\t\tif (next !== current) {\n\t\t\t\tif (next) {\n\t\t\t\t\tfocusElement(next, getContainersForNode(next), true);\n\n\t\t\t\t\treturn true;\n\t\t\t\t} else if (current) {\n\t\t\t\t\tcurrent.blur();\n\t\t\t\t\tsetLastContainerFromTarget(current, target);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction onMouseOver (evt) {\n\t\tif (shouldPreventNavigation()) return;\n\n\t\tconst {target} = evt;\n\n\t\tif (getPointerMode() && hasPointerMoved(evt.clientX, evt.clientY)) {\n\t\t\tconst next = getNavigableTarget(target); // account for child controls\n\n\t\t\tif (next && next !== getCurrent()) {\n\t\t\t\tfocusElement(next, getContainersForNode(next), true);\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tpreventDefault(evt);\n\t\t}\n\t}\n\n\tfunction onTouchEnd (evt) {\n\t\tconst current = getCurrent();\n\t\tif (current && !current.contains(evt.target)) {\n\t\t\tcurrent.blur();\n\t\t}\n\t}\n\n\t/*\n\t * public methods\n\t */\n\tconst exports = /** @lends spotlight.Spotlight */ { // eslint-disable-line no-shadow\n\t\t/**\n\t\t * Initializes Spotlight. This is generally handled by\n\t\t * {@link spotlight/SpotlightRootDecorator.SpotlightRootDecorator}.\n\t\t *\n\t\t * @param {Object} containerDefaults Default configuration for new spotlight containers\n\t\t * @returns {undefined}\n\t\t * @public\n\t\t */\n\t\tinitialize: function (containerDefaults) {\n\t\t\tif (!_initialized) {\n\t\t\t\twindow.addEventListener('blur', onBlur);\n\t\t\t\twindow.addEventListener('focus', onFocus);\n\t\t\t\twindow.addEventListener('keydown', onKeyDown);\n\t\t\t\twindow.addEventListener('keyup', onKeyUp);\n\t\t\t\twindow.addEventListener('mouseover', onMouseOver);\n\t\t\t\twindow.addEventListener('mousemove', onMouseMove);\n\n\t\t\t\tif (platform.touch) {\n\t\t\t\t\twindow.addEventListener('touchend', onTouchEnd);\n\t\t\t\t}\n\n\t\t\t\tif (platform.webos) {\n\t\t\t\t\twindow.top.document.addEventListener('webOSMouse', handleWebOSMouseEvent);\n\t\t\t\t\twindow.top.document.addEventListener('keyboardStateChange', handleKeyboardStateChangeEvent);\n\t\t\t\t}\n\n\t\t\t\tsetLastContainer(rootContainerId);\n\t\t\t\tconfigureDefaults(containerDefaults);\n\t\t\t\tconfigureContainer(rootContainerId);\n\t\t\t\t// by default, pointer mode is off but the platform's current state will override that\n\t\t\t\tsetPointerMode(false);\n\t\t\t\tsetPlatformPointerMode();\n\t\t\t\t_initialized = true;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Terminates Spotlight. This is generally handled by {@link spotlight.SpotlightRootDecorator}.\n\t\t *\n\t\t * @public\n\t\t */\n\t\tterminate: function () {\n\t\t\twindow.removeEventListener('blur', onBlur);\n\t\t\twindow.removeEventListener('focus', onFocus);\n\t\t\twindow.removeEventListener('keydown', onKeyDown);\n\t\t\twindow.removeEventListener('keyup', onKeyUp);\n\t\t\twindow.removeEventListener('mouseover', onMouseOver);\n\t\t\twindow.removeEventListener('mousemove', onMouseMove);\n\n\t\t\tif (platform.touch) {\n\t\t\t\twindow.removeEventListener('touchend', onTouchEnd);\n\t\t\t}\n\n\t\t\tif (platform.webos) {\n\t\t\t\twindow.top.document.removeEventListener('webOSMouse', handleWebOSMouseEvent);\n\t\t\t\twindow.top.document.removeEventListener('keyboardStateChange', handleKeyboardStateChangeEvent);\n\t\t\t}\n\t\t\tSpotlight.clear();\n\t\t\t_initialized = false;\n\t\t},\n\n\t\t/**\n\t\t * Resets spotlight container information\n\t\t *\n\t\t * @private\n\t\t */\n\t\tclear: function () {\n\t\t\tremoveAllContainers();\n\t\t\tsetDefaultContainer();\n\t\t\tsetLastContainer();\n\t\t\t_duringFocusChange = false;\n\t\t},\n\n\t\t// set(<config>);\n\t\t// set(<containerId>, <config>);\n\t\t/**\n\t\t * Sets the config for spotlight or the specified containerID\n\t\t *\n\t\t * @function\n\t\t * @param {String|Object} containerIdOrConfig  Configuration object or container ID\n\t\t * @param {Object}        [config]             Configuration object if container ID supplied\n\t\t *                                             in `containerIdOrConfig`\n\t\t * @returns {undefined}\n\t\t * @public\n\t\t */\n\t\tset: configureContainer,\n\n\t\t// add(<config>);\n\t\t// add(<containerId>, <config>);\n\t\t/**\n\t\t * Adds the config for a new container. The container ID may be passed in the configuration\n\t\t * object. If no container ID is supplied, a new container ID will be generated.\n\t\t *\n\t\t * @function\n\t\t * @param {String|Object} containerIdOrConfig  Configuration object or container ID\n\t\t * @param {Object}        [config]             Configuration object if container ID supplied\n\t\t *                                             in `containerIdOrConfig`\n\t\t * @returns {String} The container ID of the container\n\t\t * @public\n\t\t */\n\t\tadd: addContainer,\n\n\t\tunmount: function (containerId) {\n\t\t\tif (!containerId || typeof containerId !== 'string') {\n\t\t\t\tthrow new Error('Please assign the \"containerId\"!');\n\t\t\t}\n\t\t\tunmountContainer(containerId);\n\t\t},\n\n\t\t/**\n\t\t * Removes a container from Spotlight\n\t\t *\n\t\t * @param {String} containerId Container ID to remove\n\t\t * @returns {Boolean} `true` if container removed, `false` if container does not exist\n\t\t * @public\n\t\t */\n\t\tremove: function (containerId) {\n\t\t\tif (!containerId || typeof containerId !== 'string') {\n\t\t\t\tthrow new Error('Please assign the \"containerId\"!');\n\t\t\t}\n\t\t\tif (getContainerConfig(containerId)) {\n\t\t\t\tremoveContainer(containerId);\n\t\t\t\tif (getLastContainer() === containerId) {\n\t\t\t\t\tSpotlight.setActiveContainer(null);\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\t/**\n\t\t * Disables the selector rules of the specified container\n\t\t *\n\t\t * @param {String} containerId Container ID selector rules to disable\n\t\t * @returns {Boolean} `true` if container's selector rules are disabled, `false` if container does not exist\n\t\t * @public\n\t\t */\n\t\tdisableSelector: function (containerId) {\n\t\t\tif (isContainer(containerId)) {\n\t\t\t\tconfigureContainer(containerId, {selectorDisabled: false});\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\t/**\n\t\t * Enables the selector rules of the specified container\n\t\t *\n\t\t * @param {String} containerId Container ID selector rules to enable\n\t\t * @returns {Boolean} `true` if container's selector rules are enabled, `false` if container does not exist\n\t\t * @public\n\t\t */\n\t\tenableSelector: function (containerId) {\n\t\t\tif (isContainer(containerId)) {\n\t\t\t\tconfigureContainer(containerId, {selectorDisabled: false});\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\t/**\n\t\t * Pauses Spotlight\n\t\t *\n\t\t * @function\n\t\t * @returns {undefined}\n\t\t * @public\n\t\t */\n\t\tpause,\n\n\t\t/**\n\t\t * Resumes Spotlight\n\t\t *\n\t\t * @function\n\t\t * @returns {undefined}\n\t\t * @public\n\t\t */\n\t\tresume,\n\n\t\t// focus()\n\t\t// focus(<containerId>)\n\t\t// focus(<extSelector>)\n\t\t/**\n\t\t * Focuses the specified component ID, container ID, element selector, or the default\n\t\t * container.\n\t\t *\n\t\t * If Spotlight is in pointer mode, focus is not changed but `elem` will be set as the last\n\t\t * focused element of its spotlight containers.\n\t\t *\n\t\t * @param {String|Node} [elem] The spotlight ID or selector for either a spottable\n\t\t *  component or a spotlight container, or spottable node. If not supplied, the default\n\t\t *  container will be focused.\n\t\t * @returns {Boolean} `true` if focus successful, `false` if not.\n\t\t * @public\n\t\t */\n\t\tfocus: function (elem) {\n\t\t\tlet target = elem;\n\t\t\tlet wasContainerId = false;\n\n\t\t\tif (!elem) {\n\t\t\t\ttarget = getTargetByContainer();\n\t\t\t} else if (typeof elem === 'string') {\n\t\t\t\tif (getContainerConfig(elem)) {\n\t\t\t\t\ttarget = getTargetByContainer(elem);\n\t\t\t\t\twasContainerId = true;\n\t\t\t\t} else if (/^[\\w\\d-]+$/.test(elem)) {\n\t\t\t\t\t// support component IDs consisting of alphanumeric, dash, or underscore\n\t\t\t\t\ttarget = getTargetBySelector(`[data-spotlight-id=${elem}]`);\n\t\t\t\t} else {\n\t\t\t\t\ttarget = getTargetBySelector(elem);\n\t\t\t\t}\n\t\t\t} else if (isContainer(elem)) {\n\t\t\t\ttarget = getTargetByContainer(getContainerId(elem));\n\t\t\t}\n\n\t\t\tconst nextContainerIds = getContainersForNode(target);\n\t\t\tconst nextContainerId = last(nextContainerIds);\n\t\t\tif (isNavigable(target, nextContainerId, true)) {\n\t\t\t\tconst focused = focusElement(target, nextContainerIds);\n\n\t\t\t\tif (!focused && wasContainerId) {\n\t\t\t\t\tsetLastContainer(elem);\n\t\t\t\t}\n\n\t\t\t\treturn focused;\n\t\t\t} else if (wasContainerId) {\n\t\t\t\t// if we failed to find a spottable target within the provided container, we'll set\n\t\t\t\t// it as the active container to allow it to focus itself if its contents change\n\t\t\t\tsetLastContainer(elem);\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\t// move(<direction>)\n\t\t// move(<direction>, <selector>)\n\t\t/**\n\t\t * Moves focus to the next spottable control in the direction specified. Optionally, a source\n\t\t * element selector may be supplied as the starting point.\n\t\t *\n\t\t * @param {String} direction Direction to move, one of `'left'`, `'right'`, `'up'` or `'down'`\n\t\t * @param {String|undefined} selector If supplied, the element to move from. If not supplied,\n\t\t *\tthe currently focused item will be used.\n\t\t * @returns {Boolean} `true` if focus successful, `false` if not.\n\t\t * @public\n\t\t */\n\t\tmove: function (direction, selector) {\n\t\t\tdirection = direction.toLowerCase();\n\t\t\tif (direction !== 'up' && direction !== 'down' && direction !== 'left' && direction !== 'right') {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst elem = selector ? parseSelector(selector)[0] : getCurrent();\n\t\t\tif (!elem) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst containerIds = getContainersForNode(elem);\n\t\t\tif (!containerIds.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn spotNext(direction, elem, containerIds);\n\t\t},\n\n\t\t/**\n\t\t * Sets or clears the default container that will receive focus.\n\t\t *\n\t\t * @function\n\t\t * @param {String} [containerId] The container ID or a falsy value to clear default\n\t\t *                               container\n\t\t * @returns {undefined}\n\t\t * @public\n\t\t */\n\t\tsetDefaultContainer,\n\n\t\t/**\n\t\t * Gets the currently active container.\n\t\t *\n\t\t * @returns {String} The id of the currently active container\n\t\t * @public\n\t\t */\n\t\tgetActiveContainer: function () {\n\t\t\treturn getLastContainer() || rootContainerId;\n\t\t},\n\n\t\t/**\n\t\t * Sets the currently active container.\n\t\t *\n\t\t * Note: If the current container is restricted to 'self-only' and `containerId` is not\n\t\t * contained within the current container then the active container will not be updated.\n\t\t *\n\t\t * @param {String} [containerId] The id of the currently active container. If this is not\n\t\t *\tprovided, the root container is set as the currently active container.\n\t\t * @public\n\t\t */\n\t\tsetActiveContainer: function (containerId) {\n\t\t\tif (mayActivateContainer(containerId)) {\n\t\t\t\tsetLastContainer(containerId || rootContainerId);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Gets the current pointer mode\n\t\t *\n\t\t * @function\n\t\t * @returns {Boolean} `true` if spotlight is in pointer mode\n\t\t * @public\n\t\t */\n\t\tgetPointerMode,\n\n\t\t/**\n\t\t * Sets the current pointer mode\n\t\t *\n\t\t * @function\n\t\t * @param {Boolean} pointerMode The value of the pointer mode. This determines how\n\t\t *\tspotlight manages focus change behaviors.\n\t\t * @public\n\t\t */\n\t\tsetPointerMode,\n\n\t\t/**\n\t\t * Gets the muted mode value of a spottable element.\n\t\t *\n\t\t * @param {Object} elem The dom element used to determine the muted status.\n\t\t * @returns {Boolean} `true` if the passed-in control is in muted mode.\n\t\t * @public\n\t\t */\n\t\tisMuted: function (elem) {\n\t\t\tif (!elem) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn matchSelector('[data-spotlight-container-muted=\"true\"] .' + spottableClass, elem);\n\t\t},\n\n\t\t/**\n\t\t * Determines whether Spotlight is currently paused.\n\t\t *\n\t\t * @function\n\t\t * @returns {Boolean} `true` if Spotlight is currently paused.\n\t\t * @public\n\t\t */\n\t\tisPaused,\n\n\t\t/**\n\t\t * Determines whether an element is spottable.\n\t\t *\n\t\t * @param {Object} elem The dom element used to determine the spottable status.\n\t\t * @returns {Boolean} `true` if the element being evaluated is currently spottable.\n\t\t * @public\n\t\t */\n\t\tisSpottable: function (elem) {\n\t\t\tif (!elem) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn isFocusable(elem);\n\t\t},\n\n\t\t/**\n\t\t * Returns the currently spotted control.\n\t\t *\n\t\t * @returns {Node} The control that currently has focus, if available\n\t\t * @public\n\t\t */\n\t\tgetCurrent: function () {\n\t\t\treturn getCurrent();\n\t\t},\n\n\t\t/**\n\t\t * Returns a list of spottable elements wrapped by the supplied container.\n\t\t *\n\t\t * @param {String} containerId The id of the container used to determine the list of spottable elements\n\t\t * @returns {Node[]} The spottable elements that are wrapped by the supplied container\n\t\t * @public\n\t\t */\n\t\tgetSpottableDescendants: function (containerId) {\n\t\t\tif (!containerId || typeof containerId !== 'string') {\n\t\t\t\tthrow new Error('Please assign the \"containerId\"!');\n\t\t\t}\n\n\t\t\treturn getSpottableDescendants(containerId);\n\t\t}\n\t};\n\n\treturn exports;\n\n})();\n\nexport default Spotlight;\nexport {\n\tgetDirection,\n\tSpotlight\n};\n","/* eslint-disable react/sort-prop-types */\n\n/**\n * A higher-order component that adds state management for a single prop via a single event handler.\n *\n * @module ui/Changeable\n * @exports Changeable\n */\n\nimport {forProp, forward, handle} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport {cap} from '@enact/core/util';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport warning from 'warning';\n\n/**\n * Default config for {@link ui/Changeable.Changeable}.\n *\n * @memberof ui/Changeable.Changeable\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Configures the prop name to pass the callback to change the value\n\t *\n\t * @type {String}\n\t * @default 'onChange'\n\t * @memberof ui/Changeable.Changeable.defaultConfig\n\t */\n\tchange: 'onChange',\n\n\t/**\n\t * Configures the prop name to pass the current value\n\t *\n\t * @type {String}\n\t * @default 'value'\n\t * @memberof ui/Changeable.Changeable.defaultConfig\n\t */\n\tprop: 'value'\n};\n\n/**\n * A higher-order component that adds state management to a component for a single prop via\n * a single event callback.\n *\n * Applying `Changeable` to a component will pass two additional props: the current value from state\n * and an event callback to invoke when the value changes. By default, the value is passed in the\n * `value` prop and the callback is passed in the `onChange` callback but both are configurable\n * through the HOC config object.\n *\n * If `value` is passed to `Changeable`, the HOC assumes that the value is managed elsewhere and it\n * will not update its internal state. To set an initial value, use `defaultValue` instead.\n *\n * To update the value from the wrapped component, call `onChange` with an object containing a\n * `value` member with the new value. `Changeable` will update its internal state and pass the\n * updated value back down to the wrapped component.\n *\n * *Note:* If the `prop` is overridden, the property names to set the default value and current\n * value change correspondingly.\n *\n * @class Changeable\n * @memberof ui/Changeable\n * @hoc\n * @public\n */\nconst Changeable = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {prop, change} = config;\n\tconst defaultPropKey = 'default' + cap(prop);\n\n\treturn class extends React.PureComponent {\n\t\tstatic displayName = 'Changeable';\n\n\t\tstatic propTypes = /** @lends ui/Changeable.Changeable.prototype */ {\n\t\t\t/**\n\t\t\t * Called to notify `Changeable` that the value has changed.\n\t\t\t *\n\t\t\t * The event object must contain a property with the same name as the configured `prop`.\n\t\t\t *\n\t\t\t * @name onChange\n\t\t\t * @memberof ui/Changeable.Changeable.prototype\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\t[change]: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * The value set at construction when the value prop is `undefined` or `null`.\n\t\t\t *\n\t\t\t * This prop is consumed by `Changeable` and not passed onto the wrapped component.\n\t\t\t *\n\t\t\t * @name defaultValue\n\t\t\t * @memberof ui/Changeable.Changeable.prototype\n\t\t\t * @type {*}\n\t\t\t * @public\n\t\t\t */\n\t\t\t[defaultPropKey]: PropTypes.any,\n\n\t\t\t/**\n\t\t\t * The current value.\n\t\t\t *\n\t\t\t * When set at construction, the component is considered \"controlled\" and will only\n\t\t\t * update its internal value when updated by new props. If `undefined`, the component is\n\t\t\t * \"uncontrolled\" and `Changeable` will manage the value using callbacks defined by its\n\t\t\t * configuration.\n\t\t\t *\n\t\t\t * @type {*}\n\t\t\t * @public\n\t\t\t */\n\t\t\t[prop]: PropTypes.any,\n\n\t\t\t/**\n\t\t\t * Prevents updates to the internal state of `Changeable`.\n\t\t\t *\n\t\t\t * `disabled` is forwarded on to the wrapped component.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tdisabled: PropTypes.bool\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\tdisabled: false\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.state = {\n\t\t\t\trendered: false,\n\t\t\t\tvalue: null,\n\t\t\t\tcontrolled: prop in props\n\t\t\t};\n\n\t\t\twarning(\n\t\t\t\t!(prop in props && defaultPropKey in props),\n\t\t\t\t`Do not specify both '${prop}' and '${defaultPropKey}' for Changeable instances. '${defaultPropKey}' will be ignored.\n\t\t\t\t'${defaultPropKey}' will be ignored unless '${prop}' is 'null' or 'undefined'.`\n\t\t\t);\n\t\t}\n\n\t\tstatic getDerivedStateFromProps (props, state) {\n\t\t\tif (state.rendered === false) {\n\t\t\t\treturn {\n\t\t\t\t\trendered: true,\n\t\t\t\t\tvalue: props[prop] != null ? props[prop] : props[defaultPropKey]\n\t\t\t\t};\n\t\t\t} else if (state.controlled) {\n\t\t\t\tif (state.value !== props[prop]) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tvalue: props[prop]\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\twarning(\n\t\t\t\t!(typeof props[prop] !== 'undefined'),\n\t\t\t\t`'${prop}' specified for an uncontrolled instance of Changeable and will be\n\t\t\t\tignored. To make this instance of Changeable controlled, '${prop}' should be\n\t\t\t\tspecified at creation.`\n\t\t\t);\n\n\t\t\treturn null;\n\t\t}\n\n\t\thandle = handle.bind(this);\n\n\t\thandleChange = this.handle(\n\t\t\tforProp('disabled', false),\n\t\t\tforward(change),\n\t\t\t({[prop]: value}) => {\n\t\t\t\tif (!this.state.controlled) {\n\t\t\t\t\tthis.setState(({value: oldValue}) => value !== oldValue ? {value} : null);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\trender () {\n\t\t\tconst props = Object.assign({}, this.props);\n\t\t\tif (change) props[change] = this.handleChange;\n\t\t\tif (prop) props[prop] = this.state.value;\n\t\t\tdelete props[defaultPropKey];\n\n\t\t\treturn <Wrapped {...props} />;\n\t\t}\n\t};\n});\n\nexport default Changeable;\nexport {\n\tChangeable\n};\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 710;","/* eslint-env browser,es6 */\n/*\n * zoneinfo.js - represent a binary zone info file\n *\n * Copyright © 2014 LG Electronics, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * The portion of this code that parses the zone info file format is derived\n * from the code in the node-zoneinfo project by Gregory McWhirter licensed\n * under the MIT license:\n *\n * Copyright (c) 2013 Gregory McWhirter\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject\n * to the following conditions:\n\n * The above copyright notice and this permission notice shall be included\n * in all copies or substantial portions of the Software.\n\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR\n * OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nconst\n\tPackedBuffer = require('./packedbuffer.js');\n\nconst _platform = (typeof PalmSystem !== 'undefined') ? 'webos' : 'browser';\n\n/**\n * Represents a binary zone info file of the sort that the Unix Zone Info Compiler\n * produces.\n * @constructor\n * @param {string} path path to the file to be loaded\n * @param {number} year year of the zone info rules needed\n */\nlet ZoneInfoFile = function (path) {\n\tlet that = this;\n\tswitch (_platform) {\n\t\t/*\n\t\tUncomment and use this when enyo works for binary load.\n\t\tcase 'enyo':\n\t\t\tlet ajax = new enyo.Ajax({\n\t\t\t\txhrFields: {\n\t\t\t\t\tresponseType:'arraybuffer'\n\t\t\t\t},\n\t\t\t\tcacheBust: false,\n\t\t\t\tsync: true,\n\t\t\t\thandleAs: 'binary',\n\t\t\t\turl: 'file://' + path\n\t\t\t});\n\t\t\tajax.response(this, function (s, r) {\n\t\t\t\tlet byteArray = new Uint8Array(r);\n\t\t\t\t// console.log('ZoneInfoFile bytes received: ' + byteArray.length);\n\t\t\t\tthat._parseInfo(byteArray);\n\t\t\t});\n\t\t\t//ajax.error(this, function (s, r) {\n\t\t\t//\tconsole.log('ZoneInfoFile: failed to load files ' + JSON.stringify(s) + ' ' + r);\n\t\t\t//});\n\t\t\tajax.go();\n\t\t\tbreak;\n\t\t*/\n\n\t\tdefault: {\n\t\t\t// use normal web techniques for sync binary data fetching\n\t\t\t// see https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Sending_and_Receiving_Binary_Data\n\t\t\tlet req = new XMLHttpRequest();\n\t\t\treq.open('GET', 'file:' + path, false);\n\t\t\treq.overrideMimeType('text/plain; charset=x-user-defined');\n\t\t\treq.onload = function () {\n\t\t\t\tlet byteArray = new Uint8Array(req.response.length);\n\t\t\t\tfor (let i = 0; i < req.response.length; i++) {\n\t\t\t\t\tbyteArray[i] = req.response.charCodeAt(i) & 0xff;\n\t\t\t\t}\n\t\t\t\t// console.log('ZoneInfoFile bytes received: ' + byteArray.length);\n\t\t\t\tthat._parseInfo(byteArray);\n\t\t\t};\n\t\t\treq.onerror = function () {\n\t\t\t\tthrow new Error('Cannot load file ' + path);\n\t\t\t};\n\t\t\treq.send();\n\t\t\tbreak;\n\t\t}\n\t}\n};\n\n/**\n * @private\n * Parse the binary buffer to find the zone info\n * @param {Buffer} buffer The buffer to process\n * @returns {void}\n */\nZoneInfoFile.prototype._parseInfo = function (buffer) {\n\tlet packed = new PackedBuffer(buffer);\n\n\t// The time zone information files used by tzset(3)\n\t// begin with the magic characters 'TZif' to identify\n\t// them as time zone information files, followed by\n\t// sixteen bytes reserved for future use, followed by\n\t// six four-byte values of type long, written in a\n\t// ''standard'' byte order (the high-order byte\n\t// of the value is written first).\n\tif (packed.getString(4) !== 'TZif') {\n\t\tthrow new Error('file format not recognized');\n\t} else {\n\t\t// ignore 16 bytes\n\t\tpacked.skip(16);\n\n\t\t/* eslint-disable camelcase */\n\t\t// The number of UTC/local indicators stored in the file.\n\t\tlet tzh_ttisgmtcnt = packed.getLong();\n\t\t// The number of standard/wall indicators stored in the file.\n\t\tlet tzh_ttisstdcnt = packed.getLong();\n\t\t// The number of leap seconds for which data is stored in the file.\n\t\tlet tzh_leapcnt = packed.getLong();\n\t\t// The number of 'transition times' for which data is stored in the file.\n\t\tlet tzh_timecnt = packed.getLong();\n\t\t// The number of 'local time types' for which data is stored in the file (must not be zero).\n\t\tlet tzh_typecnt = packed.getLong();\n\t\t// The number of characters of 'time zone abbreviation strings' stored in the file.\n\t\tlet tzh_charcnt = packed.getLong();\n\n\t\tthis.transitionTimes = tzh_timecnt ? packed.getLongs(tzh_timecnt) : [];\n\n\t\tthis.transitionTimes = this.transitionTimes.map(function (item) {\n\t\t\treturn item * 1000;\n\t\t});\n\n\t\t// these are indexes into the zonesInfo that correspond to each transition time\n\t\tthis.ruleIndex = tzh_timecnt ? packed.getUnsignedBytes(tzh_timecnt) : [];\n\n\t\tthis.zoneInfo = [];\n\t\tfor (let i = 0; i < tzh_typecnt; i++) {\n\t\t\tthis.zoneInfo.push({\n\t\t\t\toffset: Math.floor(packed.getLong() / 60),  // offset in seconds, so convert to minutes\n\t\t\t\tisdst: !!packed.getByte(),\n\t\t\t\tabbreviationIndex: packed.getByte()\n\t\t\t});\n\t\t}\n\n\t\tlet allAbbreviations = packed.getString(tzh_charcnt);\n\n\t\tfor (let i = 0; i < tzh_typecnt; i++) {\n\t\t\tlet abbreviation = allAbbreviations.substring(this.zoneInfo[i].abbreviationIndex);\n\t\t\tthis.zoneInfo[i].abbreviation = abbreviation.substring(0, abbreviation.indexOf('\\x00'));\n\t\t}\n\n\t\t// ignore the leap seconds\n\t\tif (tzh_leapcnt) {\n\t\t\tpacked.skip(tzh_leapcnt * 2);\n\t\t}\n\n\t\t// skip the standard/wall time indicators\n\t\tif (tzh_ttisstdcnt) {\n\t\t\tpacked.skip(tzh_ttisstdcnt);\n\t\t}\n\n\t\t// ignore the UTC/local time indicators -- everything should be UTC\n\t\tif (tzh_ttisgmtcnt) {\n\t\t\tpacked.skip(tzh_ttisgmtcnt);\n\t\t}\n\n\t\t// finished reading\n\n\t\t// Replace ttinfo indexes for ttinfo objects.\n\t\tlet that = this;\n\t\tthis.ruleIndex = this.ruleIndex.map(function (item) {\n\t\t\treturn {\n\t\t\t\toffset: that.zoneInfo[item].offset,\n\t\t\t\tisdst: that.zoneInfo[item].isdst,\n\t\t\t\tabbreviation: that.zoneInfo[item].abbreviation\n\t\t\t};\n\t\t});\n\n\t\t// calculate the dst savings for each daylight time\n\t\tfor (let i = 0; i < tzh_timecnt; i++) {\n\t\t\tif (i > 0 && this.ruleIndex[i].isdst) {\n\t\t\t\tthis.ruleIndex[i].savings = this.ruleIndex[i].offset - this.ruleIndex[i - 1].offset;\n\t\t\t}\n\t\t}\n\n\t\t// Set standard, dst, and before ttinfos. before will be\n\t\t// used when a given time is before any transitions,\n\t\t// and will be set to the first non-dst ttinfo, or to\n\t\t// the first dst, if all of them are dst.\n\t\tif (!this.transitionTimes.length) {\n\t\t\tthis.standardTime = this.zoneInfo[0];\n\t\t} else {\n\t\t\tfor (let j = tzh_timecnt - 1; j > -1; j--) {\n\t\t\t\tlet tti = this.ruleIndex[j];\n\t\t\t\tif (!this.standardTime && !tti.isdst) {\n\t\t\t\t\tthis.standardTime = tti;\n\t\t\t\t} else if (!this.daylightTime && tti.isdst) {\n\t\t\t\t\tthis.daylightTime = tti;\n\t\t\t\t}\n\n\t\t\t\tif (this.daylightTime && this.standardTime) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.daylightTime && !this.standardTime) {\n\t\t\t\tthis.standardTime = this.daylightTime;\n\t\t\t}\n\n\t\t\tfor (let k = this.zoneInfo.length - 1; k > 0; k--) {\n\t\t\t\tif (!this.zoneInfo[k].isdst) {\n\t\t\t\t\tthis.defaultTime = this.zoneInfo[k];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!this.defaultTime) {\n\t\t\tthis.defaultTime = this.zoneInfo[this.zoneInfo.length - 1];\n\t\t}\n\t}\n};\n\n/**\n * Binary search a sorted array of numbers for a particular target value.\n * If the exact value is not found, it returns the index of the largest\n * entry that is smaller than the given target value.<p>\n *\n * @param {number} target element being sought\n * @param {Array} arr the array being searched\n * @returns {number} the index of the array into which the value would fit if\n * inserted, or -1 if given array is not an array or the target is not\n * a number\n */\nZoneInfoFile.prototype.bsearch = function (target, arr) {\n\tif (typeof arr === 'undefined' || !arr || typeof target === 'undefined' || target < arr[0]) {\n\t\treturn -1;\n\t}\n\n\t// greater than the end of the array\n\tif (target > arr[arr.length - 1]) {\n\t\treturn arr.length - 1;\n\t}\n\n\tlet high = arr.length - 1,\n\t\tlow = 0,\n\t\tmid = 0,\n\t\tvalue;\n\n\twhile (low <= high) {\n\t\tmid = Math.floor((high + low) / 2);\n\t\tvalue = arr[mid] - target;\n\t\tif (value > 0) {\n\t\t\thigh = mid - 1;\n\t\t} else if (value < 0) {\n\t\t\tlow = mid + 1;\n\t\t} else {\n\t\t\treturn mid;\n\t\t}\n\t}\n\n\treturn high;\n};\n\n/**\n * Return whether or not this zone uses DST in the given year.\n *\n * @param {Date} date the Gregorian date to test\n * @returns {boolean} true if the zone uses DST in the given year\n */\nZoneInfoFile.prototype.usesDST = function (date) {\n\tconst thisYear = date.getTime();\n\tconst nextYear = thisYear + 31536000000; // this is the number of ms in 1 Gregorian year\n\n\t// search for the zone that was effective Jan 1 of this year\n\t// to Jan 1 of next year, and if any of the infos is DST, then\n\t// this zone supports DST in the given year.\n\n\tlet index = this.bsearch(thisYear, this.transitionTimes);\n\tif (index !== -1) {\n\t\twhile (index < this.transitionTimes.length && this.transitionTimes[index] < nextYear) {\n\t\t\tif (this.ruleIndex[index++].isdst) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn false;\n};\n\n/**\n * Return the raw offset from UTC that this zone uses at the given time.\n *\n * @param {Date} date the Gregorian date to test\n * @returns {number} offset from from UTC in number of minutes. Negative\n * numbers are west of Greenwich, positive are east of Greenwich\n */\nZoneInfoFile.prototype.getRawOffset = function (date) {\n\tlet thisYear = date.getTime();\n\tlet nextYear = thisYear + 31536000000; // this is the number of ms in 1 Gregorian year\n\n\tlet index = this.bsearch(thisYear, this.transitionTimes);\n\n\tlet offset = this.defaultTime.offset;\n\tif (index > -1) {\n\t\twhile (index < this.transitionTimes.length && this.ruleIndex[index].isdst && this.transitionTimes[index + 1] < nextYear) {\n\t\t\tindex++;\n\t\t}\n\n\t\tif (index < this.transitionTimes.length && !this.ruleIndex[index].isdst) {\n\t\t\toffset = this.ruleIndex[index].offset;\n\t\t}\n\t}\n\n\treturn offset;\n};\n\n/**\n * If this zone uses DST in the given year, return the DST savings\n * in use. If the zone does not use DST in the given year, this\n * method will return 0.\n *\n * @param {Date} date the Gregorian date to test\n * @returns {number} number of minutes in DST savings if the zone\n * uses DST in the given year, or zero otherwise\n */\nZoneInfoFile.prototype.getDSTSavings = function (date) {\n\tlet thisYear = date.getTime();\n\tlet nextYear = thisYear + 31536000000; // this is the number of ms in 1 Gregorian year\n\n\t// search for all transitions between now and one year\n\t// from now, and calculate the difference in DST (if any)\n\n\tlet index = this.bsearch(thisYear, this.transitionTimes);\n\tlet savings = 0;\n\tif (index > -1) {\n\t\twhile (index < this.transitionTimes.length && !this.ruleIndex[index].isdst && this.transitionTimes[index + 1] < nextYear) {\n\t\t\tindex++;\n\t\t}\n\n\t\tif (index < this.transitionTimes.length && this.ruleIndex[index].isdst) {\n\t\t\tsavings = this.ruleIndex[index].savings;\n\t\t}\n\t}\n\n\treturn savings;\n};\n\n/**\n * Return the start date/time of DST if this zone uses\n * DST in the given year.\n *\n * @param {Date} date the Gregorian date to test\n * @returns {number} unixtime representation of the start\n * of DST in the given year, or -1 if the zone does not\n * use DST in the given year\n */\nZoneInfoFile.prototype.getDSTStartDate = function (date) {\n\tlet year = date.getFullYear();\n\tlet thisYear = new Date(year, 0, 1).getTime();\n\tlet nextYear = new Date(year + 1, 0, 1).getTime();\n\n\t// search for all transitions between Jan 1 of this year\n\t// to Jan 1 of next year, and calculate the difference\n\t// in DST (if any)\n\n\tlet index = this.bsearch(thisYear, this.transitionTimes);\n\tlet startDate = -1;\n\tif (index > -1) {\n\t\tif (this.transitionTimes[index] < thisYear) {\n\t\t\tindex++; // start in this year instead of the previous year\n\t\t}\n\t\twhile (index < this.transitionTimes.length && !this.ruleIndex[index].isdst && this.transitionTimes[index + 1] < nextYear) {\n\t\t\tindex++;\n\t\t}\n\n\t\tif (index < this.transitionTimes.length && this.ruleIndex[index].isdst) {\n\t\t\tstartDate = this.transitionTimes[index];\n\t\t}\n\t}\n\n\treturn startDate;\n};\n\n/**\n * Return the end date/time of DST if this zone uses\n * DST in the given year.\n *\n * @param {Date} date the Gregorian date to test\n * @returns {number} unixtime representation of the end\n * of DST in the given year, or -1 if the zone does not\n * use DST in the given year\n */\nZoneInfoFile.prototype.getDSTEndDate = function (date) {\n\tlet year = date.getFullYear();\n\tlet thisYear = new Date(year, 0, 1).getTime();\n\tlet nextYear = new Date(year + 1, 0, 1).getTime();\n\n\t// search for all transitions between Jan 1 of this year\n\t// to Jan 1 of next year, and calculate the difference\n\t// in DST (if any)\n\n\tlet index = this.bsearch(thisYear, this.transitionTimes);\n\tlet endDate = -1;\n\tif (index > -1) {\n\t\tif (this.transitionTimes[index] < thisYear) {\n\t\t\tindex++; // start in this year instead of the previous year\n\t\t}\n\t\twhile (index < this.transitionTimes.length && this.ruleIndex[index].isdst && this.transitionTimes[index + 1] < nextYear) {\n\t\t\tindex++;\n\t\t}\n\n\t\tif (index < this.transitionTimes.length && !this.ruleIndex[index].isdst) {\n\t\t\tendDate = this.transitionTimes[index];\n\t\t}\n\t}\n\n\treturn endDate;\n};\n\n/**\n * Return the abbreviation used by this zone in standard\n * time.\n *\n * @param {Date} date the Gregorian date to test\n * @returns {string} a string representing the abbreviation\n * used in this time zone during standard time\n */\nZoneInfoFile.prototype.getAbbreviation = function (date) {\n\tlet thisYear = date.getTime();\n\tlet nextYear = thisYear + 31536000000; // this is the number of ms in 1 Gregorian year\n\n\t// search for all transitions between now and one year from now, and calculate the difference\n\t// in DST (if any)\n\tlet abbr;\n\tif (this.transitionTimes.length > 0) {\n\t\tlet index = this.bsearch(thisYear, this.transitionTimes);\n\t\tabbr = this.ruleIndex[index].abbreviation;\n\t\tif (index > -1) {\n\t\t\twhile (index < this.transitionTimes.length && this.ruleIndex[index].isdst && this.transitionTimes[index + 1] < nextYear) {\n\t\t\t\tindex++;\n\t\t\t}\n\n\t\t\tif (index < this.transitionTimes.length && !this.ruleIndex[index].isdst) {\n\t\t\t\tabbr = this.ruleIndex[index].abbreviation;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tabbr = this.standardTime.abbreviation;\n\t}\n\n\treturn abbr;\n};\n\n/**\n * Return the abbreviation used by this zone in daylight\n * time. If the zone does not use DST in the given year,\n * this returns the same thing as getAbbreviation().\n *\n * @param {Date} date the Gregorian date to test\n * @returns {string} a string representing the abbreviation\n * used in this time zone during daylight time\n */\nZoneInfoFile.prototype.getDSTAbbreviation = function (date) {\n\tlet thisYear = date.getTime();\n\tlet nextYear = thisYear + 31536000000; // this is the number of ms in 1 Gregorian year\n\n\t// search for all transitions between now and one year from now, and calculate the difference\n\t// in DST (if any)\n\n\tlet abbr;\n\tif (this.transitionTimes.length > 0) {\n\t\tlet index = this.bsearch(thisYear, this.transitionTimes);\n\t\tabbr = this.ruleIndex[index].abbreviation;\n\t\tif (index > -1) {\n\t\t\twhile (index < this.transitionTimes.length && !this.ruleIndex[index].isdst && this.transitionTimes[index + 1] < nextYear) {\n\t\t\t\tindex++;\n\t\t\t}\n\n\t\t\tif (index < this.transitionTimes.length && this.ruleIndex[index].isdst) {\n\t\t\t\tabbr = this.ruleIndex[index].abbreviation;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tabbr = this.standardTime.abbreviation;\n\t}\n\n\treturn abbr;\n};\n\n/**\n * Return the zone information for the given date in ilib\n * format.\n *\n * @param {Date} date the Gregorian date to test\n * @returns {Object} an object containing the zone information\n * for the given date in the format that ilib can use directly\n */\nZoneInfoFile.prototype.getIlibZoneInfo = function (date) {\n\tfunction minutesToStr (min) {\n\t\tlet hours = Math.floor(min / 60);\n\t\tlet minutes = min - hours * 60;\n\n\t\treturn hours + ':' + minutes;\n\t}\n\n\tfunction unixtimeToJD (millis) {\n\t\treturn 2440587.5 + millis / 86400000;\n\t}\n\tlet res = {\n\t\t'o': minutesToStr(this.getRawOffset(date))\n\t};\n\tif (this.usesDST(date)) {\n\t\tres.f = '{c}';\n\t\tres.e = {\n\t\t\t'c': this.getAbbreviation(date),\n\t\t\t'j': unixtimeToJD(this.getDSTEndDate(date))\n\t\t};\n\t\tres.s = {\n\t\t\t'c': this.getDSTAbbreviation(date),\n\t\t\t'j': unixtimeToJD(this.getDSTStartDate(date)),\n\t\t\t'v': minutesToStr(this.getDSTSavings(date))\n\t\t};\n\t} else {\n\t\tres.f = this.getAbbreviation(date);\n\t}\n\n\treturn res;\n};\n\nmodule.exports = ZoneInfoFile;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"heading\":\"Heading_heading__2be-4\",\"title\":\"Heading_title__13q--\",\"subtitle\":\"Heading_subtitle__lvF9-\",\"large\":\"Heading_large__2E6Vh\",\"medium\":\"Heading_medium__3dzob\",\"small\":\"Heading_small__8CDo4\",\"tiny\":\"Heading_tiny__1Vsjo\",\"titleSpacing\":\"Heading_titleSpacing__ktAcO\",\"subtitleSpacing\":\"Heading_subtitleSpacing__3FYym\",\"largeSpacing\":\"Heading_largeSpacing__2UYIK\",\"mediumSpacing\":\"Heading_mediumSpacing__3aUiu\",\"smallSpacing\":\"Heading_smallSpacing__TEMTX\",\"tinySpacing\":\"Heading_tinySpacing__2Uzdr\",\"noneSpacing\":\"Heading_noneSpacing__OaSei\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"heading\":\"Heading_heading__3IjzK\",\"showLine\":\"Heading_showLine__1SMqX\",\"title\":\"Heading_title__2F0Pv\",\"large\":\"Heading_large__3wLnw\",\"medium\":\"Heading_medium__3XqZG\",\"small\":\"Heading_small__1aERR\",\"tiny\":\"Heading_tiny__Bcqc3\",\"titleSpacing\":\"Heading_titleSpacing__3x-f4\",\"largeSpacing\":\"Heading_largeSpacing__E8UtY\",\"mediumSpacing\":\"Heading_mediumSpacing__2mUCM\",\"smallSpacing\":\"Heading_smallSpacing__nUqPA\",\"noneSpacing\":\"Heading_noneSpacing__2ZroQ\"};","import warning from 'warning';\n\n// At the end, wes should not use DOM APIs as well as the APIs in the `utilDOM`. If we use them, we have to try to remove them first if possible.\n\nconst utilDOM = (function () {\n\t// Functions\n\n\tfunction containsDangerously (ref, target) {\n\t\tif (!target) {\n\t\t\treturn false;\n\t\t} else if (ref.current) {\n\t\t\twarning(ref.current.contains, 'The `contains` function of the Ref is not supported.');\n\n\t\t\treturn ref.current.contains(target);\n\t\t} else if (ref) {\n\t\t\twarning(ref.contains, 'The `contains` function of the Ref is not supported.');\n\n\t\t\treturn ref.contains(target);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t// TBD\n\t// Need to define functions for the following DOM APIs\n\t// getBoundingClientRect\n\t// dataset.spotlightId\n\t// getRect\n\t// setAttribute\n\t// removeAttribute\n\t// scrollLeft\n\t// scrollTop\n\tfunction datasetDangerously () {}\n\tfunction getBoundingClientRectDangerously () {}\n\tfunction getRectDangerously () {}\n\tfunction removeAttributeDangerously () {}\n\tfunction setAttributeDangerously () {}\n\tconst scrollLeftDangerously = 0;\n\tconst scrollTopDangerously = 0;\n\n\t// Return\n\n\treturn {\n\t\tcontainsDangerously,\n\t\tdatasetDangerously,\n\t\tgetBoundingClientRectDangerously,\n\t\tgetRectDangerously,\n\t\tremoveAttributeDangerously,\n\t\tscrollLeftDangerously,\n\t\tscrollTopDangerously,\n\t\tsetAttributeDangerously\n\t};\n})();\n\nexport default utilDOM;\nexport {\n\tutilDOM\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"Icon_icon__1sL6a\",\"flipBoth\":\"Icon_flipBoth__2qJTI\",\"flipHorizontal\":\"Icon_flipHorizontal__2KKBv\",\"flipVertical\":\"Icon_flipVertical__3j-ZC\",\"dingbat\":\"Icon_dingbat__26H5_\",\"large\":\"Icon_large__e418M\",\"pressed\":\"Icon_pressed__1aeUB\",\"small\":\"Icon_small__31TeU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"Icon_icon__1R4tX\",\"huge\":\"Icon_huge__2TTQ3\",\"small\":\"Icon_small__1qu4t\",\"smallest\":\"Icon_smallest__3tmBc\",\"dingbat\":\"Icon_dingbat__23hCN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1M2Zz\",\"bg\":\"Button_bg__LhGZK\",\"client\":\"Button_client__1JYoz\",\"icon\":\"Button_icon__1Wtzr\",\"hasIcon\":\"Button_hasIcon__29nPh\",\"large\":\"Button_large___TyEn\",\"minWidth\":\"Button_minWidth__1Ey4a\",\"small\":\"Button_small__30CXD\",\"decoration\":\"Button_decoration__JsA12\",\"selected\":\"Button_selected__QydK0\",\"pressed\":\"Button_pressed__hy72B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3PK7M\",\"bg\":\"Button_bg__1k8sG\",\"client\":\"Button_client__sV5RN\",\"icon\":\"Button_icon__GGFoP\",\"badge\":\"Button_badge__2GNYD\",\"grid\":\"Button_grid__2YZeg\",\"opaque\":\"Button_opaque__bCDlK\",\"lightOpaque\":\"Button_lightOpaque__3UJnx\",\"transparent\":\"Button_transparent__2Oox2\",\"minWidth\":\"Button_minWidth__3dh6o\",\"huge\":\"Button_huge__170rT\",\"small\":\"Button_small__2_T5B\",\"smallest\":\"Button_smallest__3Xa_y\",\"hasIcon\":\"Button_hasIcon__3NVu1\",\"animateOnRender\":\"Button_animateOnRender__3ssav\",\"scale-bounce\":\"Button_scale-bounce__1JuAX\",\"joinedLeft\":\"Button_joinedLeft__2i4kk\",\"joinedCenter\":\"Button_joinedCenter__QSfHj\",\"joinedRight\":\"Button_joinedRight__3gCql\",\"highlighted\":\"Button_highlighted__2u6Mb\",\"selected\":\"Button_selected__3rmf2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"labeledIcon\":\"LabeledIcon_labeledIcon__sVTUQ\",\"inline\":\"LabeledIcon_inline__1N9-f\",\"above\":\"LabeledIcon_above__2HQrn\",\"below\":\"LabeledIcon_below__1_xvo\",\"iconCell\":\"LabeledIcon_iconCell__3Izg9\",\"before\":\"LabeledIcon_before__SZA1P\",\"left\":\"LabeledIcon_left__sIU3e\",\"right\":\"LabeledIcon_right__3ClVM\",\"label\":\"LabeledIcon_label__3Qpxs\",\"after\":\"LabeledIcon_after__3Sd_T\",\"icon\":\"LabeledIcon_icon__1abmm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"labeledIcon\":\"LabeledIcon_labeledIcon__2CxNb\",\"below\":\"LabeledIcon_below__2gDyf\",\"icon\":\"LabeledIcon_icon__32EZf\",\"above\":\"LabeledIcon_above__21pJg\",\"after\":\"LabeledIcon_after__do8b5\",\"before\":\"LabeledIcon_before__2Dp7i\",\"left\":\"LabeledIcon_left__-6IZj\",\"right\":\"LabeledIcon_right__2tMFW\",\"label\":\"LabeledIcon_label__47uKK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabbedPanels\":\"TabbedPanels_tabbedPanels__3KODu\",\"panels\":\"TabbedPanels_panels__3FULT\",\"reverse\":\"TabbedPanels_reverse__2Ozxo\",\"column\":\"TabbedPanels_column__2ow_T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scrollbar\":\"Scrollbar_scrollbar__1vvQ9\",\"vertical\":\"Scrollbar_vertical__2HQdJ\",\"horizontal\":\"Scrollbar_horizontal__1k9A9\",\"corner\":\"Scrollbar_corner__1zsbJ\",\"scrollbarTrackShown\":\"Scrollbar_scrollbarTrackShown__nYLNH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scroller\":\"Scroller_scroller__2jt_f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scroller\":\"UiScroller_scroller__Dp9G1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bodyText\":\"BodyText_bodyText__3Y1lB\",\"centered\":\"BodyText_centered__1e78o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"marquee\":\"Marquee_marquee__3-K0w\",\"text\":\"Marquee_text__3hXQJ\",\"willAnimate\":\"Marquee_willAnimate__39zW3\",\"animate\":\"Marquee_animate__1mDF2\",\"spacing\":\"Marquee_spacing__uCAbE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bodyText\":\"BodyText_bodyText__1Fj1C\",\"centered\":\"BodyText_centered__2eiYE\",\"small\":\"BodyText_small__1comw\"};","/**\n * Accepts an object of computed property configurations and a property object, passes the property\n * object through each computed property handler, and merges the resulting computed properties with\n * the original properties.\n *\n * ```\n * const cfg = {\n *   sum: ({x,y,z}) => x+y+z,\n *   product: ({x,y,z}) => x*y*z\n * }\n * const props = {\n *   x: 2,\n *   y: 3,\n *   z: 4\n * }\n * computed(cfg)(props) // => {x: 2, y: 3, z: 4, sum: 9, product: 24}\n * ```\n *\n * @method computed\n * @param   {Object}    cfg  Configuration object mapping transformation functions to property names\n *\n * @returns {Function}       Function that accepts a props object and mutates it to include the\n *                           computed props\n * @private\n */\nconst computed = (cfg, optProps) => {\n\tconst keys = Object.keys(cfg);\n\n\tconst renderComputed = (props, ...args) => {\n\t\tconst updated = {};\n\t\tfor (let i = keys.length - 1; i >= 0; i--) {\n\t\t\tupdated[keys[i]] = cfg[keys[i]](props, ...args);\n\t\t}\n\n\t\treturn Object.assign(props, updated);\n\t};\n\n\t// maintain compatibility with 1.x\n\tif (optProps) {\n\t\treturn renderComputed(optProps);\n\t}\n\n\treturn renderComputed;\n};\n\nexport default computed;\nexport {computed};\n","export const addInternalProp = function (props, name, value) {\n\tObject.defineProperty(props, name, {\n\t\tvalue,\n\t\tenumerable: false,\n\t\twritable: true\n\t});\n\n\treturn props;\n};\n","import classnames from 'classnames/bind';\n\nimport {mergeClassNameMaps} from '../util';\n\nimport {addInternalProp} from './util';\n\n/**\n * Merges external and internal CSS classes and style objects. Internal CSS classes can be\n * optionally mapped to alternate names (e.g. those generated by CSS modules) by including a\n * `css` parameter.\n *\n * Example:\n * ```\n *\tconst stylesConfig = {\n *\t\tcss: {\n *\t\t\tbutton: 'unambiguous-button-class-name',\n *\t\t\tclient: 'unambiguous-button-class-name-client'\n *\t\t},\n *\t\tclassName: 'button global-class',\n *\t\tstyle: {\n *\t\t\tcolor: 'red'\n *\t\t}\n *\t};\n *\n *\tconst props = {\n *\t\tclassName: 'my-button',\n *\t\tstyle: {\n *\t\t\tdisplay: 'none'\n *\t\t}\n *\t};\n *\n *\tconst renderStyles = styles(stylesConfig);\n *\tconst renderStyles(props); // {className: 'unambiguous-button-class-name global-class', styles: {color: 'red', display: 'none'}}\n * ```\n *\n * @method styles\n * @param   {Object}    cfg  Configuration object containing one of `css`, `className`,\n *                           `publicClassNames`, and/or `style`\n *\n * @returns {Function}       Function that accepts a props object and mutates it to merge class\n *                           names and style objects and provide the `styler` utility function and\n *                           `css` merged class name map\n * @private\n */\nconst styles = (cfg, optProps) => {\n\tconst {className, css: configCss, prop = 'className', style} = cfg;\n\tlet {publicClassNames: allowedClassNames} = cfg;\n\n\tif (configCss && allowedClassNames === true) {\n\t\tallowedClassNames = Object.keys(configCss);\n\t} else if (typeof allowedClassNames === 'string') {\n\t\tallowedClassNames = allowedClassNames.split(/\\s+/);\n\t}\n\n\tconst renderStyles = (props) => {\n\t\tlet css = configCss;\n\n\t\tif (style) {\n\t\t\tprops.style = Object.assign({}, style, props.style);\n\t\t}\n\n\t\t// if the props includes a css map, merge them together now\n\t\tif (css && allowedClassNames && props.css) {\n\t\t\tcss = mergeClassNameMaps(css, props.css, allowedClassNames);\n\t\t}\n\n\t\tconst cn = css ? classnames.bind(css) : classnames;\n\t\tconst joinedClassName = props[prop] = classnames(\n\t\t\tclassName ? cn(className.split(' ')) : null,\n\t\t\tprops.className\n\t\t);\n\n\t\taddInternalProp(props, 'css', css);\n\t\taddInternalProp(props, 'styler', {\n\t\t\tjoin: cn,\n\t\t\tappend: (...args) => cn(joinedClassName, ...args)\n\t\t});\n\n\t\treturn props;\n\t};\n\n\tif (optProps) {\n\t\treturn renderStyles(optProps);\n\t}\n\n\treturn renderStyles;\n};\n\nexport default styles;\nexport {styles};\n","/**\n * Provides the {@link core/kind.kind} method to create components\n *\n * @module core/kind\n * @exports kind\n */\n\nimport React from 'react';\n\nimport useHandlers from '../useHandlers';\nimport Handlers from '../useHandlers/Handlers';\n\nimport computed from './computed';\nimport styles from './styles';\n\n// Because contextType is optional and hooks must be called in the same order, we need a fallback\n// context when none is specified. This likely has some overhead so we may want to deprecate and\n// remove contextType support for 4.0 since the context APIs have improved since this was added.\nconst NoContext = React.createContext(null);\n\n/**\n * @callback RenderFunction\n * @memberof core/kind\n * @param {Object<string, any>} props\n * @param {Object<string, any>} context\n * @returns React.Element|null\n */\n\n/**\n * @callback ComputedPropFunction\n * @memberof core/kind\n * @param {Object<string, any>} props\n * @param {Object<string, any>} context\n * @returns any\n */\n\n/**\n * @callback HandlerFunction\n * @memberof core/kind\n * @param {any} event\n * @param {Object<string, any>} props\n * @param {Object<string, any>} context\n */\n\n/**\n * Configuration for CSS class name mapping\n *\n * @typedef {Object} StylesBlock\n * @memberof core/kind\n * @property {Object.<string, string>} css\n * @property {String} [className]\n * @property {Boolean|String|String[]} [publicClassNames]\n */\n\n/**\n * @typedef {Object} KindConfig\n * @memberof core/kind\n * @property {String} [name]\n * @property {Boolean} [functional]\n * @property {Object.<string, Function>} [propTypes]\n * @property {Object.<string, any>} [defaultProps]\n * @property {Object} [contextType]\n * @property {StylesBlock} [styles]\n * @property {Object.<string, HandlerFunction>} [handlers]\n * @property {Object.<string, ComputedPropFunction>} [computed]\n * @property {RenderFunction} render\n */\n\n/**\n * Creates a new component with some helpful declarative syntactic sugar.\n *\n * Example:\n * ```\n *\timport css from './Button.module.less';\n *\tconst Button = kind({\n *\t\tname: 'Button',\n *\t\t// Return a functional component suitable for use with React hooks\n *\t\tfunctional: true,\n *\t\t// expect color and onClick properties but neither required\n *\t\tpropTypes: {\n *\t\t\tcolor: PropTypes.string\n *\t\t},\n *\t\t// if no color is provided, it'll be green\n *\t\tdefaultProps: {\n *\t\t\tcolor: 'green'\n *\t\t},\n *\t\t// expect backgroundColor via context\n *\t\tcontextType: React.createContext({ backgroundColor }),\n *\t\t// configure styles with the static className to merge with user className\n *\t\tstyles: {\n *\t\t\t// include the CSS modules map so 'button' can be resolved to the local name\n *\t\t\tcss,\n *\t\t\tclassName: 'button'\n *\t\t},\n *\t\t// add event handlers that are cached between calls to prevent recreating each call. Any\n *\t\t// handlers are added to the props passed to `render()`.  See core/handle.\n *\t\thandlers: {\n *\t\t\tonKeyDown: (evt, props) => { .... }\n *\t\t},\n *\t\t// add some computed properties, these are added to props passed to `render()`\n *\t\tcomputed: {\n *\t\t\t// border color will be the color prepended by 'light'\n *\t\t\tborderColor: ({color}) => 'light' + color,\n *\t\t\t// background color will be the contextual background color if specified\n *\t\t\tcolor: ({color}, context) => context.backgroundColor || color\n *\t\t},\n *\t\t// Render the thing, already!\n *\t\trender: ({color, borderColor, children, ...rest}) => (\n *\t\t\t<button\n *\t\t\t\t{...rest}\n *\t\t\t\tstyle={{backgroundColor: color, borderColor}}\n *\t\t\t>\n *\t\t\t\t{children}\n *\t\t\t</button>\n *\t\t)\n *\t});\n * ```\n *\n * @function\n * @template Props\n * @param  {KindConfig}    config    Component configuration\n *\n * @returns {Component<Props>}           Component\n * @memberof core/kind\n * @see {@link core/handle}\n * @public\n */\nconst kind = (config) => {\n\tconst {\n\t\tcomputed: cfgComputed,\n\t\tcontextType = NoContext,\n\t\tdefaultProps,\n\t\tfunctional,\n\t\thandlers,\n\t\tname,\n\t\tpropTypes,\t// eslint-disable-line react/forbid-foreign-prop-types\n\t\trender,\n\t\tstyles: cfgStyles\n\t} = config;\n\n\tconst renderStyles = cfgStyles ? styles(cfgStyles) : false;\n\tconst renderComputed = cfgComputed ? computed(cfgComputed) : false;\n\tconst renderKind = (props, context) => {\n\t\tif (renderStyles) props = renderStyles(props, context);\n\t\tif (renderComputed) props = renderComputed(props, context);\n\n\t\treturn render(props, context);\n\t};\n\n\tlet Component;\n\n\t// In 4.x, this branch will become the only supported version and the class branch will be\n\t// removed.\n\tif (functional) {\n\t\tComponent = function (props) {\n\t\t\tconst ctx = React.useContext(contextType);\n\t\t\tconst boundHandlers = useHandlers(handlers, props, ctx);\n\n\t\t\tconst merged = {\n\t\t\t\t...props,\n\t\t\t\t...boundHandlers\n\t\t\t};\n\n\t\t\treturn renderKind(merged, ctx);\n\t\t};\n\t} else {\n\t\t// eslint-disable-next-line enact/display-name\n\t\tComponent = class extends React.Component {\n\t\t\tstatic contextType = contextType;\n\n\t\t\tconstructor () {\n\t\t\t\tsuper();\n\n\t\t\t\tthis.handlers = new Handlers(handlers);\n\t\t\t}\n\n\t\t\trender () {\n\t\t\t\tthis.handlers.setContext(this.props, this.context);\n\n\t\t\t\tconst merged = {\n\t\t\t\t\t...this.props,\n\t\t\t\t\t...this.handlers.handlers\n\t\t\t\t};\n\n\t\t\t\treturn renderKind(merged, this.context);\n\t\t\t}\n\t\t};\n\t}\n\n\tif (name) Component.displayName = name;\n\tif (propTypes) Component.propTypes = propTypes;\n\tif (defaultProps) Component.defaultProps = defaultProps;\n\n\t// Decorate the Component with the computed property object in DEV for easier testability\n\tif (__DEV__ && cfgComputed) Component.computed = cfgComputed;\n\n\tconst defaultPropKeys = defaultProps ? Object.keys(defaultProps) : null;\n\tconst handlerKeys = handlers ? Object.keys(handlers) : null;\n\n\tComponent.inline = (props, context) => {\n\t\tlet updated = {\n\t\t\t...props\n\t\t};\n\n\t\tif (defaultPropKeys && defaultPropKeys.length > 0) {\n\t\t\tdefaultPropKeys.forEach(key => {\n\t\t\t\t// eslint-disable-next-line no-undefined\n\t\t\t\tif (props == null || props[key] === undefined) {\n\t\t\t\t\tupdated[key] = defaultProps[key];\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif (handlerKeys && handlerKeys.length > 0) {\n\t\t\t// generate a handler with a clone of updated to ensure each handler receives the same\n\t\t\t// props without the kind.handlers injected.\n\t\t\tupdated = handlerKeys.reduce((_props, key) => {\n\t\t\t\t_props[key] = (ev) => handlers[key](ev, updated, context);\n\t\t\t\treturn _props;\n\t\t\t}, {...updated});\n\t\t}\n\n\t\treturn renderKind(updated, context);\n\t};\n\n\treturn Component;\n};\n\nexport default kind;\nexport {kind};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toggleIcon\":\"ToggleIcon_toggleIcon__3QUNj\",\"icon\":\"ToggleIcon_icon__1es11\",\"selected\":\"ToggleIcon_selected__3mUay\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toggleIcon\":\"Checkbox_toggleIcon__3FAw8\",\"icon\":\"Checkbox_icon__veJET\",\"selected\":\"Checkbox_selected__1UBC3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Item_item__2chpw\",\"inline\":\"Item_inline__27bUV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"checkboxItem\":\"CheckboxItem_checkboxItem__2y76-\",\"slotAfter\":\"CheckboxItem_slotAfter__1Ql5J\",\"slotBefore\":\"CheckboxItem_slotBefore__3t4oM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"transition\":\"Transition_transition__l3gOZ\",\"inner\":\"Transition_inner__-ikTU\",\"slide\":\"Transition_slide__3KcDA\",\"fade\":\"Transition_fade__jxjvw\",\"shown\":\"Transition_shown__1rew6\",\"clip\":\"Transition_clip__2EzQM\",\"right\":\"Transition_right__NszPJ\",\"left\":\"Transition_left__hswib\",\"hidden\":\"Transition_hidden__1TnUe\",\"up\":\"Transition_up__2L6qm\",\"down\":\"Transition_down__2sMsI\",\"short\":\"Transition_short__RSNZy\",\"medium\":\"Transition_medium__2xgl3\",\"long\":\"Transition_long__3uOxo\",\"ease\":\"Transition_ease__2pv2y\",\"ease-in\":\"Transition_ease-in__OMHNe\",\"ease-out\":\"Transition_ease-out__1bq30\",\"ease-in-out\":\"Transition_ease-in-out__3lPAw\",\"ease-in-quart\":\"Transition_ease-in-quart__1q-Hr\",\"ease-out-quart\":\"Transition_ease-out-quart__dZbVm\",\"linear\":\"Transition_linear__2jW5x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"progressBar\":\"ProgressBar_progressBar__xyV-n\",\"bar\":\"ProgressBar_bar__23thX\",\"fill\":\"ProgressBar_fill__1DaxG\",\"load\":\"ProgressBar_load__lloVg\",\"vertical\":\"ProgressBar_vertical__31Bbs\",\"horizontal\":\"ProgressBar_horizontal__1sjzV\",\"radial\":\"ProgressBar_radial__2_HIf\",\"fillOverHalf\":\"ProgressBar_fillOverHalf__19BIo\",\"loadOverHalf\":\"ProgressBar_loadOverHalf__G0YN7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slider\":\"Slider_slider__xAHNb\",\"progressBar\":\"Slider_progressBar__3kuWx\",\"bar\":\"Slider_bar__GY9qj\",\"fill\":\"Slider_fill__3_4G5\",\"knob\":\"Slider_knob__39E1g\",\"noFill\":\"Slider_noFill__2zCup\",\"active\":\"Slider_active__ETFbw\",\"pressed\":\"Slider_pressed__1k1mH\",\"horizontal\":\"Slider_horizontal__3Tqlg\",\"load\":\"Slider_load__1BATq\",\"vertical\":\"Slider_vertical__2I6Or\",\"tooltip\":\"Slider_tooltip__1jemj\",\"activateOnFocus\":\"Slider_activateOnFocus__3cYJP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"swatchButton\":\"SwatchButton_swatchButton__1do9U\",\"small\":\"SwatchButton_small__3ROme\",\"bg\":\"SwatchButton_bg____5mV\",\"colorSwatch\":\"SwatchButton_colorSwatch__3Qd8Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"colorPicker\":\"ColorPicker_colorPicker__3VbcX\",\"transitionContainer\":\"ColorPicker_transitionContainer__XRheV\",\"openTransitionContainer\":\"ColorPicker_openTransitionContainer__3NM-Y\",\"group\":\"ColorPicker_group__7_7lW\",\"sliders\":\"ColorPicker_sliders__12uJ5\",\"extended\":\"ColorPicker_extended__305Uw\",\"palette\":\"ColorPicker_palette__2e3ci\",\"swatch\":\"ColorPicker_swatch__2MIzD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contextualPopupDecorator\":\"ContextualPopupDecorator_contextualPopupDecorator__1mG8G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dateTime\":\"DateTime_dateTime__3ak0g\",\"pickers\":\"DateTime_pickers__1d70e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"drawer\":\"Drawer_drawer__1JqcA\",\"drawerTransitionContainer\":\"Drawer_drawerTransitionContainer__zfYXs\",\"inner\":\"Drawer_inner__13ffJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"galliumNote\":\"Drawer_galliumNote__1_l1a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"radioItem\":\"RadioItem_radioItem__Rg7Wy\",\"icon\":\"RadioItem_icon__1cBCd\",\"selected\":\"RadioItem_selected__1qkri\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dropdown\":\"Dropdown_dropdown__cdueA\",\"transitionContainer\":\"Dropdown_transitionContainer__2wsd-\",\"openTransitionContainer\":\"Dropdown_openTransitionContainer__2x2Qe\",\"dropdownButton\":\"Dropdown_dropdownButton__1dvu4\",\"button\":\"Dropdown_button__2e2F0\",\"bg\":\"Dropdown_bg__1ii0x\",\"icon\":\"Dropdown_icon__32eRw\",\"item\":\"Dropdown_item__E0Thl\",\"upTransitionContainer\":\"Dropdown_upTransitionContainer__1dltl\",\"dropdownList\":\"Dropdown_dropdownList__3jFgB\",\"dropdownListWithScroller\":\"Dropdown_dropdownListWithScroller__hEHwB\",\"scroller\":\"Dropdown_scroller__6d3bY\",\"selected\":\"Dropdown_selected__3HaI3\",\"client\":\"Dropdown_client__1UitV\",\"open\":\"Dropdown_open__1L-FW\",\"dropDownListItem\":\"Dropdown_dropDownListItem__2-UxK\",\"radioItem\":\"Dropdown_radioItem__ZWt5q\",\"upDropdownButton\":\"Dropdown_upDropdownButton__kykMs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__Uao4x\",\"titleContainer\":\"Header_titleContainer__1mosh\",\"endSlot\":\"Header_endSlot__gbwpB\",\"subtitle\":\"Header_subtitle__1B3tI\",\"title\":\"Header_title__3_7uh\",\"titleAbove\":\"Header_titleAbove__30a_t\",\"standard\":\"Header_standard__2Xffi\",\"hideLine\":\"Header_hideLine__3y_pe\"};","module.exports = __webpack_public_path__ + \"images/icon-enact-docs.png\";","module.exports = __webpack_public_path__ + \"images/icon-enact-factory.svg\";","/**\n * A higher-order component interface for `ref` forwarding.\n *\n * @module ui/ForwardRef\n * @exports\tForwardRef\n */\n\nimport hoc from '@enact/core/hoc';\nimport React from 'react';\n\n/**\n * Default config for {@link ui/ForwardRef.ForwardRef}.\n *\n * @memberof ui/ForwardRef.ForwardRef\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * The prop name to pass the ref callback\n\t *\n\t * @type {String}\n\t * @default 'forwardRef'\n\t * @memberof ui/ForwardRef.ForwardRef.defaultConfig\n\t */\n\tprop: 'forwardRef'\n};\n\n/**\n * A higher-order component that adapts [`React.forwardRef`](https://reactjs.org/docs/forwarding-refs.html)\n * to be chainable with other HOCs.\n *\n * The following examples are equivalent:\n *\n * ```\n * import ForwardRef from '@enact/ui/ForwardRef';\n * import Component from './Component';\n *\n * React.forwardRef((props, ref) => (\n * \t<Component {...props} setMyRef={ref} />\n * ));\n * ForwardRef({prop: 'setMyRef'}, Component);\n * ```\n *\n * @class ForwardRef\n * @memberof ui/ForwardRef\n * @hoc\n * @public\n */\nconst ForwardRef = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {prop} = config;\n\n\treturn React.forwardRef((props, ref) => {\n\t\tconst withRef = {\n\t\t\t...props,\n\t\t\t[prop]: ref\n\t\t};\n\n\t\treturn (\n\t\t\t<Wrapped {...withRef} />\n\t\t);\n\t});\n});\n\nexport default ForwardRef;\nexport {\n\tForwardRef\n};\n","module.exports = __webpack_public_path__ + \"images/icon-enact-logo.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"Image_image__HdnoT\",\"fit\":\"Image_fit__ex17o\",\"fill\":\"Image_fill__3ZOsL\",\"img\":\"Image_img__1b4YI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageItem\":\"ImageItem_imageItem__3EenH\",\"image\":\"ImageItem_image__1UUYz\",\"caption\":\"ImageItem_caption__rKGJS\",\"selected\":\"ImageItem_selected__36ig0\",\"horizontal\":\"ImageItem_horizontal__3471C\",\"vertical\":\"ImageItem_vertical__DDoAO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"Image_image__2XJ5n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageItem\":\"ImageItem_imageItem__DIWmH\",\"horizontal\":\"ImageItem_horizontal__2CR7H\",\"image\":\"ImageItem_image__3DqGA\",\"captionOverlay\":\"ImageItem_captionOverlay__2Wl9D\",\"caption\":\"ImageItem_caption__1OVYC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"IncrementSliderButton_button__1L7YK\",\"client\":\"IncrementSliderButton_client__Ssq-B\",\"bg\":\"IncrementSliderButton_bg__3ypPC\",\"horizontal\":\"IncrementSliderButton_horizontal__2ZgFP\",\"decrement\":\"IncrementSliderButton_decrement__J-16I\",\"increment\":\"IncrementSliderButton_increment__3bloU\",\"vertical\":\"IncrementSliderButton_vertical__8n7Pf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"labeledIcon\":\"LabeledIconButton_labeledIcon__1cfcm\",\"below\":\"LabeledIconButton_below__3PFgg\",\"icon\":\"LabeledIconButton_icon__3YBS-\",\"above\":\"LabeledIconButton_above__1IzUj\",\"after\":\"LabeledIconButton_after__1eVyj\",\"before\":\"LabeledIconButton_before__9i81B\",\"left\":\"LabeledIconButton_left__1iNM2\",\"right\":\"LabeledIconButton_right__A9go6\",\"label\":\"LabeledIconButton_label__7UmJg\",\"labeledIconButton\":\"LabeledIconButton_labeledIconButton__2nn1c\",\"selected\":\"LabeledIconButton_selected__2agqi\",\"small\":\"LabeledIconButton_small__3BKZm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popupMenu\":\"PopupMenu_popupMenu__-eCje\",\"title\":\"PopupMenu_title__3MVaL\",\"horizontal\":\"PopupMenu_horizontal__1dAM1\",\"body\":\"PopupMenu_body__3_Kwh\",\"popupTransitionContainer\":\"PopupMenu_popupTransitionContainer__1o99J\",\"inner\":\"PopupMenu_inner__2tMdj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cannotClose\":\"PopupMenu_cannotClose__3wJiA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"progressBar\":\"ProgressBar_progressBar__129Yw\",\"small\":\"ProgressBar_small__2wmQa\",\"vertical\":\"ProgressBar_vertical__bB7NQ\",\"fill\":\"ProgressBar_fill__3G9jz\"};","// Icons For Samples\n//\n// Grouped into logical sets for easy consumption.\n//\n\nimport {icons, iconsSilicon} from '@enact/agate/Icon';\n\nconst decrementIcons = [\n\t'minus',\n\t'arrowlargedown',\n\t'arrowlargeleft',\n\t'arrowsmalldown',\n\t'arrowsmallleft',\n\t'arrowhookright',\n\t'backward',\n\t'skipbackward',\n\t'pausebackward',\n\t'pausejumpbackward',\n\t'jumpbackward',\n\t'rollbackward',\n\t'arrowshrink',\n\t'back15'\n];\n\nconst incrementIcons = [\n\t'plus',\n\t'arrowlargeup',\n\t'arrowlargeright',\n\t'arrowsmallup',\n\t'arrowsmallright',\n\t'arrowhookleft',\n\t'forward',\n\t'skipforward',\n\t'pauseforward',\n\t'pausejumpforward',\n\t'jumpforward',\n\t'rollforward',\n\t'arrowextend',\n\t'forward15'\n];\n\nconst listIcons = [\n\t'denselist',\n\t'bulletlist',\n\t'list',\n\t'drawer',\n\t'playlist'\n];\n\nconst mediaIcons = [\n\t'circle',\n\t'stop',\n\t'play',\n\t'pause',\n\t'forward',\n\t'backward',\n\t'skipforward',\n\t'skipbackward',\n\t'pauseforward',\n\t'pausebackward',\n\t'pausejumpforward',\n\t'pausejumpbackward',\n\t'resumeplay',\n\t'image',\n\t'audio',\n\t'music',\n\t'languages',\n\t'cc',\n\t'ccon',\n\t'ccoff',\n\t'sub',\n\t'recordings',\n\t'livezoom',\n\t'liveplayback',\n\t'liveplaybackoff',\n\t'repeat',\n\t'repeatoff',\n\t'series',\n\t'repeatdownload',\n\t'view360',\n\t'view360off',\n\t'info'\n];\n\nconst arrowIcons = [\n\t'arrowlargedown',\n\t'arrowlargeup',\n\t'arrowlargeleft',\n\t'arrowlargeright',\n\t'arrowsmallup',\n\t'arrowsmalldown',\n\t'arrowsmallleft',\n\t'arrowsmallright'\n];\n\nconst starIcons = [\n\t'star',\n\t'hollowstar',\n\t'halfstar'\n];\n\nconst iconList = Object.keys(icons).sort();\nconst iconListSilicon = Object.keys(iconsSilicon).sort();\n\nexport default iconList;\nexport {decrementIcons, iconList, iconListSilicon, incrementIcons, listIcons, mediaIcons, arrowIcons, starIcons};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"Spinner_spinner__25L07\",\"centered\":\"Spinner_centered__22PAp\",\"running\":\"Spinner_running__2QhwN\",\"spinnerContainer\":\"Spinner_spinnerContainer__1o-44\",\"scrim\":\"Spinner_scrim__1mwXR\",\"blockClickOn\":\"Spinner_blockClickOn__2B96l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toggleIcon\":\"Switch_toggleIcon__1_Gv3\",\"icon\":\"Switch_icon__1AIcR\",\"animated\":\"Switch_animated__2DWi2\",\"selected\":\"Switch_selected__2YhJn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"switchItem\":\"SwitchItem_switchItem__37OEe\",\"label\":\"SwitchItem_label__DfCYE\",\"switchIcon\":\"SwitchItem_switchIcon__54MEe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"thumbnailItem\":\"ThumbnailItem_thumbnailItem__2CnWI\",\"thumbnail\":\"ThumbnailItem_thumbnail__3Ct6_\",\"content\":\"ThumbnailItem_content__1qdn3\",\"slotBefore\":\"ThumbnailItem_slotBefore__26F68\",\"styled\":\"ThumbnailItem_styled__13kd-\",\"item\":\"ThumbnailItem_item__1vj65\",\"label\":\"ThumbnailItem_label__3XGOu\",\"selected\":\"ThumbnailItem_selected__3rDoY\"};","/**\n * A collection of locale-aware text utility function.\n *\n * @module i18n/util\n * @exports isRtlText\n * @exports toCapitalized\n * @exports toLowerCase\n * @exports toUpperCase\n * @exports toWordCase\n */\nimport '../src/glue';\nimport {toLowerCase, toUpperCase} from '../src/case';\n\n/*\n * This regex pattern is used by the [isRtlText()]{@link i18n/utils.isRtlText} function.\n *\n * Arabic: \\u0600-\\u06FF\\u0750-\\u077F\\u08A0-\\u08FF\\uFB50-\\uFDFF\\uFE70-\\uFEFE\n * Hebrew: \\u0590-\\u05FF\\uFB1D-\\uFB4F\n *\n * @private\n */\nconst rtlPattern = /[\\u0600-\\u06FF\\u0750-\\u077F\\u08A0-\\u08FF\\uFB50-\\uFDFF\\uFE70-\\uFEFE\\u0590-\\u05FF\\uFB1D-\\uFB4F]/;\n\n/**\n * Takes content `str` and determines whether or not it is [RTL]{@link /docs/developer-guide/glossary/#rtl}.\n *\n * @function\n * @memberof i18n/util\n * @param {String} str - A string to check the [RTL]{@link /docs/developer-guide/glossary/#rtl}-ness of.\n * @returns {Boolean} `true` if `str` should be RTL; `false` if not.\n * @public\n */\nconst isRtlText = function (str) {\n\tif (typeof str === 'string') {\n\t\treturn rtlPattern.test(str);\n\t}\n\n\treturn false;\n};\n\n/**\n * Capitalizes the first letter of a given string (locale aware).\n *\n * @function\n * @memberof i18n/util\n * @param {String} str - The string to capitalize.\n * @returns {String} The capitalized string.\n * @public\n */\nconst toCapitalized = function (str) {\n\treturn toUpperCase(str.slice(0, 1)) + str.slice(1);\n};\n\n/**\n * Capitalizes every word in a string. Words are separated by spaces, not necessarily\n * word-breaks (locale aware).\n *\n * @function\n * @memberof i18n/util\n * @param {String} str - The string to capitalize.\n * @returns {String} The word-cased string.\n * @public\n */\nconst toWordCase = (str) => {\n\treturn str.split(' ').map(toCapitalized).join(' ');\n};\n\n/**\n * Locale-safely convert a string to lower case.\n *\n * @name toLowerCase\n * @function\n * @memberof i18n/util\n * @param {String} inString String to convert to lower case\n * @returns {String} Lower-cased string\n * @public\n */\n\n/**\n * Locale-safely convert a string to upper case.\n *\n * @name toUpperCase\n * @function\n * @memberof i18n/util\n * @param {String} inString String to convert to upper case\n * @returns {String} Upper-cased string\n * @public\n */\n\nexport {\n\tisRtlText,\n\ttoCapitalized,\n\ttoLowerCase,\n\ttoUpperCase,\n\ttoWordCase\n};\n","import kind from '@enact/core/kind';\nimport {isRtlText} from '@enact/i18n/util';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport css from './Tooltip.module.less';\n\n/**\n * {@link agate/TooltipDecorator.TooltipLabel} is a stateless tooltip component with\n * Agate styling applied.\n *\n * @class TooltipLabel\n * @memberof agate/TooltipDecorator\n * @ui\n * @private\n */\nconst TooltipLabel = kind({\n\tname: 'TooltipLabel',\n\n\tpropTypes: /** @lends agate/TooltipDecorator.TooltipLabel.prototype */ {\n\t\t/**\n\t\t * The node to be displayed as the main content of the tooltip.\n\t\t *\n\t\t * @type {Node}\n\t\t * @required\n\t\t */\n\t\tchildren: PropTypes.node.isRequired,\n\n\t\t/**\n\t\t * The width of tooltip content in pixels (px). If the content goes over the given width,\n\t\t * then it will automatically wrap. When `null`, content does not wrap.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\twidth: PropTypes.number\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'tooltipLabel'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({width, styler}) => styler.append({multi: !!width}),\n\t\tstyle: ({children, width, style}) => {\n\t\t\treturn {\n\t\t\t\t...style,\n\t\t\t\tdirection: isRtlText(children) ? 'rtl' : 'ltr',\n\t\t\t\twidth\n\t\t\t};\n\t\t}\n\t},\n\n\trender: ({children, ...rest}) => {\n\t\tdelete rest.width;\n\n\t\treturn (\n\t\t\t<div {...rest}>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nexport default TooltipLabel;\nexport {\n\tTooltipLabel\n};\n","import kind from '@enact/core/kind';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Skinnable from '../Skinnable';\n\nimport TooltipLabel from './TooltipLabel';\n\nimport css from './Tooltip.module.less';\n\n/**\n * A stateless tooltip component with Agate styling applied.\n *\n * @class TooltipBase\n * @memberof agate/TooltipDecorator\n * @ui\n * @public\n */\nconst TooltipBase = kind({\n\tname: 'Tooltip',\n\n\tpropTypes: /** @lends agate/TooltipDecorator.TooltipBase.prototype */ {\n\t\t/**\n\t\t * The node to be displayed as the main content of the tooltip.\n\t\t *\n\t\t * @type {Node}\n\t\t * @required\n\t\t */\n\t\tchildren: PropTypes.node.isRequired,\n\n\t\t/**\n\t\t * Position of tooltip arrow in relation to the activator.\n\t\t *\n\t\t * Note that `'left'`, `'center'`, `'right'` are applicable when direction is in vertical\n\t\t * orientation (i.e. `'above'`, `'below'`), and `'top'`, `'middle'`, and `'bottom'` are\n\t\t * applicable when direction is in horizontal orientation (i.e. `'left'`, `'right'`)\n\t\t *\n\t\t * @type {('left'|'center'|'right'|'top'|'middle'|'bottom')}\n\t\t * @default 'right'\n\t\t * @public\n\t\t */\n\t\tarrowAnchor: PropTypes.oneOf(['left', 'center', 'right', 'top', 'middle', 'bottom']),\n\n\t\t/**\n\t\t * Direction of label in relation to the activator.\n\t\t *\n\t\t * @type {('above'|'below'|'left'|'right')}\n\t\t * @default 'above'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['above', 'below', 'left', 'right']),\n\n\t\t/**\n\t\t * A value representing the amount to offset the label portion of the tooltip.\n\t\t *\n\t\t * In a \"center\" aligned tooltip, the label may be desirable to offset to one side or the\n\t\t * other. This prop accepts a value betwen -0.5 and 0.5 (representing 50% to the left or\n\t\t * right). This defaults to 0 offset (centered). It also automatically caps the value so it\n\t\t * never positions the tooltip label past the anchored arrow. If the tooltip label or arrow\n\t\t * has non-rectangular geometry (rounded corners, a wide tail, etc), you'll need to manually\n\t\t * account for that in your provided offset value.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tlabelOffset: PropTypes.number,\n\n\t\t/**\n\t\t * Style object for tooltip position.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tposition: PropTypes.shape({\n\t\t\tbottom: PropTypes.number,\n\t\t\tleft: PropTypes.number,\n\t\t\tright: PropTypes.number,\n\t\t\ttop: PropTypes.number\n\t\t}),\n\n\t\t/**\n\t\t * Anchors the tooltip relative to its container.\n\t\t *\n\t\t * Reconfigures the component to anchor itself to the designated edge of its container.\n\t\t * When this is not specified, the implication is that the component is \"absolutely\"\n\t\t * positioned, relative to the viewport, rather than its parent layer.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\trelative: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when the tooltip mounts/unmounts, giving a reference to the DOM.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\ttooltipRef: PropTypes.func,\n\n\t\t/**\n\t\t * The width of tooltip content in pixels (px).\n\t\t *\n\t\t * If the content goes over the given width, then it will automatically wrap. When `null`,\n\t\t * content does not wrap.\n\t\t *\n\t\t * @type {Number|null}\n\t\t * @public\n\t\t */\n\t\twidth: PropTypes.number\n\t},\n\n\tdefaultProps: {\n\t\tarrowAnchor: 'right',\n\t\tdirection: 'above',\n\t\tlabelOffset: 0\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'tooltip'\n\t},\n\n\tcomputed: {\n\t\tlabelOffset: ({labelOffset}) => {\n\t\t\tif (labelOffset) {\n\t\t\t\tconst cappedPosition = Math.max(-0.5, Math.min(0.5, labelOffset));\n\t\t\t\treturn {transform: `translateX(${cappedPosition * 100}%)`};\n\t\t\t}\n\t\t},\n\t\tclassName: ({direction, arrowAnchor, relative, styler}) => styler.append(direction, `${arrowAnchor}Arrow`, {relative, absolute: !relative}),\n\t\tstyle: ({position, style}) => {\n\t\t\treturn {\n\t\t\t\t...style,\n\t\t\t\t...position\n\t\t\t};\n\t\t}\n\t},\n\n\trender: ({children, tooltipRef, width, labelOffset, ...rest}) => {\n\t\tdelete rest.arrowAnchor;\n\t\tdelete rest.labelOffset;\n\t\tdelete rest.direction;\n\t\tdelete rest.position;\n\t\tdelete rest.relative;\n\n\t\treturn (\n\t\t\t<div {...rest}>\n\t\t\t\t<div className={css.tooltipAnchor} ref={tooltipRef} >\n\t\t\t\t\t<div className={css.tooltipArrow} />\n\t\t\t\t\t<TooltipLabel width={width} style={labelOffset}>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</TooltipLabel>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n/**\n * A tooltip component with Agate styling applied.\n *\n * @class Tooltip\n * @memberof agate/TooltipDecorator\n * @ui\n * @public\n */\nconst Tooltip = Skinnable(TooltipBase);\n\nexport default Tooltip;\nexport {Tooltip, TooltipBase};\n","// TooltipDecorator util.js\n//\n\nimport ri from '@enact/ui/resolution';\n\n/**\n * Calculates the unusable space of a centered Tooltip, which the Tooltip arrow cannot be positioned,\n * as a percentage of the Tooltip's total width.\n *\n * @param  {Number} tooltipWidth        The measured width of the Tooltip\n * @return {Number}                     The percent of the width of the tooltip that the Tooltip's\n *                                      decorations allocate for themselves (on one side).\n * @private\n */\nconst getLabelUnavailableSpace = function (tooltipWidth) {\n\t// Arrow is 15px wide total, we need to know how wide half of it is, since it's centered on the anchor point.\n\tconst arrowWidth = (15 / 2);\n\n\t// Tooltip is 54px tall, divide by half to get the curve radius ,add the tooltip width\n\t// to determine the distance that the anchor cannot progress past.\n\tconst tooltipUnavailableEdge = ri.scale((54 / 2) + arrowWidth);\n\n\t// cap the offset at 50% - that percentage\n\tconst tooltipUnavaliablePercentage = 0.5 - (tooltipUnavailableEdge / tooltipWidth);\n\n\treturn tooltipUnavaliablePercentage;\n};\n\n/**\n * Adjust anchor position for `Tooltip` based on overflow and rtl.\n * Takes the output of `adjustDirection`, and `calcOverflow`.\n *\n * @method\n * @memberof agate/TooltipDecorator\n * @param   {String}  arrowAnchor       Initial anchor position\n * @param   {String}  tooltipDirection  Direction of tooltip; value from `adjustDirection`\n * @param   {Object}  overflow          Tooltip's calculated overflow from `calcOverflow`\n * @param   {Boolean} rtl               RTL mode\n * @returns {String}                    Adjusted anchor position\n * @private\n */\nconst adjustAnchor = function (arrowAnchor, tooltipDirection, overflow, rtl) {\n\tif (tooltipDirection === 'above' || tooltipDirection === 'below') {\n\t\tif (rtl && arrowAnchor !== 'center') {\n\t\t\tarrowAnchor = arrowAnchor === 'left' ? 'right' : 'left';\n\t\t}\n\n\t\t// Flip sideways if it overflows to the sides\n\t\tif (arrowAnchor === 'center') {\n\t\t\t// If tooltip is anchored in the center, don't flip. We'll offset it appropriately later.\n\t\t} else if (overflow.isOverRight) {\n\t\t\tarrowAnchor = 'left';\n\t\t} else if (overflow.isOverLeft) {\n\t\t\tarrowAnchor = 'right';\n\t\t}\n\n\t\t// If tooltip is just too wide for the whole screen, switch it to a center tooltip\n\t\tif (overflow.isOverWide && tooltipDirection !== 'left' && tooltipDirection !== 'right') {\n\t\t\tarrowAnchor = 'center';\n\t\t}\n\t}\n\n\treturn arrowAnchor;\n};\n\n/**\n * Adjust direction for `Tooltip` based on overflow and rtl.\n * Takes the output from `calcOverflow`.\n *\n * @method\n * @memberof agate/TooltipDecorator\n * @param   {String}  tooltipDirection  Direction of tooltip\n * @param   {Object}  overflow          Tooltip's calculated overflow from `calcOverflow`\n * @param   {Boolean} rtl               RTL mode\n * @returns {String}                    Adjusted tooltip direction\n * @private\n */\nconst adjustDirection = function (tooltipDirection, overflow, rtl) {\n\tif (rtl && (tooltipDirection === 'left' || tooltipDirection === 'right')) {\n\t\ttooltipDirection = tooltipDirection === 'left' ? 'right' : 'left';\n\t}\n\n\t// Flip tooltip if it overflows towards the tooltip direction\n\tif (overflow.isOverTop && tooltipDirection === 'above') {\n\t\ttooltipDirection = 'below';\n\t} else if (overflow.isOverBottom && tooltipDirection === 'below') {\n\t\ttooltipDirection = 'above';\n\t} else if (overflow.isOverLeft && tooltipDirection === 'left' && !overflow.isOverWide) {\n\t\ttooltipDirection = 'right';\n\t} else if (overflow.isOverRight && tooltipDirection === 'right' && !overflow.isOverWide) {\n\t\ttooltipDirection = 'left';\n\t}\n\n\treturn tooltipDirection;\n};\n\n/**\n * Calculates the overflow of `Tooltip` — if `Tooltip` is at the edge of the viewport.\n * Return the amount of overflow in a particular direction if there is overflow (false otherwise).\n *\n * @method\n * @memberof agate/TooltipDecorator\n * @param   {Object} tooltipNode        The `getBoundingClientRect` values for tooltip node\n * @param   {Object} clientNode         The `getBoundingClientRect` values for client node\n * @param   {String} tooltipDirection   Direction of tooltip\n * @param   {Number} tooltipHeight      Tooltip height\n * @param   {Number} edgeKeepout        Extra margin around the screen to avoid\n * @returns {Object}                    Tooltip's calculated overflow\n * @private\n */\nconst calcOverflow = function (tooltipNode, clientNode, tooltipDirection, edgeKeepout) {\n\t// get the distance of space on both the right and left side of the client node. `clientNode.width / 2` because we want the tooltip to be positioned horizontally in middle of the client node.\n\tconst windowWidth = window.innerWidth;\n\tconst windowHeight = window.innerHeight;\n\tconst clientHorizontalCenter = clientNode.left + (clientNode.width / 2);\n\tconst tooltipSafeWidth = tooltipNode.width + edgeKeepout;\n\tconst tooltipCenterdSafeWidth = (tooltipNode.width / 2) + edgeKeepout;\n\tconst rightDelta = tooltipSafeWidth > clientHorizontalCenter;\n\tconst leftDelta = tooltipSafeWidth > windowWidth - clientHorizontalCenter;\n\tconst isTooltipWide = (tooltipSafeWidth > windowWidth) || (leftDelta && rightDelta);\n\n\tif (tooltipDirection === 'above' || tooltipDirection === 'below') {\n\t\tconst isOverTop = clientNode.top - tooltipNode.height - edgeKeepout;\n\t\tconst isOverBottom = clientNode.bottom + tooltipNode.height + edgeKeepout;\n\t\tconst isOverLeft = clientHorizontalCenter - tooltipSafeWidth;\n\t\tconst isOverRight = clientHorizontalCenter + tooltipSafeWidth;\n\t\tconst isOverCenterLeft = clientHorizontalCenter - tooltipCenterdSafeWidth;\n\t\tconst isOverCenterRight = clientHorizontalCenter + tooltipCenterdSafeWidth;\n\t\treturn {\n\t\t\tisOverTop: (isOverTop < 0) ? isOverTop : false,\n\t\t\tisOverBottom: (isOverBottom > windowHeight) ? (isOverBottom - windowHeight) : false,\n\t\t\tisOverLeft: (isOverLeft < 0) ? isOverLeft : false,\n\t\t\tisOverRight: (isOverRight > windowWidth) ? (isOverRight - windowWidth) : false,\n\t\t\tisOverCenterLeft: (isOverCenterLeft < 0) ? isOverCenterLeft : false,\n\t\t\tisOverCenterRight: (isOverCenterRight > windowWidth) ? (isOverCenterRight - windowWidth) : false,\n\t\t\tisOverWide: isTooltipWide\n\t\t};\n\t} else if (tooltipDirection === 'left' || tooltipDirection === 'right') {\n\t\tconst isOverTop = clientNode.top - tooltipNode.height + clientNode.height - edgeKeepout;\n\t\tconst isOverBottom = clientNode.bottom + tooltipNode.height - (clientNode.height / 2) + edgeKeepout;\n\t\tconst isOverLeft = clientNode.left - tooltipNode.width - edgeKeepout;\n\t\tconst isOverRight = clientNode.right + tooltipNode.width + edgeKeepout;\n\t\treturn {\n\t\t\tisOverTop: (isOverTop < 0) ? isOverTop : false,\n\t\t\tisOverBottom: (isOverBottom > windowHeight) ? (isOverBottom - windowHeight) : false,\n\t\t\tisOverLeft: (isOverLeft < 0) ? isOverLeft : false,\n\t\t\tisOverRight: (isOverRight > windowWidth) ? (isOverRight - windowWidth) : false,\n\t\t\tisOverWide: isTooltipWide\n\t\t};\n\t}\n};\n\n/**\n * Calculates the top and left position for `Tooltip`.\n * Takes the output of `adjustAnchor`, `adjustDirection`, and `calcOverflow`.\n *\n * @method\n * @memberof agate/TooltipDecorator\n * @param   {Object} tooltipNode        The `getBoundingClientRect` values for tooltip node\n * @param   {Object} clientNode         The `getBoundingClientRect` values for client node\n * @param   {String} arrowAnchor        Anchor position from `adjustAnchor`\n * @param   {String} tooltipDirection   Direction of tooltip\n * @param   {Number} tooltipHeight      Tooltip height\n * @param   {Object} overflow           Tooltip's calculated overflow from `calcOverflow`\n * @param   {Boolean} rtl               RTL mode\n * @returns {Object}                    Tooltip top and left position\n * @private\n */\nconst getPosition = function (clientNode, tooltipDirection) {\n\tlet position = {};\n\n\tswitch (tooltipDirection) {\n\t\tcase 'above':\n\t\t\tposition.top = clientNode.top;\n\t\t\tbreak;\n\t\tcase 'below':\n\t\t\tposition.top = clientNode.bottom;\n\t\t\tbreak;\n\t\tcase 'right':\n\t\t\tposition.left = clientNode.right;\n\t\t\tbreak;\n\t\tcase 'left':\n\t\t\tposition.left = clientNode.left;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tposition = {};\n\t}\n\n\tif (tooltipDirection === 'above' || tooltipDirection === 'below') {\n\t\tposition.left = clientNode.left + clientNode.width / 2;\n\t} else if (tooltipDirection === 'left' || tooltipDirection === 'right') {\n\t\tposition.top = clientNode.top + clientNode.height / 2;\n\t}\n\n\treturn position;\n};\n\n/**\n * Adjusts the `Tooltip` arrow anchor when the tooltip is too wide.\n * Takes the output of `calcOverflow`.\n *\n * @method\n * @memberof agate/TooltipDecorator\n * @param   {Object}  tooltipNode       The `getBoundingClientRect` values for tooltip node\n * @param   {String}  tooltipDirection  Direction of tooltip\n * @param   {Object}  tooltipPosition   Calculated tooltip position from `getPosition`\n * @param   {Object}  overflow          Tooltip's calculated overflow from `calcOverflow`\n * @private\n */\nconst getLabelOffset = function (tooltipNode, tooltipDirection, tooltipPosition, overflow) {\n\t// This method is irrelevent to left and right anchored tooltips, skip entirely.\n\tif (tooltipDirection !== 'left' && tooltipDirection !== 'right') {\n\t\tconst tooltipWidth = tooltipNode.width;\n\n\t\tif (\n\t\t\toverflow.isOverWide ||\n\t\t\toverflow.isOverCenterLeft ||\n\t\t\toverflow.isOverCenterRight\n\t\t) {\n\t\t\tlet pixelOffset = 0;\n\n\t\t\tif (overflow.isOverCenterLeft) {\n\t\t\t\t// Start shifting the label to the right (negative offset)\n\t\t\t\tpixelOffset = overflow.isOverCenterLeft;\n\t\t\t} else if (overflow.isOverCenterRight) {\n\t\t\t\t// Start shifting the label to the left (positive offset)\n\t\t\t\tpixelOffset = overflow.isOverCenterRight;\n\t\t\t}\n\n\t\t\tconst percentageOffset = (pixelOffset / tooltipWidth) * -1;\n\t\t\tconst offsetBoundaryPercentage = getLabelUnavailableSpace(tooltipWidth);\n\t\t\tconst cappedPercentageOffset = Math.max(offsetBoundaryPercentage * -1, Math.min(offsetBoundaryPercentage, percentageOffset));\n\n\t\t\treturn cappedPercentageOffset;\n\t\t}\n\t}\n\treturn null;\n};\n\nexport {\n\tadjustDirection,\n\tadjustAnchor,\n\tcalcOverflow,\n\tgetLabelOffset,\n\tgetPosition\n};\n","/* global MutationObserver ResizeObserver */\n\n/**\n * Agate styled tooltip components.\n *\n * @module agate/TooltipDecorator\n * @exports Tooltip\n * @exports TooltipBase\n * @exports TooltipDecorator\n */\n\nimport {forward, handle, forProp} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport {Job} from '@enact/core/util';\nimport {I18nContextDecorator} from '@enact/i18n/I18nDecorator';\nimport {FloatingLayerBase} from '@enact/ui/FloatingLayer';\nimport ri from '@enact/ui/resolution';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {Tooltip, TooltipBase} from './Tooltip';\nimport {adjustDirection, adjustAnchor, calcOverflow, getLabelOffset, getPosition} from './util';\n\nlet currentTooltip; // needed to know whether or not we should stop a showing job when unmounting\n\n/**\n * Default config for [TooltipDecorator]{@link agate/TooltipDecorator.TooltipDecorator}\n *\n * @memberof agate/TooltipDecorator.TooltipDecorator\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * The boundary around the screen which the tooltip should never cross, typically involving\n\t * flipping to an alternate orientation or adjusting its offset to remain on screen.\n\t * The default of 24 is derived from a standard 12px screen-keepout size plus the standard\n\t * Spotlight-outset (12px) margin/padding value which keeps elements and text aligned inside a\n\t * [Panel]{@link agate/Panels.Panel}. Note: This value will be scaled according to the\n\t * resolution.\n\t *\n\t * @type {Number}\n\t * @default 24\n\t * @memberof agate/TooltipDecorator.TooltipDecorator.defaultConfig\n\t */\n\tscreenEdgeKeepout: (12 + 12),\n\n\t/**\n\t * The name of the property which will receive the tooltip node.\n\t *\n\t * By default, `TooltipDecorator` will add a new child to the wrapped component, following any\n\t * other children passed in. If a component needs to, it can specify another property to receive\n\t * the tooltip and the `children` property will not be modified.\n\t *\n\t * @type {String}\n\t * @default 'children'\n\t * @memberof agate/TooltipDecorator.TooltipDecorator.defaultConfig\n\t */\n\ttooltipDestinationProp: 'children'\n};\n\n/**\n * A higher-order component which positions [Tooltip]{@link agate/TooltipDecorator.Tooltip} in\n * relation to the wrapped component.\n *\n * The tooltip is automatically displayed when the decoratorated component is focused after a set\n * period of time.\n *\n * The tooltip is positioned around the decorator where there is available window space.\n *\n * Note that the direction of tooltip will be flipped horizontally in RTL locales.\n *\n * @class TooltipDecorator\n * @memberof agate/TooltipDecorator\n * @hoc\n * @public\n */\nconst TooltipDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\n\tconst tooltipDestinationProp = config.tooltipDestinationProp;\n\n\tconst Decorator = class extends React.Component {\n\t\tstatic displayName = 'TooltipDecorator';\n\n\t\tstatic propTypes = /** @lends agate/TooltipDecorator.TooltipDecorator.prototype */ {\n\t\t\t/**\n\t\t\t * Disables the component but does not affect tooltip operation.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tdisabled: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Indicates the tooltip text direction is right-to-left.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @private\n\t\t\t */\n\t\t\trtl: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Time to wait (in milliseconds) before showing tooltip on hover.\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 500\n\t\t\t * @public\n\t\t\t */\n\t\t\ttooltipDelay: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * Position of the tooltip with respect to the wrapped component.\n\t\t\t *\n\t\t\t * | *Value* | *Tooltip Direction* |\n\t\t\t * |---|---|\n\t\t\t * | `'above'` | Above component, flowing to the right |\n\t\t\t * | `'above center'` | Above component, centered |\n\t\t\t * | `'above left'` | Above component, flowing to the left |\n\t\t\t * | `'above right'` | Above component, flowing to the right |\n\t\t\t * | `'below'` | Below component, flowing to the right |\n\t\t\t * | `'below center'` | Below component, centered |\n\t\t\t * | `'below left'` | Below component, flowing to the left |\n\t\t\t * | `'below right'` | Below component, flowing to the right |\n\t\t\t * | `'left bottom'` | Left of the component, contents at the bottom |\n\t\t\t * | `'left middle'` | Left of the component, contents middle aligned |\n\t\t\t * | `'left top'` | Left of the component, contents at the top |\n\t\t\t * | `'right bottom'` | Right of the component, contents at the bottom |\n\t\t\t * | `'right middle'` | Right of the component, contents middle aligned |\n\t\t\t * | `'right top'` | Right of the component, contents at the top |\n\t\t\t *\n\t\t\t * `TooltipDectorator` attempts to choose the best direction to meet layout and language\n\t\t\t * requirements. Left and right directions will reverse for RTL languages. Additionally,\n\t\t\t * the tooltip will reverse direction if it will prevent overflowing off the viewport\n\t\t\t *\n\t\t\t * @type {('above'|'above center'|'above left'|'above right'|'below'|\n\t\t\t *  'below center'|'below left'|'below right'|'left bottom'|'left middle'|'left top'|\n\t\t\t * \t'right bottom'|'right middle'|'right top')}\n\t\t\t * @default 'above'\n\t\t\t * @public\n\t\t\t */\n\t\t\ttooltipPosition: PropTypes.oneOf([\n\t\t\t\t'above', 'above center', 'above left', 'above right',\n\t\t\t\t'below', 'below center', 'below left', 'below right',\n\t\t\t\t'left bottom', 'left middle', 'left top',\n\t\t\t\t'right bottom', 'right middle', 'right top']),\n\n\t\t\t/**\n\t\t\t * Properties to be passed to tooltip component.\n\t\t\t *\n\t\t\t * @type {Object}\n\t\t\t * @public\n\t\t\t */\n\t\t\ttooltipProps: PropTypes.object,\n\n\t\t\t/**\n\t\t\t * Positions the tooltip relative to its container.\n\t\t\t *\n\t\t\t * Determines whether your tooltip should position itself relative to its container or\n\t\t\t * relative to the screen (absolute positioning on the floating layer). When setting to\n\t\t\t * `true`, to enable relative positioning, it may be important to specify the\n\t\t\t * `tooltipDestinationProp` key in this HoC's config object. A relatively positioned\n\t\t\t * Tooltip for a `Button`, for example, must be placed in the `decoration` prop.\n\t\t\t *\n\t\t\t * It may be necessary to assign the CSS rule `position` to the containing element so\n\t\t\t * relatively positioned Tooltip has a frame to \"stick to\" the edge of.\n\t\t\t *\n\t\t\t * Anchoring points can be visualized as follows:\n\t\t\t * ```\n\t\t\t * ┌───◎───┐\n\t\t\t * ◎       ◎\n\t\t\t * └───◎───┘\n\t\t\t * ```\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @public\n\t\t\t */\n\t\t\ttooltipRelative: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Tooltip content.\n\t\t\t *\n\t\t\t * @type {Node}\n\t\t\t * @public\n\t\t\t */\n\t\t\ttooltipText: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\n\n\t\t\t/**\n\t\t\t * The interval (in milliseconds) to recheck the math for a currently showing tooltip's\n\t\t\t * positioning and orientation. Useful if your anchor element moves.\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 400\n\t\t\t * @public\n\t\t\t */\n\t\t\ttooltipUpdateDelay: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * The width of tooltip content in pixels (px).\n\t\t\t *\n\t\t\t * If the content goes over the given width, it will automatically wrap. When `null`,\n\t\t\t * content does not wrap.\n\t\t\t *\n\t\t\t * @type {Number|null}\n\t\t\t * @public\n\t\t\t */\n\t\t\ttooltipWidth: PropTypes.number\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\tdisabled: false,\n\t\t\ttooltipDelay: 500,\n\t\t\ttooltipPosition: 'above',\n\t\t\ttooltipUpdateDelay: 400\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.state = {\n\t\t\t\tshowing: false,\n\t\t\t\ttooltipDirection: null,\n\t\t\t\tarrowAnchor: null,\n\t\t\t\tposition: {top: 0, left: 0}\n\t\t\t};\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\tif (window.MutationObserver) {\n\t\t\t\tthis.mutationObserver = new MutationObserver(this.startTooltipLayoutJob);\n\t\t\t}\n\n\t\t\tif (window.ResizeObserver) {\n\t\t\t\tthis.resizeObserver = new ResizeObserver(this.startTooltipLayoutJob);\n\t\t\t}\n\t\t}\n\n\t\tcomponentDidUpdate (prevProps, prevState) {\n\t\t\tif (this.state.showing && (\n\t\t\t\tprevProps.tooltipText !== this.props.tooltipText ||\n\t\t\t\tprevProps.tooltipPosition !== this.props.tooltipPosition ||\n\t\t\t\tprevState.showing !== this.state.showing\n\t\t\t)) {\n\t\t\t\tthis.setTooltipLayout();\n\t\t\t}\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tif (currentTooltip === this) {\n\t\t\t\tcurrentTooltip = null;\n\n\t\t\t\tif (this.mutationObserver) {\n\t\t\t\t\tthis.mutationObserver.disconnect();\n\t\t\t\t}\n\n\t\t\t\tif (this.resizeObserver) {\n\t\t\t\t\tthis.resizeObserver.disconnect();\n\t\t\t\t}\n\n\t\t\t\tthis.showTooltipJob.stop();\n\t\t\t\tthis.setTooltipLayoutJob.stop();\n\t\t\t}\n\t\t}\n\n\t\tsetTooltipLayout () {\n\t\t\tif (!this.tooltipRef || !this.clientRef) return;\n\n\t\t\tconst screenEdgeKeepout = ri.scale(config.screenEdgeKeepout);\n\t\t\tconst position = this.props.tooltipPosition;\n\t\t\tconst arr = position.split(' ');\n\t\t\tlet tooltipDirection = null;\n\t\t\tlet arrowAnchor = null;\n\n\t\t\tif (arr.length === 2) {\n\t\t\t\t[tooltipDirection, arrowAnchor] = arr;\n\t\t\t} else if (position === 'above' || position === 'below') {\n\t\t\t\ttooltipDirection = position;\n\t\t\t\tarrowAnchor = 'right';\n\t\t\t} else {\n\t\t\t\ttooltipDirection = 'above';\n\t\t\t\tarrowAnchor = 'right';\n\t\t\t}\n\n\t\t\tconst tooltipNode = this.tooltipRef.getBoundingClientRect(); // label bound\n\t\t\tconst clientNode = this.clientRef.getBoundingClientRect(); // client bound\n\t\t\tconst overflow = calcOverflow(tooltipNode, clientNode, tooltipDirection, screenEdgeKeepout);\n\n\t\t\ttooltipDirection = adjustDirection(tooltipDirection, overflow, this.props.rtl);\n\t\t\tarrowAnchor = adjustAnchor(arrowAnchor, tooltipDirection, overflow, this.props.rtl);\n\n\t\t\tconst tooltipPosition = getPosition(clientNode, tooltipDirection);\n\t\t\tconst labelOffset = arrowAnchor === 'center' ? getLabelOffset(tooltipNode, tooltipDirection, tooltipPosition, overflow) : null;\n\t\t\tconst {top, left} = this.state.position;\n\n\t\t\tif (\n\t\t\t\t(tooltipPosition.top !== top) ||\n\t\t\t\t(tooltipPosition.left !== left) ||\n\t\t\t\t(labelOffset !== this.state.labelOffset) ||\n\t\t\t\t(arrowAnchor !== this.state.arrowAnchor)\n\t\t\t) {\n\t\t\t\tthis.setState({\n\t\t\t\t\ttooltipDirection,\n\t\t\t\t\tarrowAnchor,\n\t\t\t\t\tlabelOffset,\n\t\t\t\t\tposition: tooltipPosition\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tshowTooltipJob = new Job(() => {\n\t\t\tif (!this.state.showing) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tshowing: true\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tsetTooltipLayoutJob = new Job(() => {\n\t\t\tthis.setTooltipLayout();\n\t\t});\n\n\t\tstartTooltipLayoutJob = () => {\n\t\t\tthis.setTooltipLayoutJob.startAfter(this.props.tooltipUpdateDelay);\n\t\t};\n\n\t\tshowTooltip = (client) => {\n\t\t\tconst {tooltipDelay, tooltipText} = this.props;\n\n\t\t\tif (tooltipText) {\n\t\t\t\tthis.clientRef = client;\n\t\t\t\tcurrentTooltip = this;\n\t\t\t\tthis.showTooltipJob.startAfter(tooltipDelay);\n\n\t\t\t\tif (this.mutationObserver) {\n\t\t\t\t\tthis.mutationObserver.observe(this.clientRef, {attributes: true, childList: true});\n\t\t\t\t}\n\n\t\t\t\tif (this.resizeObserver) {\n\t\t\t\t\tthis.resizeObserver.observe(this.clientRef);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\thideTooltip = () => {\n\t\t\tif (this.props.tooltipText) {\n\t\t\t\tif (this.mutationObserver) {\n\t\t\t\t\tthis.mutationObserver.disconnect();\n\t\t\t\t}\n\n\t\t\t\tif (this.resizeObserver) {\n\t\t\t\t\tthis.resizeObserver.disconnect();\n\t\t\t\t}\n\n\t\t\t\tthis.clientRef = null;\n\t\t\t\tcurrentTooltip = null;\n\n\t\t\t\tthis.showTooltipJob.stop();\n\t\t\t\tthis.setTooltipLayoutJob.stop();\n\n\t\t\t\tif (this.state.showing) {\n\t\t\t\t\tthis.setState({showing: false});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\thandle = handle.bind(this);\n\n\t\t// Recalculate tooltip layout on keydown to make sure tooltip is positioned correctly in case something changes as a result of the keydown.\n\t\thandleKeyDown = this.handle(\n\t\t\tforward('onKeyDown'),\n\t\t\tforProp('disabled', false),\n\t\t\t() => {\n\t\t\t\tthis.startTooltipLayoutJob();\n\t\t\t}\n\t\t);\n\n\t\thandleMouseOver = this.handle(\n\t\t\tforward('onMouseOver'),\n\t\t\tforProp('disabled', true),\n\t\t\t(ev) => {\n\t\t\t\tthis.showTooltip(ev.target);\n\t\t\t}\n\t\t);\n\n\t\thandleMouseOut = this.handle(\n\t\t\tforward('onMouseOut'),\n\t\t\tforProp('disabled', true),\n\t\t\t() => {\n\t\t\t\tthis.hideTooltip();\n\t\t\t}\n\t\t);\n\n\t\thandleFocus = this.handle(\n\t\t\tforward('onFocus'),\n\t\t\t({target}) => this.showTooltip(target)\n\t\t);\n\n\t\thandleBlur = this.handle(\n\t\t\tforward('onBlur'),\n\t\t\tthis.hideTooltip\n\t\t);\n\n\t\tgetTooltipRef = (node) => {\n\t\t\tthis.tooltipRef = node;\n\t\t\tif (node) {\n\t\t\t\tthis.setTooltipLayout();\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Conditionally creates the FloatingLayer and Tooltip based on the presence of\n\t\t * `tooltipText` and returns a property bag to pass onto the Wrapped component\n\t\t *\n\t\t * @returns {Object} Prop object\n\t\t * @private\n\t\t */\n\t\trenderTooltip () {\n\t\t\tconst {children, tooltipRelative, tooltipProps, tooltipText, tooltipWidth} = this.props;\n\n\t\t\tif (tooltipText) {\n\t\t\t\tlet renderedTooltip = (\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\taria-live=\"off\"\n\t\t\t\t\t\trole=\"alert\"\n\t\t\t\t\t\tlabelOffset={this.state.labelOffset}\n\t\t\t\t\t\t{...tooltipProps}\n\t\t\t\t\t\tarrowAnchor={this.state.arrowAnchor}\n\t\t\t\t\t\tdirection={this.state.tooltipDirection}\n\t\t\t\t\t\tposition={tooltipRelative ? null : this.state.position}\n\t\t\t\t\t\trelative={tooltipRelative}\n\t\t\t\t\t\tstyle={{display: ((tooltipRelative && !this.state.showing) ? 'none' : null)}}\n\t\t\t\t\t\ttooltipRef={this.getTooltipRef}\n\t\t\t\t\t\twidth={tooltipWidth}\n\t\t\t\t\t>\n\t\t\t\t\t\t{tooltipText}\n\t\t\t\t\t</Tooltip>\n\t\t\t\t);\n\n\n\t\t\t\tif (!tooltipRelative) {\n\t\t\t\t\trenderedTooltip = (\n\t\t\t\t\t\t<FloatingLayerBase open={this.state.showing} noAutoDismiss onDismiss={this.hideTooltip} scrimType=\"none\" key=\"tooltipFloatingLayer\">\n\t\t\t\t\t\t\t{renderedTooltip}\n\t\t\t\t\t\t</FloatingLayerBase>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (tooltipDestinationProp === 'children') {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tchildren: [children, renderedTooltip]\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t[tooltipDestinationProp]: renderedTooltip\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {children};\n\t\t}\n\n\t\trender () {\n\t\t\t// minor optimization to merge all the props together once since we also have to delete\n\t\t\t// invalid props before passing downstream\n\t\t\tconst props = Object.assign(\n\t\t\t\t{},\n\t\t\t\tthis.props,\n\t\t\t\tthis.renderTooltip(),\n\t\t\t\t{\n\t\t\t\t\tonBlur: this.handleBlur,\n\t\t\t\t\tonFocus: this.handleFocus,\n\t\t\t\t\tonMouseOut: this.handleMouseOut,\n\t\t\t\t\tonMouseOver: this.handleMouseOver,\n\t\t\t\t\tonKeyDown: this.handleKeyDown\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tdelete props.rtl;\n\t\t\tdelete props.tooltipDelay;\n\t\t\tdelete props.tooltipPosition;\n\t\t\tdelete props.tooltipProps;\n\t\t\tdelete props.tooltipRelative;\n\t\t\tdelete props.tooltipText;\n\t\t\tdelete props.tooltipUpdateDelay;\n\t\t\tdelete props.tooltipWidth;\n\n\t\t\treturn (\n\t\t\t\t<Wrapped {...props} />\n\t\t\t);\n\t\t}\n\t};\n\n\treturn I18nContextDecorator(\n\t\t{rtlProp: 'rtl'},\n\t\tDecorator\n\t);\n});\n\nexport default TooltipDecorator;\nexport {\n\tTooltip,\n\tTooltipBase,\n\tTooltipDecorator\n};\n","/**\n * Exports the {@link spotlight/SpotlightRootDecorator.SpotlightRootDecorator}\n * higher-order component.\n *\n * @module spotlight/SpotlightRootDecorator\n * @exports SpotlightRootDecorator\n */\n\nimport hoc from '@enact/core/hoc';\nimport React from 'react';\n\nimport Spotlight from '../src/spotlight';\nimport {spottableClass} from '../Spottable';\n\nimport {rootContainerId} from '../src/container';\n\nimport '../styles/debug.less';\n\n/**\n * Default configuration for SpotlightRootDecorator\n *\n * @hocconfig\n * @memberof spotlight/SpotlightRootDecorator.SpotlightRootDecorator\n */\nconst defaultConfig = {\n\t/**\n\t * When `true`, the contents of the component will not receive spotlight focus after being rendered.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t * @memberof spotlight/SpotlightRootDecorator.SpotlightRootDecorator.defaultConfig\n\t */\n\tnoAutoFocus: false\n};\n\n/**\n * Constructs a higher-order component that initializes and enables Spotlight 5-way navigation\n * within an application.\n *\n * No additional properties are passed to the wrapped component.\n *\n * Example:\n * ```\n *\tconst App = SpotlightRootDecorator(ApplicationView);\n * ```\n *\n * @class SpotlightRootDecorator\n * @memberof spotlight/SpotlightRootDecorator\n * @param  {Object} defaultConfig Set of default configuration parameters\n * @param  {Function} Wrapped higher-order component\n * @returns {Function} SpotlightRootDecorator\n * @hoc\n */\nconst SpotlightRootDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {noAutoFocus} = config;\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'SpotlightRootDecorator';\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tif (typeof window === 'object') {\n\t\t\t\tSpotlight.initialize({\n\t\t\t\t\tselector: '.' + spottableClass,\n\t\t\t\t\trestrict: 'none'\n\t\t\t\t});\n\n\t\t\t\tSpotlight.set(rootContainerId, {\n\t\t\t\t\toverflow: true\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\tif (!noAutoFocus) {\n\t\t\t\tSpotlight.focus();\n\t\t\t}\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tSpotlight.terminate();\n\t\t}\n\n\t\tnavigableFilter = (elem) => {\n\t\t\twhile (elem && elem !== document && elem.nodeType === 1) {\n\t\t\t\tif (elem.getAttribute('data-spotlight-container-disabled') === 'true') return false;\n\t\t\t\telem = elem.parentNode;\n\t\t\t}\n\t\t};\n\n\t\trender () {\n\t\t\treturn <Wrapped {...this.props} />;\n\t\t}\n\t};\n});\n\nexport default SpotlightRootDecorator;\nexport {\n\tSpotlightRootDecorator\n};\n","/**\n * Applies Agate specific styling and behaviors.\n *\n * @module agate/ThemeDecorator\n * @exports ThemeDecorator\n */\n\nimport {addAll} from '@enact/core/keymap';\nimport classnames from 'classnames';\nimport kind from '@enact/core/kind';\nimport hoc from '@enact/core/hoc';\nimport I18nDecorator from '@enact/i18n/I18nDecorator';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {ResolutionDecorator} from '@enact/ui/resolution';\nimport {FloatingLayerDecorator} from '@enact/ui/FloatingLayer';\nimport SpotlightRootDecorator from '@enact/spotlight/SpotlightRootDecorator';\nimport convert from 'color-convert';\n\nimport Skinnable from '../Skinnable';\n\nimport screenTypes from './screenTypes.json';\nimport css from './ThemeDecorator.module.less';\n\n/**\n * Default config for {@link agate/ThemeDecorator.ThemeDecorator}.\n *\n * @memberof agate/ThemeDecorator.ThemeDecorator\n * @hocconfig\n */\nconst defaultConfig = /** @lends agate/ThemeDecorator.ThemeDecorator.defaultConfig */ {\n\t/**\n\t * Enables customization of a skin's highlight and accent color.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @public\n\t */\n\tcustomSkin: true,\n\n\t/**\n\t * Enables a floating layer for popup components.\n\t *\n\t * If `false`, app will be responsible for applying the decorator.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @see {@link ui/FloatingLayer.FloatingLayerDecorator}\n\t * @public\n\t */\n\tfloat: true,\n\n\t/**\n\t * Applies I18nDecorator.\n\t *\n\t * If `false`, app will be responsible for applying the decorator.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @see {@link i18n/I18nDecorator}\n\t * @public\n\t */\n\ti18n: true,\n\n\t/**\n\t * Disables setting spotlight focus on first render.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tnoAutoFocus: false,\n\n\t/**\n\t * Enables overlay mode (no background color will be applied).\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\toverlay: false,\n\n\t/**\n\t * Override the resolution independence settings.\n\t *\n\t * @type {Object}\n\t * @see {@link ui/resolution}\n\t * @public\n\t */\n\tri: {\n\t\tscreenTypes\n\t},\n\n\t/**\n\t * Applies skinning support.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @see {@link agate/Skinnable}\n\t * @public\n\t */\n\tskin: true,\n\n\t/**\n\t * Applies spotlight decorator.\n\t *\n\t * If `false`, app will be responsible for applying the decorator.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @see {@link spotlight/SpotlightRootDecorator}\n\t * @public\n\t */\n\tspotlight: true\n};\n\n// TODO: If this will be public it should be documented or perhaps the props\n// added to `ThemeDecorator`\nconst CustomizableSkinStyle = kind({\n\tname: 'CustomizableSkinStyle',\n\n\tpropTypes: {\n\t\tclassName: PropTypes.string.isRequired,\n\n\t\t/**\n\t\t * A custom accent color, as a hex string.\n\t\t *\n\t\t * @memberof agate/ThemeDecorator.ThemeDecorator.prototype\n\t\t * @type {String}\n\t\t * @default '#8b7efe'\n\t\t * @public\n\t\t */\n\t\taccent: PropTypes.string,\n\n\t\t/**\n\t\t * A custom highlight color, as a hex string.\n\t\t *\n\t\t * @memberof agate/ThemeDecorator.ThemeDecorator.prototype\n\t\t * @type {String}\n\t\t * @default '#c6c0fe'\n\t\t * @public\n\t\t */\n\t\thighlight: PropTypes.string\n\t},\n\n\t// TODO: Consider allowing `null` and dropping this override completely\n\tdefaultProps: {\n\t\taccent: '#8b7efe',\n\t\thighlight: '#c6c0fe'\n\t},\n\n\tcomputed: {\n\t\tcssRules: ({className, accent, highlight}) => {\n\t\t\tconst accentObj = convert.hex.hsl(accent);\n\t\t\tconst highlightObj = convert.hex.hsl(highlight);\n\n\t\t\tconst style = {\n\t\t\t\t'--agate-accent-color': accent,\n\t\t\t\t'--agate-accent-h': accentObj[0],\n\t\t\t\t'--agate-accent-s': accentObj[1] + '%',\n\t\t\t\t'--agate-accent-l': accentObj[2] + '%',\n\t\t\t\t'--agate-highlight-color': highlight,\n\t\t\t\t'--agate-highlight-h': highlightObj[0],\n\t\t\t\t'--agate-highlight-s': highlightObj[1] + '%',\n\t\t\t\t'--agate-highlight-l': highlightObj[2] + '%'\n\t\t\t};\n\n\t\t\tlet styleRules = '';\n\t\t\tfor (const rule in style) {\n\t\t\t\tstyleRules += `\\t${rule}: ${style[rule]};\\n`;\n\t\t\t}\n\t\t\treturn `.${className} {\\n${styleRules}}\\n`;\n\t\t}\n\t},\n\n\trender: ({cssRules, ...rest}) => {\n\t\tdelete rest.className;\n\t\treturn (cssRules ? <style type=\"text/css\" {...rest}>{cssRules}</style> : null);\n\t}\n});\n\n/**\n * {@link agate/ThemeDecorator.ThemeDecorator} is a Higher-order Component that applies\n * Agate theming to an application. It also applies\n * [floating layer]{@link ui/FloatingLayer.FloatingLayerDecorator},\n * [resolution independence]{@link ui/resolution.ResolutionDecorator},\n * [skin support]{@link ui/Skinnable}, [spotlight]{@link spotlight.SpotlightRootDecorator}, and\n * [internationalization support]{@link i18n/I18nDecorator.I18nDecorator}. It is meant to be applied to\n * the root element of an app.\n *\n * [Skins]{@link ui/Skinnable} provide a way to change the coloration of your app. The currently\n * supported skins for Agate are \"agate\" (the default, dark skin) and \"agate-light\".\n * Use the `skin` property to assign a skin. Ex: `<DecoratedApp skin=\"light\" />`\n *\n * @class ThemeDecorator\n * @memberof agate/ThemeDecorator\n * @mixes ui/FloatingLayer.FloatingLayerDecorator\n * @mixes ui/resolution.ResolutionDecorator\n * @mixes spotlight/SpotlightRootDecorator.SpotlightRootDecorator\n * @mixes agate/Skinnable.Skinnable\n * @hoc\n * @public\n */\nconst ThemeDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\t// TODO: Document props passable to hoc ()\n\tconst {customSkin, float, i18n, noAutoFocus, overlay, ri, skin, spotlight} = config;\n\n\tconst bgClassName = classnames(\n\t\t'enact-fit',\n\t\t{\n\t\t\t[css.bg]: !overlay\n\t\t}\n\t);\n\n\tlet App = Wrapped;\n\tif (float) App = FloatingLayerDecorator({wrappedClassName: bgClassName}, App);\n\tif (ri) App = ResolutionDecorator(ri, App);\n\tif (i18n) App = I18nDecorator({sync: true}, App);\n\tif (spotlight) App = SpotlightRootDecorator({noAutoFocus}, App);\n\tif (skin) App = Skinnable({defaultSkin: 'gallium'}, App);\n\n\t// add webOS-specific key maps\n\taddAll({\n\t\tcancel: 461,\n\t\tpointerHide: 1537,\n\t\tpointerShow: 1536\n\t});\n\n\tconst Decorator = class extends React.Component {\n\t\tstatic displayName = 'ThemeDecorator';\n\n\t\tstatic propTypes = {\n\t\t\taccent: PropTypes.string,\n\t\t\thighlight: PropTypes.string\n\t\t};\n\n\t\trender () {\n\t\t\tconst {accent, className, highlight, ...rest} = this.props;\n\t\t\tconst customizableSkinClassName = 'agate-customized-skin';\n\n\t\t\tconst allClassNames = classnames(\n\t\t\t\tclassName,\n\t\t\t\t'enact-unselectable',\n\t\t\t\tbgClassName,\n\t\t\t\tcss.root,\n\t\t\t\t{[customizableSkinClassName]: customSkin}\n\t\t\t);\n\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t{customSkin ? <CustomizableSkinStyle className={customizableSkinClassName} accent={accent} highlight={highlight} /> : null}\n\t\t\t\t\t<App {...rest} className={allClassNames} />\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t}\n\t};\n\n\treturn Decorator;\n});\n\nexport default ThemeDecorator;\nexport {ThemeDecorator};\n","// Agate Environment\n\nimport kind from '@enact/core/kind';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {color} from '@storybook/addon-knobs';\nimport {Row, Column, Cell} from '@enact/ui/Layout';\nimport {boolean, select} from '@enact/storybook-utils/addons/knobs';\n\nimport ThemeDecorator from '@enact/agate/ThemeDecorator';\nimport Heading from '@enact/agate/Heading';\nimport {Panels, Panel} from '@enact/agate/Panels';\nimport Skinnable from '@enact/agate/Skinnable';\nimport Scroller from '@enact/agate/Scroller';\n\nimport css from './ThemeEnvironment.module.less';\n\nconst globalGroup = 'Global Knobs';\n\n// const reloadPage = () => {\n// \tconst {protocol, host, pathname} = window.parent.location;\n// \twindow.parent.location.href = protocol + '//' + host + pathname;\n// };\n\nconst SkinFrame = Skinnable(kind({\n\tname: 'SkinFrame',\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'skinFrame'\n\t},\n\trender: (props) => (\n\t\t<Row {...props} />\n\t)\n}));\n\nconst reloadPage = () => {\n\tconst {protocol, host, pathname} = window.parent.location;\n\twindow.parent.location.href = protocol + '//' + host + pathname;\n};\n\nconst PanelsBase = kind({\n\tname: 'ThemeEnvironment',\n\n\tpropTypes: {\n\t\tdescription: PropTypes.string,\n\t\ttitle: PropTypes.string\n\t},\n\n\trender: ({children, title, description, ...rest}) => (\n\t\t<div {...rest}>\n\t\t\t<Panels onApplicationClose={reloadPage}>\n\t\t\t\t<Panel className={css.panel}>\n\t\t\t\t\t<Column>\n\t\t\t\t\t\t<Cell shrink>\n\t\t\t\t\t\t\t<Heading showLine>{title}</Heading>\n\t\t\t\t\t\t\t{description ? (\n\t\t\t\t\t\t\t\t<div className={css.description}>\n\t\t\t\t\t\t\t\t\t<p>{description}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t<Cell className={css.storyBody}>\n\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t</Cell>\n\t\t\t\t\t</Column>\n\t\t\t\t</Panel>\n\t\t\t</Panels>\n\t\t</div>\n\t)\n});\n\nconst FullscreenBase = kind({\n\tname: 'ThemeEnvironment',\n\n\trender: (props) => (\n\t\t<div {...props} />\n\t)\n});\n\nconst Agate = ThemeDecorator({overlay: false}, PanelsBase);\nconst AgateFullscreen = ThemeDecorator({overlay: false}, FullscreenBase);\n\nconst locales = {\n\t'local': '',\n\t'en-US - US English': 'en-US',\n\t'ko-KR - Korean': 'ko-KR',\n\t'es-ES - Spanish, with alternate weekends': 'es-ES',\n\t'am-ET - Amharic, 5 meridiems': 'am-ET',\n\t'th-TH - Thai, with tall characters': 'th-TH',\n\t'ar-SA - Arabic, RTL and standard font': 'ar-SA',\n\t'ur-PK - Urdu, RTL and custom Urdu font': 'ur-PK',\n\t'zh-Hans-HK - Simplified Chinese, custom Hans font': 'zh-Hans-HK',\n\t'zh-Hant-HK - Traditional Chinese, custom Hant font': 'zh-Hant-HK',\n\t'vi-VN - Vietnamese, Special non-latin font handling': 'vi-VN',\n\t'ta-IN - Tamil, custom Indian font': 'ta-IN',\n\t'ja-JP - Japanese, custom Japanese font': 'ja-JP',\n\t'en-JP - English, custom Japanese font': 'en-JP',\n\t'si-LK - Sinhala, external font family with different line metrics': 'si-LK'\n};\n\nconst skins = {\n\t'Carbon': 'carbon',\n\t'Cobalt': 'cobalt',\n\t'Copper': 'copper',\n\t'Electro': 'electro',\n\t'Gallium': 'gallium',\n\t'Silicon': 'silicon',\n\t'Titanium': 'titanium'\n};\n\n// NOTE: Knobs cannot set locale in fullscreen mode. This allows any knob to be taken from the URL.\nconst getPropFromURL = (propName, fallbackValue) => {\n\tpropName = encodeURI(propName);\n\tconst locationParams = window.parent.location.search;\n\n\tconst startIndex = locationParams.indexOf('knob-' + propName);\n\tif (startIndex > -1) {\n\t\tconst keyIndex = locationParams.indexOf('=', startIndex);\n\n\t\tif (locationParams.indexOf('&', keyIndex) > -1) {\n\t\t\tconst valueIndex = locationParams.indexOf('&', keyIndex);\n\t\t\treturn decodeURIComponent(locationParams.substring(keyIndex + 1, valueIndex));\n\t\t} else {\n\t\t\treturn decodeURIComponent(locationParams.substring(keyIndex + 1, locationParams.length));\n\t\t}\n\t}\n\n\treturn fallbackValue;\n};\n\nconst memory = {\n\tskin: null\n};\n\nconst StorybookDecorator = (story, config) => {\n\tconst sample = story();\n\tconst Config = {\n\t\tdefaultProps: {\n\t\t\tlocale: 'en-US',\n\t\t\t'night mode': false,\n\t\t\tskin: 'gallium'\n\t\t},\n\t\tgroupId: globalGroup\n\t};\n\tconst defaultColors = {\n\t\tcarbon: {\n\t\t\taccent: '#8fd43a',\n\t\t\thighlight: '#6abe0b'\n\t\t},\n\t\tcobalt: {\n\t\t\taccent: '#8c81ff',\n\t\t\thighlight: '#ffffff'\n\t\t},\n\t\tcopper: {\n\t\t\taccent: '#a47d66',\n\t\t\thighlight: '#ffffff'\n\t\t},\n\t\telectro: {\n\t\t\taccent: '#0359f0',\n\t\t\thighlight: '#ff8100'\n\t\t},\n\t\tgallium: {\n\t\t\taccent: '#8b7efe',\n\t\t\thighlight: '#e16253'\n\t\t},\n\t\tsilicon: {\n\t\t\taccent: '#f1304f',\n\t\t\thighlight: '#9e00d8'\n\t\t},\n\t\ttitanium: {\n\t\t\taccent: '#a6a6a6',\n\t\t\thighlight: '#2a48ca'\n\t\t}\n\t};\n\tconst skinFromURL = getPropFromURL('skin');\n\tconst currentSkin = skinFromURL ? skinFromURL : Config.defaultProps.skin;\n\tconst newSkin = (memory.skin !== currentSkin);\n\tmemory.skin = currentSkin;  // Remember the skin for the next time we load.\n\tconst accentFromURL = getPropFromURL('accent');\n\tconst highlightFromURL = getPropFromURL('highlight');\n\tconst localeFromURL = getPropFromURL('locale');\n\tconst currentLocale = localeFromURL ? localeFromURL : Config.defaultProps.locale;\n\tconst locale = select('locale', locales, Config, currentLocale);\n\tconst allSkins = boolean('show all skins', Config);\n\tconst skinKnobs = {};\n\tif (!allSkins) {\n\t\tskinKnobs.skin = select('skin', skins, Config, currentSkin);\n\t}\n\tconst {accent, highlight} = !allSkins && boolean('default skin styles', Config) ? defaultColors[skinKnobs.skin] : {};\n\tconst noScroller = config.parameters && config.parameters.props && config.parameters.props.noScroller;\n\tconst Wrapper = noScroller ? React.Fragment : Scroller;\n\n\treturn (\n\t\t<Agate\n\t\t\ttitle={`${config.kind} ${config.story}`.trim()}\n\t\t\tdescription={config.description}\n\t\t\tlocale={locale}\n\t\t\t{...skinKnobs}\n\t\t\tskinVariants={boolean('night mode', Config) && 'night'}\n\t\t\taccent={accent || color('accent', (!newSkin && accentFromURL ? accentFromURL : defaultColors[currentSkin].accent), Config.groupId)}\n\t\t\thighlight={highlight || color('highlight', (!newSkin && highlightFromURL ? highlightFromURL : defaultColors[currentSkin].highlight), Config.groupId)}\n\t\t>\n\t\t\t<Wrapper>\n\t\t\t\t{allSkins ? Object.keys(skins).map(skin => (\n\t\t\t\t\t<SkinFrame skin={skins[skin]} key={skin}>\n\t\t\t\t\t\t<Cell size=\"20%\" component={Heading}>{skin}</Cell>\n\t\t\t\t\t\t<Cell>{sample}</Cell>\n\t\t\t\t\t</SkinFrame>\n\t\t\t\t)) : sample}\n\t\t\t</Wrapper>\n\t\t</Agate>\n\t);\n};\n\nconst FullscreenStorybookDecorator = (story, config) => {\n\tconst sample = story();\n\treturn (\n\t\t<AgateFullscreen\n\t\t\ttitle={`${config.kind} ${config.story}`.trim()}\n\t\t\tdescription={config.description}\n\t\t\tskin={select('skin', skins, getPropFromURL('skin'))}\n\t\t>\n\t\t\t{sample}\n\t\t</AgateFullscreen>\n\t);\n};\n\nexport default StorybookDecorator;\nexport {StorybookDecorator as Agate, FullscreenStorybookDecorator as AgateFullscreen};\n","import {configure, addDecorator} from '@storybook/react';\nimport {loadStories} from '@enact/storybook-utils';\nimport {configureActions} from '@enact/storybook-utils/addons/actions';\nimport {withKnobs} from '@enact/storybook-utils/addons/knobs';\n\nimport Agate from '../src/ThemeEnvironment';\n\nfunction config (stories, mod) {\n\tconfigureActions();\n\taddDecorator(withKnobs());\n\n\t// Set agate environment defaults\n\taddDecorator(Agate);\n\n\tconfigure(loadStories(stories), mod);\n}\n\nexport default config;\n","/**\n * Provides the `ApiDecorator` higher-order component\n *\n * @module core/internal/ApiDecorator\n * @private\n */\n\nimport invariant from 'invariant';\nimport React from 'react';\n\nimport hoc from '../../hoc';\n\n// Gets a property from `provider`\nconst get = (provider, name) => () => {\n\tif (provider) {\n\t\treturn provider[name];\n\t}\n};\n\n// Sets a property on `provider`\nconst set = (provider, name) => (value) => {\n\tif (provider && typeof provider[name] !== 'function') {\n\t\treturn (provider[name] = value);\n\t}\n};\n\n/**\n * Default config for {@link core/internal/ApiDecorator.ApiDecorator}.\n *\n * @memberof core/internal/ApiDecorator.ApiDecorator\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Configures the API endpoints to be exposed\n\t *\n\t * @type {String[]}\n\t * @required\n\t * @memberof core/internal/ApiDecorator.ApiDecorator.defaultConfig\n\t */\n\tapi: null\n};\n\n/**\n * {@link core/internal/ApiDecorator.ApiDecorator} is a higher-order component that exposes an\n * imperative API for a contained component. ApiDecorator accepts an array of API endpoints in the\n * `api` config parameter. Each is then mapped to the underlying component instance as either a\n * function call or property getter/setter pair. The component passes a reference to itself to the\n * ApiDecorator by a `setApiProvider` prop added by the HOC.\n *\n * ```\n * import ApiDecorator from '@enact/core/internal/ApiDecorator';\n *\n * const MyComponent = class extends React.Component {\n * \tstatic displayName = 'MyComponent';\n *\n * \tdoSomething = () => {\n * \t}\n * }\n *\n * @class ApiDecorator\n * @memberof core/internal/ApiDecorator\n * @hoc\n * @private\n */\nconst ApiDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {api} = config;\n\n\tinvariant(\n\t\tapi != null,\n\t\t'ApiDecorator: api is a required config property'\n\t);\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'ApiDecorator';\n\n\t\tsetProvider = (provider) => {\n\t\t\tapi.forEach(key => {\n\t\t\t\tObject.defineProperty(this, key, {\n\t\t\t\t\tget: get(provider, key),\n\t\t\t\t\tset: set(provider, key),\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable: true\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\trender () {\n\t\t\treturn <Wrapped setApiProvider={this.setProvider} {...this.props} />;\n\t\t}\n\t};\n});\n\nexport default ApiDecorator;\nexport {\n\tApiDecorator\n};\n","import EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport $L from '../internal/$L';\nimport Button from '../Button';\nimport Skinnable from '../Skinnable';\n\nimport css from './ContextualPopup.module.less';\n\n/**\n * An SVG arrow for {@link agate/ContextualPopupDecorator.ContextualPopup}.\n *\n * @class ContextualPopupArrow\n * @memberof agate/ContextualPopupDecorator\n * @ui\n * @private\n */\nconst ContextualPopupArrow = kind({\n\tname: 'ContextualPopupArrow',\n\n\tpropTypes: /** @lends agate/ContextualPopupDecorator.ContextualPopupArrow.prototype */ {\n\t\t/**\n\t\t * Direction of ContextualPopupArrow.\n\t\t *\n\t\t * @type {('above'|'below'|'left'|'right')}\n\t\t * @default 'below'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['above', 'below', 'left', 'right'])\n\t},\n\n\tdefaultProps: {\n\t\tdirection: 'below'\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'arrow'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({direction, styler}) => styler.append(direction, css.arrow)\n\t},\n\n\trender: (props) => (\n\t\t<svg {...props} viewBox=\"0 0 30 30\">\n\t\t\t<path d=\"M15 2 L0 20 L30 20 Z\" className={css.arrowFill} />\n\t\t</svg>\n\t)\n});\n\nconst ContextualPopupRoot = Skinnable('div');\n\n/**\n * A popup component used by\n * [ContextualPopupDecorator]{@link agate/ContextualPopupDecorator.ContextualPopupDecorator} to\n * wrap its [popupComponent]{@link agate/ContextualPopupDecorator.ContextualPopupDecorator.popupComponent}.\n *\n * `ContextualPopup` is usually not used directly but is made available for unique application use\n * cases.\n *\n * @class ContextualPopup\n * @memberof agate/ContextualPopupDecorator\n * @ui\n * @public\n */\nconst ContextualPopupBase = kind({\n\tname: 'ContextualPopup',\n\n\tpropTypes: /** @lends agate/ContextualPopupDecorator.ContextualPopup.prototype */ {\n\t\t/**\n\t\t * The contents of the popup.\n\t\t *\n\t\t * @type {Node}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node.isRequired,\n\n\t\t/**\n\t\t * Style object for arrow position.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tarrowPosition: PropTypes.shape({\n\t\t\tbottom: PropTypes.number,\n\t\t\tleft: PropTypes.number,\n\t\t\tright: PropTypes.number,\n\t\t\ttop: PropTypes.number\n\t\t}),\n\n\t\t/**\n\t\t * Style object for container position.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcontainerPosition: PropTypes.shape({\n\t\t\tbottom: PropTypes.number,\n\t\t\tleft: PropTypes.number,\n\t\t\tright: PropTypes.number,\n\t\t\ttop: PropTypes.number\n\t\t}),\n\n\t\t/**\n\t\t * Called with the reference to the container node.\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @public\n\t\t */\n\t\tcontainerRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Direction of ContextualPopup.\n\t\t *\n\t\t * @type {('above'|'above center'|'above left'|'above right'|'below'|'below center'|'below left'|'below right'|'left middle'|'left top'|'left bottom'|'right middle'|'right top'|'right bottom')}\n\t\t * @default 'below'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['above', 'above center', 'above left', 'above right', 'below', 'below center', 'below left', 'below right', 'left middle', 'left top', 'left bottom', 'right middle', 'right top', 'right bottom']),\n\n\t\t/**\n\t\t * Called when the close button is clicked.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonCloseButtonClick: PropTypes.func,\n\n\t\t/**\n\t\t * Shows the close button.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tshowCloseButton: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tdirection: 'below center',\n\t\tshowCloseButton: false\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'container'\n\t},\n\n\tcomputed: {\n\t\tarrowDirection: ({direction}) => {\n\t\t\tconst [arrowDirection] = direction.split(' ');\n\t\t\treturn arrowDirection;\n\t\t},\n\t\tclassName: ({direction, showCloseButton, styler}) => styler.append(\n\t\t\t{\n\t\t\t\tfixedSize: direction === 'above' || direction === 'below'\n\t\t\t},\n\t\t\tdirection.split(' '),\n\t\t\t{reserveClose: showCloseButton}\n\t\t),\n\t\tcloseButton: ({showCloseButton, onCloseButtonClick}) => {\n\t\t\tif (showCloseButton) {\n\t\t\t\treturn (\n\t\t\t\t\t<Button\n\t\t\t\t\t\taria-label={$L('Close')}\n\t\t\t\t\t\tbackgroundOpacity=\"transparent\"\n\t\t\t\t\t\tclassName={css.closeButton}\n\t\t\t\t\t\tcss={css}\n\t\t\t\t\t\ticon=\"closex\"\n\t\t\t\t\t\tonTap={onCloseButtonClick}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t},\n\n\trender: ({arrowDirection, arrowPosition, children, className, closeButton, containerPosition, containerRef, ...rest}) => {\n\t\tdelete rest.direction;\n\t\tdelete rest.onCloseButtonClick;\n\t\tdelete rest.showCloseButton;\n\n\t\treturn (\n\t\t\t<ContextualPopupRoot aria-live=\"off\" role=\"alert\" {...rest} className={css.contextualPopup}>\n\t\t\t\t<div className={className} style={containerPosition} ref={containerRef}>\n\t\t\t\t\t{children}\n\t\t\t\t\t{closeButton}\n\t\t\t\t</div>\n\t\t\t\t<ContextualPopupArrow direction={arrowDirection} style={arrowPosition} />\n\t\t\t</ContextualPopupRoot>\n\t\t);\n\t}\n});\n\nexport default ContextualPopupBase;\nexport {\n\tContextualPopupBase as ContextualPopup,\n\tContextualPopupBase\n};\n","/**\n * A higher-order component to add an Agate styled popup to a component.\n *\n * @module agate/ContextualPopupDecorator\n * @exports\tContextualPopup\n * @exports\tContextualPopupDecorator\n */\n\nimport ApiDecorator from '@enact/core/internal/ApiDecorator';\nimport {on, off} from '@enact/core/dispatcher';\nimport {handle, forProp, forKey, forward, stop} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport {extractAriaProps} from '@enact/core/util';\nimport {I18nContextDecorator} from '@enact/i18n/I18nDecorator';\nimport Spotlight, {getDirection} from '@enact/spotlight';\nimport SpotlightContainerDecorator from '@enact/spotlight/SpotlightContainerDecorator';\nimport FloatingLayer from '@enact/ui/FloatingLayer';\nimport ri from '@enact/ui/resolution';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {ContextualPopup} from './ContextualPopup';\n\nimport css from './ContextualPopupDecorator.module.less';\n\n/**\n * Default config for {@link agate/ContextualPopupDecorator.ContextualPopupDecorator}\n *\n * @type {Object}\n * @hocconfig\n * @memberof agate/ContextualPopupDecorator.ContextualPopupDecorator\n */\nconst defaultConfig = {\n\t/**\n\t * Disables passing the `skin` prop to the wrapped component.\n\t *\n\t * @see {@link agate/Skinnable.Skinnable.skin}\n\t * @type {Boolean}\n\t * @default false\n\t * @memberof agate/ContextualPopupDecorator.ContextualPopupDecorator.defaultConfig\n\t * @public\n\t */\n\tnoSkin: false,\n\n\t/**\n\t * The prop in which to pass the value of `open` state of ContextualPopupDecorator to the\n\t * wrapped component.\n\t *\n\t * @type {String}\n\t * @default 'selected'\n\t * @memberof agate/ContextualPopupDecorator.ContextualPopupDecorator.defaultConfig\n\t * @public\n\t */\n\topenProp: 'selected'\n};\n\nconst ContextualPopupContainer = SpotlightContainerDecorator(\n\t{enterTo: 'default-element', preserveId: true},\n\tContextualPopup\n);\n\nconst Decorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {noSkin, openProp} = config;\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'ContextualPopupDecorator';\n\n\t\tstatic propTypes = /** @lends agate/ContextualPopupDecorator.ContextualPopupDecorator.prototype */ {\n\t\t\t/**\n\t\t\t * The component rendered within the\n\t\t\t * [ContextualPopup]{@link agate/ContextualPopupDecorator.ContextualPopup}.\n\t\t\t *\n\t\t\t * @type {Component}\n\t\t\t * @required\n\t\t\t * @public\n\t\t\t */\n\t\t\tpopupComponent: EnactPropTypes.component.isRequired,\n\n\t\t\t/**\n\t\t\t * Limits the range of voice control to the popup.\n\t\t\t *\n\t\t\t * @memberof agate/ContextualPopupDecorator.ContextualPopupDecorator.prototype\n\t\t\t * @type {Boolean}\n\t\t\t * @default true\n\t\t\t * @public\n\t\t\t */\n\t\t\t'data-webos-voice-exclusive': PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Direction of popup with respect to the wrapped component.\n\t\t\t *\n\t\t\t * @type {('above'|'above center'|'above left'|'above right'|'below'|'below center'|'below left'|'below right'|'left middle'|'left top'|'left bottom'|'right middle'|'right top'|'right bottom')}\n\t\t\t * @default 'below center'\n\t\t\t * @public\n\t\t\t */\n\t\t\tdirection: PropTypes.oneOf(['above', 'above center', 'above left', 'above right', 'below', 'below center', 'below left', 'below right', 'left middle', 'left top', 'left bottom', 'right middle', 'right top', 'right bottom']),\n\n\t\t\t/**\n\t\t\t * Disables closing the popup when the user presses the cancel key or taps outside the\n\t\t\t * popup.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tnoAutoDismiss: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Called when the user has attempted to close the popup.\n\t\t\t *\n\t\t\t * This may occur either when the close button is clicked or when spotlight focus\n\t\t\t * moves outside the boundary of the popup. Setting `spotlightRestrict` to `'self-only'`\n\t\t\t * will prevent Spotlight focus from leaving the popup.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonClose: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Called when the popup is opened.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonOpen: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Displays the contextual popup.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\topen: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * CSS class name to pass to the\n\t\t\t * [ContextualPopup]{@link agate/ContextualPopupDecorator.ContextualPopup}.\n\t\t\t *\n\t\t\t * This is commonly used to set width and height of the popup.\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\tpopupClassName: PropTypes.string,\n\n\t\t\t/**\n\t\t\t * An object containing properties to be passed to popup component.\n\t\t\t *\n\t\t\t * @type {Object}\n\t\t\t * @public\n\t\t\t */\n\t\t\tpopupProps: PropTypes.object,\n\n\t\t\t/**\n\t\t\t * The container ID to use with Spotlight.\n\t\t\t *\n\t\t\t * The spotlight container for the popup isn't created until it is open. To configure\n\t\t\t * the container using `Spotlight.set()`, handle the `onOpen` event which is fired after\n\t\t\t * the popup has been created and opened.\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\tpopupSpotlightId: PropTypes.string,\n\n\t\t\t/**\n\t\t\t * Indicates the content's text direction is right-to-left.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @private\n\t\t\t */\n\t\t\trtl: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Registers the ContextualPopupDecorator component with an [ApiDecorator]\n\t\t\t * {@link core/internal/ApiDecorator.ApiDecorator}.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @private\n\t\t\t */\n\t\t\tsetApiProvider: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Shows the close button.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tshowCloseButton: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * The current skin for this component.\n\t\t\t *\n\t\t\t * When `noSkin` is set on the config object, `skin` will only be applied to the\n\t\t\t * [ContextualPopup]{@link agate/ContextualPopupDecorator.ContextualPopup} and not\n\t\t\t * to the popup's activator component.\n\t\t\t *\n\t\t\t * @see {@link agate/Skinnable.Skinnable.skin}\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\tskin: PropTypes.string,\n\n\t\t\t/**\n\t\t\t * Restricts or prioritizes spotlight navigation.\n\t\t\t *\n\t\t\t * Allowed values are:\n\t\t\t * * `'none'` - Spotlight can move freely within and beyond the popup\n\t\t\t * * `'self-first'` - Spotlight should prefer components within the popup over\n\t\t\t *   components beyond the popup, or\n\t\t\t * * `'self-only'` - Spotlight can only be set within the popup\n\t\t\t *\n\t\t\t * @type {('none'|'self-first'|'self-only')}\n\t\t\t * @default 'self-first'\n\t\t\t * @public\n\t\t\t */\n\t\t\tspotlightRestrict: PropTypes.oneOf(['none', 'self-first', 'self-only'])\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\t'data-webos-voice-exclusive': true,\n\t\t\tdirection: 'below center',\n\t\t\tnoAutoDismiss: false,\n\t\t\topen: false,\n\t\t\tshowCloseButton: false,\n\t\t\tspotlightRestrict: 'self-first'\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tthis.state = {\n\t\t\t\tarrowPosition: {top: 0, left: 0},\n\t\t\t\tcontainerPosition: {top: 0, left: 0},\n\t\t\t\tcontainerId: Spotlight.add(this.props.popupSpotlightId),\n\t\t\t\tactivator: null\n\t\t\t};\n\n\t\t\tthis.overflow = {};\n\t\t\tthis.adjustedDirection = this.props.direction;\n\n\t\t\tthis.ARROW_OFFSET = ri.scale(18); // actual distance of the svg arrow displayed to offset overlaps with the container.\n\t\t\tthis.ARROW_WIDTH = ri.scale(30); // svg arrow width. used for arrow positioning\n\t\t\tthis.KEEPOUT = ri.scale(12); // keep out distance on the edge of the screen\n\t\t\tthis.MARGIN = ri.scale(9);\n\n\t\t\tif (props.setApiProvider) {\n\t\t\t\tprops.setApiProvider(this);\n\t\t\t}\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\tif (this.props.open) {\n\t\t\t\ton('keydown', this.handleKeyDown);\n\t\t\t\ton('keyup', this.handleKeyUp);\n\t\t\t}\n\t\t}\n\n\t\tgetSnapshotBeforeUpdate (prevProps, prevState) {\n\t\t\tconst snapshot = {\n\t\t\t\tcontainerWidth: this.getContainerNodeWidth()\n\t\t\t};\n\n\t\t\tif (prevProps.open && !this.props.open) {\n\t\t\t\tconst current = Spotlight.getCurrent();\n\t\t\t\tsnapshot.shouldSpotActivator = (\n\t\t\t\t\t// isn't set\n\t\t\t\t\t!current ||\n\t\t\t\t\t// is on the activator and we want to re-spot it so a11y read out can occur\n\t\t\t\t\tcurrent === prevState.activator ||\n\t\t\t\t\t// is within the popup\n\t\t\t\t\tthis.containerNode.contains(current)\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn snapshot;\n\t\t}\n\n\t\tcomponentDidUpdate (prevProps, prevState, snapshot) {\n\t\t\tif (prevProps.direction !== this.props.direction || snapshot.containerWidth !== this.getContainerNodeWidth()) {\n\t\t\t\tthis.adjustedDirection = this.props.direction;\n\t\t\t\t// NOTE: `setState` is called and will cause re-render\n\t\t\t\tthis.positionContextualPopup();\n\t\t\t}\n\n\t\t\tif (this.props.open && !prevProps.open) {\n\t\t\t\ton('keydown', this.handleKeyDown);\n\t\t\t\ton('keyup', this.handleKeyUp);\n\t\t\t} else if (!this.props.open && prevProps.open) {\n\t\t\t\toff('keydown', this.handleKeyDown);\n\t\t\t\toff('keyup', this.handleKeyUp);\n\t\t\t\tif (snapshot && snapshot.shouldSpotActivator) {\n\t\t\t\t\tthis.spotActivator(prevState.activator);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tif (this.props.open) {\n\t\t\t\toff('keydown', this.handleKeyDown);\n\t\t\t\toff('keyup', this.handleKeyUp);\n\t\t\t}\n\t\t\tSpotlight.remove(this.state.containerId);\n\t\t}\n\n\t\tgetContainerNodeWidth () {\n\t\t\treturn this.containerNode && this.containerNode.getBoundingClientRect().width || 0;\n\t\t}\n\n\t\tupdateLeaveFor (activator) {\n\t\t\tSpotlight.set(this.state.containerId, {\n\t\t\t\tleaveFor: {\n\t\t\t\t\tup: activator,\n\t\t\t\t\tdown: activator,\n\t\t\t\t\tleft: activator,\n\t\t\t\t\tright: activator\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tgetContainerAdjustedPosition = () => {\n\t\t\tconst position = this.adjustedDirection;\n\t\t\tconst arr = this.adjustedDirection.split(' ');\n\t\t\tlet direction = null;\n\t\t\tlet anchor = null;\n\n\t\t\tif (arr.length === 2) {\n\t\t\t\t[direction, anchor] = arr;\n\t\t\t} else {\n\t\t\t\tdirection = position;\n\t\t\t}\n\n\t\t\treturn {anchor, direction};\n\t\t};\n\n\t\tgetContainerPosition (containerNode, clientNode) {\n\t\t\tconst position = this.centerContainerPosition(containerNode, clientNode);\n\t\t\tconst {direction} = this.getContainerAdjustedPosition();\n\n\t\t\tswitch (direction) {\n\t\t\t\tcase 'above':\n\t\t\t\t\tposition.top = clientNode.top - this.ARROW_OFFSET - containerNode.height - this.MARGIN;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'below':\n\t\t\t\t\tposition.top = clientNode.bottom + this.ARROW_OFFSET + this.MARGIN;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'right':\n\t\t\t\t\tposition.left = this.props.rtl ? clientNode.left - containerNode.width - this.ARROW_OFFSET - this.MARGIN : clientNode.right + this.ARROW_OFFSET + this.MARGIN;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'left':\n\t\t\t\t\tposition.left = this.props.rtl ? clientNode.right + this.ARROW_OFFSET + this.MARGIN : clientNode.left - containerNode.width - this.ARROW_OFFSET - this.MARGIN;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn this.adjustRTL(position);\n\t\t}\n\n\t\tcenterContainerPosition (containerNode, clientNode) {\n\t\t\tconst pos = {};\n\t\t\tconst {anchor, direction} = this.getContainerAdjustedPosition();\n\n\t\t\tif (direction === 'above' || direction === 'below') {\n\t\t\t\tif (this.overflow.isOverLeft) {\n\t\t\t\t\t// anchor to the left of the screen\n\t\t\t\t\tpos.left = this.KEEPOUT;\n\t\t\t\t} else if (this.overflow.isOverRight) {\n\t\t\t\t\t// anchor to the right of the screen\n\t\t\t\t\tpos.left = window.innerWidth - containerNode.width - this.KEEPOUT;\n\t\t\t\t} else if (anchor) {\n\t\t\t\t\tif (anchor === 'center') {\n\t\t\t\t\t\t// center horizontally\n\t\t\t\t\t\tpos.left = clientNode.left + (clientNode.width - containerNode.width) / 2;\n\t\t\t\t\t} else if (anchor === 'left') {\n\t\t\t\t\t\t// anchor to the left side of the activator\n\t\t\t\t\t\tpos.left = clientNode.left;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// anchor to the right side of the activator\n\t\t\t\t\t\tpos.left = clientNode.right - containerNode.width;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// anchor to the left side of the activator, matching its width\n\t\t\t\t\tpos.left = clientNode.left;\n\t\t\t\t\tpos.width = clientNode.width;\n\t\t\t\t}\n\n\t\t\t} else if (direction === 'left' || direction === 'right') {\n\t\t\t\tif (this.overflow.isOverTop) {\n\t\t\t\t\t// anchor to the top of the screen\n\t\t\t\t\tpos.top = this.KEEPOUT;\n\t\t\t\t} else if (this.overflow.isOverBottom) {\n\t\t\t\t\t// anchor to the bottom of the screen\n\t\t\t\t\tpos.top = window.innerHeight - containerNode.height - this.KEEPOUT;\n\t\t\t\t} else if (anchor === 'middle') {\n\t\t\t\t\t// center vertically\n\t\t\t\t\tpos.top = clientNode.top - (containerNode.height - clientNode.height) / 2;\n\t\t\t\t} else if (anchor === 'top') {\n\t\t\t\t\t// anchor to the top of the activator\n\t\t\t\t\tpos.top = clientNode.top;\n\t\t\t\t} else {\n\t\t\t\t\t// anchor to the bottom of the activator\n\t\t\t\t\tpos.top = clientNode.bottom - containerNode.height;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn pos;\n\t\t}\n\n\t\tgetArrowPosition (containerNode, clientNode) {\n\t\t\tconst position = {};\n\t\t\tconst {anchor, direction} = this.getContainerAdjustedPosition();\n\n\t\t\tif (direction === 'above' || direction === 'below') {\n\t\t\t\tif (this.overflow.isOverRight && !this.overflow.isOverLeft) {\n\t\t\t\t\tposition.left = window.innerWidth - ((containerNode.width + this.ARROW_WIDTH) / 2) - this.KEEPOUT;\n\t\t\t\t} else if (!this.overflow.isOverRight && this.overflow.isOverLeft) {\n\t\t\t\t\tposition.left = ((containerNode.width - this.ARROW_WIDTH) / 2) + this.KEEPOUT;\n\t\t\t\t} else if (anchor === 'left') {\n\t\t\t\t\tposition.left = clientNode.left + (containerNode.width - this.ARROW_WIDTH) / 2;\n\t\t\t\t} else if (anchor === 'right') {\n\t\t\t\t\tposition.left = clientNode.right - containerNode.width + (containerNode.width - this.ARROW_WIDTH) / 2;\n\t\t\t\t} else {\n\t\t\t\t\tposition.left = clientNode.left + (clientNode.width - this.ARROW_WIDTH) / 2;\n\t\t\t\t}\n\t\t\t} else if (this.overflow.isOverBottom && !this.overflow.isOverTop) {\n\t\t\t\tposition.top = window.innerHeight - ((containerNode.height + this.ARROW_WIDTH) / 2) - this.KEEPOUT;\n\t\t\t} else if (!this.overflow.isOverBottom && this.overflow.isOverTop) {\n\t\t\t\tposition.top = ((containerNode.height - this.ARROW_WIDTH) / 2) + this.KEEPOUT;\n\t\t\t} else if (anchor === 'top') {\n\t\t\t\tposition.top = clientNode.top + (containerNode.height - this.ARROW_WIDTH) / 2;\n\t\t\t} else if (anchor === 'bottom') {\n\t\t\t\tposition.top = clientNode.bottom - containerNode.height + (containerNode.height - this.ARROW_WIDTH) / 2;\n\t\t\t} else {\n\t\t\t\tposition.top = clientNode.top + (clientNode.height - this.ARROW_WIDTH) / 2;\n\t\t\t}\n\n\t\t\tswitch (direction) {\n\t\t\t\tcase 'above':\n\t\t\t\t\tposition.top = clientNode.top - this.ARROW_WIDTH - this.MARGIN;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'below':\n\t\t\t\t\tposition.top = clientNode.bottom + this.MARGIN;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'left':\n\t\t\t\t\tposition.left = this.props.rtl ? clientNode.left + clientNode.width + this.MARGIN : clientNode.left - this.ARROW_WIDTH - this.MARGIN;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'right':\n\t\t\t\t\tposition.left = this.props.rtl ? clientNode.left - this.ARROW_WIDTH - this.MARGIN : clientNode.left + clientNode.width + this.MARGIN;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\treturn {};\n\t\t\t}\n\n\t\t\treturn this.adjustRTL(position);\n\t\t}\n\n\t\tcalcOverflow (container, client) {\n\t\t\tlet containerHeight, containerWidth;\n\t\t\tconst {anchor, direction} = this.getContainerAdjustedPosition();\n\n\t\t\tif (direction === 'above' || direction === 'below') {\n\t\t\t\tcontainerHeight = container.height;\n\t\t\t\tcontainerWidth = (container.width - client.width) / 2;\n\t\t\t} else {\n\t\t\t\tcontainerHeight = (container.height - client.height) / 2;\n\t\t\t\tcontainerWidth = container.width;\n\t\t\t}\n\n\t\t\tthis.overflow = {\n\t\t\t\tisOverTop: anchor === 'top' && (direction === 'left' || direction === 'right') ?\n\t\t\t\t\t!(client.top > this.KEEPOUT) :\n\t\t\t\t\tclient.top - containerHeight - this.ARROW_OFFSET - this.MARGIN - this.KEEPOUT < 0,\n\t\t\t\tisOverBottom: anchor === 'bottom' && (direction === 'left' || direction === 'right') ?\n\t\t\t\t\tclient.bottom + this.KEEPOUT > window.innerHeight :\n\t\t\t\t\tclient.bottom + containerHeight + this.ARROW_OFFSET + this.MARGIN + this.KEEPOUT > window.innerHeight,\n\t\t\t\tisOverLeft: anchor === 'left' && (direction === 'above' || direction === 'below') ?\n\t\t\t\t\t!(client.left > this.KEEPOUT) :\n\t\t\t\t\tclient.left - containerWidth - this.ARROW_OFFSET - this.MARGIN - this.KEEPOUT < 0,\n\t\t\t\tisOverRight: anchor === 'right' && (direction === 'above' || direction === 'below') ?\n\t\t\t\t\tclient.right + this.KEEPOUT > window.innerWidth :\n\t\t\t\t\tclient.right + containerWidth + this.ARROW_OFFSET + this.MARGIN + this.KEEPOUT > window.innerWidth\n\t\t\t};\n\t\t}\n\n\t\tadjustDirection () {\n\t\t\tconst {anchor, direction} = this.getContainerAdjustedPosition();\n\n\t\t\tif (this.overflow.isOverTop && !this.overflow.isOverBottom && direction === 'above') {\n\t\t\t\tthis.adjustedDirection = anchor ? `below ${anchor}` : 'below';\n\t\t\t} else if (this.overflow.isOverBottom && !this.overflow.isOverTop && direction === 'below') {\n\t\t\t\tthis.adjustedDirection = anchor ? `above ${anchor}` : 'above';\n\t\t\t} else if (this.overflow.isOverLeft && !this.overflow.isOverRight && direction === 'left' && !this.props.rtl) {\n\t\t\t\tthis.adjustedDirection = anchor ? `right ${anchor}` : 'right';\n\t\t\t} else if (this.overflow.isOverRight && !this.overflow.isOverLeft && direction === 'right' && !this.props.rtl) {\n\t\t\t\tthis.adjustedDirection = anchor ? `left ${anchor}` : 'left';\n\t\t\t}\n\t\t}\n\n\t\tadjustRTL (position) {\n\t\t\tlet pos = position;\n\t\t\tif (this.props.rtl) {\n\t\t\t\tconst tmpLeft = pos.left;\n\t\t\t\tpos.left = pos.right;\n\t\t\t\tpos.right = tmpLeft;\n\t\t\t}\n\t\t\treturn pos;\n\t\t}\n\n\t\t/**\n\t\t * Position the popup in relation to the activator.\n\t\t *\n\t\t * Position is based on the dimensions of the popup and its activator. If the popup does not\n\t\t * fit in the specified direction, it will automatically flip to the opposite direction.\n\t\t *\n\t\t * @method\n\t\t * @memberof agate/ContextualPopupDecorator.ContextualPopupDecorator.prototype\n\t\t * @public\n\t\t * @returns {undefined}\n\t\t */\n\t\tpositionContextualPopup = () => {\n\t\t\tif (this.containerNode && this.clientNode) {\n\t\t\t\tconst containerNode = this.containerNode.getBoundingClientRect();\n\t\t\t\tconst {top, left, bottom, right, width, height} = this.clientNode.getBoundingClientRect();\n\t\t\t\tconst clientNode = {top, left, bottom, right, width, height};\n\t\t\t\tclientNode.left = this.props.rtl ? window.innerWidth - right : left;\n\t\t\t\tclientNode.right = this.props.rtl ? window.innerWidth - left : right;\n\n\t\t\t\tthis.calcOverflow(containerNode, clientNode);\n\t\t\t\tthis.adjustDirection();\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tdirection: this.adjustedDirection,\n\t\t\t\t\tarrowPosition: this.getArrowPosition(containerNode, clientNode),\n\t\t\t\t\tcontainerPosition: this.getContainerPosition(containerNode, clientNode)\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tgetContainerNode = (node) => {\n\t\t\tthis.containerNode = node;\n\t\t};\n\n\t\tgetClientNode = (node) => {\n\t\t\tthis.clientNode = ReactDOM.findDOMNode(node); // eslint-disable-line react/no-find-dom-node\n\t\t};\n\n\t\thandle = handle.bind(this);\n\n\t\thandleKeyUp = this.handle(\n\t\t\tforProp('open', true),\n\t\t\tforKey('enter'),\n\t\t\t() => Spotlight.getCurrent() === this.state.activator,\n\t\t\tstop,\n\t\t\tforward('onClose')\n\t\t);\n\n\t\thandleOpen = (ev) => {\n\t\t\tforward('onOpen', ev, this.props);\n\t\t\tthis.positionContextualPopup();\n\t\t\tconst current = Spotlight.getCurrent();\n\t\t\tthis.updateLeaveFor(current);\n\t\t\tthis.setState({\n\t\t\t\tactivator: current\n\t\t\t});\n\t\t\tthis.spotPopupContent();\n\t\t};\n\n\t\thandleClose = () => {\n\t\t\tthis.updateLeaveFor(null);\n\t\t\tthis.setState({\n\t\t\t\tactivator: null\n\t\t\t});\n\t\t};\n\n\t\thandleDirectionalKey (ev) {\n\t\t\t// prevent default page scrolling\n\t\t\tev.preventDefault();\n\t\t\t// stop propagation to prevent default spotlight behavior\n\t\t\tev.stopPropagation();\n\t\t\t// set the pointer mode to false on keydown\n\t\t\tSpotlight.setPointerMode(false);\n\t\t}\n\n\t\t// handle key event from outside (i.e. the activator) to the popup container\n\t\thandleKeyDown = (ev) => {\n\t\t\tconst {activator, containerId} = this.state;\n\t\t\tconst {spotlightRestrict} = this.props;\n\t\t\tconst current = Spotlight.getCurrent();\n\t\t\tconst direction = getDirection(ev.keyCode);\n\n\t\t\tif (!direction) return;\n\n\t\t\tconst hasSpottables = Spotlight.getSpottableDescendants(containerId).length > 0;\n\t\t\tconst spotlessSpotlightModal = spotlightRestrict === 'self-only' && !hasSpottables;\n\t\t\tconst shouldSpotPopup = current === activator && direction === this.adjustedDirection && hasSpottables;\n\n\t\t\tif (shouldSpotPopup || spotlessSpotlightModal) {\n\t\t\t\tthis.handleDirectionalKey(ev);\n\n\t\t\t\t// we guard against attempting a focus change by verifying the case where a\n\t\t\t\t// spotlightModal popup contains no spottable components\n\t\t\t\tif (!spotlessSpotlightModal && shouldSpotPopup) {\n\t\t\t\t\tthis.spotPopupContent();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// handle key event from contextual popup and closes the popup\n\t\thandleContainerKeyDown = (ev) => {\n\t\t\t// Note: Container will be only rendered if `open`ed, therefore no need to check for `open`\n\t\t\tconst direction = getDirection(ev.keyCode);\n\n\t\t\tif (!direction) return;\n\n\t\t\tthis.handleDirectionalKey(ev);\n\n\t\t\t// if focus moves outside the popup's container, issue the `onClose` event\n\t\t\tif (Spotlight.move(direction) && !this.containerNode.contains(Spotlight.getCurrent())) {\n\t\t\t\tforward('onClose', ev, this.props);\n\t\t\t}\n\t\t};\n\n\t\tspotActivator = (activator) => {\n\t\t\tif (!Spotlight.getPointerMode() && activator && activator === Spotlight.getCurrent()) {\n\t\t\t\tactivator.blur();\n\t\t\t}\n\t\t\tif (!Spotlight.focus(activator)) {\n\t\t\t\tSpotlight.focus();\n\t\t\t}\n\t\t};\n\n\t\tspotPopupContent = () => {\n\t\t\tconst {spotlightRestrict} = this.props;\n\t\t\tconst {containerId} = this.state;\n\t\t\tconst spottableDescendants = Spotlight.getSpottableDescendants(containerId);\n\t\t\tif (spotlightRestrict === 'self-only' && spottableDescendants.length && Spotlight.getCurrent()) {\n\t\t\t\tSpotlight.getCurrent().blur();\n\t\t\t}\n\n\t\t\tif (!Spotlight.focus(containerId)) {\n\t\t\t\tSpotlight.setActiveContainer(containerId);\n\t\t\t}\n\t\t};\n\n\t\trender () {\n\t\t\tconst {'data-webos-voice-exclusive': voiceExclusive, showCloseButton, popupComponent: PopupComponent, popupClassName, noAutoDismiss, onClose, open, popupProps, skin, spotlightRestrict, ...rest} = this.props;\n\t\t\tconst scrimType = spotlightRestrict === 'self-only' ? 'transparent' : 'none';\n\t\t\tconst popupPropsRef = Object.assign({}, popupProps);\n\t\t\tconst ariaProps = extractAriaProps(popupPropsRef);\n\n\t\t\tif (!noSkin) {\n\t\t\t\trest.skin = skin;\n\t\t\t}\n\n\t\t\tdelete rest.onOpen;\n\t\t\tdelete rest.popupSpotlightId;\n\t\t\tdelete rest.rtl;\n\t\t\tdelete rest.setApiProvider;\n\n\t\t\tif (openProp) rest[openProp] = open;\n\n\t\t\treturn (\n\t\t\t\t<div className={css.contextualPopupDecorator}>\n\t\t\t\t\t<FloatingLayer\n\t\t\t\t\t\tnoAutoDismiss={noAutoDismiss}\n\t\t\t\t\t\tonClose={this.handleClose}\n\t\t\t\t\t\tonDismiss={onClose}\n\t\t\t\t\t\tonOpen={this.handleOpen}\n\t\t\t\t\t\topen={open}\n\t\t\t\t\t\tscrimType={scrimType}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ContextualPopupContainer\n\t\t\t\t\t\t\t{...ariaProps}\n\t\t\t\t\t\t\tclassName={popupClassName}\n\t\t\t\t\t\t\tshowCloseButton={showCloseButton}\n\t\t\t\t\t\t\tonCloseButtonClick={onClose}\n\t\t\t\t\t\t\tonKeyDown={this.handleContainerKeyDown}\n\t\t\t\t\t\t\tdirection={this.state.direction}\n\t\t\t\t\t\t\tarrowPosition={this.state.arrowPosition}\n\t\t\t\t\t\t\tcontainerPosition={this.state.containerPosition}\n\t\t\t\t\t\t\tcontainerRef={this.getContainerNode}\n\t\t\t\t\t\t\tdata-webos-voice-exclusive={voiceExclusive}\n\t\t\t\t\t\t\tskin={skin}\n\t\t\t\t\t\t\tspotlightId={this.state.containerId}\n\t\t\t\t\t\t\tspotlightRestrict={spotlightRestrict}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<PopupComponent {...popupPropsRef} />\n\t\t\t\t\t\t</ContextualPopupContainer>\n\t\t\t\t\t</FloatingLayer>\n\t\t\t\t\t<Wrapped ref={this.getClientNode} {...rest} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t};\n});\n\n/**\n * Adds support for positioning a\n * [ContextualPopup]{@link agate/ContextualPopupDecorator.ContextualPopup} relative to the\n * wrapped component.\n *\n * `ContextualPopupDecorator` may be used to show additional settings or actions rendered within a\n * small floating popup.\n *\n * Usage:\n * ```\n * const ButtonWithPopup = ContextualPopupDecorator(Button);\n * <ButtonWithPopup\n *   direction=\"above center\"\n *   open={this.state.open}\n *   popupComponent={CustomPopupComponent}\n * >\n *   Open Popup\n * </ButtonWithPopup>\n * ```\n *\n * @hoc\n * @memberof agate/ContextualPopupDecorator\n * @public\n */\nconst ContextualPopupDecorator = compose(\n\tApiDecorator({api: ['positionContextualPopup']}),\n\tI18nContextDecorator({rtlProp: 'rtl'}),\n\tDecorator\n);\n\nexport default ContextualPopupDecorator;\nexport {\n\tContextualPopupDecorator,\n\tContextualPopup\n};\n","\nconst obliqueMinDistance = 1;\nconst straightMinDistance = 0;\n\nconst calcGroupId = ({x, y}) => y * 3 + x;\n\nconst calcNextGridPosition = (current, next) => {\n\tconst center = current.center;\n\tlet x, y;\n\n\tif (center.x < next.left) {\n\t\tx = 0;\n\t} else if (center.x <= next.right) {\n\t\tx = 1;\n\t} else {\n\t\tx = 2;\n\t}\n\n\tif (center.y < next.top) {\n\t\ty = 0;\n\t} else if (center.y <= next.bottom) {\n\t\ty = 1;\n\t} else {\n\t\ty = 2;\n\t}\n\n\treturn {x, y};\n};\n\nconst calcNextExtendedGridPosition = (current, next) => {\n\tlet x, y;\n\n\tif (current.right <= next.left) {\n\t\tx = 0;\n\t} else if (current.left < next.right) {\n\t\tx = 1;\n\t} else {\n\t\tx = 2;\n\t}\n\n\tif (current.bottom <= next.top) {\n\t\ty = 0;\n\t} else if (current.top < next.bottom) {\n\t\ty = 1;\n\t} else {\n\t\ty = 2;\n\t}\n\n\treturn {x, y};\n};\n\nfunction prioritize (priorities, targetEdge) {\n\tconst destGroup = [];\n\n\tfor (let index = 0; index < priorities.length; index++) {\n\t\tconst destPriority = priorities[index];\n\n\t\tif (destPriority.group.length) {\n\t\t\tconst destDistance = destPriority.distance;\n\t\t\tconst destDifference = destPriority.difference;\n\t\t\tlet distance = 0;\n\t\t\tlet target;\n\n\t\t\tdestPriority.group.sort(function (a, b) {\n\t\t\t\tfor (let i = 0; i < destDistance.length; i++) {\n\t\t\t\t\tconst calcDistance = destDistance[i];\n\t\t\t\t\tconst delta = calcDistance(a) - calcDistance(b);\n\t\t\t\t\tif (delta) {\n\t\t\t\t\t\treturn delta;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t});\n\n\t\t\ttarget = destPriority.group[0];\n\t\t\tfor (let i = 0; i < destDifference.length; i++) {\n\t\t\t\tdistance += destDifference[i](target);\n\t\t\t}\n\n\t\t\tdestGroup.push({\n\t\t\t\tdistance: Math.pow(destPriority.multiplier * (distance || destPriority.minDistance) / targetEdge, 2) + targetEdge,\n\t\t\t\ttarget\n\t\t\t});\n\t\t}\n\t}\n\n\tif (!destGroup.length) {\n\t\treturn null;\n\t}\n\n\tdestGroup.sort(function (a, b) {\n\t\treturn a.distance - b.distance;\n\t});\n\n\treturn destGroup;\n}\n\nfunction partition (rects, targetRect, straightOverlapThreshold, getGroupId) {\n\t// a matrix of elements where the center of the element in relation to targetRect is:\n\tconst groups = [\n\t\t[/* [0] => above/left */],  [/* [1] => above/within */],     [/* [2] => above/right */],\n\t\t[/* [3] => within/left */], [/* [4] => within */],           [/* [5] => within/right */],\n\t\t[/* [6] => below/left */],  [/* [7] => below and within */], [/* [8] => below/right */]\n\t];\n\n\tfor (let i = 0; i < rects.length; i++) {\n\t\tconst rect = rects[i];\n\t\tconst groupId = getGroupId(rect, targetRect);\n\t\tgroups[groupId].push(rect);\n\n\t\tif ([0, 2, 6, 8].indexOf(groupId) !== -1) {\n\t\t\tif (rect.left <= targetRect.right - targetRect.width * straightOverlapThreshold) {\n\t\t\t\tif (groupId === 2) {\n\t\t\t\t\tgroups[1].push(rect);\n\t\t\t\t} else if (groupId === 8) {\n\t\t\t\t\tgroups[7].push(rect);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (rect.right >= targetRect.left + targetRect.width * straightOverlapThreshold) {\n\t\t\t\tif (groupId === 0) {\n\t\t\t\t\tgroups[1].push(rect);\n\t\t\t\t} else if (groupId === 6) {\n\t\t\t\t\tgroups[7].push(rect);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (rect.top <= targetRect.bottom - targetRect.height * straightOverlapThreshold) {\n\t\t\t\tif (groupId === 6) {\n\t\t\t\t\tgroups[3].push(rect);\n\t\t\t\t} else if (groupId === 8) {\n\t\t\t\t\tgroups[5].push(rect);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (rect.bottom >= targetRect.top + targetRect.height * straightOverlapThreshold) {\n\t\t\t\tif (groupId === 0) {\n\t\t\t\t\tgroups[3].push(rect);\n\t\t\t\t} else if (groupId === 2) {\n\t\t\t\t\tgroups[5].push(rect);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn groups;\n}\n\nfunction generateDistancefunction (targetRect) {\n\treturn {\n\t\tnearPlumbLineIsBetter: function (rect) {\n\t\t\tlet d;\n\t\t\tif (rect.center.x < targetRect.center.x) {\n\t\t\t\td = targetRect.center.x - rect.right;\n\t\t\t} else {\n\t\t\t\td = rect.left - targetRect.center.x;\n\t\t\t}\n\t\t\treturn d < 0 ? 0 : d;\n\t\t},\n\t\tnearHorizonIsBetter: function (rect) {\n\t\t\tlet d;\n\t\t\tif (rect.center.y < targetRect.center.y) {\n\t\t\t\td = targetRect.center.y - rect.bottom;\n\t\t\t} else {\n\t\t\t\td = rect.top - targetRect.center.y;\n\t\t\t}\n\t\t\treturn d < 0 ? 0 : d;\n\t\t},\n\t\tnearTargetBottomIsBetter: function (rect) {\n\t\t\tlet d;\n\t\t\tif (rect.center.y < targetRect.center.y) {\n\t\t\t\td = targetRect.bottom - rect.top;\n\t\t\t} else {\n\t\t\t\td = rect.top - targetRect.bottom;\n\t\t\t}\n\t\t\treturn d < 0 ? 0 : d;\n\t\t},\n\t\tnearTargetLeftIsBetter: function (rect) {\n\t\t\tlet d;\n\t\t\tif (rect.center.x < targetRect.center.x) {\n\t\t\t\td = targetRect.left - rect.right;\n\t\t\t} else {\n\t\t\t\td = rect.left - targetRect.left;\n\t\t\t}\n\t\t\treturn d < 0 ? 0 : d;\n\t\t},\n\t\tnearTargetRightIsBetter: function (rect) {\n\t\t\tlet d;\n\t\t\tif (rect.center.x < targetRect.center.x) {\n\t\t\t\td = targetRect.right - rect.left;\n\t\t\t} else {\n\t\t\t\td = rect.left - targetRect.right;\n\t\t\t}\n\t\t\treturn d < 0 ? 0 : d;\n\t\t},\n\t\tnearTargetTopIsBetter: function (rect) {\n\t\t\tlet d;\n\t\t\tif (rect.center.y < targetRect.center.y) {\n\t\t\t\td = targetRect.top - rect.bottom;\n\t\t\t} else {\n\t\t\t\td = rect.top - targetRect.top;\n\t\t\t}\n\t\t\treturn d < 0 ? 0 : d;\n\t\t},\n\t\ttopIsBetter: function (rect) {\n\t\t\treturn rect.top;\n\t\t},\n\t\tbottomIsBetter: function (rect) {\n\t\t\treturn -1 * rect.bottom;\n\t\t},\n\t\tleftIsBetter: function (rect) {\n\t\t\treturn rect.left;\n\t\t},\n\t\trightIsBetter: function (rect) {\n\t\t\treturn -1 * rect.right;\n\t\t}\n\t};\n}\n\nfunction navigate (targetRect, direction, rects, config, partitionRect = targetRect) {\n\tif (!targetRect || !direction || !rects || !rects.length || !config) {\n\t\treturn null;\n\t}\n\n\tconst distanceFunction = generateDistancefunction(targetRect);\n\tconst {obliqueMultiplier, straightMultiplier, straightOnly, straightOverlapThreshold} = config;\n\n\tconst groups = partition(\n\t\trects,\n\t\tpartitionRect,\n\t\tstraightOverlapThreshold,\n\t\t(rect, destRect) => (\n\t\t\tcalcGroupId(\n\t\t\t\tdirection === 'up' || direction === 'down' ? calcNextExtendedGridPosition(rect, destRect) : calcNextGridPosition(rect, destRect)\n\t\t\t)\n\t\t)\n\t);\n\n\tconst internalGroups = partition(\n\t\tgroups[4],\n\t\ttargetRect.center,\n\t\tstraightOverlapThreshold,\n\t\t(rect, destRect) => calcGroupId(calcNextGridPosition(rect, destRect))\n\t);\n\n\tlet priorities, targetEdge;\n\n\tswitch (direction) {\n\t\tcase 'left':\n\t\t\ttargetEdge = direction;\n\t\t\tpriorities = [\n\t\t\t\t{\n\t\t\t\t\tgroup: internalGroups[0].concat(internalGroups[3]).concat(internalGroups[6]),\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.topIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetLeftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: straightMinDistance,\n\t\t\t\t\tmultiplier: straightMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[3],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.topIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetLeftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: straightMinDistance,\n\t\t\t\t\tmultiplier: straightMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[0],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.rightIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetTopIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetLeftIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetTopIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: obliqueMinDistance,\n\t\t\t\t\tmultiplier: obliqueMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[6],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.rightIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetTopIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetLeftIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetBottomIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: obliqueMinDistance,\n\t\t\t\t\tmultiplier: obliqueMultiplier\n\t\t\t\t}\n\t\t\t];\n\t\t\tbreak;\n\t\tcase 'right':\n\t\t\ttargetEdge = direction;\n\t\t\tpriorities = [\n\t\t\t\t{\n\t\t\t\t\tgroup: internalGroups[2].concat(internalGroups[5]).concat(internalGroups[8]),\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.topIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetRightIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: straightMinDistance,\n\t\t\t\t\tmultiplier: straightMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[5],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.topIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetRightIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: straightMinDistance,\n\t\t\t\t\tmultiplier: straightMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[2],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.leftIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetTopIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetRightIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetTopIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: obliqueMinDistance,\n\t\t\t\t\tmultiplier: obliqueMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[8],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.leftIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetTopIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetRightIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetBottomIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: obliqueMinDistance,\n\t\t\t\t\tmultiplier: obliqueMultiplier\n\t\t\t\t}\n\t\t\t];\n\t\t\tbreak;\n\t\tcase 'up':\n\t\t\ttargetEdge = 'top';\n\t\t\tpriorities = [\n\t\t\t\t{\n\t\t\t\t\tgroup: internalGroups[0].concat(internalGroups[1]).concat(internalGroups[2]),\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.leftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetTopIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: straightMinDistance,\n\t\t\t\t\tmultiplier: straightMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[1],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.leftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetTopIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: straightMinDistance,\n\t\t\t\t\tmultiplier: straightMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[0],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.bottomIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetLeftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetTopIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetLeftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: obliqueMinDistance,\n\t\t\t\t\tmultiplier: obliqueMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[2],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.bottomIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetLeftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetTopIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetRightIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: obliqueMinDistance,\n\t\t\t\t\tmultiplier: obliqueMultiplier\n\t\t\t\t}\n\t\t\t];\n\t\t\tbreak;\n\t\tcase 'down':\n\t\t\ttargetEdge = 'bottom';\n\t\t\tpriorities = [\n\t\t\t\t{\n\t\t\t\t\tgroup: internalGroups[6].concat(internalGroups[7]).concat(internalGroups[8]),\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.leftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetBottomIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: straightMinDistance,\n\t\t\t\t\tmultiplier: straightMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[7],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.leftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetBottomIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: straightMinDistance,\n\t\t\t\t\tmultiplier: straightMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[6],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.topIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetLeftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetBottomIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetLeftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: obliqueMinDistance,\n\t\t\t\t\tmultiplier: obliqueMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[8],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.topIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetLeftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetBottomIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetRightIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: obliqueMinDistance,\n\t\t\t\t\tmultiplier: obliqueMultiplier\n\t\t\t\t}\n\t\t\t];\n\t\t\tbreak;\n\t\tdefault:\n\t\t\treturn null;\n\t}\n\n\tif (straightOnly) {\n\t\tpriorities.splice(2, 2);\n\t}\n\n\tconst destGroup = prioritize(priorities, targetRect[targetEdge]);\n\tif (!destGroup) {\n\t\treturn null;\n\t}\n\n\treturn destGroup[0].target.element;\n}\n\nexport default navigate;\nexport {\n\tnavigate\n};\n","import clamp from 'ramda/src/clamp';\nimport last from 'ramda/src/last';\n\nimport {\n\tgetAllContainerIds,\n\tgetContainerConfig,\n\tgetContainerFocusTarget,\n\tgetContainerId,\n\tgetContainerNode,\n\tgetContainerPreviousTarget,\n\tgetContainersForNode,\n\tgetDefaultContainer,\n\tgetLastContainer,\n\tgetNavigableContainersForNode,\n\tgetSpottableDescendants,\n\tisContainer,\n\tisNavigable\n} from './container';\nimport navigate from './navigate';\nimport {\n\tcontains,\n\tgetContainerRect,\n\tgetPointRect,\n\tgetRect,\n\tgetRects,\n\tintersects,\n\tparseSelector\n} from './utils';\n\nfunction isFocusable (elem) {\n\tconst containers = getContainersForNode(elem);\n\tlet verifySelector = true;\n\n\tfor (let i = containers.length - 1; i >= 0; i--) {\n\t\tconst containerId = containers[i];\n\t\tif (!isNavigable(elem, containerId, verifySelector)) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// only verify selector for the first (immediate ancestor) container\n\t\tverifySelector = false;\n\t}\n\n\treturn true;\n}\n\nfunction getContainersToSearch (containerId) {\n\tlet range = [];\n\tlet addRange = function (id) {\n\t\tconst config = getContainerConfig(id);\n\t\tif (id && range.indexOf(id) < 0 &&\n\t\t\t\tconfig && !config.selectorDisabled) {\n\t\t\trange.push(id);\n\t\t}\n\t};\n\n\tif (containerId) {\n\t\taddRange(containerId);\n\t} else {\n\t\taddRange(getDefaultContainer());\n\t\taddRange(getLastContainer());\n\t\t[...getAllContainerIds()].map(addRange);\n\t}\n\n\treturn range;\n}\n\nfunction getTargetByContainer (containerId, enterTo) {\n\treturn getContainersToSearch(containerId)\n\t\t.reduce((next, id) => {\n\t\t\treturn next || getContainerFocusTarget(id, enterTo);\n\t\t}, null);\n}\n\nfunction getTargetBySelector (selector) {\n\tif (!selector) return null;\n\n\tif (selector.charAt(0) === '@') {\n\t\tconst containerId = selector.length === 1 ? null : selector.substr(1);\n\n\t\treturn getTargetByContainer(containerId);\n\t}\n\n\tconst next = parseSelector(selector)[0];\n\tif (next) {\n\n\t\tif (isContainer(next)) {\n\t\t\treturn getTargetByContainer(getContainerId(next));\n\t\t}\n\n\t\tconst nextContainerIds = getContainersForNode(next);\n\t\tif (isNavigable(next, last(nextContainerIds), true)) {\n\t\t\treturn next;\n\t\t}\n\t}\n\n\treturn null;\n}\n\nfunction isRestrictedContainer (containerId) {\n\tconst config = getContainerConfig(containerId);\n\treturn config && (config.enterTo === 'last-focused' || config.enterTo === 'default-element');\n}\n\nfunction getSpottableDescendantsWithoutContainers (containerId, containerIds) {\n\treturn getSpottableDescendants(containerId).filter(n => {\n\t\treturn !isContainer(n) || containerIds.indexOf(n.dataset.spotlightId) === -1;\n\t});\n}\n\nfunction filterRects (elementRects, boundingRect) {\n\tif (!boundingRect) {\n\t\treturn elementRects;\n\t}\n\n\t// remove elements that are outside of boundingRect, if specified\n\treturn elementRects.filter(rect => {\n\t\tif (isContainer(rect.element)) {\n\t\t\t// For containers, test intersection since they may be larger than the bounding rect\n\t\t\treturn intersects(boundingRect, rect);\n\t\t} else {\n\t\t\t// For elements, use contains with the center to include mostly visible elements\n\t\t\treturn contains(boundingRect, rect.center);\n\t\t}\n\t}).map(rect => {\n\t\tlet topUpdate = rect.top < boundingRect.top;\n\t\tlet bottomUpdate = rect.bottom > boundingRect.bottom;\n\t\tlet leftUpdate = rect.left < boundingRect.left;\n\t\tlet rightUpdate = rect.right > boundingRect.right;\n\n\t\t// if the element's rect is larger than the bounding rect, clamp it to the bounding rect and\n\t\t// recalculate the center based on the new bounds.\n\t\tif (topUpdate || bottomUpdate || leftUpdate || rightUpdate) {\n\t\t\tconst updated = {...rect, center: {...rect.center}};\n\n\t\t\tif (topUpdate) updated.top = boundingRect.top;\n\t\t\tif (bottomUpdate) updated.bottom = boundingRect.bottom;\n\t\t\tif (leftUpdate) updated.left = boundingRect.left;\n\t\t\tif (rightUpdate) updated.right = boundingRect.right;\n\n\t\t\tif (leftUpdate || rightUpdate) {\n\t\t\t\tconst centerX = updated.left + (updated.right - updated.left) / 2;\n\t\t\t\tupdated.center.x = updated.center.left = updated.center.right = centerX;\n\t\t\t}\n\n\t\t\tif (topUpdate || bottomUpdate) {\n\t\t\t\tconst centerY = updated.top + (updated.bottom - updated.top) / 2;\n\t\t\t\tupdated.center.y = updated.center.top = updated.center.bottom = centerY;\n\t\t\t}\n\n\t\t\treturn updated;\n\t\t}\n\n\t\treturn rect;\n\t});\n}\n\nfunction getContainerContainingRect (elementRects, elementRect) {\n\t// find candidates that are containers and *visually* contain element\n\tconst overlapping = elementRects.filter(rect => {\n\t\treturn isContainer(rect.element) && contains(rect, elementRect);\n\t});\n\n\t// if the next element is a container AND the current element is *visually* contained within\n\t// one of the candidate element, we need to ignore container `enterTo` preferences and\n\t// retrieve its spottable descendants and try to navigate to them.\n\tif (overlapping.length) {\n\t\treturn overlapping[0].element.dataset.spotlightId;\n\t}\n\n\treturn false;\n}\n\nfunction getOverflowContainerRect (containerId) {\n\t// if the target container has overflowing content, update the boundingRect to match its\n\t// bounds to prevent finding elements within the container's hierarchy but not visible.\n\t// This filter only applies when waterfalling to prevent filtering out elements that share\n\t// a container tree with `element`\n\tconst nextConfig = getContainerConfig(containerId);\n\tif (nextConfig && nextConfig.overflow) {\n\t\treturn getContainerRect(containerId);\n\t}\n}\n\nfunction getTargetInContainerByDirectionFromPosition (direction, containerId, positionRect, elementContainerIds, boundingRect) {\n\tconst elements = getSpottableDescendantsWithoutContainers(containerId, elementContainerIds);\n\tlet elementRects = filterRects(getRects(elements), boundingRect);\n\n\tlet next = null;\n\n\twhile (elementRects.length > 0) {\n\t\tconst overlappingContainerId = getContainerContainingRect(elementRects, positionRect);\n\n\t\t// if the pointer is within a container that is a candidate element, we need to ignore container\n\t\t// `enterTo` preferences and retrieve its spottable descendants and try to navigate to them.\n\t\tif (overlappingContainerId) {\n\t\t\tnext = getTargetInContainerByDirectionFromPosition(\n\t\t\t\tdirection,\n\t\t\t\toverlappingContainerId,\n\t\t\t\tpositionRect,\n\t\t\t\telementContainerIds,\n\t\t\t\tboundingRect\n\t\t\t);\n\n\t\t\tif (!next) {\n\t\t\t\t// filter out the container and try again\n\t\t\t\telementRects = elementRects.filter(rect => {\n\t\t\t\t\treturn rect.element.dataset.spotlightId !== overlappingContainerId;\n\t\t\t\t});\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// found a target so break out and return\n\t\t\tbreak;\n\t\t}\n\n\t\t// try to navigate from position to one of the candidates in containerId\n\t\tnext = navigate(\n\t\t\tpositionRect,\n\t\t\tdirection,\n\t\t\telementRects,\n\t\t\tgetContainerConfig(containerId)\n\t\t);\n\n\t\t// if we match a container, recurse into it\n\t\tif (next && isContainer(next)) {\n\t\t\tconst nextContainerId = next.dataset.spotlightId;\n\n\t\t\t// need to cache this reference so we can filter it out later if necessary\n\t\t\tconst lastNavigated = next;\n\n\t\t\tnext = getTargetInContainerByDirectionFromPosition(\n\t\t\t\tdirection,\n\t\t\t\tnextContainerId,\n\t\t\t\tpositionRect,\n\t\t\t\telementContainerIds,\n\t\t\t\tgetOverflowContainerRect(nextContainerId) || boundingRect\n\t\t\t);\n\n\t\t\tif (!next) {\n\t\t\t\t// filter out the container and try again\n\t\t\t\telementRects = elementRects.filter(rect => rect.element !== lastNavigated);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\n\t\t// If we've met every condition and haven't explicitly retried the search via `continue`,\n\t\t// break out and return\n\t\tbreak;\n\t}\n\n\treturn next;\n}\n\n\nfunction getTargetInContainerByDirectionFromElement (direction, containerId, element, elementRect, elementContainerIds, boundingRect) {\n\tconst elements = getSpottableDescendantsWithoutContainers(containerId, elementContainerIds);\n\n\t// shortcut for previous target from element if it were saved\n\tconst previous = getContainerPreviousTarget(containerId, direction, element);\n\tif (previous && elements.indexOf(previous) !== -1) {\n\t\treturn previous;\n\t}\n\n\t// `spotlightOverflow` is a private, and likely temporary, API to allow a component within an\n\t// spotlight container with `overflow: true` to be treated as if it were outside of the\n\t// container. The result is that the candidates, `elements` are filtered by the bounds of the\n\t// overflow container effectively hiding those that have overflowed and are visually hidden.\n\t//\n\t// Currently only used by moonstone/Scroller.Scrollbar as a means to allow 5-way navigation to\n\t// escape the Scrollable from paging controls rather than focusing contents that are out of view\n\tif (element.dataset.spotlightOverflow === 'ignore') {\n\t\tboundingRect = getOverflowContainerRect(containerId) || boundingRect;\n\t}\n\n\tlet elementRects = filterRects(getRects(elements), boundingRect);\n\n\tlet next = null;\n\n\twhile (elementRects.length > 0) {\n\t\tconst overlappingContainerId = getContainerContainingRect(elementRects, elementRect);\n\n\t\t// if the next element is a container AND the current element is *visually* contained within\n\t\t// one of the candidate elements, we need to ignore container `enterTo` preferences and\n\t\t// retrieve its spottable descendants and try to navigate to them.\n\t\tif (overlappingContainerId) {\n\t\t\tnext = getTargetInContainerByDirectionFromElement(\n\t\t\t\tdirection,\n\t\t\t\toverlappingContainerId,\n\t\t\t\telement,\n\t\t\t\telementRect,\n\t\t\t\telementContainerIds,\n\t\t\t\tboundingRect\n\t\t\t);\n\n\t\t\tif (!next) {\n\t\t\t\t// filter out the container and try again\n\t\t\t\telementRects = elementRects.filter(rect => {\n\t\t\t\t\treturn rect.element.dataset.spotlightId !== overlappingContainerId;\n\t\t\t\t});\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// found a target so break out and return\n\t\t\tbreak;\n\t\t}\n\n\t\t// If one of the downstream containers is configured for partition, we use that\n\t\t// container's bounds as the partition rect for navigation.\n\t\tconst partitionContainer = elementContainerIds\n\t\t\t.slice(elementContainerIds.indexOf(containerId) + 1)\n\t\t\t.find(id => {\n\t\t\t\tconst cfg = getContainerConfig(id);\n\t\t\t\treturn cfg && cfg.partition;\n\t\t\t});\n\n\t\tlet partitionRect = elementRect;\n\t\tif (partitionContainer) {\n\t\t\tpartitionRect = getContainerRect(partitionContainer);\n\t\t}\n\n\t\t// try to navigate from element to one of the candidates in containerId\n\t\tnext = navigate(\n\t\t\telementRect,\n\t\t\tdirection,\n\t\t\telementRects,\n\t\t\tgetContainerConfig(containerId),\n\t\t\tpartitionRect\n\t\t);\n\n\t\t// if we match a container,\n\t\tif (next && isContainer(next)) {\n\t\t\tconst nextContainerId = next.dataset.spotlightId;\n\n\t\t\t// need to cache this reference so we can filter it out later if necessary\n\t\t\tconst lastNavigated = next;\n\n\t\t\t// and it is restricted, return its target\n\t\t\tif (isRestrictedContainer(nextContainerId)) {\n\t\t\t\tnext = getTargetByContainer(nextContainerId);\n\t\t\t} else {\n\t\t\t\t// otherwise, recurse into it\n\t\t\t\tnext = getTargetInContainerByDirectionFromElement(\n\t\t\t\t\tdirection,\n\t\t\t\t\tnextContainerId,\n\t\t\t\t\telement,\n\t\t\t\t\telementRect,\n\t\t\t\t\telementContainerIds,\n\t\t\t\t\tgetOverflowContainerRect(nextContainerId) || boundingRect\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (!next) {\n\t\t\t\telementRects = elementRects.filter(rect => rect.element !== lastNavigated);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\n\t\t// If we've met every condition and haven't explicitly retried the search via `continue`,\n\t\t// break out and return\n\t\tbreak;\n\t}\n\n\treturn next;\n}\n\nfunction getTargetByDirectionFromElement (direction, element) {\n\tconst extSelector = element.getAttribute('data-spot-' + direction);\n\tif (typeof extSelector === 'string') {\n\t\treturn getTargetBySelector(extSelector);\n\t}\n\n\tconst elementRect = getRect(element);\n\n\tconst next = getNavigableContainersForNode(element)\n\t\t.reduceRight((result, containerId, index, elementContainerIds) => {\n\t\t\tresult = result || getTargetInContainerByDirectionFromElement(\n\t\t\t\tdirection,\n\t\t\t\tcontainerId,\n\t\t\t\telement,\n\t\t\t\telementRect,\n\t\t\t\telementContainerIds\n\t\t\t);\n\n\t\t\tif (!result) {\n\t\t\t\tresult = getLeaveForTarget(containerId, direction);\n\n\t\t\t\t// To support a `leaveFor` configuration with navigation disallowed in the current\n\t\t\t\t// `direction`, we return the current element to prevent further searches for a\n\t\t\t\t// target in this reduction.\n\t\t\t\tif (result === false) {\n\t\t\t\t\tresult = element;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}, null);\n\n\t// if the reduce above returns the original element, it means it hit a `leaveFor` config that\n\t// prevents navigation so we enforce that here by returning null.\n\treturn next !== element ? next : null;\n}\n\nfunction getTargetByDirectionFromPosition (direction, position, containerId) {\n\tconst pointerRect = getPointRect(position);\n\n\treturn getNavigableContainersForNode(getContainerNode(containerId))\n\t\t.reduceRight((result, id, index, elementContainerIds) => {\n\t\t\treturn result ||\n\t\t\t\tgetTargetInContainerByDirectionFromPosition(\n\t\t\t\t\tdirection,\n\t\t\t\t\tid,\n\t\t\t\t\tpointerRect,\n\t\t\t\t\telementContainerIds\n\t\t\t\t);\n\t\t}, null);\n}\n\n/**\n * Returns the target identified by the selector configured for the container identified by\n * `containerId` for the given `direction`. If the selector is an empty string, the method returns\n * `false` indicating that navigation isn't allowed out of the container in that direction.\n *\n * @param   {String}        containerId  Identifier for a container\n * @param   {String}        direction    Direction to navigate (up, down, left, right)\n *\n * @returns {Node|Boolean}               Target, if found, or `false` if navigation is disallowed\n * @private\n */\nfunction getLeaveForTarget (containerId, direction) {\n\tconst config = getContainerConfig(containerId);\n\n\tif (config) {\n\t\tconst target = config.restrict !== 'self-only' && config.leaveFor && config.leaveFor[direction];\n\t\tif (typeof target === 'string') {\n\t\t\tif (target === '') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn getTargetBySelector(target);\n\t\t}\n\n\t\tconst nextContainerIds = getContainersForNode(target);\n\t\tif (isNavigable(target, last(nextContainerIds))) {\n\t\t\treturn target;\n\t\t}\n\t}\n\n\treturn null;\n}\n\nfunction getNavigableTarget (target) {\n\tif (target === document) return null;\n\n\tlet parent;\n\twhile (target && (isContainer(target) || !isFocusable(target))) {\n\t\tparent = target.parentNode;\n\t\ttarget = parent === document ? null : parent; // calling isNavigable on document is problematic\n\t}\n\treturn target;\n}\n\nconst getOffsetDistanceToTargetFromPosition = (distance, direction, {x, y}, {left, right, top, bottom}) => {\n\tif (direction === 'left' || direction === 'right') {\n\t\tif (y > bottom) {\n\t\t\tdistance += y - bottom;\n\t\t} else if (y < top) {\n\t\t\tdistance += top - y;\n\t\t}\n\t} else if (x > right) {\n\t\tdistance += x - right;\n\t} else if (x < left) {\n\t\tdistance += left - x;\n\t}\n\n\treturn distance;\n};\n\nconst getDistanceToTargetFromPosition = (direction, position, elementRect) => {\n\tconst {x, y} = position;\n\tlet distance;\n\n\tif (direction === 'left') {\n\t\tdistance = x - elementRect.right;\n\t} else if (direction === 'right') {\n\t\tdistance = elementRect.left - x;\n\t} else if (direction === 'up') {\n\t\tdistance = y - elementRect.bottom;\n\t} else if (direction === 'down') {\n\t\tdistance = elementRect.top - y;\n\t}\n\n\treturn getOffsetDistanceToTargetFromPosition(clamp(0, Math.abs(distance), distance), direction, position, elementRect);\n};\n\nconst getNearestTargetsInContainerFromPosition = (position, containerId) => {\n\treturn ['up', 'left', 'right', 'down'].reduce((result, direction) => {\n\t\tconst target = getTargetByDirectionFromPosition(direction, position, containerId);\n\n\t\tif (target) {\n\t\t\tresult.push({\n\t\t\t\tdirection,\n\t\t\t\ttarget\n\t\t\t});\n\t\t}\n\n\t\treturn result;\n\t}, []);\n};\n\nconst getNearestTargetInContainerFromPosition = (position, containerId) => {\n\tconst targets = getNearestTargetsInContainerFromPosition(position, containerId);\n\n\tif (!targets.length) {\n\t\treturn;\n\t}\n\n\ttargets.forEach((item) => {\n\t\tconst {direction, target} = item;\n\t\titem.distance = getDistanceToTargetFromPosition(direction, position, getRect(target));\n\t});\n\n\ttargets.sort((a, b) => a.distance - b.distance);\n\treturn targets[0].target;\n};\n\nconst getNearestTargetFromPosition = (position, containerId) => (\n\tgetNavigableTarget(document.elementFromPoint(position.x, position.y)) ||\n\tgetNearestTargetInContainerFromPosition(position, containerId)\n);\n\nexport {\n\tgetNavigableTarget,\n\tgetNearestTargetFromPosition,\n\tgetTargetByContainer,\n\tgetTargetByDirectionFromElement,\n\tgetTargetByDirectionFromPosition,\n\tgetTargetBySelector,\n\tisFocusable\n};\n","/**\n * Exports methods and members for creating and maintaining spotlight containers.\n *\n * @module spotlight/container\n * @private\n */\n\nimport and from 'ramda/src/and';\nimport concat from 'ramda/src/concat';\nimport {coerceArray} from '@enact/core/util';\nimport intersection from 'ramda/src/intersection';\nimport last from 'ramda/src/last';\n\nimport {contains, matchSelector, getContainerRect, getRect, intersects} from './utils';\n\nconst containerAttribute = 'data-spotlight-id';\nconst containerConfigs   = new Map();\nconst containerKey       = 'spotlightId';\nconst disabledKey        = 'spotlightContainerDisabled';\nconst containerPrefix    = 'container-';\nconst containerSelector  = '[data-spotlight-container]';\nconst rootContainerId    = 'spotlightRootDecorator';\nconst reverseDirections = {\n\t'left': 'right',\n\t'up': 'down',\n\t'right': 'left',\n\t'down': 'up'\n};\n\n// Incrementer for container IDs\nlet _ids = 0;\n\nlet _defaultContainerId = '';\nlet _lastContainerId = '';\n\n// Note: an <extSelector> can be one of following types:\n// - a valid selector string for \"querySelectorAll\"\n// - a NodeList or an array containing DOM elements\n// - a single DOM element\n// - a string \"@<containerId>\" to indicate the specified container\n// - a string \"@\" to indicate the default container\nlet GlobalConfig = {\n\t// set to false for unmounted containers to omit them from searches\n\tactive: true,\n\tcontinue5WayHold: false,\n\tdefaultElement: '',     // <extSelector> except \"@\" syntax.\n\tenterTo: '',            // '', 'last-focused', 'default-element'\n\tlastFocusedElement: null,\n\tlastFocusedKey: null,\n\tlastFocusedPersist: (node, all) => {\n\t\tconst container = typeof node === 'string';\n\t\treturn {\n\t\t\tcontainer,\n\t\t\telement: !container,\n\t\t\tkey: container ? node : all.indexOf(node)\n\t\t};\n\t},\n\tlastFocusedRestore: ({container, key}, all) => {\n\t\treturn container ? key : all[key];\n\t},\n\tleaveFor: null,         // {left: <extSelector>, right: <extSelector>, up: <extSelector>, down: <extSelector>}\n\tnavigableFilter: null,\n\tobliqueMultiplier: 5,\n\tonEnterContainer: null,     // @private - notify the container when entering via 5-way\n\tonLeaveContainer: null,      // @private - notify the container when leaving via 5-way\n\tonLeaveContainerFail: null,  // @private - notify the container when failing to leave via 5-way\n\toverflow: false,\n\tpartition: false, // use the container bounds for partitioning when leaving\n\trememberSource: false,\n\trestrict: 'self-first', // 'self-first', 'self-only', 'none'\n\tselector: '',           // can be a valid <extSelector> except \"@\" syntax.\n\tselectorDisabled: false,\n\tstraightMultiplier: 1,\n\tstraightOnly: false,\n\tstraightOverlapThreshold: 0.5,\n\ttabIndexIgnoreList: 'a, input, select, textarea, button, iframe, [contentEditable=true]'\n};\n\n/**\n * Calculates nodes within `node` that match `includeSelector` and do not match `excludeSelector`\n *\n * @param   {Node}    node             DOM Node to query\n * @param   {String}  includeSelector  CSS selector of nodes to include\n * @param   {String}  excludeSelector  CSS selector for nodes to exclude\n *\n * @returns {Node[]}                   Array of nodes\n * @memberof spotlight/container\n * @private\n */\nconst querySelector = (node, includeSelector, excludeSelector) => {\n\tconst include = Array.prototype.slice.call(node.querySelectorAll(includeSelector));\n\tconst exclude = node.querySelectorAll(excludeSelector);\n\n\tfor (let i = 0; i < exclude.length; i++) {\n\t\tconst index = include.indexOf(exclude.item(i));\n\t\tif (index >= 0) {\n\t\t\tinclude.splice(index, 1);\n\t\t}\n\t}\n\n\treturn include;\n};\n\n/**\n * Determines if `node` is a spotlight container\n *\n * @param   {Node}     node   Node to check\n *\n * @returns {Boolean}        `true` if `node` is a spotlight container\n * @memberof spotlight/container\n * @private\n */\nconst isContainerNode = (node) => {\n\treturn node && node.dataset && 'spotlightContainer' in node.dataset;\n};\n\n/**\n * Walks up the node hierarchy calling `fn` on each node that is a container\n *\n * @param   {Node}     node  Node from which to start the search\n * @param   {Function} fn    Called once for each container with the container node as the first\n *                           argument. The return value is accumulated in the array returned by\n *                           `mapContainers`\n *\n * @returns {Array}          Array of values returned by `fn` in order of outermost container to\n *                           innermost container\n * @memberof spotlight/container\n * @private\n */\nconst mapContainers = (node, fn) => {\n\tconst result = [];\n\n\twhile (node && node !== document) {\n\t\tif (isContainerNode(node)) {\n\t\t\tresult.unshift(fn(node));\n\t\t}\n\t\tnode = node.parentNode;\n\t}\n\n\treturn result;\n};\n\n/**\n * Returns the container config for `containerId`\n *\n * @param   {String}  id  Container ID\n *\n * @returns {Object}      Container config\n * @memberof spotlight/container\n * @private\n */\nconst getContainerConfig = (id) => {\n\treturn containerConfigs.get(id);\n};\n\n/**\n * Determines if node or a container id represents a spotlight container\n *\n * @param   {Node|String}  nodeOrId  Node or container ID\n *\n * @returns {Boolean}                `true` if `nodeOrId` represents a spotlight container\n * @memberof spotlight/container\n * @private\n */\nconst isContainer = (nodeOrId) => {\n\tif (typeof nodeOrId === 'string') {\n\t\treturn containerConfigs.has(nodeOrId);\n\t}\n\n\treturn isContainerNode(nodeOrId);\n};\n\n/**\n * Determines if any of the containers at or above `node` are disabled and, if so, returns `false`.\n *\n * @param   {Node}     node  Spottable node or spotlight container\n *\n * @returns {Boolean}        `true` if all container ancestors are enabled\n * @memberof spotlight/container\n * @private\n */\nconst isContainerEnabled = (node) => {\n\treturn mapContainers(node, container => {\n\t\treturn container.dataset[disabledKey] !== 'true';\n\t}).reduce(and, true);\n};\n\n/**\n * Returns the container ID for `node`\n *\n * @param   {Node}    node  Container Node\n *\n * @returns {String}        Container ID\n * @memberof spotlight/container\n * @private\n */\nconst getContainerId = (node) => node.dataset[containerKey];\n\n/**\n * Generates a CSS selector string for a current container if `node` is a container\n *\n * @param   {Node}    node  Container Node\n *\n * @returns {String}        CSS selector\n * @memberof spotlight/container\n * @private\n */\nconst getContainerSelector = (node) => {\n\tif (isContainerNode(node)) {\n\t\treturn `[${containerAttribute}=\"${getContainerId(node)}\"]`;\n\t}\n\n\treturn '';\n};\n\n/**\n * Generates a CSS selector string for containers within `node` if it is a container\n *\n * @param   {Node}    node  Container Node\n *\n * @returns {String}        CSS selector\n * @memberof spotlight/container\n * @private\n */\nconst getSubContainerSelector = (node) => {\n\tif (isContainerNode(node)) {\n\t\treturn `${getContainerSelector(node)} ${containerSelector}`;\n\t}\n\n\treturn containerSelector;\n};\n\n/**\n * Returns the node for a container\n *\n * @param   {String}  containerId  ID of container\n *\n * @returns {Node}                 DOM node of the container\n * @memberof spotlight/container\n * @private\n */\nconst getContainerNode = (containerId) => {\n\tif (!containerId) {\n\t\treturn null;\n\t} else if (containerId === rootContainerId) {\n\t\treturn document;\n\t}\n\n\treturn document.querySelector(`[${containerAttribute}=\"${containerId}\"]`);\n};\n\n/**\n * Calls the `navigableFilter` function for the container if defined.\n *\n * @param   {Node}    node         DOM node to check if it is navigable\n * @param   {String}  containerId  ID of container\n *\n * @returns {Boolean}              `true` if it passes the `navigableFilter` method or if that\n *                                  method is not defined for the container\n * @memberof spotlight/container\n * @private\n */\nconst navigableFilter = (node, containerId) => {\n\tconst config = getContainerConfig(containerId);\n\tif (config && typeof config.navigableFilter === 'function') {\n\t\tif (config.navigableFilter(node, containerId) === false) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n};\n\n/**\n * Determines nodes that are owned by `node` based on `aria-owns`.\n *\n * @param   {Node}   node          Owner\n *\n * @returns {Node[]}               Array of owned nodes\n * @memberof spotlight/container\n * @private\n */\nconst getOwnedNodes = (node, selector) => {\n\t// if node is document, it will not have getAttribute and therefore can't have aria-owns\n\tconst owns = node && node.getAttribute && node.getAttribute('aria-owns');\n\tif (owns) {\n\t\tconst ids = owns.split(' ');\n\t\treturn ids\n\t\t\t.map(id => id && document.getElementById(id))\n\t\t\t.filter(Boolean)\n\t\t\t.filter(n => isContainerNode(n) || matchSelector(selector, n));\n\t}\n\n\treturn [];\n};\n\n/**\n * Determines all spottable elements and containers that are directly contained by the container\n * identified by `containerId` and no other subcontainers.\n *\n * @param   {String}  containerId  ID of container\n *\n * @returns {Node[]}               Array of spottable elements and containers.\n * @memberof spotlight/container\n * @public\n */\nconst getSpottableDescendants = (containerId) => {\n\tconst node = getContainerNode(containerId);\n\n\t// if it's falsy or is a disabled container, return an empty set\n\tif (!node || (isContainerNode(node) && !isContainerEnabled(node))) {\n\t\treturn [];\n\t}\n\n\tconst {selector, selectorDisabled} = getContainerConfig(containerId) || {};\n\n\tif (!selector || selectorDisabled) {\n\t\treturn [];\n\t}\n\n\tconst spottableSelector = selector;\n\tconst subContainerSelector = getSubContainerSelector(node);\n\tconst candidates = querySelector(\n\t\tnode,\n\t\t`${spottableSelector}, ${getContainerSelector(node)} ${containerSelector}:not([data-spotlight-container-disabled=\"true\"])`,\n\t\t`${subContainerSelector} ${spottableSelector}, ${subContainerSelector} ${containerSelector}`\n\t);\n\n\tcandidates.push(...getOwnedNodes(node, selector));\n\n\treturn candidates.filter(n => navigableFilter(n, containerId));\n};\n\n/**\n * Recursively get spottable descendants by including elements within sub-containers that do not\n * have `enterTo` configured\n *\n * @param   {String}    containerId          ID of container\n * @param   {String[]}  [excludedContainers] IDs of containers to exclude from result set\n *\n * @returns {Node[]}                         Array of spottable elements and containers\n * @memberof spotlight/container\n * @private\n */\nconst getDeepSpottableDescendants = (containerId, excludedContainers) => {\n\treturn getSpottableDescendants(containerId)\n\t\t.map(n => {\n\t\t\tif (isContainer(n)) {\n\t\t\t\tconst id = getContainerId(n);\n\t\t\t\tconst config = getContainerConfig(id);\n\t\t\t\tif (excludedContainers && excludedContainers.indexOf(id) >= 0) {\n\t\t\t\t\treturn [];\n\t\t\t\t} else if (config && !config.enterTo) {\n\t\t\t\t\treturn getDeepSpottableDescendants(id, excludedContainers);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn [n];\n\t\t})\n\t\t.reduce(concat, []);\n};\n\n/**\n * Determines if a container allows 5-way key hold to be preserved or not.\n *\n * @param {String} containerId Container Id\n * @returns {Boolean} `true` if a container is 5 way holdable\n * @memberof spotlight/container\n * @private\n */\nconst isContainer5WayHoldable = (containerId) => {\n\tconst config = getContainerConfig(containerId);\n\treturn (config && config.continue5WayHold) || false;\n};\n\n/**\n * Returns an array of ids for containers that wrap the element, in order of outer-to-inner, with\n * the last array item being the immediate container id of the element.\n *\n * @param   {Node}      node  Node from which to start the search\n *\n * @returns {String[]}        Array on container IDs\n * @memberof spotlight/container\n * @private\n */\nfunction getContainersForNode (node) {\n\tconst containers = mapContainers(node, getContainerId);\n\tcontainers.unshift(rootContainerId);\n\n\treturn containers;\n}\n\n/**\n * Returns an array of ids for containers that wrap the element, in order of outer-to-inner, with\n * the last array item being the immediate container id of the element. The container ids are\n * limited to only those between `node` and the first restrict=\"self-only\" container.\n *\n * @param   {Node}      node  Node from which to start the search\n *\n * @returns {String[]}        Array on container IDs\n * @memberof spotlight/container\n * @private\n */\nfunction getNavigableContainersForNode (node) {\n\tconst containerIds = getContainersForNode(node);\n\n\t// find first self-only container id\n\tconst selfOnlyIndex = containerIds\n\t\t.map(getContainerConfig)\n\t\t.filter(config => config != null)\n\t\t.reduceRight((index, config, i) => {\n\t\t\tif (index === -1 && config.restrict === 'self-only') {\n\t\t\t\treturn i;\n\t\t\t}\n\n\t\t\treturn index;\n\t\t}, -1);\n\n\t// if we found one (and it's not the root), slice those off and return\n\tif (selfOnlyIndex > 0) {\n\t\treturn containerIds.slice(selfOnlyIndex);\n\t}\n\n\treturn containerIds;\n}\n\n/**\n * Generates a new unique identifier for a container\n *\n * @returns {String} Container ID\n * @memberof spotlight/container\n * @private\n */\nfunction generateId () {\n\tlet id;\n\t/* eslint no-constant-condition: [\"error\", { \"checkLoops\": false }] */\n\twhile (true) {\n\t\tid = containerPrefix + String(++_ids);\n\t\tif (!isContainer(id)) {\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn id;\n}\n\n/**\n * Merges two container configurations while only allowing keys from `updated` which are defined in\n * `GlobalConfig`\n *\n * @param   {Object}  current  Current container configuration\n * @param   {Object}  updated  Updated configuration which may only be a partial configuration\n *\n * @returns {Object}           Merged configuration\n * @memberof spotlight/container\n * @private\n */\nconst mergeConfig = (current, updated) => {\n\tif (!updated) return current;\n\n\tlet cfg = null;\n\n\tObject.keys(updated).forEach(key => {\n\t\tif (key in GlobalConfig && current[key] !== updated[key]) {\n\t\t\tif (cfg == null) {\n\t\t\t\tcfg = Object.assign({}, current);\n\t\t\t}\n\t\t\tcfg[key] = updated[key];\n\t\t}\n\t});\n\n\treturn cfg || current;\n};\n\n/**\n * Adds or updates a container. When a container id is not specified, it will be generated.\n *\n * @param   {String|Object}  containerIdOrConfig  Either a string container id or a configuration\n *                                                object.\n * @param   {Object}         [config]             Container configuration when `containerIdOrConfig`\n *                                                is a string. When omitted, the container will have\n *                                                the default `GlobalConfig`.\n *\n * @returns {String}                              The container id\n * @memberof spotlight/container\n * @public\n */\nconst configureContainer = (...args) => {\n\tlet containerId, config;\n\n\tif (typeof args[0] === 'object') {\n\t\tconfig = args[0];\n\t\tcontainerId = config.id;\n\t} else if (typeof args[0] === 'string') {\n\t\tcontainerId = args[0];\n\t\tif (typeof args[1] === 'object') {\n\t\t\tconfig = args[1];\n\t\t}\n\t}\n\n\tif (!containerId) {\n\t\tcontainerId = generateId();\n\t}\n\n\tconfig = mergeConfig(containerConfigs.get(containerId) || {...GlobalConfig}, config);\n\tcontainerConfigs.set(containerId, config);\n\n\treturn containerId;\n};\n\n/**\n * Adds a container and marks it active. When a container id is not specified, it will be generated.\n *\n * @param   {String|Object}  containerIdOrConfig  Either a string container id or a configuration\n *                                                object.\n * @param   {Object}         [config]             Container configuration when `containerIdOrConfig`\n *                                                is a string. When omitted, the container will have\n *                                                the default `GlobalConfig`.\n *\n * @returns {String}                              The container id\n * @memberof spotlight/container\n * @public\n */\nconst addContainer = (...args) => {\n\tconst containerId = configureContainer(...args);\n\tconst config = getContainerConfig(containerId);\n\tconfig.active = true;\n\n\treturn containerId;\n};\n\n/**\n * Removes a container\n *\n * @param   {String}     containerId  ID of the container to remove\n *\n * @returns {undefined}\n * @memberof spotlight/container\n * @public\n */\nconst removeContainer = (containerId) => {\n\tcontainerConfigs.delete(containerId);\n};\n\n/**\n * Removes all containers\n *\n * @returns {undefined}\n * @memberof spotlight/container\n * @public\n */\nconst removeAllContainers = () => {\n\tcontainerConfigs.clear();\n};\n\n/**\n * Configures the `GlobalConfig` for containers\n *\n * @param   {Object}  config  New global configuration. Cannot introduce new keys\n *\n * @returns {undefined}\n * @memberof spotlight/container\n * @public\n */\nconst configureDefaults = (config) => {\n\tGlobalConfig = mergeConfig(GlobalConfig, config);\n};\n\n/**\n * Determines if `node` is a navigable element within the container identified by `containerId`.\n *\n * @param   {Node}     node         DOM node to check if it is navigable\n * @param   {String}   containerId  ID of the container containing `node`\n * @param   {Boolean}  verify       `true` to verify the node matches the container's `selector`\n *\n * @returns {Boolean}               `true` if `node` is navigable\n * @memberof spotlight/container\n * @public\n */\nconst isNavigable = (node, containerId, verify) => {\n\tif (!node || (\n\t\t// jsdom reports all nodes as having no size so we must skip this condition in our tests\n\t\tprocess.env.NODE_ENV !== 'test' &&\n\t\tnode.offsetWidth <= 0 && node.offsetHeight <= 0\n\t)) {\n\t\treturn false;\n\t}\n\n\tconst containerNode = getContainerNode(containerId);\n\tif (containerNode !== document && containerNode.dataset[disabledKey] === 'true') {\n\t\treturn false;\n\t}\n\n\tconst config = getContainerConfig(containerId);\n\tif (verify && config && config.selector && !isContainer(node) && !matchSelector(config.selector, node)) {\n\t\treturn false;\n\t}\n\n\treturn navigableFilter(node, containerId);\n};\n\n/**\n * Returns the IDs of all containers\n *\n * @returns {String[]}  Array of container IDs\n * @memberof spotlight/container\n * @private\n */\nconst getAllContainerIds = () => {\n\tconst ids = [];\n\tconst keys = containerConfigs.keys();\n\n\t// PhantomJS-friendly iterator->array conversion\n\tlet id;\n\twhile ((id = keys.next()) && !id.done) {\n\t\tif (isActiveContainer(id.value)) {\n\t\t\tids.push(id.value);\n\t\t}\n\t}\n\n\treturn ids;\n};\n\n/**\n * Returns the default focus element for a container\n *\n * @param   {String}                             containerId        ID of container\n * @param   {('last-focused'|'default-element')} [preferredEnterTo] Prefer the given enterTo\n *                                                                  configuration\n *\n * @returns {Node|null}                 Default focus element\n * @memberof spotlight/container\n * @public\n */\nfunction getContainerDefaultElement (containerId, preferredEnterTo) {\n\tconst config = getContainerConfig(containerId);\n\n\tlet defaultElementSelector = config && config.defaultElement;\n\tif (!defaultElementSelector) {\n\t\treturn null;\n\t}\n\n\tdefaultElementSelector = coerceArray(defaultElementSelector);\n\n\t// If a preferred enterTo has been provided, we will favor it by making it first in search array\n\tif (preferredEnterTo && typeof preferredEnterTo === 'string' && preferredEnterTo !== 'default-element') {\n\t\tdefaultElementSelector.unshift(preferredEnterTo);\n\t}\n\n\tconst spottables = getDeepSpottableDescendants(containerId);\n\n\treturn defaultElementSelector.reduce((result, selector) => {\n\t\tif (result) {\n\t\t\treturn result;\n\t\t}\n\n\t\tif (typeof selector === 'string') {\n\t\t\treturn spottables.filter(elem => {\n\t\t\t\treturn matchSelector(selector, elem) && isNavigable(elem, containerId, true);\n\t\t\t})[0];\n\t\t}\n\n\t\t// FIXME: There is some prior implicit support for `defaultElement` to be an element rather\n\t\t// than a selector. This continues that support but should eventually be removed.\n\t\treturn selector;\n\t}, null);\n}\n\n/**\n * Gets the element last focused within the container.\n *\n * @param   {String}       containerId  ID of container\n *\n * @returns {Node|String|null}               DOM Node last focused\n * @memberof spotlight/container\n * @public\n */\nfunction getContainerLastFocusedElement (containerId) {\n\tconst config = getContainerConfig(containerId);\n\n\tif (!config || !config.lastFocusedElement) {\n\t\treturn null;\n\t}\n\n\t// lastFocusedElement may be a container ID so try to convert it to a node to test navigability\n\tconst {lastFocusedElement} = config;\n\tlet node = lastFocusedElement;\n\tif (typeof node === 'string') {\n\t\tnode = getContainerNode(lastFocusedElement);\n\t}\n\n\treturn isNavigable(node, containerId, true) ? lastFocusedElement : null;\n}\n\n/**\n * Sets the element last focused within the container\n *\n * @param   {Node}      node         DOM node last focused\n * @param   {String[]}  containerId  ID of container\n *\n * @returns {undefined}\n * @memberof spotlight/container\n * @public\n */\nfunction setContainerLastFocusedElement (node, containerIds) {\n\tlet lastFocusedElement = node;\n\tfor (let i = containerIds.length - 1; i > -1; i--) {\n\t\tconst id = containerIds[i];\n\t\tconfigureContainer(id, {lastFocusedElement});\n\n\t\t// If any container in the stack is controlling entering focus, use its container id as the\n\t\t// lastFocusedElement instead of the node\n\t\tconst config = getContainerConfig(id);\n\t\tif (config.enterTo) {\n\t\t\tlastFocusedElement = id;\n\t\t}\n\t}\n}\n\n/**\n * Returns all navigable nodes (spottable nodes or containers) visible from outside the container.\n * If the container is restricting navigation into itself via `enterTo`, this method will attempt to\n * return that element as the only element in an array. If that fails or if navigation is not\n * restricted, it will return an array of all possible navigable nodes.\n *\n * @param   {String}                             containerId        Container ID\n * @param   {('last-focused'|'default-element')} [preferredEnterTo] Prefer the given enterTo\n *                                                                  configuration\n *\n * @returns {Node[]}             Navigable elements within container\n * @memberof spotlight/container\n * @public\n */\nfunction getContainerNavigableElements (containerId, preferredEnterTo) {\n\tif (!isContainer(containerId)) {\n\t\treturn [];\n\t}\n\n\tconst config = getContainerConfig(containerId);\n\tconst {enterTo, overflow} = config;\n\n\tconst enterLast = preferredEnterTo === 'last-focused' || (enterTo === 'last-focused' && !preferredEnterTo);\n\tlet next;\n\n\t// if the container has a preferred entry point, try to find it first\n\tif (enterLast) {\n\t\tnext = getContainerLastFocusedElement(containerId);\n\t}\n\n\t// try default element if last focused can't be focused\n\tif (!next) {\n\t\tnext = getContainerDefaultElement(containerId, preferredEnterTo);\n\t}\n\n\tif (!next) {\n\t\tlet spottables = overflow ?\n\t\t\t// overflow requires deep recursion to handle selecting the children of unrestricted\n\t\t\t// containers or restricted containers larger than the container\n\t\t\tgetDeepSpottableDescendants(containerId) :\n\t\t\tgetSpottableDescendants(containerId);\n\n\t\t// if there isn't a preferred entry on an overflow container, filter the visible elements\n\t\tif (overflow) {\n\t\t\tconst containerRect = getContainerRect(containerId);\n\t\t\tnext = containerRect && spottables.filter(element => {\n\t\t\t\tconst elementRect = getRect(element);\n\t\t\t\tif (isContainer(element)) {\n\t\t\t\t\treturn intersects(containerRect, elementRect);\n\t\t\t\t}\n\n\t\t\t\treturn contains(containerRect, getRect(element));\n\t\t\t});\n\t\t}\n\n\t\t// otherwise, return all spottables within the container\n\t\tif (!next) {\n\t\t\tnext = spottables;\n\t\t}\n\t}\n\n\treturn next ? coerceArray(next) : [];\n}\n\n/**\n * Determines the preferred focus target, traversing any sub-containers as necessary, for the given\n * container.\n *\n * @param   {String}                             containerId        ID of container\n * @param   {('last-focused'|'default-element')} [preferredEnterTo] Prefer the given enterTo\n *                                                                  configuration\n *\n * @returns {Node}                 Preferred target as either a DOM node or container-id\n * @memberof spotlight/container\n * @public\n */\nfunction getContainerFocusTarget (containerId, preferredEnterTo) {\n\t// deferring restoration until it's requested to allow containers to prepare first\n\trestoreLastFocusedElement(containerId);\n\n\tlet next = getContainerNavigableElements(containerId, preferredEnterTo);\n\t// If multiple candidates returned, we need to find the first viable target since some may\n\t// be empty containers which should be skipped.\n\treturn next.reduce((result, element) => {\n\t\tif (result) {\n\t\t\treturn result;\n\t\t} else if (isContainer(element)) {\n\t\t\tconst nextId = isContainerNode(element) ? getContainerId(element) : element;\n\t\t\treturn getContainerFocusTarget(nextId);\n\t\t}\n\n\t\treturn element;\n\t}, null) || null;\n}\n\nfunction getContainerPreviousTarget (containerId, direction, destination) {\n\tconst config = getContainerConfig(containerId);\n\n\tif (config &&\n\t\tconfig.rememberSource &&\n\t\tconfig.previous &&\n\t\tconfig.previous.reverse === direction &&\n\t\tconfig.previous.destination === destination\n\t) {\n\t\treturn config.previous.target;\n\t}\n}\n\nfunction setContainerPreviousTarget (containerId, direction, destination, target) {\n\tconst config = getContainerConfig(containerId);\n\n\tif (config && config.rememberSource) {\n\t\tconfigureContainer(containerId, {\n\t\t\tprevious: {\n\t\t\t\ttarget,\n\t\t\t\tdestination,\n\t\t\t\treverse: reverseDirections[direction]\n\t\t\t}\n\t\t});\n\t}\n}\n\n/**\n * Saves the last focused element into `lastFocusedKey` using a container-defined serialization\n * method configured in `lastFocusedPersist`.\n *\n * @param   {String}     containerId  ID of container\n *\n * @returns {undefined}\n * @memberof spotlight/container\n * @public\n */\nfunction persistLastFocusedElement (containerId) {\n\tconst cfg = getContainerConfig(containerId);\n\tif (cfg) {\n\t\tconst {lastFocusedElement} = cfg;\n\t\tif (lastFocusedElement) {\n\t\t\tconst all = getDeepSpottableDescendants(containerId);\n\t\t\tconst lastFocusedKey = cfg.lastFocusedPersist(lastFocusedElement, all);\n\n\t\t\t// store lastFocusedKey and release node reference to lastFocusedElement\n\t\t\tcfg.lastFocusedKey = lastFocusedKey;\n\t\t\tcfg.lastFocusedElement = null;\n\t\t}\n\t}\n}\n\n/**\n * Restores the last focused element from `lastFocusedKey` using a container-defined deserialization\n * method configured in `lastFocusedRestore`.\n *\n * @param   {String}     containerId  ID of container\n *\n * @returns {undefined}\n * @memberof spotlight/container\n * @public\n */\nfunction restoreLastFocusedElement (containerId) {\n\tconst cfg = getContainerConfig(containerId);\n\tif (cfg && cfg.lastFocusedKey) {\n\t\tconst all = getDeepSpottableDescendants(containerId);\n\t\tconst lastFocusedElement = cfg.lastFocusedRestore(cfg.lastFocusedKey, all);\n\n\t\t// restore lastFocusedElement and release lastFocusedKey\n\t\tcfg.lastFocusedKey = null;\n\t\tcfg.lastFocusedElement = lastFocusedElement;\n\t}\n}\n\nfunction unmountContainer (containerId) {\n\tconst config = getContainerConfig(containerId);\n\n\tif (config) {\n\t\tconfig.active = false;\n\t\tpersistLastFocusedElement(containerId);\n\n\t\tif (typeof config.defaultElement !== 'string') {\n\t\t\tconfig.defaultElement = null;\n\t\t}\n\t}\n}\n\nfunction isActiveContainer (containerId) {\n\tconst config = getContainerConfig(containerId);\n\treturn config && config.active;\n}\n\n/**\n * Determines if the provided container has a configured restriction.\n *\n * By default, returns `true` for `'self-only'` restrictions but the type of restriction can be\n * passed as well.\n *\n * @param {String} containerId The container id\n * @param {String} [restrict] The container restriction defaulted to `'self-only'`\n * @returns {Boolean} `true` if the container has the specified restriction\n * @private\n */\nfunction isRestrictedContainer (containerId, restrict = 'self-only') {\n\tconst config = getContainerConfig(containerId);\n\n\treturn Boolean(config && config.restrict === restrict);\n}\n\n/**\n * Determines if `innerContainerId` is inside `outerContainerId`.\n *\n * @param {String} outerContainerId The outer container id\n * @param {String} innerContainerId The inner container id\n * @returns {Boolean} `true` if both containers exist and `innerContainerId` is within\n *                    `outerContainerId`\n * @private\n */\nfunction containsContainer (outerContainerId, innerContainerId) {\n\tconst outer = getContainerNode(outerContainerId);\n\tconst inner = getContainerNode(innerContainerId);\n\n\treturn Boolean(outer && inner && outer.contains(inner));\n}\n\n/**\n * Determines if `containerId` may become the active container.\n *\n * @param {String} containerId Spotlight container to which focus is leaving\n * @returns\t{Boolean} `true` if the active container can change to `containerId`\n * @private\n */\nfunction mayActivateContainer (containerId) {\n\tconst currentContainerId = getLastContainer();\n\n\t// If the current container is restricted to 'self-only' and if the next container to be\n\t// activated is not inside the currently activated container, the next container should not be\n\t// activated.\n\treturn (\n\t\t!isRestrictedContainer(currentContainerId) ||\n\t\tcontainsContainer(currentContainerId, containerId)\n\t);\n}\n\nfunction getDefaultContainer () {\n\treturn isActiveContainer(_defaultContainerId) ? _defaultContainerId : '';\n}\n\nfunction setDefaultContainer (containerId) {\n\tif (!containerId) {\n\t\t_defaultContainerId = '';\n\t} else if (!getContainerConfig(containerId)) {\n\t\tthrow new Error('Container \"' + containerId + '\" doesn\\'t exist!');\n\t} else {\n\t\t_defaultContainerId = containerId;\n\t}\n}\n\nfunction getLastContainer () {\n\treturn isActiveContainer(_lastContainerId) ? _lastContainerId : '';\n}\n\nfunction setLastContainer (containerId) {\n\t_lastContainerId = containerId || '';\n}\n\n/**\n * Updates the last container based on the current focus and target focus.\n *\n * @param {Node} current Currently focused node\n * @param {Node} target  Target node. May or may not be focusable\n * @memberof spotlight/container\n * @public\n */\nfunction setLastContainerFromTarget (current, target) {\n\tconst currentContainers = getNavigableContainersForNode(current);\n\tconst currentOuterContainerId = currentContainers[0];\n\tconst currentContainerConfig = getContainerConfig(currentOuterContainerId);\n\tconst targetContainers = getContainersForNode(target);\n\tconst targetInnerContainer = last(targetContainers);\n\n\tconst sharedContainer = last(intersection(currentContainers, targetContainers));\n\n\tif (sharedContainer || !currentContainerConfig || currentContainerConfig.restrict !== 'self-only') {\n\t\t// If the target shares a container with the current container stack or the current\n\t\t// element isn't within a self-only container, use the target's nearest container\n\t\tsetLastContainer(targetInnerContainer);\n\t} else {\n\t\t// Otherwise, the target is not within the current container stack and the current\n\t\t// element was within a 'self-only' container, use the current's outer container\n\t\tsetLastContainer(currentOuterContainerId);\n\t}\n}\n\nfunction isWithinOverflowContainer (target, containerIds = getContainersForNode(target)) {\n\treturn containerIds\n\t\t// ignore the root container id which is set to overflow by the root decorator\n\t\t.filter(id => id !== rootContainerId)\n\t\t// get the config for each container\n\t\t.map(getContainerConfig)\n\t\t// and check if any are set to overflow\n\t\t.some(config => config && config.overflow);\n}\n\n/**\n * Notifies any affected containers that focus has left one of their children for another container\n *\n * @param {String} direction up/down/left/right\n * @param {Node} current currently focused element\n * @param {String[]} currentContainerIds Containers for current\n * @param {Node} next To be focused element\n * @param {String[]} nextContainerIds Containers for next\n * @private\n */\nfunction notifyLeaveContainer (direction, current, currentContainerIds, next, nextContainerIds) {\n\tcurrentContainerIds.forEach(containerId => {\n\t\tif (!nextContainerIds.includes(containerId)) {\n\t\t\tconst config = getContainerConfig(containerId);\n\n\t\t\tif (config && config.onLeaveContainer) {\n\t\t\t\tconfig.onLeaveContainer({\n\t\t\t\t\ttype: 'onLeaveContainer',\n\t\t\t\t\tdirection,\n\t\t\t\t\ttarget: current,\n\t\t\t\t\trelatedTarget: next\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n}\n\n/**\n * Notifies any containers that focus attempted to move but failed to find a target\n *\n * @param {String} direction up/down/left/right\n * @param {Node} current currently focused element\n * @param {String[]} currentContainerIds Containers for current\n * @private\n */\nfunction notifyLeaveContainerFail (direction, current, currentContainerIds) {\n\tcurrentContainerIds.forEach(containerId => {\n\t\tconst config = getContainerConfig(containerId);\n\n\t\tif (config && config.onLeaveContainerFail) {\n\t\t\tconfig.onLeaveContainerFail({\n\t\t\t\ttype: 'onLeaveContainerFail',\n\t\t\t\tdirection,\n\t\t\t\ttarget: current\n\t\t\t});\n\t\t}\n\t});\n}\n\n/**\n * Notifies any affected containers that one of their children has received focus.\n *\n * @param {String} direction up/down/left/right\n * @param {Node} previous Previously focused element\n * @param {String[]} previousContainerIds Containers for previous\n * @param {Node} current Currently focused element\n * @param {String[]} currentContainerIds Containers for current\n * @private\n */\nfunction notifyEnterContainer (direction, previous, previousContainerIds, current, currentContainerIds) {\n\tcurrentContainerIds.forEach(containerId => {\n\t\tif (!previousContainerIds.includes(containerId)) {\n\t\t\tconst config = getContainerConfig(containerId);\n\n\t\t\tif (config && config.onEnterContainer) {\n\t\t\t\tconfig.onEnterContainer({\n\t\t\t\t\ttype: 'onEnterContainer',\n\t\t\t\t\tdirection,\n\t\t\t\t\ttarget: current,\n\t\t\t\t\trelatedTarget: previous\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n}\n\nexport {\n\t// Remove\n\tgetAllContainerIds,\n\tgetContainerNode,\n\n\t// Maybe\n\tgetContainerConfig,\n\tgetContainerDefaultElement,\n\tgetContainerLastFocusedElement,\n\tgetContainerNavigableElements,\n\tgetContainersForNode,\n\tisContainer5WayHoldable,\n\tsetContainerLastFocusedElement,\n\n\t// Keep\n\taddContainer,\n\tcontainerAttribute,\n\tconfigureDefaults,\n\tconfigureContainer,\n\tgetContainerFocusTarget,\n\tgetContainerId,\n\tgetContainerPreviousTarget,\n\tgetDefaultContainer,\n\tgetLastContainer,\n\tgetNavigableContainersForNode,\n\tgetSpottableDescendants,\n\tisContainer,\n\tisNavigable,\n\tisWithinOverflowContainer,\n\tmayActivateContainer,\n\tnotifyLeaveContainer,\n\tnotifyLeaveContainerFail,\n\tnotifyEnterContainer,\n\tremoveAllContainers,\n\tremoveContainer,\n\trootContainerId,\n\tsetContainerPreviousTarget,\n\tsetDefaultContainer,\n\tsetLastContainer,\n\tsetLastContainerFromTarget,\n\tunmountContainer\n};\n","import 'core-js';\nimport {addParameters, addDecorator} from '@storybook/react';\nimport {create} from '@storybook/theming';\nimport {withInfo} from '@enact/storybook-utils/addons/info';\nimport configure from '../src/configure';\n\nconst stories = require.context('../stories/default', false, /.js$/);\n\naddParameters({\n\toptions: {\n\t\ttheme: create({\n\t\t\tbase: 'dark',\n\t\t\tbrandTitle: 'AGATE SAMPLER',\n\t\t\tbrandUrl: 'http://enactjs.com/',\n\t\t\tbrandImage: 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MDAiIGhlaWdodD0iNzAwIiB2aWV3Qm94PSIwIDAgNzAwIDcwMCI+PGRlZnM+PHN0eWxlPi5hLC5ie2ZpbGw6I2ZmZjt9LmJ7b3BhY2l0eTowLjg7fTwvc3R5bGU+PC9kZWZzPjxwb2x5Z29uIGNsYXNzPSJhIiBwb2ludHM9IjM0OS45IDUyNy44IDE5OS45IDQyOS44IDE5OS45IDM3NC40IDM1MC4xIDQ3Mi43IDM0OS45IDM0OC41IDE5OS45IDI2MS4xIDE5OS45IDIwOS4zIDM1MCAyOTMuNiAzNTAgMjkzLjYgMzUwLjIgMjkzLjcgMzQ5LjkgMTY5LjMgMTAyLjcgNDguNSAxMDIuNyA0NzIuNiAzNTAuMSA2NTEuNiAzNDkuOSA1MjcuOCIvPjxwb2x5Z29uIGNsYXNzPSJiIiBwb2ludHM9IjM1MC4xIDY1MS42IDU5Ny4zIDQ3Mi44IDU5Ny4zIDM2Ni4zIDM0OS45IDUyNy44IDM1MC4xIDY1MS42Ii8+PHBvbHlnb24gY2xhc3M9ImIiIHBvaW50cz0iMzUwLjEgNDcyLjcgNTIzLjUgMzU5LjMgNTIzLjUgMjQ3LjQgMzQ5LjkgMzQ4LjUgMzUwLjEgNDcyLjciLz48cG9seWdvbiBjbGFzcz0iYiIgcG9pbnRzPSIzNTAgMjkzLjYgMzUwIDI5My42IDM1MC4yIDI5My43IDU5Ny4zIDE1NC44IDU5Ny4zIDQ4LjQgMzQ5LjkgMTY5LjMgMzUwIDI5My42Ii8+PC9zdmc+'\n\t\t}),\n\t\tisFullscreen: false,\n\t\tshowNav: true,\n\t\tshowPanel: true,\n\t\tpanelPosition: 'bottom'\n\t}\n});\n\naddDecorator(withInfo());\n\nconfigure(stories, module);\n","import {forProp, handle, not, stop} from '@enact/core/handle';\n\nimport {hasPointerMoved} from '../src/pointer';\nimport Spotlight from '../src/spotlight';\n\nconst isNewPointerPosition = (ev) => hasPointerMoved(ev.clientX, ev.clientY);\n\nclass SpotlightContainer {\n\t// set up context and props so we can use handle binding\n\tcontext = {};\n\tprops = {};\n\n\tconstructor ({containerConfig, navigableFilter, preserveId}) {\n\t\t// spotlight id - set either via props or generated by Spotlight\n\t\tthis.id = null;\n\n\t\t// Preserve the spotlight id across instances when it is set via props and preserveId is set\n\t\tthis.canPreserveId = preserveId;\n\t\tthis.preserveId = false;\n\n\t\t// container config - set once when the container is added\n\t\tthis.config = containerConfig;\n\n\t\t// optional filter function to limit the spottable candidates for this container\n\t\tthis.filter = navigableFilter;\n\n\t\t// private hash of spotlight DOM attributes\n\t\tthis.attr = {\n\t\t\t'data-spotlight-container': true\n\t\t};\n\n\t\t// Used to indicate that we want to stop propagation on blur events that occur as a\n\t\t// result of this component imperatively blurring itself on focus when spotlightDisabled\n\t\tthis.shouldPreventBlur = false;\n\t}\n\n\tget attributes () {\n\t\treturn this.attr;\n\t}\n\n\tsetProps (props) {\n\t\tconst {disabled, id, muted, restrict} = props;\n\t\tthis.props = props;\n\n\t\tif (this.id == null || (id && this.id !== id)) {\n\t\t\tif (this.id) {\n\t\t\t\tthis.releaseContainer(this.id);\n\t\t\t}\n\n\t\t\tthis.id = Spotlight.add({\n\t\t\t\t...this.config,\n\t\t\t\tid,\n\t\t\t\trestrict,\n\t\t\t\tnavigableFilter: this.navigableFilter\n\t\t\t});\n\t\t\tthis.preserveId = this.canPreserveId && this.id === id;\n\t\t} else {\n\t\t\tSpotlight.set(this.id, {restrict});\n\t\t}\n\n\t\tthis.attr['data-spotlight-id'] = this.id;\n\t\tthis.attr['data-spotlight-container-disabled'] = disabled;\n\t\tthis.attr['data-spotlight-container-muted'] = muted;\n\t}\n\n\tunload () {\n\t\tthis.releaseContainer();\n\t}\n\n\treleaseContainer () {\n\t\tif (this.preserveId) {\n\t\t\tSpotlight.unmount(this.id);\n\t\t} else {\n\t\t\tSpotlight.remove(this.id);\n\t\t}\n\t}\n\n\tnavigableFilter = (elem) => {\n\t\t// If the component to which this was applied specified a navigableFilter, run it\n\t\tif (typeof this.filter === 'function') {\n\t\t\tif (this.filter(elem) === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tsilentBlur ({target}) {\n\t\tthis.shouldPreventBlur = true;\n\t\ttarget.blur();\n\t\tthis.shouldPreventBlur = false;\n\t}\n\n\tonBlurCapture = (ev) => {\n\t\tif (this.shouldPreventBlur) {\n\t\t\tstop(ev);\n\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tonFocusCapture = (ev) => {\n\t\tif (this.props.disabled === true) {\n\t\t\tstop(ev);\n\t\t\tthis.silentBlur(ev);\n\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tonPointerEnter = handle(\n\t\tisNewPointerPosition,\n\t\t() => Spotlight.setActiveContainer(this.id)\n\t).bindAs(this, 'onPointerEnter');\n\n\tonPointerLeave = handle(\n\t\tnot(forProp('restrict', 'self-only')),\n\t\tisNewPointerPosition,\n\t\t(ev) => {\n\t\t\tconst parentContainer = ev.currentTarget.parentNode.closest('[data-spotlight-container]');\n\t\t\tlet activeContainer = Spotlight.getActiveContainer();\n\n\t\t\t// if this container is wrapped by another and this is the currently active\n\t\t\t// container, move the active container to the parent\n\t\t\tif (parentContainer && activeContainer === this.id) {\n\t\t\t\tactiveContainer = parentContainer.dataset.spotlightId;\n\t\t\t\tSpotlight.setActiveContainer(activeContainer);\n\t\t\t}\n\t\t}\n\t).bindAs(this, 'onPointerLeave');\n}\n\nexport default SpotlightContainer;\nexport {\n\tSpotlightContainer\n};\n","import useClass from '@enact/core/useClass';\nimport React from 'react';\n\nimport SpotlightContainer from './SpotlightContainer';\n\n/**\n * Configuration for `useSpotlightContainer`\n *\n * @typedef {Object} useSpotlightContainerConfig\n * @memberof spotlight/SpotlightContainerDecorator\n * @property {Object}   [containerConfig]                   Spotlight container configuration. This\n *                                                          is a design-time configuration and only\n *                                                          applied once on first render.\n * @property {Function} [navigableFilter]                   Called to determine if a spottable\n *                                                          component is accessible. This is a\n *                                                          design-time configuration and only\n *                                                          applied once on first render.\n * @property {Boolean}  [preserveId]                        Preserves the spotlight `id`, if\n *                                                          specified, when the component unmounts.\n * @property {Boolean}  [disabled]                          Prevents controls in the container from\n *                                                          being navigable. This is a design-time\n *                                                          configuration and only applied once on\n *                                                          first render.\n * @property {Boolean}  [muted]                             Suppresses appearance of focus within\n *                                                          the container while still allowing the\n *                                                          component to gain focus. The components\n *                                                          within the container are responsible for\n *                                                          adjusting their visual appearance based\n *                                                          on the presence of the\n *                                                          `data-spotlight-container-muted`\n *                                                          attribute on an ancestor container.\n * @property {String}   [id]                                Identifies this component within the\n *                                                          Spotlight system. If unset, an id will\n *                                                          be generated.\n * @property {('self-only'|'self-first'|'none')} [restrict] Restricts or prioritizes navigation when\n *                                                          focus attempts to leave the container.\n *                                                          It can be either 'none', 'self-first',\n *                                                          or 'self-only'. Specifying 'self-first'\n *                                                          indicates that elements within the\n *                                                          container will have a higher likelihood\n *                                                          to be chosen as the next navigable\n *                                                          element. Specifying 'self-only'\n *                                                          indicates that elements in other\n *                                                          containers cannot be navigated to by\n *                                                          using 5-way navigation - however,\n *                                                          elements in other containers can still\n *                                                          receive focus by calling\n *                                                          `Spotlight.focus(elem)` explicitly.\n *                                                          Specifying 'none' indicates there should\n *                                                          be no restrictions when 5-way navigating\n *                                                          the container.\n * @private\n */\n\n/**\n * Object returned by `useSpotlightContainer`.\n *\n * @typedef {Object} useSpotlightContainerInterface\n * @memberof spotlight/SpotlightContainerDecorator\n * @property {Function} onBlurCapture    Callback to notify hook when an node was blurred within the\n *                                       container. Must be called during the capture phase of the\n *                                       event flow.\n * @property {Function} onFocusCapture   Callback to notify hook when an node was focused within the\n *                                       container. Must be called during the capture phase of the\n *                                       event flow.\n * @property {String}   attributes       An object of DOM attributes of representing the current\n *                                       spotlight container metadata. Must be passed onto the\n *                                       container node.\n * @property {Function} onPointerEnter   Callback to notify hook when the pointer enters the\n *                                       container. Must be called during the capture phase of the\n *                                       event flow.\n * @property {Function} onPointerLeave   Callback to notify hook when the pointer leaves the\n *                                       container. Must be called during the capture phase of the\n *                                       event flow.\n * @private\n */\n\n/**\n * Support Spotlight container\n *\n * @param {useSpotlightContainerConfig} [config] Configuration options\n * @returns {useSpotlightContainerInterface}\n * @private\n */\nfunction useSpotlightContainer (config = {}) {\n\tconst {disabled, id, muted, restrict, ...rest} = config;\n\n\tconst spotlightContainer = useClass(SpotlightContainer, rest);\n\tspotlightContainer.setProps({\n\t\tdisabled,\n\t\tid,\n\t\tmuted,\n\t\trestrict\n\t});\n\n\tReact.useEffect(() => {\n\t\treturn () => {\n\t\t\tspotlightContainer.unload();\n\t\t};\n\t}, [spotlightContainer]);\n\n\treturn {\n\t\tattributes: spotlightContainer.attributes,\n\t\tonBlurCapture: spotlightContainer.onBlurCapture,\n\t\tonFocusCapture: spotlightContainer.onFocusCapture,\n\t\tonPointerEnter: spotlightContainer.onPointerEnter,\n\t\tonPointerLeave: spotlightContainer.onPointerLeave\n\t};\n}\n\nexport default useSpotlightContainer;\nexport {\n\tuseSpotlightContainer\n};\n","/**\n * A component for managing groups of spottable components.\n *\n * @module spotlight/SpotlightContainerDecorator\n * @exports SpotlightContainerDecorator\n */\n\nimport handle, {forward} from '@enact/core/handle';\nimport useHandlers from '@enact/core/useHandlers';\nimport hoc from '@enact/core/hoc';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport useSpotlightContainer from './useSpotlightContainer';\n\nconst callContext = (name) => (ev, props, context) => context[name](ev, props);\nconst containerHandlers = {\n\tonMouseEnter: handle(\n\t\tforward('onMouseEnter'),\n\t\tcallContext('onPointerEnter')\n\t),\n\tonMouseLeave: handle(\n\t\tforward('onMouseLeave'),\n\t\tcallContext('onPointerLeave')\n\t),\n\tonFocusCapture: handle(\n\t\tcallContext('onFocusCapture'),\n\t\tforward('onFocusCapture')\n\t),\n\tonBlurCapture: handle(\n\t\tcallContext('onBlurCapture'),\n\t\tforward('onBlurCapture')\n\t)\n};\n\n/**\n * The class name to apply to the default component to focus in a container.\n *\n * @memberof spotlight/SpotlightContainerDecorator\n * @public\n */\nconst spotlightDefaultClass = 'spottable-default';\n\n/**\n * Default config for {@link spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator}\n *\n * @memberof spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * When `true`, allows focus to move outside the container to the next spottable element when\n\t * holding 5 way keys.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @memberof spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator.defaultConfig\n\t * @public\n\t */\n\tcontinue5WayHold: false,\n\n\t/**\n\t * The selector for the default spottable element within the container.\n\t *\n\t * @type {String}\n\t * @default '.spottable-default'\n\t * @memberof spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator.defaultConfig\n\t * @public\n\t */\n\tdefaultElement: `.${spotlightDefaultClass}`,\n\n\t/**\n\t * Directs which element receives focus when gaining focus from another container. If\n\t * `'default-element'`, the default focused item will be selected. If `'last-focused'`, the\n\t * container will focus the last focused item; if the container has never had focus, the default\n\t * element will receive focus. If `null`, the default 5-way behavior will be applied.\n\t *\n\t * @type {String}\n\t * @default null\n\t * @memberof spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator.defaultConfig\n\t * @public\n\t */\n\tenterTo: null,\n\n\t/**\n\t * Filter the navigable elements.\n\t *\n\t * @type {Function}\n\t * @memberof spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator.defaultConfig\n\t * @public\n\t */\n\tnavigableFilter: null,\n\n\t/**\n\t * Whether the container will preserve the specified `spotlightId` when it unmounts.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @memberof spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator.defaultConfig\n\t * @public\n\t */\n\tpreserveId: false\n};\n\n/**\n * Constructs a higher-order component that allows Spotlight focus to be passed to its own\n * configurable hierarchy of spottable child controls.\n *\n * Note: This HoC passes a number of props to the wrapped component that should be passed to the\n * main DOM node.\n *\n * Example:\n * ```\n *\tconst Component = ({myProp, ...rest}) => (\n *\t\t<div {...rest}>{myProp}</div>\n *\t);\n *\t...\n *\tconst DefaultContainer = SpotlightContainerDecorator(Component);\n *\tconst FocusDefaultContainer = SpotlightContainerDecorator({enterTo: 'default-element'}, Component);\n * ```\n *\n * To specify a default element to spot in a container, utilize the `spotlightDefaultClass`.\n *\n * Example:\n * ```\n *\timport Spotlight from '@enact/spotlight';\n *\timport SpotlightContainerDecorator from '@enact/spotlight/SpotlightContainerDecorator';\n *\tconst ContainerComponent = SpotlightContainerDecorator(Component);\n *\tconst View = kind({\n *\t\trender: () => {\n *\t\t\t<ContainerComponent>\n *\t\t\t\t<SpottableComponent>foo</SpottableComponent>\n *\t\t\t\t<SpottableComponent className={spotlightDefaultClass}>spot me first</SpottableComponent>\n *\t\t\t</ContainerComponent>\n *\t\t}\n *\t});\n * ```\n * @param  {Object}    defaultConfig  Set of default configuration parameters. Additional parameters\n *                                    are passed as configuration to {@link spotlight/Spotlight.set}\n * @param  {Function} higher-order component\n *\n * @returns {Function} SpotlightContainerDecorator\n * @class SpotlightContainerDecorator\n * @memberof spotlight/SpotlightContainerDecorator\n * @hoc\n */\nconst SpotlightContainerDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {navigableFilter, preserveId, ...containerConfig} = config;\n\n\t// eslint-disable-next-line no-shadow\n\tfunction SpotlightContainerDecorator (props) {\n\t\tconst {spotlightDisabled, spotlightId, spotlightMuted, spotlightRestrict, ...rest} = props;\n\n\t\tconst spotlightContainer = useSpotlightContainer({\n\t\t\tid: spotlightId,\n\t\t\tmuted: spotlightMuted,\n\t\t\tdisabled: spotlightDisabled,\n\t\t\trestrict: spotlightRestrict,\n\n\t\t\tcontainerConfig, // continue5WayHold, defaultElement, and enterTo can be in the containerConfig object.\n\t\t\tnavigableFilter,\n\t\t\tpreserveId\n\t\t});\n\t\tconst handlers = useHandlers(containerHandlers, props, spotlightContainer);\n\n\t\treturn (\n\t\t\t<Wrapped {...rest} {...spotlightContainer.attributes} {...handlers} />\n\t\t);\n\t}\n\n\tSpotlightContainerDecorator.propTypes = /** @lends spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator.prototype */ {\n\t\t/**\n\t\t * When `true`, controls in the container cannot be navigated.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tspotlightDisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Used to identify this component within the Spotlight system.\n\t\t *\n\t\t * If the value is `null`, an id will be generated.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tspotlightId: PropTypes.string,\n\n\t\t/**\n\t\t * Whether or not the container is in muted mode.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tspotlightMuted: PropTypes.bool,\n\n\t\t/**\n\t\t * Restricts or prioritizes navigation when focus attempts to leave the container. It\n\t\t * can be either 'none', 'self-first', or 'self-only'. Specifying 'self-first' indicates that\n\t\t * elements within the container will have a higher likelihood to be chosen as the next\n\t\t * navigable element. Specifying 'self-only' indicates that elements in other containers\n\t\t * cannot be navigated to by using 5-way navigation - however, elements in other containers\n\t\t * can still receive focus by calling `Spotlight.focus(elem)` explicitly. Specifying 'none'\n\t\t * indicates there should be no restrictions when 5-way navigating the container.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tspotlightRestrict: PropTypes.oneOf(['none', 'self-first', 'self-only'])\n\t};\n\n\tSpotlightContainerDecorator.defaultProps = {\n\t\tspotlightDisabled: false,\n\t\tspotlightMuted: false,\n\t\tspotlightRestrict: 'self-first'\n\t};\n\n\t// Wrapping with a React.Component to maintain ref support\n\treturn class SpotlightContainerDecoratorAdapter extends React.Component {\n\t\trender () {\n\t\t\treturn (\n\t\t\t\t<SpotlightContainerDecorator {...this.props} />\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default SpotlightContainerDecorator;\nexport {\n\tSpotlightContainerDecorator,\n\tspotlightDefaultClass,\n\tuseSpotlightContainer\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panels\":\"Panels_panels__3pD3m\",\"viewport\":\"Panels_viewport__c1fSf\",\"controls\":\"Panels_controls__ab0t2\",\"breadcrumbPanels\":\"Panels_breadcrumbPanels__2VcPj\",\"breadcrumbs\":\"Panels_breadcrumbs__3tRlp\",\"breadcrumb\":\"Panels_breadcrumb__Nz15I\",\"breadcrumbContent\":\"Panels_breadcrumbContent__2V_JC\",\"partial\":\"Panels_partial__34_K4\",\"transitioning\":\"Panels_transitioning__3vA9G\"};"],"sourceRoot":""}